var Ext=Ext||{};if(!Ext.Toolbar){Ext.Toolbar={}}if(!Ext.app){Ext.app={}}if(!Ext.app.bind){Ext.app.bind={}}if(!Ext.app.domain){Ext.app.domain={}}if(!Ext.app.route){Ext.app.route={}}if(!Ext.button){Ext.button={}}if(!Ext.chart){Ext.chart={}}if(!Ext.chart.axis){Ext.chart.axis={}}if(!Ext.chart.axis.layout){Ext.chart.axis.layout={}}if(!Ext.chart.axis.segmenter){Ext.chart.axis.segmenter={}}if(!Ext.chart.axis.sprite){Ext.chart.axis.sprite={}}if(!Ext.chart.grid){Ext.chart.grid={}}if(!Ext.chart.interactions){Ext.chart.interactions={}}if(!Ext.chart.label){Ext.chart.label={}}if(!Ext.chart.legend){Ext.chart.legend={}}if(!Ext.chart.legend.sprite){Ext.chart.legend.sprite={}}if(!Ext.chart.legend.store){Ext.chart.legend.store={}}if(!Ext.chart.modifier){Ext.chart.modifier={}}if(!Ext.chart.overrides){Ext.chart.overrides={}}if(!Ext.chart.plugin){Ext.chart.plugin={}}if(!Ext.chart.series){Ext.chart.series={}}if(!Ext.chart.series.sprite){Ext.chart.series.sprite={}}if(!Ext.chart.sprite){Ext.chart.sprite={}}if(!Ext.chart.theme){Ext.chart.theme={}}if(!Ext.container){Ext.container={}}if(!Ext.core){Ext.core={}}if(!Ext.data){Ext.data={}}if(!Ext.data.field){Ext.data.field={}}if(!Ext.data.flash){Ext.data.flash={}}if(!Ext.data.identifier){Ext.data.identifier={}}if(!Ext.data.matrix){Ext.data.matrix={}}if(!Ext.data.operation){Ext.data.operation={}}if(!Ext.data.proxy){Ext.data.proxy={}}if(!Ext.data.reader){Ext.data.reader={}}if(!Ext.data.request){Ext.data.request={}}if(!Ext.data.schema){Ext.data.schema={}}if(!Ext.data.session){Ext.data.session={}}if(!Ext.data.validator){Ext.data.validator={}}if(!Ext.data.writer){Ext.data.writer={}}if(!Ext.dd){Ext.dd={}}if(!Ext.direct){Ext.direct={}}if(!Ext.dom){Ext.dom={}}if(!Ext.dom.Element){Ext.dom.Element={}}if(!Ext.draw){Ext.draw={}}if(!Ext.draw.engine){Ext.draw.engine={}}if(!Ext.draw.engine.SvgContext){Ext.draw.engine.SvgContext={}}if(!Ext.draw.gradient){Ext.draw.gradient={}}if(!Ext.draw.modifier){Ext.draw.modifier={}}if(!Ext.draw.overrides){Ext.draw.overrides={}}if(!Ext.draw.overrides.hittest){Ext.draw.overrides.hittest={}}if(!Ext.draw.overrides.hittest.sprite){Ext.draw.overrides.hittest.sprite={}}if(!Ext.draw.sprite){Ext.draw.sprite={}}if(!Ext.event){Ext.event={}}if(!Ext.event.gesture){Ext.event.gesture={}}if(!Ext.event.publisher){Ext.event.publisher={}}if(!Ext.form){Ext.form={}}if(!Ext.form.Action){Ext.form.Action={}}if(!Ext.form.action){Ext.form.action={}}if(!Ext.form.field){Ext.form.field={}}if(!Ext.form.trigger){Ext.form.trigger={}}if(!Ext.fx){Ext.fx={}}if(!Ext.fx.animation){Ext.fx.animation={}}if(!Ext.fx.easing){Ext.fx.easing={}}if(!Ext.fx.runner){Ext.fx.runner={}}if(!Ext.fx.target){Ext.fx.target={}}if(!Ext.grid){Ext.grid={}}if(!Ext.grid.column){Ext.grid.column={}}if(!Ext.grid.feature){Ext.grid.feature={}}if(!Ext.grid.filters){Ext.grid.filters={}}if(!Ext.grid.filters.filter){Ext.grid.filters.filter={}}if(!Ext.grid.header){Ext.grid.header={}}if(!Ext.grid.locking){Ext.grid.locking={}}if(!Ext.grid.plugin){Ext.grid.plugin={}}if(!Ext.grid.property){Ext.grid.property={}}if(!Ext.grid.selection){Ext.grid.selection={}}if(!Ext.layout){Ext.layout={}}if(!Ext.layout.boxOverflow){Ext.layout.boxOverflow={}}if(!Ext.layout.component){Ext.layout.component={}}if(!Ext.layout.component.field){Ext.layout.component.field={}}if(!Ext.layout.container){Ext.layout.container={}}if(!Ext.layout.container.border){Ext.layout.container.border={}}if(!Ext.layout.container.boxOverflow){Ext.layout.container.boxOverflow={}}if(!Ext.list){Ext.list={}}if(!Ext.locale){Ext.locale={}}if(!Ext.locale.id){Ext.locale.id={}}if(!Ext.locale.id.form){Ext.locale.id.form={}}if(!Ext.locale.id.form.field){Ext.locale.id.form.field={}}if(!Ext.locale.id.grid){Ext.locale.id.grid={}}if(!Ext.locale.id.grid.header){Ext.locale.id.grid.header={}}if(!Ext.locale.id.grid.plugin){Ext.locale.id.grid.plugin={}}if(!Ext.locale.id.picker){Ext.locale.id.picker={}}if(!Ext.locale.id.tab){Ext.locale.id.tab={}}if(!Ext.locale.id.toolbar){Ext.locale.id.toolbar={}}if(!Ext.locale.id.view){Ext.locale.id.view={}}if(!Ext.locale.id.window){Ext.locale.id.window={}}if(!Ext.menu){Ext.menu={}}if(!Ext.mixin){Ext.mixin={}}if(!Ext.overrides){Ext.overrides={}}if(!Ext.overrides.app){Ext.overrides.app={}}if(!Ext.overrides.app.domain){Ext.overrides.app.domain={}}if(!Ext.overrides.dom){Ext.overrides.dom={}}if(!Ext.overrides.event){Ext.overrides.event={}}if(!Ext.overrides.event.publisher){Ext.overrides.event.publisher={}}if(!Ext.overrides.list){Ext.overrides.list={}}if(!Ext.overrides.plugin){Ext.overrides.plugin={}}if(!Ext.overrides.util){Ext.overrides.util={}}if(!Ext.panel){Ext.panel={}}if(!Ext.parse){Ext.parse={}}if(!Ext.parse.symbol){Ext.parse.symbol={}}if(!Ext.perf){Ext.perf={}}if(!Ext.picker){Ext.picker={}}if(!Ext.plugin){Ext.plugin={}}if(!Ext.promise){Ext.promise={}}if(!Ext.resizer){Ext.resizer={}}if(!Ext.scroll){Ext.scroll={}}if(!Ext.selection){Ext.selection={}}if(!Ext.slider){Ext.slider={}}if(!Ext.state){Ext.state={}}if(!Ext.tab){Ext.tab={}}if(!Ext.theme){Ext.theme={}}if(!Ext.theme.neptune){Ext.theme.neptune={}}if(!Ext.theme.neptune.form){Ext.theme.neptune.form={}}if(!Ext.theme.neptune.form.field){Ext.theme.neptune.form.field={}}if(!Ext.theme.neptune.grid){Ext.theme.neptune.grid={}}if(!Ext.theme.neptune.grid.column){Ext.theme.neptune.grid.column={}}if(!Ext.theme.neptune.layout){Ext.theme.neptune.layout={}}if(!Ext.theme.neptune.layout.component){Ext.theme.neptune.layout.component={}}if(!Ext.theme.neptune.menu){Ext.theme.neptune.menu={}}if(!Ext.theme.neptune.panel){Ext.theme.neptune.panel={}}if(!Ext.theme.neptune.picker){Ext.theme.neptune.picker={}}if(!Ext.theme.neptune.resizer){Ext.theme.neptune.resizer={}}if(!Ext.theme.neptune.toolbar){Ext.theme.neptune.toolbar={}}if(!Ext.theme.triton){Ext.theme.triton={}}if(!Ext.theme.triton.form){Ext.theme.triton.form={}}if(!Ext.theme.triton.form.field){Ext.theme.triton.form.field={}}if(!Ext.theme.triton.grid){Ext.theme.triton.grid={}}if(!Ext.theme.triton.grid.column){Ext.theme.triton.grid.column={}}if(!Ext.theme.triton.grid.plugin){Ext.theme.triton.grid.plugin={}}if(!Ext.theme.triton.grid.selection){Ext.theme.triton.grid.selection={}}if(!Ext.theme.triton.list){Ext.theme.triton.list={}}if(!Ext.theme.triton.menu){Ext.theme.triton.menu={}}if(!Ext.theme.triton.picker){Ext.theme.triton.picker={}}if(!Ext.theme.triton.resizer){Ext.theme.triton.resizer={}}if(!Ext.theme.triton.selection){Ext.theme.triton.selection={}}if(!Ext.theme.triton.toolbar){Ext.theme.triton.toolbar={}}if(!Ext.tip){Ext.tip={}}if(!Ext.toolbar){Ext.toolbar={}}if(!Ext.tree){Ext.tree={}}if(!Ext.util){Ext.util={}}if(!Ext.util.paintmonitor){Ext.util.paintmonitor={}}if(!Ext.util.sizemonitor){Ext.util.sizemonitor={}}if(!Ext.util.translatable){Ext.util.translatable={}}if(!Ext.ux){Ext.ux={}}if(!Ext.ux.DataView){Ext.ux.DataView={}}if(!Ext.ux.colorpick){Ext.ux.colorpick={}}if(!Ext.ux.form){Ext.ux.form={}}if(!Ext.ux.layout){Ext.ux.layout={}}if(!Ext.view){Ext.view={}}if(!Ext.window){Ext.window={}}var SIMpel=SIMpel||{};if(!SIMpel.view){SIMpel.view={}}if(!SIMpel.view.main){SIMpel.view.main={}}if(!SIMpel.view.modules){SIMpel.view.modules={}}if(!SIMpel.view.modules.home){SIMpel.view.modules.home={}}if(!SIMpel.view.welcome){SIMpel.view.welcome={}}var aplikasi=aplikasi||{};if(!aplikasi.instansi){aplikasi.instansi={}}if(!aplikasi.login){aplikasi.login={}}if(!aplikasi.pengaturan){aplikasi.pengaturan={}}if(!aplikasi.pengaturan.infoteks){aplikasi.pengaturan.infoteks={}}if(!aplikasi.pengaturan.properticonfig){aplikasi.pengaturan.properticonfig={}}if(!aplikasi.pengguna){aplikasi.pengguna={}}if(!aplikasi.pengguna.info){aplikasi.pengguna.info={}}if(!aplikasi.pengguna.ubahkatasandi){aplikasi.pengguna.ubahkatasandi={}}if(!aplikasi.requestreport){aplikasi.requestreport={}}if(!aplikasi.teams){aplikasi.teams={}}if(!aplikasi.tentang){aplikasi.tentang={}}if(!aplikasi.tentang.changelog){aplikasi.tentang.changelog={}}if(!aplikasi.tentang.informasi){aplikasi.tentang.informasi={}}if(!aplikasi.tentang.kontak){aplikasi.tentang.kontak={}}var com=com||{};var data=data||{};if(!data.model){data.model={}}if(!data.store){data.store={}}var inventory=inventory||{};if(!inventory.eksternal){inventory.eksternal={}}if(!inventory.eksternal.pembatalanpenerimaanbarang){inventory.eksternal.pembatalanpenerimaanbarang={}}if(!inventory.eksternal.penerimaan){inventory.eksternal.penerimaan={}}if(!inventory.eksternal.penerimaan.histori){inventory.eksternal.penerimaan.histori={}}if(!inventory.eksternal.penerimaanbarang){inventory.eksternal.penerimaanbarang={}}if(!inventory.eksternal.penerimaanbarangdetil){inventory.eksternal.penerimaanbarangdetil={}}if(!inventory.eksternal.pengembalian){inventory.eksternal.pengembalian={}}if(!inventory.eksternal.pengembalian.histori){inventory.eksternal.pengembalian.histori={}}if(!inventory.monitoring){inventory.monitoring={}}if(!inventory.monitoring.stokbarangminimum){inventory.monitoring.stokbarangminimum={}}if(!inventory.paketfarmasi){inventory.paketfarmasi={}}if(!inventory.penerimaan){inventory.penerimaan={}}if(!inventory.penerimaan.pengiriman){inventory.penerimaan.pengiriman={}}if(!inventory.penerimaan.permintaan){inventory.penerimaan.permintaan={}}if(!inventory.pengiriman){inventory.pengiriman={}}if(!inventory.pengiriman.history){inventory.pengiriman.history={}}if(!inventory.permintaan){inventory.permintaan={}}if(!inventory.permintaan.history){inventory.permintaan.history={}}if(!inventory.permintaan.terima){inventory.permintaan.terima={}}if(!inventory.stokbarangminimum){inventory.stokbarangminimum={}}if(!inventory.stokbarangruangan){inventory.stokbarangruangan={}}if(!inventory.stokopname){inventory.stokopname={}}var kunjungan=kunjungan||{};if(!kunjungan.pasienmeninggal){kunjungan.pasienmeninggal={}}if(!kunjungan.pasienpulang){kunjungan.pasienpulang={}}if(!kunjungan.perubahantanggal){kunjungan.perubahantanggal={}}if(!kunjungan.titipan){kunjungan.titipan={}}if(!kunjungan.widget){kunjungan.widget={}}var layanan=layanan||{};if(!layanan.JasaTuslahFarmasi){layanan.JasaTuslahFarmasi={}}if(!layanan.farmasi){layanan.farmasi={}}if(!layanan.farmasi.TransaksiLangsung){layanan.farmasi.TransaksiLangsung={}}if(!layanan.farmasi.retur){layanan.farmasi.retur={}}if(!layanan.farmasi.retur.pelayanan){layanan.farmasi.retur.pelayanan={}}if(!layanan.farmasi.widget){layanan.farmasi.widget={}}if(!layanan.farmasi.widget.riwayat){layanan.farmasi.widget.riwayat={}}if(!layanan.kelahiran){layanan.kelahiran={}}if(!layanan.laboratorium){layanan.laboratorium={}}if(!layanan.laboratorium.hasil){layanan.laboratorium.hasil={}}if(!layanan.laboratorium.order){layanan.laboratorium.order={}}if(!layanan.laboratorium.orderlist){layanan.laboratorium.orderlist={}}if(!layanan.laboratorium.riwayat){layanan.laboratorium.riwayat={}}if(!layanan.laboratorium.terimaorder){layanan.laboratorium.terimaorder={}}if(!layanan.laboratorium.viewhasil){layanan.laboratorium.viewhasil={}}if(!layanan.laboratorium.widget){layanan.laboratorium.widget={}}if(!layanan.pa){layanan.pa={}}if(!layanan.pa.hasil){layanan.pa.hasil={}}if(!layanan.pemakaiano2){layanan.pemakaiano2={}}if(!layanan.radiologi){layanan.radiologi={}}if(!layanan.radiologi.hasil){layanan.radiologi.hasil={}}if(!layanan.radiologi.order){layanan.radiologi.order={}}if(!layanan.radiologi.orderlist){layanan.radiologi.orderlist={}}if(!layanan.radiologi.riwayat){layanan.radiologi.riwayat={}}if(!layanan.radiologi.terimaorder){layanan.radiologi.terimaorder={}}if(!layanan.radiologi.widget){layanan.radiologi.widget={}}if(!layanan.resep){layanan.resep={}}if(!layanan.resep.order){layanan.resep.order={}}if(!layanan.resep.order.nonracikan){layanan.resep.order.nonracikan={}}if(!layanan.resep.order.racikan){layanan.resep.order.racikan={}}if(!layanan.resep.orderlist){layanan.resep.orderlist={}}if(!layanan.resep.riwayat){layanan.resep.riwayat={}}if(!layanan.resep.terima){layanan.resep.terima={}}if(!layanan.resep.widget){layanan.resep.widget={}}if(!layanan.tindakanmedis){layanan.tindakanmedis={}}if(!layanan.tindakanmedis.tenagamedis){layanan.tindakanmedis.tenagamedis={}}var master=master||{};if(!master.aturanpakai){master.aturanpakai={}}if(!master.barang){master.barang={}}if(!master.barangruangan){master.barangruangan={}}if(!master.dokter){master.dokter={}}if(!master.dokterruangan){master.dokterruangan={}}if(!master.doktersmf){master.doktersmf={}}if(!master.grouptindakanlab){master.grouptindakanlab={}}if(!master.inventory){master.inventory={}}if(!master.inventory.barang){master.inventory.barang={}}if(!master.inventory.barang.hargabarang){master.inventory.barang.hargabarang={}}if(!master.inventory.groupfilter){master.inventory.groupfilter={}}if(!master.inventory.kategori){master.inventory.kategori={}}if(!master.inventory.kelompokgroup){master.inventory.kelompokgroup={}}if(!master.inventory.satuan){master.inventory.satuan={}}if(!master.jenispesertapenjamin){master.jenispesertapenjamin={}}if(!master.kamar){master.kamar={}}if(!master.kamar.tempattidur){master.kamar.tempattidur={}}if(!master.manajemenpengguna){master.manajemenpengguna={}}if(!master.manajemenpengguna.group){master.manajemenpengguna.group={}}if(!master.manajemenpengguna.groupmodul){master.manajemenpengguna.groupmodul={}}if(!master.manajemenpengguna.modul){master.manajemenpengguna.modul={}}if(!master.manajemenpengguna.pengguna){master.manajemenpengguna.pengguna={}}if(!master.mapping){master.mapping={}}if(!master.mapping.groupreferensikelas){master.mapping.groupreferensikelas={}}if(!master.marginpenjaminfarmasi){master.marginpenjaminfarmasi={}}if(!master.negara){master.negara={}}if(!master.paket){master.paket={}}if(!master.paket.distribusitarif){master.paket.distribusitarif={}}if(!master.paketdetil){master.paketdetil={}}if(!master.paketdetil.distribusitarif){master.paketdetil.distribusitarif={}}if(!master.pakettindakanfarmasi){master.pakettindakanfarmasi={}}if(!master.paramedis){master.paramedis={}}if(!master.parameterhasil){master.parameterhasil={}}if(!master.pegawai){master.pegawai={}}if(!master.pemakaiano2){master.pemakaiano2={}}if(!master.penjaminruangan){master.penjaminruangan={}}if(!master.penyedia){master.penyedia={}}if(!master.penyedia.barang){master.penyedia.barang={}}if(!master.perawatruangan){master.perawatruangan={}}if(!master.ppk){master.ppk={}}if(!master.referensi){master.referensi={}}if(!master.referensi.jenis){master.referensi.jenis={}}if(!master.ruangan){master.ruangan={}}if(!master.ruangan.kelas){master.ruangan.kelas={}}if(!master.ruanganfarmasi){master.ruanganfarmasi={}}if(!master.ruangankonsul){master.ruangankonsul={}}if(!master.ruanganlab){master.ruanganlab={}}if(!master.ruanganmutasi){master.ruanganmutasi={}}if(!master.ruanganoperasi){master.ruanganoperasi={}}if(!master.ruanganrad){master.ruanganrad={}}if(!master.smfruangan){master.smfruangan={}}if(!master.staff){master.staff={}}if(!master.staffruangan){master.staffruangan={}}if(!master.tarif){master.tarif={}}if(!master.tarifadministrasi){master.tarifadministrasi={}}if(!master.tarifkelasfarmasi){master.tarifkelasfarmasi={}}if(!master.tarifo2){master.tarifo2={}}if(!master.tarifruangrawat){master.tarifruangrawat={}}if(!master.tenagamedis){master.tenagamedis={}}if(!master.tindakan){master.tindakan={}}if(!master.tindakan.tarif){master.tindakan.tarif={}}if(!master.tindakanpaket){master.tindakanpaket={}}if(!master.tindakanruangan){master.tindakanruangan={}}if(!master.wilayah){master.wilayah={}}if(!master.wilayah.tempatlahir){master.wilayah.tempatlahir={}}var pasien=pasien||{};if(!pasien.keluarga){pasien.keluarga={}}if(!pasien.keluarga.kontak){pasien.keluarga.kontak={}}if(!pasien.photo){pasien.photo={}}if(!pasien.tagihan){pasien.tagihan={}}if(!pasien.widget){pasien.widget={}}var pegawai=pegawai||{};if(!pegawai.absensi){pegawai.absensi={}}if(!pegawai.absensi.mesin){pegawai.absensi.mesin={}}if(!pegawai.absensi.penarikan){pegawai.absensi.penarikan={}}if(!pegawai.absensi.presensi){pegawai.absensi.presensi={}}if(!pegawai.absensi.waktupenarikan){pegawai.absensi.waktupenarikan={}}if(!pegawai.dasarjadwal){pegawai.dasarjadwal={}}if(!pegawai.jadwaldinas){pegawai.jadwaldinas={}}if(!pegawai.kartuasuransi){pegawai.kartuasuransi={}}if(!pegawai.kartuidentitas){pegawai.kartuidentitas={}}if(!pegawai.keluarga){pegawai.keluarga={}}if(!pegawai.kodeabsensi){pegawai.kodeabsensi={}}if(!pegawai.kontak){pegawai.kontak={}}if(!pegawai.pegawaiabsen){pegawai.pegawaiabsen={}}if(!pegawai.pendidikan){pegawai.pendidikan={}}if(!pegawai.penempatan){pegawai.penempatan={}}if(!pegawai.penempatan.detil){pegawai.penempatan.detil={}}if(!pegawai.penempatan.sekarang){pegawai.penempatan.sekarang={}}if(!pegawai.rincianabsensi){pegawai.rincianabsensi={}}if(!pegawai.schedule){pegawai.schedule={}}if(!pegawai.schedule.detail){pegawai.schedule.detail={}}if(!pegawai.schedule.shift){pegawai.schedule.shift={}}if(!pegawai.schedule.shift.detail){pegawai.schedule.shift.detail={}}if(!pegawai.statuspegawai){pegawai.statuspegawai={}}if(!pegawai.strsip){pegawai.strsip={}}if(!pegawai.waktudinasruangan){pegawai.waktudinasruangan={}}var pendaftaran=pendaftaran||{};if(!pendaftaran.bayi){pendaftaran.bayi={}}if(!pendaftaran.kecelakaan){pendaftaran.kecelakaan={}}if(!pendaftaran.konsul){pendaftaran.konsul={}}if(!pendaftaran.konsul.jawab){pendaftaran.konsul.jawab={}}if(!pendaftaran.konsul.konsul){pendaftaran.konsul.konsul={}}if(!pendaftaran.konsul.riwayat){pendaftaran.konsul.riwayat={}}if(!pendaftaran.konsul.terima){pendaftaran.konsul.terima={}}if(!pendaftaran.mutasi){pendaftaran.mutasi={}}if(!pendaftaran.mutasi.permintaan){pendaftaran.mutasi.permintaan={}}if(!pendaftaran.mutasi.riwayat){pendaftaran.mutasi.riwayat={}}if(!pendaftaran.mutasi.terima){pendaftaran.mutasi.terima={}}if(!pendaftaran.online){pendaftaran.online={}}if(!pendaftaran.online.reservasi){pendaftaran.online.reservasi={}}if(!pendaftaran.paket){pendaftaran.paket={}}if(!pendaftaran.pembatalan){pendaftaran.pembatalan={}}if(!pendaftaran.pembatalan.final_hasil){pendaftaran.pembatalan.final_hasil={}}if(!pendaftaran.pembatalan.kunjungan){pendaftaran.pembatalan.kunjungan={}}if(!pendaftaran.penanggungjawab){pendaftaran.penanggungjawab={}}if(!pendaftaran.penjamin){pendaftaran.penjamin={}}if(!pendaftaran.reservasi){pendaftaran.reservasi={}}if(!pendaftaran.rujukan){pendaftaran.rujukan={}}if(!pendaftaran.rujukan.keluar){pendaftaran.rujukan.keluar={}}if(!pendaftaran.tujuan){pendaftaran.tujuan={}}if(!pendaftaran.widget){pendaftaran.widget={}}var plugins=plugins||{};if(!plugins.bpjs){plugins.bpjs={}}if(!plugins.bpjs.aplicares){plugins.bpjs.aplicares={}}if(!plugins.bpjs.aplicares.ketersediaankamar){plugins.bpjs.aplicares.ketersediaankamar={}}if(!plugins.bpjs.aplicares.mapkelas){plugins.bpjs.aplicares.mapkelas={}}if(!plugins.bpjs.aplicares.referensikamar){plugins.bpjs.aplicares.referensikamar={}}if(!plugins.bpjs.aplicares.tempattidur){plugins.bpjs.aplicares.tempattidur={}}if(!plugins.bpjs.klaim){plugins.bpjs.klaim={}}if(!plugins.bpjs.klaim.pengajuan){plugins.bpjs.klaim.pengajuan={}}if(!plugins.bpjs.monitoring){plugins.bpjs.monitoring={}}if(!plugins.bpjs.monitoring.histori){plugins.bpjs.monitoring.histori={}}if(!plugins.bpjs.monitoring.histori.pelayanan){plugins.bpjs.monitoring.histori.pelayanan={}}if(!plugins.bpjs.monitoring.klaim){plugins.bpjs.monitoring.klaim={}}if(!plugins.bpjs.monitoring.klaim.jasaraharja){plugins.bpjs.monitoring.klaim.jasaraharja={}}if(!plugins.bpjs.monitoring.kunjungan){plugins.bpjs.monitoring.kunjungan={}}if(!plugins.bpjs.peserta){plugins.bpjs.peserta={}}if(!plugins.bpjs.referensi){plugins.bpjs.referensi={}}if(!plugins.bpjs.referensi.carakeluar){plugins.bpjs.referensi.carakeluar={}}if(!plugins.bpjs.referensi.diagnosa){plugins.bpjs.referensi.diagnosa={}}if(!plugins.bpjs.referensi.dokter){plugins.bpjs.referensi.dokter={}}if(!plugins.bpjs.referensi.dpjp){plugins.bpjs.referensi.dpjp={}}if(!plugins.bpjs.referensi.faskes){plugins.bpjs.referensi.faskes={}}if(!plugins.bpjs.referensi.kelasrawat){plugins.bpjs.referensi.kelasrawat={}}if(!plugins.bpjs.referensi.pascapulang){plugins.bpjs.referensi.pascapulang={}}if(!plugins.bpjs.referensi.poli){plugins.bpjs.referensi.poli={}}if(!plugins.bpjs.referensi.procedure){plugins.bpjs.referensi.procedure={}}if(!plugins.bpjs.referensi.ruangrawat){plugins.bpjs.referensi.ruangrawat={}}if(!plugins.bpjs.referensi.spesialistik){plugins.bpjs.referensi.spesialistik={}}if(!plugins.bpjs.referensi.wilayah){plugins.bpjs.referensi.wilayah={}}if(!plugins.bpjs.rujukan){plugins.bpjs.rujukan={}}if(!plugins.bpjs.rujukan.pencarian){plugins.bpjs.rujukan.pencarian={}}if(!plugins.bpjs.sep){plugins.bpjs.sep={}}if(!plugins.bpjs.sep.detail){plugins.bpjs.sep.detail={}}if(!plugins.bpjs.sep.hapus){plugins.bpjs.sep.hapus={}}if(!plugins.bpjs.sep.insert){plugins.bpjs.sep.insert={}}if(!plugins.bpjs.sep.integrasi){plugins.bpjs.sep.integrasi={}}if(!plugins.bpjs.sep.integrasi.inacbg){plugins.bpjs.sep.integrasi.inacbg={}}if(!plugins.bpjs.sep.kunjungan){plugins.bpjs.sep.kunjungan={}}if(!plugins.bpjs.sep.mapping){plugins.bpjs.sep.mapping={}}if(!plugins.bpjs.sep.mapping.transaksi){plugins.bpjs.sep.mapping.transaksi={}}if(!plugins.bpjs.sep.monitoring){plugins.bpjs.sep.monitoring={}}if(!plugins.bpjs.sep.monitoring.verifikasiklaim){plugins.bpjs.sep.monitoring.verifikasiklaim={}}if(!plugins.bpjs.sep.pengajuan){plugins.bpjs.sep.pengajuan={}}if(!plugins.bpjs.sep.pengajuan.aproval){plugins.bpjs.sep.pengajuan.aproval={}}if(!plugins.bpjs.sep.riwayat){plugins.bpjs.sep.riwayat={}}if(!plugins.bpjs.sep.riwayat.pelayanan){plugins.bpjs.sep.riwayat.pelayanan={}}if(!plugins.bpjs.sep.update){plugins.bpjs.sep.update={}}if(!plugins.bpjs.sep.update.tanggalpulang){plugins.bpjs.sep.update.tanggalpulang={}}if(!plugins.dukcapil){plugins.dukcapil={}}if(!plugins.inacbg){plugins.inacbg={}}if(!plugins.inacbg.combo){plugins.inacbg.combo={}}if(!plugins.inacbg.grouping){plugins.inacbg.grouping={}}if(!plugins.inacbg.grouping.hasil){plugins.inacbg.grouping.hasil={}}if(!plugins.inacbg.grouping.pendukung){plugins.inacbg.grouping.pendukung={}}if(!plugins.inacbg.grouping.pendukung.dokumen){plugins.inacbg.grouping.pendukung.dokumen={}}if(!plugins.inacbg.grouping.pendukung.episodes){plugins.inacbg.grouping.pendukung.episodes={}}if(!plugins.inacbg.model){plugins.inacbg.model={}}if(!plugins.inacbg.store){plugins.inacbg.store={}}if(!plugins.inacbg.tipe){plugins.inacbg.tipe={}}if(!plugins.inasis){plugins.inasis={}}if(!plugins.kemkes){plugins.kemkes={}}if(!plugins.kemkes.dashboard){plugins.kemkes.dashboard={}}if(!plugins.kemkes.dashboard.golongandarah){plugins.kemkes.dashboard.golongandarah={}}if(!plugins.kemkes.dashboard.indikator){plugins.kemkes.dashboard.indikator={}}if(!plugins.kemkes.dashboard.kematian){plugins.kemkes.dashboard.kematian={}}if(!plugins.kemkes.dashboard.kunjungan){plugins.kemkes.dashboard.kunjungan={}}if(!plugins.kemkes.dashboard.penyakit10besar){plugins.kemkes.dashboard.penyakit10besar={}}if(!plugins.kemkes.dashboard.rujukan){plugins.kemkes.dashboard.rujukan={}}if(!plugins.kemkes.dashboard.rujukan.penyakit10besar){plugins.kemkes.dashboard.rujukan.penyakit10besar={}}if(!plugins.kemkes.rsonline){plugins.kemkes.rsonline={}}if(!plugins.kemkes.rsonline.dashboard){plugins.kemkes.rsonline.dashboard={}}if(!plugins.kemkes.rsonline.data){plugins.kemkes.rsonline.data={}}if(!plugins.kemkes.rsonline.data.kebutuhan){plugins.kemkes.rsonline.data.kebutuhan={}}if(!plugins.kemkes.rsonline.data.kebutuhan.apd){plugins.kemkes.rsonline.data.kebutuhan.apd={}}if(!plugins.kemkes.rsonline.data.kebutuhan.sdm){plugins.kemkes.rsonline.data.kebutuhan.sdm={}}if(!plugins.kemkes.rsonline.data.tempattidur){plugins.kemkes.rsonline.data.tempattidur={}}if(!plugins.kemkes.rsonline.diagnosapasien){plugins.kemkes.rsonline.diagnosapasien={}}if(!plugins.kemkes.rsonline.laporancovid){plugins.kemkes.rsonline.laporancovid={}}if(!plugins.kemkes.rsonline.pasien){plugins.kemkes.rsonline.pasien={}}if(!plugins.kemkes.rsonline.referensi){plugins.kemkes.rsonline.referensi={}}if(!plugins.kemkes.rsonline.referensi.jeniskelamin){plugins.kemkes.rsonline.referensi.jeniskelamin={}}if(!plugins.kemkes.rsonline.referensi.jenispasien){plugins.kemkes.rsonline.referensi.jenispasien={}}if(!plugins.kemkes.rsonline.referensi.kebutuhan){plugins.kemkes.rsonline.referensi.kebutuhan={}}if(!plugins.kemkes.rsonline.referensi.kebutuhan.apd){plugins.kemkes.rsonline.referensi.kebutuhan.apd={}}if(!plugins.kemkes.rsonline.referensi.kebutuhan.sdm){plugins.kemkes.rsonline.referensi.kebutuhan.sdm={}}if(!plugins.kemkes.rsonline.referensi.status){plugins.kemkes.rsonline.referensi.status={}}if(!plugins.kemkes.rsonline.referensi.status.isolasi){plugins.kemkes.rsonline.referensi.status.isolasi={}}if(!plugins.kemkes.rsonline.referensi.status.keluar){plugins.kemkes.rsonline.referensi.status.keluar={}}if(!plugins.kemkes.rsonline.referensi.status.rawat){plugins.kemkes.rsonline.referensi.status.rawat={}}if(!plugins.kemkes.rsonline.referensi.sumberpenularan){plugins.kemkes.rsonline.referensi.sumberpenularan={}}if(!plugins.kemkes.rsonline.referensi.tempattidur){plugins.kemkes.rsonline.referensi.tempattidur={}}if(!plugins.kemkes.rsonline.referensi.wilayah){plugins.kemkes.rsonline.referensi.wilayah={}}if(!plugins.kemkes.rsonline.referensi.wilayah.kabupaten){plugins.kemkes.rsonline.referensi.wilayah.kabupaten={}}if(!plugins.kemkes.rsonline.referensi.wilayah.kecamatan){plugins.kemkes.rsonline.referensi.wilayah.kecamatan={}}if(!plugins.kemkes.rsonline.referensi.wilayah.negara){plugins.kemkes.rsonline.referensi.wilayah.negara={}}if(!plugins.kemkes.rsonline.referensi.wilayah.propinsi){plugins.kemkes.rsonline.referensi.wilayah.propinsi={}}if(!plugins.kemkes.siranap){plugins.kemkes.siranap={}}if(!plugins.kemkes.siranap.kelas){plugins.kemkes.siranap.kelas={}}if(!plugins.kemkes.siranap.kelas.simrs_kemkes){plugins.kemkes.siranap.kelas.simrs_kemkes={}}if(!plugins.kemkes.siranap.ruangan){plugins.kemkes.siranap.ruangan={}}if(!plugins.kemkes.siranap.ruangan.simrs_kemkes){plugins.kemkes.siranap.ruangan.simrs_kemkes={}}if(!plugins.kemkes.siranap.tempattidur){plugins.kemkes.siranap.tempattidur={}}if(!plugins.kemkes.sisrute){plugins.kemkes.sisrute={}}if(!plugins.kemkes.sitt){plugins.kemkes.sitt={}}if(!plugins.pusdatin){plugins.pusdatin={}}if(!plugins.tts){plugins.tts={}}var rekammedis=rekammedis||{};if(!rekammedis.anamnesis){rekammedis.anamnesis={}}if(!rekammedis.anamnesis.edukasipasienkeluarga){rekammedis.anamnesis.edukasipasienkeluarga={}}if(!rekammedis.anamnesis.edukasipasienkeluarga.emergency){rekammedis.anamnesis.edukasipasienkeluarga.emergency={}}if(!rekammedis.anamnesis.edukasipasienkeluarga.history){rekammedis.anamnesis.edukasipasienkeluarga.history={}}if(!rekammedis.anamnesis.keluhan){rekammedis.anamnesis.keluhan={}}if(!rekammedis.anamnesis.keluhan.utama){rekammedis.anamnesis.keluhan.utama={}}if(!rekammedis.anamnesis.keluhan.utama.history){rekammedis.anamnesis.keluhan.utama.history={}}if(!rekammedis.anamnesis.kondisisosial){rekammedis.anamnesis.kondisisosial={}}if(!rekammedis.anamnesis.kondisisosial.history){rekammedis.anamnesis.kondisisosial.history={}}if(!rekammedis.anamnesis.permasalahangizi){rekammedis.anamnesis.permasalahangizi={}}if(!rekammedis.anamnesis.permasalahangizi.history){rekammedis.anamnesis.permasalahangizi.history={}}if(!rekammedis.anamnesis.riwayat){rekammedis.anamnesis.riwayat={}}if(!rekammedis.anamnesis.riwayat.alergi){rekammedis.anamnesis.riwayat.alergi={}}if(!rekammedis.anamnesis.riwayat.alergi.history){rekammedis.anamnesis.riwayat.alergi.history={}}if(!rekammedis.anamnesis.riwayat.pemberianobat){rekammedis.anamnesis.riwayat.pemberianobat={}}if(!rekammedis.anamnesis.riwayat.pemberianobat.history){rekammedis.anamnesis.riwayat.pemberianobat.history={}}if(!rekammedis.anamnesis.riwayat.perjalananpenyakit){rekammedis.anamnesis.riwayat.perjalananpenyakit={}}if(!rekammedis.anamnesis.riwayat.perjalananpenyakit.history){rekammedis.anamnesis.riwayat.perjalananpenyakit.history={}}if(!rekammedis.anamnesis.statusfungsional){rekammedis.anamnesis.statusfungsional={}}if(!rekammedis.anamnesis.statusfungsional.history){rekammedis.anamnesis.statusfungsional.history={}}if(!rekammedis.anamnesis.umum){rekammedis.anamnesis.umum={}}if(!rekammedis.anamnesis.umum.history){rekammedis.anamnesis.umum.history={}}if(!rekammedis.cppt){rekammedis.cppt={}}if(!rekammedis.cppt.history){rekammedis.cppt.history={}}if(!rekammedis.diagnosis){rekammedis.diagnosis={}}if(!rekammedis.diagnosis.history){rekammedis.diagnosis.history={}}if(!rekammedis.diagnosis.history.history){rekammedis.diagnosis.history.history={}}if(!rekammedis.icd){rekammedis.icd={}}if(!rekammedis.icd.diagnosa){rekammedis.icd.diagnosa={}}if(!rekammedis.icd.penyebabkematian){rekammedis.icd.penyebabkematian={}}if(!rekammedis.icd.tindakan){rekammedis.icd.tindakan={}}if(!rekammedis.keluhanutama){rekammedis.keluhanutama={}}if(!rekammedis.kondisisosial){rekammedis.kondisisosial={}}if(!rekammedis.laporanoperasi){rekammedis.laporanoperasi={}}if(!rekammedis.laporanoperasi.list){rekammedis.laporanoperasi.list={}}if(!rekammedis.pemeriksaan){rekammedis.pemeriksaan={}}if(!rekammedis.pemeriksaan.fisik){rekammedis.pemeriksaan.fisik={}}if(!rekammedis.pemeriksaan.fisik.history){rekammedis.pemeriksaan.fisik.history={}}if(!rekammedis.pemeriksaan.umum){rekammedis.pemeriksaan.umum={}}if(!rekammedis.pemeriksaan.umum.fungsional){rekammedis.pemeriksaan.umum.fungsional={}}if(!rekammedis.pemeriksaan.umum.fungsional.history){rekammedis.pemeriksaan.umum.fungsional.history={}}if(!rekammedis.pemeriksaan.umum.nutrisi){rekammedis.pemeriksaan.umum.nutrisi={}}if(!rekammedis.pemeriksaan.umum.nutrisi.history){rekammedis.pemeriksaan.umum.nutrisi.history={}}if(!rekammedis.pemeriksaan.umum.tandavital){rekammedis.pemeriksaan.umum.tandavital={}}if(!rekammedis.pemeriksaan.umum.tandavital.history){rekammedis.pemeriksaan.umum.tandavital.history={}}if(!rekammedis.penilaian){rekammedis.penilaian={}}if(!rekammedis.penilaian.diagnosis){rekammedis.penilaian.diagnosis={}}if(!rekammedis.penilaian.fisik){rekammedis.penilaian.fisik={}}if(!rekammedis.penilaian.fisik.history){rekammedis.penilaian.fisik.history={}}if(!rekammedis.penilaian.nyeri){rekammedis.penilaian.nyeri={}}if(!rekammedis.penilaian.nyeri.history){rekammedis.penilaian.nyeri.history={}}if(!rekammedis.penilaian.statuspediatric){rekammedis.penilaian.statuspediatric={}}if(!rekammedis.penilaian.statuspediatric.history){rekammedis.penilaian.statuspediatric.history={}}if(!rekammedis.perencanaan){rekammedis.perencanaan={}}if(!rekammedis.perencanaan.jadwalcontrol){rekammedis.perencanaan.jadwalcontrol={}}if(!rekammedis.perencanaan.jadwalkontrol){rekammedis.perencanaan.jadwalkontrol={}}if(!rekammedis.perencanaan.jadwalkontrol.history){rekammedis.perencanaan.jadwalkontrol.history={}}if(!rekammedis.perencanaan.jadwalkontrol.widget){rekammedis.perencanaan.jadwalkontrol.widget={}}if(!rekammedis.perencanaan.rencanaterapi){rekammedis.perencanaan.rencanaterapi={}}if(!rekammedis.perencanaan.rencanaterapi.history){rekammedis.perencanaan.rencanaterapi.history={}}(function(P){var S,H=["constructor","toString","valueOf","toLocaleString"],O={},D={},Q=0,G,J,B,M,T,N,F,R,L,C=function(){var e,f;J=Ext.Base;B=Ext.ClassManager;for(e=H.length;e-->0;){f=(1<<e);D[O[f]=H[e]]=f}for(e in D){Q|=D[e]}Q=~Q;Function.prototype.$isFunction=1;L=!!(B&&B.addAlias);M=Ext.Class.getPreprocessor("config").fn;T=Ext.Class.getPreprocessor("cachedConfig")&&Ext.Class.getPreprocessor("cachedConfig").fn;N=Ext.Class.getPreprocessor("platformConfig")&&Ext.Class.getPreprocessor("platformConfig").fn;R=Ext.Class.getPreprocessor("privates")&&Ext.Class.getPreprocessor("privates").fn;F=Ext.ClassManager.postprocessors.deprecated&&Ext.ClassManager.postprocessors.deprecated.fn;S=J.$staticMembers;if(!S){S=[];for(G in J){if(J.hasOwnProperty(G)){S.push(G)}}}P.derive=I;return I.apply(this,arguments)},K=function(k,o,l){var e=l.enumerableMembers,n=k.prototype,p,m,q,f,g;if(!o){return}if(L){k.addMembers(o)}else{for(p in o){f=o[p];if(f&&f.$isFunction&&!f.$isClass&&f!==Ext.emptyFn&&f!==Ext.identityFn){g=n.hasOwnProperty(p)&&n[p];if(g){f.$previous=g}n[p]=m=f;m.$owner=k;m.$name=p}else{n[p]=f}}for(q=1;e;q<<=1){if(e&q){e&=~q;p=O[q];n[p]=m=o[p];m.$owner=k;m.$name=p}}}},E=function(e){var l=function f(){return e.apply(this,arguments)||null},g,k;l.prototype=Ext.Object.chain(e.prototype);for(g=S.length;g-->0;){k=S[g];l[k]=J[k]}return l},I=function(ai,y,ar,an,z,o,A,av,ak,m,u){var am=function v(){return this.constructor.apply(this,arguments)||null},at=am,al={enumerableMembers:an&Q,onCreated:u,onBeforeCreated:K,aliases:av},q=ar.alternateClassName||[],e=Ext.global,l,f,aw,s,g,ao,ap,aj,k,w,au,n,t,aq,p=B.alternateToName||B.maps.alternateToName,x=B.nameToAlternates||B.maps.nameToAlternates;for(aw=S.length;aw-->0;){ap=S[aw];am[ap]=J[ap]}if(ar.$isFunction){ar=ar(am)}al.data=ar;w=ar.statics;delete ar.statics;ar.$className=ai;if("$className" in ar){am.$className=ar.$className}am.extend(y);k=am.prototype;if(z){am.xtype=ar.xtype=z[0];k.xtypes=z}k.xtypesChain=o;k.xtypesMap=A;ar.alias=av;at.triggerExtended(am,ar,al);if(ar.onClassExtended){am.onExtended(ar.onClassExtended,am);delete ar.onClassExtended}if(ar.privates&&R){R.call(Ext.Class,am,ar)}if(w){if(L){am.addStatics(w)}else{for(au in w){if(w.hasOwnProperty(au)){aq=w[au];if(aq&&aq.$isFunction&&!aq.$isClass&&aq!==Ext.emptyFn&&aq!==Ext.identityFn){am[au]=t=aq;t.$owner=am;t.$name=au}am[au]=aq}}}}if(ar.inheritableStatics){am.addInheritableStatics(ar.inheritableStatics);delete ar.inheritableStatics}if(k.onClassExtended){at.onExtended(k.onClassExtended,at);delete k.onClassExtended}if(ar.platformConfig&&N){N.call(Ext.Class,am,ar);delete ar.platformConfig}if(ar.config){M.call(Ext.Class,am,ar)}if(ar.cachedConfig&&T){T.call(Ext.Class,am,ar);delete ar.cachedConfig}if(ar.deprecated&&F){F.call(Ext.ClassManager,ai,am,ar)}al.onBeforeCreated(am,al.data,al);for(aw=0,g=ak&&ak.length;aw<g;++aw){am.mixin.apply(am,ak[aw])}for(aw=0,g=av.length;aw<g;aw++){l=av[aw];B.setAlias?B.setAlias(am,l):B.addAlias(am,l)}if(ar.singleton){at=new am()}if(!(q instanceof Array)){q=[q]}n=B.getName(at);for(aw=0,s=q.length;aw<s;aw++){f=q[aw];B.classes[f]=at;if(L){B.addAlternate(am,f)}else{if(n){p[f]=n;q=x[n]||(x[n]=[]);q.push(f)}}}for(aw=0,g=m.length;aw<g;aw+=2){ao=m[aw];if(!ao){ao=e}ao[m[aw+1]]=at}B.classes[ai]=at;if(!L){if(n&&n!==ai){p[ai]=n;q=x[n]||(x[n]=[]);q.push(ai)}}delete k.alternateClassName;if(al.onCreated){al.onCreated.call(at,at)}if(ai){B.triggerCreated(ai)}return at};P.derive=C}(Ext.cmd={}));var Ext=Ext||{};(function(){var D=this,y=Object.prototype,C=y.toString,F=["valueOf","toLocaleString","toString","constructor"],v=function(){},z=function(){},x=function(e){return e},G=function(){var e=G.caller.caller;return e.$owner.prototype[e.$name].apply(this,arguments)},E=Ext.manifest||{},w,B=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,A=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=D;Ext.now=Date.now||(Date.now=function(){return +new Date()});Ext.ticks=(D.performance&&D.performance.now)?function(){return performance.now()}:Ext.now;Ext._startTime=Ext.ticks();v.$nullFn=x.$nullFn=v.$emptyFn=x.$identityFn=z.$nullFn=true;z.$privacy="framework";v.$noClearOnDestroy=x.$noClearOnDestroy=true;z.$noClearOnDestroy=true;Ext.suspendLayouts=Ext.resumeLayouts=v;for(w in {toString:1}){F=null}Ext.enumerables=F;Ext.apply=function(m,f,e){if(e){Ext.apply(m,e)}if(m&&f&&typeof f==="object"){var l,g,k;for(l in f){m[l]=f[l]}if(F){for(g=F.length;g--;){k=F[g];if(f.hasOwnProperty(k)){m[k]=f[k]}}}}return m};function H(l,g,k){var f,e;for(f in k){if(k.hasOwnProperty(f)){e=k[f];if(typeof e==="function"){e.$name=f;e.$owner=g;e.$previous=l.hasOwnProperty(f)?l[f]:G}l[f]=e}}}Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:false,enableListenerCollection:true,name:Ext.sandboxName||"Ext",privateFn:z,emptyFn:v,identityFn:x,frameStartTime:Ext.now(),manifest:E,enableAria:true,startsWithHashRe:/^#/,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",makeIdSelector:function(e){return"#"+e},id:function(f,g){if(f&&f.id){return f.id}var e=(g||Ext.idPrefix)+(++Ext.idSeed);if(f){f.id=e}return e},returnId:function(e){return e.getId()},returnTrue:function(){return true},emptyString:new String(),baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(DOMMouse|Moz.+|MS.+|webkit.+)/,canonicalEventName:function(e){return Ext.$eventNameMap[e]||(Ext.$eventNameMap[e]=(Ext.$vendorEventRe.test(e)?e:e.toLowerCase()))},applyIf:function(f,g){var e;if(f){for(e in g){if(f[e]===undefined){f[e]=g[e]}}}return f},destroy:function(){var e=arguments.length,f,g;for(f=0;f<e;f++){g=arguments[f];if(g){if(Ext.isArray(g)){this.destroy.apply(this,g)}else{if(Ext.isFunction(g.destroy)){g.destroy()}}}}return null},destroyMembers:function(m){for(var f,e,l=1,g=arguments,k=g.length;l<k;l++){f=m[e=g[l]];if(f!=null){m[e]=Ext.destroy(f)}}},override:function(e,k){if(e.$isClass){e.override(k)}else{if(typeof e==="function"){Ext.apply(e.prototype,k)}else{var g=e.self,f;if(g&&g.$isClass){f=k.privates;if(f){k=Ext.apply({},k);delete k.privates;H(e,g,f)}H(e,g,k)}else{Ext.apply(e,k)}}}return e},valueFrom:function(e,g,f){return Ext.isEmpty(e,f)?g:e},isEmpty:function(f,e){return(f==null)||(!e?f==="":false)||(Ext.isArray(f)&&f.length===0)},isArray:("isArray" in Array)?Array.isArray:function(e){return C.call(e)==="[object Array]"},isDate:function(e){return C.call(e)==="[object Date]"},isMSDate:function(e){if(!Ext.isString(e)){return false}return A.test(e)},isObject:(C.call(null)==="[object Object]")?function(e){return e!==null&&e!==undefined&&C.call(e)==="[object Object]"&&e.ownerDocument===undefined}:function(e){return C.call(e)==="[object Object]"},isSimpleObject:function(e){return e instanceof Object&&e.constructor===Object},isPrimitive:function(e){var f=typeof e;return f==="string"||f==="number"||f==="boolean"},isFunction:(typeof document!=="undefined"&&typeof document.getElementsByTagName("body")==="function")?function(e){return !!e&&C.call(e)==="[object Function]"}:function(e){return !!e&&typeof e==="function"},isNumber:function(e){return typeof e==="number"&&isFinite(e)},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return typeof e==="string"},isBoolean:function(e){return typeof e==="boolean"},isElement:function(e){return e?e.nodeType===1:false},isTextNode:function(e){return e?e.nodeName==="#text":false},isDefined:function(e){return typeof e!=="undefined"},isIterable:function(e){if(!e||typeof e.length!=="number"||typeof e==="string"||Ext.isFunction(e)){return false}if(!e.propertyIsEnumerable){return !!e.item}if(e.hasOwnProperty("length")&&!e.propertyIsEnumerable("length")){return true}return B.test(C.call(e))},isDebugEnabled:v,clone:function(o,m){if(o===null||o===undefined){return o}if(m!==false&&o.nodeType&&o.cloneNode){return o.cloneNode(true)}var f=C.call(o),n,g,k,l,e;if(f==="[object Date]"){return new Date(o.getTime())}if(f==="[object Array]"){n=o.length;l=[];while(n--){l[n]=Ext.clone(o[n],m)}}else{if(f==="[object Object]"&&o.constructor===Object){l={};for(e in o){l[e]=Ext.clone(o[e],m)}if(F){for(g=F.length;g--;){k=F[g];if(o.hasOwnProperty(k)){l[k]=o[k]}}}}}return l||o},getUniqueGlobalNamespace:function(){var e=this.uniqueGlobalNamespace,f;if(e===undefined){f=0;do{e="ExtBox"+(++f)}while(D[e]!==undefined);D[e]=Ext;this.uniqueGlobalNamespace=e}return e},functionFactoryCache:{},cacheableFunctionFactory:function(){var f=this,e=Array.prototype.slice.call(arguments),g=f.functionFactoryCache,k,m,l;if(Ext.isSandboxed){l=e.length;if(l>0){l--;e[l]="var Ext=window."+Ext.name+";"+e[l]}}k=e.join("");m=g[k];if(!m){m=Function.prototype.constructor.apply(Function.prototype,e);g[k]=m}return m},functionFactory:function(){var f=Array.prototype.slice.call(arguments),e;if(Ext.isSandboxed){e=f.length;if(e>0){e--;f[e]="var Ext=window."+Ext.name+";"+f[e]}}return Function.prototype.constructor.apply(Function.prototype,f)},Logger:{verbose:v,log:v,info:v,warn:v,error:function(e){throw new Error(e)},deprecate:v},ariaWarn:function(f,e){if(Ext.enableAria&&!Ext.slicer){if(!Ext.ariaWarn.first){Ext.ariaWarn.first=true;Ext.log.warn("WAI-ARIA compatibility warnings can be suppressed by adding the following to application startup code:");Ext.log.warn("    Ext.ariaWarn = Ext.emptyFn;")}Ext.log.warn({msg:e,dump:f})}},getElementById:function(e){return document.getElementById(e)},splitAndUnescape:(function(){var e={};return function(n,g){if(!n){return[]}else{if(!g){return[n]}}var f=e[g]||(e[g]=new RegExp("\\\\"+g,"g")),k=[],m,l;m=n.split(g);while((l=m.shift())!==undefined){while(l.charAt(l.length-1)==="\\"&&m.length>0){l=l+g+m.shift()}l=l.replace(f,g);k.push(l)}return k}})()});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=true}());Ext.platformTags.modern=!(Ext.platformTags.classic=Ext.isClassic=true);(function(){function f(){var n=this,o=n.sourceClass,e=n.sourceMethod,m=n.msg;if(e){if(m){e+="(): ";e+=m}else{e+="()"}}if(o){e=e?(o+"."+e):o}return e||m||""}Ext.Error=function(e){if(Ext.isString(e)){e={msg:e}}var k=new Error();Ext.apply(k,e);k.message=k.message||k.msg;k.toString=f;return k};Ext.apply(Ext.Error,{ignore:false,raise:function(o){o=o||{};if(Ext.isString(o)){o={msg:o}}var p=this,e=p.raise.caller,n,q;if(e===Ext.raise){e=e.caller}if(e){if(!o.sourceMethod&&(q=e.$name)){o.sourceMethod=q}if(!o.sourceClass&&(q=e.$owner)&&(q=q.$className)){o.sourceClass=q}}if(p.handle(o)!==true){n=f.call(o);throw new Ext.Error(o)}},handle:function(){return this.ignore}})})();Ext.deprecated=function(f){return Ext.emptyFn};Ext.raise=function(){Ext.Error.raise.apply(Ext.Error,arguments)};Ext.Array=(function(){var P=Array.prototype,H=P.slice,F=(function(){var g=[],f,k=20;if(!g.splice){return false}while(k--){g.push("A")}g.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");f=g.length;g.splice(13,0,"XXX");if(f+1!==g.length){return false}return true}()),G="indexOf" in P,M=true;function I(f,m){var k=f.length,g=new Array(k),l;for(l=0;l<k;l++){g[l]=l}g.sort(function(n,o){return m(f[n],f[o])||(n-o)});for(l=0;l<k;l++){g[l]=f[g[l]]}for(l=0;l<k;l++){f[l]=g[l]}return f}try{if(typeof document!=="undefined"){H.call(document.getElementsByTagName("body"))}}catch(D){M=false}var K=function(g,f){return(f<0)?Math.max(0,g.length+f):Math.min(g.length,f)},J=function(q,s,k,n){var m=n?n.length:0,f=q.length,p=K(q,s);if(p===f){if(m){q.push.apply(q,n)}}else{var t=Math.min(k,f-p),o=p+t,g=o+m-t,l=f-o,v=f-t,u;if(g<o){for(u=0;u<l;++u){q[g+u]=q[o+u]}}else{if(g>o){for(u=l;u--;){q[g+u]=q[o+u]}}}if(m&&p===v){q.length=v;q.push.apply(q,n)}else{q.length=v+m;for(u=0;u<m;++u){q[p+u]=n[u]}}}return q},N=function(g,f,k,l){if(l&&l.length){if(f===0&&!k){g.unshift.apply(g,l)}else{if(f<g.length){g.splice.apply(g,[f,k].concat(l))}else{g.push.apply(g,l)}}}else{g.splice(f,k)}return g},Q=function(g,f,k){return J(g,f,k)},E=function(g,f,k){g.splice(f,k);return g},L=function(f,n,l){var k=arguments.length,g=K(f,n),m;if(k<3){l=f.length-g}m=f.slice(n,K(f,g+l));if(k<4){J(f,g,l)}else{J(f,g,l,H.call(arguments,3))}return m},O=function(f){return f.splice.apply(f,H.call(arguments,1))},e=F?E:Q,C=F?N:J,B=F?O:L,R={binarySearch:function(f,l,o,n,g){var m=f.length,p,k;if(o instanceof Function){g=o;o=0;n=m}else{if(n instanceof Function){g=n;n=m}else{if(o===undefined){o=0}if(n===undefined){n=m}g=g||R.lexicalCompare}}--n;while(o<=n){p=(o+n)>>1;k=g(l,f[p]);if(k>=0){o=p+1}else{if(k<0){n=p-1}}}return o},defaultCompare:function(f,g){return(f<g)?-1:((f>g)?1:0)},lexicalCompare:function(f,g){f=String(f);g=String(g);return(f<g)?-1:((f>g)?1:0)},each:function(f,l,m,k){f=R.from(f);var n,g=f.length;if(k!==true){for(n=0;n<g;n++){if(l.call(m||f[n],f[n],n,f)===false){return n}}}else{for(n=g-1;n>-1;n--){if(l.call(m||f[n],f[n],n,f)===false){return n}}}return true},forEach:("forEach" in P)?function(g,k,f){return g.forEach(k,f)}:function(f,l,m){for(var k=0,g=f.length;k<g;k++){l.call(m,f[k],k,f)}},indexOf:G?function(g,f,k){return g?P.indexOf.call(g,f,k):-1}:function(f,l,k){var g,m=f?f.length:0;for(g=(k<0)?Math.max(0,m+k):k||0;g<m;g++){if(f[g]===l){return g}}return -1},contains:G?function(g,f){return P.indexOf.call(g,f)!==-1}:function(g,k){var f,l;for(f=0,l=g.length;f<l;f++){if(g[f]===k){return true}}return false},toArray:function(l,f,k){if(!l||!l.length){return[]}if(typeof l==="string"){l=l.split("")}if(M){return H.call(l,f||0,k||l.length)}var g=[],m;f=f||0;k=k?((k<0)?l.length+k:k):l.length;for(m=f;m<k;m++){g.push(l[m])}return g},pluck:function(f,l){var n=[],m,g,k;for(m=0,g=f.length;m<g;m++){k=f[m];n.push(k[l])}return n},map:("map" in P)?function(g,k,f){return g.map(k,f)}:function(f,g,l){var k=f.length,m=new Array(k),n;for(n=0;n<k;n++){m[n]=g.call(l,f[n],n,f)}return m},every:("every" in P)?function(g,k,f){return g.every(k,f)}:function(f,l,m){var k=0,g=f.length;for(;k<g;++k){if(!l.call(m,f[k],k,f)){return false}}return true},some:("some" in P)?function(g,k,f){return g.some(k,f)}:function(f,l,m){var k=0,g=f.length;for(;k<g;++k){if(l.call(m,f[k],k,f)){return true}}return false},equals:function(f,k){var m=f.length,g=k.length,l;if(f===k){return true}if(m!==g){return false}for(l=0;l<m;++l){if(f[l]!==k[l]){return false}}return true},clean:function(f){var m=[],k=0,g=f.length,l;for(;k<g;k++){l=f[k];if(!Ext.isEmpty(l)){m.push(l)}}return m},unique:function(f){var k=[],g=0,l=f.length,m;for(;g<l;g++){m=f[g];if(R.indexOf(k,m)===-1){k.push(m)}}return k},filter:("filter" in P)?function(g,k,f){return g.filter(k,f)}:function(f,l,m){var n=[],k=0,g=f.length;for(;k<g;k++){if(l.call(m,f[k],k,f)){n.push(f[k])}}return n},findBy:function(f,k,l){var m=0,g=f.length;for(;m<g;m++){if(k.call(l||f,f[m],m)){return f[m]}}return null},from:function(g,k){if(g===undefined||g===null){return[]}if(Ext.isArray(g)){return(k)?H.call(g):g}var f=typeof g;if(g&&g.length!==undefined&&f!=="string"&&(f!=="function"||!g.apply)){return R.toArray(g)}return[g]},remove:function(g,k){var f=R.indexOf(g,k);if(f!==-1){e(g,f,1)}return g},removeAt:function(g,l,k){var f=g.length;if(l>=0&&l<f){k=k||1;k=Math.min(k,f-l);e(g,l,k)}return g},include:function(g,f){if(!R.contains(g,f)){g.push(f)}},clone:function(f){return H.call(f)},merge:function(){var g=H.call(arguments),f=[],l,k;for(l=0,k=g.length;l<k;l++){f=f.concat(g[l])}return R.unique(f)},intersect:function(){var n=[],g=H.call(arguments),m,p,u,q,l,f,k,s,o,x,t,v,w;if(!g.length){return n}m=g.length;for(t=l=0;t<m;t++){f=g[t];if(!q||f.length<q.length){q=f;l=t}}q=R.unique(q);e(g,l,1);k=q.length;m=g.length;for(t=0;t<k;t++){s=q[t];x=0;for(v=0;v<m;v++){p=g[v];u=p.length;for(w=0;w<u;w++){o=p[w];if(s===o){x++;break}}}if(x===m){n.push(s)}}return n},difference:function(o,m){var f=H.call(o),k=f.length,l,n,g;for(l=0,g=m.length;l<g;l++){for(n=0;n<k;n++){if(f[n]===m[l]){e(f,n,1);n--;k--}}}return f},reduce:Array.prototype.reduce?function(g,k,f){if(arguments.length===3){return Array.prototype.reduce.call(g,k,f)}return Array.prototype.reduce.call(g,k)}:function(f,g,l){f=Object(f);var m=0,k=f.length>>>0,n=l;if(arguments.length<3){while(true){if(m in f){n=f[m++];break}if(++m>=k){throw new TypeError("Reduce of empty array with no initial value")}}}for(;m<k;++m){if(m in f){n=g(n,f[m],m,f)}}return n},slice:([1,2].slice(1,undefined).length?function(g,k,f){return H.call(g,k,f)}:function(g,k,f){if(typeof k==="undefined"){return H.call(g)}if(typeof f==="undefined"){return H.call(g,k)}return H.call(g,k,f)}),sort:function(g,f){return I(g,f||R.lexicalCompare)},flatten:function(g){var k=[];function f(o){var m,l,n;for(m=0,l=o.length;m<l;m++){n=o[m];if(Ext.isArray(n)){f(n)}else{k.push(n)}}return k}return f(g)},min:function(f,g){var n=f[0],l,k,m;for(l=0,k=f.length;l<k;l++){m=f[l];if(g){if(g(n,m)===1){n=m}}else{if(m<n){n=m}}}return n},max:function(f,g){var l=f[0],n,k,m;for(n=0,k=f.length;n<k;n++){m=f[n];if(g){if(g(l,m)===-1){l=m}}else{if(m>l){l=m}}}return l},mean:function(f){return f.length>0?R.sum(f)/f.length:undefined},sum:function(f){var m=0,k,g,l;for(k=0,g=f.length;k<g;k++){l=f[k];m+=l}return m},toMap:function(f,k,l){var g={},m=f.length;if(!k){while(m--){g[f[m]]=m+1}}else{if(typeof k==="string"){while(m--){g[f[m][k]]=m+1}}else{while(m--){g[k.call(l,f[m])]=m+1}}}return g},toValueMap:function(s,f,m,t){var l={},g=s.length,k,u,o,q,n,p;if(!f){while(g--){p=s[g];l[p]=p}}else{if(!(q=(typeof f!=="string"))){t=m}u=t===1;k=t===2;while(g--){p=s[g];n=q?f.call(m,p):p[f];if(u){if(n in l){l[n].push(p)}else{l[n]=[p]}}else{if(k&&(n in l)){if((o=l[n]) instanceof Array){o.push(p)}else{l[n]=[o,p]}}else{l[n]=p}}}}return l},erase:e,insert:function(g,k,f){return C(g,k,0,f)},move:function(f,n,l){if(l===n){return}var m=f[n],g=l>n?1:-1,k;for(k=n;k!=l;k+=g){f[k]=f[k+g]}f[l]=m},replace:C,splice:B,push:function(g){var f=arguments.length,k=1,l;if(g===undefined){g=[]}else{if(!Ext.isArray(g)){g=[g]}}for(;k<f;k++){l=arguments[k];Array.prototype.push[Ext.isIterable(l)?"apply":"call"](g,l)}return g},numericSortFn:function(g,f){return g-f}};Ext.each=R.each;R.union=R.merge;Ext.min=R.min;Ext.max=R.max;Ext.sum=R.sum;Ext.mean=R.mean;Ext.flatten=R.flatten;Ext.clean=R.clean;Ext.unique=R.unique;Ext.pluck=R.pluck;Ext.toArray=function(){return R.toArray.apply(R,arguments)};return R}());Ext.String=(function(){var z=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,J=/('|\\)/g,F=/([-.*+?\^${}()|\[\]\/\\])/g,H=/^\s+|\s+$/g,y=/\s+/,L=/(^[^a-z]*|[^\w])/gi,C,G,A,D,B=function(f,e){return C[e]},x=function(f,e){return(e in G)?G[e]:String.fromCharCode(parseInt(e.substr(2),10))},E=function(f,e){if(f===null||f===undefined||e===null||e===undefined){return false}return e.length<=f.length},K=String.fromCharCode,I;return I={fromCodePoint:String.fromCodePoint||function(){var g,f="",e=[],l=-1,k=arguments.length;while(++l<k){g=Number(arguments[l]);if(!isFinite(g)||g<0||g>1114111||Math.floor(g)!==g){Ext.raise("Invalid code point: "+g)}if(g<=65535){e.push(g)}else{g-=65536;e.push((g>>10)+55296,(g%1024)+56320)}if(l+1===k){f+=K(e);e.length=0}}return f},insert:function(g,f,k){if(!g){return f}if(!f){return g}var e=g.length;if(!k&&k!==0){k=e}if(k<0){k*=-1;if(k>=e){k=0}else{k=e-k}}if(k===0){g=f+g}else{if(k>=g.length){g+=f}else{g=g.substr(0,k)+f+g.substr(k)}}return g},startsWith:function(g,f,k){var e=E(g,f);if(e){if(k){g=g.toLowerCase();f=f.toLowerCase()}e=g.lastIndexOf(f,0)===0}return e},endsWith:function(f,k,g){var e=E(f,k);if(e){if(g){f=f.toLowerCase();k=k.toLowerCase()}e=f.indexOf(k,f.length-k.length)!==-1}return e},createVarName:function(e){return e.replace(L,"")},htmlEncode:function(e){return(!e)?e:String(e).replace(A,B)},htmlDecode:function(e){return(!e)?e:String(e).replace(D,x)},hasHtmlCharacters:function(e){return A.test(e)},addCharacterEntities:function(l){var f=[],k=[],g,e;for(g in l){e=l[g];G[g]=e;C[e]=g;f.push(e);k.push(g)}A=new RegExp("("+f.join("|")+")","g");D=new RegExp("("+k.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){C={};G={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(f,e){if(!Ext.isEmpty(e)){return f+(f.indexOf("?")===-1?"?":"&")+e}return f},trim:function(e){if(e){e=e.replace(z,"")}return e||""},capitalize:function(e){if(e){e=e.charAt(0).toUpperCase()+e.substr(1)}return e||""},uncapitalize:function(e){if(e){e=e.charAt(0).toLowerCase()+e.substr(1)}return e||""},ellipsis:function(g,l,f){if(g&&g.length>l){if(f){var k=g.substr(0,l-2),e=Math.max(k.lastIndexOf(" "),k.lastIndexOf("."),k.lastIndexOf("!"),k.lastIndexOf("?"));if(e!==-1&&e>=(l-15)){return k.substr(0,e)+"..."}}return g.substr(0,l-3)+"..."}return g},escapeRegex:function(e){return e.replace(F,"\\$1")},createRegex:function(l,f,k,e){var g=l;if(l!=null&&!l.exec){g=I.escapeRegex(String(l));if(f!==false){g="^"+g}if(k!==false){g+="$"}g=new RegExp(g,(e!==false)?"i":"")}return g},escape:function(e){return e.replace(J,"\\$1")},toggle:function(g,f,e){return g===f?e:f},leftPad:function(k,g,f){var e=String(k);f=f||" ";while(e.length<g){e=f+e}return e},repeat:function(l,f,k){if(f<1){f=0}for(var e=[],g=f;g--;){e.push(l)}return e.join(k||"")},splitWords:function(e){if(e&&typeof e=="string"){return e.replace(H,"").split(y)}return e||[]}}}());Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Date=(function(){var x,y=Date,D=/(\\.)/g,C=/([gGhHisucUOPZ]|MS)/,w=/([djzmnYycU]|MS)/,t=/\\/gi,A=/\{(\d+)\}/g,v=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),z=Ext.String.leftPad,B=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return (v != null) ? v : null;"].join("\n");if(!Date.prototype.toISOString){Date.prototype.toISOString=function(){var e=this;return z(e.getUTCFullYear(),4,"0")+"-"+z(e.getUTCMonth()+1,2,"0")+"-"+z(e.getUTCDate(),2,"0")+"T"+z(e.getUTCHours(),2,"0")+":"+z(e.getUTCMinutes(),2,"0")+":"+z(e.getUTCSeconds(),2,"0")+"."+z(e.getUTCMilliseconds(),3,"0")+"Z"}}function u(e){var f=Array.prototype.slice.call(arguments,1);return e.replace(A,function(k,g){return f[g]})}x={now:y.now,toString:function(e){if(!e){e=new y()}return e.getFullYear()+"-"+z(e.getMonth()+1,2,"0")+"-"+z(e.getDate(),2,"0")+"T"+z(e.getHours(),2,"0")+":"+z(e.getMinutes(),2,"0")+":"+z(e.getSeconds(),2,"0")},getElapsed:function(e,f){return Math.abs(e-(f||x.now()))},useStrict:false,formatCodeToRegex:function(f,g){var e=x.parseCodes[f];if(e){e=typeof e==="function"?e():e;x.parseCodes[f]=e}return e?Ext.applyIf({c:e.c?u(e.c,g||"{0}"):e.c},e):{g:0,c:null,s:Ext.String.escapeRegex(f)}},parseFunctions:{MS:function(f,g){var e=(f||"").match(v);return e?new y(((e[1]||"")+e[2])*1):null},time:function(f,g){var e=parseInt(f,10);if(e||e===0){return new y(e)}return null},timestamp:function(f,g){var e=parseInt(f,10);if(e||e===0){return new y(e*1000)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return x.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",DAYS_IN_WEEK:7,MONTHS_IN_YEAR:12,MAX_DAYS_IN_MONTH:31,SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",firstDayOfWeek:0,weekendDays:[0,6],getShortMonthName:function(e){return x.monthNames[e].substring(0,3)},getShortDayName:function(e){return x.dayNames[e].substring(0,3)},getMonthNumber:function(e){return x.monthNumbers[e.substring(0,1).toUpperCase()+e.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(e){return C.test(e.replace(D,""))},formatContainsDateInfo:function(e){return w.test(e.replace(D,""))},unescapeFormat:function(e){return e.replace(t,"")},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(m.getDay())",j:"m.getDate()",l:"Ext.Date.dayNames[m.getDay()]",N:"(m.getDay() ? m.getDay() : 7)",S:"Ext.Date.getSuffix(m)",w:"m.getDay()",z:"Ext.Date.getDayOfYear(m)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:"Ext.Date.monthNames[m.getMonth()]",m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(m.getMonth())",n:"(m.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(m)",L:"(Ext.Date.isLeapYear(m) ? 1 : 0)",o:"(m.getFullYear() + (Ext.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:"((m.getHours() % 12) ? m.getHours() % 12 : 12)",G:"m.getHours()",h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(m)",P:"Ext.Date.getGMTOffset(m, true)",T:"Ext.Date.getTimezone(m)",Z:"(m.getTimezoneOffset() * -60)",c:function(){var e="Y-m-dTH:i:sP",g=[],k,l=e.length,f;for(k=0;k<l;++k){f=e.charAt(k);g.push(f==="T"?"'T'":x.getFormatCode(f))}return g.join(" + ")},C:function(){return"m.toISOString()"},U:"Math.round(m.getTime() / 1000)"},isValid:function(g,n,l,m,f,k,o){m=m||0;f=f||0;k=k||0;o=o||0;var e=x.add(new y(g<100?100:g,n-1,l,m,f,k,o),x.YEAR,g<100?g-100:0);return g===e.getFullYear()&&n===e.getMonth()+1&&l===e.getDate()&&m===e.getHours()&&f===e.getMinutes()&&k===e.getSeconds()&&o===e.getMilliseconds()},parse:function(g,e,k){var f=x.parseFunctions;if(f[e]==null){x.createParser(e)}return f[e].call(x,g,Ext.isDefined(k)?k:x.useStrict)},parseDate:function(f,e,g){return x.parse(f,e,g)},getFormatCode:function(e){var f=x.formatCodes[e];if(f){f=typeof f==="function"?f():f;x.formatCodes[e]=f}return f||("'"+Ext.String.escape(e)+"'")},createFormat:function(e){var f=[],l=false,g="",k;for(k=0;k<e.length;++k){g=e.charAt(k);if(!l&&g==="\\"){l=true}else{if(l){l=false;f.push("'"+Ext.String.escape(g)+"'")}else{if(g==="\n"){f.push("'\\n'")}else{f.push(x.getFormatCode(g))}}}}x.formatFunctions[e]=Ext.functionFactory("var m=this;return "+f.join("+"))},createParser:function(f){var q=x.parseRegexes.length,e=1,p=[],g=[],l=false,s="",n=0,m=f.length,k=[],o;for(;n<m;++n){s=f.charAt(n);if(!l&&s==="\\"){l=true}else{if(l){l=false;g.push(Ext.String.escape(s))}else{o=x.formatCodeToRegex(s,e);e+=o.g;g.push(o.s);if(o.g&&o.c){if(o.calcAtEnd){k.push(o.c)}else{p.push(o.c)}}}}}p=p.concat(k);x.parseRegexes[q]=new RegExp("^"+g.join("")+"$","i");x.parseFunctions[f]=Ext.functionFactory("input","strict",u(B,q,p.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var f=[],e=0;e<7;f.push(x.getShortDayName(e)),++e){}return{g:0,c:null,s:"(?:"+f.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+x.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+x.monthNames.join("|")+")"}},M:function(){for(var f=[],e=0;e<12;f.push(x.getShortMonthName(e)),++e){}return Ext.applyIf({s:"("+f.join("|")+")"},x.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var f=[],k=[x.formatCodeToRegex("Y",1),x.formatCodeToRegex("m",2),x.formatCodeToRegex("d",3),x.formatCodeToRegex("H",4),x.formatCodeToRegex("i",5),x.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",x.formatCodeToRegex("P",8).c,"}else{",x.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],e,g;for(e=0,g=k.length;e<g;++e){f.push(k[e].c)}return{g:1,c:f.join(""),s:[k[0].s,"(?:","-",k[1].s,"(?:","-",k[2].s,"(?:","(?:T| )?",k[3].s,":",k[4].s,"(?::",k[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(f,e){return x.format(f,e)},isEqual:function(e,f){if(e&&f){return(e.getTime()===f.getTime())}return !(e||f)},format:function(f,e){var g=x.formatFunctions;if(!Ext.isDate(f)){return""}if(g[e]==null){x.createFormat(e)}return g[e].call(f)+""},getTimezone:function(e){return e.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(g,f){var e=g.getTimezoneOffset();return(e>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(e)/60),2,"0")+(f?":":"")+Ext.String.leftPad(Math.abs(e%60),2,"0")},getDayOfYear:function(g){var k=0,e=x.clone(g),l=g.getMonth(),f;for(f=0,e.setDate(1),e.setMonth(0);f<l;e.setMonth(++f)){k+=x.getDaysInMonth(e)}return k+g.getDate()-1},getWeekOfYear:(function(){var f=86400000,e=7*f;return function(k){var g=y.UTC(k.getFullYear(),k.getMonth(),k.getDate()+3)/f,l=Math.floor(g/7),m=new y(l*e).getUTCFullYear();return l-Math.floor(y.UTC(m,0,7)/e)+1}}()),isLeapYear:function(f){var e=f.getFullYear();return !!((e&3)===0&&(e%100||(e%400===0&&e)))},getFirstDayOfMonth:function(e){var f=(e.getDay()-(e.getDate()-1))%7;return(f<0)?(f+7):f},getLastDayOfMonth:function(e){return x.getLastDateOfMonth(e).getDay()},getFirstDateOfMonth:function(e){return new y(e.getFullYear(),e.getMonth(),1)},getLastDateOfMonth:function(e){return new y(e.getFullYear(),e.getMonth(),x.getDaysInMonth(e))},getDaysInMonth:(function(){var e=[31,28,31,30,31,30,31,31,30,31,30,31];return function(f){var g=f.getMonth();return g===1&&x.isLeapYear(f)?29:e[g]}}()),getSuffix:function(e){switch(e.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(e){return new y(e.getTime())},isDST:function(e){return new y(e.getFullYear(),0,1).getTimezoneOffset()!==e.getTimezoneOffset()},clearTime:function(l,e){if(isNaN(l.getTime())){return l}if(e){return x.clearTime(x.clone(l))}var g=l.getDate(),k,f;l.setHours(0);l.setMinutes(0);l.setSeconds(0);l.setMilliseconds(0);if(l.getDate()!==g){for(k=1,f=x.add(l,x.HOUR,k);f.getDate()!==g;k++,f=x.add(l,x.HOUR,k)){}l.setDate(g);l.setHours(f.getHours())}return l},add:function(g,k,n){var m=x.clone(g),e=0,l,f;if(!k||n===0){return m}f=n-parseInt(n,10);n=parseInt(n,10);if(n){switch(k.toLowerCase()){case x.MILLI:m.setTime(m.getTime()+n);break;case x.SECOND:m.setTime(m.getTime()+n*1000);break;case x.MINUTE:m.setTime(m.getTime()+n*60*1000);break;case x.HOUR:m.setTime(m.getTime()+n*60*60*1000);break;case x.DAY:m.setTime(m.getTime()+n*24*60*60*1000);break;case x.MONTH:l=g.getDate();if(l>28){l=Math.min(l,x.getLastDateOfMonth(x.add(x.getFirstDateOfMonth(g),x.MONTH,n)).getDate())}m.setDate(l);m.setMonth(g.getMonth()+n);break;case x.YEAR:l=g.getDate();if(l>28){l=Math.min(l,x.getLastDateOfMonth(x.add(x.getFirstDateOfMonth(g),x.YEAR,n)).getDate())}m.setDate(l);m.setFullYear(g.getFullYear()+n);break}}if(f){switch(k.toLowerCase()){case x.MILLI:e=1;break;case x.SECOND:e=1000;break;case x.MINUTE:e=1000*60;break;case x.HOUR:e=1000*60*60;break;case x.DAY:e=1000*60*60*24;break;case x.MONTH:l=x.getDaysInMonth(m);e=1000*60*60*24*l;break;case x.YEAR:l=(x.isLeapYear(m)?366:365);e=1000*60*60*24*l;break}if(e){m.setTime(m.getTime()+e*f)}}return m},subtract:function(f,g,e){return x.add(f,g,-e)},between:function(g,e,k){var f=g.getTime();return e.getTime()<=f&&f<=k.getTime()},isWeekend:function(e){return Ext.Array.indexOf(this.weekendDays,e.getDay())>-1},utcToLocal:function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())},localToUtc:function(e){return x.utc(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},utc:function(n,m,k,l,f,e,g){return new Date(Date.UTC(n,m,k,l||0,f||0,e||0,g||0))},compat:function(){var n,f=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],o=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],l=f.length,m=o.length,g,e,k;for(k=0;k<l;k++){g=f[k];y[g]=x[g]}for(n=0;n<m;n++){e=o[n];y.prototype[e]=function(){var p=Array.prototype.slice.call(arguments);p.unshift(this);return x[e].apply(x,p)}}},diff:function(k,l,f){var g,e=+l-k;switch(f){case x.MILLI:return e;case x.SECOND:return Math.floor(e/1000);case x.MINUTE:return Math.floor(e/60000);case x.HOUR:return Math.floor(e/3600000);case x.DAY:return Math.floor(e/86400000);case"w":return Math.floor(e/604800000);case x.MONTH:g=(l.getFullYear()*12+l.getMonth())-(k.getFullYear()*12+k.getMonth());if(x.add(k,f,g)>l){return g-1}return g;case x.YEAR:g=l.getFullYear()-k.getFullYear();if(x.add(k,f,g)>l){return g-1}else{return g}}},align:function(g,e,f){var k=new y(+g);switch(e.toLowerCase()){case x.MILLI:return k;case x.SECOND:k.setUTCSeconds(k.getUTCSeconds()-k.getUTCSeconds()%f);k.setUTCMilliseconds(0);return k;case x.MINUTE:k.setUTCMinutes(k.getUTCMinutes()-k.getUTCMinutes()%f);k.setUTCSeconds(0);k.setUTCMilliseconds(0);return k;case x.HOUR:k.setUTCHours(k.getUTCHours()-k.getUTCHours()%f);k.setUTCMinutes(0);k.setUTCSeconds(0);k.setUTCMilliseconds(0);return k;case x.DAY:if(f===7||f===14){k.setUTCDate(k.getUTCDate()-k.getUTCDay()+1)}k.setUTCHours(0);k.setUTCMinutes(0);k.setUTCSeconds(0);k.setUTCMilliseconds(0);return k;case x.MONTH:k.setUTCMonth(k.getUTCMonth()-(k.getUTCMonth()-1)%f,1);k.setUTCHours(0);k.setUTCMinutes(0);k.setUTCSeconds(0);k.setUTCMilliseconds(0);return k;case x.YEAR:k.setUTCFullYear(k.getUTCFullYear()-k.getUTCFullYear()%f,1,1);k.setUTCHours(0);k.setUTCMinutes(0);k.setUTCSeconds(0);k.setUTCMilliseconds(0);return g}}};x.parseCodes.C=x.parseCodes.c;return x}());Ext.Function=(function(){var D=0,G,A=[],F=[],x=0,w={},y=window,B=Ext.global,z=!!(B.setImmediate&&B.clearImmediate),H=y.requestAnimationFrame||y.webkitRequestAnimationFrame||y.mozRequestAnimationFrame||y.oRequestAnimationFrame||function(k){var g=Ext.now(),f=Math.max(0,16-(g-D)),e=y.setTimeout(function(){k(g+f)},f);D=g+f;return e},C=function(){var g=A.length,k,f,e;G=null;for(f=0;f<g;f++){e=A[f];k=e[3];if(w[k]){e[0].apply(e[1]||B,e[2]||F);delete w[k]}}A=A.slice(g)},E=function(){Ext.elevateFunction(C)},v={flexSetter:function(e){return function(f,k){var g,l;if(f!==null){if(typeof f!=="string"){for(g in f){if(f.hasOwnProperty(g)){e.call(this,g,f[g])}}if(Ext.enumerables){for(l=Ext.enumerables.length;l--;){g=Ext.enumerables[l];if(f.hasOwnProperty(g)){e.call(this,g,f[g])}}}}else{e.call(this,f,k)}}return this}},bind:function(m,f,g,k){if(arguments.length===2){return function(){return m.apply(f,arguments)}}var e=m,l=Array.prototype.slice;return function(){var n=g||arguments;if(k===true){n=l.call(arguments,0);n=n.concat(g)}else{if(typeof k==="number"){n=l.call(arguments,0);Ext.Array.insert(n,k,g)}}return e.apply(f||B,n)}},bindCallback:function(k,l,e,f,g){return function(){var m=Ext.Array.slice(arguments);return Ext.callback(k,l,e?e.concat(m):m,f,g)}},pass:function(e,g,f){if(!Ext.isArray(g)){if(Ext.isIterable(g)){g=Ext.Array.clone(g)}else{g=g!==undefined?[g]:[]}}return function(){var k=g.slice();k.push.apply(k,arguments);return e.apply(f||this,k)}},alias:function(e,f){return function(){return e[f].apply(e,arguments)}},clone:function(e){return function(){return e.apply(this,arguments)}},createInterceptor:function(k,e,f,g){if(!Ext.isFunction(e)){return k}else{g=Ext.isDefined(g)?g:null;return function(){var l=this,m=arguments;return(e.apply(f||l||B,m)!==false)?k.apply(l||B,m):g}}},createDelayed:function(k,e,l,f,g){if(l||f){k=Ext.Function.bind(k,l,f,g)}return function(){var n=this,m=Array.prototype.slice.call(arguments);setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(k,n,m)}else{k.apply(n,m)}},e)}},defer:function(k,e,l,f,g){k=Ext.Function.bind(k,l,f,g);if(e>0){return setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(k)}else{k()}},e)}k();return 0},interval:function(k,e,l,f,g){k=Ext.Function.bind(k,l,f,g);return setInterval(function(){if(Ext.elevateFunction){Ext.elevateFunction(k)}else{k()}},e)},createSequence:function(f,e,g){if(!e){return f}else{return function(){var k=f.apply(this,arguments);e.apply(g||this,arguments);return k}}},createBuffered:function(k,f,l,e){var g;return function(){var n=e||Array.prototype.slice.call(arguments,0),m=l||this;if(g){clearTimeout(g)}g=setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(k,m,n)}else{k.apply(m,n)}},f)}},createAnimationFrame:function(l,e,f,k){var g;k=k||3;return function(){var m=f||Array.prototype.slice.call(arguments,0);e=e||this;if(k===3&&g){v.cancelAnimationFrame(g)}if((k&1)||!g){g=v.requestAnimationFrame(function(){g=null;l.apply(e,m)})}}},requestAnimationFrame:function(l,e,g){var k=++x,f=Array.prototype.slice.call(arguments,0);f[3]=k;w[k]=1;A.push(f);if(!G){G=H(Ext.elevateFunction?E:C)}return k},cancelAnimationFrame:function(e){delete w[e]},createThrottled:function(m,g,o){var f=0,k,e,l,n=function(){if(Ext.elevateFunction){Ext.elevateFunction(m,o,e)}else{m.apply(o,e)}f=Ext.now();l=null};return function(){if(!o){o=this}k=Ext.now()-f;e=arguments;if(k>=g){clearTimeout(l);n()}else{if(!l){l=Ext.defer(n,g-k)}}}},createBarrier:function(e,f,g){return function(){if(!--e){f.apply(g,arguments)}}},interceptBefore:function(f,g,l,e){var k=f[g]||Ext.emptyFn;return(f[g]=function(){var m=l.apply(e||this,arguments);k.apply(this,arguments);return m})},interceptAfter:function(f,g,l,e){var k=f[g]||Ext.emptyFn;return(f[g]=function(){k.apply(this,arguments);return l.apply(e||this,arguments)})},interceptAfterOnce:function(f,g,l,m){var e=f[g],k;k=function(){var n;if(e){e.apply(this,arguments)}n=l.apply(m||this,arguments);f[g]=e;f=g=l=m=e=k=null;return n};f[g]=k;return k},makeCallback:function(e,f){return function(){return f[e].apply(f,arguments)}},memoize:function(l,e,g){var f={},k=g&&Ext.isFunction(g);return function(n){var m=k?g.apply(e,arguments):n;if(!(m in f)){f[m]=l.apply(e,arguments)}return f[m]}}};Ext.asap=z?function(f,g,e){if(g!=null||e!=null){f=v.bind(f,g,e)}return setImmediate(function(){if(Ext.elevateFunction){Ext.elevateFunction(f)}else{f()}})}:function(f,g,e){if(g!=null||e!=null){f=v.bind(f,g,e)}return setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(f)}else{f()}},0,true)},Ext.asapCancel=z?function(e){clearImmediate(e)}:function(e){clearTimeout(e)};Ext.defer=v.defer;Ext.interval=v.interval;Ext.pass=v.pass;Ext.bind=v.bind;Ext.deferCallback=v.requestAnimationFrame;return v})();Ext.Number=(new function(){var l=this,m=(0.9).toFixed()!=="1",n=Math,o={count:false,inclusive:false,wrap:true};Ext.apply(l,{MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-(n.pow(2,53)-1),MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||n.pow(2,53)-1,Clip:{DEFAULT:o,COUNT:Ext.applyIf({count:true},o),INCLUSIVE:Ext.applyIf({inclusive:true},o),NOWRAP:Ext.applyIf({wrap:false},o)},clipIndices:function(k,g,x){x=x||o;var e=0,u=x.wrap,v,f,w;g=g||[];for(w=0;w<2;++w){v=f;f=g[w];if(f==null){f=e}else{if(w&&x.count){f+=v;f=(f>k)?k:f}else{if(u){f=(f<0)?(k+f):f}if(w&&x.inclusive){++f}f=(f<0)?0:((f>k)?k:f)}}e=k}g[0]=v;g[1]=(f<v)?v:f;return g},constrain:function(g,k,e){var f=parseFloat(g);if(k===null){k=g}if(e===null){e=g}return(f<k)?k:((f>e)?e:f)},snap:function(g,s,k,f){var e;if(g===undefined||g<k){return k||0}if(s){e=g%s;if(e!==0){g-=e;if(e*2>=s){g+=s}else{if(e*2<-s){g-=s}}}}return l.constrain(g,k,f)},snapInRange:function(k,f,q,g){var e;q=(q||0);if(k===undefined||k<q){return q}if(f&&(e=((k-q)%f))){k-=e;e*=2;if(e>=f){k+=f}}if(g!==undefined){if(k>(g=l.snapInRange(g,f,q))){k=g}}return k},roundToNearest:function(e,f){f=f||1;return f*n.round(e/f)},sign:n.sign||function(e){e=+e;if(e===0||isNaN(e)){return e}return(e>0)?1:-1},log10:n.log10||function(e){return n.log(e)*n.LOG10E},isEqual:function(e,f,g){return n.abs(e-f)<g},isFinite:Number.isFinite||function(e){return typeof e==="number"&&isFinite(e)},toFixed:m?function(g,f){f=f||0;var e=n.pow(10,f);return(n.round(g*e)/e).toFixed(f)}:function(e,f){return e.toFixed(f)},from:function(e,f){if(isFinite(e)){e=parseFloat(e)}return !isNaN(e)?e:f},randomInt:function(e,f){return n.floor(n.random()*(f-e+1)+e)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}});Ext.num=function(){return l.from.apply(this,arguments)}}());(function(){var p=function(){},s=/^\?/,q=/(\[):?([^\]]*)\]/g,t=/^([^\[]+)/,n=/\+/g,o=Ext.Object={chain:Object.create||function(e){p.prototype=e;var f=new p();p.prototype=null;return f},clear:function(f){for(var e in f){delete f[e]}return f},freeze:Object.freeze?function(e,g){if(e&&typeof e==="object"&&!Object.isFrozen(e)){Object.freeze(e);if(g){for(var f in e){o.freeze(e[f],g)}}}return e}:Ext.identityFn,toQueryObjects:function(l,e,m){var v=o.toQueryObjects,f=[],k,g;if(Ext.isArray(e)){for(k=0,g=e.length;k<g;k++){if(m){f=f.concat(v(l+"["+k+"]",e[k],true))}else{f.push({name:l,value:e[k]})}}}else{if(Ext.isObject(e)){for(k in e){if(e.hasOwnProperty(k)){if(m){f=f.concat(v(l+"["+k+"]",e[k],true))}else{f.push({name:l,value:e[k]})}}}}else{f.push({name:l,value:e})}}return f},toQueryString:function(e,g){var z=[],f=[],x,y,m,k,l;for(x in e){if(e.hasOwnProperty(x)){z=z.concat(o.toQueryObjects(x,e[x],g))}}for(y=0,m=z.length;y<m;y++){k=z[y];l=k.value;if(Ext.isEmpty(l)){l=""}else{if(Ext.isDate(l)){l=Ext.Date.toString(l)}}f.push(encodeURIComponent(k.name)+"="+encodeURIComponent(String(l)))}return f.join("&")},fromQueryString:function(Q,P){var l=Q.replace(s,"").split("&"),K={},M,I,m,k,e,N,g,f,R,J,L,G,H,O;for(e=0,N=l.length;e<N;e++){g=l[e];if(g.length>0){I=g.split("=");m=I[0];m=m.replace(n,"%20");m=decodeURIComponent(m);k=I[1];if(k!==undefined){k=k.replace(n,"%20");k=decodeURIComponent(k)}else{k=""}if(!P){if(K.hasOwnProperty(m)){if(!Ext.isArray(K[m])){K[m]=[K[m]]}K[m].push(k)}else{K[m]=k}}else{J=m.match(q);L=m.match(t);m=L[0];G=[];if(J===null){K[m]=k;continue}for(f=0,R=J.length;f<R;f++){H=J[f];H=(H.length===2)?"":H.substring(1,H.length-1);G.push(H)}G.unshift(m);M=K;for(f=0,R=G.length;f<R;f++){H=G[f];if(f===R-1){if(Ext.isArray(M)&&H===""){M.push(k)}else{M[H]=k}}else{if(M[H]===undefined||typeof M[H]==="string"){O=G[f+1];M[H]=(Ext.isNumeric(O)||O==="")?[]:{}}M=M[H]}}}}}return K},each:function(l,f,g){var m=Ext.enumerables,k,e;if(l){g=g||l;for(e in l){if(l.hasOwnProperty(e)){if(f.call(g,e,l[e],l)===false){return}}}if(m){for(k=m.length;k--;){if(l.hasOwnProperty(e=m[k])){if(f.call(g,e,l[e],l)===false){return}}}}}},eachValue:function(l,f,g){var m=Ext.enumerables,k,e;g=g||l;for(e in l){if(l.hasOwnProperty(e)){if(f.call(g,l[e])===false){return}}}if(m){for(k=m.length;k--;){if(l.hasOwnProperty(e=m[k])){if(f.call(g,l[e])===false){return}}}}},merge:function(x){var z=1,y=arguments.length,k=o.merge,f=Ext.clone,e,l,m,g;for(;z<y;z++){e=arguments[z];for(l in e){m=e[l];if(m&&m.constructor===Object){g=x[l];if(g&&g.constructor===Object){k(g,m)}else{x[l]=f(m)}}else{x[l]=m}}}return x},mergeIf:function(v){var g=1,f=arguments.length,l=Ext.clone,m,k,e;for(;g<f;g++){m=arguments[g];for(k in m){if(!(k in v)){e=m[k];if(e&&e.constructor===Object){v[k]=l(e)}else{v[k]=e}}}}return v},getAllKeys:function(g){var f=[],e;for(e in g){f.push(e)}return f},getKey:function(g,e){for(var f in g){if(g.hasOwnProperty(f)&&g[f]===e){return f}}return null},getValues:function(f){var g=[],e;for(e in f){if(f.hasOwnProperty(e)){g.push(f[e])}}return g},getKeys:(typeof Object.keys=="function")?function(e){if(!e){return[]}return Object.keys(e)}:function(g){var f=[],e;for(e in g){if(g.hasOwnProperty(e)){f.push(e)}}return f},getSize:function(g){var f=0,e;for(e in g){if(g.hasOwnProperty(e)){f++}}return f},isEmpty:function(f){for(var e in f){if(f.hasOwnProperty(e)){return false}}return true},equals:(function(){var e=function(f,g){var k;for(k in f){if(f.hasOwnProperty(k)){if(f[k]!==g[k]){return false}}}return true};return function(f,g){if(f===g){return true}if(f&&g){return e(f,g)&&e(g,f)}else{if(!f&&!g){return f===g}else{return false}}}})(),fork:function(e){var k,g,f;if(e&&e.constructor===Object){k=o.chain(e);for(g in e){f=e[g];if(f){if(f.constructor===Object){k[g]=o.fork(f)}else{if(f instanceof Array){k[g]=Ext.Array.clone(f)}}}}}else{k=e}return k},defineProperty:("defineProperty" in Object)?Object.defineProperty:function(f,g,e){if(!Object.prototype.__defineGetter__){return}if(e.get){f.__defineGetter__(g,e.get)}if(e.set){f.__defineSetter__(g,e.set)}},classify:function(k){var l=k,f=[],m={},v=function(){var z=0,y=f.length,u;for(;z<y;z++){u=f[z];this[u]=new m[u]()}},g,e;for(g in k){if(k.hasOwnProperty(g)){e=k[g];if(e&&e.constructor===Object){f.push(g);m[g]=o.classify(e)}}}v.prototype=l;return v}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf}());Ext.apply(Ext,{_namedScopes:{"this":{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:(function(){var o=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,n=/([\W]{1})/g,p=/^(\d)/g,q=function(f,e){return"\\"+e},m=function(f,e){return"\\00"+e.charCodeAt(0).toString(16)+" "};return function(e){return o.test(e)?e:e.replace(n,q).replace(p,m)}}()),callback:function(w,p,s,t,u,x){if(!w){return}var q=(p in Ext._namedScopes);if(w.charAt){if((!p||q)&&u){p=u.resolveListenerScope(q?p:x)}w=p[w]}else{if(q){p=x||u}else{if(!p){p=u}}}var v;if(w&&Ext.isFunction(w)){p=p||Ext.global;if(t){Ext.defer(w,t,p,s)}else{if(Ext.elevateFunction){v=Ext.elevateFunction(w,p,s)}else{if(s){v=w.apply(p,s)}else{v=w.call(p)}}}}return v},coerce:function(m,n){var o=Ext.typeOf(m),p=Ext.typeOf(n),q=typeof m==="string";if(o!==p){switch(p){case"string":return String(m);case"number":return Number(m);case"boolean":return q&&(!m||m==="false"||m==="0")?false:Boolean(m);case"null":return q&&(!m||m==="null")?null:false;case"undefined":return q&&(!m||m==="undefined")?undefined:false;case"date":return q&&isNaN(m)?Ext.Date.parse(m,Ext.Date.defaultFormat):Date(Number(m))}}return m},copyTo:function(t,q,n,p){if(typeof n==="string"){n=n.split(Ext.propertyNameSplitRe)}for(var u,s=0,v=n?n.length:0;s<v;s++){u=n[s];if(p||q.hasOwnProperty(u)){t[u]=q[u]}}return t},copy:function(t,q,n,p){if(typeof n==="string"){n=n.split(Ext.propertyNameSplitRe)}for(var u,s=0,v=n?n.length:0;s<v;s++){u=n[s];if(q.hasOwnProperty(u)||(p&&u in q)){t[u]=q[u]}}return t},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(t,p,o){if(typeof o==="string"){o=o.split(Ext.propertyNameSplitRe)}for(var s,q=0,n=o?o.length:0;q<n;q++){s=o[q];if(t[s]===undefined){t[s]=p[s]}}return t},copyIf:function(t,p,o){if(typeof o==="string"){o=o.split(Ext.propertyNameSplitRe)}for(var s,q=0,n=o?o.length:0;q<n;q++){s=o[q];if(!(s in t)&&(s in p)){t[s]=p[s]}}return t},extend:(function(){var k=Object.prototype.constructor,g=function(e){var f;for(f in e){if(!e.hasOwnProperty(f)){continue}this[f]=e[f]}};return function(q,s,e){if(Ext.isObject(s)){e=s;s=q;q=e.constructor!==k?e.constructor:function(){s.apply(this,arguments)}}var f=function(){},p,t=s.prototype;f.prototype=t;p=q.prototype=new f();p.constructor=q;q.superclass=t;if(t.constructor===k){t.constructor=s}q.override=function(l){Ext.override(q,l)};p.override=g;p.proto=p;q.override(e);q.extend=function(l){return Ext.extend(q,l)};return q}}()),iterate:function(m,k,l){if(Ext.isEmpty(m)){return}if(l===undefined){l=m}if(Ext.isIterable(m)){Ext.Array.each.call(Ext.Array,m,k,l)}else{Ext.Object.each.call(Ext.Object,m,k,l)}},_resourcePoolRe:/^[<]([^<>@:]*)(?:[@]([^<>@:]+))?[>](.+)$/,resolveResource:function(k){var l=k,m;if(k&&k.charAt(0)==="<"){m=Ext._resourcePoolRe.exec(k);if(m){l=Ext.getResourcePath(m[3],m[1],m[2])}}return l},urlEncode:function(){var k=Ext.Array.from(arguments),g="";if(Ext.isString(k[1])){g=k[1]+"&";k[1]=false}return g+Ext.Object.toQueryString.apply(Ext.Object,k)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(m){var n=Ext._scrollbarSize;if(m||!n){var o=document.body,l=document.createElement("div");l.style.width=l.style.height="100px";l.style.overflow="scroll";l.style.position="absolute";o.appendChild(l);Ext._scrollbarSize=n={width:l.offsetWidth-l.clientWidth,height:l.offsetHeight-l.clientHeight};o.removeChild(l)}return n},typeOf:(function(){var o=/\S/,m=Object.prototype.toString,l={number:1,string:1,"boolean":1,"undefined":1},n={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(k){if(k===null){return"null"}var e=typeof k,f,g;if(l[e]){return e}f=n[g=m.call(k)];if(f){return f}if(e==="function"){return"function"}if(e==="object"){if(k.nodeType!==undefined){if(k.nodeType===3){return o.test(k.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}return g}}()),factory:function(s,o,t,n){var p=Ext.ClassManager,q;if(!s||s.isInstance){if(t&&t!==s){t.destroy()}return s}if(n){if(typeof s==="string"){return p.instantiateByAlias(n+"."+s)}else{if(Ext.isObject(s)&&"type" in s){return p.instantiateByAlias(n+"."+s.type,s)}}}if(s===true){return t||Ext.create(o)}if("xtype" in s){q=p.instantiateByAlias("widget."+s.xtype,s)}else{if("xclass" in s){q=Ext.create(s.xclass,s)}}if(q){if(t){t.destroy()}return q}if(t){return t.setConfig(s)}return Ext.create(o,s)},log:(function(){var f=function(){};f.info=f.warn=f.error=Ext.emptyFn;return f}())});(function(){var s=[""],w=/([^\d\.])/,u=/[^\d]/g,v=/[\-+]/g,x=/\s/g,t=/_/g,p={classic:1,modern:1},q;Ext.Version=q=function(l,B){var k=this,D=k.padModes,f,n,C,o,g,e,m;if(l.isVersion){l=l.version}k.version=m=String(l).toLowerCase().replace(t,".").replace(v,"");f=m.charAt(0);if(f in D){m=m.substring(1);C=D[f]}else{C=B?D[B]:0}k.pad=C;e=m.search(w);k.shortVersion=m;if(e!==-1){k.release=g=m.substr(e,l.length);k.shortVersion=m.substr(0,e);g=q.releaseValueMap[g]||g}k.releaseValue=g||C;k.shortVersion=k.shortVersion.replace(u,"");k.parts=o=m.split(".");for(n=o.length;n--;){o[n]=parseInt(o[n],10)}if(C===Infinity){o.push(C)}k.major=o[0]||C;k.minor=o[1]||C;k.patch=o[2]||C;k.build=o[3]||C;return k};q.prototype={isVersion:true,padModes:{"~":NaN,"^":Infinity},release:"",compareTo:function(l){var k=this,F=k.pad,n=k.parts,e=n.length,G=l.isVersion?l:new q(l),f=G.pad,o=G.parts,D=o.length,g=Math.max(e,D),E,H,m;for(E=0;E<g;E++){H=(E<e)?n[E]:F;m=(E<D)?o[E]:f;if(H<m){return -1}if(H>m){return 1}}H=k.releaseValue;m=G.releaseValue;if(H<m){return -1}if(H>m){return 1}return 0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(e){return this.compareTo(e)>0},isGreaterThanOrEqual:function(e){return this.compareTo(e)>=0},isLessThan:function(e){return this.compareTo(e)<0},isLessThanOrEqual:function(e){return this.compareTo(e)<=0},equals:function(e){return this.compareTo(e)===0},match:function(e){e=String(e);return this.version.substr(0,e.length)===e},toArray:function(){var e=this;return[e.getMajor(),e.getMinor(),e.getPatch(),e.getBuild(),e.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(e){return this.compareTo(e)>0},lt:function(e){return this.compareTo(e)<0},gtEq:function(e){return this.compareTo(e)>=0},ltEq:function(e){return this.compareTo(e)<=0}};Ext.apply(q,{aliases:{from:{extjs:"ext",core:"core",touch:"modern"},to:{ext:["extjs"],core:["core"],modern:["touch"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(e){return !e?0:(isNaN(e)?this.releaseValueMap[e]||e:parseInt(e,10))},compare:function(e,f){var g=e.isVersion?e:new q(e);return g.compareTo(f)},set:function(e,g,k){var l=q.aliases.to[g],m=k.isVersion?k:new q(k),f;e[g]=m;if(l){for(f=l.length;f-->0;){e[l[f]]=m}}return m}});Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(f){var g=Ext.compatVersions,e;if(!f){e=g.ext||g.touch||g.core}else{e=g[q.aliases.from[f]||f]}return e||Ext.getVersion(f)},setCompatVersion:function(e,f){q.set(Ext.compatVersions,e,f)},setVersion:function(e,f){if(e in p){Ext.toolkit=e}Ext.lastRegisteredVersion=q.set(Ext.versions,e,f);return this},getVersion:function(e){var f=Ext.versions;if(!e){return f.ext||f.touch||f.core}return f[q.aliases.from[e]||e]},checkVersion:function(I,O){var m=Ext.isArray(I),P=q.aliases.from,M=m?I:s,g=M.length,N=Ext.versions,e=N.ext||N.touch,H,f,n,L,J,l,K,o,k;if(!m){s[0]=I}for(H=0;H<g;++H){if(!Ext.isString(K=M[H])){n=Ext.checkVersion(K.and||K.or,!K.or);if(K.not){n=!n}}else{if(K.indexOf(" ")>=0){K=K.replace(x,"")}f=K.indexOf("@");if(f<0){o=K;k=e}else{l=K.substring(0,f);if(!(k=N[P[l]||l])){if(O){return false}continue}o=K.substring(f+1)}f=o.indexOf("-");if(f<0){if(o.charAt(f=o.length-1)==="+"){L=o.substring(0,f);J=null}else{L=J=o}}else{if(f>0){L=o.substring(0,f);J=o.substring(f+1)}else{L=null;J=o.substring(f+1)}}n=true;if(L){L=new q(L,"~");n=L.ltEq(k)}if(n&&J){J=new q(J,"~");n=J.gtEq(k)}}if(n){if(!O){return true}}else{if(O){return false}}}return !!O},deprecate:function(k,f,e,g){if(q.compare(Ext.getVersion(k),f)<1){e.call(g)}}})}());(function(n){var m=(n&&n.packages)||{},o=n&&n.compatibility,p,q;for(p in m){q=m[p];Ext.setVersion(p,q.version)}if(o){if(Ext.isString(o)){Ext.setCompatVersion("core",o)}else{for(p in o){Ext.setCompatVersion(p,o[p])}}}if(!m.ext&&!m.touch){Ext.setVersion("ext","6.2.0.981");Ext.setVersion("core","6.2.0.981")}})(Ext.manifest);Ext.Config=function(l){var k=this,m=l.charAt(0).toUpperCase()+l.substr(1);k.name=l;k.names={internal:"_"+l,initializing:"is"+m+"Initializing",apply:"apply"+m,update:"update"+m,get:"get"+m,set:"set"+m,initGet:"initGet"+m,changeEvent:l.toLowerCase()+"change"};k.root=k};Ext.Config.map={};Ext.Config.get=function(l){var k=Ext.Config.map,m=k[l]||(k[l]=new Ext.Config(l));return m};Ext.Config.prototype={self:Ext.Config,isConfig:true,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getEventedSetter:function(){return this.eventedSetter||(this.root.eventedSetter=this.makeEventedSetter())},getInternalName:function(f){return f.$configPrefixed?this.names.internal:this.name},mergeNew:function(n,s,o,p){var t,q;if(!s){t=n}else{if(!n){t=s}else{t=Ext.Object.chain(s);for(q in n){if(!p||!(q in t)){t[q]=n[q]}}}}return t},mergeSets:function(o,q,t){var s=q?Ext.Object.chain(q):{},p,n;if(o instanceof Array){for(p=o.length;p--;){n=o[p];if(!t||!(n in s)){s[n]=true}}}else{if(o){if(o.constructor===Object){for(p in o){n=o[p];if(!t||!(p in s)){s[p]=n}}}else{if(!t||!(o in s)){s[o]=true}}}}return s},makeGetter:function(){var k=this.name,g=this.names.internal;return function(){var e=this.$configPrefixed?g:k;return this[e]}},makeInitGetter:function(){var q=this.name,m=this.names,n=m.set,p=m.get,o=m.initializing;return function(){var e=this;e[o]=true;delete e[p];e[n](e.config[q]);delete e[o];return e[p].apply(e,arguments)}},makeSetter:function(){var u=this.name,p=this.names,s=p.internal,q=p.get,t=p.apply,v=p.update,o;o=function(e){var f=this,g=f.$configPrefixed?s:u,k=f[g];delete f[q];if(!f[t]||(e=f[t](e,k))!==undefined){if(e!==(k=f[g])){f[g]=e;if(f[v]){f[v](e,k)}}}return f};o.$isDefault=true;return o},makeEventedSetter:function(){var y=this.name,t=this.names,q=t.internal,z=t.get,s=t.apply,w=t.update,u=t.changeEvent,v=function(f,e,k,g){f[g]=e;if(f[w]){f[w](e,k)}},x;x=function(e){var f=this,g=f.$configPrefixed?q:y,k=f[g];delete f[z];if(!f[s]||(e=f[s](e,k))!==undefined){if(e!==(k=f[g])){if(f.isConfiguring){f[g]=e;if(f[w]){f[w](e,k)}}else{f.fireEventedAction(u,[f,e,k],v,f,[f,e,k,g])}}}return f};x.$isDefault=true;return x}};(function(){var l=Ext.Config,k=l.map,m=Ext.Object;Ext.Configurator=function(g){var e=this,f=g.prototype,o=g.superclass?g.superclass.self.$config:null;e.cls=g;e.superCfg=o;if(o){e.configs=m.chain(o.configs);e.cachedConfigs=m.chain(o.cachedConfigs);e.initMap=m.chain(o.initMap);e.values=m.chain(o.values);e.needsFork=o.needsFork}else{e.configs={};e.cachedConfigs={};e.initMap={};e.values={}}f.config=f.defaultConfig=e.values;g.$config=e};Ext.Configurator.prototype={self:Ext.Configurator,needsFork:false,initList:null,add:function(N,V){var M=this,R=M.cls,K=M.configs,L=M.cachedConfigs,G=M.initMap,f=R.prototype,J=V&&V.$config.configs,U=M.values,O,I,P,T,S,Q,H,g,s,e;for(H in N){e=N[H];O=e&&e.constructor===Object;I=O&&"$value" in e?e:null;P=false;if(I){P=!!I.cached;e=I.$value;O=e&&e.constructor===Object}T=I&&I.merge;S=K[H];if(S){if(V){T=S.merge;if(!T){continue}I=null}else{T=T||S.merge}Q=U[H];if(T){e=T.call(S,e,Q,R,V)}else{if(O){if(Q&&Q.constructor===Object){e=m.merge({},Q,e)}}}}else{if(J){S=J[H];I=null}else{S=l.get(H)}K[H]=S;if(S.cached||P){L[H]=true}g=S.names;if(!f[s=g.get]){f[s]=S.getter||S.getGetter()}if(!f[s=g.set]){f[s]=(I&&I.evented)?(S.eventedSetter||S.getEventedSetter()):(S.setter||S.getSetter())}}if(I){if(S.owner!==R){K[H]=S=Ext.Object.chain(S);S.owner=R}Ext.apply(S,I);delete S.$value}if(!M.needsFork&&e&&(e.constructor===Object||e instanceof Array)){M.needsFork=true}if(e!==null){G[H]=true}else{if(f.$configPrefixed){f[K[H].names.internal]=null}else{f[K[H].name]=null}if(H in G){G[H]=false}}U[H]=e}},configure:function(O,R){var K=this,U=K.configs,P=K.initMap,L=K.initListMap,S=K.initList,J=K.cls.prototype,aa=K.values,g=0,e=!S,Z,Y,X,T,V,W,N,I,f,M,Q,ab;aa=K.needsFork?m.fork(aa):m.chain(aa);O.isConfiguring=true;if(e){K.initList=S=[];K.initListMap=L={};O.isFirstInstance=true;for(I in P){Y=U[I];M=Y.cached;if(P[I]){N=Y.names;f=aa[I];if(!J[N.set].$isDefault||J[N.apply]||J[N.update]||typeof f==="object"){if(M){(Z||(Z=[])).push(Y)}else{S.push(Y);L[I]=true}O[N.get]=Y.initGetter||Y.getInitGetter()}else{J[Y.getInternalName(J)]=f}}else{if(M){J[Y.getInternalName(J)]=undefined}}}}W=Z&&Z.length;if(W){for(T=0;T<W;++T){V=Z[T].getInternalName(J);O[V]=null}for(T=0;T<W;++T){N=(Y=Z[T]).names;X=N.get;if(O.hasOwnProperty(X)){O[N.set](aa[Y.name]);delete O[X]}}for(T=0;T<W;++T){V=Z[T].getInternalName(J);J[V]=O[V];delete O[V]}}if(R&&R.platformConfig){R=K.resolvePlatformConfig(O,R)}if(e){if(O.afterCachedConfig&&!O.afterCachedConfig.$nullFn){O.afterCachedConfig(R)}}O.config=aa;for(T=0,W=S.length;T<W;++T){Y=S[T];O[Y.names.get]=Y.initGetter||Y.getInitGetter()}if(O.transformInstanceConfig){R=O.transformInstanceConfig(R)}if(R){for(I in R){f=R[I];Y=U[I];if(!Y){O[I]=f}else{if(!Y.lazy){++g}if(!L[I]){O[Y.names.get]=Y.initGetter||Y.getInitGetter()}if(Y.merge){f=Y.merge(f,aa[I],O)}else{if(f&&f.constructor===Object){Q=aa[I];if(Q&&Q.constructor===Object){f=m.merge(aa[I],f)}else{f=Ext.clone(f,false)}}}}aa[I]=f}}if(O.beforeInitConfig&&!O.beforeInitConfig.$nullFn){if(O.beforeInitConfig(R)===false){return}}if(R){for(I in R){if(!g){break}Y=U[I];if(Y&&!Y.lazy){--g;N=Y.names;X=N.get;if(O.hasOwnProperty(X)){O[N.set](aa[I]);delete O[N.get]}}}}for(T=0,W=S.length;T<W;++T){Y=S[T];N=Y.names;X=N.get;if(!Y.lazy&&O.hasOwnProperty(X)){O[N.set](aa[Y.name]);delete O[X]}}delete O.isConfiguring},getCurrentConfig:function(f){var g=f.defaultConfig,o={},e;for(e in g){o[e]=f[k[e].names.get]()}return o},merge:function(g,v,x){var t=this.configs,e,u,w,f;for(e in x){u=x[e];f=t[e];if(f){if(f.merge){u=f.merge(u,v[e],g)}else{if(u&&u.constructor===Object){w=v[e];if(w&&w.constructor===Object){u=Ext.Object.merge(w,u)}else{u=Ext.clone(u,false)}}}}v[e]=u}return v},reconfigure:function(F,K,E){var g=F.config,f=[],G=F.$configStrict&&!(E&&E.strict===false),J=this.configs,B=E&&E.defaults,L,H,A,e,C,I,D;for(C in K){if(B&&F.hasOwnProperty(C)){continue}g[C]=K[C];L=J[C];if(L){F[L.names.get]=L.initGetter||L.getInitGetter()}else{D=F.self.prototype[C];if(G){if((typeof D==="function")&&!D.$nullFn){continue}}}f.push(C)}for(A=0,e=f.length;A<e;A++){C=f[A];L=J[C];if(L){I=L.names;H=I.get;if(F.hasOwnProperty(H)){F[I.set](K[C]);delete F[H]}}else{L=k[C]||Ext.Config.get(C);I=L.names;if(F[I.set]){F[I.set](K[C])}else{F[C]=K[C]}}}},resolvePlatformConfig:function(g,n){var u=n&&n.platformConfig,f=n,e,v,t;if(u){v=Ext.getPlatformConfigKeys(u);t=v.length;if(t){f=Ext.merge({},f);for(e=0,t=v.length;e<t;++e){this.merge(g,f,u[v[e]])}}}return f}}}());Ext.Base=(function(C){var D=[],v,G=[],F=function(m,f){var e=this,g,k,l;if(m){k=Ext.Config.map[m];l=k.names.get;if(f&&e.hasOwnProperty(l)){g=e.config[m]}else{g=e[l]()}}else{g=e.getCurrentConfig()}return g},y=function(e){return function(){return this[e].apply(this,arguments)}},E=Ext.Version,w=/^\d/,H={},A={},x=function(){},B=x.prototype,z;Ext.Reaper=z={delay:100,queue:[],timer:null,add:function(e){if(!z.timer){z.timer=Ext.defer(z.tick,z.delay)}z.queue.push(e)},flush:function(){if(z.timer){clearTimeout(z.timer);z.timer=null}var g=z.queue,k=g.length,f,e;z.queue=[];for(f=0;f<k;++f){e=g[f];if(e&&e.$reap){e.$reap()}}},tick:function(){z.timer=null;z.flush()}};Ext.apply(x,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(Q){var g=this,q=[],m=Ext.getCompatVersion(Q.name),l,u,R,s,f,O,o,P,p,e,N,t,k,n;for(u in Q){if(w.test(u)){n=new Ext.Version(u);n.deprecations=Q[u];q.push(n)}}q.sort(E.compare);for(R=q.length;R--;){l=(n=q[R]).deprecations;f=g.prototype;k=l.statics;O=m&&m.lt(n);if(!O){break}while(l){p=l.methods;if(p){for(e in p){t=p[e];P=null;if(!t){}else{if(Ext.isString(t)){if(O){P=y(t)}}else{s="";if(t.message||t.fn){t=t.fn}o=f.hasOwnProperty(e)&&f[e];if(O&&t){t.$owner=g;t.$name=e;if(o){t.$previous=o}P=t}}}if(P){f[e]=P}}}l=k;k=null;f=g}}},extend:function(m){var l=this,k=m.prototype,f,g,e;f=l.prototype=Ext.Object.chain(k);f.self=l;l.superclass=f.superclass=k;if(!m.$isClass){for(g in B){if(g in f){f[g]=B[g]}}}e=k.$inheritableStatics;if(e){for(g in e){if(!l.hasOwnProperty(g)){l[g]=m[g]}}}if(m.$onExtended){l.$onExtended=m.$onExtended.slice()}l.getConfigurator()},$onExtended:[],triggerExtended:function(){var e=this.$onExtended,f=e.length,g,k;if(f>0){for(g=0;g<f;g++){k=e[g];k.fn.apply(k.scope||this,arguments)}}},onExtended:function(e,f){this.$onExtended.push({fn:e,scope:f});return this},addStatics:function(e){this.addMembers(e,true);return this},addInheritableStatics:function(k){var n=this,f=n.prototype,l=n.$inheritableStatics,g,m,e;if(!l){l=Ext.apply({},f.$inheritableStatics);n.$inheritableStatics=f.$inheritableStatics=l}for(g in k){if(k.hasOwnProperty(g)){m=k[g];e=n[g];if(typeof e==="function"&&!e.$isClass&&!e.$nullFn){m.$previous=e}n[g]=m;l[g]=true}}return n},addMembers:function(l,n,s){var q=this,e=Ext.Function.clone,L=n?q:q.prototype,k=!n&&L.defaultConfig,p=Ext.enumerables,N=l.privates,M,f,u,g,t,o,m;if(N){delete l.privates;if(!n){m=N.statics;delete N.statics}q.addMembers(N,n,o);if(m){q.addMembers(m,true,o)}}for(t in l){if(l.hasOwnProperty(t)){g=l[t];if(typeof g==="function"&&!g.$isClass&&!g.$nullFn){if(g.$owner){g=e(g)}if(L.hasOwnProperty(t)){g.$previous=L[t]}g.$owner=q;g.$name=t}else{if(k&&(t in k)&&!L.config.hasOwnProperty(t)){(M||(M={}))[t]=g;continue}}L[t]=g}}if(M){q.addConfig(M)}if(p){for(f=0,u=p.length;f<u;++f){if(l.hasOwnProperty(t=p[f])){g=l[t];if(g&&!g.$nullFn){if(g.$owner){g=e(g)}g.$owner=q;g.$name=t;if(L.hasOwnProperty(t)){g.$previous=L[t]}}L[t]=g}}}return this},addMember:function(f,e){H[f]=e;this.addMembers(H);delete H[f];return this},borrow:function(n,k){var f=n.prototype,l={},m,e,g;k=Ext.Array.from(k);for(m=0,e=k.length;m<e;m++){g=k[m];l[g]=f[g]}return this.addMembers(l)},override:function(g){var n=this,m=g.statics,f=g.inheritableStatics,e=g.config,k=g.mixins,l=g.cachedConfig;if(m||f||e){g=Ext.apply({},g)}if(m){n.addMembers(m,true);delete g.statics}if(f){n.addInheritableStatics(f);delete g.inheritableStatics}if(g.platformConfig){n.addPlatformConfig(g)}if(e){n.addConfig(e);delete g.config}if(l){n.addCachedConfig(l);delete g.cachedConfig}delete g.mixins;n.addMembers(g);if(k){n.mixin(k)}return n},addPlatformConfig:function(k){var u=this,g=k.platformConfig,n=k.config,t,f,e,m,p,o,s,q,l,J;delete k.platformConfig;m=u.getConfigurator();f=m.configs;o=Ext.getPlatformConfigKeys(g);for(l=0,J=o.length;l<J;++l){e=g[o[l]];p=t=null;for(s in e){q=e[s];if(n&&s in n){(t||(t={}))[s]=q;(p||(p={}))[s]=n[s];delete n[s]}else{if(s in f){(t||(t={}))[s]=q}else{k[s]=q}}}if(p){m.add(p)}if(t){m.add(t)}}},callParent:function(f){var e;return(e=this.callParent.caller)&&(e.$previous||((e=e.$owner?e:e.caller)&&e.$owner.superclass.self[e.$name])).apply(this,f||D)},callSuper:function(f){var e;return(e=this.callSuper.caller)&&((e=e.$owner?e:e.caller)&&e.$owner.superclass.self[e.$name]).apply(this,f||D)},mixin:function(q,n){var f=this,p,u,s,e,m,g,l,q,t,k,o;if(typeof q!=="string"){k=q;if(k instanceof Array){for(m=0,g=k.length;m<g;m++){p=k[m];f.mixin(p.prototype.mixinId||p.$className,p)}}else{for(l in k){f.mixin(l,k[l])}}return}p=n.prototype;u=f.prototype;if(p.onClassMixedIn){p.onClassMixedIn.call(n,f)}if(!u.hasOwnProperty("mixins")){if("mixins" in u){u.mixins=Ext.Object.chain(u.mixins)}else{u.mixins={}}}for(s in p){t=p[s];if(s==="mixins"){Ext.applyIf(u.mixins,t)}else{if(!(s==="mixinId"||s==="config"||s==="$inheritableStatics")&&(u[s]===undefined)){u[s]=t}}}e=p.$inheritableStatics;if(e){o={};for(q in e){if(!f.hasOwnProperty(q)){o[q]=n[q]}}f.addInheritableStatics(o)}if("config" in p){f.addConfig(p.config,n)}u.mixins[q]=p;if(p.afterClassMixedIn){p.afterClassMixedIn.call(n,f)}return f},addConfig:function(f,e){var g=this.$config||this.getConfigurator();g.add(f,e)},addCachedConfig:function(g,e){var k={},f;for(f in g){k[f]={cached:true,$value:g[f]}}this.addConfig(k,e)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:C(function(e,f){A[e]=function(){return this[f].apply(this,arguments)};this.override(A);delete A[e]})});for(v in x){if(x.hasOwnProperty(v)){G.push(v)}}x.$staticMembers=G;x.getConfigurator();x.addMembers({$className:"Ext.Base",isInstance:true,$configPrefixed:true,$configStrict:true,isConfiguring:false,isFirstInstance:false,destroyed:false,clearPropertiesOnDestroy:true,clearPrototypeOnDestroy:false,statics:function(){var e=this.statics.caller,f=this.self;if(!e){return f}return e.$owner},callParent:function(f){var e,g=(e=this.callParent.caller)&&(e.$previous||((e=e.$owner?e:e.caller)&&e.$owner.superclass[e.$name]));return g.apply(this,f||D)},callSuper:function(f){var e,g=(e=this.callSuper.caller)&&((e=e.$owner?e:e.caller)&&e.$owner.superclass[e.$name]);return g.apply(this,f||D)},self:x,constructor:function(){return this},initConfig:function(e){var f=this,g=f.self.getConfigurator();f.initConfig=Ext.emptyFn;f.initialConfig=e||{};g.configure(f,e);return f},beforeInitConfig:Ext.emptyFn,getConfig:F,setConfig:function(e,k,f){var l=this,g;if(e){if(typeof e==="string"){g={};g[e]=k}else{g=e}l.self.getConfigurator().reconfigure(l,g,f)}return l},getCurrentConfig:function(){var e=this.self.getConfigurator();return e.getCurrentConfig(this)},hasConfig:function(e){return e in this.defaultConfig},getInitialConfig:function(e){var f=this.config;if(!e){return f}return f[e]},$links:null,link:function(f,k){var e=this,g=e.$links||(e.$links={});g[f]=true;e[f]=k;return k},unlink:function(f){var m=this,k,e,g,l;for(k=0,e=f.length;k<e;k++){g=f[k];l=m[g];if(l){if(l.isInstance&&!l.destroyed){l.destroy()}else{if(l.parentNode&&"nodeType" in l){l.parentNode.removeChild(l)}}}m[g]=null}return m},$reap:function(){var e=this,g=e.$noClearOnDestroy,k,l,f;for(k in e){if((!g||!g[k])&&e.hasOwnProperty(k)){l=e[k];f=typeof l;if(f==="object"||(f==="function"&&!l.$noClearOnDestroy)){e[k]=null}}}},destroy:function(){var e=this,f=e.$links,g=e.clearPropertiesOnDestroy;if(f){e.$links=null;e.unlink(Ext.Object.getKeys(f))}e.destroy=Ext.emptyFn;e.isDestroyed=e.destroyed=true;if(g===true){e.$reap()}else{if(g){z.add(e)}}}});B.callOverridden=B.callParent;return x}(Ext.Function.flexSetter));(function(g,k){(Ext.util||(Ext.util={})).Cache=g=function(m){var e=this,f;if(m){Ext.apply(e,m)}e.head=f={key:null,value:null};e.map={};f.next=f.prev=f};g.prototype=k={maxSize:100,count:0,clear:function(){var e=this,m=e.head,f=m.next;m.next=m.prev=m;if(!e.evict.$nullFn){for(;f!==m;f=f.next){e.evict(f.key,f.value)}}e.count=0},each:function(f,n){n=n||this;for(var o=this.head,e=o.next;e!==o;e=e.next){if(f.call(n,e.key,e.value)){break}}},get:function(o){var e=this,p=e.head,q=e.map,f=q[o];if(f){if(f.prev!==p){e.unlinkEntry(f);e.linkEntry(f)}}else{q[o]=f={key:o,value:e.miss.apply(e,arguments)};e.linkEntry(f);++e.count;while(e.count>e.maxSize){e.unlinkEntry(p.prev,true);--e.count}}return f.value},evict:Ext.emptyFn,linkEntry:function(f){var m=this.head,e=m.next;f.next=e;f.prev=m;m.next=f;e.prev=f},unlinkEntry:function(f,e){var o=f.next,n=f.prev;n.next=o;o.prev=n;if(e){this.evict(f.key,f.value)}}};k.destroy=k.clear}());(function(){var n,o=Ext.Base,m=o.$staticMembers,p=function(f,e){return(f.length-e.length)||((f<e)?-1:((f>e)?1:0))};function q(f){function e(){return this.constructor.apply(this,arguments)||null}return e}Ext.Class=n=function(g,f,e){if(typeof g!="function"){e=f;f=g;g=null}if(!f){f={}}g=n.create(g,f);n.process(g,f,e);return g};Ext.apply(n,{makeCtor:q,onBeforeCreated:function(g,f,e){g.addMembers(f);e.onCreated.call(g,g)},create:function(e,f){var g=m.length,k;if(!e){e=q()}while(g--){k=m[g];e[k]=o[k]}return e},process:function(B,I,g){var l=I.preprocessors||n.defaultPreprocessors,F=this.preprocessors,C={onBeforeCreated:this.onBeforeCreated},D=[],k,J,e,E,f,G,H;delete I.preprocessors;B._classHooks=C;for(e=0,E=l.length;e<E;e++){k=l[e];if(typeof k=="string"){k=F[k];J=k.properties;if(J===true){D.push(k.fn)}else{if(J){for(f=0,G=J.length;f<G;f++){H=J[f];if(I.hasOwnProperty(H)){D.push(k.fn);break}}}}}else{D.push(k)}}C.onCreated=g?g:Ext.emptyFn;C.preprocessors=D;this.doProcess(B,I,C)},doProcess:function(v,g,e){var k=this,f=e.preprocessors,u=f.shift(),l=k.doProcess;for(;u;u=f.shift()){if(u.call(k,v,g,e,l)===false){return}}e.onBeforeCreated.apply(k,arguments)},preprocessors:{},registerPreprocessor:function(l,f,k,e,g){if(!e){e="last"}if(!k){k=[l]}this.preprocessors[l]={name:l,properties:k||false,fn:f};this.setDefaultPreprocessorPosition(l,e,g);return this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){this.defaultPreprocessors=Ext.Array.from(e);return this},setDefaultPreprocessorPosition:function(k,f,g){var e=this.defaultPreprocessors,l;if(typeof f=="string"){if(f==="first"){e.unshift(k);return this}else{if(f==="last"){e.push(k);return this}}f=(f==="after")?1:-1}l=Ext.Array.indexOf(e,g);if(l!==-1){Ext.Array.splice(e,Math.max(0,l+f),0,k)}return this}});n.registerPreprocessor("extend",function(k,f,w){var e=Ext.Base,z=e.prototype,y=f.extend,l,x,g;delete f.extend;if(y&&y!==Object){l=y}else{l=e}x=l.prototype;if(!l.$isClass){for(g in z){if(!x[g]){x[g]=z[g]}}}k.extend(l);k.triggerExtended.apply(k,arguments);if(f.onClassExtended){k.onExtended(f.onClassExtended,k);delete f.onClassExtended}},true);n.registerPreprocessor("privates",function(e,g){var k=g.privates,f=k.statics,l=k.privacy||true;delete g.privates;delete k.statics;e.addMembers(k,false,l);if(f){e.addMembers(f,true,l)}});n.registerPreprocessor("statics",function(e,f){e.addStatics(f.statics);delete f.statics});n.registerPreprocessor("inheritableStatics",function(e,f){e.addInheritableStatics(f.inheritableStatics);delete f.inheritableStatics});Ext.createRuleFn=function(e){return new Function("$c","with($c) { try { return ("+e+"); } catch(e) { return false;}}")};Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn});Ext.ruleKeySortFn=p;Ext.getPlatformConfigKeys=function(g){var k=[],e,f;for(e in g){f=Ext.expressionCache.get(e);if(f(Ext.platformTags)){k.push(e)}}k.sort(p);return k};n.registerPreprocessor("platformConfig",function(g,f,e){g.addPlatformConfig(f)});n.registerPreprocessor("config",function(e,f){if(f.hasOwnProperty("$configPrefixed")){e.prototype.$configPrefixed=f.$configPrefixed}e.addConfig(f.config);delete f.config});n.registerPreprocessor("cachedConfig",function(e,f){if(f.hasOwnProperty("$configPrefixed")){e.prototype.$configPrefixed=f.$configPrefixed}e.addCachedConfig(f.cachedConfig);delete f.cachedConfig});n.registerPreprocessor("mixins",function(g,f,e){var k=f.mixins,l=e.onCreated;delete f.mixins;e.onCreated=function(){e.onCreated=l;g.mixin(k);return e.onCreated.apply(this,arguments)}});Ext.extend=function(g,f,k){if(arguments.length===2&&Ext.isObject(f)){k=f;f=g;g=null}var e;if(!f){throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")}k.extend=f;k.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"];if(g){e=new n(g,k);e.prototype.constructor=g}else{e=new n(k)}e.prototype.override=function(l){for(var t in l){if(l.hasOwnProperty(t)){this[t]=l[t]}}};return e}}());Ext.Inventory=function(){var f=this;f.names=[];f.paths={};f.alternateToName={};f.aliasToName={};f.nameToAliases={};f.nameToAlternates={};f.nameToPrefix={}};Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(l,m,k){return this.addMapping(l,m,this.aliasToName,this.nameToAliases,k)},addAlternate:function(k,g){return this.addMapping(k,g,this.alternateToName,this.nameToAlternates)},addMapping:function(w,C,B,H,A){var F=w.$className||w,y=F,x=this._array1,I,D,G,z,E,J;if(Ext.isString(F)){y={};y[F]=C}for(G in y){D=y[G];if(Ext.isString(D)){x[0]=D;D=x}E=D.length;J=H[G]||(H[G]=[]);for(z=0;z<E;++z){if(!(I=D[z])){continue}if(B[I]!==G){B[I]=G;J.push(I)}}}},getAliasesByName:function(f){return this.nameToAliases[f]||null},getAlternatesByName:function(f){return this.nameToAlternates[f]||null},getNameByAlias:function(f){return this.aliasToName[f]||""},getNameByAlternate:function(f){return this.alternateToName[f]||""},getNamesByExpression:function(I,V,O){var L=this,D=L.aliasToName,G=L.alternateToName,U=L.nameToAliases,S=L.nameToAlternates,N=O?V:{},J=[],n=Ext.isString(I)?[I]:I,P=n.length,R=L.wildcardRe,T,F,E,M,H,K,Q;for(F=0;F<P;++F){if((T=n[F]).indexOf("*")<0){if(!(K=D[T])){if(!(K=G[T])){K=T}}if(!(K in N)&&!(V&&(K in V))){N[K]=1;J.push(K)}}else{Q=new RegExp("^"+T.replace(R,"(.*?)")+"$");for(K in U){if(!(K in N)&&!(V&&(K in V))){if(!(M=Q.test(K))){H=(E=U[K]).length;while(!M&&H-->0){M=Q.test(E[H])}E=S[K];if(E&&!M){H=E.length;while(!M&&H-->0){M=Q.test(E[H])}}}if(M){N[K]=1;J.push(K)}}}}}return J},getPath:function(p){var o=this,m=o.paths,q="",n;if(p in m){q=m[p]}else{n=o.nameToPrefix[p]||(o.nameToPrefix[p]=o.getPrefix(p));if(n){p=p.substring(n.length+1);q=m[n];if(q){q+="/"}}q+=p.replace(o.dotRe,"/")+".js"}return q},getPrefix:function(t){if(t in this.paths){return t}else{if(t in this.nameToPrefix){return this.nameToPrefix[t]}}var v=this.getPrefixes(),y=t.length,s,x,z,u,w,q;while(y-->0){s=v[y];if(s){x=t.charAt(y);if(x!=="."){continue}z=t.substring(0,y);for(w=0,q=s.length;w<q;w++){u=s[w];if(u===t.substring(0,y)){return u}}}}return""},getPrefixes:function(){var q=this,p=q.prefixes,w,t,x,u,s,v;if(!p){w=q.names.slice(0);q.prefixes=p=[];for(s=0,v=w.length;s<v;s++){t=w[s];x=t.length;u=p[x]||(p[x]=[]);u.push(t)}}return p},removeName:function(B){var x=this,u=x.aliasToName,s=x.alternateToName,t=x.nameToAliases,y=x.nameToAlternates,A=t[B],w=y[B],z,v;delete t[B];delete y[B];delete x.nameToPrefix[B];if(A){for(z=A.length;z--;){if(B===(v=A[z])){delete u[v]}}}if(w){for(z=w.length;z--;){if(B===(v=w[z])){delete s[v]}}}},resolveName:function(m){var l=this,k;if(!(m in l.nameToAliases)){if(!(k=l.aliasToName[m])){k=l.alternateToName[m]}}return k||m},select:function(o,q){var p=this,n={},s={excludes:n,exclude:function(){p.getNamesByExpression(arguments,n,true);return this}},t;for(t in o){s[t]=p.selectMethod(n,o[t],q||o)}return s},selectMethod:function(l,n,o){var m=this;return function(f){var e=Ext.Array.slice(arguments,1);e.unshift(m.getNamesByExpression(f,l));return n.apply(o,e)}},setPath:Ext.Function.flexSetter(function(m,k){var l=this;l.paths[m]=k;l.names.push(m);l.prefixes=null;l.nameToPrefix={};return l})};Ext.ClassManager=(function(D,I,B,P,F){var S=Ext.Class.makeCtor,N=[],M={Ext:{name:"Ext",value:Ext}},R=Ext.apply(new Ext.Inventory(),{classes:{},classState:{},existCache:{},instantiators:[],isCreated:function(e){if(R.classes[e]||R.existCache[e]){return true}if(!R.lookupName(e,false)){return false}R.triggerCreated(e);return true},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(f,e){R.existCache[f]=e||1;R.classState[f]+=40;R.notify(f,R.createdListeners,R.nameCreatedListeners)},onCreated:function(e,f,g){R.addListener(e,f,g,R.createdListeners,R.nameCreatedListeners)},notify:function(m,k,e){var s=R.getAlternatesByName(m),l=[m],p,n,q,o,f,g;for(p=0,n=k.length;p<n;p++){f=k[p];f.fn.call(f.scope,m)}while(l){for(p=0,n=l.length;p<n;p++){g=l[p];k=e[g];if(k){for(q=0,o=k.length;q<o;q++){f=k[q];f.fn.call(f.scope,g)}delete e[g]}}l=s;s=null}},addListener:function(f,g,k,l,m){if(Ext.isArray(k)){f=Ext.Function.createBarrier(k.length,f,g);for(n=0;n<k.length;n++){this.addListener(f,null,k[n],l,m)}return}var n,e={fn:f,scope:g};if(k){if(this.isCreated(k)){f.call(g,k);return}if(!m[k]){m[k]=[]}m[k].push(e)}else{l.push(e)}},$namespaceCache:M,addRootNamespaces:function(e){for(var f in e){M[f]={name:f,value:e[f]}}},clearNamespaceCache:function(){N.length=0;for(var e in M){if(!M[e].value){delete M[e]}}},getNamespaceEntry:function(f){if(typeof f!=="string"){return f}var e=M[f],g;if(!e){g=f.lastIndexOf(".");if(g<0){e={name:f}}else{e={name:f.substring(g+1),parent:R.getNamespaceEntry(f.substring(0,g))}}M[f]=e}return e},lookupName:function(k,f){var g=R.getNamespaceEntry(k),l=Ext.global,n=0,e,m;for(e=g;e;e=e.parent){N[n++]=e}while(l&&n-->0){e=N[n];m=l;l=e.value||l[e.name];if(!l&&f){m[e.name]=l={}}}return l},setNamespace:function(g,e){var f=R.getNamespaceEntry(g),k=Ext.global;if(f.parent){k=R.lookupName(f.parent,true)}k[f.name]=e;return e},setXType:function(o,e){var m=o.$className,f=m?o:R.get(m=o),l=f.prototype,k=l.xtypes,n=l.xtypesChain,g=l.xtypesMap;if(!l.hasOwnProperty("xtypes")){l.xtypes=k=[];l.xtypesChain=n=n?n.slice(0):[];l.xtypesMap=g=Ext.apply({},g)}R.addAlias(m,"widget."+e,true);k.push(e);n.push(e);g[e]=true},set:function(g,e){var f=R.getName(e);R.classes[g]=R.setNamespace(g,e);if(f&&f!==g){R.addAlternate(f,g)}return R},get:function(e){return R.classes[e]||R.lookupName(e,false)},addNameAliasMappings:function(e){R.addAlias(e)},addNameAlternateMappings:function(e){R.addAlternate(e)},getByAlias:function(e){return R.get(R.getNameByAlias(e))},getByConfig:function(g,f){var e=g.xclass,k;if(e){k=e}else{k=g.xtype;if(k){f="widget."}else{k=g.type}k=R.getNameByAlias(f+k)}return R.get(k)},getName:function(e){return e&&e.$className||""},getClass:function(e){return e&&e.self||null},create:function(g,e,k){var f=S(g);if(typeof e==="function"){e=e(f)}e.$className=g;return new D(f,e,function(){var v=e.postprocessors||R.defaultPostprocessors,n=R.postprocessors,m=[],o,t,p,u,q,s,l;delete e.postprocessors;for(t=0,p=v.length;t<p;t++){o=v[t];if(typeof o==="string"){o=n[o];s=o.properties;if(s===true){m.push(o.fn)}else{if(s){for(u=0,q=s.length;u<q;u++){l=s[u];if(e.hasOwnProperty(l)){m.push(o.fn);break}}}}}else{m.push(o)}}e.postprocessors=m;e.createdFn=k;R.processCreate(g,this,e)})},processCreate:function(g,l,e){var f=this,m=e.postprocessors.shift(),k=e.createdFn;if(!m){if(g){f.set(g,l)}delete l._classHooks;if(k){k.call(l,l)}if(g){f.triggerCreated(g)}return}if(m.call(f,g,l,e,f.processCreate)!==false){f.processCreate(g,l,e)}},createOverride:function(o,q,t){var n=this,m=q.override,k=q.requires,s=q.uses,p=q.mixins,f,l=1,g,e=function(){var y,u,v,w,x;if(!g){u=k?k.slice(0):[];if(p){if(!(f=p instanceof Array)){for(w in p){if(Ext.isString(y=p[w])){u.push(y)}}}else{for(v=0,x=p.length;v<x;++v){if(Ext.isString(y=p[v])){u.push(y)}}}}g=true;if(u.length){Ext.require(u,e);return}}if(f){for(v=0,x=p.length;v<x;++v){if(Ext.isString(y=p[v])){p[v]=Ext.ClassManager.get(y)}}}else{if(p){for(w in p){if(Ext.isString(y=p[w])){p[w]=Ext.ClassManager.get(y)}}}}y=m.$isClass?m:n.get(m);delete q.override;delete q.compatibility;delete q.requires;delete q.uses;Ext.override(y,q);Ext.Loader.history.push(o);if(s){Ext.Loader.addUsedClasses(s)}if(t){t.call(y,y)}};if(o){R.overrideMap[o]=true}if("compatibility" in q){l=q.compatibility;if(!l){l=false}else{if(typeof l==="number"){l=true}else{if(typeof l!=="boolean"){l=Ext.checkVersion(l)}}}}if(l){if(m.$isClass){e()}else{n.onCreated(e,n,m)}}n.triggerCreated(o,2);return n},instantiateByAlias:function(){var f=arguments[0],g=B.call(arguments),e=this.getNameByAlias(f);g[0]=e;return Ext.create.apply(Ext,g)},instantiate:function(){return Ext.create.apply(Ext,arguments)},dynInstantiate:function(e,f){f=P(f,true);f.unshift(e);return Ext.create.apply(Ext,f)},getInstantiator:function(f){var g=this.instantiators,e,k,l;e=g[f];if(!e){k=f;l=[];for(k=0;k<f;k++){l.push("a["+k+"]")}e=g[f]=new Function("c","a","return new c("+l.join(",")+")")}return e},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(k,e,g,l,f){if(!l){l="last"}if(!g){g=[k]}this.postprocessors[k]={name:k,properties:g||false,fn:e};this.setDefaultPostprocessorPosition(k,l,f);return this},setDefaultPostprocessors:function(e){this.defaultPostprocessors=P(e);return this},setDefaultPostprocessorPosition:function(k,e,f){var g=this.defaultPostprocessors,l;if(typeof e==="string"){if(e==="first"){g.unshift(k);return this}else{if(e==="last"){g.push(k);return this}}e=(e==="after")?1:-1}l=Ext.Array.indexOf(g,f);if(l!==-1){Ext.Array.splice(g,Math.max(0,l+e),0,k)}return this}});R.registerPostprocessor("alias",function(k,l,e){var m=Ext.Array.from(e.alias),g,f;for(g=0,f=m.length;g<f;g++){I=m[g];this.addAlias(l,I)}},["xtype","alias"]);R.registerPostprocessor("singleton",function(g,k,e,f){if(e.singleton){f.call(this,g,new k(),e)}else{return true}return false});R.registerPostprocessor("alternateClassName",function(m,n,f){var k=f.alternateClassName,l,g,e;if(!(k instanceof Array)){k=[k]}for(l=0,g=k.length;l<g;l++){e=k[l];this.set(e,n)}});R.registerPostprocessor("debugHooks",function(g,k,f){var e=k.isInstance?k.self:k;delete e.prototype.debugHooks});R.registerPostprocessor("deprecated",function(g,k,f){var e=k.isInstance?k.self:k;e.addDeprecations(f.deprecated);delete e.prototype.deprecated});Ext.apply(Ext,{create:function(){var f=arguments[0],e=typeof f,g=B.call(arguments,1),k;if(e==="function"){k=f}else{if(e!=="string"&&g.length===0){g=[f];if(!(f=f.xclass)){f=g[0].xtype;if(f){f="widget."+f}}}f=R.resolveName(f);k=R.get(f)}if(!k){Ext.syncRequire(f);k=R.get(f)}return R.getInstantiator(g.length)(k,g)},widget:function(k,l){var e=k,g,f,m;if(typeof e!=="string"){l=k;e=l.xtype;f=l.xclass}else{l=l||{}}if(l.isComponent){return l}if(!f){g="widget."+e;f=R.getNameByAlias(g)}if(f){m=R.get(f)}if(!m){return Ext.create(f||g,l)}return new m(l)},createByAlias:I(R,"instantiateByAlias"),define:function(f,e,g){if(e.override){R.classState[f]=20;return R.createOverride.apply(R,arguments)}R.classState[f]=10;return R.create.apply(R,arguments)},undefine:function(g){var l=R.classes;delete l[g];delete R.existCache[g];delete R.classState[g];R.removeName(g);var f=R.getNamespaceEntry(g),k=f.parent?R.lookupName(f.parent,false):Ext.global;if(k){try{delete k[f.name]}catch(e){k[f.name]=undefined}}},getClassName:I(R,"getName"),getDisplayName:function(e){if(e){if(e.displayName){return e.displayName}if(e.$name&&e.$class){return Ext.getClassName(e.$class)+"#"+e.$name}if(e.$className){return e.$className}}return"Anonymous"},getClass:I(R,"getClass"),namespace:function(){var f=F,e;for(e=arguments.length;e-->0;){f=R.lookupName(arguments[e],true)}return f}});Ext.addRootNamespaces=R.addRootNamespaces;Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;D.registerPreprocessor("className",function(f,e){if("$className" in e){f.$className=e.$className}},true,"first");D.registerPreprocessor("alias",function(l,s){var n=l.prototype,e=P(s.xtype),g=P(s.alias),k="widget.",m=k.length,q=Array.prototype.slice.call(n.xtypesChain||[]),u=Ext.merge({},n.xtypesMap||{}),t,o,p,f;for(t=0,o=g.length;t<o;t++){p=g[t];if(p.substring(0,m)===k){f=p.substring(m);Ext.Array.include(e,f)}}l.xtype=s.xtype=e[0];s.xtypes=e;for(t=0,o=e.length;t<o;t++){f=e[t];if(!u[f]){u[f]=true;q.push(f)}}s.xtypesChain=q;s.xtypesMap=u;Ext.Function.interceptAfterOnce(l,"onClassCreated",function(){var y=this,w=y.prototype,z=w.mixins,v,x;for(v in z){if(z.hasOwnProperty(v)){x=z[v];e=x.xtypes;if(e){for(t=0,o=e.length;t<o;t++){f=e[t];if(!u[f]){u[f]=true;q.push(f)}}}}}});for(t=0,o=e.length;t<o;t++){f=e[t];Ext.Array.include(g,k+f)}s.alias=g},["xtype","alias"]);if(Ext.manifest){var O=Ext.manifest,C=O.classes,G=O.paths,E={},L={},Q,J,K,H,T;if(G){if(O.bootRelative){T=Ext.Boot.baseUrl;for(H in G){if(G.hasOwnProperty(H)){G[H]=T+G[H]}}}R.setPath(G)}if(C){for(Q in C){L[Q]=[];E[Q]=[];J=C[Q];if(J.alias){E[Q]=J.alias}if(J.alternates){L[Q]=J.alternates}}}R.addAlias(E);R.addAlternate(L)}return R}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global));(Ext.env||(Ext.env={})).Browser=function(O,I){var N=this,X=Ext.Boot.browserPrefixes,V=Ext.Boot.browserNames,W=N.enginePrefixes,P=N.engineNames,F=O.match(new RegExp("((?:"+Ext.Object.getValues(X).join(")|(?:")+"))([\\w\\._]+)")),R=O.match(new RegExp("((?:"+Ext.Object.getValues(W).join(")|(?:")+"))([\\w\\._]+)")),G=V.other,D=P.other,K="",S="",U="",Q=false,H,J,M,L,E;N.userAgent=O;this.is=function(e){return !!this.is[e]};if(/Edge\//.test(O)){F=O.match(/(Edge\/)([\w.]+)/)}if(F){G=V[Ext.Object.getKey(X,F[1])];if(G==="Safari"&&/^Opera/.test(O)){G="Opera"}K=new Ext.Version(F[2])}if(R){D=P[Ext.Object.getKey(W,R[1])];S=new Ext.Version(R[2])}if(D==="Trident"&&G!=="IE"){G="IE";var T=O.match(/.*rv:(\d+.\d+)/);if(T&&T.length){T=T[1];K=new Ext.Version(T)}}if(G&&K){Ext.setVersion(G,K)}if(O.match(/FB/)&&G==="Other"){G=V.safari;D=P.webkit}if(O.match(/Android.*Chrome/g)){G="ChromeMobile"}if(O.match(/OPR/)){G="Opera";F=O.match(/OPR\/(\d+.\d+)/);K=new Ext.Version(F[1])}Ext.apply(this,{engineName:D,engineVersion:S,name:G,version:K});this.setFlag(G,true,I);if(K){U=K.getMajor()||"";if(N.is.IE){U=parseInt(U,10);M=document.documentMode;if(M===7||(U===7&&M!==8&&M!==9&&M!==10)){U=7}else{if(M===8||(U===8&&M!==8&&M!==9&&M!==10)){U=8}else{if(M===9||(U===9&&M!==7&&M!==8&&M!==10)){U=9}else{if(M===10||(U===10&&M!==7&&M!==8&&M!==9)){U=10}else{if(M===11||(U===11&&M!==7&&M!==8&&M!==9&&M!==10)){U=11}}}}}E=Math.max(U,Ext.Boot.maxIEVersion);for(H=7;H<=E;++H){J="isIE"+H;if(U<=H){Ext[J+"m"]=true}if(U===H){Ext[J]=true}if(U>=H){Ext[J+"p"]=true}}}if(N.is.Opera&&parseInt(U,10)<=12){Ext.isOpera12m=true}Ext.chromeVersion=Ext.isChrome?U:0;Ext.firefoxVersion=Ext.isFirefox?U:0;Ext.ieVersion=Ext.isIE?U:0;Ext.operaVersion=Ext.isOpera?U:0;Ext.safariVersion=Ext.isSafari?U:0;Ext.webKitVersion=Ext.isWebKit?U:0;this.setFlag(G+U,true,I);this.setFlag(G+K.getShortVersion())}for(H in V){if(V.hasOwnProperty(H)){L=V[H];this.setFlag(L,G===L)}}this.setFlag(L);if(S){this.setFlag(D+(S.getMajor()||""));this.setFlag(D+S.getShortVersion())}for(H in P){if(P.hasOwnProperty(H)){L=P[H];this.setFlag(L,D===L,I)}}this.setFlag("Standalone",!!navigator.standalone);this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple));this.setFlag("WebWorks",!!window.blackberry);if(window.PhoneGap!==undefined||window.Cordova!==undefined||window.cordova!==undefined){Q=true;this.setFlag("PhoneGap");this.setFlag("Cordova")}if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(O)){Q=true}this.setFlag("WebView",Q);this.isStrict=Ext.isStrict=document.compatMode==="CSS1Compat";this.isSecure=Ext.isSecure;this.identity=G+U+(this.isStrict?"Strict":"Quirks")};Ext.env.Browser.prototype={constructor:Ext.env.Browser,engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(m,k,l){if(k===undefined){k=true}this.is[m]=k;this.is[m.toLowerCase()]=k;if(l){Ext["is"+m]=k}return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(k){var g=this.propertyPrefixes[this.engineName];if(g.length>0){return g+Ext.String.capitalize(k)}return k},getPreferredTranslationMethod:function(f){if(typeof f==="object"&&"translationMethod" in f&&f.translationMethod!=="auto"){return f.translationMethod}else{return"csstransform"}}};(function(f){Ext.browser=new Ext.env.Browser(f,true);Ext.userAgent=f.toLowerCase();Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank"}(Ext.global.navigator.userAgent));Ext.env.OS=function(G,E,J){var w=this,x=Ext.Boot.osNames,C=Ext.Boot.osPrefixes,F,y="",A=w.is,D,z,B,H,I;J=J||Ext.browser;for(D in C){if(C.hasOwnProperty(D)){z=C[D];B=G.match(new RegExp("(?:"+z+")([^\\s;]+)"));if(B){F=x[D];I=B[1];if(I&&I==="HTC_"){y=new Ext.Version("2.3")}else{if(I&&I==="Silk/"){y=new Ext.Version("2.3")}else{y=new Ext.Version(B[B.length-1])}}break}}}if(!F){F=x[(G.toLowerCase().match(/mac|win|linux/)||["other"])[0]];y=new Ext.Version("")}this.name=F;this.version=y;if(G.match(/ipad/i)){E="iPad"}if(E){this.setFlag(E.replace(/ simulator$/i,""))}this.setFlag(F);if(y){this.setFlag(F+(y.getMajor()||""));this.setFlag(F+y.getShortVersion())}for(D in x){if(x.hasOwnProperty(D)){H=x[D];if(!A.hasOwnProperty(F)){this.setFlag(H,(F===H))}}}if(this.name==="iOS"&&window.screen.height===568){this.setFlag("iPhone5")}if(J.is.Safari||J.is.Silk){if(this.is.Android2||this.is.Android3||J.version.shortVersion===501){J.setFlag("AndroidStock")}if(this.is.Android4){J.setFlag("AndroidStock");J.setFlag("AndroidStock4")}}};Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(f){return !!this[f]},name:null,version:null,setFlag:function(k,g){if(g===undefined){g=true}if(this.flags){this.flags[k]=g}this.is[k]=g;this.is[k.toLowerCase()]=g;return this}};(function(){var z=Ext.global.navigator,t=z.userAgent,u=Ext.env.OS,v=(Ext.is||(Ext.is={})),s,w,y;u.prototype.flags=v;Ext.os=s=new u(t,z.platform);w=s.name;Ext["is"+w]=true;Ext.isMac=v.Mac=v.MacOS;var q=window.location.search.match(/deviceType=(Tablet|Phone)/),x=window.deviceType;if(q&&q[1]){y=q[1]}else{if(x==="iPhone"){y="Phone"}else{if(x==="iPad"){y="Tablet"}else{if(!s.is.Android&&!s.is.iOS&&!s.is.WindowsPhone&&/Windows|Linux|MacOS/.test(w)){y="Desktop";Ext.browser.is.WebView=!!Ext.browser.is.Ripple}else{if(s.is.iPad||s.is.RIMTablet||s.is.Android3||Ext.browser.is.Silk||(s.is.Android&&t.search(/mobile/i)===-1)){y="Tablet"}else{y="Phone"}}}}}s.setFlag(y,true);s.deviceType=y;delete u.prototype.flags}());Ext.feature={has:function(f){return !!this.has[f]},testElements:{},getTestElement:function(k,g){if(k===undefined){k="div"}else{if(typeof k!=="string"){return k}}if(g){return document.createElement(k)}if(!this.testElements[k]){this.testElements[k]=document.createElement(k)}return this.testElements[k]},isStyleSupported:function(m,n){var l=this.getTestElement(n).style,o=Ext.String.capitalize(m);if(typeof l[m]!=="undefined"||typeof l[Ext.browser.getStylePrefix(m)+o]!=="undefined"){return true}return false},isStyleSupportedWithoutPrefix:function(l,m){var k=this.getTestElement(m).style;if(typeof k[l]!=="undefined"){return true}return false},isEventSupported:function(o,q){if(q===undefined){q=window}var m=this.getTestElement(q),p="on"+o.toLowerCase(),n=(p in m);if(!n){if(m.setAttribute&&m.removeAttribute){m.setAttribute(p,"");n=typeof m[p]==="function";if(typeof m[p]!=="undefined"){m[p]=undefined}m.removeAttribute(p)}}return n},getStyle:function(m,n){var o=m.ownerDocument.defaultView,l=(o?o.getComputedStyle(m,null):m.currentStyle);return(l||m.style)[n]},getSupportedPropertyName:function(l,m){var k=Ext.browser.getVendorProperyName(m);if(k in l){return k}else{if(m in l){return m}}return null},detect:function(n){var J=this,H=document,z=J.toRun||J.tests,A=z.length,D=H.createElement("div"),C=[],F=Ext.supports,G=J.has,E,x,y,B,I;D.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>';if(n){H.body.appendChild(D)}B=J.preDetected[Ext.browser.identity]||[];while(A--){y=z[A];I=B[A];E=y.name;x=y.names;if(I===undefined){if(!n&&y.ready){C.push(y);continue}I=y.fn.call(J,H,D)}if(E){F[E]=G[E]=I}else{if(x){while(x.length){E=x.pop();F[E]=G[E]=I}}}}if(n){H.body.removeChild(D)}J.toRun=C},report:function(){var l=[],m=this.tests.length,k;for(k=0;k<m;++k){l.push(this.has[this.tests[k].name]?1:0)}Ext.log(Ext.browser.identity+": ["+l.join(",")+"]")},preDetected:{},tests:[{name:"CloneNodeCopiesExpando",fn:function(){var f=document.createElement("div");f.expandoProp={};return f.cloneNode().expandoProp===f.expandoProp}},{name:"CSSPointerEvents",fn:function(f){return"pointerEvents" in f.documentElement.style}},{name:"CSS3BoxShadow",fn:function(f){return"boxShadow" in f.documentElement.style||"WebkitBoxShadow" in f.documentElement.style||"MozBoxShadow" in f.documentElement.style}},{name:"CSS3NegationSelector",fn:function(e){try{e.querySelectorAll("foo:not(bar)")}catch(k){return false}return true}},{name:"ClassList",fn:function(f){return !!f.documentElement.classList}},{name:"Canvas",fn:function(){var f=this.getTestElement("canvas");return !!(f&&f.getContext&&f.getContext("2d"))}},{name:"Svg",fn:function(f){return !!(f.createElementNS&&!!f.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var g=this.getTestElement(),k=false;g.innerHTML="<!--[if vml]><br><![endif]-->";k=(g.childNodes.length===1);g.innerHTML="";return k}},{name:"Touch",fn:function(){var f=navigator.msMaxTouchPoints||navigator.maxTouchPoints;if(Ext.browser.is.Chrome&&Ext.browser.version.isLessThanOrEqual(39)){return(Ext.supports.TouchEvents&&f!==1)||f>1}else{return Ext.supports.TouchEvents||f>0}}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return("orientation" in window)&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation" in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase" in window}},{name:"WebSockets",fn:function(){return"WebSocket" in window}},{name:"Range",fn:function(){return !!document.createRange}},{name:"CreateContextualFragment",fn:function(){var f=!!document.createRange?document.createRange():false;return f&&!!f.createContextualFragment}},{name:"History",fn:function(){return("history" in window&&"pushState" in window.history)}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return !!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return !!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage" in window&&window.localStorage!==null){localStorage.setItem("sencha-localstorage-test","test success");localStorage.removeItem("sencha-localstorage-test");return true}}catch(e){}return false}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&("withCredentials" in new XMLHttpRequest())}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var f=new XMLHttpRequest();return f&&("upload" in f)&&("onprogress" in f.upload)}return false}},{name:"NumericInputPlaceHolder",fn:function(){return !(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"matchesSelector",fn:function(){var p=document.documentElement,m="matches",n="webkitMatchesSelector",q="msMatchesSelector",o="mozMatchesSelector";return p[m]?m:p[n]?n:p[q]?q:p[o]?o:null}},{name:"RightMargin",ready:true,fn:function(l,k){var m=l.defaultView;return !(m&&m.getComputedStyle(k.firstChild.firstChild,null).marginRight!=="0px")}},{name:"DisplayChangeInputSelectionBug",fn:function(){var f=Ext.webKitVersion;return 0<f&&f<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var f=Ext.webKitVersion;return 0<f&&f<534.24}},{name:"TransparentColor",ready:true,fn:function(l,k,m){m=l.defaultView;return !(m&&m.getComputedStyle(k.lastChild,null).backgroundColor!=="transparent")}},{name:"ComputedStyle",ready:true,fn:function(l,k,m){m=l.defaultView;return m&&m.getComputedStyle}},{name:"Float",fn:function(f){return"cssFloat" in f.documentElement.style}},{name:"CSS3BorderRadius",ready:true,fn:function(l){var n=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],m=false,o;for(o=0;o<n.length;o++){if(l.documentElement.style[n[o]]!==undefined){m=true}}return m&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(u,z){var s="background-image:",t="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",v="linear-gradient(left top, black, white)",w="-moz-"+v,y="-ms-"+v,x="-o-"+v,q=[s+t,s+v,s+w,s+y,s+x];z.style.cssText=q.join(";");return((""+z.style.backgroundImage).indexOf("gradient")!==-1)&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(f){return("onmouseenter" in f.documentElement&&"onmouseleave" in f.documentElement)}},{name:"MouseWheel",fn:function(f){return("onmousewheel" in f.documentElement)}},{name:"Opacity",fn:function(k,g){if(Ext.isIE8){return false}g.firstChild.style.cssText="opacity:0.73";return g.firstChild.style.opacity=="0.73"}},{name:"Placeholder",fn:function(f){return"placeholder" in f.createElement("input")}},{name:"Direct2DBug",fn:function(f){return Ext.isString(f.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(f){return"getBoundingClientRect" in f.documentElement}},{name:"RotatedBoundingClientRect",ready:true,fn:function(m){var q=m.body,p=false,n=m.createElement("div"),o=n.style;if(n.getBoundingClientRect){o.position="absolute";o.top="0";o.WebkitTransform=o.MozTransform=o.msTransform=o.OTransform=o.transform="rotate(90deg)";o.width="100px";o.height="30px";q.appendChild(n);p=n.getBoundingClientRect().height!==100;q.removeChild(n)}return p}},{name:"ChildContentClearedWhenSettingInnerHTML",ready:true,fn:function(){var k=this.getTestElement(),g;k.innerHTML="<div>a</div>";g=k.firstChild;k.innerHTML="<div>b</div>";return g.innerHTML!=="a"}},{name:"IncludePaddingInWidthCalculation",ready:true,fn:function(k,g){return g.childNodes[1].firstChild.offsetWidth===210}},{name:"IncludePaddingInHeightCalculation",ready:true,fn:function(k,g){return g.childNodes[1].firstChild.offsetHeight===210}},{name:"TextAreaMaxLength",fn:function(f){return("maxlength" in f.createElement("textarea"))}},{name:"GetPositionPercentage",ready:true,fn:function(k,g){return Ext.feature.getStyle(g.childNodes[2],"left")==="10%"}},{name:"PercentageHeightOverflowBug",ready:true,fn:function(l){var o=false,m,n;if(Ext.getScrollbarSize().height){n=this.getTestElement();m=n.style;m.height="50px";m.width="50px";m.overflow="auto";m.position="absolute";n.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join("");l.body.appendChild(n);if(n.firstChild.offsetHeight===50){o=true}l.body.removeChild(n)}return o}},{name:"xOriginBug",ready:true,fn:function(n,m){m.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var o=document.getElementById("b1").getBoundingClientRect(),p=document.getElementById("b2").getBoundingClientRect(),q=document.getElementById("b3").getBoundingClientRect();return(p.left!==o.left&&q.right!==o.right)}},{name:"ScrollWidthInlinePaddingBug",ready:true,fn:function(l){var o=false,m,n;n=l.createElement("div");m=n.style;m.height="50px";m.width="50px";m.padding="10px";m.overflow="hidden";m.position="absolute";n.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';l.body.appendChild(n);if(n.scrollWidth===70){o=true}l.body.removeChild(n);return o}},{name:"rtlVertScrollbarOnRight",ready:true,fn:function(m,l){l.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var n=l.firstChild,o=n.firstChild;return(o.offsetLeft+o.offsetWidth!==n.offsetLeft+n.offsetWidth)}},{name:"rtlVertScrollbarOverflowBug",ready:true,fn:function(l,k){k.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var m=k.firstChild;return m.clientHeight===m.offsetHeight}},{identity:"defineProperty",fn:function(){if(Ext.isIE8m){Ext.Object.defineProperty=Ext.emptyFn;return false}return true}},{identify:"nativeXhr",fn:function(){if(typeof XMLHttpRequest!=="undefined"){return true}XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(f){return null}};return false}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(!(Ext.isGecko||Ext.isIE)||(Ext.isOpera&&Ext.operaVersion<12))}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var f=document.documentMode;return"onhashchange" in window&&(f===undefined||f>7)}},{name:"FixedTableWidthBug",ready:true,fn:function(){if(Ext.isIE8){return false}var l=document.createElement("div"),m=document.createElement("div"),k;l.setAttribute("style","display:table;table-layout:fixed;");m.setAttribute("style","display:table-cell;min-width:50px;");l.appendChild(m);document.body.appendChild(l);l.offsetWidth;l.style.width="25px";k=l.offsetWidth;document.body.removeChild(l);return k===50}},{name:"FocusinFocusoutEvents",fn:function(){return !Ext.isGecko}},{name:"AsyncFocusEvents",fn:function(){return Ext.asyncFocus=!!Ext.isIE}},{name:"accessibility",ready:true,fn:function(x){var v=x.body,w,s,q,u,t;function p(e){var m=[],k=0,f,l;if(e.indexOf("rgb(")!==-1){m=e.replace("rgb(","").replace(")","").split(", ")}else{if(e.indexOf("#")!==-1){f=e.length===7?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/;l=e.match(f);if(l){m=["0x"+l[1],"0x"+l[2],"0x"+l[3]]}}}for(var g=0;g<m.length;g++){k+=parseInt(m[g])}return k}w=x.createElement("div");s=x.createElement("img");q=w.style;Ext.apply(q,{width:"2px",position:"absolute",clip:"rect(1px,1px,1px,1px)",borderWidth:"1px",borderStyle:"solid",borderTopTolor:"#f00",borderRightColor:"#ff0",backgroundColor:"#fff",backgroundImage:"url("+Ext.BLANK_IMAGE_URL+")"});s.alt="";s.src=Ext.BLANK_IMAGE_URL;w.appendChild(s);v.appendChild(w);q=w.currentStyle||w.style;t=q.backgroundImage;u={Images:s.offsetWidth===1&&s.readyState!=="uninitialized",BackgroundImages:!(t!==null&&(t==="none"||t==="url(invalid-url:)")),BorderColors:q.borderTopColor!==q.borderRightColor,LightOnDark:p(q.color)-p(q.backgroundColor)>0};Ext.supports.HighContrastMode=!u.BackgroundImages;v.removeChild(w);w=s=null;return u}},{name:"ViewportUnits",ready:true,fn:function(o){if(Ext.isIE8){return false}var t=o.body,n=document.createElement("div"),p=n.currentStyle||n.style,q,s;t.appendChild(n);Ext.apply(p,{width:"50vw"});q=parseInt(window.innerWidth/2,10);s=parseInt((window.getComputedStyle?getComputedStyle(n,null):n.currentStyle).width,10);t.removeChild(n);n=null;return q===s}},{name:"CSSVariables",ready:false,fn:function(g){if(!window.getComputedStyle){return false}var k=window.getComputedStyle(g.documentElement);return k.getPropertyValue&&!!k.getPropertyValue("--x-supports-variables")}},{name:"Selectors2",ready:false,fn:function(e){try{return !!e.querySelectorAll(":scope")}catch(k){return false}}},{name:"CSSScrollSnap",ready:false,fn:function(g){var k=g.documentElement.style;return"scrollSnapType" in k||"webkitScrollSnapType" in k||"msScrollSnapType" in k}},0]};Ext.feature.tests.pop();Ext.supports={};Ext.feature.detect();Ext.env.Ready={blocks:(location.search||"").indexOf("ext-pauseReadyFire")>0?1:0,bound:0,delay:1,firing:false,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var k=Ext.env.Ready,g=document;if(!k.bound){if(g.readyState==="complete"){k.onReadyEvent({type:g.readyState||"body"})}else{k.bound=1;if(Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop){k.bound=2;g.addEventListener("deviceready",k.onReadyEvent,false)}g.addEventListener("DOMContentLoaded",k.onReadyEvent,false);window.addEventListener("load",k.onReadyEvent,false)}}},block:function(){++this.blocks;Ext.isReady=false},fireReady:function(){var f=Ext.env.Ready;if(!f.state){Ext._readyTime=Ext.ticks();Ext.isDomReady=true;f.state=1;Ext.feature.detect(true);if(!f.delay){f.handleReady()}else{if(navigator.standalone){f.timer=Ext.defer(function(){f.timer=null;f.handleReadySoon()},1)}else{f.handleReadySoon()}}}},handleReady:function(){var f=this;if(f.state===1){f.state=2;Ext._beforeReadyTime=Ext.ticks();f.invokeAll();Ext._afterReadyTime=Ext.ticks()}},handleReadySoon:function(k){var g=this;if(!g.timer){g.timer=Ext.defer(function(){g.timer=null;g.handleReady()},k||g.delay)}},invoke:function(g){var k=g.delay;if(k){Ext.defer(g.fn,k,g.scope)}else{if(Ext.elevateFunction){Ext.elevateFunction(g.fn,g.scope)}else{g.fn.call(g.scope)}}},invokeAll:function(){if(Ext.elevateFunction){Ext.elevateFunction(this.doInvokeAll,this)}else{this.doInvokeAll()}},doInvokeAll:function(){var l=this,m=l.listeners,k;if(!l.blocks){Ext.isReady=true}l.firing=true;while(m.length){if(l.sortGeneration!==l.generation){l.sortGeneration=l.generation;m.sort(l.sortFn)}k=m.pop();if(l.blocks&&!k.dom){m.push(k);break}l.invoke(k)}l.firing=false},makeListener:function(l,m,n){var o={fn:l,id:++this.nextId,scope:m,dom:false,priority:0};if(n){Ext.apply(o,n)}o.phase=o.dom?0:1;return o},on:function(o,p,q){var n=Ext.env.Ready,m=n.makeListener(o,p,q);if(n.state===2&&!n.firing&&(m.dom||!n.blocks)){n.invoke(m)}else{n.listeners.push(m);++n.generation;if(!n.bound){n.bind()}}},onReadyEvent:function(g){var k=Ext.env.Ready;if(Ext.elevateFunction){Ext.elevateFunction(k.doReadyEvent,k,arguments)}else{k.doReadyEvent(g)}},doReadyEvent:function(g){var k=this;if(k.bound>0){k.unbind();k.bound=-1}if(!k.state){k.fireReady()}},sortFn:function(g,k){return -((g.phase-k.phase)||(k.priority-g.priority)||(g.id-k.id))},unblock:function(){var f=this;if(f.blocks){if(!--f.blocks){if(f.state===2&&!f.firing){f.invokeAll()}}}},unbind:function(){var k=this,g=document;if(k.bound>1){g.removeEventListener("deviceready",k.onReadyEvent,false)}g.removeEventListener("DOMContentLoaded",k.onReadyEvent,false);window.removeEventListener("load",k.onReadyEvent,false)}};(function(){var f=Ext.env.Ready;if(Ext.isIE9m){Ext.apply(f,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var k=true;try{document.documentElement.doScroll("left")}catch(e){k=false}if(k&&document.body){f.onReadyEvent({type:"doScroll"})}else{f.scrollTimer=Ext.defer(f.pollScroll,20)}return k},bind:function(){if(f.bound){return}var e=document,m;try{m=window.frameElement===undefined}catch(l){}if(!m||!e.documentElement.doScroll){f.pollScroll=Ext.emptyFn}else{if(f.pollScroll()){return}}if(e.readyState==="complete"){f.onReadyEvent({type:"already "+(e.readyState||"body")})}else{e.attachEvent("onreadystatechange",f.onReadyStateChange);window.attachEvent("onload",f.onReadyEvent);f.bound=1}},unbind:function(){document.detachEvent("onreadystatechange",f.onReadyStateChange);window.detachEvent("onload",f.onReadyEvent);if(Ext.isNumber(f.scrollTimer)){clearTimeout(f.scrollTimer);f.scrollTimer=null}},onReadyStateChange:function(){var e=document.readyState;if(f.readyStatesRe.test(e)){f.onReadyEvent({type:e})}}})}Ext.onDocumentReady=function(e,m,o){var n={dom:true};if(o){Ext.apply(n,o)}f.on(e,m,n)};Ext.onReady=function(e,l,m){f.on(e,l,m)};Ext.onInternalReady=function(e,l,m){f.on(e,l,Ext.apply({priority:1000},m))};f.bind()}());Ext.Loader=(new function(){var D=this,F=Ext.ClassManager,z=Ext.Boot,C=Ext.Class,x=Ext.env.Ready,y=Ext.Function.alias,A=["extend","mixins","requires"],I={},w=[],E=[],B=[],H={},J={enabled:true,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",paths:F.paths,preserveScripts:true,scriptCharset:undefined},G={disableCaching:true,disableCachingParam:true,preserveScripts:true,scriptChainDelay:"loadDelay"};Ext.apply(D,{isInHistory:I,isLoading:false,history:w,config:J,readyListeners:E,optionalRequires:B,requiresMap:H,hasFileLoadError:false,scriptsLoading:0,classesLoading:{},missingCount:0,missingQueue:{},syncModeEnabled:false,init:function(){var f=document.getElementsByTagName("script"),q=f[f.length-1].src,o=q.substring(0,q.lastIndexOf("/")+1),s=Ext._classPathMetadata,p=Ext.Microloader,m=Ext.manifest,l,g,v,t,e,u,k,n;if(!F.getPath("Ext")){F.setPath("Ext",o+"src")}if(s){Ext._classPathMetadata=null;D.addClassPathMappings(s)}if(m){l=m.loadOrder;e=Ext.Boot.baseUrl;if(l&&m.bootRelative){for(u=l.length,k=0;k<u;k++){n=l[k];n.path=e+n.path;n.canonicalPath=true}}}if(p){x.block();p.onMicroloaderReady(function(){x.unblock()})}},setConfig:Ext.Function.flexSetter(function(f,e){if(f==="paths"){D.setPath(e)}else{J[f]=e;var g=G[f];if(g){z.setConfig((g===true)?f:g,e)}}return D}),getConfig:function(e){return e?J[e]:J},setPath:function(){F.setPath.apply(F,arguments);return D},addClassPathMappings:function(e){F.setPath(e);return D},addBaseUrlClassPathMappings:function(f){for(var e in f){f[e]=z.baseUrl+f[e]}Ext.Loader.addClassPathMappings(f)},getPath:function(e){return F.getPath(e)},require:function(l,f,g,e){if(e){return D.exclude(e).require(l,f,g)}var k=F.getNamesByExpression(l);return D.load(k,f,g)},syncRequire:function(){var e=D.syncModeEnabled;D.syncModeEnabled=true;var f=D.require.apply(D,arguments);D.syncModeEnabled=e;return f},exclude:function(e){var f=F.select({require:function(g,k,l){return D.load(g,k,l)},syncRequire:function(l,g,k){var n=D.syncModeEnabled;D.syncModeEnabled=true;var m=D.load(l,g,k);D.syncModeEnabled=n;return m}});f.exclude(e);return f},load:function(o,s,p){if(s){if(s.length){s=D.makeLoadCallback(o,s)}s=s.bind(p||Ext.global)}var m=F.classState,k=[],t=[],q={},l=o.length,n,e,f,g;for(f=0;f<l;++f){e=F.resolveName(o[f]);if(!F.isCreated(e)){k.push(e);if(!m[e]){q[e]=D.getPath(e);t.push(q[e])}}}g=k.length;if(g){D.missingCount+=g;F.onCreated(function(){if(s){Ext.callback(s,p,arguments)}D.checkReady()},D,k);if(!J.enabled){Ext.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+((k.length>1)?"es":"")+": "+k.join(", "))}if(t.length){D.loadScripts({url:t,_classNames:k,_urlByClass:q})}else{D.checkReady()}}else{if(s){s.call(p)}D.checkReady()}if(D.syncModeEnabled){if(l===1){return F.get(o[0])}}return D},makeLoadCallback:function(f,e){return function(){var g=[],k=f.length;while(k-->0){g[k]=F.get(f[k])}return e.apply(this,g)}},onLoadFailure:function(){var f=this,e=f.onError;D.hasFileLoadError=true;--D.scriptsLoading;if(e){e.call(f.userScope,f)}D.checkReady()},onLoadSuccess:function(){var p=this,g=p.onLoad,o=p._classNames,e=p._urlByClass,n=F.classState,f=D.missingQueue,k,m,l;--D.scriptsLoading;if(g){g.call(p.userScope,p)}for(m=0,l=o.length;m<l;m++){k=o[m];if(!n[k]){f[k]=e[k]}}D.checkReady()},onReady:function(l,f,e,g){if(e){x.on(l,f,g)}else{var k=x.makeListener(l,f,g);if(D.isLoading){E.push(k)}else{x.invoke(k)}}},addUsedClasses:function(k){var f,e,g;if(k){k=(typeof k==="string")?[k]:k;for(e=0,g=k.length;e<g;e++){f=k[e];if(typeof f==="string"&&!Ext.Array.contains(B,f)){B.push(f)}}}return D},triggerReady:function(){var f,e=B;if(D.isLoading&&e.length){B=[];D.require(e)}else{D.isLoading=false;E.sort(x.sortFn);while(E.length&&!D.isLoading){f=E.pop();x.invoke(f)}x.unblock()}},historyPush:function(e){if(e&&!I[e]&&!F.overrideMap[e]){I[e]=true;w.push(e)}return D},loadScripts:function(f){var k=Ext.manifest,g=k&&k.loadOrder,e=k&&k.loadOrderMap,l;++D.scriptsLoading;if(g&&!e){k.loadOrderMap=e=z.createLoadOrderMap(g)}D.checkReady();l=Ext.apply({loadOrder:g,loadOrderMap:e,charset:J.scriptCharset,success:D.onLoadSuccess,failure:D.onLoadFailure,sync:D.syncModeEnabled,_classNames:[]},f);l.userScope=l.scope;l.scope=l;z.load(l)},loadScriptsSync:function(e){var f=D.syncModeEnabled;D.syncModeEnabled=true;D.loadScripts({url:e});D.syncModeEnabled=f},loadScriptsSyncBasePrefix:function(e){var f=D.syncModeEnabled;D.syncModeEnabled=true;D.loadScripts({url:e,prependBaseUrl:true});D.syncModeEnabled=f},loadScript:function(p){var n=typeof p==="string",k=p instanceof Array,e=!k&&!n,o=e?p.url:p,l=e&&p.onError,g=e&&p.onLoad,f=e&&p.scope,m={url:o,scope:f,onLoad:g,onError:l,_classNames:[]};D.loadScripts(m)},checkMissingQueue:function(){var f=D.missingQueue,e={},k,g=0;for(k in f){if(!(F.classState[k]||F.isCreated(k))){e[k]=f[k];g++}}D.missingCount=g;D.missingQueue=e},checkReady:function(){var e=D.isLoading,f;D.checkMissingQueue();f=D.missingCount+D.scriptsLoading;if(f&&!e){x.block();D.isLoading=!!f}else{if(!f&&e){D.triggerReady()}}}});Ext.require=y(D,"require");Ext.syncRequire=y(D,"syncRequire");Ext.exclude=y(D,"exclude");C.registerPreprocessor("loader",function(m,k,o,q){var v=this,N=[],t,M=F.getName(m),l,n,e,f,s,g,p,u;for(l=0,e=A.length;l<e;l++){g=A[l];if(k.hasOwnProperty(g)){p=k[g];if(typeof p==="string"){N.push(p)}else{if(p instanceof Array){for(n=0,f=p.length;n<f;n++){s=p[n];if(typeof s==="string"){N.push(s)}}}else{if(typeof p!=="function"){for(n in p){if(p.hasOwnProperty(n)){s=p[n];if(typeof s==="string"){N.push(s)}}}}}}}}if(N.length===0){return}if(M){H[M]=N}(M?D.exclude(M):D).require(N,function(){for(l=0,e=A.length;l<e;l++){g=A[l];if(k.hasOwnProperty(g)){p=k[g];if(typeof p==="string"){k[g]=F.get(p)}else{if(p instanceof Array){for(n=0,f=p.length;n<f;n++){s=p[n];if(typeof s==="string"){k[g][n]=F.get(s)}}}else{if(typeof p!=="function"){for(var K in p){if(p.hasOwnProperty(K)){s=p[K];if(typeof s==="string"){k[g][K]=F.get(s)}}}}}}}}q.call(v,m,k,o)});return false},true,"after","className");F.registerPostprocessor("uses",function(l,f,k){var g=k.uses,e;if(g){e=F.getNamesByExpression(k.uses);D.addUsedClasses(e)}});F.onCreated(D.historyPush);D.init()}());Ext._endTime=Ext.ticks();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}(Ext.cmd.derive("Ext.Mixin",Ext.Base,function(f){return{statics:{addHook:function(u,p,s,q){var v=Ext.isFunction(u),e=function(){var k=arguments,g=v?u:q[u],l=this.callParent(k);g.apply(this,k);return l},t=p.hasOwnProperty(s)&&p[s];if(v){u.$previous=Ext.emptyFn}e.$name=s;e.$owner=p.self;if(t){e.$previous=t.$previous;t.$previous=e}else{p[s]=e}}},onClassExtended:function(B,y){var w=y.mixinConfig,t=y.xhooks,u=B.superclass,x=y.onClassMixedIn,A,v,e,z;if(t){delete y.xhooks;(w||(y.mixinConfig=w={})).on=t}if(w){A=u.mixinConfig;if(A){y.mixinConfig=w=Ext.merge({},A,w)}y.mixinId=w.id;v=w.before;e=w.after;t=w.on;z=w.extended}if(v||e||t||z){y.onClassMixedIn=function(g){var m=this.prototype,k=g.prototype,l;if(v){Ext.Object.each(v,function(n,o){g.addMember(n,function(){if(m[o].apply(this,arguments)!==false){return this.callParent(arguments)}})})}if(e){Ext.Object.each(e,function(n,o){g.addMember(n,function(){var p=this.callParent(arguments);m[o].apply(this,arguments);return p})})}if(t){for(l in t){f.addHook(t[l],k,l,m)}}if(z){g.onExtended(function(){var n=Ext.Array.slice(arguments,0);n.unshift(g);return z.apply(this,n)},this)}if(x){x.apply(this,arguments)}}}}}},0,0,0,0,0,0,[Ext,"Mixin"],0));Ext.util=Ext.util||{};Ext.util.DelayedTask=function(q,s,u,w,x){var p=this,v,t=function(){var e=Ext.GlobalEvents;clearInterval(p.id);p.id=null;q.apply(s,u||[]);if(x!==false&&e.hasListeners.idle){e.fireEvent("idle")}};w=typeof w==="boolean"?w:true;p.id=null;p.delay=function(g,e,f,k){if(w){p.cancel()}if(typeof g==="number"){v=g}q=e||q;s=f||s;u=k||u;if(!p.id){p.id=Ext.interval(t,v)}};p.cancel=function(){if(p.id){clearInterval(p.id);p.id=null}}};(Ext.cmd.derive("Ext.util.Event",Ext.Base,function(){var l=Array.prototype.slice,o=Ext.Array.insert,m=Ext.Array.toArray,n={};return{isEvent:true,suspended:0,noOptions:{},constructor:function(e,f){this.name=f;this.observable=e;this.listeners=[]},addListener:function(K,V,U,Q,k){var J=this,P=false,G=J.observable,R=J.name,g,S,M,e,I,f,T,L,O,H,N;if(J.findListener(K,V)===-1){S=J.createListener(K,V,U,Q,k);if(J.firing){J.listeners=J.listeners.slice(0)}g=J.listeners;L=T=g.length;M=U&&U.priority;I=J._highestNegativePriorityIndex;f=I!==undefined;if(M){e=(M<0);if(!e||f){for(O=(e?I:0);O<T;O++){H=g[O].o?g[O].o.priority||0:0;if(H<M){L=O;break}}}else{J._highestNegativePriorityIndex=L}}else{if(f){L=I}}if(!e&&L<=I){J._highestNegativePriorityIndex++}if(L===T){g[T]=S}else{o(g,L,[S])}if(G.isElement){G._getPublisher(R).subscribe(G,R,U.delegated!==false,U.capture)}if(k){N=k.managedListeners||(k.managedListeners=[]);N.push({item:J.observable,ename:(U&&U.managedName)||J.name,fn:K,scope:V,options:U})}P=true}return P},createListener:function(B,z,y,k,f){var D=this,C=Ext._namedScopes[z],g={fn:B,scope:z,ev:D,caller:k,manager:f,namedScope:C,defaultScope:C?(z||D.observable):undefined,lateBound:typeof B==="string"},A=B,E=false,e;if(y){g.o=y;if(y.single){A=D.createSingle(A,g,y,z);E=true}if(y.target){A=D.createTargeted(A,g,y,z,E);E=true}if(y.onFrame){A=D.createAnimFrame(A,g,y,z,E);E=true}if(y.delay){A=D.createDelayed(A,g,y,z,E);E=true}if(y.buffer){A=D.createBuffered(A,g,y,z,E);E=true}if(D.observable.isElement){e=y.type;if(e){g.type=e}}}g.fireFn=A;g.wrapped=E;return g},findListener:function(k,q){var e=this.listeners,f=e.length,g;while(f--){g=e[f];if(g){if(g.fn===k&&g.scope==q){return f}}}return -1},removeListener:function(E,C,G){var F=this,H=false,A=F.observable,e=F.name,k,B,g,D,z,f;G=G!=null?G:F.findListener(E,C);if(G!==-1){k=F.listeners[G];if(F.firing){F.listeners=F.listeners.slice(0)}F.listeners.splice(G,1);if(F._highestNegativePriorityIndex){if(G<F._highestNegativePriorityIndex){F._highestNegativePriorityIndex--}else{if(G===F._highestNegativePriorityIndex&&G===F.listeners.length){delete F._highestNegativePriorityIndex}}}if(k){B=k.o;if(k.task){k.task.cancel();delete k.task}f=k.tasks&&k.tasks.length;if(f){while(f--){k.tasks[f].cancel()}delete k.tasks}g=k.manager;if(g){D=g.managedListeners;if(D){for(f=D.length;f--;){z=D[f];if(z.item===F.observable&&z.ename===e&&z.fn===E&&z.scope===C){D.splice(f,1)}}}}if(A.isElement){A._getPublisher(e).unsubscribe(A,e,B.delegated!==false,B.capture)}}H=true}return H},clearListeners:function(){var e=this.listeners,f=e.length,g;while(f--){g=e[f];this.removeListener(g.fn,g.scope)}},suspend:function(){++this.suspended},resume:function(){if(this.suspended){--this.suspended}},isSuspended:function(){return this.suspended>0},fireDelegated:function(e,f){this.firingObservable=e;return this.fire.apply(this,f)},fire:function(){var J=this,ab=Ext.ComponentQuery,f=J.listeners,R=f.length,M=J.observable,e=M.isElement,L=M.isComponent,Q=J.firingObservable,Y,S,K,V,aa,X,T,W,k,Z,O,U,N,g,P;if(!J.suspended&&R>0){J.firing=true;aa=arguments.length?l.call(arguments,0):[];T=aa.length;if(e){N=aa[0]}for(V=0;V<R;V++){X=f[V];if(!X){continue}Y=X.o;if(e){if(k){N.setCurrentTarget(k)}Z=X.type;if(Z){O=N;N=aa[0]=O.chain({type:Z})}Ext.EventObject=N}U=aa;if(Y){S=Y.delegate;if(S){if(e){W=N.getTarget("#"+N.currentTarget.id+" "+S);if(W){aa[1]=W;k=N.currentTarget;N.setCurrentTarget(W)}else{continue}}else{if(L&&!ab.is(Q,S,M)){continue}}}if(e){if(Y.preventDefault){N.preventDefault()}if(Y.stopPropagation){N.stopPropagation()}if(Y.stopEvent){N.stopEvent()}}aa[T]=Y;if(Y.args){U=Y.args.concat(aa)}}K=J.getFireInfo(X);g=K.fn;P=K.scope;K.fn=K.scope=null;if(P&&P.destroyed){J.removeListener(g,P,V);g=null}if(g&&g.apply(P,U)===false){Ext.EventObject=null;return(J.firing=false)}if(Y){aa.length--}if(O){N=aa[0]=O;O=null}Ext.EventObject=null}}J.firing=false;return true},getFireInfo:function(k,t){var g=this.observable,f=k.fireFn,u=k.scope,e=k.namedScope,v;if(!t&&k.wrapped){n.fn=f;return n}v=t?k.fn:f;if(k.lateBound){if(!u||e){u=(k.caller||g).resolveListenerScope(k.defaultScope)}v=u[v]}else{if(e&&e.isController){u=(k.caller||g).resolveListenerScope(k.defaultScope)}else{if(!u||e){u=g}}}n.fn=v;n.scope=u;return n},createAnimFrame:function(u,t,g,e,f){var k;if(!f){k=t.ev.getFireInfo(t,true);u=k.fn;e=k.scope;k.fn=k.scope=null}return Ext.Function.createAnimationFrame(u,e,g.args)},createTargeted:function(s,k,g,e,f){return function(){if(g.target===arguments[0]){var p;if(!f){p=k.ev.getFireInfo(k,true);s=p.fn;e=p.scope;p.fn=p.scope=null}return s.apply(e,arguments)}}},createBuffered:function(s,k,g,e,f){k.task=new Ext.util.DelayedTask();return function(){if(k.task){var p;if(!f){p=k.ev.getFireInfo(k,true);s=p.fn;e=p.scope;p.fn=p.scope=null}k.task.delay(g.buffer,s,e,m(arguments))}}},createDelayed:function(s,k,g,e,f){return function(){var q=new Ext.util.DelayedTask(),p;if(!f){p=k.ev.getFireInfo(k,true);s=p.fn;e=p.scope;p.fn=p.scope=null}if(!k.tasks){k.tasks=[]}k.tasks.push(q);q.delay(g.delay||10,s,e,m(arguments))}},createSingle:function(s,k,g,e,f){return function(){var v=k.ev,q=v.observable,w=k.fn,p;if(q){q.removeListener(v.name,w,e)}else{v.removeListener(w,e)}if(!f){p=v.getFireInfo(k,true);s=p.fn;e=p.scope;p.fn=p.scope=null}return s.apply(e,arguments)}}}},1,0,0,0,0,0,[Ext.util,"Event"],0));(Ext.cmd.derive("Ext.mixin.Identifiable",Ext.Base,{statics:{uniqueIds:{}},isIdentifiable:true,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var n=this.id,s,p,o,t,q;if(!(n||n===0)){s=this.self.prototype;p=this.defaultIdSeparator;t=Ext.mixin.Identifiable.uniqueIds;if(!s.hasOwnProperty("identifiablePrefix")){o=this.xtype;if(o){q=this.defaultIdPrefix+o.replace(this.idCleanRegex,p)+p}else{if(!(q=s.$className)){q=this.defaultIdPrefix+"anonymous"+p}else{q=q.replace(this.idCleanRegex,p).toLowerCase()+p}}s.identifiablePrefix=q}q=this.identifiablePrefix;if(!t.hasOwnProperty(q)){t[q]=0}n=this.id=this.id=q+(++t[q])}this.getUniqueId=this.getOptimizedId;return n},setId:function(f){this.id=this.id=f},getId:function(){var f=this.id;if(!f){f=this.getUniqueId()}this.getId=this.getOptimizedId;return f}},0,0,0,0,0,0,[Ext.mixin,"Identifiable"],0));(Ext.cmd.derive("Ext.mixin.Observable",Ext.Mixin,function(t){var p=Ext.emptyFn,q=[],o=Array.prototype,v=o.slice,s=function(e){if(e instanceof s){return e}this.observable=e;if(arguments[1].isObservable){this.managedListeners=true}this.args=v.call(arguments,1)},u=["events","hasListeners","managedListeners","eventedBeforeEventNames"];s.prototype.destroy=function(){this.destroy=Ext.emptyFn;var e=this.observable;if(!e.destroyed){e[this.managedListeners?"mun":"un"].apply(e,this.args)}};return{mixinConfig:{id:"observable",after:{destroy:"destroyObservable"}},statics:{releaseCapture:function(e){e.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,g,k){var f=function(m,l){return g.apply(k,[m].concat(l))};this.captureArgs(e,f,k)},captureArgs:function(e,f,g){e.fireEventArgs=Ext.Function.createInterceptor(e.fireEventArgs,f,g)},observe:function(f,e){if(f){if(!f.isObservable){Ext.applyIf(f,new this());this.captureArgs(f.prototype,f.fireEventArgs,f)}if(Ext.isObject(e)){f.on(e)}}return f},prepareClass:function(I,g,G){var m=I.listeners=[],D=G||I.prototype,l=D.listeners,J=g?g.listeners:I.superclass.self.listeners,k,f,n,H,E;if(J){m.push(J)}if(l){f=l.scope;if(!f){l.scope="self"}else{n=Ext._namedScopes[f];if(n&&n.isController){l.scope="self.controller"}}m.push(l);D.listeners=null}if(!I.HasListeners){var F=function(){},e=I.superclass.HasListeners||(g&&g.HasListeners)||t.HasListeners;I.prototype.HasListeners=I.HasListeners=F;F.prototype=I.hasListeners=new e()}f=I.prototype.$noClearOnDestroy||{};for(H=0,E=u.length;H<E;H++){f[u[H]]=true}I.prototype.$noClearOnDestroy=f}},isObservable:true,$vetoClearingPrototypeOnDestroy:true,eventsSuspended:0,constructor:function(l){var f=this,m=f.self,n,g,e,x,k;if(f.$observableInitialized){return}f.$observableInitialized=true;f.hasListeners=f.hasListeners=new f.HasListeners();f.eventedBeforeEventNames={};f.events=f.events||{};n=m.listeners;if(n&&!f._addDeclaredListeners(n)){m.listeners=null}g=(l&&l.listeners)||f.listeners;if(g){if(g instanceof Array){for(k=0,x=g.length;k<x;++k){f.addListener(g[k])}}else{f.addListener(g)}}e=(l&&l.bubbleEvents)||f.bubbleEvents;if(e){f.enableBubble(e)}if(f.$applyConfigs){if(l){Ext.apply(f,l)}}else{f.initConfig(l)}if(g){f.listeners=null}},onClassExtended:function(f,e){if(!f.HasListeners){t.prepareClass(f,f.prototype.$observableMixedIn?undefined:e)}},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(f){var e=this;if(f instanceof Array){Ext.each(f,e._addDeclaredListeners,e)}else{e._addedDeclaredListeners=true;e.addListener(f)}return e._addedDeclaredListeners},addManagedListener:function(m,B,z,l,k,e){var A=this,n=A.managedListeners=A.managedListeners||[],f,g;if(typeof B!=="string"){g=arguments.length>4?k:B;k=B;for(B in k){if(k.hasOwnProperty(B)){f=k[B];if(!m.$eventOptions[B]){A.addManagedListener(m,B,f.fn||f,f.scope||k.scope||l,f.fn?f:g,true)}}}if(k&&k.destroyable){return new s(A,m,k)}}else{if(z!==p){m.doAddListener(B,z,l,k,null,A,A);if(!e&&k&&k.destroyable){return new s(A,m,B,z,l)}}}},removeManagedListener:function(m,e,z,l){var A=this,k,f,n,g,B;if(m.$observableDestroyed){return}if(typeof e!=="string"){k=e;for(e in k){if(k.hasOwnProperty(e)){f=k[e];if(!m.$eventOptions[e]){A.removeManagedListener(m,e,f.fn||f,f.scope||k.scope||l)}}}}else{n=A.managedListeners?A.managedListeners.slice():[];e=Ext.canonicalEventName(e);for(B=0,g=n.length;B<g;B++){A.removeManagedListenerItem(false,n[B],m,e,z,l)}}},fireEvent:function(e){return this.fireEventArgs(e,v.call(arguments,1))},resolveListenerScope:function(e){var f=Ext._namedScopes[e];if(f){if(f.isSelf||f.isThis){e=null}}return e||this},fireEventArgs:function(m,k){m=Ext.canonicalEventName(m);var e=this,g=e.events,f=g&&g[m],l=true;if(e.hasListeners[m]){l=e.doFireEvent(m,k||q,f?f.bubble:false)}return l},fireAction:function(l,g,e,f,k,m){if(typeof e==="string"&&!f){e=this[e]}k=k?Ext.Object.chain(k):{};k.single=true;k.priority=((m==="after")?-99.5:99.5);this.doAddListener(l,e,f,k);this.fireEventArgs(l,g)},$eventedController:{_paused:1,pause:function(){++this._paused},resume:function(){var f=this,g=f.fn,k=f.scope,e=f.fnArgs,n=f.owner,l,m;if(!--f._paused){if(g){l=Ext.Array.slice(e||f.args);if(e===false){l.shift()}f.fn=null;l.push(f);if(Ext.isFunction(g)){m=g.apply(k,l)}else{if(k&&Ext.isString(g)&&Ext.isFunction(k[g])){m=k[g].apply(k,l)}}if(m===false){return false}}if(!f._paused){return f.owner.fireEventArgs(f.eventName,f.args)}}}},fireEventedAction:function(f,B,n,k,z){var A=this,l=A.eventedBeforeEventNames,e=l[f]||(l[f]="before"+f),g=Ext.apply({owner:A,eventName:f,fn:n,scope:k,fnArgs:z,args:B},A.$eventedController),m;B.push(g);m=A.fireEventArgs(e,B);B.pop();if(m===false){return false}return g.resume()},doFireEvent:function(l,g,m){var e=this,n,f,k=true;do{if(e.eventsSuspended){if((n=e.eventQueue)){n.push([l,g])}return k}else{f=e.events&&e.events[l];if(f&&f!==true){if((k=f.fire.apply(f,g))===false){break}}}}while(m&&(e=e.getBubbleParent()));return k},getBubbleParent:function(){var e=this,f=e.getBubbleTarget&&e.getBubbleTarget();if(f&&f.isObservable){return f}return null},addListener:function(G,m,l,g,e,k){var n=this,F=Ext._namedScopes,f,C,E,D,H;if(typeof G!=="string"){g=G;l=g.scope;C=l&&F[l];E=C&&C.isSelf;H=((n.isComponent||n.isWidget)&&g.element)?n.$elementEventOptions:n.$eventOptions;for(G in g){f=g[G];if(!H[G]){D=f.scope;if(D&&E){C=F[D];if(C&&C.isController){D="self.controller"}}n.doAddListener(G,f.fn||f,D||l,f.fn?f:g,e,k)}}if(g&&g.destroyable){return new s(n,g)}}else{n.doAddListener(G,m,l,g,e,k);if(g&&g.destroyable){return new s(n,G,m,l,g)}}return n},removeListener:function(k,f,g,n){var e=this,l,m;if(typeof k!=="string"){m=k;n=n||e.$eventOptions;for(k in m){if(m.hasOwnProperty(k)){l=m[k];if(!e.$eventOptions[k]){e.doRemoveListener(k,l.fn||l,l.scope||m.scope)}}}}else{e.doRemoveListener(k,f,g)}return e},onBefore:function(k,e,f,g){return this.addListener(k,e,f,g,"before")},onAfter:function(k,e,f,g){return this.addListener(k,e,f,g,"after")},unBefore:function(k,e,f,g){return this.removeListener(k,e,f,g,"before")},unAfter:function(k,e,f,g){return this.removeListener(k,e,f,g,"after")},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var e=this,g=e.events,l=e.hasListeners,f,k;if(g){for(k in g){if(g.hasOwnProperty(k)){f=g[k];if(f.isEvent){delete l[k];f.clearListeners()}}}e.events=null}e.clearManagedListeners()},clearManagedListeners:function(){var e=this,g=e.managedListeners?e.managedListeners.slice():[],f=0,k=g.length;for(;f<k;f++){e.removeManagedListenerItem(true,g[f])}e.managedListeners=[]},removeManagedListenerItem:function(l,m,e,k,f,g){if(l||(m.item===e&&m.ename===k&&(!f||m.fn===f)&&(!g||m.scope===g))){if(!m.item.destroyed){m.item.doRemoveListener(m.ename,m.fn,m.scope,m.options)}if(!l){Ext.Array.remove(this.managedListeners,m)}}},hasListener:function(e){e=Ext.canonicalEventName(e);return !!this.hasListeners[e]},isSuspended:function(e){var f=this.eventsSuspended>0,g=this.events;if(!f&&e&&g){e=g[e];if(e&&e.isEvent){return e.isSuspended()}}return f},suspendEvents:function(e){++this.eventsSuspended;if(e&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var e=this,g=e.events,m=arguments.length,k,f,l;for(k=0;k<m;k++){l=arguments[k];l=Ext.canonicalEventName(l);f=g[l];if(!f||!f.isEvent){f=e._initEvent(l)}f.suspend()}},resumeEvent:function(){var f=this.events||0,l=f&&arguments.length,g,e,k;for(g=0;g<l;g++){k=Ext.canonicalEventName(arguments[g]);e=f[k];if(e&&e.resume){e.resume()}}},resumeEvents:function(l){var k=this,e=k.eventQueue,f,g;if(k.eventsSuspended&&!--k.eventsSuspended){delete k.eventQueue;if(!l&&e){f=e.length;for(g=0;g<f;g++){k.fireEventArgs.apply(k,e[g])}}}},relayEvents:function(l,k,e){var m=this,z=k.length,f=0,g,y,n={};if(Ext.isObject(k)){for(f in k){y=k[f];n[f]=m.createRelayer(y)}}else{for(;f<z;f++){g=k[f];n[g]=m.createRelayer(e?e+g:g)}}m.mon(l,n,null,null,undefined);return new s(m,l,n)},createRelayer:function(g,f){var e=this;return function(){return e.fireEventArgs.call(e,g,f?v.apply(arguments,f):arguments)}},enableBubble:function(e){if(e){var g=this,f=(typeof e=="string")?arguments:e,m=g.events,k=m&&f.length,n,l,x;for(x=0;x<k;++x){n=f[x];n=Ext.canonicalEventName(n);l=m[n];if(!l||!l.isEvent){l=g._initEvent(n)}g.hasListeners._incr_(n);l.bubble=true}}},destroy:function(){this.clearListeners();this.callParent();this.destroyObservable(true)},destroyObservable:function(e){var f=this;if(f.$observableDestroyed){return}if(!e){f.clearListeners()}if(f.destroyed){if(f.clearPropertiesOnDestroy){if(!f.clearPrototypeOnDestroy){f.fireEvent=f.fireEventArgs=f.fireAction=f.fireEventedAction=Ext.emptyFn}f.events=f.managedListeners=f.eventedBeforeEventNames=null;f.$observableDestroyed=true}}},privates:{doAddListener:function(D,n,l,k,e,f,C){var A=this,B=false,g,m;e=e||(k&&k.order);if(e){m=(k&&k.priority);if(!m){k=k?Ext.Object.chain(k):{};k.priority=A.$orderToPriority[e]}}D=Ext.canonicalEventName(D);g=(A.events||(A.events={}))[D];if(!g||!g.isEvent){g=A._initEvent(D)}if(n!==p){if(!C&&(l&&l.isObservable&&(l!==A))){C=l}if(g.addListener(n,l,k,f,C)){A.hasListeners._incr_(D);B=true}}return B},doRemoveListener:function(l,g,k){var e=this,n=false,m=e.events,f;l=Ext.canonicalEventName(l);f=m&&m[l];if(f&&f.isEvent){if(f.removeListener(g,k)){e.hasListeners._decr_(l);n=true}}return n},_initEvent:function(e){return(this.events[e]=new Ext.util.Event(this,e))}},deprecated:{"5.0":{methods:{addEvents:null}}}}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.mixin,"Observable"],function(){var s=this,o=s.prototype,q=function(){},n=function(f){if(!f.HasListeners){var e=f.prototype;e.$observableMixedIn=1;s.prepareClass(f,this);f.onExtended(function(k,g){s.prepareClass(k,null,g)});if(e.onClassMixedIn){Ext.override(f,{onClassMixedIn:function(g){n.call(this,g);this.callParent(arguments)}})}else{e.onClassMixedIn=function(g){n.call(this,g)}}}t.call(this,f)},t=o.onClassMixedIn;q.prototype={_decr_:function(e,f){if(f==null){f=1}if(!(this[e]-=f)){delete this[e]}},_incr_:function(e){if(this.hasOwnProperty(e)){++this[e]}else{this[e]=1}}};o.HasListeners=s.HasListeners=q;s.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"});s.observeClass=s.observe;function p(e){var f=(this.methodEvents=this.methodEvents||{})[e],l,m,k,g=this,v;if(!f){this.methodEvents[e]=f={};f.originalFn=this[e];f.methodName=e;f.before=[];f.after=[];v=function(u,y,z){if((m=u.apply(y||g,z))!==undefined){if(typeof m=="object"){if(m.returnValue!==undefined){l=m.returnValue}else{l=m}k=!!m.cancel}else{if(m===false){k=true}else{l=m}}}};this[e]=function(){var u=Array.prototype.slice.call(arguments,0),z,B,A;l=m=undefined;k=false;for(B=0,A=f.before.length;B<A;B++){z=f.before[B];v(z.fn,z.scope,u);if(k){return l}}if((m=f.originalFn.apply(g,u))!==undefined){l=m}for(B=0,A=f.after.length;B<A;B++){z=f.after[B];v(z.fn,z.scope,u);if(k){return l}}return l}}return f}Ext.apply(o,{onClassMixedIn:n,beforeMethod:function(e,f,g){p.call(this,e).before.push({fn:f,scope:g})},afterMethod:function(e,f,g){p.call(this,e).after.push({fn:f,scope:g})},removeMethodListener:function(e,g,k){var f=this.getMethodEvent(e),l,m;for(l=0,m=f.before.length;l<m;l++){if(f.before[l].fn==g&&f.before[l].scope==k){Ext.Array.erase(f.before,l,1);return}}for(l=0,m=f.after.length;l<m;l++){if(f.after[l].fn==g&&f.after[l].scope==k){Ext.Array.erase(f.after,l,1);return}}},toggleEventLogging:function(e){Ext.util.Observable[e?"capture":"releaseCapture"](this,function(f){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(f,arguments)}})}})}));(Ext.cmd.derive("Ext.util.HashMap",Ext.Base,{generation:0,config:{keyFn:null},constructor:function(m){var k=this,l;k.mixins.observable.constructor.call(k,m);k.clear(true);l=k.getKeyFn();if(l){k.getKey=l}},getCount:function(){return this.length},getData:function(k,g){if(g===undefined){g=k;k=this.getKey(g)}return[k,g]},getKey:function(f){return f.id},add:function(m,k){var l=this;if(arguments.length===1){k=m;m=l.getKey(k)}if(l.containsKey(m)){return l.replace(m,k)}l.map[m]=k;++l.length;l.generation++;if(l.hasListeners.add){l.fireEvent("add",l,m,k)}return k},replace:function(p,n){var o=this,m=o.map,q;if(arguments.length===1){n=p;p=o.getKey(n)}if(!o.containsKey(p)){o.add(p,n)}q=m[p];m[p]=n;o.generation++;if(o.hasListeners.replace){o.fireEvent("replace",o,p,n,q)}return n},remove:function(g){var k=this.findKey(g);if(k!==undefined){return this.removeAtKey(k)}return false},removeAtKey:function(m){var l=this,k;if(l.containsKey(m)){k=l.map[m];delete l.map[m];--l.length;l.generation++;if(l.hasListeners.remove){l.fireEvent("remove",l,m,k)}return true}return false},get:function(k){var g=this.map;return g.hasOwnProperty(k)?g[k]:undefined},clear:function(k){var g=this;if(k||g.generation){g.map={};g.length=0;g.generation=k?0:g.generation+1}if(k!==true&&g.hasListeners.clear){g.fireEvent("clear",g)}return g},containsKey:function(k){var g=this.map;return g.hasOwnProperty(k)&&g[k]!==undefined},contains:function(f){return this.containsKey(this.findKey(f))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(l){var o=[],n,m=this.map;for(n in m){if(m.hasOwnProperty(n)){o.push(l?n:m[n])}}return o},each:function(n,o){var q=Ext.apply({},this.map),p,m=this.length;o=o||this;for(p in q){if(q.hasOwnProperty(p)){if(n.call(o,p,q[p],m)===false){break}}}return this},clone:function(){var k=new this.self(this.initialConfig),l=this.map,m;k.suspendEvents();for(m in l){if(l.hasOwnProperty(m)){k.add(m,l[m])}}k.resumeEvents();return k},findKey:function(l){var m,k=this.map;for(m in k){if(k.hasOwnProperty(m)&&k[m]===l){return m}}return undefined}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"HashMap"],function(g){var k=g.prototype;k.removeByKey=k.removeAtKey}));(Ext.cmd.derive("Ext.promise.Consequence",Ext.Base,function(f){return{promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(e,o,m){var n=this;n.onFulfilled=e;n.onRejected=o;n.onProgress=m;n.deferred=new Ext.promise.Deferred();n.promise=n.deferred.promise},trigger:function(e,m){var n=this,o=n.deferred;switch(e){case"fulfill":n.propagate(m,n.onFulfilled,o,o.resolve);break;case"reject":n.propagate(m,n.onRejected,o,o.reject);break}},update:function(e){if(Ext.isFunction(this.onProgress)){e=this.onProgress(e)}this.deferred.update(e)},propagate:function(m,e,o,n){if(Ext.isFunction(e)){this.schedule(function(){try{o.resolve(e(m))}catch(g){o.reject(g)}})}else{n.call(this.deferred,m)}},schedule:function(e){var k=f.queueSize++;f.queue[k]=e;if(!k){Ext.asap(f.dispatch)}},statics:{queue:new Array(10000),queueSize:0,dispatch:function(){var m=f.queue,e,l;for(l=0;l<f.queueSize;++l){e=m[l];m[l]=null;e()}f.queueSize=0}}}},1,0,0,0,0,0,[Ext.promise,"Consequence"],0));(Ext.cmd.derive("Ext.promise.Deferred",Ext.Base,{promise:null,consequences:[],completed:false,completionAction:null,completionValue:null,constructor:function(){var f=this;f.promise=new Ext.promise.Promise(f);f.consequences=[];f.completed=false;f.completionAction=null;f.completionValue=null},then:function(m,q,n){var o=this,p=new Ext.promise.Consequence(m,q,n);if(o.completed){p.trigger(o.completionAction,o.completionValue)}else{o.consequences.push(p)}return p.promise},resolve:function(p){var q=this,t,s;if(q.completed){return}try{if(p===q.promise){throw new TypeError("A Promise cannot be resolved with itself.")}if(p!=null&&(typeof p==="object"||Ext.isFunction(p))&&Ext.isFunction(s=p.then)){t=false;try{s.call(p,function(e){if(!t){t=true;q.resolve(e)}},function(e){if(!t){t=true;q.reject(e)}})}catch(n){if(!t){q.reject(n)}}}else{q.complete("fulfill",p)}}catch(o){q.reject(o)}},reject:function(f){if(this.completed){return}this.complete("reject",f)},update:function(p){var m=this.consequences,n,o,q;if(this.completed){return}for(o=0,q=m.length;o<q;o++){n=m[o];n.update(p)}},complete:function(o,p){var q=this,v=q.consequences,s,t,u;q.completionAction=o;q.completionValue=p;q.completed=true;for(t=0,u=v.length;t<u;t++){s=v[t];s.trigger(q.completionAction,q.completionValue)}q.consequences=null}},1,0,0,0,0,0,[Ext.promise,"Deferred"],0));(Ext.cmd.derive("Ext.promise.Promise",Ext.Base,function(g){var k;return{statics:{CancellationError:Ext.global.CancellationError||Error,_ready:function(){k=Ext.promise.Deferred},all:function(e){return g.when(e).then(function(y){var A=new k(),v=y.length,x=new Array(v),f,z,B,w,u;if(!v){A.resolve(x)}else{B=function(l,m){return g.when(l).then(function(n){x[m]=n;if(!--v){A.resolve(x)}return n},function(n){return A.reject(n)})};for(f=w=0,u=y.length;w<u;f=++w){z=y[f];if(f in y){B(z,f)}else{v--}}}return A.promise})},is:function(e){return e!=null&&(typeof e==="object"||Ext.isFunction(e))&&Ext.isFunction(e.then)},rethrowError:function(e){Ext.asap(function(){throw e})},when:function(e){var f=new Ext.promise.Deferred();f.resolve(e);return f.promise}},owner:null,constructor:function(e){this.owner=e},then:function(q,p,e,o){var f;if(arguments.length===1&&Ext.isObject(arguments[0])){f=arguments[0];q=f.success;p=f.failure;e=f.progress;o=f.scope}if(o){if(q){q=Ext.Function.bind(q,o)}if(p){p=Ext.Function.bind(p,o)}if(e){e=Ext.Function.bind(e,o)}}return this.owner.then(q,p,e)},otherwise:function(m,f){var e;if(arguments.length===1&&Ext.isObject(arguments[0])){e=arguments[0];m=e.fn;f=e.scope}if(f!=null){m=Ext.Function.bind(m,f)}return this.owner.then(null,m)},always:function(m,f){var e;if(arguments.length===1&&Ext.isObject(arguments[0])){e=arguments[0];m=e.fn;f=e.scope}if(f!=null){m=Ext.Function.bind(m,f)}return this.owner.then(function(l){try{m()}catch(o){g.rethrowError(o)}return l},function(o){try{m()}catch(l){g.rethrowError(l)}throw o})},done:function(){this.owner.then(null,g.rethrowError)},cancel:function(e){if(e==null){e=null}this.owner.reject(new this.self.CancellationError(e))},log:function(e){if(e==null){e=""}return this.owner.then(function(f){Ext.log(""+(e||"Promise")+" resolved with value: "+f);return f},function(f){Ext.log(""+(e||"Promise")+" rejected with reason: "+f);throw f})}}},1,0,0,0,0,0,[Ext.promise,"Promise"],function(f){f._ready()}));(Ext.cmd.derive("Ext.Promise",Ext.Base,function(){var f;return{statics:{_ready:function(){f=Ext.promise.Promise},all:function(){return f.all.apply(f,arguments)},race:function(){},reject:function(e){var k=new Ext.promise.Deferred();k.reject(e);return k.promise},resolve:function(e){var k=new Ext.promise.Deferred();k.resolve(e);return k.promise}},constructor:function(e){var k=new Ext.promise.Deferred();e(k.resolve.bind(k),k.reject.bind(k));return k.promise}}},1,0,0,0,0,0,[Ext,"Promise"],function(k){var g=Ext.global.Promise;if(g&&g.resolve){Ext.Promise=g}else{k._ready()}}));(Ext.cmd.derive("Ext.Deferred",Ext.promise.Deferred,function(l){var k,m;return{statics:{_ready:function(){k=Ext.promise.Promise;m=Ext.Promise.resolve},all:function(){return k.all.apply(k,arguments)},any:function(e){return l.some(e,1).then(function(f){return f[0]},function(f){if(f instanceof Error&&f.message==="Too few Promises were resolved."){Ext.raise("No Promises were resolved.")}else{throw f}})},delay:function(g,e){var f;if(arguments.length===1){e=g;g=undefined}e=Math.max(e,0);f=new l();setTimeout(function(){f.resolve(g)},e);return f.promise},map:function(f,e){return l.resolved(f).then(function(y){var A,C,z,g,B,x,w,D;g=y.length;x=new Array(y.length);A=new l();if(!g){A.resolve(x)}else{B=function(n,o){return l.resolved(n).then(function(p){return e(p,o,x)}).then(function(p){x[o]=p;if(!--g){A.resolve(x)}return p},function(p){return A.reject(p)})};for(C=w=0,D=y.length;w<D;C=++w){z=y[C];if(C in y){B(z,C)}else{g--}}}return A.promise})},memoize:function(o,e,g){var f=Ext.Function.memoize(o,e,g);return function(){return l.all(Ext.Array.slice(arguments)).then(function(n){return f.apply(e,n)})}},parallel:function(f,e){if(e==null){e=null}var g=Ext.Array.slice(arguments,2);return l.map(f,function(o){if(!Ext.isFunction(o)){throw new Error("Invalid parameter: expected a function.")}return o.apply(e,g)})},pipeline:function(f,g,e){if(e==null){e=null}return l.reduce(f,function(p,q){if(!Ext.isFunction(q)){throw new Error("Invalid parameter: expected a function.")}return q.call(e,p)},g)},reduce:function(f,e,g){var o=arguments.length===3;return l.resolved(f).then(function(n){var q=[n,function(u,p,v){return l.resolved(u).then(function(s){return l.resolved(p).then(function(t){return e(s,t,v,n)})})}];if(o){q.push(g)}return Ext.Array.reduce.apply(Ext.Array,q)})},rejected:function(e){var f=new Ext.Deferred();f.reject(e);return f.promise},resolved:function(e){var f=new Ext.Deferred();f.resolve(e);return f.promise},sequence:function(f,e){if(e==null){e=null}var g=Ext.Array.slice(arguments,2);return l.reduce(f,function(q,p){if(!Ext.isFunction(p)){throw new Error("Invalid parameter: expected a function.")}return l.resolved(p.apply(e,g)).then(function(n){q.push(n);return q})},[])},some:function(e,f){return l.resolved(e).then(function(z){var C,G,E,D,A,B,g,F,y,H;F=[];g=f;B=(z.length-g)+1;C=new l();if(z.length<f){C.reject(new Error("Too few Promises were resolved."))}else{D=function(n){if(g>0){F.push(n)}g--;if(g===0){C.resolve(F)}return n};E=function(n){B--;if(B===0){C.reject(new Error("Too few Promises were resolved."))}return n};for(G=y=0,H=z.length;y<H;G=++y){A=z[G];if(G in z){l.resolved(A).then(D,E)}}}return C.promise})},timeout:function(g,e){var f=new l(),o;o=setTimeout(function(){if(o){f.reject(new Error("Promise timed out."))}},e);l.resolved(g).then(function(n){clearTimeout(o);o=null;f.resolve(n)},function(n){clearTimeout(o);o=null;f.reject(n)});return f.promise}}}},0,0,0,0,0,0,[Ext,"Deferred"],function(f){f._ready()}));Ext.Factory=function(k){var g=this;g.aliasPrefix=k+".";g.cache={};g.name=k.replace(g.fixNameRe,g.fixNameFn);g.type=k};Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(x,v){var s=this,z=Ext.ClassManager,y=s.cache,w,t,u,q;if(x){if(x[s.instanceProp]){return x}if(typeof x==="string"){q=x;x={};x[s.defaultProperty]=q}t=x.xclass;q=x.type}if(v&&v.constructor===Object){x=Ext.apply({},x,v);v=v.type}if(t){if(!(u=z.get(t))){return z.instantiate(t,x)}}else{if(!(q=q||v||s.defaultType)){u=s.defaultClass}if(!u&&!(u=y[q])){w=s.aliasPrefix+q;t=z.getNameByAlias(w);if(!(u=t&&z.get(t))){return z.instantiateByAlias(w,x)}y[q]=u}}return u.isInstance?u:new u(x)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(f){return f.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(n,p){var t=Ext.Factory,s,q,o;if(n.constructor===Object){Ext.Object.each(n,t.define,t)}else{q=new Ext.Factory(n);if(p){if(p.constructor===Object){Ext.apply(q,p);if(typeof(s=q.xclass)==="string"){q.defaultClass=Ext.ClassManager.get(s)}}else{q.defaultType=p}}t[q.name]=o=q.create.bind(q);o.instance=q}return o};(Ext.cmd.derive("Ext.mixin.Factoryable",Ext.Base,{mixinId:"factoryable",onClassMixedIn:function(o){var p=o.prototype,v=p.factoryConfig,q=p.alias,s={},t,u;q=q&&q.length&&q[0];if(q&&(t=q.lastIndexOf("."))>0){s.type=q.substring(0,t);s.defaultType=q.substring(t+1)}if(v){delete p.factoryConfig;Ext.apply(s,v)}u=Ext.Factory.define(s.type,s);if(o.create===Ext.Base.create){o.create=u}}},0,0,0,0,0,0,[Ext.mixin,"Factoryable"],0));(Ext.cmd.derive("Ext.data.request.Base",Ext.Base,{factoryConfig:{type:"request",defaultType:"ajax"},result:null,success:null,timer:null,constructor:function(k){var g=this;Ext.apply(g,k.options||{},k.ownerConfig);g.id=++Ext.data.Connection.requestId;g.owner=k.owner;g.options=k.options;g.requestOptions=k.requestOptions},start:function(){var k=this,g=k.getTimeout();if(g&&k.async){k.timer=Ext.defer(k.onTimeout,g,k)}},abort:function(){var f=this;f.clearTimer();if(!f.timedout){f.aborted=true}f.abort=Ext.emptyFn},createDeferred:function(){return(this.deferred=new Ext.Deferred())},getDeferred:function(){return this.deferred||this.createDeferred()},getPromise:function(){return this.getDeferred().promise},then:function(){var f=this.getPromise();return f.then.apply(f,arguments)},onComplete:function(){var k=this,l=k.deferred,m=k.result;k.clearTimer();if(l){if(k.success){l.resolve(m)}else{l.reject(m)}}},onTimeout:function(){var f=this;f.timedout=true;f.timer=null;f.abort(true)},getTimeout:function(){return this.timeout},clearTimer:function(){var f=this.timer;if(f){clearTimeout(f);this.timer=null}},destroy:function(){var f=this;f.abort();f.owner=f.options=f.requestOptions=f.result=null;f.callParent()},privates:{createException:function(){var g=this,k;k={request:g,requestId:g.id,status:g.aborted?-1:0,statusText:g.aborted?"transaction aborted":"communication failure",getResponseHeader:g._getHeader,getAllResponseHeaders:g._getHeaders};if(g.aborted){k.aborted=true}if(g.timedout){k.timedout=true}return k},_getHeader:function(k){var g=this.headers;return g&&g[k.toLowerCase()]},_getHeaders:function(){return this.headers}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.request,"Base"],0));(Ext.cmd.derive("Ext.data.flash.BinaryXhr",Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:false,flashPluginInjected:false,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(l,m,n){var o;o=this.liveConnections[Number(l)];if(o){o.onFlashStateChange(m,n)}},registerConnection:function(g){var k=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[k]=g;return k},injectFlashPlugin:function(){var l=this,m,k;l.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]});m=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");k="/plugins/flash/FlashPlugin.swf";if(Ext.flashPluginPath){k=Ext.flashPluginPath}Ext.Loader.loadScript({url:m,onLoad:function(){var f="11.4.0";var q="playerProductInstall.swf";var g={};var p={};p.quality="high";p.bgcolor="#ffffff";p.allowscriptaccess="sameDomain";p.allowfullscreen="true";var e={};e.id="ext-flash-polyfill";e.name="polyfill";e.align="middle";swfobject.embedSWF(k,"ext-flash-polyfill","0","0",f,q,g,p,e)},onError:function(){},scope:l});Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(k){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var g=this;Ext.apply(g,k);g.requestHeaders={}},abort:function(){var f=this;if(f.readyState==4){return}f.aborted=true;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.removeListener("flashready",f.onFlashReady,f);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(f.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[f.javascriptId]},getAllResponseHeaders:function(){var f=[];Ext.Object.each(this.responseHeaders,function(k,e){f.push(k+": "+e)});return f.join("\r\n")},getResponseHeader:function(g){var k=this.responseHeaders;return(k&&k[g])||null},open:function(n,q,p,t,s){var o=this;o.method=n;o.url=q;o.async=p!==false;o.user=t;o.password=s},overrideMimeType:function(f){this.mimeType=f},send:function(k){var g=this;g.body=k;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.addListener("flashready",g.onFlashReady,g)}else{this.onFlashReady()}},onFlashReady:function(){var k=this,l,m;k.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(k);l={method:k.method,url:k.url,user:k.user,password:k.password,mimeType:k.mimeType,requestHeaders:k.requestHeaders,body:k.body,javascriptId:k.javascriptId};m=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(l)},setReadyState:function(g){var k=this;if(k.readyState!=g){k.readyState=g;k.onreadystatechange()}},setRequestHeader:function(g,k){this.requestHeaders[g]=k},onreadystatechange:Ext.emptyFn,parseData:function(g){var k=this;this.status=g.status||0;k.responseHeaders={};if(k.mimeType){k.responseHeaders["content-type"]=k.mimeType}if(g.reason=="complete"){this.responseBytes=g.data;k.responseHeaders["content-length"]=g.data.length}else{if(g.reason=="error"||g.reason=="securityError"){this.statusText=g.text;k.responseHeaders["content-length"]=0}}},onFlashStateChange:function(k,l){var m=this;if(k==4){m.parseData(l);delete Ext.data.flash.BinaryXhr.liveConnections[m.javascriptId]}m.setReadyState(k)}},1,0,0,0,0,0,[Ext.data.flash,"BinaryXhr"],0));(Ext.cmd.derive("Ext.data.request.Ajax",Ext.data.request.Base,{statics:{parseStatus:function(p,o){var q;if(o){if(o.responseType==="arraybuffer"){q=o.byteLength}else{if(o.responseText){q=o.responseText.length}}}p=p==1223?204:p;var m=(p>=200&&p<300)||p==304||(p==0&&Ext.isNumber(q)),n=false;if(!m){switch(p){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:n=true;break}}return{success:m,isException:n}}},start:function(p){var s=this,t=s.options,u=s.requestOptions,q=s.isXdr,v,o;v=s.xhr=s.openRequest(t,u,s.async,s.username,s.password);if(!q){o=s.setupHeaders(v,t,u.data,u.params)}if(s.async){if(!q){v.onreadystatechange=Ext.Function.bind(s.onStateChange,s)}}if(q){s.processXdrRequest(s,v)}Ext.data.request.Base.prototype.start.call(this,p);v.send(p);if(!s.async){return s.onComplete()}return s},abort:function(n){var o=this,e=o.xhr;if(n||o.isLoading()){try{e.onreadystatechange=null}catch(m){e.onreadystatechange=Ext.emptyFn}e.abort();Ext.data.request.Base.prototype.abort.call(this,n);o.onComplete();o.cleanup()}},cleanup:function(){this.xhr=null;delete this.xhr},isLoading:function(){var o=this,l=o.xhr,n=l&&l.readyState,m=Ext.data.flash&&Ext.data.flash.BinaryXhr;if(!l||o.aborted||o.timedout){return false}if(m&&l instanceof m){return n!==4}return n!==0&&n!==4},openRequest:function(s,u,q,v,t){var p=this,o=p.newRequest(s);if(v){o.open(u.method,u.url,q,v,t)}else{if(p.isXdr){o.open(u.method,u.url)}else{o.open(u.method,u.url,q)}}if(s.binary||p.binary){if(window.Uint8Array){o.responseType="arraybuffer"}else{if(o.overrideMimeType){o.overrideMimeType("text/plain; charset=x-user-defined")}}}if(s.withCredentials||p.withCredentials){o.withCredentials=true}return o},newRequest:function(m){var l=this,k;if(m.binaryData){if(window.Uint8Array){k=l.getXhrInstance()}else{k=new Ext.data.flash.BinaryXhr()}}else{if(l.cors&&Ext.isIE9m){k=l.getXdrInstance();l.isXdr=true}else{k=l.getXhrInstance();l.isXdr=false}}return k},setupHeaders:function(G,F,A,B){var e=this,D=Ext.apply({},F.headers||{},e.defaultHeaders),H=e.defaultPostHeader,J=F.jsonData,E=F.xmlData,x="Content-Type",C=e.useDefaultXhrHeader,I,z;if(!D.hasOwnProperty(x)&&(A||B)){if(A){if(F.rawData){H="text/plain"}else{if(E&&Ext.isDefined(E)){H="text/xml"}else{if(J&&Ext.isDefined(J)){H="application/json"}}}}D[x]=H}if(C&&!D["X-Requested-With"]){D["X-Requested-With"]=e.defaultXhrHeader}if(D[x]===undefined||D[x]===null){delete D[x]}try{for(I in D){if(D.hasOwnProperty(I)){z=D[I];G.setRequestHeader(I,z)}}}catch(y){e.owner.fireEvent("exception",I,z)}return D},getXdrInstance:function(){var f;if(Ext.ieVersion>=8){f=new XDomainRequest()}else{Ext.raise({msg:"Your browser does not support CORS"})}return f},getXhrInstance:(function(){var p=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],o=0,q=p.length,e;for(;o<q;++o){try{e=p[o];e();break}catch(n){}}return e}()),processXdrRequest:function(l,k){var m=this;delete l.headers;l.contentType=l.options.contentType||m.defaultXdrContentType;k.onload=Ext.Function.bind(m.onStateChange,m,[true]);k.onerror=k.ontimeout=Ext.Function.bind(m.onStateChange,m,[false])},processXdrResponse:function(k,g){k.getAllResponseHeaders=function(){return[]};k.getResponseHeader=function(){return""};k.contentType=g.contentType||this.defaultXdrContentType},onStateChange:function(n){var m=this,l=m.xhr,o=Ext.GlobalEvents;if((l&&l.readyState==4)||m.isXdr){m.clearTimer();m.onComplete(n);m.cleanup();if(o.hasListeners.idle){o.fireEvent("idle")}}},onComplete:function(t){var w=this,A=w.owner,e=w.options,u=w.xhr,z={success:false,isException:false},B,v,y;if(!u||w.destroyed){return w.result=z}try{B=Ext.data.request.Ajax.parseStatus(u.status,u);if(B.success){B.success=u.readyState===4}}catch(x){B=z}v=w.success=w.isXdr?t:B.success;if(v){y=w.createResponse(u);if(A.hasListeners.requestcomplete){A.fireEvent("requestcomplete",A,y,e)}if(e.success){Ext.callback(e.success,e.scope,[y,e])}}else{if(B.isException||w.aborted||w.timedout){y=w.createException(u)}else{y=w.createResponse(u)}if(A.hasListeners.requestexception){A.fireEvent("requestexception",A,y,e)}if(e.failure){Ext.callback(e.failure,e.scope,[y,e])}}w.result=y;if(e.callback){Ext.callback(e.callback,e.scope,[e,v,y])}A.onRequestComplete(w);Ext.data.request.Base.prototype.onComplete.call(this,t);return y},createResponse:function(u){var w=this,A=w.isXdr,B={},t=A?[]:u.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),y=t.length,D,x,v,z,C;while(y--){D=t[y];x=D.indexOf(":");if(x>=0){v=D.substr(0,x).toLowerCase();if(D.charAt(x+1)==" "){++x}B[v]=D.substr(x+1)}}z={request:w,requestId:w.id,status:u.status,statusText:u.statusText,getResponseHeader:function(e){return B[e.toLowerCase()]},getAllResponseHeaders:function(){return B}};if(A){w.processXdrResponse(z,u)}if(w.binary){z.responseBytes=w.getByteArray(u)}else{z.responseText=u.responseText;z.responseXML=u.responseXML}return z},destroy:function(){this.xhr=null;Ext.data.request.Base.prototype.destroy.call(this)},privates:{getByteArray:function(s){var x=s.response,y=s.responseBody,e=Ext.data.flash&&Ext.data.flash.BinaryXhr,z,t,v,w;if(s instanceof e){z=s.responseBytes}else{if(window.Uint8Array){z=x?new Uint8Array(x):[]}else{if(Ext.isIE9p){try{z=new VBArray(y).toArray()}catch(u){z=[]}}else{if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(s.responseBody,z=[])}else{z=[];t=s.responseText;v=t.length;for(w=0;w<v;w++){z.push(t.charCodeAt(w)&255)}}}}}return z},injectVBScript:function(){var f=document.createElement("script");f.type="text/vbscript";f.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n");Ext.getHead().dom.appendChild(f);this.self.vbScriptInjected=true}}},0,0,0,0,["request.ajax"],0,[Ext.data.request,"Ajax"],0));(Ext.cmd.derive("Ext.data.request.Form",Ext.data.request.Base,{start:function(l){var m=this,n=m.options,o=m.requestOptions;Ext.data.request.Base.prototype.start.call(this,l);m.form=m.upload(n.form,o.url,o.data,n);return m},abort:function(n){var o=this,e;if(o.isLoading()){try{e=o.frame.dom;if(e.stop){e.stop()}else{e.document.execCommand("Stop")}}catch(m){}}Ext.data.request.Base.prototype.abort.call(this,n);o.onComplete();o.cleanup()},cleanup:function(){var k=this,g=k.frame;if(g){g.un("load",k.onComplete,k);Ext.removeNode(g)}k.frame=k.form=null},isLoading:function(){return !!this.frame},upload:function(U,P,K,Q){U=Ext.getDom(U);Q=Q||{};var v=document.createElement("iframe"),I=Ext.get(v),G=I.id,T=[],S="multipart/form-data",M={target:U.target,method:U.method,encoding:U.encoding,enctype:U.enctype,action:U.action},V=function(e,f){O=document.createElement("input");Ext.fly(O).set({type:"hidden",value:f,name:e});U.appendChild(O);T.push(O)},O,L,E,J,F,N,H,D,R;I.set({name:G,cls:"x-hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1});document.body.appendChild(v);if(document.frames){document.frames[G].name=G}Ext.fly(U).set({target:G,method:"POST",enctype:S,encoding:S,action:P||M.action});if(K){L=Ext.Object.fromQueryString(K)||{};for(J in L){if(L.hasOwnProperty(J)){E=L[J];if(Ext.isArray(E)){F=E.length;for(N=0;N<F;N++){V(J,E[N])}}else{V(J,E)}}}}this.frame=I;I.on({load:this.onComplete,scope:this,single:!Ext.isOpera});U.submit();Ext.fly(U).set(M);for(H=T.length,D=0;D<H;D++){Ext.removeNode(T[D])}return U},getDoc:function(){var f=this.frame.dom;return(f&&(f.contentWindow.document||f.contentDocument))||(window.frames[f.id]||{}).document},getTimeout:function(){return this.options.timeout},onComplete:function(){var v=this,z=v.frame,A=v.owner,B=v.options,t,u,e,x,y;if(!z){return}if(v.aborted||v.timedout){v.result=y=v.createException();y.responseXML=null;y.responseText='{success:false,message:"'+Ext.String.trim(y.statusText)+'"}';y.request=v;t=B.failure;e=false}else{try{u=v.getDoc();v.result=y={responseText:"",responseXML:null,request:v};if(u){if(Ext.isOpera&&u.location==Ext.SSL_SECURE_URL){return}if(u.body){if((x=u.body.firstChild)&&/pre/i.test(x.tagName)){y.responseText=x.textContent||x.innerText}else{if((x=u.getElementsByTagName("textarea")[0])){y.responseText=x.value}else{y.responseText=u.body.textContent||u.body.innerText}}}y.responseXML=u.XMLDocument||u;t=B.success;e=true;y.status=200}else{Ext.raise("Could not acquire a suitable connection for the file upload service.")}}catch(w){v.result=y=v.createException();y.status=400;y.statusText=(w.message||w.description)+"";y.responseText='{success:false,message:"'+Ext.String.trim(y.statusText)+'"}';y.responseXML=null;t=B.failure;e=false}}v.frame=null;v.success=e;A.fireEvent(e?"requestcomplete":"requestexception",A,y,B);Ext.callback(t,B.scope,[y,B]);Ext.callback(B.callback,B.scope,[B,e,y]);A.onRequestComplete(v);Ext.asap(z.destroy,z);Ext.data.request.Base.prototype.onComplete.call(this)},destroy:function(){this.cleanup();Ext.data.request.Base.prototype.destroy.call(this)}},0,0,0,0,["request.form"],0,[Ext.data.request,"Form"],0));(Ext.cmd.derive("Ext.data.Connection",Ext.Base,{statics:{requestId:0},enctypeRe:/multipart\/form-data/i,config:{url:null,async:true,username:"",password:"",disableCaching:true,withCredentials:false,binary:false,cors:false,isXdr:false,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:30000,extraParams:null,autoAbort:false,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest"},constructor:function(f){this.mixins.observable.constructor.call(this,f);this.requests={}},request:function(n){n=n||{};var l=this,o,m;if(l.fireEvent("beforerequest",l,n)!==false){o=l.setOptions(n,n.scope||Ext.global);m=l.createRequest(n,o);return m.start(o.data)}Ext.callback(n.callback,n.scope,[n,undefined,undefined]);return Ext.Deferred.rejected([n,undefined,undefined])},createRequest:function(p,q){var m=this,o=p.type||q.type,n;if(!o){o=m.isFormUpload(p)?"form":"ajax"}if(p.autoAbort||m.getAutoAbort()){m.abort()}n=Ext.Factory.request({type:o,owner:m,options:p,requestOptions:q,ownerConfig:m.getConfig()});m.requests[n.id]=n;m.latestId=n.id;return n},isFormUpload:function(k){var g=this.getForm(k);if(g){return k.isUpload||this.enctypeRe.test(g.getAttribute("enctype"))}return false},getForm:function(f){return Ext.getDom(f.form)},setOptions:function(E,F){var v=this,z=E.params||{},w=v.getExtraParams(),A=E.urlParams,B=E.url||v.getUrl(),x=E.cors,u=E.jsonData,C,D,y;if(x!==undefined){v.setCors(x)}if(Ext.isFunction(z)){z=z.call(F,E)}if(Ext.isFunction(B)){B=B.call(F,E)}B=this.setupUrl(E,B);y=E.rawData||E.binaryData||E.xmlData||u||null;if(u&&!Ext.isPrimitive(u)){y=Ext.encode(y)}if(E.binaryData){if(v.nativeBinaryPostSupport()){y=(new Uint8Array(E.binaryData));if((Ext.isChrome&&Ext.chromeVersion<22)||Ext.isSafari||Ext.isGecko){y=y.buffer}}}if(Ext.isObject(z)){z=Ext.Object.toQueryString(z)}if(Ext.isObject(w)){w=Ext.Object.toQueryString(w)}z=z+((w)?((z)?"&":"")+w:"");A=Ext.isObject(A)?Ext.Object.toQueryString(A):A;z=this.setupParams(E,z);C=(E.method||v.getMethod()||((z||y)?"POST":"GET")).toUpperCase();this.setupMethod(E,C);D=E.disableCaching!==false?(E.disableCaching||v.getDisableCaching()):false;if(C==="GET"&&D){B=Ext.urlAppend(B,(E.disableCachingParam||v.getDisableCachingParam())+"="+(new Date().getTime()))}if((C=="GET"||y)&&z){B=Ext.urlAppend(B,z);z=null}if(A){B=Ext.urlAppend(B,A)}return{url:B,method:C,data:y||z||null}},setupUrl:function(l,m){var k=this.getForm(l);if(k){m=m||k.action}return m},setupParams:function(o,l){var m=this.getForm(o),n;if(m&&!this.isFormUpload(o)){n=Ext.Element.serializeForm(m);l=l?(l+"&"+n):n}return l},setupMethod:function(k,g){if(this.isFormUpload(k)){return"POST"}return g},isLoading:function(f){if(!f){f=this.getLatest()}return f?f.isLoading():false},abort:function(f){if(!f){f=this.getLatest()}if(f&&f.isLoading()){f.abort()}},abortAll:function(){var g=this.requests,k;for(k in g){this.abort(g[k])}},getLatest:function(){var g=this.latestId,k;if(g){k=this.requests[g]}return k||null},clearTimeout:function(f){if(!f){f=this.getLatest()}if(f){f.clearTimer()}},onRequestComplete:function(f){delete this.requests[f.id]},nativeBinaryPostSupport:function(){return Ext.isChrome||(Ext.isSafari&&Ext.isDefined(window.Uint8Array))||(Ext.isGecko&&Ext.isDefined(window.Uint8Array))}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Connection"],0));(Ext.cmd.derive("Ext.Ajax",Ext.data.Connection,{singleton:true,autoAbort:false},0,0,0,0,0,0,[Ext,"Ajax"],0));(Ext.cmd.derive("Ext.AnimationQueue",Ext.Base,{singleton:true,constructor:function(){var f=this;f.queue=[];f.taskQueue=[];f.runningQueue=[];f.idleQueue=[];f.isRunning=false;f.isIdle=true;f.run=Ext.Function.bind(f.run,f);if(Ext.os.is.iOS){Ext.interval(f.watch,500,f)}},start:function(m,n,o){var l=this;l.queue.push(arguments);if(!l.isRunning){if(l.hasOwnProperty("idleTimer")){clearTimeout(l.idleTimer);delete l.idleTimer}if(l.hasOwnProperty("idleQueueTimer")){clearTimeout(l.idleQueueTimer);delete l.idleQueueTimer}l.isIdle=false;l.isRunning=true;l.doStart()}},watch:function(){if(this.isRunning&&Ext.now()-this.lastRunTime>=500){this.run()}},run:function(){var m=this;if(!m.isRunning){return}var q=m.runningQueue,p=Ext.now(),o,n;m.lastRunTime=p;m.frameStartTime=p;q.push.apply(q,m.queue);for(o=0,n=q.length;o<n;o++){m.invoke(q[o])}q.length=0;m.doIterate()},doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run);this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(q,s,u){var w=this;if(!w.isRunning){return}var v=w.queue,x=v.length,t,p;for(t=0;t<x;t++){p=v[t];if(p[0]===q&&p[1]===s&&p[2]===u){v.splice(t,1);t--;x--}}if(x===0){w.doStop();w.isRunning=false;w.idleTimer=Ext.defer(w.whenIdle,100,w)}},onIdle:function(p,q,u){var s=this.idleQueue,t,o,v;for(t=0,o=s.length;t<o;t++){v=s[t];if(p===v[0]&&q===v[1]&&u===v[2]){return}}s.push(arguments);if(this.isIdle){this.processIdleQueue()}},unIdle:function(p,q,u){var s=this.idleQueue,t,o,v;for(t=0,o=s.length;t<o;t++){v=s[t];if(p===v[0]&&q===v[1]&&u===v[2]){s.splice(t,1);return true}}return false},queueTask:function(k,l,m){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(p,q,u){var s=this.taskQueue,t,o,v;for(t=0,o=s.length;t<o;t++){v=s[t];if(p===v[0]&&q===v[1]&&u===v[2]){s.splice(t,1);t--;o--}}},invoke:function(l){var m=l[0],n=l[1],o=l[2];m=(typeof m=="string"?n[m]:m);if(Ext.isArray(o)){m.apply(n,o)}else{m.call(n,o)}},whenIdle:function(){this.isIdle=true;this.processIdleQueue()},processIdleQueue:function(){if(!this.hasOwnProperty("idleQueueTimer")){this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this)}},processIdleQueueItem:function(){delete this.idleQueueTimer;if(!this.isIdle){return}var k=this.idleQueue,g;if(k.length>0){g=k.shift();this.invoke(g);this.processIdleQueue()}},processTaskQueue:function(){if(!this.hasOwnProperty("taskQueueTimer")){this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this)}},processTaskQueueItem:function(){delete this.taskQueueTimer;var k=this.taskQueue,g;if(k.length>0){g=k.shift();this.invoke(g);this.processTaskQueue()}}},1,0,0,0,0,0,[Ext,"AnimationQueue"],0));(Ext.cmd.derive("Ext.ComponentManager",Ext.Base,{alternateClassName:"Ext.ComponentMgr",singleton:true,count:0,typeName:"xtype",constructor:function(k){var g=this;Ext.apply(g,k||{});g.all={};g.references={};g.onAvailableCallbacks={}},create:function(k,g){if(typeof k==="string"){return Ext.widget(k)}if(k.isComponent){return k}if("xclass" in k){return Ext.create(k.xclass,k)}return Ext.widget(k.xtype||g,k)},get:function(f){return this.all[f]},register:function(q){var m=this,n=m.all,o=q.getId(),p=m.onAvailableCallbacks;n[o]=q;if(q.getReference&&q.getReference()){m.references[o]=q}++m.count;if(!m.hasFocusListener){Ext.on("focus",m.onGlobalFocus,m);m.hasFocusListener=true}p=p&&p[o];if(p&&p.length){m.notifyAvailable(q)}},unregister:function(k){var g=k.getId();if(k.getReference&&k.getReference()){this.references[g]=null;delete this.references[g]}this.all[g]=null;delete this.all[g];this.count--},markReferencesDirty:function(){this.referencesDirty=true},fixReferences:function(){var k=this,l=k.references,m;if(k.referencesDirty){for(m in l){if(l.hasOwnProperty(m)){l[m].fixReference()}}k.referencesDirty=false}},onAvailable:function(v,s,t){var o=this,p=o.onAvailableCallbacks,u=o.all,q;if(v in u){q=u[v];s.call(t||q,q)}else{if(v){if(!Ext.isArray(p[v])){p[v]=[]}p[v].push(function(e){s.call(t||e,e)})}}},notifyAvailable:function(g){var k=this.onAvailableCallbacks[g&&g.getId()]||[];while(k.length){(k.shift())(g)}},each:function(g,k){return Ext.Object.each(this.all,g,k)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},getActiveComponent:function(){return Ext.Component.fromElement(Ext.dom.Element.getActiveElement())},onGlobalFocus:function(w){var q=this,t=w.toElement,v=w.fromElement,x=Ext.Component.fromElement(t),u=Ext.Component.fromElement(v),s,e;if(x===u){return}s=q.getCommonAncestor(u,x);if(u&&!(u.destroyed||u.destroying)){if(u.handleBlurEvent){u.handleBlurEvent(w)}for(e=u;e&&e!==s;e=e.getRefOwner()){if(!(e.destroyed||e.destroying)){e.onFocusLeave({event:w.event,type:"focusleave",target:v,relatedTarget:t,fromComponent:u,toComponent:x})}}}if(x&&!(x.destroyed||x.destroying)){if(x.handleFocusEvent){x.handleFocusEvent(w)}for(e=x;e&&e!==s;e=e.getRefOwner()){e.onFocusEnter({event:w.event,type:"focusenter",relatedTarget:v,target:t,fromComponent:u,toComponent:x})}}},getCommonAncestor:function(g,k){if(g===k){return g}while(g&&!(g.isAncestor(k)||g===k)){g=g.getRefOwner()}return g},privates:{clearAll:function(){this.all={};this.references={};this.onAvailableCallbacks={}},fromElement:function(y,w,x){var t=Ext.getDom(y),z=this.all,v=0,q,u,s;if(typeof w!=="number"){q=Ext.getDom(w);w=Number.MAX_VALUE}while(t&&t.nodeType===1&&v<w&&t!==q){u=t.getAttribute("data-componentid")||t.id;if(u){s=z[u];if(s&&(!x||Ext.ComponentQuery.is(s,x))){return s}v++}t=t.parentNode}return null}},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},1,0,0,0,0,0,[Ext,"ComponentManager",Ext,"ComponentMgr"],function(){Ext.getCmp=function(f){return Ext.ComponentManager.get(f)}}));Ext.ns("Ext.util").Operators={"=":function(k,g){return k==g},"!=":function(k,g){return k!=g},"^=":function(k,g){return k&&k.substr(0,g.length)==g},"$=":function(k,g){return k&&k.substr(k.length-g.length)==g},"*=":function(k,g){return k&&k.indexOf(g)!==-1},"%=":function(k,g){return(k%g)===0},"|=":function(k,g){return k&&(k==g||k.substr(0,g.length+1)==g+"-")},"~=":function(k,g){return k&&(" "+k+" ").indexOf(" "+g+" ")!=-1}};(Ext.cmd.derive("Ext.util.LruCache",Ext.util.HashMap,{config:{maxSize:null},add:function(q,m){var n=this,o,p;n.removeAtKey(q);p=n.last;o={prev:p,next:null,key:q,value:m};if(p){p.next=o}else{n.first=o}n.last=o;Ext.util.HashMap.prototype.add.call(this,q,o);n.prune();return m},insertBefore:function(s,n,q){var o=this,t,p;if(q=this.map[this.findKey(q)]){t=o.findKey(n);if(t){o.unlinkEntry(p=o.map[t])}else{p={prev:q.prev,next:q,key:s,value:n}}if(q.prev){p.prev.next=p}else{o.first=p}p.next=q;q.prev=p;o.prune();return n}else{return o.add(s,n)}},get:function(k){var g=this.map[k];if(g){if(g.next){this.moveToEnd(g)}return g.value}},removeAtKey:function(f){this.unlinkEntry(this.map[f]);return Ext.util.HashMap.prototype.removeAtKey.apply(this,arguments)},clear:function(f){this.first=this.last=null;return Ext.util.HashMap.prototype.clear.call(this,f)},unlinkEntry:function(f){if(f){if(f.next){f.next.prev=f.prev}else{this.last=f.prev}if(f.prev){f.prev.next=f.next}else{this.first=f.next}f.prev=f.next=null}},moveToEnd:function(f){this.unlinkEntry(f);if(f.prev=this.last){this.last.next=f}else{this.first=f}this.last=f},getArray:function(k){var m=[],l=this.first;while(l){m.push(k?l.key:l.value);l=l.next}return m},each:function(q,s,t){var n=this,o=t?n.last:n.first,p=n.length;s=s||n;while(o){if(q.call(s,o.key,o.value,p)===false){break}o=t?o.prev:o.next}return n},findKey:function(l){var m,k=this.map;for(m in k){if(k.hasOwnProperty(m)&&k[m].value===l){return m}}return undefined},clone:function(){var m=new this.self(this.initialConfig),k=this.map,l;m.suspendEvents();for(l in k){if(k.hasOwnProperty(l)){m.add(l,k[l].value)}}m.resumeEvents();return m},prune:function(){var l=this,m=l.getMaxSize(),k=m?(l.length-m):0;if(k>0){for(;l.first&&k;k--){l.removeAtKey(l.first.key)}}}},0,0,0,0,0,0,[Ext.util,"LruCache"],0));(Ext.cmd.derive("Ext.ComponentQuery",Ext.Base,{singleton:true},0,0,0,0,0,0,[Ext,"ComponentQuery"],function(){var M=this,A=Ext.util.Operators,I=/(\d*)n\+?(\d*)/,N=/\D/,G=/^(\s)+/,H=/\\(.)/g,F=new Ext.util.LruCache({maxSize:100}),E=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),D=function(f,e){return e.method.apply(this,[f].concat(e.args))},R=function(m,f){var e=[],l=0,g=m.length,k,n=f!==">";for(;l<g;l++){k=m[l];if(k.getRefItems){e=e.concat(k.getRefItems(n))}}return e},L=function(l){var e=[],k=0,f=l.length,g;for(;k<f;k++){g=l[k];while(!!(g=g.getRefOwner())){e.push(g)}}return e},O=function(n,f,g){if(f==="*"){return n.slice()}else{var e=[],m=0,k=n.length,l;for(;m<k;m++){l=n[m];if(l.isXType(f,g)){e.push(l)}}return e}},Q=function(p,o,e,f){var l=[],q=0,g=p.length,m,u,n,k,s,t,v;if(o.charAt(0)==="@"){m=true;o=o.substr(1)}if(o.charAt(0)==="?"){m=true;u=true;o=o.substr(1)}for(;q<g;q++){n=p[q];v=n.self&&n.self.getConfigurator&&n.self.$config.configs[o];if(v){k=n[v.names.get]()}else{if(m&&!n.hasOwnProperty(o)){continue}else{k=n[o]}}if(u){l.push(n)}else{if(e==="~="){if(k){if(!Ext.isArray(k)){k=k.split(" ")}for(s=0,t=k.length;s<t;s++){if(A[e](Ext.coerce(k[s],f),f)){l.push(n);break}}}}else{if(e==="/="){if(k!=null&&f.test(k)){l.push(n)}}else{if(!f?!!n[o]:A[e](Ext.coerce(k,f),f)){l.push(n)}}}}}return l},K=function(m,f,n){var e=[],l=0,g=m.length,k,o;for(;l<g;l++){k=m[l];o=n?k.id:k.getItemId();if(o===f){e.push(k)}}return e},B=function(e,g,f){return M.pseudos[g](e,f)},J=/^(\s?([>\^])\s?|\s|$)/,C=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,P=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:O,argTransform:function(e){if(e[1]!==undefined){e[1]=e[1].replace(H,"$1")}return e.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:Q,argTransform:function(k){var e=k[0],g=k[1],m=k[2],l=k[4],f;if(l!==undefined){l=l.replace(H,"$1")}if(m==="/="){f=F.get(l);if(f){l=f}else{l=F.add(l,new RegExp(l))}}return[g,m,l]}},{re:/^#((?:\\\.|[\w\-])+)/,method:K},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:B,argTransform:function(e){if(e[2]!==undefined){e[2]=e[2].replace(H,"$1")}return e.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:E}];M.Query=Ext.extend(Object,{constructor:function(e){e=e||{};Ext.apply(this,e)},execute:function(l){var k=this.operations,m=[],f,g,e;for(g=0,e=k.length;g<e;g++){f=k[g];m=m.concat(this._execute(l,f))}return m},_execute:function(m,k){var g=0,f=k.length,l,e;if(!m){e=Ext.ComponentManager.getAll()}else{if(Ext.isIterable(m)){e=m}else{if(m.isMixedCollection){e=m.items}}}for(;g<f;g++){l=k[g];if(l.mode==="^"){e=L(e||[m])}else{if(l.mode){e=R(e||[m],l.mode)}else{e=D(e||R([m]),l)}}if(g===f-1){return e}}return[]},is:function(k,m){var l=this.operations,n=false,e=l.length,f,g;if(e===0){return true}for(g=0;g<e;g++){f=l[g];n=this._is(k,m,f);if(n){return n}}return false},_is:function(n,m,k){var p=k.length,g=[n],f,s,e,q,o,l;for(s=p-1;s>=0;--s){f=k[s];q=f.mode;if(q){if(q==="^"){g=R(g," ")}else{if(q===">"){o=[];for(e=0,p=g.length;e<p;++e){l=g[e].getRefOwner();if(l){o.push(l)}}g=o}else{g=L(g)}}}else{g=D(g,f)}if(g.length===0){return false}}if(m){if(!q){g=L(g)}if(g.length>0){g=D(g,{method:K,args:[m.id,true]})}if(g.length===0){return false}}return true},getMatches:function(f,k){var e=k.length,g;for(g=0;g<e;++g){f=D(f,k[g]);if(f.length===0){break}}return f},isMultiMatch:function(){return this.operations.length>1}});Ext.apply(M,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(f,e){var k=0,g=f.length,l=[],m=-1,n;for(;k<g;++k){n=f[k];if(!M.is(n,e)){l[++m]=n}}return l},first:function(f){var e=[];if(f.length>0){e.push(f[0])}return e},last:function(f){var e=f.length,g=[];if(e>0){g.push(f[e-1])}return g},focusable:function(l){var e=l.length,g=[],k=0,f;for(;k<e;k++){f=l[k];if(f.isFocusable&&f.isFocusable()){g.push(f)}}return g},canfocus:function(m,g){var e=m.length,k=[],l=0,f;for(;l<e;l++){f=m[l];if(f.canFocus&&f.canFocus(false,g)){k.push(f)}}return k},"nth-child":function(n,m){var l=[],g=I.exec(m==="even"&&"2n"||m==="odd"&&"2n+1"||!N.test(m)&&"n+"+m||m),p=(g[1]||1)-0,o=g[2]-0,e,k,f;for(e=0;k=n[e];e++){f=e+1;if(p===1){if(o===0||f===o){l.push(k)}}else{if((f+o)%p===0){l.push(k)}}}return l},scrollable:function(l){var e=l.length,g=[],k=0,f;for(;k<e;k++){f=l[k];if(f.scrollable||f._scrollable){g.push(f)}}return g},visible:function(l,m){m=m==="true";var e=l.length,g=[],k=0,f;for(;k<e;k++){f=l[k];if(f.isVisible(m)){g.push(f)}}return g}},query:function(k,m){if(!k){return Ext.ComponentManager.all.getArray()}var f=[],l=[],o={},p=M.cache.get(k),e,n,g;if(!p){p=M.cache.add(k,M.parse(k))}f=p.execute(m);if(p.isMultiMatch()){e=f.length;for(g=0;g<e;g++){n=f[g];if(!o[n.id]){l.push(n);o[n.id]=true}}f=l}return f},visitPreOrder:function(e,k,f,g,l){M._visit(true,e,k,f,g,l)},visitPostOrder:function(e,k,f,g,l){M._visit(false,e,k,f,g,l)},_visit:function(m,g,n,o,l,s){var p=M.cache.get(g),t=[n],k,q=0,e,f;if(!p){p=M.cache.add(g,M.parse(g))}f=p.is(n);if(n.getRefItems){k=n.getRefItems();q=k.length}if(s){Ext.Array.push(t,s)}if(m){if(f){if(o.apply(l||n,t)===false){return false}}}for(e=0;e<q;e++){if(M._visit.call(M,m,g,k[e],o,l,s)===false){return false}}if(!m){if(f){if(o.apply(l||n,t)===false){return false}}}},is:function(g,e,k){if(!e){return true}var f=M.cache.get(e);if(!f){f=M.cache.add(e,M.parse(e))}return f.is(g,k)},parse:function(m){var l=[],g,f,k,e;g=Ext.splitAndUnescape(m,",");for(k=0,e=g.length;k<e;k++){f=Ext.String.trim(g[k]);l.push(M._parse(f))}return new M.Query({operations:l})},_parse:function(u){var g=[],w=Ext.String.trim,f=P.length,o,t,v,n,m,l,e,s,q,k,p;while(u&&o!==u){o=u;t=u.match(C);if(t){n=t[1];v=w(t[2]).replace(H,"$1");if(n==="#"){g.push({method:K,args:[v]})}else{g.push({method:O,args:[v,Boolean(t[3])]})}u=u.replace(t[0],"").replace(G,"$1")}while(!(m=u.match(J))){for(s=0;u&&s<f;s++){q=P[s];l=u.match(q.re);k=q.method;e=q.argTransform;if(l){if(e){p=e(l)}else{p=l.slice(1)}g.push({method:Ext.isString(q.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[k].concat(l.slice(1)))):q.method,args:p});u=u.replace(l[0],"").replace(G,"$1");break}if(s===(f-1)){Ext.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(m[1]){g.push({mode:m[2]||m[1]});u=u.replace(m[0],"").replace(G,"")}}return g}});Ext.all=function(){return M.query.apply(M,arguments)};Ext.first=function(){var e=M.query.apply(M,arguments);return(e&&e[0])||null}}));(Ext.cmd.derive("Ext.Evented",Ext.Base,{alternateClassName:"Ext.EventedBase",initialized:false,constructor:function(f){this.mixins.observable.constructor.call(this,f);this.initialized=true},onClassExtended:function(s,o){if(!o.hasOwnProperty("eventedConfig")){return}var p=o.config,n=o.eventedConfig,q,t;if(p){Ext.applyIf(p,n)}else{s.addConfig(n)}for(q in n){if(n.hasOwnProperty(q)){t=Ext.Config.get(q);o[t.names.set]=t.eventedSetter||t.getEventedSetter()}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext,"Evented",Ext,"EventedBase"],0));(Ext.cmd.derive("Ext.util.Positionable",Ext.Base,{mixinId:"positionable",_positionTopLeft:["position","top","left"],clippedCls:"x-clipped",afterSetPosition:Ext.emptyFn,adjustForConstraints:function(k,l){var m=this.getConstrainVector(l,k);if(m){k[0]+=m[0];k[1]+=m[1]}return k},alignTo:function(q,t,n,s){var o=this,p=o.el;return o.setXY(o.getAlignToXY(q,t,n),p.anim&&!!s?p.anim(s):false)},calculateAnchorXY:function(q,m,n,p){var o=this.getRegion();o.setPosition(0,0);o.translateBy(m||0,n||0);if(p){o.setWidth(p.width);o.setHeight(p.height)}return o.getAnchorPoint(q)},convertPositionSpec:function(f){return Ext.util.Region.getAlignInfo(f)},getAlignToXY:function(o,n,l){var m=this.getAlignToRegion(o,n,l);return[m.x,m.y]},getAlignToRegion:function(t,s,v,p){var q=this,u,o;t=Ext.get(t.el||t);if(!t||!t.dom){}s=q.convertPositionSpec(s);if(s.constrain){if(s.constrain==="!"){u=t}else{u=q.constrainTo||q.container||q.el.parent()}u=Ext.get(u.el||u).getConstrainRegion()}o=q.getRegion().alignTo({target:t.getRegion(),inside:u,minHeight:p,offset:v,align:s,axisLock:true});return o},getAnchorXY:function(u,s,t){var p=this,x=p.getRegion(),q=p.el,w=q.dom.nodeName==="BODY"||q.dom.nodeType===9,v=q.getScroll();if(s){x.setPosition(0,0)}else{if(w){x.setPosition(v.left,v.top)}}if(t){x.setWidth(t.width);x.setHeight(t.height)}return x.getAnchorPoint(u)},getBox:function(z,w){var y=this,D=w?y.getLocalXY():y.getXY(),v=D[0],x=D[1],u,B,A,C,t;if(y.el.dom.nodeName==="BODY"||y.el.dom.nodeType===9){u=Ext.Element.getViewportWidth();B=Ext.Element.getViewportHeight()}else{u=y.getWidth();B=y.getHeight()}if(z){A=y.getBorderPadding();C=A.beforeX;t=A.beforeY;v+=C;x+=t;u-=(C+A.afterX);B-=(t+A.afterY)}return{x:v,left:v,0:v,y:x,top:x,1:x,width:u,height:B,right:v+u,bottom:x+B}},calculateConstrainedPosition:function(x,C,F,A){var u=this,B,w=u.floatParent,z=w?w.getTargetEl():null,D,y,v,E=false;if(F&&w){D=z.getXY();y=z.getBorderPadding();D[0]+=y.beforeX;D[1]+=y.beforeY;if(C){v=[C[0]+D[0],C[1]+D[1]]}}else{v=C}x=x||u.constrainTo||z||u.container||u.el.parent();if(F&&v){v=u.reverseTranslateXY(v)}B=((u.constrainHeader&&u.header.rendered)?u.header:u).getConstrainVector(x,v,A);if(B){E=C||u.getPosition(F);E[0]+=B[0];E[1]+=B[1]}return E},getConstrainRegion:function(){var w=this,A=w.el,C=A.dom.nodeName==="BODY",y=A.dom,x=A.getBorders(),v=A.getXY(),z=v[0]+x.beforeX,u=v[1]+x.beforeY,t,B,D;if(C){t=A.getScroll();z=t.left;u=t.top;B=Ext.Element.getViewportWidth();D=Ext.Element.getViewportHeight()}else{B=y.clientWidth;D=y.clientHeight}return new Ext.util.Region(u,z+B,u+D,z)},getConstrainVector:function(t,x,v){var s=this,z=s.getRegion(),w=[0,0],y=(s.shadow&&s.constrainShadow&&!s.shadowDisabled)?s.el.shadow.getShadowSize():undefined,q=false,u=s.constraintInsets;if(!(t instanceof Ext.util.Region)){t=Ext.get(t.el||t);t=t.getConstrainRegion()}if(u){u=Ext.isObject(u)?u:Ext.Element.parseBox(u);t.adjust(u.top,u.right,u.bottom,u.left)}if(x){z.translateBy(x[0]-z.x,x[1]-z.y)}if(v){z.right=z.left+v[0];z.bottom=z.top+v[1]}if(y){t.adjust(y[0],-y[1],-y[2],y[3])}if(z.right>t.right){q=true;w[0]=(t.right-z.right)}if(z.left+w[0]<t.left){q=true;w[0]=(t.left-z.left)}if(z.bottom>t.bottom){q=true;w[1]=(t.bottom-z.bottom)}if(z.top+w[1]<t.top){q=true;w[1]=(t.top-z.top)}return q?w:false},getOffsetsTo:function(m){var e=this.getXY(),l=Ext.fly(m.el||m).getXY();return[e[0]-l[0],e[1]-l[1]]},getRegion:function(k){var g=this.getBox(k);return new Ext.util.Region(g.top,g.right,g.bottom,g.left)},getClientRegion:function(){var n=this,o,m=n.getBox(),l=n.dom;o=l.offsetWidth-l.clientWidth;if(o){if(n.getStyle("direction")==="rtl"){m.left+=o}else{m.right-=o}}o=l.offsetHeight-l.clientHeight;if(o){m.bottom-=o}return new Ext.util.Region(m.top,m.right,m.bottom,m.left)},getViewRegion:function(){var w=this,z=w.el,B=z.dom.nodeName==="BODY",x,t,v,u,y,A,s;if(B){t=z.getScroll();y=t.left;u=t.top;A=Ext.Element.getViewportWidth();s=Ext.Element.getViewportHeight()}else{x=w.getBorderPadding();v=w.getXY();y=v[0]+x.beforeX;u=v[1]+x.beforeY;A=w.getWidth(true);s=w.getHeight(true)}return new Ext.util.Region(u,y+A,u+s,y)},getClientRegion:function(){var s=this.el,o,v,p,q,t,u;o=this.getBorderPadding();v=this.getXY();p=v[0]+o.beforeX;q=v[1]+o.beforeY;t=s.dom.clientWidth;u=s.dom.clientHeight;return new Ext.util.Region(q,p+t,q+u,p)},move:function(v,C,B){var y=this,E=y.getXY(),u=E[0],w=E[1],A=[u-C,w],F=[u+C,w],x=[u,w-C],D=[u,w+C],z={l:A,left:A,r:F,right:F,t:x,top:x,up:x,b:D,bottom:D,down:D};v=v.toLowerCase();y.setXY([z[v][0],z[v][1]],B)},setBox:function(m){var n=this,o,l;if(m.isRegion){m={x:m.left,y:m.top,width:m.right-m.left,height:m.bottom-m.top}}n.constrainBox(m);o=m.x;l=m.y;n.setXY([o,l]);n.setSize(m.width,m.height);n.afterSetPosition(o,l);return n},constrainBox:function(n){var o=this,p,q,m;if(o.constrain||o.constrainHeader){q=("x" in n)?n.x:n.left;m=("y" in n)?n.y:n.top;p=o.calculateConstrainedPosition(null,[q,m],false,[n.width,n.height]);if(p){n.x=p[0];n.y=p[1]}}},translatePoints:function(m,k){var l=this.translateXY(m,k);return{left:l.x,top:l.y}},translateXY:function(t,v){var w=this,y=w.el,s=y.getStyle(w._positionTopLeft),z=s.position==="relative",x=parseFloat(s.left),u=parseFloat(s.top),q=w.getXY();if(Ext.isArray(t)){v=t[1];t=t[0]}if(isNaN(x)){x=z?0:y.dom.offsetLeft}if(isNaN(u)){u=z?0:y.dom.offsetTop}x=(typeof t==="number")?t-q[0]+x:undefined;u=(typeof v==="number")?v-q[1]+u:undefined;return{x:x,y:u}},reverseTranslateXY:function(q){var t=q,x=this.el,w=x.dom,y=w.offsetParent,z,v,s,u;if(y){z=x.isStyle("position","relative"),v=Ext.fly(y).getXY(),s=q[0]+v[0]+y.clientLeft;u=q[1]+v[1]+y.clientTop;if(z){s+=x.getPadding("l");u+=x.getPadding("t")}t=[s,u]}return t},privates:{clipTo:function(v,C){var B,D=this.el,x=D.getRegion(),A,w,z=[],E=this.clippedCls,u,y,F;if(v.isRegion){B=v}else{B=(v.isComponent?v.el:Ext.fly(v)).getConstrainRegion()}if(!C){C=15}if(C&1&&(A=B.top-x.top)>0){z[0]=A;y=true}else{z[0]=-10000}if(C&2&&(A=x.right-B.right)>0){z[1]=Math.max(0,D.getWidth()-A);y=true}else{z[1]=10000}if(C&4&&(A=x.bottom-B.bottom)>0){z[2]=Math.max(0,D.getHeight()-A);y=true}else{z[2]=10000}if(C&8&&(A=B.left-x.left)>0){z[3]=A;y=true}else{z[3]=-10000}u="rect(";for(w=0;w<4;++w){u+=Ext.Element.addUnits(z[w],"px");u+=(w===3)?")":","}D.dom.style.clip=u;D.addCls(E);if((F=D.shadow)&&(D=F.el)&&D.dom){z[2]-=F.offsets.y;z[3]-=F.offsets.x;u="rect(";for(w=0;w<4;++w){u+=Ext.Element.addUnits(z[w],"px");u+=(w===3)?")":","}D.dom.style.clip=u;if(y&&!Ext.supports.CSS3BoxShadow){D.dom.style.display="none"}else{D.dom.style.display="";D.addCls(E)}}},clearClip:function(){var g=this.el,k=this.clippedCls;g.dom.style.clip=Ext.isIE8?"auto":"";g.removeCls(k);if(g.shadow&&g.shadow.el&&g.shadow.el.dom){g.shadow.el.dom.style.clip=Ext.isIE8?"auto":"";if(!Ext.supports.CSS3BoxShadow){g.dom.style.display="";g.removeCls(k)}}}}},0,0,0,0,0,0,[Ext.util,"Positionable"],0));Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(v,x,A,B,t,s){var w=this,u=!Ext.isEmpty(t),z=function(){w.mixins.positionable.alignTo.call(w,v,x,A,B);Ext.callback(s,w)},y=w.getAnchor();w.removeAnchor();Ext.apply(y,{fn:z,scroll:u});Ext.on("resize",z,null);if(u){Ext.getWin().on("scroll",z,null,{buffer:!isNaN(t)?t:50})}z();return w},getAnchor:function(){var l=this.el,k,m;if(!l||!l.dom){return}k=l.getData();m=k._anchor;if(!m){m=k._anchor={}}return m},alignTo:function(s,v,x,t){var p=this,q=p.el,u,w;if(p.isComponent&&p.getSizeModel().height.shrinkWrap){if(p.maxHeight){p.setMaxHeight(null)}u=true}w=p.getAlignToRegion(s,v,x,p.minHeight||150);p.setXY([w.x,w.y],q.anim&&!!t?q.anim(t):false);if(u&&(u=w.getHeight())!==p.getHeight()){p.setMaxHeight(u)}return p},removeAnchor:function(){var f=this.getAnchor();if(f&&f.fn){Ext.un("resize",f.fn);if(f.scroll){Ext.getWin().on("scroll",f.fn)}delete f.fn}return this},setBox:function(k,m){var l=this;if(k.isRegion){k={x:k.left,y:k.top,width:k.right-k.left,height:k.bottom-k.top}}if(m){l.constrainBox(k);l.animate(Ext.applyIf({to:k,listeners:{afteranimate:Ext.Function.bind(l.afterSetPosition,l,[k.x,k.y])}},m))}else{arguments.callee.$previous.call(this,k)}return l}});(Ext.cmd.derive("Ext.dom.UnderlayPool",Ext.Base,{constructor:function(f){this.elementConfig=f;this.cache=[]},checkOut:function(){var f=this.cache.shift();if(!f){f=Ext.Element.create(this.elementConfig);f.setVisibilityMode(2)}return f},checkIn:function(f){this.cache.push(f)},reset:function(){var k=this.cache,g=k.length;while(g--){k[g].destroy()}this.cache=[]}},1,0,0,0,0,0,[Ext.dom,"UnderlayPool"],0));(Ext.cmd.derive("Ext.dom.Underlay",Ext.Base,{constructor:function(f){Ext.apply(this,f)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var g=this,k=g.el;if(k){k.hide();g.getPool().checkIn(k);g.el=null;g.hidden=true}},realign:function(s,t,z,q){var v=this,y=v.el,w=v.target,x=v.offsets,u=Math.max;if(y){if(s==null){s=w.getX()}if(t==null){t=w.getY()}if(z==null){z=w.getWidth()}if(q==null){q=w.getHeight()}if(x){s=s+x.x;t=t+x.y;z=u(z+x.w,0);q=u(q+x.h,0)}y.setXY([s,t]);y.setSize(z,q)}},setZIndex:function(f){this.zIndex=f;if(this.el){this.el.setStyle("z-index",f)}},show:function(){var s=this,p=s.target,n=s.zIndex,t=s.el,q=s.getInsertionTarget().dom,o;if(!t){t=s.el=s.getPool().checkOut()}s.beforeShow();if(n==null){n=(parseInt(p.getStyle("z-index"),10))}if(n){t.setStyle("z-index",n)}t.setStyle("position",s.fixed?"fixed":"");o=t.dom;if(o.nextSibling!==q){p.dom.parentNode.insertBefore(o,q)}t.show();s.realign();s.hidden=false}},1,0,0,0,0,0,[Ext.dom,"Underlay"],0));(Ext.cmd.derive("Ext.dom.Shadow",Ext.dom.Underlay,{alternateClassName:"Ext.Shadow",mode:"drop",offset:4,cls:"x-"+(!Ext.supports.CSS3BoxShadow?"ie":"css")+"-shadow",constructor:function(s){var p=this,o,q,n,t;Ext.dom.Underlay.prototype.constructor.call(this,s);p.elementConfig={cls:p.cls,role:"presentation"};n=p.offset;t=Math.floor(n/2);p.opacity=50;switch(p.mode.toLowerCase()){case"drop":o={x:0,y:0,w:n,h:n};if(Ext.supports.CSS3BoxShadow){q={x:n,y:n,h:-n,w:-n}}else{q={x:-t,y:-t,h:-t,w:-t}}break;case"sides":o={x:-n,y:0,w:n*2,h:n};if(Ext.supports.CSS3BoxShadow){q={x:0,y:n,h:-n,w:0}}else{q={x:1+t-2*n,y:-(1+t),h:-1,w:t-1}}break;case"frame":o={x:-n,y:-n,w:n*2,h:n*2};if(Ext.supports.CSS3BoxShadow){q={x:0,y:0,h:0,w:0}}else{q={x:1+t-2*n,y:1+t-2*n,h:n-t-1,w:n-t-1}}break;case"bottom":o={x:-n,y:0,w:n*2,h:n};if(Ext.supports.CSS3BoxShadow){q={x:0,y:n,h:-n,w:0}}else{q={x:0,y:n,h:0,w:0}}break}p.offsets=q;p.outerOffsets=o},getShadowSize:function(){var n=this,l=n.el?n.offset:0,o=[l,l,l,l],m=n.mode.toLowerCase();if(n.el&&m!=="frame"){o[0]=0;if(m=="drop"){o[3]=0}}return o},boxShadowProperty:(function(){var g="boxShadow",k=document.documentElement.style;if(!("boxShadow" in k)){if("WebkitBoxShadow" in k){g="WebkitBoxShadow"}else{if("MozBoxShadow" in k){g="MozBoxShadow"}}}return g}()),beforeShow:function(){var l=this,m=l.el.dom.style,k=l.shim;if(Ext.supports.CSS3BoxShadow){m[l.boxShadowProperty]="0 0 "+(l.offset+2)+"px #888"}else{m.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+l.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+(l.offset)+")"}if(k){k.realign()}},setOpacity:function(k){var g=this.el;if(g){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){k=Math.floor(k*100/2)/100}this.opacity=k;g.setOpacity(k)}}},1,0,0,0,0,0,[Ext.dom,"Shadow",Ext,"Shadow"],0));(Ext.cmd.derive("Ext.dom.Shim",Ext.dom.Underlay,{cls:"x-shim",constructor:function(f){Ext.dom.Underlay.prototype.constructor.call(this,f);this.elementConfig={tag:"iframe",cls:this.cls,role:"presentation",frameBorder:"0",src:Ext.SSL_SECURE_URL,tabindex:"-1"}},getInsertionTarget:function(){var f=this.shadow;return(f&&f.el)||this.target}},1,0,0,0,0,0,[Ext.dom,"Shim"],0));(Ext.cmd.derive("Ext.dom.ElementEvent",Ext.util.Event,{addListener:function(x,F,E,B,z){var y=this,w=false,D=y.name,u=Ext.event.publisher.Dom.instance.directEvents[D],C,A,v;E=E||{};if(E.delegated===false||u){if(u&&E.delegate){E.capture=true}if(E.capture){v=y.directCaptures||(y.directCaptures=new Ext.util.Event(y.observable,D));w=v.addListener(x,F,E,B,z)}else{A=y.directs||(y.directs=new Ext.util.Event(y.observable,D));w=A.addListener(x,F,E,B,z)}}else{if(E.capture){C=y.captures||(y.captures=new Ext.util.Event(y.observable,D));w=C.addListener(x,F,E,B,z)}else{w=Ext.util.Event.prototype.addListener.call(this,x,F,E,B,z)}}return w},removeListener:function(q,s){var p=this,v=p.captures,t=p.directs,x=p.directCaptures,w=false,u=p.findListener(q,s);if(u!==-1){w=Ext.util.Event.prototype.removeListener.call(this,q,s,u)}else{if(t){u=t.findListener(q,s)}if(u!==-1){w=t.removeListener(q,s,u)}else{if(v){u=v.findListener(q,s)}if(u!==-1){w=v.removeListener(q,s,u)}else{if(x){u=x.findListener(q,s);if(u!==-1){w=x.removeListener(q,s,u)}}}}}return w},clearListeners:function(){var m=this,l=m.directCaptures,n=m.directs,o=m.captures;if(l){l.clearListeners()}if(n){n.clearListeners()}if(o){o.clearListeners()}Ext.util.Event.prototype.clearListeners.call(this)},suspend:function(){var m=this,l=m.directCaptures,n=m.directs,o=m.captures;if(l){l.suspend()}if(n){n.suspend()}if(o){o.suspend()}Ext.util.Event.prototype.suspend.call(this)},resume:function(){var m=this,l=m.directCaptures,n=m.directs,o=m.captures;if(l){l.resume()}if(n){n.resume()}if(o){o.resume()}Ext.util.Event.prototype.resume.call(this)}},0,0,0,0,0,0,[Ext.dom,"ElementEvent"],0));(Ext.cmd.derive("Ext.event.publisher.Publisher",Ext.Base,{isEventPublisher:true,$vetoClearingPrototypeOnDestroy:true,handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var g=this,k=g.type;g.handles={};g.registerEvents();Ext.event.publisher.Publisher.publishers[k]=g},registerEvents:function(p){var v=this,q=Ext.event.publisher.Publisher.publishersByEvent,t=p||v.handledEvents,o=t.length,u,s;for(s=0;s<o;s++){u=t[s];v.handles[u]=1;q[u]=v}},fire:function(m,o,n){var l;if(m.hasListeners[o]){l=m.events[o];if(l){l.fire.apply(l,n)}}}},1,0,0,0,0,0,[Ext.event.publisher,"Publisher"],0));(Ext.cmd.derive("Ext.util.Offset",Ext.Base,{statics:{fromObject:function(f){if(f instanceof this){return f}if(typeof f==="number"){return new this(f,f)}if(f.length){return new this(f[0],f[1])}return new this(f.x,f.y)}},constructor:function(k,g){this.x=(k!=null&&!isNaN(k))?k:0;this.y=(g!=null&&!isNaN(g))?g:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(f){this.x=f.x;this.y=f.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(f){return(this.x===f.x&&this.y===f.y)},add:function(f){this.x+=f.x;this.y+=f.y},round:function(g){if(!isNaN(g)){var k=Math.pow(10,g);this.x=Math.round(this.x*k)/k;this.y=Math.round(this.y*k)/k}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x===0&&this.y===0}},3,0,0,0,0,0,[Ext.util,"Offset"],0));(Ext.cmd.derive("Ext.util.Region",Ext.Base,function(){var G=Ext.util,M=/([^\?!]*)(!|\?)?$/,y=/^(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br))(?:-(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br)))?$/i,C={l:0,r:100,t:0,b:100,c:50},A={l:100,r:0,t:0,b:100,c:50},J={b:0,l:1,t:2,r:3},N={"tl-tr":"l0-r0","tl-r":"l0-r50","bl-r":"l100-r50","bl-br":"l100-r100","tr-tl":"r0-l0","tr-l":"r0-l50","br-l":"r100-l50","br-bl":"r100-l100"},H={"tl-tr":"r0-l0","tl-r":"r0-l50","bl-r":"r100-l50","bl-br":"r100-l100","tr-tl":"l0-r0","tr-l":"l0-r50","br-l":"l100-r50","br-bl":"l100-r100"},z=[],F=new G.Offset(0,0),L=function(n){var l=G.Region,e=typeof n,f,k,m,g;if(n==null){return l.EMPTY}if(n.isRegion){return n}if(n.isElement||n.nodeType===1){return this.getRegion(n)}if(e==="string"){n=n.split(" ");switch(n.length){case 1:n[1]=n[2]=n[3]=n[0];break;case 2:n[2]=n[0];n[3]=n[1];break;case 3:n[3]=n[1]}f=parseInt(n[0],10)||0;k=parseInt(n[1],10)||0;m=parseInt(n[2],10)||0;g=parseInt(n[3],10)||0}else{if(e==="number"){f=k=m=g=n}else{if(typeof n.x==="number"){f=n.y;g=n.x;if(typeof n.right==="number"){k=n.right;m=n.bottom}else{k=g+n.width;m=f+n.height}}}}return new l(f,k,m,g)},D=[-1,1,1,-1],K=function(e,f,g){if(g!=null&&f){z[0]=z[1]=z[2]=z[3]=0;z[g]=f.y*D[g];e=G.Region.from(e);e.adjust.apply(e,z)}return e},B=function(t,m,k,s,g){var n=Math.ceil(s.x/2)+2,l,f,u,e,o,p,q;if(g&&!g.intersect(t)){return}if(k!=null){if(k&1){l=new G.Region(0,0,0,0).setWidth(s.y).setHeight(s.x);f=k===3;p=f?m.right:m.left;u=new G.Region(Math.max(m.top,t.top),p,Math.min(m.bottom,t.bottom),p);if(t.getHeight()>n){e=u.getHeight();if(e<t.width&&e<s.x+4){if(e<n){if(u.getAnchorPoint_c()[1]>t.getAnchorPoint_c()[1]){q=t.bottom-n}else{o=true;q=t.top+n-m.getHeight()}if(g){q=Math.min(Math.max(q,g.top),g.bottom-m.getHeight())}m.setPosition(m.x,q);u=new G.Region(Math.max(m.top,t.top),p,Math.min(m.bottom,t.bottom),p);e=u.getHeight();if(e<n){return}if(o){u.setPosition(p,t.y-s.x/2-2)}}u.setHeight(Math.max(e,s.x+4));if(g&&!g.contains(u)){return}}}m.anchor=l.alignTo({target:u,align:f?"l-r":"r-l",overlap:true});m.anchor.position=f?"right":"left"}else{l=new G.Region(0,0,0,0).setWidth(s.x).setHeight(s.y);f=k===0;q=f?m.bottom:m.top;u=new G.Region(q,Math.min(m.right,t.right),q,Math.max(m.left,t.left));if(t.getWidth()>n){e=u.getWidth();if(e<t.height&&e<s.x+4){if(e<n){if(u.getAnchorPoint_c()[0]>t.getAnchorPoint_c()[0]){p=t.right-n}else{o=true;p=t.left+n-m.getWidth()}if(g){p=Math.min(Math.max(p,g.left),g.right-m.getWidth())}m.setPosition(p,m.y);u=new G.Region(q,Math.min(m.right,t.right),q,Math.max(m.left,t.left));e=u.getWidth();if(e<n){return}if(o){u.setPosition(t.x-s.x/2-2,q)}}u.setWidth(Math.max(e,s.x+4));if(g&&!g.contains(u)){return}}}m.anchor=l.alignTo({target:u,align:f?"t-b":"b-t",overlap:true});m.anchor.position=f?"bottom":"top"}m.anchor.align=k}return m},I=function(l,g,f,k){var e;if(l&&k){if(g.top>=f.bottom&&g.bottom>k.bottom){g.setHeight(Math.max(g.getHeight()+k.bottom-g.bottom,l));g.constrainHeight=true}else{if(g.bottom<=f.top&&g.top<k.top){e=Math.max(g.getHeight()+g.top-k.top,l);g.adjust(g.getHeight()-e);g.constrainHeight=true}else{if(g.getHeight()>k.getHeight()){g.setHeight(Math.max(l,k.getHeight()));g.setPosition(g.x,0);g.constrainHeight=true}}}}},E=function(e,g,f,l){var k;if(e&&l){if(g.left>=f.right&&g.right>l.right){g.setWidth(Math.max(g.getWidth()+l.right-g.right,e));g.constrainWidth=true}else{if(g.right<=f.left&&g.left<l.left){k=Math.max(g.getWidth()+g.left-l.left,e);g.adjust(0,0,0,g.getWidth()-k);g.constrainWidth=true}else{if(g.getWidth()>l.getWidth()){g.setWidth(Math.max(e,l.getWidth()));g.setPosition(0,g.y);g.constrainWidth=true}}}}};return{isRegion:true,statics:{getRegion:function(e){return Ext.fly(e).getRegion()},from:function(e){return new this(e.top,e.right,e.bottom,e.left)},getAlignInfo:function(f,m){if(typeof f==="object"){return f}f=f?((f.indexOf("-")<0)?"tl-"+f:f):"tl-bl";k=M.exec(f);f=k[1];f=(m?H:N)[f]||f;var e=m?A:C,k,g=y.exec(f),l;l={myEdge:g[1],myOffset:g[2],otherEdge:g[4],otherOffset:g[5],constrain:k[2]};if(g[3]){l.myEdge=g[3][0];l.myOffset=e[g[3][1]];if(l.myOffset==null){l.myOffset=50}}if(g[6]){l.otherEdge=g[6][0];l.otherOffset=e[g[6][1]];if(l.otherOffset==null){l.otherOffset=50}}l.position=J[l.myEdge];return l}},constructor:function(g,f,l,k){var e=this;e.y=e.top=e[1]=g;e.right=f;e.bottom=l;e.x=e.left=e[0]=k;e.height=e.bottom-e.top;e.width=e.right-e.left},setPosition:function(f,e){if(arguments.length===1){e=f[1];f=f[0]}return this.translateBy(f-this.x,e-this.y)},contains:function(e){var f=this;return(e.x>=f.x&&(e.right||e.x)<=f.right&&e.y>=f.y&&(e.bottom||e.y)<=f.bottom)},intersect:function(f){var k=this,e=Math.max(k.y,f.y),m=Math.min(k.right,f.right),l=Math.min(k.bottom,f.bottom),g=Math.max(k.x,f.x);if(l>e&&m>g){return new this.self(e,m,l,g)}else{return false}},union:function(f){var k=this,e=Math.min(k.y,f.y),m=Math.max(k.right,f.right),l=Math.max(k.bottom,f.bottom),g=Math.min(k.x,f.x);return new this.self(e,m,l,g)},constrainTo:function(f){var g=this,e=Ext.Number.constrain;g.top=g.y=e(g.top,f.y,f.bottom);g.bottom=e(g.bottom,f.y,f.bottom);g.left=g.x=e(g.left,f.x,f.right);g.right=e(g.right,f.x,f.right);return g},adjust:function(g,f,l,k){var e=this;e.top=e.y+=g||0;e.left=e.x+=k||0;e.right+=f||0;e.bottom+=l||0;return e},getOutOfBoundOffset:function(g,f){if(!Ext.isObject(g)){if(g==="x"){return this.getOutOfBoundOffsetX(f)}else{return this.getOutOfBoundOffsetY(f)}}else{f=g;var e=new G.Offset();e.x=this.getOutOfBoundOffsetX(f.x);e.y=this.getOutOfBoundOffsetY(f.y);return e}},getOutOfBoundOffsetX:function(e){if(e<=this.x){return this.x-e}else{if(e>=this.right){return this.right-e}}return 0},getOutOfBoundOffsetY:function(e){if(e<=this.y){return this.y-e}else{if(e>=this.bottom){return this.bottom-e}}return 0},isOutOfBound:function(f,e){if(!Ext.isObject(f)){if(f==="x"){return this.isOutOfBoundX(e)}else{return this.isOutOfBoundY(e)}}else{e=f;return(this.isOutOfBoundX(e.x)||this.isOutOfBoundY(e.y))}},isOutOfBoundX:function(e){return(e<this.x||e>this.right)},isOutOfBoundY:function(e){return(e<this.y||e>this.bottom)},restrict:function(f,k,g){if(Ext.isObject(f)){var e;g=k;k=f;if(k.copy){e=k.copy()}else{e={x:k.x,y:k.y}}e.x=this.restrictX(k.x,g);e.y=this.restrictY(k.y,g);return e}else{if(f==="x"){return this.restrictX(k,g)}else{return this.restrictY(k,g)}}},restrictX:function(e,f){if(!f){f=1}if(e<=this.x){e-=(e-this.x)*f}else{if(e>=this.right){e-=(e-this.right)*f}}return e},restrictY:function(e,f){if(!f){f=1}if(e<=this.y){e-=(e-this.y)*f}else{if(e>=this.bottom){e-=(e-this.bottom)*f}}return e},alignTo:function(l){var u=this,m=u.self,v=G.Offset,w=L(l.target),s,t=l.rtl,p=l.overlap,x=l.align,P=l.anchorSize,g=l.offset,k=l.inside,e=l.position,o=l.allowXTranslate,f=l.allowYTranslate,q,n;if(g){g=v.fromObject(g)}if(P){P=v.fromObject(P)}if(e){if(e.length===2){e=new G.Point(e[0],e[1])}n=new m().copyFrom(u).setPosition(e.x,e.y)}else{x=u.getAlignInfo(x,t);if(k){if(w.x>=k.right){w.setPosition(k.right-1,w.y);if(x.position!==3){x=u.getAlignInfo("r-l",t)}}else{if(w.right<k.x){w.setPosition(k.x-w.getWidth()+1,w.y);if(x.position!==1){x=u.getAlignInfo("l-r",t)}}}if(w.y>=k.bottom){w.setPosition(w.x,k.bottom-1);if(x.position!==0){x=u.getAlignInfo("b-t",t)}}else{if(w.bottom<k.y){w.setPosition(w.x,k.y-w.getHeight()+1);if(x.position!==2){x=u.getAlignInfo("t-b",t)}}}}s=P?K(w,P,x.position):w;n=m.from(u).translateBy(u.getAlignToVector(s,x));p=!!n.intersect(s);if(g&&(p||!P)){n.translateBy(g)}if(P){B(w,n,x.position,P,k)}}if(k){if(n.left<k.left){n.translateBy(k.left-n.left,0);q=true}if(n.right>k.right&&n.left>k.left){n.translateBy(k.right-n.right,0);q=true}if(n.top<k.top){n.translateBy(0,k.top-n.top);q=true}if(n.bottom>k.bottom&&n.top>k.top){n.translateBy(0,k.bottom-n.bottom);q=true}if(q&&!p){n.anchor=null;if(l.axisLock){if(x.position&1){f=false}else{o=false}}if(e){if(n.contains(e)){e.exclude(n,{inside:k,centerOnSideChange:false})}}else{if(n.intersect(s)){x.position=w.exclude(n,{defaultPosition:x.position,inside:k,minHeight:l.minHeight,minWidth:l.minWidth,allowX:o,allowY:f,offset:g,anchorHeight:P?P.y:0,centerOnSideChange:!!P})}else{if(l.minWidth&&n.getWidth()>k.getWidth()){n.setPosition(0,n.y);n.setWidth(Math.max(k.getWidth(),l.minWidth));n.constrainWidth=true}else{if(l.minHeight&&n.getHeight()>k.getHeight()){n.setPosition(n.x,0);n.setHeight(Math.max(k.getHeight(),l.minHeight));n.constrainHeight=true}}}n.align=x;if(P){B(w,n,x.position,P,k)}}}}return n},exclude:function(S,p){p=p||{};var e=this,g=p.inside,V=p.defaultPosition,s=p.centerOnSideChange,w=p.minHeight,q=p.minWidth,n=p.allowX!==false,o=p.allowY!==false,f=p.anchorHeight,x=p.offset,U=[],m,t,k,T,l,v,u;if(!x){x=F}if(o){U.push([0,t=e.top-S.bottom-f+x.y,"b-t",0,Math.abs(t)]);U.push([0,t=e.bottom-S.top+f+x.y,"t-b",2,Math.abs(t)])}else{s=false}if(n){U.push([t=e.left-S.right-f+x.x,0,"r-l",3,Math.abs(t)]);U.push([t=e.right-S.left+f+x.x,0,"l-r",1,Math.abs(t)])}else{s=false}Ext.Array.sort(U,function(P,O){var Q=P[4]-O[4];if(!Q){if(P[3]===V){return -1}if(O[3]===V){return 1}}return Q});if(g){for(k=0;k<U.length;k++){t=U[k];m=G.Region.from(S);m.translateBy.apply(m,t);if(g.contains(m)){S.copyFrom(m);u={align:t[2],position:t[3],distance:t[4]};break}if(w){I(w,m,e,g);if(g.contains(m)){if(!T||m.getArea()>T.region.getArea()){T={region:m,align:t[2],position:t[3],distance:t[4]}}}}if(q){E(q,m,e,g);if(g.contains(m)){if(!T||m.getArea()>T.region.getArea()){T={region:m,align:t[2],position:t[3],distance:t[4]}}}}v=g.intersect(m);if(v){v=v.getArea();if(!l||(v&&l.area<v)){l={region:m,align:t[2],position:t[3],distance:t[4],area:v}}}}if(!u){if(T){S.copyFrom(T.region);u=T;S.constrainWidth=T.region.constrainWidth;S.constrainHeight=T.region.constrainHeight}else{if(l){S.copyFrom(l.region);u=l}}}if(u){if((u.position&1)!==(V&1)){if(u.distance&&s){t=S.alignTo({align:u.align,target:e,anchorSize:f,offset:x,axisLock:true,inside:g,minHeight:p.minHeight,minWidth:p.minWidth});if(g.contains(t)){S.setPosition(t.x,t.y)}}}return u.position}}else{S.translateBy.apply(S,U[0]);return U[0][3]}return V},getAlignToXY:function(e,k,f){var g=this.getAlignToVector(e,k,f);return[this.x+g[0],this.y+g[1]]},getAnchorPoint:function(e,f){e=(typeof e==="string")?this.getAlignInfo(e+"-tl",f):e;return this["getAnchorPoint_"+e.myEdge](e.myOffset)},getAlignToVector:function(l,g,e){g=(typeof g==="string")?this.getAlignInfo(g,e):g;var k=this["getAnchorPoint_"+g.myEdge](g.myOffset),f=l["getAnchorPoint_"+g.otherEdge](g.otherOffset);return[f[0]-k[0],f[1]-k[1]]},getAnchorPoint_t:function(e){return[this.x+Math.round(this.getWidth()*(e/100)),this.y]},getAnchorPoint_b:function(e){return[this.x+Math.round(this.getWidth()*(e/100)),this.bottom]},getAnchorPoint_l:function(e){return[this.x,this.y+Math.round(this.getHeight()*(e/100))]},getAnchorPoint_r:function(e){return[this.right,this.y+Math.round(this.getHeight()*(e/100))]},getAnchorPoint_c:function(){return[this.x+Math.round(this.getWidth()/2),this.y+Math.round(this.getHeight()/2)]},getHeight:function(){return this.bottom-this.y},getWidth:function(){return this.right-this.x},getArea:function(){return this.getHeight()*this.getWidth()},setHeight:function(e){this.bottom=this.top+e;return this},setWidth:function(e){this.right=this.left+e;return this},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(e){var f=this;f.top=f.y=f[1]=e.y;f.right=e.right;f.bottom=e.bottom;f.left=f.x=f[0]=e.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(f,g){if(f.length){g=f[1];f=f[0]}else{if(arguments.length===1){g=f.y;f=f.x}}var e=this;e.top=e.y+=g;e.right+=f;e.bottom+=g;e.left=e.x+=f;return e},round:function(){var e=this;e.top=e.y=Math.round(e.y);e.right=Math.round(e.right);e.bottom=Math.round(e.bottom);e.left=e.x=Math.round(e.x);return e},equals:function(e){return(this.top===e.top&&this.right===e.right&&this.bottom===e.bottom&&this.left===e.left)},getOffsetsTo:function(e){return{x:this.x-e.x,y:this.y-e.y}}}},3,0,0,0,0,0,[Ext.util,"Region"],function(f){f.prototype.getAlignInfo=f.getAlignInfo;f.EMPTY=new f(0,0,0,0)}));(Ext.cmd.derive("Ext.util.Point",Ext.util.Region,{isPoint:true,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(l){var m=l.changedTouches,e=(m&&m.length>0)?m[0]:l;return this.fromTouch(e)},fromTouch:function(f){return new this(f.pageX,f.pageY)},from:function(f){if(!f){return new this(0,0)}if(!(f instanceof this)){return new this(f.x,f.y)}return f}},constructor:function(k,g){if(k==null){k=0}if(g==null){g=0}Ext.util.Region.prototype.constructor.call(this,g,k,g,k)},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(f){this.x=f.x;this.y=f.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(f){return(this.x===f.x&&this.y===f.y)},isCloseTo:function(q,s){if(typeof s=="number"){return this.getDistanceTo(q)<=s}var t=q.x,n=q.y,o=s.x,p=s.y;return(this.x<=t+o&&this.x>=t-o&&this.y<=n+p&&this.y>=n-p)},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(f){if(!(f instanceof Ext.util.Region)){f=Ext.get(f.el||f).getRegion()}return f.contains(this)},roundedEquals:function(f){if(!f||typeof f!=="object"){f=this.origin}return(Math.round(this.x)===Math.round(f.x)&&Math.round(this.y)===Math.round(f.y))},getDistanceTo:function(l){if(!l||typeof l!=="object"){l=this.origin}var k=this.x-l.x,m=this.y-l.y;return Math.sqrt(k*k+m*m)},getAngleTo:function(l){if(!l||typeof l!=="object"){l=this.origin}var k=this.x-l.x,m=this.y-l.y;return Math.atan2(m,k)*this.radianToDegreeConstant}},3,0,0,0,0,0,[Ext.util,"Point"],function(){this.prototype.translate=this.prototype.translateBy}));(Ext.cmd.derive("Ext.event.Event",Ext.Base,{alternateClassName:"Ext.EventObjectImpl",stopped:false,claimed:false,defaultPrevented:false,isEvent:true,statics:{resolveTextNode:function(f){return(f&&f.nodeType===3)?f.parentNode:f},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypeMap:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"},keyFlags:{CTRL:"ctrlKey",CONTROL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",CMD:"metaKey",COMMAND:"metaKey",CMDORCTRL:Ext.isMac?"metaKey":"ctrlKey",COMMANDORCONTROL:Ext.isMac?"metaKey":"ctrlKey",META:"metaKey"},modifierGlyphs:{ctrlKey:"⌃",altKey:"⌥",metaKey:Ext.isMac?"⌘":"⊞",shiftKey:"⇧"},specialKeyGlyphs:{BACKSPACE:"⌫",TAB:"⇥",ENTER:"⏎",RETURN:"⏎",SPACE:"␣",PAGE_UP:"⇞",PAGE_DOWN:"⇟",END:"⇲",HOME:"⌂",LEFT:"←",UP:"↑",RIGHT:"→",DOWN:"↓",PRINT_SCREEN:"⎙",INSERT:"⎀",DELETE:"⌦",CONTEXT_MENU:"☰"},getKeyId:function(q){q=q.toUpperCase();var p=this,x=q.split("+"),w=x.length-1,t=x[w],u=[],v,s;for(s=0;s<w;s++){v=p.keyFlags[x[s]];u[v]=true}if(u.ctrlKey){u.push(p.modifierGlyphs.ctrlKey)}if(u.altKey){u.push(p.modifierGlyphs.altKey)}if(u.shiftKey){u.push(p.modifierGlyphs.shiftKey)}if(u.metaKey){u.push(p.modifierGlyphs.metaKey)}u.push(this.specialKeyGlyphs[t]||t);return u.join("")}},constructor:function(z){var u=this,B=u.self,v=u.self.resolveTextNode,e=z.changedTouches,y=e?e[0]:z,t=z.type,A,w;u.timeStamp=u.time=Ext.now();u.pageX=y.pageX;u.pageY=y.pageY;u.clientX=y.clientX;u.clientY=y.clientY;u.target=u.delegatedTarget=v(z.target);w=z.relatedTarget;if(w){if(Ext.isGecko&&t==="dragenter"||t==="dragleave"){try{u.relatedTarget=v(w)}catch(x){u.relatedTarget=null}}else{u.relatedTarget=v(w)}}u.browserEvent=u.event=z;u.type=t;u.button=z.button||0;u.shiftKey=z.shiftKey;u.ctrlKey=z.ctrlKey||z.metaKey||false;u.altKey=z.altKey;u.charCode=z.charCode;u.keyCode=z.keyCode;u.buttons=z.buttons;if(u.button===0&&u.buttons===0){u.buttons=1}if(B.focusEvents[t]){if(B.forwardTab!==undefined){u.forwardTab=B.forwardTab}}else{if(t!=="keydown"){delete B.forwardTab}}if(B.mouseEvents[t]){A="mouse"}else{if(B.clickEvents[t]){A=B.pointerTypeMap[z.pointerType]||"mouse"}else{if(B.pointerEvents[t]){A=B.pointerTypeMap[z.pointerType]}else{if(B.touchEvents[t]){A="touch"}}}}if(A){u.pointerType=A}u.isMultitouch=z.isPrimary===false||(z.touches&&z.touches.length>1)},chain:function(k){var e=Ext.Object.chain(this);e.parentEvent=this;return Ext.apply(e,k)},correctWheelDelta:function(k){var l=this.WHEEL_SCALE,m=Math.round(k/l);if(!m&&k){m=(k<0)?-1:1}return m},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getKeyName:function(){return this.keyCodes[this.keyCode]},getPoint:function(){var l=this,m=l.point,k;if(!m){k=l.getXY();m=l.point=new Ext.util.Point(k[0],k[1])}return m},getRelatedTarget:function(p,m,q){var o=this.relatedTarget,n=null;if(o&&o.nodeType){if(p){n=Ext.fly(o).findParent(p,m,q)}else{n=q?Ext.get(o):o}}return n},getTarget:function(l,k,m){return l?Ext.fly(this.target).findParent(l,k,m):(m?Ext.get(this.target):this.target)},getTime:function(){return this.time},getWheelDelta:function(){var f=this.getWheelDeltas();return f.y},getWheelDeltas:function(){var l=this,m=l.browserEvent,n=0,o=0;if(Ext.isDefined(m.wheelDeltaX)){n=m.wheelDeltaX;o=m.wheelDeltaY}else{if(m.wheelDelta){o=m.wheelDelta}else{if("deltaX" in m){n=m.deltaX;o=-m.deltaY}else{if(m.detail){o=-m.detail;if(o>100){o=3}else{if(o<-100){o=-3}}if(Ext.isDefined(m.axis)&&m.axis===m.HORIZONTAL_AXIS){n=o;o=0}}}}}return{x:l.correctWheelDelta(n),y:l.correctWheelDelta(o)}},getX:function(){return this.getXY()[0]},getXY:function(){var s=this,p=s.xy;if(!p){p=s.xy=[s.pageX,s.pageY];var t=p[0],v,q,o,u;if(!t&&t!==0){v=s.browserEvent;q=document;o=q.documentElement;u=q.body;p[0]=v.clientX+(o&&o.scrollLeft||u&&u.scrollLeft||0)-(o&&o.clientLeft||u&&u.clientLeft||0);p[1]=v.clientY+(o&&o.scrollTop||u&&u.scrollTop||0)-(o&&o.clientTop||u&&u.clientTop||0)}}return p},getY:function(){return this.getXY()[1]},hasModifier:function(){var f=this;return !!(f.ctrlKey||f.altKey||f.shiftKey||f.metaKey)},isNavKeyPress:function(k){var m=this,o=m.keyCode,n=m.type==="keypress";return((!n||Ext.isGecko)&&o>=33&&o<=40)||(!k&&(o===m.RETURN||o===m.TAB||o===m.ESC))},isSpecialKey:function(){var k=this,n=k.keyCode,o=Ext.isGecko,m=k.type==="keypress";return(o&&m&&k.charCode===0)||(this.isNavKeyPress())||(n===k.BACKSPACE)||(n===k.ENTER)||(n>=16&&n<=20)||((!m||o)&&n>=44&&n<=46)},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){var g=this,k=g.parentEvent;g.defaultPrevented=true;if(k){k.defaultPrevented=true}g.browserEvent.preventDefault();return g},setCurrentTarget:function(f){this.currentTarget=this.delegatedTarget=f},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var l=this,k=l.browserEvent,m=l.parentEvent;l.stopped=true;if(m&&!l.isGesture){m.stopped=true}if(!k.stopPropagation){k.cancelBubble=true;return l}k.stopPropagation();return l},claimGesture:function(){var g=this,k=g.parentEvent;g.claimed=true;if(k&&!g.hasOwnProperty("isGesture")){k.claimGesture()}else{g.preventDefault()}return g},within:function(m,l,o){var n;if(m){n=l?this.getRelatedTarget():this.getTarget()}return n?Ext.fly(m).contains(n)||!!(o&&n===Ext.getDom(m)):false},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},1,0,0,0,0,0,[Ext.event,"Event",Ext,"EventObjectImpl"],function(t){var q=t.prototype,p={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(function(){var e;if(Ext.isGecko){e=3}else{if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){e=120}else{e=12}e*=3}else{e=120}}return e}())},s={},o,n;Ext.apply(t,p);Ext.apply(q,p);delete p.WHEEL_SCALE;delete p.RETURN;for(o in p){n=p[o];s[n]=o}q.keyCodes=s;q.getTrueXY=q.getXY}));Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:(function(){var n,m={},o;if(!Ext.isIE9m&&document.createEvent){n={createHtmlEvent:function(f,k,l,e){var g=f.createEvent("HTMLEvents");g.initEvent(k,l,e);return g},createMouseEvent:function(f,E,K,L,I,e,l,g,D,F,G,J,H){var C=f.createEvent("MouseEvents"),k=f.defaultView||window;if(C.initMouseEvent){C.initMouseEvent(E,K,L,k,I,e,l,e,l,g,D,F,G,J,H)}else{C=f.createEvent("UIEvents");C.initEvent(E,K,L);C.view=k;C.detail=I;C.screenX=e;C.screenY=l;C.clientX=e;C.clientY=l;C.ctrlKey=g;C.altKey=D;C.metaKey=G;C.shiftKey=F;C.button=J;C.relatedTarget=H}return C},createUIEvent:function(f,k,u,v,l){var g=f.createEvent("UIEvents"),e=f.defaultView||window;g.initUIEvent(k,u,v,e,l);return g},fireEvent:function(f,e,g){f.dispatchEvent(g)}}}else{if(document.createEventObject){o={0:1,1:4,2:2};n={createHtmlEvent:function(f,k,l,e){var g=f.createEventObject();g.bubbles=l;g.cancelable=e;return g},createMouseEvent:function(k,C,I,J,G,e,g,f,B,D,E,H,F){var l=k.createEventObject();l.bubbles=I;l.cancelable=J;l.detail=G;l.screenX=e;l.screenY=g;l.clientX=e;l.clientY=g;l.ctrlKey=f;l.altKey=B;l.shiftKey=D;l.metaKey=E;l.button=o[H]||H;l.relatedTarget=F;return l},createUIEvent:function(f,k,t,e,l){var g=f.createEventObject();g.bubbles=t;g.cancelable=e;return g},fireEvent:function(f,e,g){f.fireEvent("on"+e,g)}}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(g,f){var k=f[0],e=f[1];m[g]=function(l,v){var u=n.createHtmlEvent(g,k,e);n.fireEvent(l,g,u)}});function p(f,g){var e=(f!=="mousemove");return function(k,v){var l=v.getXY(),u=n.createMouseEvent(k.ownerDocument,f,true,e,g,l[0],l[1],v.ctrlKey,v.altKey,v.shiftKey,v.metaKey,v.button,v.relatedTarget);n.fireEvent(k,f,u)}}Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(e){m[e]=p(e,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(g,f){var k=f[0],e=f[1];m[g]=function(l,v){var u=n.createUIEvent(l.ownerDocument,g,k,e,1);n.fireEvent(l,g,u)}});if(!n){m={};n={}}function q(f,e){}return function(f){var g=this,k=m[g.type]||q,e=f?(f.dom||f):g.getTarget();k(e,g)}}()),preventDefault:function(n){var p=this,q=p.browserEvent,s=p.parentEvent,t,o;if(typeof q.type!=="unknown"){if(!n){p.defaultPrevented=true}if(s){s.defaultPrevented=true}if(q.preventDefault){q.preventDefault()}else{if(q.type==="mousedown"){o=q.target;t=o.getAttribute("unselectable");if(t!=="on"){o.setAttribute("unselectable","on");Ext.defer(function(){o.setAttribute("unselectable",t)},1)}}q.returnValue=false;if(q.ctrlKey||q.keyCode>111&&q.keyCode<124){q.keyCode=-1}}}return p},stopPropagation:function(){var g=this,k=g.browserEvent;if(typeof k.type!=="unknown"){if(g.mousedownEvents[g.type]){Ext.GlobalEvents.fireMouseDown(g)}arguments.callee.$previous.call(this)}return g},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var o=this,l,m=function(e){if(e.keyCode===9){o.forwardTab=!e.shiftKey}},n=function(e){if(e.keyCode===9){delete o.forwardTab}};if(Ext.isIE9m){l={0:0,1:0,4:1,2:2};o.override({statics:{enableIEAsync:function(g){var f,e={};for(f in g){e[f]=g[f]}return e}},constructor:function(k,g,e,f){var q=this;q.callParent([k,g,e,f]);q.button=l[k.button];if(k.type==="contextmenu"){q.button=2}q.toElement=k.toElement;q.fromElement=k.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(e){this.browserEvent=this.self.enableIEAsync(e)},getRelatedTarget:function(e,g,f){var s=this,t,k;if(!s.relatedTarget){t=s.type;if(s.mouseLeaveRe.test(t)){k=s.toElement}else{if(s.mouseEnterRe.test(t)){k=s.fromElement}}if(k){s.relatedTarget=s.self.resolveTextNode(k)}}return s.callParent([e,g,f])}});document.attachEvent("onkeydown",m);document.attachEvent("onkeyup",n);window.attachEvent("onunload",function(){document.detachEvent("onkeydown",m);document.detachEvent("onkeyup",n)})}else{if(document.addEventListener){document.addEventListener("keydown",m,true);document.addEventListener("keyup",n,true)}}});(Ext.cmd.derive("Ext.event.publisher.Dom",Ext.event.publisher.Publisher,{type:"dom",handledDomEvents:[],reEnterCount:0,captureEvents:{animationstart:1,animationend:1,resize:1,focus:1,blur:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1,scroll:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var f=this;f.bubbleSubscribers={};f.captureSubscribers={};f.directSubscribers={};f.directCaptureSubscribers={};f.delegatedListeners={};f.initHandlers();Ext.onInternalReady(f.onReady,f);Ext.event.publisher.Publisher.prototype.constructor.call(this)},registerEvents:function(){var n=this,p=Ext.event.publisher.Publisher.publishersByEvent,t=n.handledDomEvents,o=t.length,q=0,s;for(;q<o;q++){s=t[q];n.handles[s]=1;p[s]=n}Ext.event.publisher.Publisher.prototype.registerEvents.call(this)},onReady:function(){var l=this,o=l.handledDomEvents,m,n;if(o){for(n=0,m=o.length;n<m;n++){l.addDelegatedListener(o[n])}}Ext.getWin().on("unload",l.destroy,l)},initHandlers:function(){var f=this;f.onDelegatedEvent=Ext.bind(f.onDelegatedEvent,f);f.onDirectEvent=Ext.bind(f.onDirectEvent,f);f.onDirectCaptureEvent=Ext.bind(f.onDirectCaptureEvent,f)},addDelegatedListener:function(f){this.delegatedListeners[f]=1;this.target.addEventListener(f,this.onDelegatedEvent,!!this.captureEvents[f])},removeDelegatedListener:function(f){delete this.delegatedListeners[f];this.target.removeEventListener(f,this.onDelegatedEvent,!!this.captureEvents[f])},addDirectListener:function(l,k,m){k.dom.addEventListener(l,m?this.onDirectCaptureEvent:this.onDirectEvent,m)},removeDirectListener:function(l,k,m){k.dom.removeEventListener(l,m?this.onDirectCaptureEvent:this.onDirectEvent,m)},subscribe:function(s,t,o,u){var q=this,p,v;if(o&&!q.directEvents[t]){p=u?q.captureSubscribers:q.bubbleSubscribers;if(!q.handles[t]&&!q.delegatedListeners[t]){q.addDelegatedListener(t)}if(p[t]){++p[t]}else{p[t]=1}}else{p=u?q.directCaptureSubscribers:q.directSubscribers;v=s.id;p=p[t]||(p[t]={});if(p[v]){++p[v]}else{p[v]=1;q.addDirectListener(t,s,u)}}},unsubscribe:function(v,u,y,q){var s=this,t,w,z,x;if(y&&!s.directEvents[u]){t=s.captureSubscribers;w=s.bubbleSubscribers;z=q?t:w;if(z[u]){--z[u]}if(!s.handles[u]&&!w[u]&&!t[u]){this.removeDelegatedListener(u)}}else{z=q?s.directCaptureSubscribers:s.directSubscribers;x=v.id;z=z[u];if(z[x]){--z[x]}if(!z[x]){delete z[x];s.removeDirectListener(u,v,q)}}},getPropagatingTargets:function(l){var m=l,n=[],o;while(m){n.push(m);o=m.parentNode;if(!o){o=m.defaultView}m=o}return n},publish:function(x,z,D){var I=this,e=false,C=false,F,H,y,E,A,J,B,G;D=D||false;if(!z){y=x.target;if(I.captureEvents[x.type]){E=Ext.cache[y.id];z=E?[E]:[]}else{z=I.getPropagatingTargets(y)}}F=Ext.Array.from(x);J=z.length;G=F.length;for(A=0;A<G;A++){H=F[A].type;if(!e&&I.captureSubscribers[H]){e=true}if(!C&&I.bubbleSubscribers[H]){C=true}}if(e){for(A=J;A--;){E=Ext.cache[z[A].id];if(E){for(B=0;B<G;B++){x=F[B];I.fire(E,x.type,x,false,true);if(!D&&x.claimed){D=true;B=I.filterClaimed(F,x);G=F.length}if(x.stopped){F.splice(B,1);B--;G--}}}}}if(C&&!x.stopped){for(A=0;A<J;A++){E=Ext.cache[z[A].id];if(E){for(B=0;B<G;B++){x=F[B];I.fire(E,x.type,x,false,false);if(!D&&x.claimed&&I.filterClaimed){D=true;B=I.filterClaimed(F,x);G=F.length}if(x.stopped){F.splice(B,1);B--;G--}}}}}},publishDelegatedDomEvent:function(e){this.publish(e)},fire:function(p,q,e,t,s){var o;if(p.hasListeners[q]){o=p.events[q];if(o){if(s&&t){o=o.directCaptures}else{if(s){o=o.captures}else{if(t){o=o.directs}}}if(o){e.setCurrentTarget(p.dom);o.fire(e,e.target)}}}},onDelegatedEvent:function(e){if(Ext.elevateFunction){Ext.elevateFunction(this.doDelegatedEvent,this,[e])}else{this.doDelegatedEvent(e)}},doDelegatedEvent:function(e){var l=this,m;e=new Ext.event.Event(e);m=e.time;if(!l.isEventBlocked(e)){l.beforeEvent(e);Ext.frameStartTime=m;l.reEnterCount++;l.publishDelegatedDomEvent(e);l.reEnterCount--;l.afterEvent(e)}},onDirectEvent:function(e){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[e,false])}else{this.doDirectEvent(e,false)}},onDirectCaptureEvent:function(e){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[e,true])}else{this.doDirectEvent(e,true)}},doDirectEvent:function(t,q){var o=this,e=t.currentTarget,s,p;t=new Ext.event.Event(t);s=t.time;if(o.isEventBlocked(t)){return}o.beforeEvent(t);Ext.frameStartTime=s;p=Ext.cache[e.id];if(p){o.reEnterCount++;o.fire(p,t.type,t,true,q);o.reEnterCount--}o.afterEvent(t)},beforeEvent:function(o){var e=o.browserEvent,q=Ext.event.publisher.Dom,p,n;if(e.type==="touchstart"){p=e.touches;if(p.length===1){n=p[0];q.lastTouchStartX=n.pageX;q.lastTouchStartY=n.pageY}}},afterEvent:function(n){var e=n.browserEvent,o=e.type,p=Ext.event.publisher.Dom,q=Ext.GlobalEvents;if(n.self.pointerEvents[o]&&n.pointerType!=="mouse"){p.lastScreenPointerEventTime=Ext.now()}if(o==="touchend"){p.lastTouchEndTime=Ext.now()}if(!this.reEnterCount&&q.hasListeners.idle&&!q.idleEventMask[o]){q.fireEvent("idle")}},isEventBlocked:function(e){var n=this,o=e.type,q=Ext.event.publisher.Dom,p=Ext.now();if(Ext.isGecko&&e.type==="click"&&e.button===2){return true}return(n.blockedPointerEvents[o]&&e.pointerType!=="mouse")||(n.blockedCompatibilityMouseEvents[o]&&(p-q.lastScreenPointerEventTime<1000))||(Ext.supports.TouchEvents&&e.self.mouseEvents[e.type]&&Math.abs(e.pageX-q.lastTouchStartX)<15&&Math.abs(e.pageY-q.lastTouchStartY)<15&&(Ext.now()-q.lastTouchEndTime)<1000)},destroy:function(){var g=Ext.dom.GarbageCollector,k;for(k in this.delegatedListeners){this.removeDelegatedListener(k)}Ext.Reaper.flush();if(g){g.collect()}this.callParent()},reset:function(){var f=Ext.event.publisher.Dom;f.lastScreenPointerEventTime=f.lastTouchEndTime=f.lastTouchStartX=f.lastTouchStartY=undefined}},1,0,0,0,0,0,[Ext.event.publisher,"Dom"],function(n){var l=document,m=l.defaultView,o=n.prototype;if((Ext.os.is.iOS&&Ext.os.version.getMajor()<5)||Ext.browser.is.AndroidStock||!(m&&m.addEventListener)){o.target=l}else{o.target=m}n.instance=new n()}));Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(n){if(Ext.isIE9m){var s=document.documentElement,o=document.body,p=n.prototype,t,q;p.target=document;p.directBoundListeners={};t=function(e,f,g){e.target=e.srcElement||window;e.currentTarget=this;if(g){f.onDirectCaptureEvent(e)}else{f.onDirectEvent(e)}};q=function(e,f){e.target=e.srcElement||window;e.currentTarget=this;f.onDirectCaptureEvent(e)};n.override({addDelegatedListener:function(e){this.delegatedListeners[e]=1;this.target.attachEvent("on"+e,this.onDelegatedEvent)},removeDelegatedListener:function(e){delete this.delegatedListeners[e];this.target.detachEvent("on"+e,this.onDelegatedEvent)},addDirectListener:function(l,k,m){var f=this,e=k.dom,g=Ext.Function.bind(t,e,[f,m],true),x=f.directBoundListeners,w=x[l]||(x[l]={});w[e.id]=g;if(e.attachEvent){e.attachEvent("on"+l,g)}else{f.callParent([l,k,m])}},removeDirectListener:function(g,f,k){var e=f.dom;if(e.detachEvent){e.detachEvent("on"+g,this.directBoundListeners[g][e.id])}else{this.callParent([g,f,k])}},doDelegatedEvent:function(e){e.target=e.srcElement||window;if(e.type==="focusin"){e.relatedTarget=e.fromElement===o||e.fromElement===s?null:e.fromElement}else{if(e.type==="focusout"){e.relatedTarget=e.toElement===o||e.toElement===s?null:e.toElement}}return this.callParent([e])}});Ext.apply(p.directEvents,p.captureEvents);Ext.apply(p.directEvents,{change:1,input:1,paste:1});p.captureEvents={}}});(Ext.cmd.derive("Ext.event.publisher.Gesture",Ext.event.publisher.Dom,{type:"gesture",isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},handledEvents:[],handledDomEvents:[],constructor:function(u){var p=this,t=p.handledDomEvents,v=Ext.supports,q=v.TouchEvents,x=p.onTouchStart,s=p.onTouchMove,w=p.onTouchEnd;p.handlers={touchstart:x,touchmove:s,touchend:w,touchcancel:w,pointerdown:x,pointermove:s,pointerup:w,pointercancel:w,MSPointerDown:x,MSPointerMove:s,MSPointerUp:w,MSPointerCancel:w,mousedown:x,mousemove:s,mouseup:w};p.activeTouchesMap={};p.activeTouches=[];p.changedTouches=[];p.recognizers=[];p.eventToRecognizer={};p.cancelEvents=[];if(q){p.onTargetTouchMove=p.onTargetTouchMove.bind(p);p.onTargetTouchEnd=p.onTargetTouchEnd.bind(p)}if(v.PointerEvents){t.push("pointerdown","pointermove","pointerup","pointercancel");p.mousePointerType="mouse"}else{if(v.MSPointerEvents){t.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel");p.mousePointerType=4}else{if(q){t.push("touchstart","touchmove","touchend","touchcancel")}}}if(!t.length||(q&&Ext.isWebKit&&Ext.os.is.Desktop)){t.push("mousedown","mousemove","mouseup")}p.initConfig(u);return Ext.event.publisher.Dom.prototype.constructor.call(this)},onReady:function(){Ext.event.publisher.Dom.prototype.onReady.call(this);Ext.Array.sort(this.recognizers,function(l,m){var n=l.priority,o=m.priority;return(n>o)?1:(n<o)?-1:0})},registerRecognizer:function(t){var n=this,q=t.handledEvents,o=q.length,s,p;t.setOnRecognized(n.onRecognized);t.setCallbackScope(n);for(p=0;p<o;p++){s=q[p];n.handledEvents.push(s);n.eventToRecognizer[s]=t}n.registerEvents(q);n.recognizers.push(t)},onRecognized:function(G,A,N,F,e){var K=this,B=N.touches,J=N.changedTouches,M=J.length,H=K.events,C=!H.length,L=K.cancelEvents,I,z,D,E;F=F||{};F.type=A;F.target=J[0].target;F.stopped=false;F.claimed=false;F.isGesture=true;N=N.chain(F);if(!K.gestureTargets){if(M>1){I=[];for(D=0;D<M;D++){E=J[D];I.push(E.targets)}z=K.getCommonTargets(I)}else{z=J[0].targets}K.gestureTargets=z}if(e&&G.isSingleTouch&&(B.length>1)){N.target=B[0].target;L.push(N)}else{H.push(N)}if(C){K.publishGestures()}},getCommonTargets:function(v){var w=v[0],p=v.length;if(p===1){return w}var s=[],q=1,x,u,t;while(true){x=w[w.length-q];if(!x){return s}for(t=1;t<p;t++){u=v[t];if(u[u.length-q]!==x){return s}}s.unshift(x);q++}return s},invokeRecognizers:function(p,t){var q=this.recognizers,e=q.length,o,s;if(p==="onStart"){for(o=0;o<e;o++){q[o].isActive=true}}for(o=0;o<e;o++){s=q[o];if(s.isActive&&s[p].call(s,t)===false){s.isActive=false}}},filterClaimed:function(t,z){var v=this,y=v.eventToRecognizer,u=z.type,B=y[u],s,A,w,x;for(x=t.length;x--;){w=t[x].type;if(w===u){s=x}else{A=y[w];if(!B||(A&&(A!==B))){t.splice(x,1);if(s){s--}}}}v.claimRecognizer(B,t[0]);return s},claimRecognizer:function(t,u){var v=this,q=v.recognizers,p,e,s;for(p=0,e=q.length;p<e;p++){s=q[p];if(s!==t){s.isActive=false;s.cancel(u)}}if(v.events.length){v.publishGestures(true)}},publishGestures:function(n){var o=this,m=o.cancelEvents,q=o.events,p=o.gestureTargets;if(m.length){o.cancelEvents=[];o.publish(m,o.getPropagatingTargets(m[0].target),true)}if(q.length){o.events=[];o.gestureTargets=null;o.publish(q,p||o.getPropagatingTargets(q[0].target),n)}},updateTouches:function(x,G){var L=this,B=x.browserEvent,D=B.changedTouches||[B],H=L.activeTouches,e=L.activeTouchesMap,J=[],M,y,E,C,F,N,I,K;for(F=0,N=D.length;F<N;F++){M=D[F];if("identifier" in M){y=M.identifier}else{if("pointerId" in M){y=M.pointerId}else{y=1}}E=e[y];if(!E){C=Ext.event.Event.resolveTextNode(M.target);E=e[y]={identifier:y,target:C,targets:L.getPropagatingTargets(C)};H.push(E)}if(G){delete e[y];Ext.Array.remove(H,E)}I=M.pageX;K=M.pageY;E.pageX=I;E.pageY=K;E.point=new Ext.util.Point(I,K);J.push(E)}x.touches=Ext.Array.clone(H);x.changedTouches=J},publishDelegatedDomEvent:function(e){var k=this;if(!e.button||e.button<1){k.events=[e];k.handlers[e.type].call(k,e)}else{Ext.event.publisher.Dom.prototype.publishDelegatedDomEvent.call(this,e)}},onTouchStart:function(e){var o=this,m=e.target,n=e.browserEvent.touches;if(e.browserEvent.type==="touchstart"){m.addEventListener("touchmove",o.onTargetTouchMove);m.addEventListener("touchend",o.onTargetTouchEnd);m.addEventListener("touchcancel",o.onTargetTouchEnd)}if(n&&n.length<=o.activeTouches.length){o.removeGhostTouches(n)}o.updateTouches(e);if(!o.isStarted){if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.pause()}o.isStarted=true;o.invokeRecognizers("onStart",e)}o.invokeRecognizers("onTouchStart",e);o.publishGestures()},onTouchMove:function(e){var l=this,m=l.mousePointerType;if(l.isStarted){if(m&&e.browserEvent.pointerType===m&&e.buttons===0){e.type=Ext.dom.Element.prototype.eventMap.touchend;e.button=0;l.onTouchEnd(e);return}l.updateTouches(e);if(e.changedTouches.length>0){l.invokeRecognizers("onTouchMove",e)}}l.publishGestures()},onTouchEnd:function(e){var l=this,m;if(!l.isStarted){l.publishGestures();return}l.updateTouches(e,true);m=l.activeTouches.length;try{l.invokeRecognizers(l.isCancelEvent[e.type]?"onTouchCancel":"onTouchEnd",e)}finally{if(!m){l.isStarted=false;l.invokeRecognizers("onEnd",e)}l.publishGestures();if(!m){if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.resume()}}}},onTargetTouchMove:function(e){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchMove,this,[e])}else{this.doTargetTouchMove(e)}},doTargetTouchMove:function(e){if(!Ext.getBody().contains(e.target)){this.onTouchMove(new Ext.event.Event(e))}},onTargetTouchEnd:function(e){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchEnd,this,[e])}else{this.doTargetTouchEnd(e)}},doTargetTouchEnd:function(e){var m=this,l=e.target;l.removeEventListener("touchmove",m.onTargetTouchMove);l.removeEventListener("touchend",m.onTargetTouchEnd);l.removeEventListener("touchcancel",m.onTargetTouchEnd);if(!Ext.getBody().contains(l)){m.onTouchEnd(new Ext.event.Event(e))}},reset:function(){var m=this,p=m.recognizers,n=p.length,o,q;m.activeTouchesMap={};m.activeTouches=[];m.changedTouches=[];m.isStarted=false;m.gestureTargets=null;m.events=[];m.cancelEvents=[];for(o=0;o<n;o++){q=p[o];q.reset();q.isActive=false}Ext.event.publisher.Dom.prototype.reset.call(this)},privates:{removeGhostTouches:function(q){var t={},v=q.length,w=this.activeTouches,s=this.activeTouchesMap,u,x,p;for(u=0;u<v;++u){t[q[u].identifier]=true}u=w.length;while(u--){p=w[u];x=p.identifier;if(!q[x]){Ext.Array.remove(w,p);delete s[x]}}}}},1,0,0,0,0,0,[Ext.event.publisher,"Gesture"],function(f){f.instance=Ext.$gesturePublisher=new f()}));Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){if(Ext.isIE9m){this.override({updateTouches:function(m,o){var e=m.browserEvent,n=m.getXY();e.pageX=n[0];e.pageY=n[1];this.callParent([m,o])},doDelegatedEvent:function(e){this.callParent([Ext.event.Event.enableIEAsync(e)])}})}});(Ext.cmd.derive("Ext.mixin.Templatable",Ext.Mixin,{mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var f=document.createDocumentFragment();f.appendChild(Ext.Element.create(this.getElementConfig(),true));return f},initElement:function(){var f=this.self.prototype;f.elementTemplate=this.getElementTemplate();f.initElement=f.doInitElement;this.initElement.apply(this,arguments)},linkElement:function(k,g){this.link(k,g)},doInitElement:function(){var v=this.referenceAttributeName,s,q,p,o,t,u;s=this.elementTemplate.cloneNode(true);q=s.querySelectorAll(this.referenceSelector);for(p=0,o=q.length;p<o;p++){t=q[p];u=t.getAttribute(v);t.removeAttribute(v);this.linkElement(u,t)}}},0,0,0,0,0,0,[Ext.mixin,"Templatable"],0));(Ext.cmd.derive("Ext.TaskQueue",Ext.Base,{singleton:true,pending:false,mode:true,constructor:function(){this.readQueue=[];this.writeQueue=[];this.run=Ext.Function.bind(this.run,this);if(Ext.os.is.iOS){Ext.interval(this.watch,500,this)}},requestRead:function(k,l,m){this.request(true);this.readQueue.push(arguments)},requestWrite:function(k,l,m){this.request(false);this.writeQueue.push(arguments)},request:function(f){if(!this.pending){this.pendingTime=Date.now();this.pending=true;this.mode=f;if(f){Ext.defer(this.run,1,this)}else{Ext.Function.requestAnimationFrame(this.run)}}},watch:function(){if(this.pending&&Date.now()-this.pendingTime>=500){this.run()}},run:function(){this.pending=false;var t=this.readQueue,x=this.writeQueue,z=null,w;if(this.mode){w=t;if(x.length>0){z=false}}else{w=x;if(t.length>0){z=true}}var A=w.slice(),y,v,B,u,s;w.length=0;for(y=0,v=A.length;y<v;y++){B=A[y];u=B[0];s=B[1];if(s&&(s.destroying||s.destroyed)){continue}if(typeof u==="string"){u=s[u]}if(B.length>2){u.apply(s,B[2])}else{u.call(s)}}A.length=0;if(z!==null){this.request(z)}}},1,0,0,0,0,0,[Ext,"TaskQueue"],0));(Ext.cmd.derive("Ext.util.sizemonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:null,height:null,contentWidth:null,contentHeight:null,constructor:function(f){this.refresh=Ext.Function.bind(this.refresh,this);this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};this.initElement();this.initConfig(f);this.bindListeners(true)},bindListeners:Ext.emptyFn,applyElement:function(f){if(f){return Ext.get(f)}},updateElement:function(f){f.append(this.detectorsContainer);f.addCls("x-size-monitored")},applyArgs:function(f){return f.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.clientWidth},getContentHeight:function(){return this.detectorsContainer.clientHeight},refreshSize:function(){var y=this.getElement();if(!y||y.destroyed){return false}var A=y.getWidth(),s=y.getHeight(),B=this.getContentWidth(),t=this.getContentHeight(),u=this.contentWidth,w=this.contentHeight,z=this.info,x=false,v=0;this.width=A;this.height=s;this.contentWidth=B;this.contentHeight=t;v=((u!==B?1:0)+(w!==t?2:0));if(v>0){z.width=A;z.height=s;z.contentWidth=B;z.contentHeight=t;z.flag=v;x=true;this.getCallback().apply(this.getScope(),this.getArgs())}return x},refresh:function(f){if(this.destroying||this.destroyed){return}if(this.refreshSize()||f){Ext.TaskQueue.requestWrite("refreshMonitors",this)}},destroy:function(){var g=this,k=g.getElement();g.bindListeners(false);if(k&&!k.destroyed){k.removeCls("x-size-monitored")}delete g._element;g.refresh=null;g.callParent()}},1,0,0,0,0,[[Ext.mixin.Templatable.prototype.mixinId||Ext.mixin.Templatable.$className,Ext.mixin.Templatable]],[Ext.util.sizemonitor,"Abstract"],0));(Ext.cmd.derive("Ext.util.sizemonitor.Scroll",Ext.util.sizemonitor.Abstract,{getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(f){this.onScroll=Ext.Function.bind(this.onScroll,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},bindListeners:function(g){var k=g?"addEventListener":"removeEventListener";this.expandMonitor[k]("scroll",this.onScroll,true);this.shrinkMonitor[k]("scroll",this.onScroll,true)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[true])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var l=this.expandMonitor,k=this.shrinkMonitor,m=1000000;if(l&&!l.destroyed){l.scrollLeft=m;l.scrollTop=m}if(k&&!k.destroyed){k.scrollLeft=m;k.scrollTop=m}},destroy:function(){this.onScroll=null;Ext.util.sizemonitor.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,"Scroll"],0));(Ext.cmd.derive("Ext.util.sizemonitor.OverflowChange",Ext.util.sizemonitor.Abstract,{constructor:function(f){this.onExpand=Ext.Function.bind(this.onExpand,this);this.onShrink=Ext.Function.bind(this.onShrink,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(g){var k=g?"addEventListener":"removeEventListener";this.expandMonitor[k](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,true);this.shrinkMonitor[k](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,true)},onExpand:function(e){if(Ext.browser.is.Webkit&&e.horizontalOverflow&&e.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(e){if(Ext.browser.is.Webkit&&!e.horizontalOverflow&&!e.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(this.destroying||this.destroyed){return}var n=this.expandHelper,o=this.shrinkHelper,s=this.getContentBounds(),p=s.width,t=s.height,q;if(n&&!n.destroyed){q=n.style;q.width=(p+1)+"px";q.height=(t+1)+"px"}if(o&&!o.destroyed){q=o.style;q.width=p+"px";q.height=t+"px"}Ext.TaskQueue.requestRead("refresh",this)},destroy:function(){this.onExpand=this.onShrink=null;Ext.util.sizemonitor.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,"OverflowChange"],0));(Ext.cmd.derive("Ext.util.SizeMonitor",Ext.Base,{constructor:function(k){var g=Ext.util.sizemonitor;if(Ext.browser.is.Firefox){return new g.OverflowChange(k)}else{return new g.Scroll(k)}}},1,0,0,0,0,0,[Ext.util,"SizeMonitor"],0));(Ext.cmd.derive("Ext.event.publisher.ElementSize",Ext.event.publisher.Publisher,{type:"size",handledEvents:["resize"],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(n){var l=n.id,m=this.subscribers,o=this.monitors;if(m[l]){++m[l]}else{m[l]=1;o[l]=new Ext.util.SizeMonitor({element:n,callback:this.onElementResize,scope:this,args:[n]})}n.on("painted","forceRefresh",o[l]);return true},unsubscribe:function(o){var m=o.id,n=this.subscribers,p=this.monitors,q;if(n[m]&&!--n[m]){delete n[m];q=p[m];o.un("painted","forceRefresh",q);q.destroy();delete p[m]}},onElementResize:function(k,g){Ext.TaskQueue.requestRead("fire",this,[k,"resize",[k,g]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementSize"],function(f){f.instance=new f()}));(Ext.cmd.derive("Ext.util.paintmonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(f){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this);this.initConfig(f)},bindListeners:function(f){this.monitorElement[f?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,true)},applyElement:function(f){if(f){return Ext.get(f)}},updateElement:function(f){this.monitorElement=Ext.Element.create({classList:["x-paint-monitor",this.monitorClass]},true);f.appendChild(this.monitorElement);f.addCls("x-paint-monitored");this.bindListeners(true)},onElementPainted:function(){},destroy:function(){var l=this,n=l.monitorElement,o=n.parentNode,m=l.getElement();l.bindListeners(false);delete l.monitorElement;if(m&&!m.destroyed){m.removeCls("x-paint-monitored");delete l._element}if(o){o.removeChild(n)}l.callParent()}},1,0,0,0,0,0,[Ext.util.paintmonitor,"Abstract"],0));(Ext.cmd.derive("Ext.util.paintmonitor.CssAnimation",Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(e){if(e.animationName==="x-paint-monitor-helper"){this.getCallback().apply(this.getScope(),this.getArgs())}}},0,0,0,0,0,0,[Ext.util.paintmonitor,"CssAnimation"],0));(Ext.cmd.derive("Ext.util.PaintMonitor",Ext.Base,{constructor:function(f){return new Ext.util.paintmonitor.CssAnimation(f)}},1,0,0,0,0,0,[Ext.util,"PaintMonitor"],0));(Ext.cmd.derive("Ext.event.publisher.ElementPaint",Ext.event.publisher.Publisher,{type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(o){var n=this,l=o.id,m=n.subscribers;if(m[l]){++m[l]}else{m[l]=1;n.monitors[l]=new Ext.util.PaintMonitor({element:o,callback:n.onElementPainted,scope:n,args:[o]})}},unsubscribe:function(n){var l=n.id,m=this.subscribers,o=this.monitors;if(m[l]&&!--m[l]){delete m[l];o[l].destroy();delete o[l]}},onElementPainted:function(f){Ext.TaskQueue.requestRead("fire",this,[f,"painted",[f]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementPaint"],function(f){f.instance=new f()}));(Ext.cmd.derive("Ext.dom.Element",Ext.Base,function(bf){var a4=window,ba=document,bs=ba.documentElement,a5=a4.top,a7,aI,ax,bm="width",be="height",aO="min-width",bq="min-height",bd="max-width",aM="max-height",a5="top",aG="right",aw="bottom",aE="left",bk="visibility",aL="hidden",bt="display",a2="none",bh="z-index",aX="position",a8="relative",a6="static",aU="-",aY=/\w/g,ay=/\s+/,aK=/[\s]+/,bv=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,aB=/table-row|table-.*-group/,bu=/top/i,a0={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},aQ={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},bi={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},aF=[aQ.l,aQ.r,aQ.t,aQ.b],bo=[a0.l,a0.r,a0.t,a0.b],aT=/\d+$/,bl=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,bc="px",e=/(-[a-z])/gi,aA=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,a9=/^\d+(?:\.\d*)?px$/i,aW={},a1="originalDisplay",aZ=function(f,g){return g.charAt(1).toUpperCase()},az=function(g,m){var f,l,k;if(g.nodeType===1){g._extData=null;if(m){f=g.childNodes;for(l=0,k=f.length;l<k;++l){az(f[l],m)}}}},aJ="x-hidden-visibility",aN="x-hidden-display",bj="x-hidden-offsets",bw="x-hidden-clip",aP="x-sized",av="x-unsized",aD="x-stretched",bg={style:"style",className:"className",cls:"cls",classList:"classList",text:"text",hidden:"hidden",html:"html",children:"children"},a3=0,aS=0,aR=false,bp=false,aV,aH,bn;try{a7=a5.__elementIdCounter__}catch(aC){a5=a4}a5.__elementIdCounter=a7=(a5.__elementIdCounter__||0)+1;aI="ext-window-"+a7;ax="ext-document-"+a7;return{alternateClassName:["Ext.Element"],observableType:"element",isElement:true,skipGarbageCollection:true,$applyConfigs:true,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(k){var g=this,f;if(typeof k==="string"){k=ba.getElementById(k)}if(!k){return null}g.dom=k;f=k.id;if(f){g.id=f}else{f=k.id=g.getUniqueId()}g.el=g;Ext.cache[f]=g;g.longpressListenerCount=0;g.mixins.observable.constructor.call(g)},inheritableStatics:{cache:Ext.cache={},editableSelector:'input,textarea,[contenteditable="true"]',VISIBILITY:1,DISPLAY:2,OFFSETS:3,CLIP:4,minKeyboardHeight:100,unitRe:bl,useDelegatedEvents:true,validNodeTypes:{1:1,9:1},addUnits:function(g,f){if(typeof g==="number"){return g+(f||bc)}if(g===""||g==="auto"||g==null){return g||""}if(aT.test(g)){return g+(f||bc)}if(!bl.test(g)){return g||""}return g},create:function(f,g){var o=this,k,q,n,l,m,s,t,p,u;f=f||{};if(f.isElement){return g?f.dom:f}else{if("nodeType" in f){return g?f:Ext.get(f)}}if(typeof f==="string"){return ba.createTextNode(f)}l=f.tag;if(!l){l="div"}if(f.namespace){q=ba.createElementNS(f.namespace,l)}else{q=ba.createElement(l)}n=q.style;for(s in f){if(s!=="tag"){m=f[s];switch(s){case bg.style:if(typeof m==="string"){q.setAttribute(s,m)}else{for(t in m){if(m.hasOwnProperty(t)){n[t]=m[t]}}}break;case bg.className:case bg.cls:u=m.split(ay);k=k?k.concat(u):u;break;case bg.classList:k=k?k.concat(m):m;break;case bg.text:q.textContent=m;break;case bg.html:q.innerHTML=m;break;case bg.hidden:if(k){k.push(aN)}else{k=[aN]}break;case bg.children:if(m!=null){for(t=0,p=m.length;t<p;t++){q.appendChild(o.create(m[t],true))}}break;default:if(m!=null){q.setAttribute(s,m)}}}}if(k){q.className=k.join(" ")}if(g){return q}else{return o.get(q)}},detach:function(){var f=this.dom;if(f&&f.parentNode&&f.tagName!=="BODY"){f.parentNode.removeChild(f)}return this},fly:function(g,f){return Ext.fly(g,f)},fromPoint:(function(){var f;if(Ext.isIE){try{f=window.self!==window.top}catch(g){f=true}}return function(m,k,n){var l=null;l=ba.elementFromPoint(m,k);if(!l&&f){l=ba.elementFromPoint(m,k)}return n?l:Ext.get(l)}})(),fromPagePoint:function(k,f,l){var g=Ext.getDoc().getScroll();return bf.fromPoint(k-g.left,f-g.top,l)},get:function(g){var o=this,p=Ext.cache,s,f,k,l,m,q,n;if(!g){return null}if(g.isFly){g=g.dom}if(typeof g==="string"){k=g;if(p.hasOwnProperty(k)){l=p[k];if(l.skipGarbageCollection||!Ext.isGarbage(l.dom)){return l}else{l.destroy()}}if(k===aI){return bf.get(a4)}else{if(k===ax){return bf.get(ba)}}f=Ext.getElementById?Ext.getElementById(k):ba.getElementById(k);if(f){return new bf(f)}}s=g.nodeType;if(s){m=(s===9);n=o.validNodeTypes[s]}else{q=(g.window==g)}if(n||q){k=g.id;if(p.hasOwnProperty(k)){l=p[k];if(l.skipGarbageCollection||g===l.dom||!Ext.isGarbage(l.dom)){return l}else{l.destroy()}}if(g===ba){g.id=ax}if(g==a4){g.id=aI}g=new bf(g);if(q||m){g.skipGarbageCollection=true}return g}if(g.isElement){return g}if(g.isComposite){return g}if(Ext.isIterable(g)){return o.select(g)}return null},getActiveElement:function(f){var g=ba.activeElement;if(!g||!g.focus){g=ba.body}return f?Ext.get(g):g},getDocumentHeight:function(){return Math.max(!Ext.isStrict?ba.body.scrollHeight:bs.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?ba.body.scrollWidth:bs.scrollWidth,this.getViewportWidth())},getOrientation:function(){if(Ext.supports.OrientationChange){return(a4.orientation==0)?"portrait":"landscape"}return(a4.innerHeight>a4.innerWidth)?"portrait":"landscape"},getViewportHeight:function(){var f=bf._viewportHeight;if(Ext.isIE9m){return ba.documentElement.clientHeight}return(f!=null)?f:bs.clientHeight},getViewportWidth:function(){var f=bf._viewportWidth;if(Ext.isIE9m){return ba.documentElement.clientWidth}return(f!=null)?f:bs.clientWidth},getViewportScale:function(){var f=a4.top;return((Ext.isiOS||Ext.isAndroid)?1:(f.devicePixelRatio||f.screen.deviceXDPI/f.screen.logicalXDPI))*this.getViewportTouchScale()},getViewportTouchScale:function(l){var f=1,k="hidden",m=a4.top,g;if(!l){g=this._viewportTouchScale;if(g){return g}}if(Ext.isIE10p||Ext.isEdge||Ext.isiOS){f=bs.offsetWidth/a4.innerWidth}else{if(Ext.isChromeMobile){f=m.outerWidth/m.innerWidth}}return f},getViewSize:function(){return{width:bf.getViewportWidth(),height:bf.getViewportHeight()}},maskIframes:function(){var f=document.getElementsByTagName("iframe");Ext.each(f,function(g){var k;k=Ext.fly(g.parentNode).mask();k.setStyle("background-color","transparent")})},normalize:function(f){return aW[f]||(aW[f]=f.replace(e,aZ))},_onWindowFocusChange:function(f){if(Ext.fly(f.target).is(bf.editableSelector)){a3=new Date();aR=(f.type==="focusin"||f.type==="pointerup")}},_onWindowResize:function(){var m=bs.clientWidth,f=bs.clientHeight,g=new Date(),n=1000,k,l;k=m-bf._documentWidth;l=f-bf._documentHeight;bf._windowWidth=m;bf._windowHeight=f;if(((g-a3)<n)||((g-aS)<n)){if(k===0&&(aR&&(l<=-bf.minKeyboardHeight))){bp=true;return}}if(bp&&(k===0)&&(l>=bf.minKeyboardHeight)){bp=false;aS=new Date()}if(bp){return}bf._viewportWidth=m;bf._viewportHeight=f},parseBox:function(k){k=k||0;var g=typeof k,f,l;if(g==="number"){return{top:k,right:k,bottom:k,left:k}}else{if(g!=="string"){return k}}f=k.split(" ");l=f.length;if(l===1){f[1]=f[2]=f[3]=f[0]}else{if(l===2){f[2]=f[0];f[3]=f[1]}else{if(l===3){f[3]=f[1]}}}return{top:parseFloat(f[0])||0,right:parseFloat(f[1])||0,bottom:parseFloat(f[2])||0,left:parseFloat(f[3])||0}},parseStyles:function(k){var g={},f;if(k){aA.lastIndex=0;while((f=aA.exec(k))){g[f[1]]=f[2]||""}}return g},select:function(g,f,k){return Ext.fly(k||ba).select(g,f)},query:function(k,g,f){return Ext.fly(f||ba).query(k,g)},unitizeBox:function(g,f){var k=this;g=k.parseBox(g);return k.addUnits(g.top,f)+" "+k.addUnits(g.right,f)+" "+k.addUnits(g.bottom,f)+" "+k.addUnits(g.left,f)},unmaskIframes:function(){var f=document.getElementsByTagName("iframe");Ext.each(f,function(g){Ext.fly(g.parentNode).unmask()})},serializeForm:function(g){var x=g.elements||(ba.forms[g]||Ext.getDom(g)).elements,n=false,o=encodeURIComponent,u="",v=x.length,t,m,p,f,l,s,w,q,k;for(s=0;s<v;s++){t=x[s];m=t.name;p=t.type;f=t.options;if(!t.disabled&&m){if(/select-(one|multiple)/i.test(p)){q=f.length;for(w=0;w<q;w++){k=f[w];if(k.selected){l=k.hasAttribute("value");u+=Ext.String.format("{0}={1}&",o(m),o(l?k.value:k.text))}}}else{if(!(/file|undefined|reset|button/i.test(p))){if(!(/radio|checkbox/i.test(p)&&!t.checked)&&!(p=="submit"&&n)){u+=o(m)+"="+o(t.value)+"&";n=/submit/i.test(p)}}}}}return u.substr(0,u.length-1)},getCommonAncestor:function(g,k,f){bn=bn||new Ext.dom.Fly();bn.attach(Ext.getDom(g));while(!bn.isAncestor(k)){if(bn.dom.parentNode){bn.attach(bn.dom.parentNode)}else{bn.attach(ba.body);break}}return f?bn.dom:Ext.get(bn)}},addCls:function(o,q,m){var n=this,f=n.getData(),l,u,k,g,t,p,s;if(!o){return n}if(!f.isSynchronized){n.synchronize()}u=n.dom;k=f.classMap;g=f.classList;q=q?q+aU:"";m=m?aU+m:"";if(typeof o==="string"){o=o.split(ay)}for(t=0,p=o.length;t<p;t++){s=o[t];if(s){s=q+s+m;if(!k[s]){k[s]=true;g.push(s);l=true}}}if(l){u.className=g.join(" ")}return n},addClsOnClick:function(m,f,n){var k=this,g=k.dom,l=Ext.isFunction(f);k.on("mousedown",function(){if(l&&f.call(n||k,k)===false){return false}Ext.fly(g).addCls(m);var o=Ext.getDoc(),p=function(){Ext.fly(g).removeCls(m);o.removeListener("mouseup",p)};o.on("mouseup",p)});return k},addClsOnFocus:function(m,f,n){var k=this,g=k.dom,l=Ext.isFunction(f);k.on("focus",function(){if(l&&f.call(n||k,k)===false){return false}Ext.fly(g).addCls(m)});k.on("blur",function(){Ext.fly(g).removeCls(m)});return k},addClsOnOver:function(m,f,n){var k=this,g=k.dom,l=Ext.isFunction(f);k.hover(function(){if(l&&f.call(n||k,k)===false){return}Ext.fly(g).addCls(m)},function(){Ext.fly(g).removeCls(m)});return k},addStyles:function(k,m){var o=0,f=(k||"").match(aY),g,n=f.length,l,p=[];if(n===1){o=Math.abs(parseFloat(this.getStyle(m[f[0]]))||0)}else{if(n){for(g=0;g<n;g++){l=f[g];p.push(m[l])}p=this.getStyle(p);for(g=0;g<n;g++){l=f[g];o+=parseFloat(p[m[l]])||0}}}return o},addUnits:function(g,f){return bf.addUnits(g,f)},adjustDirect2DDimension:function(g){var m=this,k=m.dom,p=m.getStyle("display"),q=k.style.display,l=k.style.position,n=g===bm?0:1,o=k.currentStyle,f;if(p==="inline"){k.style.display="inline-block"}k.style.position=p.match(aB)?"absolute":"static";f=(parseFloat(o[g])||parseFloat(o.msTransformOrigin.split(" ")[n])*2)%1;k.style.position=l;if(p==="inline"){k.style.display=q}return f},animate:function(f){f=new Ext.fx.Animation(f);f.setElement(this);this._activeAnimation=f;f.on({animationend:this._onAnimationEnd,scope:this});Ext.Animator.run(f);return f},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(l,m){var g=this,k,n,f;if(l.nodeType||l.dom||typeof l==="string"){l=Ext.getDom(l);g.dom.appendChild(l);return !m?Ext.get(l):l}else{if(l.length){k=Ext.fly(ba.createDocumentFragment());n=l.length;for(f=0;f<n;f++){k.appendChild(l[f],m)}l=Ext.Array.toArray(k.dom.childNodes);g.dom.appendChild(k.dom);return m?l:new Ext.dom.CompositeElementLite(l)}else{return g.createChild(l,null,m)}}},appendTo:function(f){Ext.getDom(f).appendChild(this.dom);return this},applyStyles:function(f){if(f){if(typeof f==="function"){f=f.call()}if(typeof f==="string"){f=bf.parseStyles(f)}if(typeof f==="object"){this.setStyle(f)}}return this},blur:function(){var k=this,f=k.dom;if(f!==ba.body){try{f.blur()}catch(g){}return k}else{return k.focus(undefined,f)}},cacheScrollValues:function(){var g=this,f=[],l=[],k,n,o,m;aH=aH||new Ext.dom.Fly();k=g.query("*");for(o=0,m=k.length;o<m;o++){n=k[o];if(n.scrollTop>0||n.scrollLeft!==0){l.push(n);f.push(aH.attach(n).getScroll())}}return function(){var q,p,s;for(p=0,s=l.length;p<s;p++){q=f[p];aH.attach(l[p]);aH.setScrollLeft(q.left);aH.setScrollTop(q.top)}}},center:function(f){return this.alignTo(f||ba,"c-c")},child:function(k,l){var g=this,f=Ext.get(g).id;return g.selectNode(Ext.makeIdSelector(f)+" > "+k,!!l)},clone:function(g,k){var f=this.dom.cloneNode(g);if(Ext.supports.CloneNodeCopiesExpando){az(f,g)}return k?f:Ext.get(f)},constrainScrollLeft:function(f){var g=this.dom;return Math.max(Math.min(f,g.scrollWidth-g.clientWidth),0)},constrainScrollTop:function(f){var g=this.dom;return Math.max(Math.min(f,g.scrollHeight-g.clientHeight),0)},createChild:function(k,g,f){k=k||{tag:"div"};if(g){return Ext.DomHelper.insertBefore(g,k,f!==true)}else{return Ext.DomHelper.append(this.dom,k,f!==true)}},contains:function(g){if(!g){return false}var k=this,f=Ext.getDom(g);return(f===k.dom)||k.isAncestor(f)},destroy:function(){var f=this,g=f.dom;if(g&&g.parentNode){g.parentNode.removeChild(g)}f.collect()},detach:function(){var f=this.dom;if(f&&f.parentNode&&f.tagName!=="BODY"){f.parentNode.removeChild(f)}return this},disableShadow:function(){var f=this.shadow;if(f){f.hide();f.disabled=true}},disableShim:function(){var f=this.shim;if(f){f.hide();f.disabled=true}},doReplaceWith:function(f){var g=this.dom;g.parentNode.replaceChild(Ext.getDom(f),g)},doScrollIntoView:function(t,v,k,u,m,p){aH=aH||new Ext.dom.Fly();var o=this,s=o.dom,l=aH.attach(t)[m](),n=t.scrollTop,q=o.getScrollIntoViewXY(t,l,n),f=q.x,g=q.y;if(u){if(k){k=Ext.apply({listeners:{afteranimate:function(){aH.attach(s).highlight()}}},k)}else{aH.attach(s).highlight()}}if(g!==n){aH.attach(t).scrollTo("top",g,k)}if(v!==false&&(f!==l)){aH.attach(t)[p]("left",f,k)}return o},down:function(f,g){return this.selectNode(f,!!g)},enableShadow:function(m,l){var k=this,f=k.shadow||(k.shadow=new Ext.dom.Shadow(Ext.apply({target:k},m))),g=k.shim;if(g){g.offsets=f.outerOffsets;g.shadow=f;f.shim=g}if(l===true||(l!==false&&k.isVisible())){f.show()}else{f.hide()}f.disabled=false},enableShim:function(m,l){var k=this,f=k.shim||(k.shim=new Ext.dom.Shim(Ext.apply({target:k},m))),g=k.shadow;if(g){f.offsets=g.outerOffsets;f.shadow=g;g.shim=f}if(l===true||(l!==false&&k.isVisible())){f.show()}else{f.hide()}f.disabled=false;return f},findParent:function(l,o,n){var k=this,g=k.dom,m=bs,f=0;if(o||o===0){if(typeof o!=="number"){m=Ext.getDom(o);o=Number.MAX_VALUE}}else{o=50}while(g&&g.nodeType===1&&f<o&&g!==m){if(Ext.fly(g).is(l)){return n?Ext.get(g):g}f++;g=g.parentNode}return null},findParentNode:function(f,l,k){var g=Ext.fly(this.dom.parentNode);return g?g.findParent(f,l,k):null},first:function(f,g){return this.matchNode("nextSibling","firstChild",f,g)},focus:function(g,k){var f=this;k=k||f.dom;if(Number(g)){Ext.defer(f.focus,g,f,[null,k])}else{Ext.GlobalEvents.fireEvent("beforefocus",k);k.focus()}return f},collect:function(){var k=this,l=k.dom,f=k.shadow,g=k.shim;if(!k.isFly){k.mixins.observable.destroy.call(k);delete Ext.cache[k.id];k.el=null}if(l){l._extData=k.dom=null}if(f){f.hide();k.shadow=null}if(g){g.hide();k.shim=null}},getAnchorToXY:function(f,k,g,l){return f.getAnchorXY(k,g,l)},getAttribute:function(g,k){var f=this.dom;return k?(f.getAttributeNS(k,g)||f.getAttribute(k+":"+g)):(f.getAttribute(g)||f[g]||null)},getAttributes:function(){var g=this.dom.attributes,l={},m,f,k;for(f=0,k=g.length;f<k;f++){m=g[f];l[m.name]=m.value}return l},getBottom:function(f){return(f?this.getLocalY():this.getY())+this.getHeight()},getById:function(g,f){var k=ba.getElementById(g)||this.dom.querySelector(Ext.makeIdSelector(g));return f?k:(k?Ext.get(k):null)},getBorderPadding:function(){var f=this.getStyle(aF),g=this.getStyle(bo);return{beforeX:(parseFloat(g[a0.l])||0)+(parseFloat(f[aQ.l])||0),afterX:(parseFloat(g[a0.r])||0)+(parseFloat(f[aQ.r])||0),beforeY:(parseFloat(g[a0.t])||0)+(parseFloat(f[aQ.t])||0),afterY:(parseFloat(g[a0.b])||0)+(parseFloat(f[aQ.b])||0)}},getBorders:function(){var f=this.getStyle(bo);return{beforeX:(parseFloat(f[a0.l])||0),afterX:(parseFloat(f[a0.r])||0),beforeY:(parseFloat(f[a0.t])||0),afterY:(parseFloat(f[a0.b])||0)}},getBorderWidth:function(f){return this.addStyles(f,a0)},getData:function(g){var f=this.dom,k;if(f){k=f._extData;if(!k&&!g){f._extData=k={}}}return k},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(l,o){var n=this,f=n.dom,g=n.isStyle("display","none"),m,k;if(g){return 0}if(f.nodeName==="BODY"){m=bf.getViewportHeight()}else{m=f.offsetHeight;if(m==null){m=f.getBoundingClientRect().height}}if(Ext.supports.Direct2DBug){k=n.adjustDirect2DDimension(be);if(o){m+=k}else{if(k>0&&k<0.5){m++}}}if(l){m-=n.getBorderWidth("tb")+n.getPadding("tb")}return(m<0)?0:m},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(f){return f?this.getLocalX():this.getX()},getLocalX:function(){var g=this,k,f=g.getStyle("left");if(!f||f==="auto"){f=0}else{if(a9.test(f)){f=parseFloat(f)}else{f=g.getX();k=g.dom.offsetParent;if(k){f-=Ext.fly(k).getX()}}}return f},getLocalXY:function(){var g=this,l,m=g.getStyle(["left","top"]),k=m.left,f=m.top;if(!k||k==="auto"){k=0}else{if(a9.test(k)){k=parseFloat(k)}else{k=g.getX();l=g.dom.offsetParent;if(l){k-=Ext.fly(l).getX()}}}if(!f||f==="auto"){f=0}else{if(a9.test(f)){f=parseFloat(f)}else{f=g.getY();l=g.dom.offsetParent;if(l){f-=Ext.fly(l).getY()}}}return[k,f]},getLocalY:function(){var k=this,g,f=k.getStyle("top");if(!f||f==="auto"){f=0}else{if(a9.test(f)){f=parseFloat(f)}else{f=k.getY();g=k.dom.offsetParent;if(g){f-=Ext.fly(g).getY()}}}return f},getMargin:(function(){var g={t:"top",l:"left",r:"right",b:"bottom"},f=["margin-top","margin-left","margin-right","margin-bottom"];return function(n){var k=this,l,o,m;if(!n){l=k.getStyle(f);m={};if(l&&typeof l==="object"){m={};for(o in bi){m[o]=m[g[o]]=parseFloat(l[bi[o]])||0}}}else{m=k.addStyles(n,bi)}return m}})(),getPadding:function(f){return this.addStyles(f,aQ)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(f){return(f?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var m=this,f=m.dom,n=bs,g,k,l=ba.body;if(f===ba||f===l){g=n.scrollLeft||(l?l.scrollLeft:0);k=n.scrollTop||(l?l.scrollTop:0)}else{g=f.scrollLeft;k=f.scrollTop}return{left:g,top:k}},getScrollIntoViewXY:function(k,s,u){var n=this.dom,t=Ext.getDom(k),q=this.getOffsetsTo(t),v=n.offsetWidth,y=n.offsetHeight,A=q[0]+s,z=q[1]+u,l=z+y,g=A+v,x=t.clientHeight,p=t.clientWidth,m=s,w=u,o=w+x,f=m+p;if(y>x||z<w){u=z}else{if(l>o){u=l-x}}if(v>p||A<m){s=A}else{if(g>f){s=g-p}}return{x:s,y:u}},getScrollLeft:function(){var f=this.dom;if(f===ba||f===ba.body){return this.getScroll().left}else{return f.scrollLeft}},getScrollTop:function(){var f=this.dom;if(f===ba||f===ba.body){return this.getScroll().top}else{return f.scrollTop}},getSize:function(f){return{width:this.getWidth(f),height:this.getHeight(f)}},getStyle:function(o,u){var t=this,g=t.dom,f=typeof o!=="string",n=t.styleHooks,m=o,s=m,v=1,x,l,p,q,k,w,y;if(f){p={};m=s[0];y=0;if(!(v=s.length)){return p}}if(!g||g.documentElement){return p||""}x=g.style;if(u){w=x}else{w=g.ownerDocument.defaultView.getComputedStyle(g,null);if(!w){u=true;w=x}}do{q=n[m];if(!q){n[m]=q={name:bf.normalize(m)}}if(q.get){k=q.get(g,t,u,w)}else{l=q.name;k=w[l]}if(!f){return k}p[m]=k;m=s[++y]}while(y<v);return p},getStyleValue:function(f){return this.dom.style.getPropertyValue(f)},getTop:function(f){return f?this.getLocalY():this.getY()},getTouchAction:function(){return Ext.dom.TouchAction.get(this.dom)},getValue:function(g){var f=this.dom.value;return g?parseInt(f,10):f},getViewSize:function(){var f=this.dom;if(f===ba||f===ba.body){return{width:bf.getViewportWidth(),height:bf.getViewportHeight()}}else{return{width:f.clientWidth,height:f.clientHeight}}},getVisibilityMode:function(){var g=this,k=g.getData(),f=k.visibilityMode;if(f===undefined){k.visibilityMode=f=bf.DISPLAY}return f},getWidth:function(o,f){var m=this,l=m.dom,k=m.isStyle("display","none"),n,p,g;if(k){return 0}if(Ext.supports.BoundingClientRect){n=l.getBoundingClientRect();p=(m.vertical&&!Ext.supports.RotatedBoundingClientRect)?(n.bottom-n.top):(n.right-n.left);p=f?p:Math.ceil(p)}else{p=l.offsetWidth}if(Ext.supports.Direct2DBug&&!m.vertical){g=m.adjustDirect2DDimension(bm);if(f){p+=g}else{if(g>0&&g<0.5){p++}}}if(o){p-=m.getBorderWidth("lr")+m.getPadding("lr")}return(p<0)?0:p},getX:function(){return this.getXY()[0]},getXY:function(){var o=Math.round,m=this.dom,p=ba.body,n=0,k=0,g,f;if(m!==ba&&m!==p){try{g=p.getBoundingClientRect();f=m.getBoundingClientRect();n=f.left-g.left;k=f.top-g.top}catch(l){}}return[o(n),o(k)]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},hasCls:function(f){var g=this.getData();if(!g.isSynchronized){this.synchronize()}return g.classMap.hasOwnProperty(f)},hide:function(){this.setVisible(false);return this},insertAfter:function(f){f=Ext.getDom(f);f.parentNode.insertBefore(this.dom,f.nextSibling);return this},insertBefore:function(f){f=Ext.getDom(f);f.parentNode.insertBefore(this.dom,f);return this},insertFirst:function(g,f){g=g||{};if(g.nodeType||g.dom||typeof g==="string"){g=Ext.getDom(g);this.dom.insertBefore(g,this.dom.firstChild);return !f?Ext.get(g):g}else{return this.createChild(g,this.dom.firstChild,f)}},insertHtml:function(l,k,g){var f=Ext.DomHelper.insertHtml(l,this.dom,k);return g?Ext.get(f):f},insertSibling:function(g,q,n){var o=this,m=Ext.DomHelper,l=(q||"before").toLowerCase()==="after",s,k,f,p;if(Ext.isIterable(g)){f=g.length;k=Ext.fly(ba.createDocumentFragment());if(Ext.isArray(g)){for(p=0;p<f;p++){s=k.appendChild(g[p],n)}}else{for(p=0;p<f;p++){k.dom.appendChild(s=g[0])}if(n===false){s=Ext.get(s)}}o.dom.parentNode.insertBefore(k.dom,l?o.dom.nextSibling:o.dom);return s}g=g||{};if(g.nodeType||g.dom){s=o.dom.parentNode.insertBefore(Ext.getDom(g),l?o.dom.nextSibling:o.dom);if(!n){s=Ext.get(s)}}else{if(l&&!o.dom.nextSibling){s=m.append(o.dom.parentNode,g,!n)}else{s=m[l?"insertAfter":"insertBefore"](o.dom,g,!n)}}return s},is:function(g){var f=this.dom,k;if(!g){k=true}else{if(!f.tagName){k=false}else{if(Ext.isFunction(g)){k=g(f)}else{k=f[Ext.supports.matchesSelector](g)}}}return k},isAncestor:function(l){var k=false,g=this.dom,f=Ext.getDom(l);if(g&&f){if(g.contains){return g.contains(f)}else{if(g.compareDocumentPosition){return !!(g.compareDocumentPosition(f)&16)}else{while((f=f.parentNode)){k=f===g||k}}}}return k},isPainted:(function(){return !Ext.browser.is.IE?function(){var f=this.dom;return Boolean(f&&f.offsetParent)}:function(){var f=this.dom;return Boolean(f&&(f.offsetHeight!==0&&f.offsetWidth!==0))}})(),isScrollable:function(){var f=this.dom;return f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth},isStyle:function(f,g){return this.getStyle(f)===g},isVisible:function(k){var g=this.dom,f;if(!g){return false}if(!aV){aV=new Ext.dom.Fly()}for(f=g.ownerDocument.documentElement;g!==f;g=g.parentNode){if(!g||g.nodeType===11||(aV.attach(g)).isStyle(bk,aL)||aV.isStyle(bt,a2)){return false}if(!k){break}}return true},last:function(f,g){return this.matchNode("previousSibling","lastChild",f,g)},matchNode:function(n,f,m,l){var k=this.dom,g;if(!k){return null}g=k[f];while(g){if(g.nodeType===1&&(!m||Ext.fly(g,"_matchNode").is(m))){return !l?Ext.get(g):g}g=g[n]}return null},monitorMouseLeave:function(m,k,l){var g=this,f,n={mouseleave:function(o){if(Ext.isIE9m){o.enableIEAsync()}f=Ext.defer(k,m,l||g,[o])},mouseenter:function(){clearTimeout(f)},destroy:function(){clearTimeout(f);g.un(n)}};g.on(n);return n},next:function(f,g){return this.matchNode("nextSibling","nextSibling",f,g)},parent:function(f,g){return this.matchNode("parentNode","parentNode",f,g)},position:function(f,g,l,k){var m=this;if(m.dom.tagName!=="BODY"){if(!f&&m.isStyle(aX,a6)){m.setStyle(aX,a8)}else{if(f){m.setStyle(aX,f)}}if(g){m.setStyle(bh,g)}if(l||k){m.setXY([l||false,k||false])}}},prev:function(f,g){return this.matchNode("previousSibling","previousSibling",f,g)},query:function(g,l,n){var t=this.dom,p,o,m,k,q,s,f;if(!t){return null}l=(l!==false);g=g.split(",");if(!n){p=[]}for(s=0,o=g.length;s<o;s++){if(typeof g[s]==="string"){if(n){k=t.querySelector(g[s]);return l?k:Ext.get(k)}q=t.querySelectorAll(g[s]);for(f=0,m=q.length;f<m;f++){p.push(l?q[f]:Ext.get(q[f]))}}}return p},radioCls:function(g){var f=this.dom.parentNode.childNodes,m;g=Ext.isArray(g)?g:[g];for(var l=0,k=f.length;l<k;l++){m=f[l];if(m&&m.nodeType===1){Ext.fly(m).removeCls(g)}}return this.addCls(g)},redraw:function(){var g=this.dom,f=g.style;f.display="none";g.offsetHeight;f.display=""},remove:function(){this.destroy()},removeChild:function(f){this.dom.removeChild(Ext.getDom(f));return this},removeCls:function(o,q,m){var n=this,f=n.getData(),l,u,k,g,t,p,s;if(!o){return n}if(!f.isSynchronized){n.synchronize()}u=n.dom;k=f.classMap;g=f.classList;q=q?q+aU:"";m=m?aU+m:"";if(typeof o==="string"){o=o.split(ay)}for(t=0,p=o.length;t<p;t++){s=o[t];if(s){s=q+s+m;if(k[s]){delete k[s];Ext.Array.remove(g,s);l=true}}}if(l){u.className=g.join(" ")}return n},repaint:function(){var f=this;f.addCls("x-repaint");Ext.defer(function(){if(f.dom){Ext.fly(f.dom).removeCls("x-repaint")}},1);return f},replace:function(l,m){l=Ext.getDom(l);var k=l.parentNode,f=l.id,g=this.dom;if(m!==false&&f&&Ext.cache[f]){k.insertBefore(g,l);Ext.get(l).destroy()}else{k.replaceChild(g,l)}return this},replaceCls:function(g,o,q,l){var n=this,u,k,f,s,p,t,v=n.getData(),m;if(!g&&!o){return n}g=g||[];o=o||[];if(!v.isSynchronized){n.synchronize()}if(!l){l=""}u=n.dom;k=v.classMap;f=v.classList;q=q?q+aU:"";l=l?aU+l:"";if(typeof g==="string"){g=g.split(ay)}if(typeof o==="string"){o=o.split(ay)}for(s=0,p=g.length;s<p;s++){t=q+g[s]+l;if(k[t]){delete k[t];m=true}}for(s=0,p=o.length;s<p;s++){t=q+o[s]+l;if(!k[t]){k[t]=true;m=true}}if(m){v.classList=f=Ext.Object.getKeys(k);u.className=f.join(" ")}return n},replaceWith:function(k){var g=this,f=g.dom,m=f.parentNode,l=Ext.cache,n;g.clearListeners();if(k.nodeType||k.dom||typeof k==="string"){k=Ext.get(k);n=m.insertBefore(k.dom,f)}else{n=Ext.DomHelper.insertBefore(f,k)}m.removeChild(f);g.dom=n;if(!g.isFly){delete l[g.id];l[g.id=Ext.id(n)]=g}return g},resolveListenerScope:function(g){var f=this.component;return f?f.resolveListenerScope(g):this},scroll:function(l,o,g){if(!this.isScrollable()){return false}l=l.charAt(0);var m=this,q=m.dom,n=l==="r"||l==="l"?"left":"top",k=false,f,p;if(l==="l"||l==="t"||l==="u"){o=-o}if(n==="left"){f=q.scrollLeft;p=m.constrainScrollLeft(f+o)}else{f=q.scrollTop;p=m.constrainScrollTop(f+o)}if(p!==f){this.scrollTo(n,p,g);k=true}return k},scrollBy:function(m,l,k){var g=this,f=g.dom;if(m.length){k=l;l=m[1];m=m[0]}else{if(typeof m!="number"){k=l;l=m.y;m=m.x}}if(m){g.scrollTo("left",g.constrainScrollLeft(f.scrollLeft+m),k)}if(l){g.scrollTo("top",g.constrainScrollTop(f.scrollTop+l),k)}return g},scrollChildIntoView:function(g,f){Ext.fly(g).scrollIntoView(this,f)},scrollIntoView:function(k,f,g,l){k=Ext.getDom(k)||Ext.getBody().dom;return this.doScrollIntoView(k,f,g,l,"getScrollLeft","scrollTo")},scrollTo:function(o,k,n){var f=bu.test(o),m=this,g=f?"scrollTop":"scrollLeft",l=m.dom,p;if(!n||!m.anim){l[g]=k;l[g]=k}else{p={to:{}};p.to[g]=k;if(Ext.isObject(n)){Ext.applyIf(p,n)}m.animate(p)}return m},select:function(l,f){var k,g;if(typeof l==="string"){g=this.query(l,!f)}else{g=l;k=true}return f?new Ext.CompositeElement(g,!k):new Ext.CompositeElementLite(g,true)},selectNode:function(g,f){return this.query(g,f,true)},set:function(m,n){var k=this,f=k.dom,l,g;for(l in m){if(m.hasOwnProperty(l)){g=m[l];if(l==="style"){k.applyStyles(g)}else{if(l==="cls"){f.className=g}else{if(n!==false){if(g===undefined){f.removeAttribute(l)}else{f.setAttribute(l,g)}}else{f[l]=g}}}}}return k},setBottom:function(f){this.dom.style[aw]=bf.addUnits(f);return this},setCls:function(m){var f=this,o=f.getData(),p,k,n,l,g;if(!o.isSynchronized){f.synchronize()}if(typeof m==="string"){m=m.split(ay)}o.classList=g=m.slice();o.classMap=l={};for(p=0,k=g.length;p<k;p++){l[g[p]]=true}f.dom.className=g.join(" ")},setDisplayed:function(g){var f=this;if(typeof g==="boolean"){g=g?f._getDisplay():a2}f.setStyle(bt,g);if(f.shadow||f.shim){f.setUnderlaysVisible(g!==a2)}return f},setHeight:function(f){var g=this;g.dom.style[be]=bf.addUnits(f);if(g.shadow||g.shim){g.syncUnderlays()}return g},setHtml:function(f){if(this.dom){this.dom.innerHTML=f}return this},setId:function(f){var k=this,g=k.id,l=Ext.cache;if(g){delete l[g]}k.dom.id=f;k.id=f;l[f]=k;return k},setLeft:function(g){var f=this;f.dom.style[aE]=bf.addUnits(g);if(f.shadow||f.shim){f.syncUnderlays()}return f},setLocalX:function(g){var f=this,k=f.dom.style;k.right="auto";k.left=(g===null)?"auto":g+"px";if(f.shadow||f.shim){f.syncUnderlays()}return f},setLocalXY:function(k,f){var g=this,l=g.dom.style;l.right="auto";if(k&&k.length){f=k[1];k=k[0]}if(k===null){l.left="auto"}else{if(k!==undefined){l.left=k+"px"}}if(f===null){l.top="auto"}else{if(f!==undefined){l.top=f+"px"}}if(g.shadow||g.shim){g.syncUnderlays()}return g},setLocalY:function(g){var f=this;f.dom.style.top=(g===null)?"auto":g+"px";if(f.shadow||f.shim){f.syncUnderlays()}return f},setMargin:function(g){var k=this,f=k.dom.style;if(g||g===0){g=k.self.unitizeBox((g===true)?5:g);f.setProperty("margin",g,"important")}else{f.removeProperty("margin-top");f.removeProperty("margin-right");f.removeProperty("margin-bottom");f.removeProperty("margin-left")}},setMaxHeight:function(f){this.dom.style[aM]=bf.addUnits(f);return this},setMaxWidth:function(f){this.dom.style[bd]=bf.addUnits(f);return this},setMinHeight:function(f){this.dom.style[bq]=bf.addUnits(f);return this},setMinWidth:function(f){this.dom.style[aO]=bf.addUnits(f);return this},setOpacity:function(f){var g=this;if(g.dom){g.setStyle("opacity",f)}return g},setPadding:function(g){var k=this,f=k.dom.style;if(g||g===0){g=k.self.unitizeBox((g===true)?5:g);f.setProperty("padding",g,"important")}else{f.removeProperty("padding-top");f.removeProperty("padding-right");f.removeProperty("padding-bottom");f.removeProperty("padding-left")}},setRight:function(f){this.dom.style[aG]=bf.addUnits(f);return this},setScrollLeft:function(f){this.dom.scrollLeft=f;return this},setScrollTop:function(f){this.dom.scrollTop=f;return this},setSize:function(k,g){var f=this,l=f.dom.style;if(Ext.isObject(k)){g=k.height;k=k.width}l.width=bf.addUnits(k);l.height=bf.addUnits(g);if(f.shadow||f.shim){f.syncUnderlays()}return f},setSizeState:function(k){var l=this,f,g;if(k===true){f=aP;g=[av,aD]}else{if(k===false){f=av;g=[aP,aD]}else{if(k===null){f=aD;g=[aP,av]}else{g=[aP,av,aD]}}}if(f){l.addCls(f)}l.removeCls(g);return l},setStyle:function(k,f){var m=this,l=m.dom,o=m.styleHooks,n=l.style,p=k,g;if(typeof p==="string"){g=o[p];if(!g){o[p]=g={name:bf.normalize(p)}}f=(f==null)?"":f;if(g.set){g.set(l,f,m)}else{n[g.name]=f}if(g.afterSet){g.afterSet(l,f,m)}}else{for(p in k){if(k.hasOwnProperty(p)){g=o[p];if(!g){o[p]=g={name:bf.normalize(p)}}f=k[p];f=(f==null)?"":f;if(g.set){g.set(l,f,m)}else{n[g.name]=f}if(g.afterSet){g.afterSet(l,f,m)}}}}return m},setText:function(f){this.dom.textContent=f},setTop:function(g){var f=this;f.dom.style[a5]=bf.addUnits(g);if(f.shadow||f.shim){f.syncUnderlays()}return f},setTouchAction:function(f){Ext.dom.TouchAction.set(this.dom,f)},setUnderlaysVisible:function(g){var f=this.shadow,k=this.shim;if(f&&!f.disabled){if(g){f.show()}else{f.hide()}}if(k&&!k.disabled){if(g){k.show()}else{k.hide()}}},setVisibility:function(f){var g=this.dom.style;if(f){g.removeProperty("visibility")}else{g.setProperty("visibility","hidden","important")}},setVisibilityMode:function(f){this.getData().visibilityMode=f;return this},setVisible:function(k){var g=this,l=g.getVisibilityMode(),f=k?"removeCls":"addCls";switch(l){case bf.DISPLAY:g.removeCls([aJ,bj,bw]);g[f](aN);break;case bf.VISIBILITY:g.removeCls([aN,bj,bw]);g[f](aJ);break;case bf.OFFSETS:g.removeCls([aJ,aN,bw]);g[f](bj);break;case bf.CLIP:g.removeCls([aJ,aN,bj]);g[f](bw);break}if(g.shadow||g.shim){g.setUnderlaysVisible(k)}return g},setWidth:function(f){var g=this;g.dom.style[bm]=bf.addUnits(f);if(g.shadow||g.shim){g.syncUnderlays()}return g},setX:function(f){return this.setXY([f,false])},setXY:function(l){var m=this,g=m.translatePoints(l),k=m.dom.style,f;m.position();k.right="auto";for(f in g){if(!isNaN(g[f])){k[f]=g[f]+"px"}}if(m.shadow||m.shim){m.syncUnderlays()}return m},setY:function(f){return this.setXY([false,f])},setZIndex:function(f){var g=this;if(g.shadow){g.shadow.setZIndex(f)}if(g.shim){g.shim.setZIndex(f)}return g.setStyle("z-index",f)},show:function(){this.setVisible(true);return this},swapCls:function(o,l,n,g){if(n===undefined){n=true}var k=this,f=n?o:l,m=n?l:o;if(m){k.removeCls(g?g+"-"+m:m)}if(f){k.addCls(g?g+"-"+f:f)}return k},synchronize:function(){var m=this,f=m.dom,l={},n=f.className,k,q,p,o,g=m.getData();if(n&&n.length>0){k=f.className.split(aK);for(q=0,p=k.length;q<p;q++){o=k[q];l[o]=true}}else{k=[]}g.classList=k;g.classMap=l;g.isSynchronized=true;return m},syncUnderlays:function(){var f=this,m=f.shadow,o=f.shim,k=f.dom,l,p,q,n,g;if(f.isVisible()){l=f.getXY();p=l[0];q=l[1];n=k.offsetWidth;g=k.offsetHeight;if(m&&!m.hidden){m.realign(p,q,n,g)}if(o&&!o.hidden){o.realign(p,q,n,g)}}},toggleCls:function(f,g){if(typeof g!=="boolean"){g=!this.hasCls(f)}return g?this.addCls(f):this.removeCls(f)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(){var f="webkitTransform" in ba.createElement("div").style?"webkitTransform":"transform";return function(l,g,k){l=Math.round(l);g=Math.round(g);k=Math.round(k);this.dom.style[f]="translate3d("+(l||0)+"px, "+(g||0)+"px, "+(k||0)+"px)"}}(),unwrap:function(){var m=this.dom,p=m.parentNode,l,f=Ext.fly(Ext.Element.getActiveElement()),k,o,g,n;k=Ext.cache[f.id];if(k){f=k}if(this.contains(f)){if(k){k.suspendFocusEvents()}o=true}if(p){l=p.parentNode;if(o){n=l.getAttribute("tabIndex");g=Ext.fly(l);g.set({tabIndex:-1});g.suspendFocusEvents();g.focus()}l.insertBefore(m,p);l.removeChild(p)}else{l=ba.createDocumentFragment();l.appendChild(m)}if(o){if(k){k.focus();k.resumeFocusEvents()}else{Ext.fly(f).focus()}if(g){g.resumeFocusEvents();g.set({tabIndex:n})}}return this},up:function(g,f,k){return this.findParentNode(g,f,!k)},update:function(f){return this.setHtml(f)},wrap:function(f,l,p){var m=this,o=m.dom,s=Ext.DomHelper.insertBefore(o,f||{tag:"div"},!l),n=s,g=Ext.Element.getActiveElement(),t,k,q;t=Ext.cache[g.id];if(t){g=t}if(p){n=s.selectNode(p,l)}if(m.contains(g)){if(t){t.suspendFocusEvents()}q=s.dom.getAttribute("tabIndex");s.set({tabIndex:-1});s.suspendFocusEvents();s.focus();k=true}n.appendChild(o);if(k){if(t){t.focus();t.resumeFocusEvents()}else{Ext.fly(g).focus()}s.resumeFocusEvents();s.set({tabIndex:q})}return s},privates:{doAddListener:function(u,p,n,f,g,m,y){var q=this,o=Ext.$gesturePublisher,t=u,l=Ext.supports,w=l.TouchEvents,k=l.PointerEvents,x,v,s;u=Ext.canonicalEventName(u);if(!q.blockedEvents[u]){x=q.mixins.observable.doAddListener;f=f||{};if(bf.useDelegatedEvents===false){f.delegated=f.delegated||false}if(f.translate!==false){v=q.additiveEvents[u];if(v){f.type=u;u=v;x.call(q,u,p,n,f,g,m,y)}s=q.eventMap[u];if(s){f.type=f.type||u;if(y){f.managedName=t}u=s}}if(x.call(q,u,p,n,f,g,m,y)){if(q.longpressEvents[u]&&(++q.longpressListenerCount===1)){q.on("MSHoldVisual","preventMsHoldVisual",q)}}if(y&&s){delete f.managedName}delete f.type}},doRemoveListener:function(v,o,m){var p=this,n=Ext.$gesturePublisher,l=Ext.supports,t=l.TouchEvents,k=l.PointerEvents,g,q,f,s,u;v=Ext.canonicalEventName(v);if(!p.blockedEvents[v]){g=p.mixins.observable.doRemoveListener;f=p.additiveEvents[v];if(f){v=f;g.call(p,v,o,m)}q=p.eventMap[v];if(q){u=g.call(p,q,o,m)}u=g.call(p,v,o,m)||u;if(u){if(p.longpressEvents[v]&&!--p.longpressListenerCount){p.un("MSHoldVisual","preventMsHoldVisual",p)}}}},_initEvent:function(f){return(this.events[f]=new Ext.dom.ElementEvent(this,f))},_getDisplay:function(){var f=this.getData(),g=f[a1];if(g===undefined){f[a1]=g=""}return g},_getPublisher:function(g){var f=Ext.event.publisher.Publisher,k=f.publishersByEvent[g];if(!k||(this.dom===window&&g==="resize")){k=f.publishers.dom}return k},isFocusSuspended:function(){return !!this.getData().suspendFocusEvents},preventMsHoldVisual:function(f){f.preventDefault()},suspendFocusEvents:function(){if(!this.isFly){this.suspendEvent("focus","blur")}this.getData().suspendFocusEvents=true},resumeFocusEvents:function(){function f(){var g;if(!this.destroyed){g=this.getData();if(g){g.suspendFocusEvents=false}if(!this.isFly){this.resumeEvent("focus","blur")}}}if(!this.destroyed&&this.getData().suspendFocusEvents){if(Ext.isIE){Ext.asap(f,this)}else{f.call(this)}}}},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(g){var s=this,f=s.dom,o=f.nodeName==="BODY",n=o?bf.getViewportWidth():f.offsetWidth,t=o?bf.getViewportHeight():f.offsetHeight,l=s.getXY(),m=l[1],q=l[0]+n,p=l[1]+t,k=l[0];if(g){return new Ext.util.Region(m,q,p,k)}else{return{left:k,top:m,width:n,height:t,right:q,bottom:p}}},getScrollParent:null,isDescendent:null,isTransparent:function(g){var f=this.getStyle(g);return f?bv.test(f):false},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},1,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.dom,"Element",Ext,"Element"],function(U){var at=document,an=at.documentElement,ac=U.prototype,ab=Ext.supports,P="pointerdown",ap="pointermove",ar="pointerup",aq="pointercancel",al="MSPointerDown",aa="MSPointerMove",W="MSPointerUp",au="MSPointerCancel",aj="mousedown",Y="mousemove",ah="mouseup",O="mouseover",Q="mouseout",V="mouseenter",ao="mouseleave",ae="touchstart",ad="touchmove",T="touchend",am="touchcancel",S="click",ai="dblclick",ag="tap",R="doubletap",af=ac.eventMap={},ak=ac.additiveEvents={},X=Ext.id,Z;Ext.id=function(g,k){var l=Ext.getDom(g,true),f,e;if(!l){e=X(g,k)}else{if(!(e=l.id)){e=X(null,k||U.prototype.identifiablePrefix);if(Ext.isSandboxed){f=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-");e=f+e}l.id=e}}return e};if(ab.PointerEvents){af[aj]=P;af[Y]=ap;af[ah]=ar;af[ae]=P;af[ad]=ap;af[T]=ar;af[am]=aq;af[O]="pointerover";af[Q]="pointerout";af[V]="pointerenter";if(!Ext.isIE11){af[ao]="pointerleave"}}else{if(ab.MSPointerEvents){af[P]=al;af[ap]=aa;af[ar]=W;af[aq]=au;af[aj]=al;af[Y]=aa;af[ah]=W;af[ae]=al;af[ad]=aa;af[T]=W;af[am]=au;af[O]="MSPointerOver";af[Q]="MSPointerOut"}else{if(ab.TouchEvents){af[P]=ae;af[ap]=ad;af[ar]=T;af[aq]=am;af[aj]=ae;af[Y]=ad;af[ah]=T;af[S]=ag;af[ai]=R;if(Ext.isWebKit&&Ext.os.is.Desktop){af[ae]=aj;af[ad]=Y;af[T]=ah;af[am]=ah;ak[aj]=aj;ak[Y]=Y;ak[ah]=ah;ak[ae]=ae;ak[ad]=ad;ak[T]=T;ak[am]=am;ak[P]=aj;ak[ap]=Y;ak[ar]=ah;ak[aq]=ah}}else{af[P]=aj;af[ap]=Y;af[ar]=ah;af[aq]=ah;af[ae]=aj;af[ad]=Y;af[T]=ah;af[am]=ah}}}if(Ext.isWebKit){af.transitionend=Ext.browser.getVendorProperyName("transitionEnd");af.animationstart=Ext.browser.getVendorProperyName("animationStart");af.animationend=Ext.browser.getVendorProperyName("animationEnd")}if(!Ext.supports.MouseWheel&&!Ext.isOpera){af.mousewheel="DOMMouseScroll"}Z=ac.$eventOptions=Ext.Object.chain(ac.$eventOptions);Z.translate=Z.capture=Z.delegate=Z.delegated=Z.stopEvent=Z.preventDefault=Z.stopPropagation=Z.element=1;ac.styleHooks.opacity={name:"opacity",afterSet:function(f,g,k){var e=k.shadow;if(e){e.setOpacity(g)}}};ac.getTrueXY=ac.getXY;Ext.select=U.select;Ext.query=U.query;Ext.apply(Ext,{get:function(e){return U.get(e)},getDom:function(e){if(!e||!at){return null}return typeof e==="string"?Ext.getElementById(e):"dom" in e?e.dom:e},getBody:function(){if(!Ext._bodyEl){if(!at.body){throw new Error("[Ext.getBody] document.body does not yet exist")}Ext._bodyEl=Ext.get(at.body)}return Ext._bodyEl},getHead:function(){if(!Ext._headEl){Ext._headEl=Ext.get(at.head||at.getElementsByTagName("head")[0])}return Ext._headEl},getDoc:function(){if(!Ext._docEl){Ext._docEl=Ext.get(at)}return Ext._docEl},getWin:function(){if(!Ext._winEl){Ext._winEl=Ext.get(window)}return Ext._winEl},removeNode:function(f){f=f.dom||f;var e=f&&f.id,g=Ext.cache[e],k;if(g){g.destroy()}else{if(f&&(f.nodeType===3||f.tagName.toUpperCase()!=="BODY")){k=f.parentNode;if(k){k.removeChild(f)}}}}});Ext.isGarbage=function(e){return e&&e.nodeType===1&&e.tagName!=="BODY"&&e.tagName!=="HTML"&&(!e.parentNode||(e.offsetParent===null&&((Ext.isIE8?at.all[e.id]:at.getElementById(e.id))!==e)&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(e))))};if(Ext.os.is.Android||(Ext.os.is.Windows&&Ext.supports.Touch)){Ext.onReady(function(){var e=Ext.getWin();U._documentWidth=U._viewportWidth=an.clientWidth;U._documentHeight=U._viewportHeight=an.clientHeight;e.on({focusin:"_onWindowFocusChange",focusout:"_onWindowFocusChange",pointerup:"_onWindowFocusChange",capture:true,delegated:false,delay:1,scope:U});e.on({resize:"_onWindowResize",priority:2000,scope:U})})}}));(Ext.cmd.derive("Ext.util.Filter",Ext.Base,{isFilter:true,config:{property:null,value:null,filterFn:null,id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,disableOnEmpty:false,operator:null,root:null,serializer:null,convert:null},scope:null,$configStrict:false,statics:{createFilterFn:function(f){if(!f){return Ext.returnTrue}return function(e){var s=f.isCollection?f.items:f,t=s.length,q=true,p,o;for(p=0;q&&p<t;p++){o=s[p];if(!o.getDisabled()){q=o.filter(e)}}return q}},isEqual:function(g,k){if(g.getProperty()!==k.getProperty()){return false}if(g.getOperator()!==k.getOperator()){return false}if(g.getValue()===k.getValue()){return true}else{if(Ext.isArray(g)&&Ext.isArray(k)&&Ext.Array.equals(g,k)){return true}}return false},isInvalid:function(f){if(!f.filterFn){if(!f.property){return"A Filter requires either a property or a filterFn to be set"}if(!f.hasOwnProperty("value")&&!f.operator){return"A Filter requires either a property and value, or a filterFn to be set"}}return false}},constructor:function(f){this.initConfig(f)},preventConvert:{"in":1,notin:1},filter:function(p){var q=this,m=q._filterFn||q.getFilterFn(),n=q.getConvert(),o=q._value;q._filterValue=o;q.isDateValue=Ext.isDate(o);if(q.isDateValue){q.dateValue=o.getTime()}if(n&&!q.preventConvert[q.getOperator()]){q._filterValue=n.call(q.scope||q,o)}return m.call(q.scope||q,p)},getId:function(){var f=this._id;if(!f){f=this.getProperty();if(!f){f=Ext.id(null,"ext-filter-")}this._id=f}return f},getFilterFn:function(){var l=this,k=l._filterFn,m;if(!k){m=l.getOperator();if(m){k=l.operatorFns[m]}else{k=l.createRegexFilter()}l._filterFn=k;l.generatedFilterFn=true}return k},createRegexFilter:function(){var p=this,m=!!p.getAnyMatch(),q=!!p.getExactMatch(),o=p.getValue(),n=Ext.String.createRegex(o,!m,!m&&q,!p.getCaseSensitive());return function(e){var f=p.getPropertyValue(e);return n?n.test(f):(f==null)}},getPropertyValue:function(l){var m=this._root,k=(m==null)?l:l[m];return k[this._property]},getState:function(){var k=this.getInitialConfig(),m={},l;for(l in k){if(k.hasOwnProperty(l)){m[l]=k[l]}}delete m.root;m.value=this.getValue();return m},getScope:function(){return this.scope},serialize:function(){var m=this.getState(),l=this.getSerializer(),k;delete m.id;delete m.serializer;if(l){k=l.call(this,m);if(k){m=k}}return m},updateOperator:function(){if(this.generatedFilterFn){this._filterFn=null}},updateValue:function(f){if(this.generatedFilterFn){this._filterFn=null}if(this.getDisableOnEmpty()){this.setDisabled(Ext.isEmpty(f))}},updateFilterFn:function(f){delete this.generatedFilterFn},updateDisableOnEmpty:function(f){if(f){this.setDisabled(Ext.isEmpty(this.getValue()))}},privates:{getCandidateValue:function(q,s,o){var p=this,n=p._convert,t=p.getPropertyValue(q);if(n){t=n.call(p.scope||p,t)}else{if(!o){t=Ext.coerce(t,s)}}return t}}},1,0,0,0,0,0,[Ext.util,"Filter"],function(){var k=this.prototype,g=(k.operatorFns={"<":function(e){var f=this._filterValue;return this.getCandidateValue(e,f)<f},"<=":function(e){var f=this._filterValue;return this.getCandidateValue(e,f)<=f},"=":function(f){var e=this,m=e._filterValue;f=e.getCandidateValue(f,m);if(e.isDateValue&&f instanceof Date){f=f.getTime();m=e.dateValue}return f==m},"===":function(f){var e=this,m=e._filterValue;f=e.getCandidateValue(f,m,true);if(e.isDateValue&&f instanceof Date){f=f.getTime();m=e.dateValue}return f===m},">=":function(e){var f=this._filterValue;return this.getCandidateValue(e,f)>=f},">":function(e){var f=this._filterValue;return this.getCandidateValue(e,f)>f},"!=":function(f){var e=this,m=e._filterValue;f=e.getCandidateValue(f,m);if(e.isDateValue&&f instanceof Date){f=f.getTime();m=e.dateValue}return f!=m},"!==":function(f){var e=this,m=e._filterValue;f=e.getCandidateValue(f,m,true);if(e.isDateValue&&f instanceof Date){f=f.getTime();m=e.dateValue}return f!==m},"in":function(e){var f=this._filterValue;return Ext.Array.contains(f,this.getCandidateValue(e,f))},notin:function(e){var f=this._filterValue;return !Ext.Array.contains(f,this.getCandidateValue(e,f))},like:function(e){var f=this._filterValue;return f&&this.getCandidateValue(e,f).toLowerCase().indexOf(f.toLowerCase())>-1},"/=":function(n){var f=this,o=f._filterValue;n=f.getCandidateValue(n,o);if(o!==f.lastRegExpSource){f.lastRegExpSource=o;try{f.regex=new RegExp(o,"i")}catch(e){f.regex=null}}return f.regex?f.regex.test(n):false}});g["=="]=g["="];g.gt=g[">"];g.ge=g[">="];g.lt=g["<"];g.le=g["<="];g.eq=g["="];g.ne=g["!="]}));(Ext.cmd.derive("Ext.util.Observable",Ext.mixin.Observable,{$applyConfigs:true},0,0,0,0,0,0,[Ext.util,"Observable"],function(k){var g=Ext.mixin.Observable;k.releaseCapture=g.releaseCapture;k.capture=g.capture;k.captureArgs=g.captureArgs;k.observe=k.observeClass=g.observe}));(Ext.cmd.derive("Ext.util.AbstractMixedCollection",Ext.Base,{isMixedCollection:true,generation:0,indexGeneration:0,constructor:function(l,m){var k=this;if(arguments.length===1&&Ext.isObject(l)){k.initialConfig=l;Ext.apply(k,l)}else{k.allowFunctions=l===true;if(m){k.getKey=m}k.initialConfig={allowFunctions:k.allowFunctions,getKey:k.getKey}}k.items=[];k.map={};k.keys=[];k.indexMap={};k.length=0;k.mixins.observable.constructor.call(k)},destroy:function(){var f=this;f.items=f.map=f.keys=f.indexMap=null;f.callParent()},allowFunctions:false,add:function(m,l){var o=this.length,n;if(arguments.length===1){n=this.insert(o,m)}else{n=this.insert(o,m,l)}return n},getKey:function(f){return f.id},replace:function(o,m){var n=this,q,p;if(arguments.length==1){m=arguments[0];o=n.getKey(m)}q=n.map[o];if(typeof o=="undefined"||o===null||typeof q=="undefined"){return n.add(o,m)}n.generation++;p=n.indexOfKey(o);n.items[p]=m;n.map[o]=m;if(n.hasListeners.replace){n.fireEvent("replace",o,q,m)}return m},reorder:function(s){var x=this,u=x.items,t=0,p=u.length,v=[],q=[],w;x.suspendEvents();for(w in s){v[s[w]]=u[w]}for(t=0;t<p;t++){if(s[t]==undefined){q.push(u[t])}}for(t=0;t<p;t++){if(v[t]==undefined){v[t]=q.shift()}}x.clear();x.addAll(v);x.resumeEvents()},updateKey:function(o,v){var q=this,p=q.map,u=q.indexOfKey(o),s=q.indexMap,t;if(u>-1){t=p[o];delete p[o];delete s[o];p[v]=t;s[v]=u;q.keys[u]=v;q.indexGeneration=++q.generation}},addAll:function(k){var l=this,m;if(arguments.length>1||Ext.isArray(k)){l.insert(l.length,arguments.length>1?arguments:k)}else{for(m in k){if(k.hasOwnProperty(m)){if(l.allowFunctions||typeof k[m]!="function"){l.add(m,k[m])}}}}},each:function(o,p){var s=Ext.Array.push([],this.items),q=0,t=s.length,n;for(;q<t;q++){n=s[q];if(o.call(p||n,n,q,t)===false){break}}},eachKey:function(o,p){var n=this.keys,s=this.items,q=0,t=n.length;for(;q<t;q++){o.call(p||window,n[q],s[q],q,t)}},findBy:function(o,p){var n=this.keys,s=this.items,q=0,t=s.length;for(;q<t;q++){if(o.call(p||window,s[q],n[q])){return s[q]}}return null},insert:function(n,m,l){var o;if(Ext.isIterable(m)){o=this.doInsert(n,m,l)}else{if(arguments.length>2){o=this.doInsert(n,[m],[l])}else{o=this.doInsert(n,[m])}o=o[0]}return o},doInsert:function(z,J,K){var x=this,F,E,B,y=J.length,G=y,C=x.hasListeners.add,D,A={},L,H,I;if(K!=null){x.useLinearSearch=true}else{K=J;J=new Array(y);for(B=0;B<y;B++){J[B]=this.getKey(K[B])}}x.suspendEvents();for(B=0;B<y;B++){F=J[B];E=x.indexOfKey(F);if(E!==-1){if(E<z){z--}x.removeAt(E)}if(F!=null){if(A[F]!=null){L=true;G--}A[F]=B}}x.resumeEvents();if(L){H=J;I=K;J=new Array(G);K=new Array(G);B=0;for(F in A){J[B]=H[A[F]];K[B]=I[A[F]];B++}y=G}D=z===x.length&&x.indexGeneration===x.generation;Ext.Array.insert(x.items,z,K);Ext.Array.insert(x.keys,z,J);x.length+=y;x.generation++;if(D){x.indexGeneration=x.generation}for(B=0;B<y;B++,z++){F=J[B];if(F!=null){x.map[F]=K[B];if(D){x.indexMap[F]=z}}if(C){x.fireEvent("add",z,K[B],F)}}return K},remove:function(l){var m=this,n,o;if(!m.useLinearSearch&&(n=m.getKey(l))){o=m.indexOfKey(n)}else{o=Ext.Array.indexOf(m.items,l)}return(o===-1)?false:m.removeAt(o)},removeAll:function(m){var k=this,l;if(m||k.hasListeners.remove){if(m){for(l=m.length-1;l>=0;--l){k.remove(m[l])}}else{while(k.length){k.removeAt(0)}}}else{k.length=k.items.length=k.keys.length=0;k.map={};k.indexMap={};k.generation++;k.indexGeneration=k.generation}},removeAt:function(o){var m=this,l,n;if(o<m.length&&o>=0){m.length--;l=m.items[o];Ext.Array.erase(m.items,o,1);n=m.keys[o];if(typeof n!="undefined"){delete m.map[n]}Ext.Array.erase(m.keys,o,1);if(m.hasListeners.remove){m.fireEvent("remove",l,n)}m.generation++;return l}return false},removeRange:function(t,z){var s=this,y,o,u,v,x,w;if(t<s.length&&t>=0){if(!z){z=1}v=Math.min(t+z,s.length);z=v-t;w=v===s.length;x=w&&s.indexGeneration===s.generation;for(u=t;u<v;u++){o=s.keys[u];if(o!=null){delete s.map[o];if(x){delete s.indexMap[o]}}}y=s.items[u-1];s.length-=z;s.generation++;if(x){s.indexGeneration=s.generation}if(w){s.items.length=s.keys.length=s.length}else{s.items.splice(t,z);s.keys.splice(t,z)}return y}return false},removeAtKey:function(n){var l=this,m=l.keys,o;if(n==null){for(o=m.length-1;o>=0;o--){if(m[o]==null){l.removeAt(o)}}}else{return l.removeAt(l.indexOfKey(n))}},getCount:function(){return this.length},indexOf:function(k){var l=this,m;if(k!=null){if(!l.useLinearSearch&&(m=l.getKey(k))){return this.indexOfKey(m)}return Ext.Array.indexOf(l.items,k)}return -1},indexOfKey:function(f){if(!this.map.hasOwnProperty(f)){return -1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[f]},rebuildIndexMap:function(){var m=this,n=m.indexMap={},o=m.keys,q=o.length,p;for(p=0;p<q;p++){n[o[p]]=p}m.indexGeneration=m.generation},get:function(n){var l=this,o=l.map[n],m=o!==undefined?o:(typeof n=="number")?l.items[n]:undefined;return typeof m!="function"||l.allowFunctions?m:null},getAt:function(f){return this.items[f]},getByKey:function(f){return this.map[f]},contains:function(k){var l=this,m;if(k!=null){if(!l.useLinearSearch&&(m=l.getKey(k))){return this.map[m]!=null}return Ext.Array.indexOf(this.items,k)!==-1}return false},containsKey:function(f){return this.map.hasOwnProperty(f)},clear:function(){var f=this;if(f.generation){f.length=0;f.items=[];f.keys=[];f.map={};f.indexMap={};f.generation++;f.indexGeneration=f.generation}if(f.hasListeners.clear){f.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(x,u,w,v){var t=this.extractValues(x,u),p=t.length,q=0,s;w=w||0;v=(v||v===0)?v:p-1;for(s=w;s<=v;s++){q+=t[s]}return q},collect:function(t,x,v){var s=this.extractValues(t,x),B=s.length,A={},z=[],u,w,y;for(y=0;y<B;y++){u=s[y];w=String(u);if((v||!Ext.isEmpty(u))&&!A[w]){A[w]=true;z.push(u)}}return z},extractValues:function(k,m){var l=this.items;if(m){l=Ext.Array.pluck(l,m)}return Ext.Array.pluck(l,k)},hasRange:function(g,k){return(k<this.length)},getRange:function(w,u){var x=this,s=x.items,t=[],v=s.length,p,q;if(v<1){return t}if(w>u){q=true;p=w;w=u;u=p}if(w<0){w=0}if(u==null||u>=v){u=v-1}t=s.slice(w,u+1);if(q&&t.length){t.reverse()}return t},filter:function(n,o,m,q){var p=[];if(Ext.isString(n)){p.push(new Ext.util.Filter({property:n,value:o,anyMatch:m,caseSensitive:q}))}else{if(Ext.isArray(n)||n instanceof Ext.util.Filter){p=p.concat(n)}}return this.filterBy(Ext.util.Filter.createFilterFn(p))},filterBy:function(q,s){var w=this,v=new w.self(w.initialConfig),x=w.keys,u=w.items,p=u.length,t;v.getKey=w.getKey;for(t=0;t<p;t++){if(q.call(s||w,u[t],x[t])){v.add(x[t],u[t])}}v.useLinearSearch=w.useLinearSearch;return v},findIndex:function(o,p,m,n,q){if(Ext.isEmpty(p,false)){return -1}p=this.createValueMatcher(p,n,q);return this.findIndexBy(function(e){return e&&p.test(e[o])},null,m)},findIndexBy:function(q,s,w){var x=this,p=x.keys,u=x.items,t=w||0,v=u.length;for(;t<v;t++){if(q.call(s||x,u[t],p[t])){return t}}return -1},createValueMatcher:function(o,m,q,p){if(!o.exec){var n=Ext.String.escapeRegex;o=String(o);if(m===true){o=n(o)}else{o="^"+n(o);if(p===true){o+="$"}}o=new RegExp(o,q?"":"i")}return o},clone:function(){var k=this,g=new k.self(k.initialConfig);g.add(k.keys,k.items);g.useLinearSearch=k.useLinearSearch;return g}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"AbstractMixedCollection"],0));(Ext.cmd.derive("Ext.util.Sorter",Ext.Base,{isSorter:true,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:undefined},statics:{createComparator:function(g,k){k=k||0;return function(q,s){var f=g.isCollection?g.items:g,t=f.length,n,e;for(e=0;e<t;++e){n=f[e].sort(q,s);if(n){return n}}return k&&k(q,s)}}},multiplier:1,constructor:function(f){this.initConfig(f)},getId:function(){var f=this._id;if(!f){f=this.getProperty();if(!f){f=Ext.id(null,"ext-sorter-")}this._id=f}return f},sort:function(k,g){return this.multiplier*this.sortFn(k,g)},sortFn:function(s,t){var p=this,q=p._transform,u=p._root,x=p._property,v,w;if(u){s=s[u];t=t[u]}v=s[x];w=t[x];if(q){v=q(v);w=q(w)}return(v>w)?1:(v<w?-1:0)},applyDirection:function(f){return f?f:"ASC"},updateDirection:function(f){this.multiplier=(f.toUpperCase()==="DESC")?-1:1},updateProperty:function(f){if(f){delete this.sortFn}},updateSorterFn:function(f){this.sortFn=f},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){var g=this,k={root:g.getRoot(),property:g.getProperty(),direction:g.getDirection()};if(g._id){k.id=g._id}return k},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}},1,0,0,0,0,0,[Ext.util,"Sorter"],0));(Ext.cmd.derive("Ext.util.Sortable",Ext.Base,{isSortable:true,$configPrefixed:false,$configStrict:false,config:{sorters:null},defaultSortDirection:"ASC",multiSortLimit:3,statics:{createComparator:function(f){return f&&f.length?function(o,p){var q=f[0].sort(o,p),e=f.length,n=1;for(;!q&&n<e;n++){q=f[n].sort.call(f[n],o,p)}return q}:function(){return 0}}},applySorters:function(k){var l=this,m=l.getSorters()||new Ext.util.MixedCollection(false,Ext.returnId);if(k){m.addAll(l.decodeSorters(k))}return m},sort:function(x,p,v,q){var u=this,w,s,t=u.getSorters();if(!t){u.setSorters(null);t=u.getSorters()}if(Ext.isArray(x)){q=v;v=p}else{if(Ext.isObject(x)){x=[x];q=v;v=p}else{if(Ext.isString(x)){w=t.get(x);if(!w){w={property:x,direction:p}}else{if(p==null){w.toggle()}else{w.setDirection(p)}}x=[w]}}}if(x&&x.length){x=u.decodeSorters(x);switch(v){case"multi":t.insert(0,x[0]);s=t.getCount()-u.multiSortLimit;if(s>0){t.removeRange(u.multiSortLimit,s)}break;case"prepend":t.insert(0,x);break;case"append":t.addAll(x);break;case undefined:case null:case"replace":t.clear();t.addAll(x);break;default:}}if(q!==false){u.fireEvent("beforesort",u,x);u.onBeforeSort(x);if(u.getSorterCount()){u.doSort(u.generateComparator())}}return x},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var f=this.getSorters().getRange();return f.length?this.createComparator(f):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(o){if(!Ext.isArray(o)){if(o===undefined){o=[]}else{o=[o]}}var q=o.length,v=Ext.util.Sorter,t=this.getModel?this.getModel():this.model,p,u,s;for(s=0;s<q;s++){u=o[s];if(!(u instanceof v)){if(Ext.isString(u)){u={property:u}}Ext.applyIf(u,{root:this.sortRoot,direction:"ASC"});if(u.fn){u.sorterFn=u.fn}if(typeof u=="function"){u={sorterFn:u}}if(t&&!u.transform){p=t.getField(u.property);u.transform=p&&p.sortType!==Ext.identityFn?p.sortType:undefined}o[s]=new Ext.util.Sorter(u)}}return o},getFirstSorter:function(){var m=this.getSorters().items,o=m.length,n=0,l;for(;n<o;++n){l=m[n];if(!l.isGrouper){return l}}return null}},0,0,0,0,0,0,[Ext.util,"Sortable"],function(){this.prototype.createComparator=this.createComparator}));(Ext.cmd.derive("Ext.util.MixedCollection",Ext.util.AbstractMixedCollection,{constructor:function(){this.initConfig();Ext.util.AbstractMixedCollection.prototype.constructor.apply(this,arguments)},doSort:function(f){this.sortBy(f)},_sort:function(D,A,o){var u=this,y,x,z=String(A).toUpperCase()=="DESC"?-1:1,v=[],C=u.keys,w=u.items,B;o=o||function(e,f){return e-f};for(y=0,x=w.length;y<x;y++){v[v.length]={key:C[y],value:w[y],index:y}}Ext.Array.sort(v,function(e,f){return o(e[D],f[D])*z||(e.index<f.index?-1:1)});for(y=0,x=v.length;y<x;y++){B=v[y];w[y]=B.value;C[y]=B.key;u.indexMap[B.key]=y}u.generation++;u.indexGeneration=u.generation;u.fireEvent("sort",u)},sortBy:function(u){var w=this,v=w.items,x,p=w.keys,s,q=v.length,t;for(t=0;t<q;t++){v[t].$extCollectionIndex=t}Ext.Array.sort(v,function(e,f){return u(e,f)||(e.$extCollectionIndex<f.$extCollectionIndex?-1:1)});for(t=0;t<q;t++){x=v[t];s=w.getKey(x);p[t]=s;w.indexMap[s]=t;delete x.$extCollectionIndex}w.generation++;w.indexGeneration=w.generation;w.fireEvent("sort",w,v,p)},findInsertionIndex:function(q,s){var p=this,u=p.items,w=0,v=u.length-1,t,x;if(!s){s=p.generateComparator()}while(w<=v){t=(w+v)>>1;x=s(q,u[t]);if(x>=0){w=t+1}else{if(x<0){v=t-1}}}return w},reorder:function(f){Ext.util.AbstractMixedCollection.prototype.reorder.call(this,f);this.fireEvent("sort",this)},sortByKey:function(k,g){this._sort("key",k,g||function(n,o){var e=String(n).toUpperCase(),f=String(o).toUpperCase();return e>f?1:(e<f?-1:0)})}},1,0,0,0,0,[["sortable",Ext.util.Sortable]],[Ext.util,"MixedCollection"],0));(Ext.cmd.derive("Ext.util.TaskRunner",Ext.Base,{interval:10,timerId:null,constructor:function(k){var g=this;if(typeof k=="number"){g.interval=k}else{if(k){Ext.apply(g,k)}}g.tasks=[];g.timerFn=Ext.Function.bind(g.onTick,g)},newTask:function(g){var k=new Ext.util.TaskRunner.Task(g);k.manager=this;return k},start:function(m){var k=this,l=Ext.Date.now();if(!m.pending){k.tasks.push(m);m.pending=true}m.stopped=false;m.taskStartTime=l;m.taskRunTime=m.fireOnStart!==false?0:m.taskStartTime;m.taskRunCount=0;if(!k.firing){if(m.fireOnStart!==false){k.startTimer(0,l)}else{k.startTimer(m.interval,l)}}return m},stop:function(f){if(!f.stopped){f.stopped=true;if(f.onStop){f.onStop.call(f.scope||f,f)}}return f},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:false,nextExpires:1e+99,onTick:function(){var K=this,C=K.tasks,I=K.fireIdleEvent,H=Ext.Date.now(),J=1e+99,y=C.length,E=Ext.GlobalEvents,F,L,A,G,D,B,M;K.timerId=null;K.firing=true;for(A=0;A<y||A<(y=C.length);++A){G=C[A];if(!(B=G.stopped)){F=G.taskRunTime+G.interval;if(F<=H){D=1;if(G.hasOwnProperty("fireIdleEvent")){I=G.fireIdleEvent}else{I=K.fireIdleEvent}G.taskRunCount++;if(G.args){M=G.addCountToArgs?G.args.concat([G.taskRunCount]):G.args}else{M=[G.taskRunCount]}try{D=G.run.apply(G.scope||G,M)}catch(z){try{if(G.onError){D=G.onError.call(G.scope||G,G,z)}}catch(N){}}G.taskRunTime=H;if(D===false||G.taskRunCount===G.repeat){K.stop(G);B=true}else{B=G.stopped;F=H+G.interval}}if(!B&&G.duration&&G.duration<=(H-G.taskStartTime)){K.stop(G);B=true}}if(B){G.pending=false;if(!L){L=C.slice(0,A)}}else{if(L){L.push(G)}if(J>F){J=F}}}if(L){K.tasks=L}K.firing=false;if(K.tasks.length){K.startTimer(J-H,Ext.Date.now())}if(I!==false&&E.hasListeners.idle){E.fireEvent("idle")}},startTimer:function(m,o){var n=this,p=o+m,q=n.timerId;if(q&&n.nextExpires-p>n.interval){clearTimeout(q);q=null}if(!q){if(m<n.interval){m=n.interval}n.timerId=Ext.defer(n.timerFn,m);n.nextExpires=p}}},1,0,0,0,0,0,[Ext.util,"TaskRunner"],function(){var g=this,k=g.prototype;k.destroy=k.stopAll;g.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(e){Ext.apply(this,e)},restart:function(e){if(e!==undefined){this.interval=e}this.manager.start(this)},start:function(e){if(this.stopped){this.restart(e)}},stop:function(){this.manager.stop(this)}});k=g.Task.prototype;k.destroy=k.stop}));(Ext.cmd.derive("Ext.fx.target.Target",Ext.Base,{isAnimTarget:true,constructor:function(f){this.target=f;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}},1,0,0,0,0,0,[Ext.fx.target,"Target"],0));(Ext.cmd.derive("Ext.fx.target.Element",Ext.fx.target.Target,{type:"element",getElVal:function(l,m,k){if(k===undefined){if(m==="x"){k=l.getX()}else{if(m==="y"){k=l.getY()}else{if(m==="scrollTop"){k=l.getScroll().top}else{if(m==="scrollLeft"){k=l.getScroll().left}else{if(m==="height"){k=l.getHeight()}else{if(m==="width"){k=l.getWidth()}else{k=l.getStyle(m)}}}}}}}return k},getAttr:function(m,k){var l=this.target;return[[l,this.getElVal(l,m,k)]]},setAttr:function(w){var o=w.length,s,v,x,q,t,u;for(q=0;q<o;q++){s=w[q].attrs;for(v in s){if(s.hasOwnProperty(v)){u=s[v].length;for(t=0;t<u;t++){x=s[v][t];this.setElVal(x[0],v,x[1])}}}}},setElVal:function(l,m,k){if(m==="x"){l.setX(k)}else{if(m==="y"){l.setY(k)}else{if(m==="scrollTop"){l.scrollTo("top",k)}else{if(m==="scrollLeft"){l.scrollTo("left",k)}else{if(m==="width"){l.setWidth(k)}else{if(m==="height"){l.setHeight(k)}else{l.setStyle(m,k)}}}}}}}},0,0,0,0,0,0,[Ext.fx.target,"Element"],0));(Ext.cmd.derive("Ext.fx.target.ElementCSS",Ext.fx.target.Element,{setAttr:function(J,B){var G={attrs:[],duration:[],easing:[]},L=J.length,K=function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},I={single:true},A,H,y,o,D,E,z,C,F;for(z=0;z<L;z++){H=J[z];D=H.duration;o=H.easing;H=H.attrs;for(y in H){if(Ext.Array.indexOf(G.attrs,y)==-1){G.attrs.push(y.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}));G.duration.push(D+"ms");G.easing.push(o)}}}A=G.attrs.join(",");D=G.duration.join(",");o=G.easing.join(", ");for(z=0;z<L;z++){H=J[z].attrs;for(y in H){F=H[y].length;for(C=0;C<F;C++){E=H[y][C];E[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",B?"":A);E[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",B?"":D);E[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",B?"":o);E[0].setStyle(y,E[1]);if(B){E=E[0].dom.offsetWidth}else{E[0].on(Ext.supports.CSS3TransitionEnd,K,E[0],I)}}}}}},0,0,0,0,0,0,[Ext.fx.target,"ElementCSS"],0));(Ext.cmd.derive("Ext.fx.target.CompositeElement",Ext.fx.target.Element,{isComposite:true,constructor:function(f){f.id=f.id||Ext.id(null,"ext-composite-");Ext.fx.target.Element.prototype.constructor.call(this,f)},getAttr:function(v,w){var u=[],x=this.target,p=x.elements,q=p.length,t,s;for(t=0;t<q;t++){s=p[t];if(s){s=x.getElement(s);u.push([s,this.getElVal(s,v,w)])}}return u},setAttr:function(H){var w=this.target,k=H.length,C=w.elements,E=C.length,G,A,F,x,B,y,z,D;for(y=0;y<k;y++){F=H[y].attrs;for(x in F){if(F.hasOwnProperty(x)){D=F[x].length;for(z=0;z<D;z++){G=F[x][z][1];for(A=0;A<E;++A){B=C[A];if(B){B=w.getElement(B);this.setElVal(B,x,G)}}}}}}},remove:function(){this.target.destroy()}},1,0,0,0,0,0,[Ext.fx.target,"CompositeElement"],0));(Ext.cmd.derive("Ext.fx.target.CompositeElementCSS",Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,"CompositeElementCSS"],0));(Ext.cmd.derive("Ext.fx.target.Sprite",Ext.fx.target.Target,{type:"draw",getFromPrim:function(l,m){var k;switch(m){case"rotate":case"rotation":k=l.attr.rotation;return{x:k.x||0,y:k.y||0,degrees:k.degrees||0};case"scale":case"scaling":k=l.attr.scaling;return{x:k.x||1,y:k.y||1,cx:k.cx||0,cy:k.cy||0};case"translate":case"translation":k=l.attr.translation;return{x:k.x||0,y:k.y||0};default:return l.attr[m]}},getAttr:function(k,g){return[[this.target,g!==undefined?g:this.getFromPrim(this.target,k)]]},setAttr:function(x){var B=x.length,z=[],F,C,J,H,I,K,L,D,E,y,A,G;for(D=0;D<B;D++){F=x[D].attrs;for(C in F){J=F[C];G=J.length;for(E=0;E<G;E++){I=J[E][0];H=J[E][1];if(C==="translate"||C==="translation"){L={x:H.x,y:H.y}}else{if(C==="rotate"||C==="rotation"){y=H.x;if(isNaN(y)){y=null}A=H.y;if(isNaN(A)){A=null}L={degrees:H.degrees,x:y,y:A}}else{if(C==="scale"||C==="scaling"){y=H.x;if(isNaN(y)){y=null}A=H.y;if(isNaN(A)){A=null}L={x:y,y:A,cx:H.cx,cy:H.cy}}else{if(C==="width"||C==="height"||C==="x"||C==="y"){L=parseFloat(H)}else{L=H}}}}K=Ext.Array.indexOf(z,I);if(K===-1){z.push([I,{}]);K=z.length-1}z[K][1][C]=L}}}B=z.length;for(D=0;D<B;D++){z[D][0].setAttributes(z[D][1])}this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,"Sprite"],0));(Ext.cmd.derive("Ext.fx.target.CompositeSprite",Ext.fx.target.Sprite,{getAttr:function(u,v){var t=[],o=[].concat(this.target.items),p=o.length,q,s;for(q=0;q<p;q++){s=o[q];t.push([s,v!==undefined?v:this.getFromPrim(s,u)])}return t}},0,0,0,0,0,0,[Ext.fx.target,"CompositeSprite"],0));(Ext.cmd.derive("Ext.fx.target.Component",Ext.fx.target.Target,{type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(k,g){return[[this.target,g!==undefined?g:this.getPropMethod[k].call(this.target)]]},setAttr:function(L,D,H){var N=this,O=L.length,B,P,G,C,E,o,F,M,J,w,I={},K;for(C=0;C<O;C++){B=L[C].attrs;for(P in B){o=B[P].length;for(E=0;E<o;E++){G=B[P][E];K=I[N.setMethods[P]]||(I[N.setMethods[P]]={});K.target=G[0];K[P]=G[1]}}if(I.setPosition){G=I.setPosition;F=(G.left===undefined)?undefined:parseFloat(G.left);M=(G.top===undefined)?undefined:parseFloat(G.top);G.target.setPosition(F,M)}if(I.setPagePosition){G=I.setPagePosition;G.target.setPagePosition(G.x,G.y)}if(I.setSize){G=I.setSize;J=(G.width===undefined)?G.target.getWidth():parseFloat(G.width);w=(G.height===undefined)?G.target.getHeight():parseFloat(G.height);G.target.el.setSize(J,w);if(H||N.dynamic){Ext.GlobalEvents.on({idle:Ext.Function.bind(G.target.setSize,G.target,[J,w]),single:true})}}if(I.setOpacity){G=I.setOpacity;G.target.el.setStyle("opacity",G.opacity)}}}},0,0,0,0,0,0,[Ext.fx.target,"Component"],0));(Ext.cmd.derive("Ext.fx.Queue",Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap();this.fxQueue={}},getFxDefaults:function(k){var g=this.targets.get(k);if(g){return g.fxDefaults}return{}},setFxDefaults:function(m,k){var l=this.targets.get(m);if(l){l.fxDefaults=Ext.apply(l.fxDefaults||{},k)}},stopAnimation:function(q,s){var n=this,t=n.getFxQueue(q),o=t.length,p;while(o){p=t[o-1];if(p){p.end(s)}o--}},getActiveAnimation:function(g){var k=this.getFxQueue(g);return(k&&!!k.length)?k[0]:false},hasFxBlock:function(g){var k=this.getFxQueue(g);return k&&k[0]&&k[0].block},getFxQueue:function(o){if(!o){return false}var n=this,p=n.fxQueue,q=p[o],m=n.targets.get(o);if(!m){return false}if(!q){n.fxQueue[o]=p[o]=[];if(m.type!=="element"){m.target.on("destroy",function(){p[o]=null;delete p[o]})}}return n.fxQueue[o]},queueFx:function(o){var p=this,n=o.target,s=n.getId(),t,q;if(!n){return}t=p.getFxQueue(s);q=t.length;if(q){if(o.concurrent){o.paused=false}else{t[q-1].on("afteranimate",function(){o.paused=false})}}else{o.paused=false}o.on("afteranimate",function(){Ext.Array.remove(t,o);if(t.length===0){p.targets.remove(o.target);p.fxQueue[s]=null;delete p.fxQueue[s]}if(o.remove){if(n.type==="element"){var e=Ext.get(s);if(e){e.destroy()}}}},p,{single:true});t.push(o)}},1,0,0,0,0,0,[Ext.fx,"Queue"],0));(Ext.cmd.derive("Ext.fx.Manager",Ext.Base,{singleton:true,constructor:function(){var f=this;f.items=new Ext.util.MixedCollection();f.targetArr={};f.mixins.queue.constructor.call(f);f.taskRunner=new Ext.util.TaskRunner()},interval:16,forceJS:true,createTarget:function(l){var n=this,m=!n.forceJS&&Ext.supports.Transitions,o;n.useCSS3=m;if(l){if(l.tagName||Ext.isString(l)||l.isFly){l=Ext.get(l);o=new Ext.fx.target["Element"+(m?"CSS":"")](l)}else{if(l.dom){o=new Ext.fx.target["Element"+(m?"CSS":"")](l)}else{if(l.isComposite){o=new Ext.fx.target["CompositeElement"+(m?"CSS":"")](l)}else{if(l.isSprite){o=new Ext.fx.target.Sprite(l)}else{if(l.isCompositeSprite){o=new Ext.fx.target.CompositeSprite(l)}else{if(l.isComponent){o=new Ext.fx.target.Component(l)}else{if(l.isAnimTarget){return l}else{return null}}}}}}}n.targets.add(o);return o}else{return null}},addAnim:function(l){var m=this,n=m.items,o=m.task;n.add(l.id,l);if(!o&&n.length){o=m.task={run:m.runner,interval:m.interval,scope:m};m.taskRunner.start(o)}},removeAnim:function(l){var m=this,n=m.items,o=m.task;n.removeAtKey(l.id);if(o&&!n.length){m.taskRunner.stop(o);delete m.task}},runner:function(){var n=this,p=n.items.getRange(),o=0,q=p.length,m;n.targetArr={};n.timestamp=new Date();for(;o<q;o++){m=p[o];if(m.isReady()){n.startAnim(m)}}for(o=0;o<q;o++){m=p[o];if(m.isRunning()){n.runAnim(m)}}n.applyPendingAttrs();n.targetArr=null},startAnim:function(f){f.start(this.timestamp)},runAnim:function(q,w){if(!q){return}var s=this,x=s.useCSS3&&q.target.type==="element",u=s.timestamp-q.startTime,t=(u>=q.duration),o,v;if(w){u=q.duration;t=true}o=this.collectTargetData(q,u,x,t);if(x){q.target.setAttr(o.anims[q.id].attributes,true);s.collectTargetData(q,q.duration,x,t);q.paused=true;o=q.target.target;if(q.target.isComposite){o=q.target.target.last()}v={};v[Ext.supports.CSS3TransitionEnd]=q.lastFrame;v.scope=q;v.single=true;o.on(v)}return o},jumpToEnd:function(m){var n=this,l,o;if(!n.targetArr){n.targetArr={};o=true}l=n.runAnim(m,true);n.applyAnimAttrs(l,l.anims[m.id]);if(o){n.targetArr=null}},collectTargetData:function(q,t,o,n){var s=q.target.getId(),p=this.targetArr[s];if(!p){p=this.targetArr[s]={id:s,el:q.target,anims:{}}}p.anims[q.id]={id:q.id,anim:q,elapsed:t,isLastFrame:n,attributes:[{duration:q.duration,easing:(o&&q.reverse)?q.easingFn.reverse().toCSS3():q.easing,attrs:q.runAnim(t)}]};return p},applyAnimAttrs:function(k,m){var l=m.anim;if(m.attributes&&l.isRunning()){k.el.setAttr(m.attributes,false,m.isLastFrame);if(m.isLastFrame){l.lastFrame()}}},applyPendingAttrs:function(){var o=this.targetArr,n,q,s,p,t;for(q in o){if(o.hasOwnProperty(q)){n=o[q];for(t in n.anims){if(n.anims.hasOwnProperty(t)){s=n.anims[t];p=s.anim;if(s.attributes&&p.isRunning()){n.el.setAttr(s.attributes,false,s.isLastFrame);if(s.isLastFrame){p.lastFrame()}}}}}}}},1,0,0,0,0,[["queue",Ext.fx.Queue]],[Ext.fx,"Manager"],0));(Ext.cmd.derive("Ext.fx.Animator",Ext.Base,{isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(k){var g=this;k=Ext.apply(g,k||{});g.config=k;g.id=Ext.id(null,"ext-animator-");g.mixins.observable.constructor.call(g,k);g.timeline=[];g.createTimeline(g.keyframes);if(g.target){g.applyAnimator(g.target);Ext.fx.Manager.addAnim(g)}},sorter:function(g,k){return g.pct-k.pct},createTimeline:function(z){var w=this,t=[],v=w.to||{},B=w.duration,D,C,A,x,u,y;for(u in z){if(z.hasOwnProperty(u)&&w.animKeyFramesRE.test(u)){y={attrs:Ext.apply(z[u],v)};if(u==="from"){u=0}else{if(u==="to"){u=100}}y.pct=parseInt(u,10);t.push(y)}}Ext.Array.sort(t,w.sorter);x=t.length;for(A=0;A<x;A++){D=(t[A-1])?B*(t[A-1].pct/100):0;C=B*(t[A].pct/100);w.timeline.push({duration:C-D,attrs:t[A].attrs})}},applyAnimator:function(y){var v=this,u=[],s=v.timeline,w=s.length,A,x,B,t,z;if(v.fireEvent("beforeanimate",v)!==false){for(z=0;z<w;z++){A=s[z];t=A.attrs;x=t.easing||v.easing;B=t.damper||v.damper;delete t.easing;delete t.damper;A=new Ext.fx.Anim({target:y,easing:x,damper:B,duration:A.duration,paused:true,to:t});u.push(A)}v.animations=u;v.target=A.target;for(z=0;z<w-1;z++){A=u[z];A.nextAnim=u[z+1];A.on("afteranimate",function(){this.nextAnim.paused=false});A.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},v)}u[w-1].on("afteranimate",function(){this.lastFrame()},v)}},start:function(n){var m=this,o=m.delay,p=m.delayStart,q;if(o){if(!p){m.delayStart=n;return}else{q=n-p;if(q<o){return}else{n=new Date(p.getTime()+o)}}}if(m.fireEvent("beforeanimate",m)!==false){m.startTime=n;m.running=true;m.animations[m.keyframeStep].paused=false}},lastFrame:function(){var k=this,m=k.iterations,l=k.currentIteration;l++;if(l<m){k.startTime=new Date();k.currentIteration=l;k.keyframeStep=0;k.applyAnimator(k.target);k.animations[k.keyframeStep].paused=false}else{k.currentIteration=0;k.end()}},end:function(){var f=this;f.fireEvent("afteranimate",f,f.startTime,new Date()-f.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Animator"],0));(Ext.cmd.derive("Ext.fx.CubicBezier",Ext.Base,{singleton:true,cubicBezierAtTime:function(I,D,F,J,K,z){var y=3*D,L=3*(J-D)-y,G=1-y-L,A=3*F,t=3*(K-F)-A,H=1-A-t;function B(e){return((G*e+L)*e+y)*e}function E(g,e){var f=C(g,e);return((H*f+t)*f+A)*f}function C(f,g){var k,m,e,o,n,l;for(e=f,l=0;l<8;l++){o=B(e)-f;if(Math.abs(o)<g){return e}n=(3*G*e+2*L)*e+y;if(Math.abs(n)<0.000001){break}e=e-o/n}k=0;m=1;e=f;if(e<k){return k}if(e>m){return m}while(k<m){o=B(e);if(Math.abs(o-f)<g){return e}if(f>o){k=e}else{m=e}e=(m-k)/2+k}return e}return E(I,1/(200*z))},cubicBezier:function(p,m,q,o){var n=function(e){return Ext.fx.CubicBezier.cubicBezierAtTime(e,p,m,q,o,1)};n.toCSS3=function(){return"cubic-bezier("+[p,m,q,o].join(",")+")"};n.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-q,1-o,1-p,1-m)};return n}},0,0,0,0,0,0,[Ext.fx,"CubicBezier"],0));(Ext.cmd.derive("Ext.fx.Easing",Ext.Base,function(){var p=Math,v=p.PI,q=p.pow,t=p.sin,o=p.sqrt,u=p.abs,s=1.70158;return{singleton:true,linear:Ext.identityFn,ease:function(e){var k=0.07813-e/2,l=o(0.0066+k*k),x=l-k,n=q(u(x),1/3)*(x<0?-1:1),f=-l-k,g=q(u(f),1/3)*(f<0?-1:1),m=n+g+0.25;return q(1-m,2)*3*m*0.1+(1-m)*3*m*m+m*m*m},easeIn:function(e){return q(e,1.7)},easeOut:function(e){return q(e,0.48)},easeInOut:function(e){var k=0.48-e/1.04,l=o(0.1734+k*k),x=l-k,n=q(u(x),1/3)*(x<0?-1:1),f=-l-k,g=q(u(f),1/3)*(f<0?-1:1),m=n+g+0.5;return(1-m)*3*m*m+m*m*m},backIn:function(e){return e*e*((s+1)*e-s)},backOut:function(e){e=e-1;return e*e*((s+1)*e+s)+1},elasticIn:function(e){if(e===0||e===1){return e}var f=0.3,g=f/4;return q(2,-10*e)*t((e-g)*(2*v)/f)+1},elasticOut:function(e){return 1-Ext.fx.Easing.elasticIn(1-e)},bounceIn:function(e){return 1-Ext.fx.Easing.bounceOut(1-e)},bounceOut:function(e){var g=7.5625,f=2.75,k;if(e<(1/f)){k=g*e*e}else{if(e<(2/f)){e-=(1.5/f);k=g*e*e+0.75}else{if(e<(2.5/f)){e-=(2.25/f);k=g*e*e+0.9375}else{e-=(2.625/f);k=g*e*e+0.984375}}}return k}}},0,0,0,0,0,0,[Ext.fx,"Easing"],function(l){var k=l.self,m=k.prototype;k.addMembers({"back-in":m.backIn,"back-out":m.backOut,"ease-in":m.easeIn,"ease-out":m.easeOut,"elastic-in":m.elasticIn,"elastic-out":m.elasticOut,"bounce-in":m.bounceIn,"bounce-out":m.bounceOut,"ease-in-out":m.easeInOut})}));(Ext.cmd.derive("Ext.fx.DrawPath",Ext.Base,{singleton:true,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(g,k){k=String(k).toLowerCase();return(k=="object"&&g===Object(g))||(k=="undefined"&&typeof g==k)||(k=="null"&&g===null)||(k=="array"&&Array.isArray&&Array.isArray(g))||(Object.prototype.toString.call(g).toLowerCase().slice(8,-1))==k},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(f){return f.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(o){if(!o){return null}var l={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},m=[],n=this;if(n.is(o,"array")&&n.is(o[0],"array")){m=n.pathClone(o)}if(!m.length){String(o).replace(n.pathCommandRE,function(e,f,g){var k=[],q=f.toLowerCase();g.replace(n.pathValuesRE,function(p,t){if(t){k.push(+t)}});if(q=="m"&&k.length>2){m.push([f].concat(Ext.Array.splice(k,0,2)));q="l";f=(f=="m")?"l":"L"}while(k.length>=l[q]){m.push([f].concat(Ext.Array.splice(k,0,l[q])));if(!l[q]){break}}})}m.toString=n.path2string;return m},pathClone:function(n){var q=[],t,o,s,p;if(!this.is(n,"array")||!this.is(n&&n[0],"array")){n=this.parsePathString(n)}for(s=0,p=n.length;s<p;s++){q[s]=[];for(t=0,o=n[s].length;t<o;t++){q[s][t]=n[s][t]}}q.toString=this.path2string;return q},pathToAbsolute:function(B){if(!this.is(B,"array")||!this.is(B&&B[0],"array")){B=this.parsePathString(B)}var w=[],u=0,v=0,E=0,F=0,y=0,x=B.length,C,A,z,D;if(x&&B[0][0]=="M"){u=+B[0][1];v=+B[0][2];E=u;F=v;y++;w[0]=["M",u,v]}for(;y<x;y++){C=w[y]=[];A=B[y];if(A[0]!=A[0].toUpperCase()){C[0]=A[0].toUpperCase();switch(C[0]){case"A":C[1]=A[1];C[2]=A[2];C[3]=A[3];C[4]=A[4];C[5]=A[5];C[6]=+(A[6]+u);C[7]=+(A[7]+v);break;case"V":C[1]=+A[1]+v;break;case"H":C[1]=+A[1]+u;break;case"M":E=+A[1]+u;F=+A[2]+v;default:z=1;D=A.length;for(;z<D;z++){C[z]=+A[z]+((z%2)?u:v)}}}else{z=0;D=A.length;for(;z<D;z++){w[y][z]=A[z]}}switch(C[0]){case"Z":u=E;v=F;break;case"H":u=C[1];break;case"V":v=C[1];break;case"M":A=w[y];D=A.length;E=A[D-2];F=A[D-1];default:A=w[y];D=A.length;u=A[D-2];v=A[D-1]}}w.toString=this.path2string;return w},interpolatePaths:function(G,L){var y=this,C=y.pathToAbsolute(G),K=y.pathToAbsolute(L),J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},F={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},E=function(e,g){if(e[g].length>7){e[g].shift();var f=e[g];while(f.length){Ext.Array.splice(e,g++,0,["C"].concat(Ext.Array.splice(f,0,6)))}Ext.Array.erase(e,g,1);I=Math.max(C.length,K.length||0)}},D=function(l,e,k,f,g){if(l&&e&&l[g][0]=="M"&&e[g][0]!="M"){Ext.Array.splice(e,g,0,["M",f.x,f.y]);k.bx=0;k.by=0;k.x=l[g][1];k.y=l[g][2];I=Math.max(C.length,K.length||0)}},z,I,A,H,B,p;for(z=0,I=Math.max(C.length,K.length||0);z<I;z++){C[z]=y.command2curve(C[z],J);E(C,z);(K[z]=y.command2curve(K[z],F));E(K,z);D(C,K,J,F,z);D(K,C,F,J,z);A=C[z];H=K[z];B=A.length;p=H.length;J.x=A[B-2];J.y=A[B-1];J.bx=parseFloat(A[B-4])||J.x;J.by=parseFloat(A[B-3])||J.y;F.bx=(parseFloat(H[p-4])||F.x);F.by=(parseFloat(H[p-3])||F.y);F.x=H[p-2];F.y=H[p-1]}return[C,K]},command2curve:function(k,l){var m=this;if(!k){return["C",l.x,l.y,l.x,l.y,l.x,l.y]}if(k[0]!="T"&&k[0]!="Q"){l.qx=l.qy=null}switch(k[0]){case"M":l.X=k[1];l.Y=k[2];break;case"A":k=["C"].concat(m.arc2curve.apply(m,[l.x,l.y].concat(k.slice(1))));break;case"S":k=["C",l.x+(l.x-(l.bx||l.x)),l.y+(l.y-(l.by||l.y))].concat(k.slice(1));break;case"T":l.qx=l.x+(l.x-(l.qx||l.x));l.qy=l.y+(l.y-(l.qy||l.y));k=["C"].concat(m.quadratic2curve(l.x,l.y,l.qx,l.qy,k[1],k[2]));break;case"Q":l.qx=k[1];l.qy=k[2];k=["C"].concat(m.quadratic2curve(l.x,l.y,k[1],k[2],k[3],k[4]));break;case"L":k=["C"].concat(l.x,l.y,k[1],k[2],k[1],k[2]);break;case"H":k=["C"].concat(l.x,l.y,k[1],l.y,k[1],l.y);break;case"V":k=["C"].concat(l.x,l.y,l.x,k[1],l.x,k[1]);break;case"Z":k=["C"].concat(l.x,l.y,l.X,l.Y,l.X,l.Y);break}return k},quadratic2curve:function(u,s,x,q,v,t){var p=1/3,w=2/3;return[p*u+w*x,p*s+w*q,p*v+w*x,p*t+w*q,v,t]},rotate:function(t,v,u){var q=Math.cos(u),s=Math.sin(u),o=t*q-v*s,p=t*s+v*q;return{x:o,y:p}},arc2curve:function(aR,ay,av,ax,aJ,aX,a1,aT,aB,aH){var aN=this,a3=Math.PI,aL=aN.radian,az=a3*120/180,a5=aL*(+aJ||0),ap=[],at=Math,t=at.cos,a6=at.sin,aS=at.sqrt,aP=at.abs,aW=at.asin,au,an,ao,aI,a4,y,k,aD,aF,aY,aZ,aU,a0,aC,a2,aE,am,x,al,aG,aK,aM,aQ,aq,aO,ar,aA,aw,aV;if(!aH){au=aN.rotate(aR,ay,-a5);aR=au.x;ay=au.y;au=aN.rotate(aT,aB,-a5);aT=au.x;aB=au.y;an=(aR-aT)/2;ao=(ay-aB)/2;aI=(an*an)/(av*av)+(ao*ao)/(ax*ax);if(aI>1){aI=aS(aI);av=aI*av;ax=aI*ax}a4=av*av;y=ax*ax;k=(aX==a1?-1:1)*aS(aP((a4*y-a4*ao*ao-y*an*an)/(a4*ao*ao+y*an*an)));aD=k*av*ao/ax+(aR+aT)/2;aF=k*-ax*an/av+(ay+aB)/2;aY=aW(((ay-aF)/ax).toFixed(7));aZ=aW(((aB-aF)/ax).toFixed(7));aY=aR<aD?a3-aY:aY;aZ=aT<aD?a3-aZ:aZ;if(aY<0){aY=a3*2+aY}if(aZ<0){aZ=a3*2+aZ}if(a1&&aY>aZ){aY=aY-a3*2}if(!a1&&aZ>aY){aZ=aZ-a3*2}}else{aY=aH[0];aZ=aH[1];aD=aH[2];aF=aH[3]}aU=aZ-aY;if(aP(aU)>az){aA=aZ;aw=aT;aV=aB;aZ=aY+az*(a1&&aZ>aY?1:-1);aT=aD+av*t(aZ);aB=aF+ax*a6(aZ);ap=aN.arc2curve(aT,aB,av,ax,aJ,0,a1,aw,aV,[aZ,aA,aD,aF])}aU=aZ-aY;a0=t(aY);aC=a6(aY);a2=t(aZ);aE=a6(aZ);am=at.tan(aU/4);x=4/3*av*am;al=4/3*ax*am;aG=[aR,ay];aK=[aR+x*aC,ay-al*a0];aM=[aT+x*aE,aB-al*a2];aQ=[aT,aB];aK[0]=2*aG[0]-aK[0];aK[1]=2*aG[1]-aK[1];if(aH){return[aK,aM,aQ].concat(ap)}else{ap=[aK,aM,aQ].concat(ap).join().split(",");aq=[];ar=ap.length;for(aO=0;aO<ar;aO++){aq[aO]=aO%2?aN.rotate(ap[aO-1],ap[aO],a5).y:aN.rotate(ap[aO],ap[aO+1],a5).x}return aq}}},0,0,0,0,0,0,[Ext.fx,"DrawPath"],0));(Ext.cmd.derive("Ext.fx.PropertyHandler",Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(q,x,z,u,s){z=(typeof z=="number")?z:1;var t=this.unitRE,w=t.exec(q),y,v;if(w){q=w[1];v=w[2];if(!this.scrollRE.test(s)&&!v&&this.pixelDefaultsRE.test(s)){v="px"}}q=+q||0;w=t.exec(x);if(w){x=w[1];v=w[2]||v}x=+x||0;y=(u!=null)?u:q;return{from:q,delta:(x-y)*z,units:v}},get:function(E,C,D,F,w){var u=E.length,A=[],z,x,v,B,y;for(z=0;z<u;z++){if(F){x=F[z][1].from}if(Ext.isArray(E[z][1])&&Ext.isArray(C)){v=[];B=0;y=E[z][1].length;for(;B<y;B++){v.push(this.computeDelta(E[z][1][B],C[B],D,x,w))}A.push([E[z][0],v])}else{A.push([E[z][0],this.computeDelta(E[z][1],C,D,x,w)])}}return A},set:function(q,u){var t=q.length,x=[],w,z,s,v,y;for(w=0;w<t;w++){z=q[w][1];if(Ext.isArray(z)){s=[];y=0;v=z.length;for(;y<v;y++){s.push(z[y].from+z[y].delta*u+(z[y].units||0))}x.push([q[w][0],s])}else{x.push([q[w][0],z.from+z.delta*u+(z.units||0)])}}return x}},stringHandler:{computeDelta:function(m,p,n,o,q){return{from:m,delta:p}},get:function(q,y,z,s,u){var t=q.length,x=[],w,v;for(w=0;w<t;w++){x.push([q[w][0],this.computeDelta(q[w][1],y,z,v,u)])}return x},set:function(t,n){var p=t.length,s=[],q,o;for(q=0;q<p;q++){o=t[q][1];s.push([t[q][0],o.delta])}return s}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(v,z){z=(typeof z=="number")?z:1;var u=false,x=[this.hexRE,this.rgbRE,this.hex3RE],w=x.length,s,y,q,t;for(t=0;t<w;t++){q=x[t];y=(t%2===0)?16:10;s=q.exec(v);if(s&&s.length===4){if(t===2){s[1]+=s[1];s[2]+=s[2];s[3]+=s[3]}u={red:parseInt(s[1],y),green:parseInt(s[2],y),blue:parseInt(s[3],y)};break}}return u||v},computeDelta:function(v,u,p,s){v=this.parseColor(v);u=this.parseColor(u,p);var o=s?s:v,t=typeof o,q=typeof u;if(t==="string"||t==="undefined"||q==="string"||q==="undefined"){return u||o}return{from:v,delta:{red:Math.round((u.red-o.red)*p),green:Math.round((u.green-o.green)*p),blue:Math.round((u.blue-o.blue)*p)}}},get:function(w,v,p,s){var x=w.length,t=[],q,u;for(q=0;q<x;q++){if(s){u=s[q][1].from}t.push([w[q][0],this.computeDelta(w[q][1],v,p,u)])}return t},set:function(q,v){var u=q.length,x=[],w,y,z,t,s;for(w=0;w<u;w++){y=q[w][1];if(y){t=y.from;s=y.delta;y=(typeof y==="object"&&"red" in y)?"rgb("+y.red+", "+y.green+", "+y.blue+")":y;y=(typeof y==="object"&&y.length)?y[0]:y;if(typeof y==="undefined"){return[]}z=typeof y==="string"?y:"rgb("+[(t.red+Math.round(s.red*v))%256,(t.green+Math.round(s.green*v))%256,(t.blue+Math.round(s.blue*v))%256].join(",")+")";x.push([q[w][0],z])}}return x}},object:{interpolate:function(l,n){n=(typeof n==="number")?n:1;var o={},m;for(m in l){o[m]=parseFloat(l[m])*n}return o},computeDelta:function(v,u,s,t){v=this.interpolate(v);u=this.interpolate(u,s);var o=t?t:v,p={},q;for(q in u){p[q]=u[q]-o[q]}return{from:v,delta:p}},get:function(w,v,p,s){var x=w.length,t=[],q,u;for(q=0;q<x;q++){if(s){u=s[q][1].from}t.push([w[q][0],this.computeDelta(w[q][1],v,p,u)])}return t},set:function(B,v){var u=B.length,y=[],w={},x,t,p,z,A;for(x=0;x<u;x++){z=B[x][1];t=z.from;p=z.delta;for(A in t){w[A]=t[A]+p[A]*v}y.push([B[x][0],w])}return y}},path:{computeDelta:function(m,q,o,p){o=(typeof o==="number")?o:1;var n;m=+m||0;q=+q||0;n=(p!=null)?p:m;return{from:m,delta:(q-n)*o}},forcePath:function(f){if(!Ext.isArray(f)&&!Ext.isArray(f[0])){f=Ext.fx.DrawPath.parsePathString(f)}return f},get:function(F,z,G,K){var E=this.forcePath(z),N=[],I=F.length,D,A,M,B,L,k,C,H,J;for(M=0;M<I;M++){J=this.forcePath(F[M][1]);B=Ext.fx.DrawPath.interpolatePaths(J,E);J=B[0];E=B[1];D=J.length;H=[];for(k=0;k<D;k++){B=[J[k][0]];A=J[k].length;for(C=1;C<A;C++){L=K&&K[0][1][k][C].from;B.push(this.computeDelta(J[k][C],E[k][C],G,L))}H.push(B)}N.push([F[M][0],H])}return N},set:function(D,F){var E=D.length,y=[],w,x,z,v,k,A,C,B;for(w=0;w<E;w++){A=D[w][1];v=[];C=A.length;for(x=0;x<C;x++){k=[A[x][0]];B=A[x].length;for(z=1;z<B;z++){k.push(A[x][z].from+A[x][z].delta*F)}v.push(k.join(","))}y.push([D[w][0],v.join(",")])}return y}}}},0,0,0,0,0,0,[Ext.fx,"PropertyHandler"],function(){var n=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],m=n.length,o=0,l;for(;o<m;o++){l=n[o];this[l]=this.color}n=["cursor"];m=n.length;o=0;for(;o<m;o++){l=n[o];this[l]=this.stringHandler}}));(Ext.cmd.derive("Ext.fx.Anim",Ext.Base,{isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,autoEnd:false,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(m){var l=this,k;m=m||{};if(m.keyframes){return new Ext.fx.Animator(m)}Ext.apply(l,m);if(l.from===undefined){l.from={}}l.propHandlers={};l.config=m;l.target=Ext.fx.Manager.createTarget(l.target);l.easingFn=Ext.fx.Easing[l.easing];l.target.dynamic=l.dynamic;if(!l.easingFn){l.easingFn=String(l.easing).match(l.bezierRE);if(l.easingFn&&l.easingFn.length===5){k=l.easingFn;l.easingFn=Ext.fx.CubicBezier.cubicBezier(+k[1],+k[2],+k[3],+k[4])}}l.id=Ext.id(null,"ext-anim-");l.mixins.observable.constructor.call(l);Ext.fx.Manager.addAnim(l);if(m.autoEnd){l.running=true;l.jumpToEnd()}},setAttr:function(k,g){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,k,g)},initAttrs:function(){var v=this,t=v.from,s=v.to,u=v.initialFrom||{},x={},z,y,q,w;for(w in s){if(s.hasOwnProperty(w)){z=v.target.getAttr(w,t[w]);y=s[w];if(!Ext.fx.PropertyHandler[w]){if(Ext.isObject(y)){q=v.propHandlers[w]=Ext.fx.PropertyHandler.object}else{q=v.propHandlers[w]=Ext.fx.PropertyHandler.defaultHandler}}else{q=v.propHandlers[w]=Ext.fx.PropertyHandler[w]}x[w]=q.get(z,y,v.damper,u[w],w)}}v.currentAttrs=x},start:function(n){var m=this,o=m.delay,p=m.delayStart,q;if(o){if(!p){m.delayStart=n;return}else{q=n-p;if(q<o){return}else{n=new Date(p.getTime()+o)}}}if(m.fireEvent("beforeanimate",m)!==false){m.startTime=n;if(!m.paused&&!m.currentAttrs){m.initAttrs()}m.running=true;m.frameCount=0}},jumpToEnd:function(){var f=this;if(!f.endWasCalled){if(!f.currentAttrs){f.initAttrs()}Ext.fx.Manager.jumpToEnd(f);f.end()}},runAnim:function(D){var v=this,t=v.currentAttrs,z=v.duration,A=v.easingFn,B=v.propHandlers,x={},w,u,y,C;if(D>=z){D=z;C=true}if(v.reverse){D=z-D}for(y in t){if(t.hasOwnProperty(y)){u=t[y];w=C?1:A(D/z);x[y]=B[y].set(u,w)}}v.frameCount++;return x},lastFrame:function(){var k=this,m=k.iterations,l=k.currentIteration;l++;if(l<m){if(k.alternate){k.reverse=!k.reverse}k.startTime=new Date();k.currentIteration=l;k.paused=false}else{k.currentIteration=0;k.end();k.fireEvent("lastframe",k,k.startTime)}},endWasCalled:0,end:function(k){var g=this;if(g.endWasCalled++){return}g.startTime=0;g.paused=false;g.running=false;Ext.fx.Manager.removeAnim(g);if(!k){g.fireEvent("afteranimate",g,g.startTime);Ext.callback(g.callback,g.scope,[g,g.startTime])}if(g.remove){g.target.destroy()}},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Anim"],0));Ext.enableFx=true;(Ext.cmd.derive("Ext.util.Animate",Ext.Base,{mixinId:"animate",isAnimate:true,animate:function(k){var g=this;if(Ext.fx.Manager.hasFxBlock(g.id)){return g}Ext.fx.Manager.queueFx(new Ext.fx.Anim(g.anim(k)));return this},anim:function(k){if(!Ext.isObject(k)){return(k)?{}:false}var g=this;if(k.stopAnimation){g.stopAnimation()}Ext.applyIf(k,Ext.fx.Manager.getFxDefaults(g.id));return Ext.apply({target:g,paused:true},k)},getAnimationProps:function(){var g=this,k=g.layout;return k&&k.animate?k.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(f){Ext.fx.Manager.stopAnimation(this.id,f);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},0,0,0,0,0,0,[Ext.util,"Animate"],0));(Ext.cmd.derive("Ext.dom.Fly",Ext.dom.Element,{alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:true,constructor:function(f){this.dom=f;this.el=this},attach:function(g){var k=this;if(!g){return k.detach()}k.dom=g;if(!Ext.cache[g.id]){k.getData().isSynchronized=false}return k},detach:function(){this.dom=null},addListener:null,removeListener:null},1,0,0,0,0,0,[Ext.dom,"Fly",Ext.dom.Element,"Fly"],function(m){var l={},k;m.cache=l;Ext.fly=function(q,f){var t=null,e=Ext.fly,g,s;f=f||(e.caller&&e.caller.$name)||"_global";q=Ext.getDom(q);if(q){g=q.nodeType;if(m.prototype.validNodeTypes[g]||(!g&&(q.window==q))){t=Ext.cache[q.id];if(!t||t.dom!==q){t=l[f]||(l[f]=new m());t.dom=q;s=t.getData(true);if(s){s.isSynchronized=false}}}}return t};Ext.getDetachedBody=function(){if(!k){Ext.detachedBodyEl=k=new m(document.createElement("div"));k.isDetachedBody=true}return k}}));(Ext.cmd.derive("Ext.dom.CompositeElementLite",Ext.Base,{alternateClassName:["Ext.CompositeElementLite"],isComposite:true,isLite:true,statics:{importElementMethods:function(){var k=Ext.dom.Element,g=this.prototype;Ext.Object.each(k.prototype,function(f,e){if(typeof e==="function"&&!g[f]){g[f]=function(){return this.invoke(f,arguments)}}})}},constructor:function(g,k){if(k){this.elements=g||[]}else{this.elements=[];this.add(g)}},getElement:function(g){var k=this._fly||(this._fly=new Ext.dom.Fly());return k.attach(g)},transformElement:function(f){return Ext.getDom(f)},getCount:function(){return this.elements.length},add:function(o,q){var m=this.elements,p,n;if(!o){return this}if(typeof o=="string"){o=Ext.fly(q||document).query(o)}else{if(o.isComposite){o=o.elements}else{if(!Ext.isIterable(o)){o=[o]}}}for(p=0,n=o.length;p<n;++p){m.push(this.transformElement(o[p]))}return this},invoke:function(q,u){var x=this,w=x.elements,p=w.length,v,s,t;if(t!==0){v=(x.isLite?Ext.dom.Fly:Ext.dom.Element).prototype;for(t=0;t<p;t++){s=w[t];if(s){v[q].apply(x.getElement(s),u)}}}return x},item:function(l){var k=this.elements[l],m=null;if(k){m=this.getElement(k)}return m},slice:function(g,k){return Ext.Array.slice(this.elements,g,k)},each:function(e,p){var v=this,q=v.elements,t=q.length,s,u;for(s=0;s<t;s++){u=q[s];if(u){u=this.getElement(u);if(e.call(p||u,u,v,s)===false){break}}}return v},fill:function(k){var g=this;g.elements=[];g.add(k);return g},insert:function(g,k){Ext.Array.insert(this.elements,g,k)},filter:function(y){var t=this,x=t.elements,u=x.length,w=[],v=0,s=typeof y=="function",q,z;for(;v<u;v++){z=x[v];q=false;if(z){z=t.getElement(z);if(s){q=y.call(z,z,t,v)!==false}else{q=z.is(y)}if(q){w.push(t.transformElement(z))}}}t.elements=w;return t},indexOf:function(f){return Ext.Array.indexOf(this.elements,this.transformElement(f))},replaceElement:function(n,o,q){var p=!isNaN(n)?n:this.indexOf(n),m;if(p>-1){o=Ext.getDom(o);if(q){m=this.elements[p];m.parentNode.insertBefore(o,m);Ext.removeNode(m)}Ext.Array.splice(this.elements,p,1,o)}return this},clear:function(l){var m=this,n=m.elements,o=n.length-1;if(l){for(;o>=0;o--){Ext.removeNode(n[o])}}this.elements=[]},addElements:function(n,p){if(!n){return this}if(typeof n==="string"){n=Ext.dom.Element.selectorFunction(n,p)}var o=this.elements,q=n.length,e;for(e=0;e<q;e++){o.push(Ext.get(n[e]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(f){return this.indexOf(f)!=-1},removeElement:function(k,v){k=[].concat(k);var q=this,x=q.elements,s=k.length,w,t,u;for(u=0;u<s;u++){w=k[u];if((t=(x[w]||x[w=q.indexOf(w)]))){if(v){if(t.dom){t.destroy()}else{Ext.removeNode(t)}}Ext.Array.erase(x,w,1)}}return q},destroy:function(){return this.invoke("destroy",arguments);this.callParent()}},1,0,0,0,0,0,[Ext.dom,"CompositeElementLite",Ext,"CompositeElementLite"],function(g){var k=g.prototype;g.importElementMethods();k.on=k.addListener}));Ext.define("Ext.overrides.dom.Element",(function(){var aE,aC=window,ai=document,aa="hidden",ax="isClipped",ac="overflow",at="overflow-x",au="overflow-y",ap="originalClip",ak="height",aI="width",aH="visibility",aM="display",ag="none",Y="offsets",aK="clip",aB="originalDisplay",af="visibilityMode",ao="isVisible",aD="x-hidden-offsets",ay="x-hidden-clip",X=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),ad=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,aj=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,aL=/\ssrc=([\'\"])(.*?)\1/i,az=/\S/,aF=/\stype=([\'\"])(.*?)\1/i,am=/^-ms-/,al=/(-[a-z])/gi,ae=function(f,e){return e.charAt(1).toUpperCase()},aA="x-masked",an="x-masked-relative",ar="x-mask-msg",av=/^body/i,aw={},aq=function(f){var e=f.getData(),g=e[af];if(g===undefined){e[af]=g=aE.VISIBILITY}return g},Z=ai.createRange?ai.createRange():null,ah={INPUT:true,TEXTAREA:true};if(Ext.isIE8){var aG=ai.createElement("div"),ab=[],aJ=Ext.Function.createBuffered(function(){var f=ab.length,e;for(e=0;e<f;e++){aG.appendChild(ab[e])}aG.innerHTML="";ab.length=0},10)}return{override:"Ext.dom.Element",mixins:[Ext.util.Animate],skipGarbageCollection:false,_init:function(e){aE=e;e.tabbableSelector+=",["+e.tabbableSavedCounterAttribute+"]"},statics:{selectableCls:"x-selectable",unselectableCls:"x-unselectable",tabbableSelector:Ext.supports.CSS3NegationSelector?'a[href],button,iframe,input,select,textarea,[tabindex]:not([tabindex="-1"]),[contenteditable="true"]':'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:true,IFRAME:true,EMBED:true,INPUT:true,OBJECT:true,SELECT:true,TEXTAREA:true,HTML:Ext.isIE?true:false,BODY:Ext.isIE?false:true},naturallyTabbableTags:{BUTTON:true,IFRAME:true,INPUT:true,SELECT:true,TEXTAREA:true,OBJECT:Ext.isIE8m?true:false},tabbableSavedCounterAttribute:"data-tabindex-counter",tabbableSavedValueAttribute:"data-tabindex-value",normalize:function(e){if(e==="float"){e=Ext.supports.Float?"cssFloat":"styleFloat"}return aw[e]||(aw[e]=e.replace(am,"ms-").replace(al,ae))}},addKeyListener:function(g,f,e){var k;if(typeof g!=="object"||Ext.isArray(g)){k={target:this,key:g,fn:f,scope:e}}else{k={target:this,key:g.key,shift:g.shift,ctrl:g.ctrl,alt:g.alt,fn:f,scope:e}}return new Ext.util.KeyMap(k)},addKeyMap:function(e){return new Ext.util.KeyMap(Ext.apply({target:this},e))},afterAnimate:function(){var e=this.shadow;if(e&&!e.disabled&&!e.animate){e.show()}},anchorAnimX:function(f){var e=(f==="l")?"right":"left";this.dom.style[e]="0px"},anim:function(l){if(!Ext.isObject(l)){return(l)?{}:false}var k=this,g=l.duration||Ext.fx.Anim.prototype.duration,e=l.easing||"ease",f;if(l.stopAnimation){k.stopAnimation()}Ext.applyIf(l,Ext.fx.Manager.getFxDefaults(k.id));Ext.fx.Manager.setFxDefaults(k.id,{delay:0});f={target:k.dom,remove:l.remove,alternate:l.alternate||false,duration:g,easing:e,callback:l.callback,listeners:l.listeners,iterations:l.iterations||1,scope:l.scope,block:l.block,concurrent:l.concurrent,delay:l.delay||0,paused:true,keyframes:l.keyframes,from:l.from||{},to:Ext.apply({},l),userConfig:l};Ext.apply(f.to,l.to);delete f.to.to;delete f.to.from;delete f.to.remove;delete f.to.alternate;delete f.to.keyframes;delete f.to.iterations;delete f.to.listeners;delete f.to.target;delete f.to.paused;delete f.to.callback;delete f.to.scope;delete f.to.duration;delete f.to.easing;delete f.to.concurrent;delete f.to.block;delete f.to.stopAnimation;delete f.to.delay;return f},animate:function(e){this.addAnimation(e);return this},addAnimation:function(k){var f=this,l=f.dom.id||Ext.id(f.dom),g,e,m;if(!Ext.fx.Manager.hasFxBlock(l)){if(k.listeners){g=k.listeners;delete k.listeners}if(k.internalListeners){k.listeners=k.internalListeners;delete k.internalListeners}m=k.autoEnd;delete k.autoEnd;e=new Ext.fx.Anim(f.anim(k));e.on({afteranimate:"afterAnimate",beforeanimate:"beforeAnimate",scope:f,single:true});if(g){e.on(g)}Ext.fx.Manager.queueFx(e);if(m){e.jumpToEnd()}}return e},beforeAnimate:function(){var e=this.shadow;if(e&&!e.disabled&&!e.animate){e.hide()}},boxWrap:function(f){f=f||"x-box";var e=Ext.get(this.insertHtml("beforeBegin","<div class='"+f+"' role='presentation'>"+Ext.String.format(X,f)+"</div>"));e.selectNode("."+f+"-mc").appendChild(this.dom);return e},clean:function(m){var l=this,f=l.dom,g=l.getData(),e=f.firstChild,k=-1,n;if(g.isCleaned&&m!==true){return l}while(e){n=e.nextSibling;if(e.nodeType===3){if(!(az.test(e.nodeValue))){f.removeChild(e)}else{if(n&&n.nodeType===3){e.appendData(Ext.String.trim(n.data));f.removeChild(n);n=e.nextSibling;e.nodeIndex=++k}}}else{Ext.fly(e,"_clean").clean();e.nodeIndex=++k}e=n}g.isCleaned=true;return l},empty:Z?function(){var e=this.dom;if(e.firstChild){Z.setStartBefore(e.firstChild);Z.setEndAfter(e.lastChild);Z.deleteContents()}}:function(){var e=this.dom;while(e.lastChild){e.removeChild(e.lastChild)}},clearListeners:function(){this.removeAnchor();arguments.callee.$previous.call(this)},clearPositioning:function(e){e=e||"";return this.setStyle({left:e,right:e,top:e,bottom:e,"z-index":"",position:"static"})},createProxy:function(l,e,g){l=(typeof l==="object")?l:{tag:"div",role:"presentation",cls:l};var f=this,k=e?Ext.DomHelper.append(e,l,true):Ext.DomHelper.insertBefore(f.dom,l,true);k.setVisibilityMode(aE.DISPLAY);k.hide();if(g&&f.setBox&&f.getBox){k.setBox(f.getBox())}return k},clearOpacity:function(){return this.setOpacity("")},clip:function(){var f=this,e=f.getData(),g;if(!e[ax]){e[ax]=true;g=f.getStyle([ac,at,au]);e[ap]={o:g[ac],x:g[at],y:g[au]};f.setStyle(ac,aa);f.setStyle(at,aa);f.setStyle(au,aa)}return f},destroy:function(){var g=this,e=g.dom,f=g.getData(),k,l;if(e){if(g.isAnimate){g.stopAnimation()}g.removeAnchor()}arguments.callee.$previous.call(this);if(e&&Ext.isIE8&&(e.window!=e)&&(e.nodeType!==9)&&(e.tagName!=="BODY")&&(e.tagName!=="HTML")){ab[ab.length]=e;aJ()}if(f){k=f.maskEl;l=f.maskMsg;if(k){k.destroy()}if(l){l.destroy()}}},enableDisplayMode:function(e){var f=this;f.setVisibilityMode(aE.DISPLAY);if(e!==undefined){f.getData()[aB]=e}return f},fadeIn:function(e){var g=this,f=g.dom;g.animate(Ext.apply({},e,{opacity:1,internalListeners:{beforeanimate:function(k){var l=Ext.fly(f,"_anim");if(l.isStyle("display","none")){l.setDisplayed("")}else{l.show()}}}}));return this},fadeOut:function(e){var g=this,f=g.dom;e=Ext.apply({opacity:0,internalListeners:{afteranimate:function(k){if(f&&k.to.opacity===0){var l=Ext.fly(f,"_anim");if(e.useDisplay){l.setDisplayed(false)}else{l.hide()}}}}},e);g.animate(e);return g},fixDisplay:function(){var e=this;if(e.isStyle(aM,ag)){e.setStyle(aH,aa);e.setStyle(aM,e._getDisplay());if(e.isStyle(aM,ag)){e.setStyle(aM,"block")}}},frame:function(m,k,f){var g=this,e=g.dom,l;m=m||"#C3DAF9";k=k||1;f=f||{};l=function(){var o=Ext.fly(e,"_anim"),p=this,n,q,s;o.show();n=o.getBox();q=Ext.getBody().createChild({role:"presentation",id:o.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35000,border:"0px solid "+m}});s=new Ext.fx.Anim({target:q,duration:f.duration||1000,iterations:k,from:{top:n.y,left:n.x,borderWidth:0,opacity:1,height:n.height,width:n.width},to:{top:n.y-20,left:n.x-20,borderWidth:10,opacity:0,height:n.height+40,width:n.width+40}});s.on("afteranimate",function(){q.destroy();p.end()})};g.animate({duration:(Math.max(f.duration,500)*2)||2000,listeners:{beforeanimate:{fn:l}},callback:f.callback,scope:f.scope});return g},getColor:function(n,m,e){var k=this.getStyle(n),l=e||e===""?e:"#",f,o,g=0;if(!k||(/transparent|inherit/.test(k))){return m}if(/^r/.test(k)){k=k.slice(4,k.length-1).split(",");o=k.length;for(;g<o;g++){f=parseInt(k[g],10);l+=(f<16?"0":"")+f.toString(16)}}else{k=k.replace("#","");l+=k.length===3?k.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):k}return(l.length>5?l.toLowerCase():m)},getLoader:function(){var f=this,e=f.getData(),g=e.loader;if(!g){e.loader=g=new Ext.ElementLoader({target:f})}return g},getPositioning:function(f){var g=this.getStyle(["left","top","position","z-index"]),e=this.dom;if(f){if(g.left==="auto"){g.left=e.offsetLeft+"px"}if(g.top==="auto"){g.top=e.offsetTop+"px"}}return g},ghost:function(l,g){var f=this,e=f.dom,k;l=l||"b";k=function(){var o=Ext.fly(e,"_anim"),p=o.getWidth(),q=o.getHeight(),n=o.getXY(),s=o.getPositioning(),m={opacity:0};switch(l){case"t":m.y=n[1]-q;break;case"l":m.x=n[0]-p;break;case"r":m.x=n[0]+p;break;case"b":m.y=n[1]+q;break;case"tl":m.x=n[0]-p;m.y=n[1]-q;break;case"bl":m.x=n[0]-p;m.y=n[1]+q;break;case"br":m.x=n[0]+p;m.y=n[1]+q;break;case"tr":m.x=n[0]+p;m.y=n[1]-q;break}this.to=m;this.on("afteranimate",function(){var t=Ext.fly(e,"_anim");if(t){t.hide();t.clearOpacity();t.setPositioning(s)}})};f.animate(Ext.applyIf(g||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:k}}));return f},hide:function(e){if(typeof e==="string"){this.setVisible(false,e);return this}this.setVisible(false,this.anim(e));return this},highlight:function(e,g){var o=this,s=o.dom,m={},p,l,q,f,k,n;g=g||{};f=g.listeners||{};q=g.attr||"backgroundColor";m[q]=e||"ffff9c";if(!g.to){l={};l[q]=g.endColor||o.getColor(q,"ffffff","")}else{l=g.to}g.listeners=Ext.apply(Ext.apply({},f),{beforeanimate:function(){p=s.style[q];var t=Ext.fly(s,"_anim");t.clearOpacity();t.show();k=f.beforeanimate;if(k){n=k.fn||k;return n.apply(k.scope||f.scope||aC,arguments)}},afteranimate:function(){if(s){s.style[q]=p}k=f.afteranimate;if(k){n=k.fn||k;n.apply(k.scope||f.scope||aC,arguments)}}});o.animate(Ext.apply({},g,{duration:1000,easing:"ease-in",from:m,to:l}));return o},hover:function(k,l,g,f){var e=this;e.on("mouseenter",k,g||e.dom,f);e.on("mouseleave",l,g||e.dom,f);return e},initDD:function(f,g,e){var k=new Ext.dd.DD(Ext.id(this.dom),f,g);return Ext.apply(k,e)},initDDProxy:function(f,g,e){var k=new Ext.dd.DDProxy(Ext.id(this.dom),f,g);return Ext.apply(k,e)},initDDTarget:function(f,g,e){var k=new Ext.dd.DDTarget(Ext.id(this.dom),f,g);return Ext.apply(k,e)},isFocusable:function(){var f=this.dom,g=false,e;if(f&&!f.disabled){e=f.nodeName;g=!!Ext.Element.naturallyFocusableTags[e]||((e==="A"||e==="LINK")&&!!f.href)||f.getAttribute("tabIndex")!=null||f.contentEditable==="true";if(Ext.isIE8&&e==="INPUT"&&f.type==="hidden"){g=false}g=g&&this.isVisible(true)}return g},isInputField:function(){var e=this.dom,f=e.contentEditable;if((ah[e.tagName]&&e.type!=="button")||(f===""||f==="true")){return true}return false},isTabbable:function(k){var g=this.dom,e=false,f,l,m;if(g&&!g.disabled){f=g.nodeName;m=g.getAttribute("tabIndex");l=m!=null;m-=0;if(f==="A"||f==="LINK"){if(g.href){e=l&&m<0?false:true}else{if(g.contentEditable==="true"){e=!l||(l&&m>=0)?true:false}else{e=l&&m>=0?true:false}}}else{if(g.contentEditable==="true"||Ext.Element.naturallyTabbableTags[f]){e=l&&m<0?false:true}else{if(l&&m>=0){e=true}}}if(Ext.isIE8&&f==="INPUT"&&g.type==="hidden"){e=false}e=e&&(k||((!this.component||this.component.isVisible(true))&&this.isVisible(true)))}return e},isMasked:function(n){var g=this,e=g.getData(),l=e.maskEl,m=e.maskMsg,f=false,k;if(l&&l.isVisible()){if(m){m.center(g)}f=true}else{if(n){k=g.findParentNode();if(k){return Ext.fly(k).isMasked(n)}}}return f},load:function(e){this.getLoader().load(e);return this},mask:function(e,g,o){var m=this,f=m.dom,k=m.getData(),l=k.maskEl,n;if(!(av.test(f.tagName)&&m.getStyle("position")==="static")){m.addCls(an)}if(l){l.destroy()}l=Ext.DomHelper.append(f,{role:"presentation",cls:"x-mask x-border-box",children:{role:"presentation",cls:g?ar+" "+g:ar,cn:{tag:"div",role:"presentation",cls:"x-mask-msg-inner",cn:{tag:"div",role:"presentation",cls:"x-mask-msg-text",html:e||""}}}},true);n=Ext.get(l.dom.firstChild);k.maskEl=l;m.addCls(aA);l.setDisplayed(true);if(typeof e==="string"){n.setDisplayed(true);n.center(m)}else{n.setDisplayed(false)}if(f===ai.body){l.addCls("x-mask-fixed")}m.saveTabbableState({skipSelf:f===ai.body});if(Ext.isIE9m&&f!==ai.body&&m.isStyle("height","auto")){l.setSize(undefined,o||m.getHeight())}return l},puff:function(f){var k=this,e=k.dom,l,g=k.getBox(),m=k.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],true);f=Ext.applyIf(f||{},{easing:"ease-out",duration:500,useDisplay:false});l=function(){var n=Ext.fly(e,"_anim");n.clearOpacity();n.show();this.to={width:g.width*2,height:g.height*2,x:g.x-(g.width/2),y:g.y-(g.height/2),opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var o=Ext.fly(e,"_anim");if(o){if(f.useDisplay){o.setDisplayed(false)}else{o.hide()}o.setStyle(m);Ext.callback(f.callback,f.scope)}})};k.animate({duration:f.duration,easing:f.easing,listeners:{beforeanimate:{fn:l}}});return k},selectable:function(){var e=this;e.dom.unselectable="";e.removeCls(aE.unselectableCls);e.addCls(aE.selectableCls);return e},setCapture:function(){var e=this.dom;if(Ext.isIE9m&&e.setCapture){e.setCapture()}},setHeight:function(g,f){var e=this;if(!f||!e.anim){arguments.callee.$previous.apply(this,arguments)}else{if(!Ext.isObject(f)){f={}}e.animate(Ext.applyIf({to:{height:g}},f))}return e},setHorizontal:function(){var e=this,f=e.verticalCls;delete e.vertical;if(f){delete e.verticalCls;e.removeCls(f)}delete e.setWidth;delete e.setHeight;if(!Ext.isIE8){delete e.getWidth;delete e.getHeight}delete e.styleHooks},updateText:function(f){var k=this,e,g;if(e){g=e.firstChild;if(!g||(g.nodeType!==3||g.nextSibling)){g=ai.createTextNode();k.empty();e.appendChild(g)}if(f){g.data=f}}},setHtml:function(m,n,e,l){var k=this,f,g,o;if(!k.dom){return k}m=m||"";g=k.dom;if(n!==true){g.innerHTML=m;Ext.callback(e,k);return k}f=Ext.id();m+='<span id="'+f+'" role="presentation"></span>';o=Ext.interval(function(){var u,p,q,s,t,v,w;if(!(v=ai.getElementById(f))){return false}clearInterval(o);Ext.removeNode(v);u=Ext.getHead().dom;while((p=ad.exec(m))){q=p[1];s=q?q.match(aL):false;if(s&&s[2]){w=ai.createElement("script");w.src=s[2];t=q.match(aF);if(t&&t[2]){w.type=t[2]}u.appendChild(w)}else{if(p[2]&&p[2].length>0){if(l){Ext.functionFactory(p[2]).call(l)}else{Ext.globalEval(p[2])}}}}Ext.callback(e,l||k)},20);g.innerHTML=m.replace(aj,"");return k},setOpacity:function(f,g){var e=this;if(!e.dom){return e}if(!g||!e.anim){e.setStyle("opacity",f)}else{if(typeof g!="object"){g={duration:350,easing:"ease-in"}}e.animate(Ext.applyIf({to:{opacity:f}},g))}return e},setPositioning:function(e){return this.setStyle(e)},setVertical:function(f,k){var e=this,g=aE.prototype;e.vertical=true;if(k){e.addCls(e.verticalCls=k)}e.setWidth=g.setHeight;e.setHeight=g.setWidth;if(!Ext.isIE8){e.getWidth=g.getHeight;e.getHeight=g.getWidth}e.styleHooks=(f===270)?g.verticalStyleHooks270:g.verticalStyleHooks90},setSize:function(f,k,g){var e=this;if(Ext.isObject(f)){g=k;k=f.height;f=f.width}if(!g||!e.anim){e.dom.style.width=aE.addUnits(f);e.dom.style.height=aE.addUnits(k);if(e.shadow||e.shim){e.syncUnderlays()}}else{if(g===true){g={}}e.animate(Ext.applyIf({to:{width:f,height:k}},g))}return e},setVisible:function(e,l){var g=this,f=g.dom,k=aq(g);if(typeof l==="string"){switch(l){case aM:k=aE.DISPLAY;break;case aH:k=aE.VISIBILITY;break;case Y:k=aE.OFFSETS;break;case aK:k=aE.CLIP;break}g.setVisibilityMode(k);l=false}if(!l||!g.anim){if(k===aE.DISPLAY){return g.setDisplayed(e)}else{if(k===aE.OFFSETS){g[e?"removeCls":"addCls"](aD)}else{if(k===aE.CLIP){g[e?"removeCls":"addCls"](ay)}else{if(k===aE.VISIBILITY){g.fixDisplay();f.style.visibility=e?"":aa}}}}}else{if(e){g.setOpacity(0.01);g.setVisible(true)}if(!Ext.isObject(l)){l={duration:350,easing:"ease-in"}}g.animate(Ext.applyIf({callback:function(){if(!e){Ext.fly(f).setVisible(false).setOpacity(1)}},to:{opacity:(e)?1:0}},l))}g.getData()[ao]=e;if(g.shadow||g.shim){g.setUnderlaysVisible(e)}return g},setWidth:function(f,g){var e=this;if(!g||!e.anim){arguments.callee.$previous.apply(this,arguments)}else{if(!Ext.isObject(g)){g={}}e.animate(Ext.applyIf({to:{width:f}},g))}return e},setX:function(f,e){return this.setXY([f,this.getY()],e)},setXY:function(e,g){var f=this;if(!g||!f.anim){arguments.callee.$previous.call(this,e)}else{if(!Ext.isObject(g)){g={}}f.animate(Ext.applyIf({to:{x:e[0],y:e[1]}},g))}return this},setY:function(e,f){return this.setXY([this.getX(),e],f)},show:function(e){if(typeof e==="string"){this.setVisible(true,e);return this}this.setVisible(true,this.anim(e));return this},slideIn:function(e,f,q){var o=this,g=o.dom,l=g.style,m,k,p,n;e=e||"t";f=f||{};m=function(){var w=this,x=f.listeners,y=Ext.fly(g,"_anim"),v,t,u,s;if(!q){y.fixDisplay()}v=y.getBox();if((e=="t"||e=="b")&&v.height===0){v.height=g.scrollHeight}else{if((e=="l"||e=="r")&&v.width===0){v.width=g.scrollWidth}}t=y.getStyle(["width","height","left","right","top","bottom","position","z-index"],true);y.setSize(v.width,v.height);if(f.preserveScroll){p=y.cacheScrollValues()}s=y.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+y.dom.id,style:{visibility:q?"visible":"hidden"}});n=s.dom.parentNode;s.setPositioning(y.getPositioning());if(s.isStyle("position","static")){s.position("relative")}y.clearPositioning("auto");s.clip();if(p){p()}y.setStyle({visibility:"",position:"absolute"});if(q){s.setSize(v.width,v.height)}switch(e){case"t":u={from:{width:v.width+"px",height:"0px"},to:{width:v.width+"px",height:v.height+"px"}};l.bottom="0px";break;case"l":u={from:{width:"0px",height:v.height+"px"},to:{width:v.width+"px",height:v.height+"px"}};o.anchorAnimX(e);break;case"r":u={from:{x:v.x+v.width,width:"0px",height:v.height+"px"},to:{x:v.x,width:v.width+"px",height:v.height+"px"}};o.anchorAnimX(e);break;case"b":u={from:{y:v.y+v.height,width:v.width+"px",height:"0px"},to:{y:v.y,width:v.width+"px",height:v.height+"px"}};break;case"tl":u={from:{x:v.x,y:v.y,width:"0px",height:"0px"},to:{width:v.width+"px",height:v.height+"px"}};l.bottom="0px";o.anchorAnimX("l");break;case"bl":u={from:{y:v.y+v.height,width:"0px",height:"0px"},to:{y:v.y,width:v.width+"px",height:v.height+"px"}};o.anchorAnimX("l");break;case"br":u={from:{x:v.x+v.width,y:v.y+v.height,width:"0px",height:"0px"},to:{x:v.x,y:v.y,width:v.width+"px",height:v.height+"px"}};o.anchorAnimX("r");break;case"tr":u={from:{x:v.x+v.width,width:"0px",height:"0px"},to:{x:v.x,width:v.width+"px",height:v.height+"px"}};l.bottom="0px";o.anchorAnimX("r");break}s.show();k=Ext.apply({},f);delete k.listeners;k=new Ext.fx.Anim(Ext.applyIf(k,{target:s,duration:500,easing:"ease-out",from:q?u.to:u.from,to:q?u.from:u.to}));k.on("afteranimate",function(){var z=Ext.fly(g,"_anim");z.setStyle(t);if(q){if(f.useDisplay){z.setDisplayed(false)}else{z.hide()}}if(s.dom){if(s.dom.parentNode){s.dom.parentNode.insertBefore(z.dom,s.dom)}else{n.appendChild(z.dom)}s.destroy()}if(p){p()}w.end()});if(x){k.on(x)}};o.animate({duration:f.duration?Math.max(f.duration,500)*2:1000,listeners:{beforeanimate:m}});return o},slideOut:function(e,f){return this.slideIn(e,f,true)},swallowEvent:function(l,k){var f=this,e,m,g=function(n){n.stopPropagation();if(k){n.preventDefault()}};if(Ext.isArray(l)){m=l.length;for(e=0;e<m;e++){f.on(l[e],g)}return f}f.on(l,g);return f},switchOff:function(k){var f=this,e=f.dom,g;k=Ext.applyIf(k||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});g=function(){var m=Ext.fly(e,"_anim"),n=this,o=m.getSize(),l=m.getXY(),p,q;m.clearOpacity();m.clip();q=m.getPositioning();p=new Ext.fx.Animator({target:e,duration:k.duration,easing:k.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:l[1]+o.height/2},100:{width:1,x:l[0]+o.width/2}}});p.on("afteranimate",function(){var s=Ext.fly(e,"_anim");if(k.useDisplay){s.setDisplayed(false)}else{s.hide()}s.clearOpacity();s.setPositioning(q);s.setSize(o);n.end()})};f.animate({duration:(Math.max(k.duration,500)*2),listeners:{beforeanimate:{fn:g}},callback:k.callback,scope:k.scope});return f},syncContent:function(g){g=Ext.getDom(g);var f=g.childNodes,l=f.length,n=this.dom,m=n.childNodes,p=m.length,s,o,v,t,e,k,q,u=n._extData;if(Ext.isIE9m&&n.mergeAttributes){n.mergeAttributes(g,true);n.src=g.src}else{e=g.attributes;k=e.length;for(s=0;s<k;s++){q=e[s].name;if(q!=="id"){n.setAttribute(q,e[s].value)}}}if(u){u.isSynchronized=false}if(l!==p){n.innerHTML=g.innerHTML;return}for(s=0;s<l;s++){v=f[s];o=m[s];t=v.nodeType;if(t!==o.nodeType||(t===1&&v.tagName!==o.tagName)){n.innerHTML=g.innerHTML;return}if(t===3){o.data=v.data}else{if(v.id&&o.id!==v.id){o.id=v.id}o.style.cssText=v.style.cssText;o.className=v.className;Ext.fly(o,"_syncContent").syncContent(v)}}},toggle:function(f){var e=this;e.setVisible(!e.isVisible(),e.anim(f));return e},unmask:function(){var f=this,e=f.getData(),g=e.maskEl,k;if(g){k=g.dom.style;if(k.clearExpression){k.clearExpression("width");k.clearExpression("height")}if(g){g.destroy();delete e.maskEl}f.removeCls([aA,an])}f.restoreTabbableState(f.dom===ai.body)},unclip:function(){var f=this,e=f.getData(),g;if(e[ax]){e[ax]=false;g=e[ap];if(g.o){f.setStyle(ac,g.o)}if(g.x){f.setStyle(at,g.x)}if(g.y){f.setStyle(au,g.y)}}return f},translate:function(g,e,f){if(Ext.supports.CssTransforms&&!Ext.isIE9m){arguments.callee.$previous.apply(this,arguments)}else{if(g!=null){this.dom.style.left=g+"px"}if(e!=null){this.dom.style.top=e+"px"}}},unselectable:function(){var e=this;if(Ext.isOpera){e.dom.unselectable="on"}e.removeCls(aE.selectableCls);e.addCls(aE.unselectableCls);return e},privates:{findTabbableElements:function(l){var k,q,o,x,w,t=this.dom,u=Ext.Element.tabbableSavedCounterAttribute,m=[],n=0,g,e,v,s,p,f;if(!t){return m}if(l){k=l.skipSelf;q=l.skipChildren;o=l.excludeRoot;x=l.includeSaved;w=l.includeHidden}o=o&&Ext.getDom(o);if(o&&o.contains(t)){return m}if(!k&&((x&&t.hasAttribute(u))||this.isTabbable(w))){m[n++]=t}if(q){return m}g=t.querySelectorAll(Ext.Element.tabbableSelector);p=g.length;if(!p){return m}v=new Ext.dom.Fly();for(s=0;s<p;s++){e=g[s];f=+e.getAttribute("tabIndex");if(((x&&e.hasAttribute(u))||(!(f<0)&&v.attach(e).isTabbable(w)))&&!(o&&(o===e||o.contains(e)))){m[n++]=e}}return m},saveTabbableState:function(k){var e=Ext.Element.tabbableSavedCounterAttribute,m=Ext.Element.tabbableSavedValueAttribute,n,l,f,g,o;if(!k||k.includeSaved==null){k=Ext.Object.chain(k||null);k.includeSaved=true}l=this.findTabbableElements(k);for(g=0,o=l.length;g<o;g++){f=l[g];n=+f.getAttribute(e);if(n>0){f.setAttribute(e,++n)}else{if(f.hasAttribute("tabIndex")){f.setAttribute(m,f.getAttribute("tabIndex"))}else{f.setAttribute(m,"none")}f.setAttribute("tabIndex","-1");f.setAttribute(e,"1")}}return l},restoreTabbableState:function(k,p){var s=this.dom,n=Ext.Element.tabbableSavedCounterAttribute,m=Ext.Element.tabbableSavedValueAttribute,f=[],l,g,f,e,q,o;if(!s){return this}if(!p){f=Ext.Array.from(s.querySelectorAll("["+n+"]"))}if(!k){f.unshift(s)}for(q=0,o=f.length;q<o;q++){e=f[q];if(!e.hasAttribute(n)||!e.hasAttribute(m)){continue}g=+e.getAttribute(n);if(g>1){e.setAttribute(n,--g);continue}l=e.getAttribute(m);if(l==="none"){e.removeAttribute("tabIndex")}else{e.setAttribute("tabIndex",l)}e.removeAttribute(m);e.removeAttribute(n)}return f}},deprecated:{"4.0":{methods:{pause:function(f){var e=this;Ext.fx.Manager.setFxDefaults(e.id,{delay:f});return e},scale:function(g,f,e){this.animate(Ext.apply({},e,{width:g,height:f}));return this},shift:function(e){this.animate(e);return this}}},"4.2":{methods:{moveTo:function(g,e,f){return this.setXY([g,e],f)},setBounds:function(k,e,g,l,f){return this.setBox({x:k,y:e,width:g,height:l},f)},setLeftTop:function(f,e){var g=this,k=g.dom.style;k.left=aE.addUnits(f);k.top=aE.addUnits(e);if(g.shadow||g.shim){g.syncUnderlays()}return g},setLocation:function(g,e,f){return this.setXY([g,e],f)}}},"5.0":{methods:{getAttributeNS:function(e,f){return this.getAttribute(f,e)},getCenterXY:function(){return this.getAlignToXY(ai,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle(ak))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle(aI))||0},getStyleSize:function(){var f=this,e=this.dom,l=(e===ai||e===ai.body),k,m,g;if(l){return{width:aE.getViewportWidth(),height:aE.getViewportHeight()}}k=f.getStyle(["height","width"],true);if(k.width&&k.width!=="auto"){m=parseFloat(k.width)}if(k.height&&k.height!=="auto"){g=parseFloat(k.height)}return{width:m||f.getWidth(true),height:g||f.getHeight(true)}},isBorderBox:function(){return true},isDisplayed:function(){return !this.isStyle("display","none")},focusable:"isFocusable"}}}}})(),function(){var H=Ext.dom.Element,I=H.prototype,P=!Ext.isIE8,aa=document,N=aa.defaultView,Q=/alpha\(opacity=(.*)\)/i,V=/^\s+|\s+$/g,M=I.styleHooks,U=Ext.supports,X,J,Y,k,W,L,Z;I._init(H);delete I._init;Ext.plainTableCls="x-table-plain";Ext.plainListCls="x-list-plain";if(Ext.CompositeElementLite){Ext.CompositeElementLite.importElementMethods()}if(!U.Opacity&&Ext.isIE){Ext.apply(M.opacity,{get:function(f){var g=f.style.filter,l,e;if(g.match){l=g.match(Q);if(l){e=parseFloat(l[1]);if(!isNaN(e)){return e?e/100:0}}}return 1},set:function(f,l){var e=f.style,g=e.filter.replace(Q,"").replace(V,"");e.zoom=1;if(typeof(l)==="number"&&l>=0&&l<1){l*=100;e.filter=g+(g.length?" ":"")+"alpha(opacity="+l+")"}else{e.filter=g}}})}if(!U.matchesSelector){var S=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,O=/\-/g,ab,R=function(e,g){var f=new RegExp("(?:^|\\s+)"+g.replace(O,"\\-")+"(?:\\s+|$)");if(e&&e!=="*"){e=e.toUpperCase();return function(l){return l.tagName===e&&f.test(l.className)}}return function(l){return f.test(l.className)}},G=function(e){e=e.toUpperCase();return function(f){return f.tagName===e}},K={};I.matcherCache=K;I.is=function(e){if(!e){return true}var q=this.dom,g,o,l,m,n,p,f;if(q.nodeType!==1){return false}if(!(l=Ext.isFunction(e)?e:K[e])){if(!(o=e.match(S))){m=q.parentNode;if(!m){n=true;m=ab||(ab=aa.createDocumentFragment());ab.appendChild(q)}p=Ext.Array.indexOf(Ext.fly(m,"_is").query(e),q)!==-1;if(n){ab.removeChild(q)}return p}f=o[1];g=o[2];K[e]=l=g?R(f,g):G(f)}return l(q)}}if(!N||!N.getComputedStyle){I.getStyle=function(l,q){var p=this,v=p.dom,e=typeof l!=="string",y=l,o=y,s=1,x=q,z=p.styleHooks,f,t,m,n,w,g,u;if(e){m={};y=o[0];u=0;if(!(s=o.length)){return m}}if(!v||v.documentElement){return m||""}t=v.style;if(q){g=t}else{g=v.currentStyle;if(!g){x=true;g=t}}do{n=z[y];if(!n){z[y]=n={name:H.normalize(y)}}if(n.get){w=n.get(v,p,x,g)}else{f=n.name;w=g[f]}if(!e){return w}m[y]=w;y=o[++u]}while(u<s);return m}}if(Ext.isIE8){Z=function(f,l,g,e){if(e[this.styleName]==="none"){return"0px"}return e[this.name]};Y=["Top","Right","Bottom","Left"];k=Y.length;while(k--){W=Y[k];L="border"+W+"Width";M["border-"+W.toLowerCase()+"-width"]=M[L]={name:L,styleName:"border"+W+"Style",get:Z}}var T="x-sync-repaint";I.syncRepaint=function(){this.addCls(T);this.getWidth();this.removeCls(T)}}if(Ext.isIE10m){Ext.override(H,{focus:function(f,g){var l=this,m;g=g||l.dom;if(Number(f)){Ext.defer(l.focus,f,l,[null,g])}else{Ext.GlobalEvents.fireEvent("beforefocus",g);if(g&&(g.tagName==="INPUT"||g.tagname==="TEXTAREA")){Ext.synchronouslyFocusing=document.activeElement}try{g.focus()}catch(e){m=e}if(Ext.synchronouslyFocusing&&document.activeElement!==g&&!m){g.focus()}Ext.synchronouslyFocusing=null}return l}})}Ext.apply(Ext,{enableGarbageCollector:true,isBorderBox:true,useShims:false,getElementById:function(f){var g=aa.getElementById(f),e;if(!g&&(e=Ext.detachedBodyEl)){g=e.dom.querySelector(Ext.makeIdSelector(f))}return g},addBehaviors:function(f){if(!Ext.isReady){Ext.onInternalReady(function(){Ext.addBehaviors(f)})}else{var m={},g,e,l;for(e in f){if((g=e.split("@"))[1]){l=g[0];if(!m[l]){m[l]=Ext.fly(document).select(l,true)}m[l].on(g[1],f[e])}}m=null}}});if(Ext.isIE9m){Ext.getElementById=function(f){var g=aa.getElementById(f),e;if(!g&&(e=Ext.detachedBodyEl)){g=e.dom.all[f]}return g};I.getById=function(e,g){var f=this.dom,n=null,l,m;if(f){m=(P&&aa.getElementById(e))||f.all[e];if(m){if(g){n=m}else{l=Ext.cache[e];if(l){if(l.skipGarbageCollection||!Ext.isGarbage(l.dom)){n=l}else{l.destroy()}}n=n||new Ext.Element(m)}}}return n}}else{if(!aa.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(e){return aa.getElementById(e)};I.getById=function(f,e){var g=aa.getElementById(f);return e?g:(g?Ext.get(g):null)}}}if(Ext.isIE&&!(Ext.isIE9p&&aa.documentMode>=9)){I.getAttribute=function(e,g){var f=this.dom,l;if(g){l=typeof f[g+":"+e];if(l!=="undefined"&&l!=="unknown"){return f[g+":"+e]||null}return null}if(e==="for"){e="htmlFor"}return f[e]||null}}Ext.onInternalReady(function(){var v=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,x=[],p=I.setWidth,o=I.setHeight,g=I.setSize,f=/^\d+(?:\.\d*)?px$/i,q,t,e,l;if(U.FixedTableWidthBug){M.width={name:"width",set:function(B,C,y){var z=B.style,A=y._needsTableWidthFix,D=z.display;if(A){z.display="none"}z.width=C;if(A){B.scrollWidth;z.display=D}}};I.setWidth=function(E,z){var C=this,B=C.dom,y=B.style,A=C._needsTableWidthFix,D=y.display;if(A&&!z){y.display="none"}p.call(C,E,z);if(A&&!z){B.scrollWidth;y.display=D}return C};I.setSize=function(E,z,y){var D=this,B=D.dom,F=B.style,A=D._needsTableWidthFix,C=F.display;if(A&&!y){F.display="none"}g.call(D,E,z,y);if(A&&!y){B.scrollWidth;F.display=C}return D}}if(Ext.isIE8){M.height={name:"height",set:function(B,C,y){var z=y.component,D,A;if(z&&z._syncFrameHeight&&y===z.el){A=z.frameBody.dom.style;if(f.test(C)){D=z.getFrameInfo();if(D){A.height=(parseInt(C,10)-D.height)+"px"}}else{if(!C||C==="auto"){A.height=""}}}B.style.height=C}};I.setHeight=function(A,y){var C=this.component,B,z;if(C&&C._syncFrameHeight&&this===C.el){z=C.frameBody.dom.style;if(!A||A==="auto"){z.height=""}else{B=C.getFrameInfo();if(B){z.height=(A-B.height)+"px"}}}return o.call(this,A,y)};I.setSize=function(C,A,y){var D=this.component,B,z;if(D&&D._syncFrameHeight&&this===D.el){z=D.frameBody.dom.style;if(!A||A==="auto"){z.height=""}else{B=D.getFrameInfo();if(B){z.height=(A-B.height)+"px"}}}return g.call(this,C,A,y)}}Ext.getDoc().on("selectstart",function(C,B){var D=H.selectableCls,y=H.unselectableCls,A=B&&B.tagName;A=A&&A.toLowerCase();if(A==="input"||A==="textarea"){return}while(B&&B.nodeType===1&&B!==aa.documentElement){var z=Ext.fly(B);if(z.hasCls(D)){return}if(z.hasCls(y)){C.stopEvent();return}B=B.parentNode}});function s(B,z,C,A){var y=A[this.name]||"";return v.test(y)?"transparent":y}function m(z,y,A){return function(){z.selectionStart=y;z.selectionEnd=A}}function n(D){var y=U.DisplayChangeInputSelectionBug,E=U.DisplayChangeTextAreaSelectionBug,C,A,B,z;if(y||E){C=H.getActiveElement();A=C&&C.tagName;if((E&&A==="TEXTAREA")||(y&&A==="INPUT"&&C.type==="text")){if(Ext.fly(D).isAncestor(C)){B=C.selectionStart;z=C.selectionEnd;if(Ext.isNumber(B)&&Ext.isNumber(z)){return m(C,B,z)}}}}return Ext.emptyFn}function u(C,E,B,y){var A=y.marginRight,z,D;if(A!=="0px"){z=C.style;D=z.display;z.display="inline-block";A=(B?y:C.ownerDocument.defaultView.getComputedStyle(C,null)).marginRight;z.display=D}return A}function w(B,E,D,F){var A=F.marginRight,y,z,C;if(A!=="0px"){y=B.style;z=n(B);C=y.display;y.display="inline-block";A=(D?F:B.ownerDocument.defaultView.getComputedStyle(B,"")).marginRight;y.display=C;z()}return A}if(!U.RightMargin){M.marginRight=M["margin-right"]={name:"marginRight",get:(U.DisplayChangeInputSelectionBug||U.DisplayChangeTextAreaSelectionBug)?w:u}}if(!U.TransparentColor){q=["background-color","border-color","color","outline-color"];for(t=q.length;t--;){e=q[t];l=H.normalize(e);M[e]=M[l]={name:l,get:s}}}I.verticalStyleHooks90=X=Ext.Object.chain(M);I.verticalStyleHooks270=J=Ext.Object.chain(M);X.width=M.height||{name:"height"};X.height=M.width||{name:"width"};X["margin-top"]={name:"marginLeft"};X["margin-right"]={name:"marginTop"};X["margin-bottom"]={name:"marginRight"};X["margin-left"]={name:"marginBottom"};X["padding-top"]={name:"paddingLeft"};X["padding-right"]={name:"paddingTop"};X["padding-bottom"]={name:"paddingRight"};X["padding-left"]={name:"paddingBottom"};X["border-top"]={name:"borderLeft"};X["border-right"]={name:"borderTop"};X["border-bottom"]={name:"borderRight"};X["border-left"]={name:"borderBottom"};J.width=M.height||{name:"height"};J.height=M.width||{name:"width"};J["margin-top"]={name:"marginRight"};J["margin-right"]={name:"marginBottom"};J["margin-bottom"]={name:"marginLeft"};J["margin-left"]={name:"marginTop"};J["padding-top"]={name:"paddingRight"};J["padding-right"]={name:"paddingBottom"};J["padding-bottom"]={name:"paddingLeft"};J["padding-left"]={name:"paddingTop"};J["border-top"]={name:"borderRight"};J["border-right"]={name:"borderBottom"};J["border-bottom"]={name:"borderLeft"};J["border-left"]={name:"borderTop"};if(!Ext.scopeCss){x.push("x-body")}if(U.Touch){x.push("x-touch")}if(Ext.isIE&&Ext.isIE9m){x.push("x-ie","x-ie9m");x.push("x-ie8p");if(Ext.isIE8){x.push("x-ie8")}else{x.push("x-ie9","x-ie9p")}if(Ext.isIE8m){x.push("x-ie8m")}}if(Ext.isIE10){x.push("x-ie10")}if(Ext.isIE10p){x.push("x-ie10p")}if(Ext.isIE11){x.push("x-ie11")}if(Ext.isEdge){x.push("x-edge")}if(Ext.isGecko){x.push("x-gecko")}if(Ext.isOpera){x.push("x-opera")}if(Ext.isOpera12m){x.push("x-opera12m")}if(Ext.isWebKit){x.push("x-webkit")}if(Ext.isSafari){x.push("x-safari")}if(Ext.isChrome){x.push("x-chrome")}if(Ext.isMac){x.push("x-mac")}if(Ext.isLinux){x.push("x-linux")}if(!U.CSS3BorderRadius){x.push("x-nbr")}if(!U.CSS3LinearGradient){x.push("x-nlg")}if(U.Touch){x.push("x-touch")}if(Ext.os.deviceType){x.push("x-"+Ext.os.deviceType.toLowerCase())}Ext.getBody().addCls(x)},null,{priority:1500})});(Ext.cmd.derive("Ext.GlobalEvents",Ext.mixin.Observable,{alternateClassName:"Ext.globalEvents",observableType:"global",singleton:true,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var f=this;f.callParent();Ext.onInternalReady(function(){f.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer});Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(e){this.fireEvent("mousedown",e)},fireResize:function(){var l=this,n=Ext.Element,o=n.getViewportWidth(),m=n.getViewportHeight();if(l.curHeight!==m||l.curWidth!==o){l.curHeight=m;l.curWidth=o;l.fireEvent("resize",o,m)}}},1,0,0,0,0,0,[Ext,"GlobalEvents",Ext,"globalEvents"],function(f){Ext.on=function(){return f.addListener.apply(f,arguments)};Ext.un=function(){return f.removeListener.apply(f,arguments)};Ext.fireEvent=function(){return f.fireEvent.apply(f,arguments)}}));Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",deprecated:{5:{methods:{addListener:function(w,t,s,q,x,y,v){var z,u;if(w==="ready"){u=t}else{if(typeof w!=="string"){for(z in w){if(z==="ready"){u=w[z]}}}}if(u){Ext.onReady(u)}this.callParent([w,t,s,q,x,y,v])}}}}});(Ext.cmd.derive("Ext.Glyph",Ext.Base,{isGlyph:true,constructor:function(f){f&&this.setGlyph(f)},setGlyph:function(g){var k;this.glyphConfig=g;if(typeof g==="string"){k=g.split("@");if(isNaN(g=isNaN(k[0])?parseInt("0"+k[0],16):parseInt(k[0],10))||!g){g=k[0].charCodeAt(0)}this.fontFamily=k[1]||Ext._glyphFontFamily}else{this.fontFamily=Ext._glyphFontFamily}this.codepoint=g;this.character=Ext.String.fromCodePoint(this.codepoint);return this},getStyle:function(){return{"font-family":this.fontFamily}},isEqual:function(f){return f&&f.isGlyph&&f.codepoint===this.codepoint&&f.fontFamily===this.fontFamily},statics:(function(){var f;return{fly:function(e){return e.isGlyph?e:(f||(f=new Ext.Glyph())).setGlyph(e)}}})()},1,0,0,0,0,0,[Ext,"Glyph"],0));Ext.USE_NATIVE_JSON=false;Ext.JSON=(new (function(){var me=this,hasNative=window.JSON&&JSON.toString()==="[object JSON]",useHasOwn=!!{}.hasOwnProperty,pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o,newline){if(o===null||o===undefined){return"null"}else{if(Ext.isDate(o)){return me.encodeDate(o)}else{if(Ext.isString(o)){if(Ext.isMSDate(o)){return me.encodeMSDate(o)}else{return me.encodeString(o)}}else{if(typeof o==="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{if(o.toJSON){return o.toJSON()}else{if(Ext.isArray(o)){return encodeArray(o,newline)}else{if(Ext.isObject(o)){return encodeObject(o,newline)}else{if(typeof o==="function"){return"null"}}}}}}}}}return"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(s){return'"'+s.replace(charToReplace,function(a){var c=m[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(o){return'"'+o+'"'},encodeArrayPretty=function(o,newline){var len=o.length,cnewline=newline+"   ",sep=","+cnewline,a=["[",cnewline],i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i],cnewline),sep)}a[a.length-1]=newline+"]";return a.join("")},encodeObjectPretty=function(o,newline){var cnewline=newline+"   ",sep=","+cnewline,a=["{",cnewline],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i)+": "+me.encodeValue(val,cnewline),sep)}}a[a.length-1]=newline+"}";return a.join("")},encodeArray=function(o,newline){if(newline){return encodeArrayPretty(o,newline)}var a=["[",""],len=o.length,i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i]),",")}a[a.length-1]="]";return a.join("")},encodeObject=function(o,newline){if(newline){return encodeObjectPretty(o,newline)}var a=["{",""],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i),":",me.encodeValue(val),",")}}a[a.length-1]="}";return a.join("")};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};me.encode=function(o){if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.stringify(o)}return me.encodeValue(o)};me.decode=function(json,safe){try{if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.parse(json)}return doDecode(json)}catch(e){if(safe){return null}Ext.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+json})}};me.encodeMSDate=encodeMSDate;if(!Ext.util){Ext.util={}}Ext.util.JSON=me;Ext.encode=me.encode;Ext.decode=me.decode})());(Ext.cmd.derive("Ext.mixin.Inheritable",Ext.Mixin,{mixinConfig:{id:"inheritable"},getInherited:function(q){var v=this,t=(q&&v.inheritedStateInner)||v.inheritedState,y=v.getRefOwner(),z=v.isContainer,s,x,w,u;if(!t||t.invalid){s=v.getRefOwner();u=v.ownerLayout;if(y){w=u?u===y.layout:true}v.inheritedState=t=Ext.Object.chain(s?s.getInherited(w):Ext.rootInheritedState);if(z){v.inheritedStateInner=x=Ext.Object.chain(t)}v.initInheritedState(t,x);t=(z&&q)?v.inheritedStateInner:v.inheritedState}return t},getInheritedConfig:function(m,q){var n=this.inheritedState,p,o;if(!n||n.invalid){n=this.getInherited()}o=n[m];if(q&&n.hasOwnProperty(m)){p=o;delete n[m];o=n[m];n[m]=p}return o},resolveListenerScope:function(n,t){var p=this,o=(typeof t==="boolean"),q=Ext._namedScopes[n],s;if(!q){s=p.getInheritedConfig("defaultListenerScope",o?t:true)||n||p}else{if(q.isController){s=p.getInheritedConfig("controller",o?t:!q.isSelf)}else{if(q.isSelf){s=p.getInheritedConfig("defaultListenerScope",o&&t)||p}else{if(q.isThis){s=p}}}}return s||null},resolveSatelliteListenerScope:function(o,m){var n=this,p=Ext._namedScopes[m],q;if(!p){q=n.getInheritedConfig("defaultListenerScope")||m||n}else{if(p.isController){q=n.getInheritedConfig("controller")}else{if(p.isSelf){q=n.getInheritedConfig("defaultListenerScope")||o}else{if(p.isThis){q=o}}}}return q||null},lookupReferenceHolder:function(f){return this.getInheritedConfig("referenceHolder",f!==false)||null},getRefOwner:function(){var f=this;return f.ownerCt||f.parent||f.$initParent||f.ownerCmp||f.floatParent},invalidateInheritedState:function(){var f=this.inheritedState;if(f){f.invalid=true;delete this.inheritedState}},privates:{fixReference:function(){var k=this,g;if(k.getReference()){g=k.lookupReferenceHolder();if(g){g.attachReference(k)}}},onInheritedAdd:function(l,m){var k=this;if(k.inheritedState&&m){k.invalidateInheritedState()}if(k.getReference()){Ext.ComponentManager.markReferencesDirty()}},onInheritedRemove:function(l){var m=this,k;if(m.getReference()){k=m.lookupReferenceHolder();if(k){k.clearReference(m)}}if(m.inheritedState&&!l){m.invalidateInheritedState()}}}},0,0,0,0,0,0,[Ext.mixin,"Inheritable"],function(){Ext.rootInheritedState={}}));(Ext.cmd.derive("Ext.mixin.Bindable",Ext.Base,{mixinId:"bindable",config:{bind:{$value:null,lazy:true},controller:null,defaultListenerScope:false,publishes:{$value:null,lazy:true,merge:function(g,k){return this.mergeSets(g,k)}},reference:null,session:{$value:null,lazy:true},twoWayBindable:{$value:null,lazy:true,merge:function(g,k){return this.mergeSets(g,k)}},viewModel:{$value:null,lazy:true}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(q){var p=this,u=p.getReference(),t=p.getController(),s=p.getConfig("viewModel",true),v=p.getConfig("session",true),o=p.getDefaultListenerScope();if(t){q.controller=t}if(o){q.defaultListenerScope=p}else{if(t){q.defaultListenerScope=t}}if(s){if(!s.isViewModel){s=p}q.viewModel=s}if(v){if(!v.isSession){v=p}q.session=v}if(u){p.referenceKey=(q.referencePath||"")+u;p.viewModelKey=(q.viewModelPath||"")+u}},lookupController:function(f){return this.getInheritedConfig("controller",f)||null},lookupSession:function(k){var g=k?null:this.getSession();if(!g){g=this.getInheritedConfig("session",k);if(g&&!g.isSession){g=g.getInherited().session=g.getSession()}}return g||null},lookupViewModel:function(k){var g=k?null:this.getViewModel();if(!g){g=this.getInheritedConfig("viewModel",k);if(g&&!g.isViewModel){g=g.getInherited().viewModel=g.getViewModel()}}return g||null},publishState:function(t,u){var v=this,B=v.publishedState,y=v.getBind(),w=y&&t&&y[t],x=0,A,C,z,D;if(w&&!w.syncing&&!w.isReadOnly()){if(!(w.calls===0&&(u==null||u===v.getInitialConfig()[t]))){w.setValue(u)}}if(!(C=v.getPublishes())){return}if(!(z=v.lookupViewModel())){return}if(!(D=v.viewModelKey)){return}if(t&&B){if(!C[t]){return}if(!(u&&u.constructor===Object)&&!(u instanceof Array)){if(B[t]===u){return}}D+=".";D+=t}else{B=B||(v.publishedState={});for(A in C){++x;if(A===t){B[A]=u}else{B[A]=v[A]}}if(!x){return}u=B}z.set(D,u)},privates:{addBindableUpdater:function(o){var p=this,n=p.self.$config.configs,q=n[o],m;if(q&&!p.hasOwnProperty(m=q.names.update)){p[m]=q.bindableUpdater||(q.root.bindableUpdater=p.makeBindableUpdater(q))}},applyBind:function(z,s){if(!z){return z}var x=this,u=x.lookupViewModel(),y=x.getTwoWayBindable(),B=x._getBindTemplateScope,w,t,A,v;x.$hasBinds=true;if(!s||typeof s==="string"){s={}}if(Ext.isString(z)){w=z;z={};z[x.defaultBindProperty]=w}for(t in z){A=z[t];w=s[t];if(w&&typeof w!=="string"){w.destroy();w=null;v=true}if(A){w=u.bind(A,x.onBindNotify,x);w._config=Ext.Config.get(t);w.getTemplateScope=B}if(v){delete s[t]}else{s[t]=w}if(y&&y[t]){if(v){x.clearBindableUpdater(t)}else{if(!w.isReadOnly()){x.addBindableUpdater(t)}}}}return s},applyController:function(f){if(f){f=Ext.Factory.controller(f);f.setView(this)}return f},applyPublishes:function(k){if(this.lookupViewModel()){for(var g in k){this.addBindableUpdater(g)}}return k},applySession:function(k){if(!k){return null}if(!k.isSession){var l=this.lookupSession(true),m=(k===true)?{}:k;if(l){k=l.spawn(m)}else{k=new Ext.data.Session(m)}}return k},applyViewModel:function(n){var m=this,o,l;if(!n){return null}if(!n.isViewModel){o={parent:m.lookupViewModel(true),view:m};o.session=m.getSession();if(!l&&!o.parent){o.session=m.lookupSession()}if(n){if(n.constructor===Object){Ext.apply(o,n)}else{if(typeof n==="string"){o.type=n}}}n=Ext.Factory.viewModel(o)}return n},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},clearBindableUpdater:function(o){var p=this,n=p.self.$config.configs,q=n[o],m;if(q&&p.hasOwnProperty(m=q.names.update)){if(p[m].$bindableUpdater){delete p[m]}}},destroyBindable:function(){var m=this,n=m.getConfig("viewModel",true),l=m.getConfig("session",true),o=m.getController();if(n&&n.isViewModel){n.destroy();m.setViewModel(null)}if(l&&l.isSession){if(l.getAutoDestroy()){l.destroy()}m.setSession(null)}if(o){m.setController(null);o.destroy()}},initBindable:function(){this.initBindable=Ext.emptyFn;this.getBind();this.getPublishes()},makeBindableUpdater:function(m){var k=m.names.update,l=function(e,g){var f=this,o=f.self.prototype[k];if(o){o.call(f,e,g)}f.publishState(m.name,e)};l.$bindableUpdater=true;return l},isSyncing:function(n){var l=this.getBind(),o=false,m;if(l){m=l[n];if(m){o=m.syncing>0}}return o},onBindNotify:function(l,m,k){k.syncing=(k.syncing+1)||1;this[k._config.names.set](l);--k.syncing},removeBindings:function(){var n=this,l,o,m;if(n.$hasBinds){l=n.getBind();if(l&&typeof l!=="string"){for(o in l){m=l[o];m.destroy();m._config=m.getTemplateScope=null}}}n.setBind(null)},updateSession:function(g){var k=this.getInherited();if(g){k.session=g}else{delete k.session}},updateViewModel:function(l){var k=this.getInherited(),m=this.getController();if(l){k.viewModel=l;l.setView(this);if(m){m.initViewModel(l)}}else{delete k.viewModel}}}},0,0,0,0,0,0,[Ext.mixin,"Bindable"],0));(Ext.cmd.derive("Ext.mixin.ComponentDelegation",Ext.Mixin,{mixinConfig:{id:"componentDelegation"},privates:{addDelegatedListener:function(x,v,t,D,z,A,y){var w=this,B,C,u;x=Ext.canonicalEventName(x);z=z||D.order;if(z){u=(D&&D.priority);if(!u){D=D?Ext.Object.chain(D):{};D.priority=w.$orderToPriority[z]}}B=w.$delegatedEvents||(w.$delegatedEvents={});C=B[x]||(B[x]=new Ext.util.Event(w,x));if(C.addListener(v,t,D,A,y)){w.$hasDelegatedListeners._incr_(x)}},clearDelegatedListeners:function(){var n=this,p=n.$delegatedEvents,q,o,m;if(p){for(q in p){o=p[q];m=o.listeners.length;o.clearListeners();n.$hasDelegatedListeners._decr_(q,m);delete p[q]}}},doFireDelegatedEvent:function(t,q){var v=this,s=true,u,p,o;if(v.$hasDelegatedListeners[t]){u=v.getRefOwner();while(u){p=u.$delegatedEvents;if(p){o=p[t];if(o){s=o.fireDelegated(v,q);if(s===false){break}}}u=u.getRefOwner()}}return s},removeDelegatedListener:function(t,p,q){var n=this,s=n.$delegatedEvents,o;if(s){o=s[t];if(o&&o.removeListener(p,q)){n.$hasDelegatedListeners._decr_(t);if(o.listeners.length===0){delete s[t]}}}},destroyComponentDelegation:function(){if(this.clearPropertiesOnDestroy){this.$delegatedEvents=null}}},onClassMixedIn:function(k){function g(){}k.prototype.HasListeners=k.HasListeners=g;g.prototype=k.hasListeners=new Ext.mixin.ComponentDelegation.HasDelegatedListeners()}},0,0,0,0,0,0,[Ext.mixin,"ComponentDelegation"],function(g){function k(){}g.HasDelegatedListeners=k;k.prototype=g.prototype.$hasDelegatedListeners=new Ext.mixin.Observable.HasListeners()}));(Ext.cmd.derive("Ext.mixin.Pluggable",Ext.Base,function(g){var k=[];return{config:{plugins:null},addPlugin:function(e){var f=this,m=f.getPlugins();if(m){e=f.createPlugin(e);e.init(f);m.push(e)}else{f.setPlugins(e)}return e},destroyPlugin:function(e){return this.removePlugin(e,true)},findPlugin:function(e){var q=this.getPlugins(),s=q&&q.length,f,t,n;for(f=0;f<s&&!n;f++){t=q[f];if(t.type===e||t.ptype===e){n=t}}return n||null},getPlugin:function(s){var q=this.getPlugins(),t=q&&q.length,f,e,n;for(f=0;f<t&&!n;f++){e=q[f];if(e.id===s||e.pluginId===s){n=e}}return n||null},removePlugin:function(e,f){var p=this.getPlugins(),o=p&&p.length||0,q;while(o-->0){q=p[o];if(q===e||q.id===e){p.splice(o,1);if(f){if(q.destroy){q.destroy()}}else{if(q.detachCmp){q.detachCmp();if(q.setCmp){q.setCmp(null)}}}break}q=null}return q},privates:{statics:{idSeed:0},activatePlugin:function(v){var u=this,f=u.initialConfig,s=f&&f.plugins,p=null,e,t;if(s){s=k.concat(s);for(e=s.length;e-->0;){t=s[e];if(t===v||t.type===v){u.initialConfig=f=Ext.apply({},f);f.plugins=s;s[e]=p=u.createPlugin(t);break}}}return p},applyPlugins:function(q,s){var t=this,f=s&&s.length||0,u,e,v;q=q?k.concat(q):null;u=q&&q.length||0;for(e=0;e<f;++e){s[e].$dead=true}for(e=0;e<u;++e){q[e]=t.createPlugin(q[e])}for(e=0;e<u;++e){v=q[e];if(v.$dead){delete v.$dead}else{v.init(t)}}for(e=0;e<f;++e){if((v=s[e]).$dead){delete v.$dead;Ext.destroy(v)}}return q},createPlugin:function(e){if(typeof e==="string"){e={type:e}}var f=e;if(!e.isInstance){e.cmp=this;f=Ext.factory(e,null,null,"plugin");delete e.cmp}if(!f.id){f.id=++g.idSeed}if(f.setCmp){f.setCmp(this)}return f}}}},0,0,0,0,0,0,[Ext.mixin,"Pluggable"],0));(Ext.cmd.derive("Ext.Widget",Ext.Evented,{alternateClassName:"Ext.Gadget",isWidget:true,element:{reference:"element"},observableType:"component",cachedConfig:{baseCls:true,cls:null,style:null,border:null,touchAction:null},config:{ui:null,userCls:null},eventedConfig:{width:null,height:null,hidden:null},template:[],classCls:null,classClsRoot:true,clearPropertiesOnDestroy:"async",noBorderCls:"x-noborder-trbl",constructor:function(l){var k=this,m;k.initId(l);k.initElement();k.mixins.observable.constructor.call(k,l);Ext.ComponentManager.register(k);m=k.getController();if(m){m.init(k)}},afterCachedConfig:function(){var u=this,t=u.self.prototype,s=u.referenceList,z=u.renderElement,w,y,x,v,A,B;t.renderTemplate=w=document.createDocumentFragment();w.appendChild(z.clone(true,true));B=w.querySelectorAll("[id]");for(x=0,v=B.length;x<v;x++){y=B[x];y.removeAttribute("id")}for(x=0,v=s.length;x<v;x++){A=s[x];u[A].dom.removeAttribute("reference")}},addCls:function(f){this.el.addCls(f)},applyBaseCls:function(m){var l="x-",k=this.xtype;if(m===true){m=this.classCls||(l+k)}else{if(!m){m=l+k}}return m},applyCls:function(f){if(typeof f=="string"){f=[f]}if(!f||!f.length){f=null}return f},applyHidden:function(f){return !!f},applyTouchAction:function(k,g){if(g!=null){k=Ext.merge({},g,k)}return k},applyWidth:function(f){return this.filterLengthValue(f)},applyHeight:function(f){return this.filterLengthValue(f)},updateBorder:function(f){f=f||f===null;this.el.toggleCls(this.noBorderCls,!f)},clearListeners:function(){var f=this;f.mixins.observable.clearListeners.call(f);f.mixins.componentDelegation.clearDelegatedListeners.call(f)},destroy:function(){var f=this;f.isDestroying=f.destroying=true;f.doDestroy();f.clearListeners();f.isDestroying=f.destroying=false;f.mixins.componentDelegation.destroyComponentDelegation.call(f);Ext.Evented.prototype.destroy.call(this)},doDestroy:function(){var m=this,p=m.referenceList,o,n,q;for(o=0,n=p.length;o<n;o++){q=p[o];if(m.hasOwnProperty(q)){m[q].destroy();m[q]=null}}m.destroyBindable();Ext.ComponentManager.unregister(m)},doFireEvent:function(p,n,q){var m=this,o=m.mixins.observable.doFireEvent.call(m,p,n,q);if(o!==false){o=m.mixins.componentDelegation.doFireDelegatedEvent.call(m,p,n)}return o},getBubbleTarget:function(){return this.getRefOwner()},getElementConfig:function(){var g=this,k=g.element;if(!("children" in k)){k=Ext.apply({children:g.getTemplate()},k)}return k},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},getClassCls:function(){var o=this.self.prototype,t=o,q,n,s,p;while(t){n=t.classCls;if(n){if(n instanceof Array){for(s=0,p=n.length;s<p;s++){(q||(q=[])).push(n[s])}}else{(q||(q=[])).push(n)}}if(t.classClsRoot&&t.hasOwnProperty("classClsRoot")){break}t=t.superclass}if(q){o.classClsList=q}return q},hide:function(){this.setHidden(true)},initElement:function(){var J=this,I=J.self.prototype,G=J.getId(),H=J.referenceList=J.referenceList=[],E=true,x=!I.hasOwnProperty("renderTemplate"),z,C,A,F,B,K,L,D,y;if(x){E=false;z=document.createDocumentFragment();C=Ext.Element.create(J.processElementConfig.call(I),true);z.appendChild(C)}else{z=J.renderTemplate.cloneNode(true);C=z.firstChild}F=z.querySelectorAll("[reference]");for(B=0,K=F.length;B<K;B++){L=F[B];D=L.getAttribute("reference");if(E){L.removeAttribute("reference")}if(D==="element"){L.id=G;A=J.el=J.addElementReference(D,L);A.dom.setAttribute("data-componentid",G);if(x){y=J.getClassCls();if(y){A.addCls(y)}}}else{J.addElementReferenceOnDemand(D,L)}H.push(D)}if(C===A.dom){J.renderElement=A}else{J.addElementReferenceOnDemand("renderElement",C)}},is:function(f){return Ext.ComponentQuery.is(this,f)},isHidden:function(l){var k=!!this.getHidden(),m;if(!k&&l){m=this.getRefOwner();while(m&&m!==l){k=!!m.getHidden();if(k){break}m=m.getRefOwner()}}return k},isVisible:function(f){return !this.isHidden(f)},isXType:function(g,k){return k?(Ext.Array.indexOf(this.xtypes,g)!==-1):!!this.xtypesMap[g]},lookupTpl:function(f){return Ext.XTemplate.getTpl(this,f)},removeCls:function(f){this.el.removeCls(f)},toggleCls:function(k,g){this.element.toggleCls(k,g)},resolveListenerScope:function(g,k){return this.mixins.inheritable.resolveListenerScope.call(this,g,k)},setSize:function(g,k){if(g&&typeof g==="object"){return this.setSize(g.width,g.height)}if(g!==undefined){this.setWidth(g)}if(k!==undefined){this.setHeight(k)}},show:function(){this.setHidden(false)},updateBaseCls:function(o,n){var l=this,m=l.element;if(n){m.removeCls(n)}if(o){m.addCls(o)}if(!l.isConfiguring){l.syncUiCls()}},updateCls:function(g,k){this.element.replaceCls(k,g)},updateHidden:function(g){var k=this.renderElement;if(k&&!k.destroyed){if(g){k.hide()}else{k.show()}}},applyStyle:function(g,k){if(k&&g===k&&Ext.isObject(k)){g=Ext.apply({},g)}return g},updateStyle:function(f){this.element.applyStyles(f)},updateTouchAction:function(m){var p,q,o,n;for(p in m){q=this[p];o=m[p];if(q&&q.isElement){q.setTouchAction(o)}else{n=true}}if(n){this.el.setTouchAction(m)}},updateUi:function(){this.syncUiCls()},updateWidth:function(f){this.element.setWidth(f)},updateHeight:function(f){this.element.setHeight(f)},up:function(q,p){var s=this.getRefOwner(),t=typeof p==="string",v=typeof p==="number",u=p&&p.isComponent,o=0;if(q){for(;s;s=s.getRefOwner()){o++;if(q.isComponent||q.isWidget){if(s===q){return s}}else{if(Ext.ComponentQuery.is(s,q)){return s}}if(t&&s.is(p)){return}if(v&&o===p){return}if(u&&s===p){return}}}return s},updateLayout:Ext.emptyFn,onFocusEnter:Ext.emptyFn,onFocusLeave:Ext.emptyFn,isAncestor:function(){return false},privates:{addElementReferenceOnDemand:function(k,g){if(this._elementListeners[k]){this.addElementReference(k,g)}else{Ext.Object.defineProperty(this,k,{get:function(){delete this[k];return this.addElementReference(k,g)},configurable:true})}},addElementReference:function(s,p){var o=this,t=o[s]=Ext.get(p),q=o._elementListeners[s],u,v;t.skipGarbageCollection=true;t.component=o;if(q){q=Ext.clone(q);for(u in q){v=q[u];if(typeof v==="object"){v.scope=o}}q.scope=o;t.on(q)}return t},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element);this.isDetached=true},doAddListener:function(E,v,H,F,C,D,A){var w=this,G=F&&F.element,x=F&&F.delegate,y,B,z;if(G){y={};y[E]=v;if(H){y.scope=H}B=Ext.Element.prototype.$eventOptions;for(z in F){if(B[z]){y[z]=F[z]}}w.mon(w[G],y);return}else{if(x){w.mixins.componentDelegation.addDelegatedListener.call(w,E,v,H,F,C,D,A);return}}Ext.Evented.prototype.doAddListener.call(this,E,v,H,F,C,D,A)},doRemoveListener:function(o,m,n){var l=this;l.mixins.observable.doRemoveListener.call(l,o,m,n);l.mixins.componentDelegation.removeDelegatedListener.call(l,o,m,n)},filterLengthValue:function(f){if(f==="auto"||(!f&&f!==0)){return null}return f},getFocusEl:function(){return this.element},initElementListeners:function(D){var t=this,z=t.self.superclass,A=z._elementListeners,y=D.reference,C=D.children,w,u,B,v,x;if(t.hasOwnProperty("_elementListeners")){w=t._elementListeners}else{w=t._elementListeners=(A?Ext.Object.chain(A):{})}if(y){u=D.listeners;if(u){if(A){B=A[y];if(B){u=Ext.Object.chain(B);Ext.apply(u,D.listeners)}}w[y]=u;D.listeners=null}}if(C){for(x=0,v=C.length;x<v;x++){t.initElementListeners(C[x])}}},initId:function(n){var m=this,o=m.config,l=(n&&n.id)||(o&&o.id);if(l){m.setId(l);m.id=l}else{m.getId()}},processElementConfig:function(){var m=this,k=m.self.superclass,l;if(m.hasOwnProperty("_elementConfig")){l=m._elementConfig}else{l=m._elementConfig=m.getElementConfig();if(k.isWidget){m.processElementConfig.call(k)}m.initElementListeners(l)}return l},reattachToBody:function(){this.isDetached=false},addUi:function(n){var p=this,o=p.getUi(),q,s,t;if(n){n=n.split(" ");t=n.length;o=(o&&o.split(" "))||[];for(q=0;q<t;q++){s=n[q];if(o.indexOf(s)===-1){o.push(s)}}p.setUi(o.join(" "))}},removeUi:function(v){var p=this,o=p.getUi(),q,t,s,u;if(v){v=v.split(" ");u=v.length;o=(o&&o.split(" "))||[];for(q=0;q<u;q++){t=v[q];s=o.indexOf(t);if(s!==-1){o.splice(s,1)}}p.setUi(o.join(" "))}},syncUiCls:function(){var u=this,F=u.getUi(),y=u.currentUiCls,z=u.element,x=u.getBaseCls(),E=u.classClsList,A=[],D,B,w,C,v;if(y){z.removeCls(y)}if(F){F=F.split(" ");for(B=0,w=F.length;B<w;B++){D="-"+F[B];if(x&&(x!==u.classCls)){A.push(x+D)}if(E){for(C=0,v=E.length;C<v;C++){A.push(E[C]+D)}}}z.addCls(A);u.currentUiCls=A}},updateUserCls:function(g,k){this.element.replaceCls(k,g)}}},1,["widget"],["widget"],{widget:true},["widget.widget"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Pluggable.prototype.mixinId||Ext.mixin.Pluggable.$className,Ext.mixin.Pluggable]],[Ext,"Widget",Ext,"Gadget"],function(g){var k=g.prototype;(k.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(k.$eventOptions=Ext.Object.chain(k.$eventOptions)).delegate=1}));Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",$configStrict:false,isComponent:true,liquidLayout:true,rendered:true,rendering:true,config:{renderTo:null},constructor:function(m){var l=this,k;(arguments.callee.$previous||Ext.Evented.prototype.constructor).call(this,m);l.getComponentLayout();k=l.getRenderTo();if(k){l.render(k)}},addClsWithUI:function(f){this.el.addCls(f)},afterComponentLayout:Ext.emptyFn,updateLayout:function(){var f=this.getRefOwner();if(f){f.updateLayout()}},destroy:function(){var g=this,k=g.ownerCt;if(k&&k.remove){k.remove(g,false)}(arguments.callee.$previous||Ext.Evented.prototype.destroy).call(this)},finishRender:function(){this.rendering=false;this.initBindable()},getAnimationProps:function(){return{}},getComponentLayout:function(){var g=this,k=g.componentLayout;if(!k){k=g.componentLayout=new Ext.layout.component.Auto();k.setOwner(g)}return k},getEl:function(){return this.element},getTdCls:function(){return"x-"+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(n,l,o){var m=this;m.ownerCt=n;m.onInheritedAdd(m,o)},onRemoved:function(g){var k=this;if(!g){k.removeBindings()}k.onInheritedRemove(g);k.ownerCt=k.ownerLayout=null},parseBox:function(f){return Ext.Element.parseBox(f)},removeClsWithUI:function(f){this.el.removeCls(f)},render:function(s,t){var o=this,q=o.element,p=Ext.Component.prototype,n;if(!o.ownerCt||o.floating){if(Ext.scopeCss){q.addCls(p.rootCls)}q.addCls(p.borderBoxCls)}if(t){n=s.childNodes[t];if(n){Ext.fly(s).insertBefore(q,n);return}}Ext.fly(s).appendChild(q)},setPosition:function(k,g){this.el.setLocalXY(k,g)},up:function(){return Ext.Component.prototype.up.apply(this,arguments)},isAncestor:function(){return Ext.Component.prototype.isAncestor.apply(this,arguments)},onFocusEnter:function(){return Ext.Component.prototype.onFocusEnter.apply(this,arguments)},onFocusLeave:function(){return Ext.Component.prototype.onFocusLeave.apply(this,arguments)},isLayoutChild:function(g){var k=this.ownerCt;return k?(k===g||k.isLayoutChild(g)):false},privates:{doAddListener:function(q,v,o,s,u,t,p){if(q=="painted"||q=="resize"){this.element.doAddListener(q,v,o||this,s,u)}(arguments.callee.$previous||Ext.Evented.prototype.doAddListener).call(this,q,v,o,s,u,t,p)},doRemoveListener:function(m,k,l){if(m=="painted"||m=="resize"){this.element.doRemoveListener(m,k,l)}(arguments.callee.$previous||Ext.Evented.prototype.doRemoveListener).call(this,m,k,l)}}},function(g){var k=g.prototype;if(Ext.isIE9m){k.addElementReferenceOnDemand=k.addElementReference}});(Ext.cmd.derive("Ext.ProgressBase",Ext.Base,{mixinId:"progressbase",config:{value:0,textTpl:null},applyTextTpl:function(f){if(!f.isTemplate){f=new Ext.XTemplate(f)}return f},applyValue:function(f){return f||0}},0,0,0,0,0,0,[Ext,"ProgressBase"],0));(Ext.cmd.derive("Ext.util.Format",Ext.Base,function(){var f;return{singleton:true,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencySpacer:"",percentSign:"%",currencyAtEnd:false,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){f=this},nbsp:function(e,k){k=k!==false;if(k?e===""||e==null:!e){e="\xa0"}return e},undef:function(e){return e!==undefined?e:""},defaultValue:function(e,k){return e!==undefined&&e!==""?e:k},substr:"ab".substr(-1)!="b"?function(n,e,o){var m=String(n);return(e<0)?m.substr(Math.max(m.length+e,0),o):m.substr(e,o)}:function(l,e,m){return String(l).substr(e,m)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},usMoney:function(e){return f.currency(e,"$",2)},currency:function(s,e,t,u,v){var w="",x=",0",q=0;s=s-0;if(s<0){s=-s;w="-"}t=Ext.isDefined(t)?t:f.currencyPrecision;x+=(t>0?".":"");for(;q<t;q++){x+="0"}s=f.number(s,x);if(v==null){v=f.currencySpacer}if((u||f.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}{3}",w,s,v,e||f.currencySign)}else{return Ext.String.format("{0}{1}{2}{3}",w,e||f.currencySign,v,s)}},date:function(k,e){if(!k){return""}if(!Ext.isDate(k)){k=new Date(Date.parse(k))}return Ext.Date.dateFormat(k,e||Ext.Date.defaultFormat)},dateRenderer:function(e){return function(k){return f.date(k,e)}},hex:function(e,l){var m=parseInt(e||0,10).toString(16);if(l){if(l<0){l=-l;if(m.length>l){m=m.substring(m.length-l)}}while(m.length<l){m="0"+m}}return m},or:function(e,k){return e||k},pick:function(m,n,e){if(Ext.isNumber(m)){var o=arguments[m+1];if(o){return o}}return m?e:n},lessThanElse:function(w,t,v,u,x){var s=Ext.Number.from(w,0),e=Ext.Number.from(t,0),q=!Ext.isDefined(x);return s<e?v:(s>e?u:(q?u:x))},sign:function(e,n,o,m){if(m===undefined){m=o}return f.lessThanElse(e,0,n,o,m)},stripTags:function(e){return !e?e:String(e).replace(f.stripTagsRe,"")},stripScripts:function(e){return !e?e:String(e).replace(f.stripScriptsRe,"")},fileSize:(function(){var m=1024,l=1048576,e=1073741824;return function(g){var k;if(g<m){if(g===1){k="1 byte"}else{k=g+" bytes"}}else{if(g<l){k=(Math.round(((g*10)/m))/10)+" KB"}else{if(g<e){k=(Math.round(((g*10)/l))/10)+" MB"}else{k=(Math.round(((g*10)/e))/10)+" GB"}}}return k}})(),math:(function(){var e={};return function(l,m){if(!e[m]){e[m]=Ext.functionFactory("v","return v "+m+";")}return e[m](l)}}()),round:function(e,l){var m=Number(e);if(typeof l==="number"){l=Math.pow(10,l);m=Math.round(e*l)/l}else{if(l===undefined){m=Math.round(m)}}return m},number:function(I,A){if(!A){return I}if(isNaN(I)){return""}var B=f.formatFns[A];if(!B){var v=A,F=f.thousandSeparator,H=f.decimalSeparator,z=0,C="",D,e,J,G,E,y;if(A.substr(A.length-2)==="/i"){if(!f.I18NFormatCleanRe||f.lastDecimalSeparator!==H){f.I18NFormatCleanRe=new RegExp("[^\\d\\"+H+"#]","g");f.lastDecimalSeparator=H}A=A.substr(0,A.length-2);D=A.indexOf(F)!==-1;e=A.replace(f.I18NFormatCleanRe,"").split(H)}else{D=A.indexOf(",")!==-1;e=A.replace(f.formatCleanRe,"").split(".")}J=A.replace(f.formatPattern,"");if(e.length>2){}else{if(e.length===2){z=e[1].length;G=e[1].match(f.hashRe);if(G){y=G[0].length;C='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+y+'}$")'}}}E=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(D?",thousandSeparator,thousands=[],j,n,i":"")+(J?',formatString="'+A+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+z+");",C,";"];if(D){if(z){E[E.length]='parts=fnum.split(".");';E[E.length]="fnum=parts[0];"}E[E.length]="if(absVal>=1000) {";E[E.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}";if(z){E[E.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else{if(z){E[E.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}E[E.length]='if(neg&&fnum!=="'+(z?"0."+Ext.String.repeat("0",z):"0")+'") { fnum="-"+fnum; }';if(G){E[E.length]='fnum=fnum.replace(trailingZeroes,"");'}E[E.length]="return ";if(J){E[E.length]="formatString.replace(formatPattern, fnum);"}else{E[E.length]="fnum;"}E[E.length]="};";B=f.formatFns[v]=Ext.functionFactory("Ext",E.join(""))(Ext)}return B(I)},numberRenderer:function(e){return function(k){return f.number(k,e)}},percent:function(e,k){return f.number(e*100,k||"0")+f.percentSign},attributes:function(l){if(typeof l==="object"){var m=[],e;for(e in l){if(l.hasOwnProperty(e)){m.push(e,'="',e==="style"?Ext.DomHelper.generateStyles(l[e],null,true):Ext.htmlEncode(l[e]),'" ')}}l=m.join("")}return l||""},plural:function(e,l,m){return e+" "+(e===1?l:(m?m:l+"s"))},nl2br:function(e){return Ext.isEmpty(e)?"":e.replace(f.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(l){l=l||0;if(typeof l==="number"){return{top:l,right:l,bottom:l,left:l}}var e=l.split(" "),m=e.length;if(m===1){e[1]=e[2]=e[3]=e[0]}else{if(m===2){e[2]=e[0];e[3]=e[1]}else{if(m===3){e[3]=e[1]}}}return{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0}},uri:function(e){return encodeURI(e)},uriCmp:function(e){return encodeURIComponent(e)},wordBreakRe:/[\W\s]+/,word:function(n,p,q){var o=q?(typeof q==="string"?new RegExp(q):q):f.wordBreakRe,e=(n||"").split(o);return e[p||0]||""}}},1,0,0,0,0,0,[Ext.util,"Format"],0));(Ext.cmd.derive("Ext.Template",Ext.Base,{inheritableStatics:{from:function(g,k){g=Ext.getDom(g);return new this(g.value||g.innerHTML,k||"")}},useEval:Ext.isGecko,constructor:function(q){var o=this,t=arguments,u=[],s,p=t.length,v;o.initialConfig={};if(p===1&&Ext.isArray(q)){t=q;p=t.length}if(p>1){for(s=0;s<p;s++){v=t[s];if(typeof v==="object"){Ext.apply(o.initialConfig,v);Ext.apply(o,v)}else{u.push(v)}}}else{u.push(q)}o.html=u.join("")},isTemplate:true,disableFormats:false,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(k){var g=this;if(g.compiled){if(!g.fn){g.compile()}return g.fn(k).join("")}return g.evaluate(k)},evaluate:function(t){var n=this,q=!n.disableFormats,o=Ext.util.Format,s=n;function p(f,g,k,e,l){if(k==null||k===""){k=g}if(e&&q){if(l){l=[t[k]].concat(Ext.functionFactory("return ["+l+"];")())}else{l=[t[k]]}if(e.substr(0,5)==="this."){return s[e.substr(5)].apply(s,l)}else{if(o[e]){return o[e].apply(o,l)}else{return f}}}else{return t[k]!==undefined?t[k]:""}}return n.html.replace(n.tokenRe,p)},applyOut:function(m,l){var k=this;if(k.compiled){if(!k.fn){k.compile()}l.push.apply(l,k.fn(m))}else{l.push(k.apply(m))}return l},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(m,k){var l=this;l.html=m;l.compiled=!!k;l.fn=null;return l},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var g=this,k;k=g.html.replace(g.compileARe,"\\\\").replace(g.compileBRe,"\\n").replace(g.compileCRe,"\\'").replace(g.tokenRe,g.regexReplaceFn.bind(g));k=(this.disableFormats!==true?"var fm=Ext.util.Format;":"")+(g.useEval?"$=":"return")+" function(v){return ['"+k+"'];};";g.fn=g.useEval?g.evalCompiled(k):(new Function("Ext",k))(Ext);g.compiled=true;return g},evalCompiled:function($){eval($);return $},regexReplaceFn:function(n,o,p,m,q){if(o==null||o===""){o='"'+p+'"'}else{if(this.stringFormat){o=parseInt(o)+1}}if(m&&this.disableFormats!==true){q=q?","+q:"";if(m.substr(0,5)==="this."){m=m+"("}else{if(Ext.util.Format[m]){m="fm."+m+"("}else{return n}}return"',"+m+"v["+o+"]"+q+"),'"}else{return"',v["+o+"] == undefined ? '' : v["+o+"],'"}},insertFirst:function(l,m,k){return this.doInsert("afterBegin",l,m,k)},insertBefore:function(l,m,k){return this.doInsert("beforeBegin",l,m,k)},insertAfter:function(l,m,k){return this.doInsert("afterEnd",l,m,k)},append:function(l,m,k){return this.doInsert("beforeEnd",l,m,k)},doInsert:function(p,n,q,m){var o=Ext.DomHelper.insertHtml(p,Ext.getDom(n),this.apply(q));return m?Ext.get(o):o},overwrite:function(m,o,l){var n=Ext.DomHelper.overwrite(Ext.getDom(m),this.apply(o));return l?Ext.get(n):n}},1,0,0,0,0,0,[Ext,"Template"],function(n){var o=/\{\d+\}/,q=function(e){if(o.test(e)){e=new n(e,p);return function(){return e.apply(arguments)}}else{return function(){return e}}},p={useFormat:false,compiled:true,stringFormat:true},m={};Ext.String.format=Ext.util.Format.format=function(f){var e=m[f]||(m[f]=q(f));return e.apply(this,arguments)};Ext.String.formatEncode=function(){return Ext.String.htmlEncode(Ext.String.format.apply(this,arguments))}}));(Ext.cmd.derive("Ext.util.XTemplateParser",Ext.Base,{constructor:function(f){Ext.apply(this,f)},doTpl:Ext.emptyFn,parse:function(E){var H=this,m=E.length,s={elseif:"elif"},L=H.topRe,R=H.actionsRe,P,Q,K,t,N,G,M,I,J,S,O,T,F;H.level=0;H.stack=Q=[];for(P=0;P<m;P=S){L.lastIndex=P;t=L.exec(E);if(!t){H.doText(E.substring(P,m));break}J=t.index;S=L.lastIndex;if(P<J){K=E.substring(P,J);if(!(F&&Ext.String.trim(K)==="")){H.doText(K)}}F=false;if(t[1]){S=E.indexOf("%}",J+2);H.doEval(E.substring(J+2,S));S+=2}else{if(t[2]){S=E.indexOf("]}",J+2);H.doExpr(E.substring(J+2,S));S+=2}else{if(t[3]){H.doTag(t[3])}else{if(t[4]){O=null;while((I=R.exec(t[4]))!==null){K=I[2]||I[3];if(K){K=Ext.String.htmlDecode(K);N=I[1];N=s[N]||N;O=O||{};G=O[N];if(typeof G=="string"){O[N]=[G,K]}else{if(G){O[N].push(K)}else{O[N]=K}}}}if(!O){if(H.elseRe.test(t[4])){H.doElse()}else{if(H.defaultRe.test(t[4])){H.doDefault()}else{H.doTpl();Q.push({type:"tpl"})}}}else{if(O["if"]){H.doIf(O["if"],O);Q.push({type:"if"})}else{if(O["switch"]){H.doSwitch(O["switch"],O);Q.push({type:"switch"});F=true}else{if(O["case"]){H.doCase(O["case"],O)}else{if(O.elif){H.doElseIf(O.elif,O)}else{if(O["for"]){++H.level;if(T=H.propRe.exec(t[4])){O.propName=T[1]||T[2]}H.doFor(O["for"],O);Q.push({type:"for",actions:O})}else{if(O.foreach){++H.level;if(T=H.propRe.exec(t[4])){O.propName=T[1]||T[2]}H.doForEach(O.foreach,O);Q.push({type:"foreach",actions:O})}else{if(O.exec){H.doExec(O.exec,O);Q.push({type:"exec",actions:O})}}}}}}}}}else{if(t[0].length===5){Q.push({type:"tpl"})}else{M=Q.pop();H.doEnd(M.type,M.actions);if(M.type=="for"||M.type=="foreach"){--H.level}}}}}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext.util,"XTemplateParser"],0));(Ext.cmd.derive("Ext.util.XTemplateCompiler",Ext.util.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(m){var k=this,l=k.generate(m);return k.useEval?k.evalTpl(l):(new Function("Ext",l))(Ext)},generate:function(o){var l=this,n="var fm=Ext.util.Format,ts=Object.prototype.toString;",m;l.maxLevel=0;l.body=["var c0=values, a0="+l.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];if(l.definitions){if(typeof l.definitions==="string"){l.definitions=[l.definitions,n]}else{l.definitions.push(n)}}else{l.definitions=[n]}l.switches=[];l.parse(o);l.definitions.push((l.useEval?"$=":"return")+" function ("+l.fnArgs+") {",l.body.join(""),"}");m=l.definitions.join("\n");l.definitions.length=l.body.length=l.switches.length=0;delete l.definitions;delete l.body;delete l.switches;return m},doText:function(k){var l=this,m=l.body;k=k.replace(l.aposRe,"\\'").replace(l.newLineRe,"\\n");if(l.useIndex){m.push("out[out.length]='",k,"'\n")}else{m.push("out.push('",k,"')\n")}},doExpr:function(g){var k=this.body;k.push("if ((v="+g+") != null) out");if(this.useIndex){k.push("[out.length]=v+''\n")}else{k.push(".push(v+'')\n")}},doTag:function(k){var g=this.parseTag(k);if(g){this.doExpr(g)}else{this.doText("{"+k+"}")}},doElse:function(){this.body.push("} else {\n")},doEval:function(f){this.body.push(f,"\n")},doIf:function(l,k){var m=this;if(l==="."){m.body.push("if (values) {\n")}else{if(m.propNameRe.test(l)){m.body.push("if (",m.parseTag(l),") {\n")}else{m.body.push("if (",m.addFn(l),m.callFn,") {\n")}}if(k.exec){m.doExec(k.exec)}},doElseIf:function(l,k){var m=this;if(l==="."){m.body.push("else if (values) {\n")}else{if(m.propNameRe.test(l)){m.body.push("} else if (",m.parseTag(l),") {\n")}else{m.body.push("} else if (",m.addFn(l),m.callFn,") {\n")}}if(k.exec){m.doExec(k.exec)}},doSwitch:function(k){var l=this,m;if(k==="."||k==="#"){m=k==="."?"values":"xindex";l.body.push("switch (",m,") {\n")}else{if(l.propNameRe.test(k)){l.body.push("switch (",l.parseTag(k),") {\n")}else{l.body.push("switch (",l.addFn(k),l.callFn,") {\n")}}l.switches.push(0)},doCase:function(o){var p=this,q=Ext.isArray(o)?o:[o],n=p.switches.length-1,t,s;if(p.switches[n]){p.body.push("break;\n")}else{p.switches[n]++}for(s=0,n=q.length;s<n;++s){t=p.intRe.exec(q[s]);q[s]=t?t[1]:("'"+q[s].replace(p.aposRe,"\\'")+"'")}p.body.push("case ",q.join(": case "),":\n")},doDefault:function(){var k=this,g=k.switches.length-1;if(k.switches[g]){k.body.push("break;\n")}else{k.switches[g]++}k.body.push("default:\n")},doEnd:function(n,l){var m=this,o=m.level-1;if(n=="for"||n=="foreach"){if(l.exec){m.doExec(l.exec)}m.body.push("}\n");m.body.push("parent=p",o,";values=r",o+1,";xcount=n"+o+";xindex=i",o,"+1;xkey=k",o,";\n")}else{if(n=="if"||n=="switch"){m.body.push("}\n")}}},doFor:function(p,v){var q=this,s,t=q.level,u=t-1,o;if(p==="."){s="values"}else{if(q.propNameRe.test(p)){s=q.parseTag(p)}else{s=q.addFn(p)+q.callFn}}if(q.maxLevel<t){q.maxLevel=t;q.body.push("var ")}if(p=="."){o="c"+t}else{o="a"+u+"?c"+u+"[i"+u+"]:c"+u}q.body.push("i",t,"=0,n",t,"=0,c",t,"=",s,",a",t,"=",q.createArrayTest(t),",r",t,"=values,p",t,",k",t,";\n","p",t,"=parent=",o,"\n","if (c",t,"){if(a",t,"){n",t,"=c",t,".length;}else if (c",t,".isMixedCollection){c",t,"=c",t,".items;n",t,"=c",t,".length;}else if(c",t,".isStore){c",t,"=c",t,".data.items;n",t,"=c",t,".length;}else{c",t,"=[c",t,"];n",t,"=1;}}\n","for (xcount=n",t,";i",t,"<n"+t+";++i",t,"){\n","values=c",t,"[i",t,"]");if(v.propName){q.body.push(".",v.propName)}q.body.push("\n","xindex=i",t,"+1\n");if(v.between){q.body.push('if(xindex>1){ out.push("',v.between,'"); } \n')}},doForEach:function(p,v){var q=this,s,t=q.level,u=t-1,o;if(p==="."){s="values"}else{if(q.propNameRe.test(p)){s=q.parseTag(p)}else{s=q.addFn(p)+q.callFn}}if(q.maxLevel<t){q.maxLevel=t;q.body.push("var ")}if(p=="."){o="c"+t}else{o="a"+u+"?c"+u+"[i"+u+"]:c"+u}q.body.push("i",t,"=-1,n",t,"=0,c",t,"=",s,",a",t,"=",q.createArrayTest(t),",r",t,"=values,p",t,",k",t,";\n","p",t,"=parent=",o,"\n","for(k",t," in c",t,"){\n","xindex=++i",t,"+1;\n","xkey=k",t,";\n","values=c",t,"[k",t,"];");if(v.propName){q.body.push(".",v.propName)}if(v.between){q.body.push('if(xindex>1){ out.push("',v.between,'"); } \n')}},createArrayTest:("isArray" in Array)?function(f){return"Array.isArray(c"+f+")"}:function(f){return"ts.call(c"+f+')==="[object Array]"'},doExec:function(n,m){var o=this,q="f"+o.definitions.length,p=o.guards[o.strict?0:1];o.definitions.push("function "+q+"("+o.fnArgs+") {",p.doTry," var $v = values; with($v) {","  "+n," }",p.doCatch,"}");o.body.push(q+o.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:" } catch(e) {\n}"}],addFn:function(o){var l=this,n="f"+l.definitions.length,m=l.guards[l.strict?0:1];if(o==="."){l.definitions.push("function "+n+"("+l.fnArgs+") {"," return values","}")}else{if(o===".."){l.definitions.push("function "+n+"("+l.fnArgs+") {"," return parent","}")}else{l.definitions.push("function "+n+"("+l.fnArgs+") {",m.doTry," var $v = values; with($v) {","  return("+o+")"," }",m.doCatch,"}")}}return n},parseTag:function(t){var w=this,v=w.tagRe.exec(t),m,u,q,x,s;if(!v){return null}m=v[1];u=v[2];q=v[3];x=v[4];if(m=="."){if(!w.validTypes){w.definitions.push("var validTypes={string:1,number:1,boolean:1};");w.validTypes=true}s='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else{if(m=="#"){s="xindex"}else{if(m=="$"){s="xkey"}else{if(m.substr(0,7)=="parent."){s=m}else{if(isNaN(m)&&m.indexOf("-")==-1&&m.indexOf(".")!=-1){s="values."+m}else{s="values['"+m+"']"}}}}}if(x){s="("+s+x+")"}if(u&&w.useFormat){q=q?","+q:"";if(u.substr(0,5)!="this."){u="fm."+u+"("}else{u+="("}}else{return s}return u+s+q+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},0,0,0,0,0,0,[Ext.util,"XTemplateCompiler"],function(){var f=this.prototype;f.fnArgs="out,values,parent,xindex,xcount,xkey";f.callFn=".call(this,"+f.fnArgs+")"}));(Ext.cmd.derive("Ext.XTemplate",Ext.Template,{isXTemplate:true,emptyObj:{},fn:null,strict:false,apply:function(o,n,m,l){return this.applyOut(o,[],n,m,l).join("")},applyOut:function(u,t,q,x,v){var e=this,s;if(!e.fn){s=new Ext.util.XTemplateCompiler({useFormat:e.disableFormats!==true,definitions:e.definitions,strict:e.strict});e.fn=s.compile(e.html)}x=x||1;v=v||1;if(e.strict){e.fn(t,u,q||e.emptyObj,x,v)}else{try{e.fn(t,u,q||e.emptyObj,x,v)}catch(w){}}return t},compile:function(){return this},statics:{getTpl:function(n,l){var m=n[l],o;if(m&&!m.isTemplate){m=Ext.ClassManager.dynInstantiate("Ext.XTemplate",m);if(n.hasOwnProperty(l)){o=n}else{for(o=n.self.prototype;o&&!o.hasOwnProperty(l);o=o.superclass){}}o[l]=m;m.owner=o}return m||null}}},0,0,0,0,0,0,[Ext,"XTemplate"],0));(Ext.cmd.derive("Ext.app.EventDomain",Ext.Base,{statics:{instances:{}},isEventDomain:true,isInstance:false,constructor:function(){var f=this;if(!f.isInstance){Ext.app.EventDomain.instances[f.type]=f}f.bus={};f.monitoredClasses=[]},dispatch:function(y,I,w){I=Ext.canonicalEventName(I);var J=this,x=J.bus,H=x[I],B,D,E,C,G,z,A,F;if(!H){return true}for(B in H){if(H.hasOwnProperty(B)&&J.match(y,B,J.controller)){D=H[B];for(E in D){if(D.hasOwnProperty(E)){C=D[E];if(C.controller.isActive()){G=C.list;z=G.length;for(A=0;A<z;A++){F=G[A];if(F.fire.apply(F,w)===false){return false}}}}}}}return true},listen:function(U,J){var L=this,K=L.bus,R=L.idProperty,Q=L.monitoredClasses,T=Q.length,N=J.getId(),M=(L.type==="component"),G=M?J.getRefMap():null,E,P,D,F,W,V,X,H,I,O,S;for(F in U){I=U[F];if(M){F=G[F]||F}if(I){if(R){F=F==="*"?F:F.substring(1)}for(O in I){W=null;V=I[O];X=J;O=Ext.canonicalEventName(O);H=new Ext.util.Event(J,O);if(Ext.isObject(V)){W=V;V=W.fn;X=W.scope||J;delete W.fn;delete W.scope}if(typeof V==="string"){V=X[V]}H.addListener(V,X,W);for(E=0;E<T;++E){S=Q[E].hasListeners;if(S){S._incr_(O)}}P=K[O]||(K[O]={});P=P[F]||(P[F]={});D=P[N]||(P[N]={controller:J,list:[]});D.list.push(H)}}}},match:function(k,m){var l=this.idProperty;if(l){return m==="*"||k[l]===m}return false},monitor:function(m){var n=this,o=m.isInstance?m:m.prototype,l=o.doFireEvent;n.monitoredClasses.push(m);o.doFireEvent=function(g,e){var k=this,f;f=l.apply(k,arguments);if(f!==false&&!k.destroyed&&!k.isSuspended(g)){f=n.dispatch(k,g,e)}return f}},unlisten:function(E){var N=this.bus,H=E,J=this.monitoredClasses,z=J.length,G,M,I,y,K,D,L,A,B,F,C;if(E.isController){H=E.getId()}for(M in N){M=Ext.canonicalEventName(M);if(N.hasOwnProperty(M)&&(L=N[M])){for(D in L){G=L[D];F=G[H];if(F){I=F.list;if(I){for(A=0,y=I.length;A<y;++A){K=I[A];K.clearListeners();for(B=0;B<z;++B){C=J[B].hasListeners;if(C){C._decr_(K.name)}}}delete G[H]}}}}}},destroy:function(){this.monitoredClasses=this.bus=null;this.callParent()}},1,0,0,0,0,0,[Ext.app,"EventDomain"],0));(Ext.cmd.derive("Ext.app.domain.Component",Ext.app.EventDomain,{singleton:true,type:"component",constructor:function(){this.callParent();this.monitor(Ext.Widget)},dispatch:function(n,p,q){var s=n.lookupController(false),o,t;while(s){o=s.compDomain;if(o){if(o.dispatch(n,p,q)===false){return false}}t=s.getView();s=t?t.lookupController(true):null}return this.callParent(arguments)},match:function(g,k){return g.is(k)}},1,0,0,0,0,0,[Ext.app.domain,"Component"],0));(Ext.cmd.derive("Ext.util.ProtoElement",Ext.Base,function(){var g=Ext.String.splitWords,k=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(n){var e=this,o,f;if(n){Ext.apply(e,n);o=e.cls;f=e.style;delete e.cls}e.classList=o?g(o):[];e.classMap=o?k(e.classList):{};if(f){if(typeof f==="string"){e.style=Ext.Element.parseStyles(f)}else{if(Ext.isFunction(f)){e.styleFn=f;delete e.style}else{e.style=Ext.apply({},f)}}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(z){if(!z){return this}var f=this,e=(typeof z==="string")?g(z):z,x=e.length,u=f.classList,y=f.classMap,w=f.flushClassList,v=0,t;for(;v<x;++v){t=e[v];if(!y[t]){y[t]=true;u.push(t);if(w){w.push(t);delete f.removedClasses[t]}}}return f},hasCls:function(e){return e in this.classMap},removeCls:function(A){var B=this,f=B.classList,x=(B.classList=[]),v=k(g(A)),y=f.length,z=B.classMap,u=B.removedClasses,w,e;for(w=0;w<y;++w){e=f[w];if(v[e]){if(u){if(z[e]){u[e]=true;Ext.Array.remove(B.flushClassList,e)}}delete z[e]}else{x.push(e)}}return B},setStyle:function(e,f){var n=this,o=n.style||(n.style={});if(typeof e==="string"){if(arguments.length===1){n.setStyle(Ext.Element.parseStyles(e))}else{o[e]=f}}else{Ext.apply(o,e)}return n},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=true}},writeTo:function(q){var f=this,e=f.flushClassList||f.classList,o=f.removedClasses,p;if(f.styleFn){p=Ext.apply({},f.styleFn());Ext.apply(p,f.style)}else{p=f.style}q[f.clsProp]=e.join(" ");if(p){q[f.styleProp]=f.styleIsText?Ext.DomHelper.generateStyles(p,null,true):p}if(o){o=Ext.Object.getKeys(o);if(o.length){q[f.removedProp]=o.join(" ")}}if(f.unselectableAttr){q.unselectable="on"}return q}}},1,0,0,0,0,0,[Ext.util,"ProtoElement"],0));(Ext.cmd.derive("Ext.dom.CompositeElement",Ext.dom.CompositeElementLite,{alternateClassName:"Ext.CompositeElement",isLite:false,getElement:function(f){return f},transformElement:function(f){return Ext.get(f)}},0,0,0,0,0,0,[Ext.dom,"CompositeElement",Ext,"CompositeElement"],0));(Ext.cmd.derive("Ext.util.CSS",Ext.Base,function(){var o,m=null,n=document,p=/(-[a-z])/gi,q=function(f,e){return e.charAt(1).toUpperCase()};return{singleton:true,rules:m,initialized:false,constructor:function(){o=this},createStyleSheet:function(k,f){var l,e=n.getElementsByTagName("head")[0],g=n.createElement("style");g.setAttribute("type","text/css");if(f){g.setAttribute("id",f)}l=g.styleSheet;if(l){e.appendChild(g);l.cssText=k}else{g.appendChild(n.createTextNode(k));e.appendChild(g);l=g.sheet}o.cacheStyleSheet(l);return l},removeStyleSheet:function(e){var f=(typeof e==="string")?n.getElementById(e):e.ownerNode;if(f){f.parentNode.removeChild(f)}},swapStyleSheet:function(f,e){var g;o.removeStyleSheet(f);g=n.createElement("link");g.setAttribute("rel","stylesheet");g.setAttribute("type","text/css");g.setAttribute("id",f);g.setAttribute("href",e);n.getElementsByTagName("head")[0].appendChild(g)},cacheStyleSheet:function(l){if(!m){m=o.rules={}}try{var f=l.cssRules||l.rules,v=f.length-1,x=l.imports,e=x?x.length:0,g,w;for(w=0;w<e;++w){o.cacheStyleSheet(x[w])}for(;v>=0;--v){g=f[v];if(g.styleSheet){o.cacheStyleSheet(g.styleSheet)}o.cacheRule(g,l)}}catch(k){}},cacheRule:function(l,f){if(l.styleSheet){return o.cacheStyleSheet(l.styleSheet)}var g=l.selectorText,k,e;if(g){g=g.split(",");k=g.length;for(e=0;e<k;e++){m[Ext.String.trim(g[e]).toLowerCase()]={parentStyleSheet:f,cssRule:l}}}},getRules:function(f){var g={},e;if(m===null||f){o.refreshCache()}for(e in m){g[e]=m[e].cssRule}return g},refreshCache:function(){var g=n.styleSheets,k=0,e=g.length;m=o.rules={};for(;k<e;k++){try{if(!g[k].disabled){o.cacheStyleSheet(g[k])}}catch(f){}}},getRule:function(l,g,k){var f,e;if(!m||g){o.refreshCache()}if(!Ext.isArray(l)){e=m[l.toLowerCase()];if(e&&!k){e=e.cssRule}return e||null}for(f=0;f<l.length;f++){if(m[l[f]]){return k?m[l[f].toLowerCase()]:m[l[f].toLowerCase()].cssRule}}return null},createRule:function(f,t,k){var e,g=f.cssRules||f.rules,l=g.length;if(f.insertRule){f.insertRule(t+" {"+k+"}",l)}else{f.addRule(t,k||" ")}o.cacheRule(e=g[l],f);return e},updateRule:function(e,g,k){var f,t,l;if(!Ext.isArray(e)){f=o.getRule(e);if(f){if(arguments.length===2){l=Ext.Element.parseStyles(g);for(g in l){f.style[g.replace(p,q)]=l[g]}}else{f.style[g.replace(p,q)]=k}return true}}else{for(t=0;t<e.length;t++){if(o.updateRule(e[t],g,k)){return true}}}return false},deleteRule:function(e){var g=o.getRule(e,false,true),f,k;if(g){f=g.parentStyleSheet;k=Ext.Array.indexOf(f.cssRules||f.rules,g.cssRule);if(f.deleteRule){f.deleteRule(k)}else{f.removeRule(k)}delete m[e]}}}},1,0,0,0,0,0,[Ext.util,"CSS"],0));(Ext.cmd.derive("Ext.fx.easing.Abstract",Ext.Base,{config:{startTime:0,startValue:0},isEasing:true,isEnded:false,constructor:function(f){this.initConfig(f);return this},applyStartTime:function(f){if(!f){f=Ext.Date.now()}return f},updateStartTime:function(f){this.reset()},reset:function(){this.isEnded=false},getValue:Ext.emptyFn},1,0,0,0,0,0,[Ext.fx.easing,"Abstract"],0));(Ext.cmd.derive("Ext.fx.easing.Linear",Ext.fx.easing.Abstract,{config:{duration:0,endValue:0},updateStartValue:function(f){this.distance=this.getEndValue()-f},updateEndValue:function(f){this.distance=f-this.getStartValue()},getValue:function(){var k=Ext.Date.now()-this.getStartTime(),g=this.getDuration();if(k>g){this.isEnded=true;return this.getEndValue()}else{return this.getStartValue()+((k/g)*this.distance)}}},0,0,0,0,["easing.linear"],0,[Ext.fx.easing,"Linear"],0));(Ext.cmd.derive("Ext.util.translatable.Abstract",Ext.Evented,{config:{useWrapper:null,easing:null,easingX:{duration:300},easingY:{duration:300}},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:false,isTranslatable:true,constructor:function(f){this.mixins.observable.constructor.call(this,f);this.position={x:0,y:0}},factoryEasing:function(f){return Ext.factory(f,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(f){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(f))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(f))}},applyEasingX:function(f){return this.factoryEasing(f)},applyEasingY:function(f){return this.factoryEasing(f)},doTranslate:function(k,g){if(this.hasListeners.translate){this.fireEvent("translate",this,k,g)}},translate:function(m,k,l){if(l){return this.translateAnimated(m,k,l)}if(this.isAnimating){this.stopAnimation()}if(!isNaN(m)&&typeof m=="number"){this.x=m}if(!isNaN(k)&&typeof k=="number"){this.y=k}this.doTranslate(m,k)},translateAxis:function(p,n,o){var q,m;if(p=="x"){q=n}else{m=n}return this.translate(q,m,o)},getPosition:function(){var g=this,k=g.position;k.x=-g.x;k.y=-g.y;return k},animate:function(g,k){this.activeEasingX=g;this.activeEasingY=k;this.isAnimating=true;this.lastX=null;this.lastY=null;Ext.AnimationQueue.start(this.doAnimationFrame,this);this.fireEvent("animationstart",this,this.x,this.y);return this},translateAnimated:function(u,w,p){var q=this;if(!Ext.isObject(p)){p={}}if(q.isAnimating){q.stopAnimation()}q.callback=p.callback;q.callbackScope=p.scope;var s=Ext.Date.now(),x=p.easing,t=(typeof u=="number")?(p.easingX||x||q.getEasingX()||true):null,v=(typeof w=="number")?(p.easingY||x||q.getEasingY()||true):null;if(t){t=q.factoryEasing(t);t.setStartTime(s);t.setStartValue(q.x);t.setEndValue(u);if("duration" in p){t.setDuration(p.duration)}}if(v){v=q.factoryEasing(v);v.setStartTime(s);v.setStartValue(q.y);v.setEndValue(w);if("duration" in p){v.setDuration(p.duration)}}return q.animate(t,v)},doAnimationFrame:function(){var o=this,q=o.activeEasingX,s=o.activeEasingY,p=Date.now(),t,n;if(!o.isAnimating){return}o.lastRun=p;if(q===null&&s===null){o.stopAnimation();return}if(q!==null){o.x=t=Math.round(q.getValue());if(q.isEnded){o.activeEasingX=null;o.fireEvent("axisanimationend",o,"x",t)}}else{t=o.x}if(s!==null){o.y=n=Math.round(s.getValue());if(s.isEnded){o.activeEasingY=null;o.fireEvent("axisanimationend",o,"y",n)}}else{n=o.y}if(o.lastX!==t||o.lastY!==n){o.doTranslate(t,n);o.lastX=t;o.lastY=n}o.fireEvent("animationframe",o,t,n)},stopAnimation:function(){var f=this;if(!f.isAnimating){return}f.activeEasingX=null;f.activeEasingY=null;f.isAnimating=false;Ext.AnimationQueue.stop(f.doAnimationFrame,f);if(!f.destroying){f.fireEvent("animationend",f,f.x,f.y);if(f.callback){f.callback.call(f.callbackScope);f.callback=null}}},refresh:function(){this.translate(this.x,this.y)},destroy:function(){var f=this;f.destroying=true;if(f.isAnimating){f.stopAnimation()}Ext.Evented.prototype.destroy.call(this);f.destroying=false;f.destroyed=true}},1,0,0,0,0,0,[Ext.util.translatable,"Abstract"],0));(Ext.cmd.derive("Ext.util.translatable.Dom",Ext.util.translatable.Abstract,{config:{element:null},applyElement:function(f){if(!f){return}return Ext.get(f)},updateElement:function(){this.refresh()}},0,0,0,0,0,0,[Ext.util.translatable,"Dom"],0));(Ext.cmd.derive("Ext.util.translatable.ScrollPosition",Ext.util.translatable.Dom,{type:"scrollposition",constructor:function(f){if(f&&f.element){this.x=f.element.getScrollLeft();this.y=f.element.getScrollTop()}Ext.util.translatable.Dom.prototype.constructor.call(this,f)},translateAnimated:function(){var f=this.getElement();this.x=f.getScrollLeft();this.y=f.getScrollTop();Ext.util.translatable.Dom.prototype.translateAnimated.apply(this,arguments)},doTranslate:function(m,k){var l=this.getElement();l.setScrollLeft(Math.round(m));l.setScrollTop(Math.round(k))},getPosition:function(){var k=this,m=k.position,l=k.getElement();m.x=l.getScrollLeft();m.y=l.getScrollTop();return m}},1,0,0,0,0,0,[Ext.util.translatable,"ScrollPosition"],0));(Ext.cmd.derive("Ext.scroll.Scroller",Ext.Evented,{factoryConfig:{defaultType:"scroller"},isScroller:true,config:{direction:undefined,element:undefined,scrollbars:null,snapSelector:null,snapOffset:null,msSnapInterval:null,x:true,y:true,scrollElement:null,size:null,spacerXY:null},snappableCls:"x-scroller-snappable",elementCls:"x-scroller",spacerCls:"x-scroller-spacer",noScrollbarsCls:"x-no-scrollbars",statics:{create:function(k,g){return Ext.Factory.scroller(k,g)},getScrollingElement:function(){var m=document,q=this.$standardScrollElement,n=m.scrollingElement,o,p;if(n){return n}if(q===undefined){o=document.createElement("iframe");o.style.height="1px";document.body.appendChild(o);p=o.contentWindow.document;p.write('<!DOCTYPE html><div style="height:9999em">x</div>');p.close();q=p.documentElement.scrollHeight>p.body.scrollHeight;o.parentNode.removeChild(o);this.$standardScrollElement=q}return q?m.documentElement:m.body}},constructor:function(k){var g=this;g.position={x:0,y:0};Ext.Evented.prototype.constructor.call(this,k);g.onDomScrollEnd=Ext.Function.createBuffered(g.onDomScrollEnd,100,g)},destroy:function(){var f=this;f.setX(Ext.emptyString);f.setY(Ext.emptyString);f.setElement(null);f.setScrollElement(null);f.onDomScrollEnd=f._partners=f.component=null;if(f._translatable){f._translatable.destroy();f._translatable=null}f.removeSnapStylesheet();Ext.Evented.prototype.destroy.call(this)},addPartner:function(n,p){var o=this,m=o._partners||(o._partners={}),q=n._partners||(n._partners={});m[n.getId()]={scroller:n,axis:p};q[o.getId()]={scroller:o,axis:p}},applyElement:function(s,t){var p=this,q,o,n;if(t){p.scrollListener.destroy()}if(s){if(s.isElement){q=s}else{q=Ext.get(s)}if(q.dom===document.documentElement||q.dom===document.body){o=Ext.getWin();n=Ext.scroll.Scroller.getScrollingElement()}else{n=o=q}p.setScrollElement(Ext.get(n));p.scrollListener=o.on({scroll:p.onDomScroll,scope:p,destroyable:true});return q}},applySize:function(n,m){var o,l;if(n===null||typeof n==="number"){o=l=n}else{if(n){o=n.x;l=n.y}}if(o===null){o=0}else{if(o===undefined){o=(m?m.x:0)}}if(l===null){l=0}else{if(l===undefined){l=(m?m.y:0)}}return{x:o,y:l}},getClientSize:function(){var f=this.getElement().dom;return{x:f.clientWidth,y:f.clientHeight}},getScrollbarSize:function(){var w=this,A=0,s=0,x=w.getElement(),y,t,u,v,z,B;if(x&&!x.destroyed){t=w.getX();u=w.getY();y=x.dom;if(t||u){B=Ext.getScrollbarSize()}if(t==="scroll"){v=true}else{if(t){v=y.scrollWidth>y.clientWidth}}if(u==="scroll"){z=true}else{if(u){z=y.scrollHeight>y.clientHeight}}if(v){s=B.height}if(z){A=B.width}}return{width:A,height:s}},getPosition:function(){var f=this;if(f.positionDirty){f.updateDomScrollPosition()}return f.position},getSize:function(){var l=this.getElement(),m,k;if(l&&!l.destroyed){k=l.dom;m={x:k.scrollWidth,y:k.scrollHeight}}else{m={x:0,y:0}}return m},getMaxPosition:function(){var n=this.getElement(),o=0,l=0,m;if(n&&!n.destroyed){m=n.dom;o=m.scrollWidth-m.clientWidth;l=m.scrollHeight-m.clientHeight}return{x:o,y:l}},getMaxUserPosition:function(){var o=this,p=o.getElement(),q=0,m=0,n;if(p&&!p.destroyed){n=p.dom;if(o.getX()){q=n.scrollWidth-n.clientWidth}if(o.getY()){m=n.scrollHeight-n.clientHeight}}return{x:q,y:m}},refresh:function(){this.positionDirty=true;this.fireEvent("refresh",this);return this},removePartner:function(l){var k=this._partners,m=l._partners;if(k){delete k[l.getId()]}if(m){delete (m[this.getId()])}},scrollBy:function(m,n,l){var o=this.getPosition();if(m){if(m.length){l=n;n=m[1];m=m[0]}else{if(typeof m!=="number"){l=n;n=m.y;m=m.x}}}m=(typeof m==="number")?m+o.x:null;n=(typeof n==="number")?n+o.y:null;return this.doScrollTo(m,n,l)},scrollIntoView:function(y,x,A,v){var t=this,u=t.getPosition(),w,B,s,z=t.getElement();if(y){w=Ext.fly(y).getScrollIntoViewXY(z,u.x,u.y);B=(x===false)?u.x:w.x;s=w.y;if(s!==u.y||B!==u.x){if(v){t.on({scrollend:"doHighlight",scope:t,single:true,args:[y,v]})}t.doScrollTo(B,s,A)}else{if(v){t.doHighlight(y,v)}}}},isInView:function(f){return this.doIsInView(f)},scrollTo:function(o,l,n){var m;if(o){if(o.length){n=l;l=o[1];o=o[0]}else{if(typeof o!=="number"){n=l;l=o.y;o=o.x}}}if(o<0||l<0){m=this.getMaxPosition();if(o<0){o+=m.x}if(l<0){l+=m.y}}this.doScrollTo(o,l,n)},updateDirection:function(m){var n=this,o,l;if(!m){o=n.getX();l=n.getY();if(o&&l){m=(l==="scroll"&&o==="scroll")?"both":"auto"}else{if(l){m="vertical"}else{if(o){m="horizontal"}}}n._direction=m}else{if(m==="auto"){o=true;l=true}else{if(m==="vertical"){o=false;l=true}else{if(m==="horizontal"){o=true;l=false}else{if(m==="both"){o="scroll";l="scroll"}}}}n.setX(o);n.setY(l)}},updateScrollbars:function(k,g){this.syncScrollbarCls()},updateSize:function(p){var o=this,q=o.getElement(),t=p.x,n=p.y,s;if(q){o.positionDirty=true;s=o.getSpacer();if(!t&&!n){s.hide()}else{if(t>0){t-=1}if(n>0){n-=1}o.setSpacerXY({x:t,y:n});s.show()}}},updateMsSnapInterval:function(){this.initMsSnapInterval()},updateSnapSelector:function(){this.initSnap()},updateSnapOffset:function(){this.initSnap()},updateElement:function(k){var g=this;g.initXStyle();g.initYStyle();k.addCls(g.elementCls);g.initSnap();g.initMsSnapInterval();g.syncScrollbarCls()},updateX:function(f){this.initXStyle()},updateY:function(f){this.initYStyle()},deprecated:{"5":{methods:{getScroller:function(){return this}}},"5.1.0":{methods:{scrollToTop:function(f){return this.scrollTo(0,0,f)},scrollToEnd:function(f){return this.scrollTo(Infinity,Infinity,f)}}}},privates:{getSpacer:function(){var k=this,m=k._spacer,l;if(!m){l=k.getElement();m=k._spacer=l.createChild({cls:k.spacerCls,role:"presentation"},l.dom.firstChild);m.setVisibilityMode(2);m.hide();l.position()}return m},applySpacerXY:function(g,k){if(k&&g.x===k.x&&g.y===k.y){g=undefined}return g},updateSpacerXY:function(n){var q=this,t=q.getSpacer(),o=t.dom.style,s=n.y,p;o.marginTop="";q.translateSpacer(n.x,q.constrainScrollRange(s));o.lineHeight=Number(!parseInt(o.lineHeight,10))+"px";p=s-q.getElement().dom.scrollHeight;if(p>0){o.marginTop=Math.min(p,q.maxSpacerMargin||0)+"px"}},translateSpacer:function(k,g){this.getSpacer().translate(k,g)},doIsInView:function(t,q){var s=this,w=s.component,v={x:false,y:false},p,x=s.getElement(),u;if(t&&(q||(x.contains(t)||(w&&w.owns(t))))){u=x.getRegion();p=Ext.fly(t).getRegion();v.x=p.right>u.left&&p.left<u.right;v.y=p.bottom>u.top&&p.top<u.bottom}return v},constrainScrollRange:function(s){if(s<1000000){return s}if(!this.maxSpacerTranslate){var t=Math.pow(2,32),v=t,p=500,u=Ext.getBody().createChild({style:{position:"absolute",left:"-10000px",top:"0",width:"500px",height:"500px"},cn:{cls:this.spacerCls}},null,true),q=Ext.get(u.firstChild),o=q.dom.style;q.translate(0,t-1);o.lineHeight=Number(!parseInt(o.lineHeight,10))+"px";while(v!==p+1){q.translate(0,(t=p+Math.floor((v-p)/2)));o.lineHeight=Number(!parseInt(o.lineHeight,10))+"px";if(u.scrollHeight<t){v=t}else{p=t}}q.translate(0,Ext.scroll.Scroller.prototype.maxSpacerTranslate=p);v=p*2;while(v!==p+1){q.dom.style.marginTop=((t=p+Math.floor((v-p)/2)))+"px";o.lineHeight=Number(!parseInt(o.lineHeight,10))+"px";if(u.scrollHeight<t){v=t}else{p=t}}Ext.fly(u).destroy();Ext.scroll.Scroller.prototype.maxSpacerMargin=p-Ext.scroll.Scroller.prototype.maxSpacerTranslate}return Math.min(s,this.maxSpacerTranslate)},convertX:function(f){return f},doHighlight:function(g,k){if(k!==true){Ext.fly(g).highlight(k)}else{Ext.fly(g).highlight()}},doScrollTo:function(t,u,B){var v=this,y=v.getScrollElement(),x,A,s,w,z;if(y&&!y.destroyed){A=y.dom;s=(t===Infinity);w=(u===Infinity);if(s||w){x=v.getMaxPosition();if(s){t=x.x}if(w){u=x.y}}t=v.convertX(t);if(B){if(!this._translatable){this._translatable=new Ext.util.translatable.ScrollPosition({element:y})}this._translatable.translate(t,u,B)}else{if(u!=null){A.scrollTop=u}if(t!=null){A.scrollLeft=t;if(Ext.isIE8){z=A.scrollLeft;A.scrollLeft=t}}}v.positionDirty=true}},fireScrollStart:function(o,l){var m=this,n=m.component;m.invokePartners("onPartnerScrollStart",o,l);if(m.hasListeners.scrollstart){m.fireEvent("scrollstart",m,o,l)}if(n&&n.onScrollStart){n.onScrollStart(o,l)}Ext.GlobalEvents.fireEvent("scrollstart",m,o,l)},fireScroll:function(o,l){var m=this,n=m.component;m.invokePartners("onPartnerScroll",o,l);if(m.hasListeners.scroll){m.fireEvent("scroll",m,o,l)}if(n&&n.onScrollMove){n.onScrollMove(o,l)}Ext.GlobalEvents.fireEvent("scroll",m,o,l)},fireScrollEnd:function(o,l){var m=this,n=m.component;m.invokePartners("onPartnerScrollEnd",o,l);if(m.hasListeners.scrollend){m.fireEvent("scrollend",m,o,l)}if(n&&n.onScrollEnd){n.onScrollEnd(o,l)}Ext.GlobalEvents.fireEvent("scrollend",m,o,l)},getElementScroll:function(f){return f.getScroll()},initSnap:function(){var q=this,v=q.getSnapOffset(),p=q.getSnapSelector(),s=q.getElement(),u,o,t;if(s&&p){s.addCls(q.snappableCls);q.removeSnapStylesheet();if(v){u=v.x||0;o=v.y||0;if(u){u=-u+"px"}if(o){o=-o+"px"}}t=u+" "+o+";";q.snapStylesheet=Ext.util.CSS.createStyleSheet("#"+s.id+" "+p+"{-webkit-scroll-snap-coordinate:"+t+"scroll-snap-coordinate:"+t+"}")}},initMsSnapInterval:function(){var o=this.getElement(),p,q,m,n;if(o){p=this.getMsSnapInterval();if(p){q=p.x;m=p.y;n=o.dom.style;if(q){n["-ms-scroll-snap-points-x"]="snapInterval(0px, "+q+"px)"}if(m){n["-ms-scroll-snap-points-y"]="snapInterval(0px, "+m+"px)"}}}},initXStyle:function(){var g=this.getElement(),k=this.getX();if(g&&g.dom){if(!k){k="hidden"}else{if(k===true){k="auto"}}g.setStyle("overflow-x",k)}},initYStyle:function(){var k=this.getElement(),g=this.getY();if(k&&k.dom){if(!g){g="hidden"}else{if(g===true){g="auto"}}k.setStyle("overflow-y",g)}},invokePartners:function(w,v,x){var t=this,q=t._partners,u,p,s=w==="onPartnerScrollEnd";if(!t.suspendSync&!t.isReflecting){for(p in q){u=q[p].scroller;u.isReflecting=true;u[w](t,v,x);if(s){u.isReflecting=false}}}},clearReflecting:function(){this.isReflecting=false},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},resumePartnerSync:function(k){var l=this,m;if(l.suspendSync){l.suspendSync--}if(!l.suspendSync&&k){m=l.getPosition();l.invokePartners("onPartnerScroll",m.x,m.y);l.invokePartners("onPartnerScrollEnd",m.x,m.y)}},updateDomScrollPosition:function(){var l=this,m=l.getScrollElement(),n,o=l.position;if(m&&!m.destroyed){n=l.getElementScroll(m);o.x=n.left;o.y=n.top}l.positionDirty=false;return o},syncWithPartners:function(){var o=this,n=o._partners,m,p,q;o.isReflecting=true;for(m in n){p=n[m].scroller;q=p.getPosition();o.onPartnerScroll(p,q.x,q.y)}o.isReflecting=false},syncScrollbarCls:function(){var f=this.getElement();if(f){f.toggleCls(this.noScrollbarsCls,this.getScrollbars()===false)}},onDomScroll:function(){var m=this,n,o,l;n=m.updateDomScrollPosition();if(m.restoring){return}o=n.x;l=n.y;if(!m.isScrolling){m.isScrolling=Ext.isScrolling=true;m.fireScrollStart(o,l)}m.fireScroll(o,l);m.onDomScrollEnd()},onDomScrollEnd:function(){var m=this,n,o,l;if(m.destroying||m.destroyed){return}n=m.getPosition();o=n.x;l=n.y;m.isScrolling=Ext.isScrolling=false;m.trackingScrollLeft=o;m.trackingScrollTop=l;m.fireScrollEnd(o,l)},onPartnerScroll:function(m,o,l){var n=m._partners[this.getId()].axis;if(n){if(n==="x"){l=null}else{if(n==="y"){o=null}}}this.doScrollTo(o,l,false,true)},onPartnerScrollStart:Ext.privateFn,onPartnerScrollEnd:Ext.privateFn,removeSnapStylesheet:function(){var f=this.snapStylesheet;if(f){Ext.util.CSS.removeStyleSheet(f);this.snapStylesheet=null}},restoreState:function(){var g=this,k=g.getScrollElement();if(k){if(g.trackingScrollTop!==undefined){g.restoring=true;Ext.defer(function(){g.restoring=false},50);g.doScrollTo(g.trackingScrollLeft,g.trackingScrollTop,false)}}}}},1,0,0,0,["scroller.scroller"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.scroll,"Scroller"],function(f){Ext.getViewportScroller=function(){return f.viewport||(f.viewport=new f())};Ext.setViewportScroller=function(e){if(f.viewport!==e){Ext.destroy(f.viewport);f.viewport=e.isScroller?e:new f(e)}};Ext.onReady(function(){Ext.defer(function(){var e=Ext.getViewportScroller();if(!e.getElement()){e.setElement(Ext.getBody())}},100)})}));(Ext.cmd.derive("Ext.util.Floating",Ext.Base,{mixinId:"floating",focusOnToFront:true,shadow:"sides",animateShadow:false,constrain:false,alignOnScroll:true,config:{activeCounter:0,alwaysOnTop:false},preventDefaultAlign:false,_visModeMap:{visibility:1,display:2,offsets:3},constructor:function(){var n=this,o=n.el,m=n.shadow,q,p;if(m){p={mode:(m===true)?"sides":m};q=n.shadowOffset;if(q){p.offset=q}p.animate=n.animateShadow;p.fixed=n.fixed;o.enableShadow(p,false)}if(n.shim||Ext.useShims){o.enableShim({fixed:n.fixed},false)}o.setVisibilityMode(n._visModeMap[n.hideMode]);n.el.on({mousedown:n.onMouseDown,scope:n,capture:true});n.registerWithOwnerCt();n.initHierarchyEvents()},alignTo:function(B,y,C,D,v){var w=this,E,F,z,A,u,x;if(B.isComponent){E=B.el;F=B.destroyed}else{E=B=Ext.get(B);z=E.dom;F=!z||Ext.isGarbage(z)}if(F){w._lastAlignTarget=null;if(w.alignListeners){w.alignListeners.destroy()}return}w.mixins.positionable.alignTo.call(w,E,y,C,D,v!==false);A=w.getXY();u=B.getXY();w.alignVector=[A[0]-u[0],A[1]-u[1]];w._lastAlignTarget=B;w._lastAlignToPos=y;w._lastAlignToOffsets=C;w._topAlignTarget=w.getTopAlignTarget();w.clearClip();if(!w.alignListeners){x={resize:{fn:w.alignOnResize,buffer:100},scope:w,destroyable:true};if(w.alignOnScroll&&!E.contains(w.el)){x.scroll=w.doRealign}w.alignListeners=Ext.on(x)}},initFloatConstrain:function(){var k=this,g=k.floatParent;if((k.constrain||k.constrainHeader)&&!k.constrainTo){k.constrainTo=g?g.getTargetEl():k.container}},initHierarchyEvents:function(){var g=this,k=this.syncHidden;if(!g.hasHierarchyEventListeners){g.mon(Ext.GlobalEvents,{hide:k,collapse:k,show:k,expand:k,added:k,scope:g});g.hasHierarchyEventListeners=true}},registerWithOwnerCt:function(){var k=this,l=k.ownerCt,m=k.zIndexParent;if(m){m.unregisterFloatingItem(k)}m=k.zIndexParent=k.up("[floating]");k.floatParent=l||m;k.initFloatConstrain();delete k.ownerCt;if(m){m.registerFloatingItem(k)}else{Ext.WindowManager.register(k)}},onMouseDown:function(x){var s=this,t=s.focusTask,u=s.getRefOwner(),q=x.pointerType==="touch",e,w,v;if(s.floating&&(!t||!t.id)){if(s.owns(Ext.Element.getActiveElement())){q=true}e=x.target;w=s.el.dom;while(!q&&e&&e!==w){if(Ext.fly(e).isFocusable()){q=true}e=e.parentNode}v=Ext.WindowManager.getActive()===s&&(e===w||q);if(!v){s.toFront(q)}if(!q&&u&&u.containsFocus){x.preventDefault()}}},onBeforeFloatLayout:function(){this.el.preventSync=true},onAfterFloatLayout:function(){var f=this.el;if(f.shadow||f.shim){f.setUnderlaysVisible(true);f.syncUnderlays()}},syncHidden:function(){var m=this,l=m.hidden||!m.rendered,o=m.hierarchicallyHidden=m.isHierarchicallyHidden(),n=m.pendingShow;if(l!==o){if(o){m.hide();m.pendingShow=true}else{if(n){delete m.pendingShow;if(n.length){m.show.apply(m,n)}else{m.show()}}}}},setZIndex:function(k){var g=this;g.el.setZIndex(k);k+=10;if(g.floatingDescendants){k=Math.floor(g.floatingDescendants.setBase(k)/100)*100+10000}return k},doConstrain:function(m){var l=this,k=l.calculateConstrainedPosition(m,null,true);if(k){l.setPosition(k)}},updateActiveCounter:function(m){var l=this,k=l.zIndexParent;if(k&&k!==k.zIndexManager.front&&l.bringParentToFront!==false){k.setActiveCounter(++Ext.ZIndexManager.activeCounter)}k=l.zIndexManager;if(k){k.onComponentUpdate(l)}},updateAlwaysOnTop:function(k){var g=this.zIndexManager;if(g){g.onComponentUpdate(this)}},toFront:function(g){var k=this;if(k.zIndexManager.bringToFront(k,g||!k.focusOnToFront)){if(k.hasListeners.tofront){k.fireEvent("tofront",k,k.el.getZIndex())}}return k},setActive:function(l,n){var m=this,o;if(l){if(m.el.shadow&&m.el.getData().isVisible!==false&&!m.maximized){m.el.enableShadow(null,true)}if(n){o=Ext.ComponentManager.getActiveComponent();if(!o||!o.up(m)){m.focus()}}m.fireEvent("activate",m)}else{m.fireEvent("deactivate",m)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var k=this,g;if(k.isVisible()){g=k.getAlignToXY(k.container,"c-c");k.setPagePosition(g)}else{k.needsCenter=true}return k},onFloatShow:function(){var f=this;if(f.needsCenter){f.center()}else{if(f._lastAlignTarget){f.alignTo(f._lastAlignTarget,f._lastAlignToPos,f._lastAlignToOffsets,false,!f.fixed)}}f.needsCenter=false},fitContainer:function(q){var n=this,o=n.floatParent,s=o?o.getTargetEl():n.container,t=s.getViewSize(),p=o||(s.dom!==document.body)?[0,0]:s.getXY();t.x=p[0];t.y=p[1];n.setBox(t,q)},privates:{onFloatDestroy:function(){this.clearAlignEl()},getTopAlignTarget:function(){var g=this._lastAlignTarget,k=g;while(g&&(k=g)&&g.isComponent){if(k.isFloating()){g=k._lastAlignTarget}else{g=k.up("{isFloating()}");g=g&&g._lastAlignTarget}}return k},clearAlignEl:function(){var f=this;if(f._lastAlignTarget){f.alignListeners=Ext.destroy(f.alignListeners);Ext.un("scroll",f.doRealign,f);f._lastAlignToPos=f._lastAlignTarget=f._lastAlignToOffsets=f._topAlignTarget=null}},alignOnResize:function(){this.doRealign()},doRealign:function(u){var p=this,s=p._lastAlignTarget.el,q,o,v,t;if(s&&p.isVisible()){if(s.isComponent){q=s.destroyed}else{o=s.dom;q=!o||Ext.isGarbage(o)}if(q){p.clearAlignEl()}else{if(!u||(u.getElement().contains(p._topAlignTarget.el)&&!u.getElement().contains(p.el))){v=s.getXY();t=[v[0]+p.alignVector[0],v[1]+p.alignVector[1]];p.setXY(t);if(u){p.clipToScroller(u)}}}}},clipToScroller:function(q){var n=this,m=n._topAlignTarget.getBox(),p=q.getElement().getConstrainRegion(),o=0;if(m.top<p.top){o=1}if(m.right>p.right){o=o|2}if(m.bottom>p.bottom){o=o|4}if(m.left<p.left){o=o|8}if(o){n.clipTo(p,o)}else{n.clearClip()}}}},1,0,0,0,0,0,[Ext.util,"Floating"],0));(Ext.cmd.derive("Ext.util.ElementContainer",Ext.Base,{mixinId:"elementCt",config:{childEls:{$value:{},cached:true,lazy:true,merge:function(o,u,p,q){var s=u?Ext.Object.chain(u):{},t,v;if(o instanceof Array){for(t=o.length;t--;){v=o[t];if(!q||!(v in s)){if(typeof v==="string"){s[v]={name:v,itemId:v}}else{s[v.name]=v}}}}else{if(o){if(o.constructor===Object){for(t in o){if(!q||!(t in s)){v=o[t];if(v===true){s[t]={itemId:t}}else{if(typeof v==="string"){s[t]={itemId:v}}else{s[t]=v;if(!("itemId" in v)){v.itemId=t}}}s[t].name=t}}}else{if(!q||!(o in s)){s[o]={name:o,itemId:o}}}}}return s}}},destroy:function(){var m=this,n=m.getChildEls(),l,o;for(o in n){l=m[o];if(l){if(l.destroy){l.component=null;l.destroy()}m[o]=null}}},privates:{addChildEl:function(m){var k=this,l=k.getChildEls();if(!k.hasOwnProperty("childEls")){k.childEls=l=Ext.Object.chain(l)}if(typeof m==="string"){m={name:m,itemId:m}}l[m.name]=m},afterClassMixedIn:function(k){var l=k.prototype,m=l.childEls;if(m){delete l.childEls;k.getConfigurator().add({childEls:m})}},attachChildEls:function(B,C){var x=this,k=x.getChildEls(),y=C||x,G=y.id+"-",H=!y.frame,F,E,I,z,A,J,D;for(F in k){I=k[F];if(H&&I.frame){continue}A=I.select;if(A){J=B.select(A,true)}else{if(!(A=I.selectNode)){if(!(D=I.id)){D=G+I.itemId;J=Ext.cache[D]}else{J=Ext.cache[D]||B.getById(D)}}else{J=B.selectNode(A,false)}}if(J){if(J.isElement){J.component=y}else{if(J.isComposite&&!J.isLite){E=J.elements;for(z=E.length;z--;){E[z].component=y}}}}x[F]=J||null}}}},0,0,0,0,0,0,[Ext.util,"ElementContainer"],0));(Ext.cmd.derive("Ext.util.Renderable",Ext.Base,{mixinId:"renderable",frameCls:"x-frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],frameTableTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ','x-table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],_renderState:0,ariaEl:"el",_layerCls:"x-layer",_fixedLayerCls:"x-fixed-layer",ariaStaticRoles:{presentation:true,article:true,definition:true,directory:true,document:true,img:true,heading:true,math:true,note:true,banner:true,complementary:true,contentinfo:true,navigation:true,search:true,"undefined":true,"null":true},statics:{makeRenderSetter:function(m,k){var l=m.name;return function(f){var g=this,o=(g.renderConfigs||(g.renderConfigs={})),e=o[k];if(g._renderState>=k){(m.setter||m.getSetter()).call(g,f)}else{if(!e){o[k]=e={}}if(!(l in e)){e[l]=g[l]}g[l]=f}return g}},processRenderConfig:function(D,F,B){var x=this.prototype,z=this.getConfigurator(),E=Ext.util.Renderable,u=E.makeRenderSetter,A=D[F],w,v,C,y;for(C in A){v=Ext.Config.get(C);if(!x[y=v.names.set]){w=(v.renderSetter||(v.renderSetter={}));x[y]=w[B]||(w[B]=u(v,B))}}delete D[F];z.add(A)}},onClassMixedIn:function(o){var q=o.override,m=this.processRenderConfig,n=function(e){if(e.beforeRenderConfig){this.processRenderConfig(e,"beforeRenderConfig",1)}if(e.renderConfig){this.processRenderConfig(e,"renderConfig",3)}q.call(this,e)},p=function(f,e){f.override=n;f.processRenderConfig=m;if(e.beforeRenderConfig){f.processRenderConfig(e,"beforeRenderConfig",1)}if(e.renderConfig){f.processRenderConfig(e,"renderConfig",3)}};p(o,o.prototype);o.onExtended(p)},afterRender:function(){var s=this,w={},y=s.protoEl,t=s.el,v,q,x,u,z;s.finishRenderChildren();s._renderState=4;if(s.contentEl){x="x-";u=x+"hidden-";z=s.contentEl=Ext.get(s.contentEl);z.component=s;z.removeCls([x+"hidden",u+"display",u+"offsets"]);s.getContentTarget().appendChild(z.dom)}y.writeTo(w);q=w.removed;if(q){t.removeCls(q)}q=w.cls;if(q.length){t.addCls(q)}q=w.style;if(w.style){t.setStyle(q)}s.protoEl=null;if(!s.ownerCt&&!s.skipLayout){s.updateLayout()}if(!(s.x&&s.y)&&(s.pageX||s.pageY)){s.setPagePosition(s.pageX,s.pageY)}if(s.disableOnRender){s.onDisable()}v=s.controller;if(v&&v.afterRender){v.afterRender(s)}},afterFirstLayout:function(A,F){var y=this,u=y.x,w=y.y,v=y.defaultAlign,C=y.alignOffset,z,B,D,x,E;if(!y.ownerLayout){B=u!==undefined;D=w!==undefined}if(y.floating&&!y.preventDefaultAlign&&(!B||!D)){if(y.floatParent){x=y.floatParent.getTargetEl().getViewRegion();E=y.el.getAlignToXY(y.alignTarget||y.floatParent.getTargetEl(),v,C);x.x=E[0]-x.x;x.y=E[1]-x.y}else{E=y.el.getAlignToXY(y.alignTarget||y.container,v,C);x=y.el.translateXY(E[0],E[1])}u=B?u:x.x;w=D?w:x.y;B=D=true}if(B||D){y.setPosition(u,w)}y.onBoxReady(A,F);z=y.controller;if(z&&z.boxReady){z.boxReady(y,A,F)}},beforeRender:function(){var n=this,m=n.floating,o=n.getComponentLayout(),p=n.userCls,q;n._renderState=1;n.ariaUsesMainElement=n.ariaEl==="el";q=n.controller;if(q&&q.beforeRender){q.beforeRender(n)}n.initBindable();if(n.renderConfigs){n.flushRenderConfigs()}if(n.reference){n.publishState()}if(p){n.addCls(p)}if(m){n.addCls(n.fixed?n._fixedLayerCls:n._layerCls);p=m.cls;if(p){n.addCls(p)}}n.frame=n.frame||n.alwaysFramed;if(!o.initialized){o.initLayout()}n.initOverflow();n.setUI(n.ui)},doApplyRenderTpl:function(m,o){var l=o.$comp,n;if(!l.rendered){n=l.initRenderTpl();n.applyOut(o.renderData,m)}},getElConfig:function(){var q=this,x=q.autoEl,s=q.getFrameInfo(),u={tag:"div",tpl:s?q.initFramingTpl(s.table):q.initRenderTpl()},w=q.layoutTargetCls,p=q.protoEl,v=q.ariaRole,t;q.initStyles(p);if(w&&!s){p.addCls(w)}p.writeTo(u);p.flush();if(x){if(Ext.isString(x)){u.tag=x}else{Ext.apply(u,x)}}if(v&&q.ariaUsesMainElement){u.role=v;if(!q.ariaStaticRoles[v]){u["aria-hidden"]=!!q.hidden;u["aria-disabled"]=!!q.disabled;if(q.ariaLabel&&!q.ariaLabelledBy){u["aria-label"]=q.ariaLabel}if(q.collapsible){u["aria-expanded"]=!q.collapsed}if(q.ariaRenderAttributes){Ext.apply(u,q.ariaRenderAttributes)}if(q.config.ariaAttributes){Ext.apply(u,q.getAriaAttributes())}}}u.id=q.id;if(u.tpl){if(s){u.tplData=t=q.getFrameRenderData();t.renderData=q.initRenderData()}else{u.tplData=q.initRenderData()}}q.ariaRenderAttributes=null;return u},getInsertPosition:function(f){if(f!==undefined){if(Ext.isNumber(f)){f=this.container.dom.childNodes[f]}else{f=Ext.getDom(f)}}return f},getRenderTree:function(){var g=this,k=null;if(!g.hasListeners.beforerender||g.fireEvent("beforerender",g)!==false){g._renderState=1;g.beforeRender();g.rendering=true;g._renderState=2;k=g.getElConfig();if(g.el){k.id=g.$pid=Ext.id(null,g.el.identifiablePrefix)}}return k},initRenderData:function(){var m=this,o=m.ariaRole,l,n;l=Ext.apply({$comp:m,id:m.id,ui:m.ui,uiCls:m.uiCls,baseCls:m.baseCls,componentCls:m.componentCls,frame:m.frame,hasTabGuard:!!m.tabGuard,scrollerCls:m.scrollerCls,childElCls:"",ariaEl:m.ariaEl},m.renderData);if(o&&!m.ariaUsesMainElement){n={role:o};if(!m.ariaStaticRoles[o]){n["aria-hidden"]=!!m.hidden;n["aria-disabled"]=!!m.disabled;if(m.ariaLabel&&!m.ariaLabelledBy){n["aria-label"]=m.ariaLabel}if(m.collapsible){n["aria-expanded"]=!m.collapsed}if(m.ariaRenderAttributes){Ext.apply(n,m.ariaRenderAttributes)}if(m.config.ariaAttributes){Ext.apply(n,m.getAriaAttributes())}}l.ariaAttributes=n}return l},onRender:function(y,x){var v=this,t=v.x,u=v.y,z=null,A=v.el,w=v.scrollable,B,s;v.applyRenderSelectors();if(w&&w.isScroller){w.setElement(v.getOverflowEl());if(Ext.isIE){v.showListenerIE=Ext.on("show",v.onGlobalShow,v,{destroyable:true})}}v.rendering=null;v.rendered=true;v._renderState=3;if(v.renderConfigs){v.flushRenderConfigs()}if(t!=null){z={x:t}}if(u!=null){(z=z||{}).y=u}if(!v.getFrameInfo()){B=v.width;s=v.height;if(typeof B==="number"){z=z||{};z.width=B}if(typeof s==="number"){z=z||{};z.height=s}}v.lastBox=A.lastBox=z},render:function(t,u){var q=this,s=q.el,w=q.ownerLayout,x,v,p;if(s&&!s.isElement){q.wrapPrimaryEl(s);s=q.el}if(!q.skipLayout){Ext.suspendLayouts()}t=q.initContainer(t);p=q.getInsertPosition(u);if(!s){v=q.getRenderTree();if(w&&w.transformItemRenderTree){v=w.transformItemRenderTree(v)}if(v){if(p){s=Ext.DomHelper.insertBefore(p,v)}else{s=Ext.DomHelper.append(t,v)}q.wrapPrimaryEl(s);q.cacheRefEls(s)}}else{if(!q.hasListeners.beforerender||q.fireEvent("beforerender",q)!==false){q.beforeRender();q.needsRenderTpl=q.rendering=true;q._renderState=2;q.initStyles(s);if(q.allowDomMove!==false){if(p){t.dom.insertBefore(s.dom,p)}else{t.dom.appendChild(s.dom)}}}else{x=true}}if(s&&!x){q.finishRender(u)}if(!q.skipLayout){Ext.resumeLayouts(!q.hidden&&!t.isDetachedBody)}},ensureAttachedToBody:function(k){var l=this,m;while(l.ownerCt){l=l.ownerCt}if(l.container.isDetachedBody){l.container=m=Ext.getBody();m.appendChild(l.el.dom);if(k){l.updateLayout()}if(typeof l.x==="number"||typeof l.y==="number"){l.setPosition(l.x,l.y)}}},privates:{applyRenderSelectors:function(){var n=this,p=n.renderSelectors,o=n.el,m,q;n.attachChildEls(o);n.ariaEl=n[n.ariaEl]||n.el;if(p){for(q in p){m=p[q];if(m){n[q]=o.selectNode(m,false)}}}},cacheRefEls:function(q){q=q||this.el;var t=Ext.cache,x=Ext.dom.Element,w=q.isElement?q.dom:q,u=w.querySelectorAll("[data-ref]"),v=u.length,p,s;for(s=0;s<v;s++){p=u[s];if(!t[p.id]){new x(p)}}},doAutoRender:function(){var f=this;if(!f.rendered){if(f.floating){f.render(f.renderTo||document.body)}else{f.render(Ext.isBoolean(f.autoRender)?Ext.getBody():f.autoRender)}}},doRenderContent:function(o,l){var n=l.$comp,m=n.data;if(n.html){Ext.DomHelper.generateMarkup(n.html,o);delete n.html}if(n.tpl){if(!n.tpl.isTemplate){n.tpl=new Ext.XTemplate(n.tpl)}if(m){n.data=m=m.isEntity?m.getData(true):m;n.tpl.applyOut(m,o)}}},doRenderFramingTabGuard:function(n,l,o){var m=l.$comp.layout;l.renderData.$skipTabGuards=true;if(m&&m.doRenderTabGuard){m.doRenderTabGuard.call(this,n,l,o)}},flushRenderConfigs:function(){var s=this,x=s.renderConfigs,p=s._renderState,w,t,u,v,q;if(x){for(t=0;t<=p;++t){w=x[t];if(w){x[t]=null;for(u in w){q=w[u];(v||(v={}))[u]=s[u];s[u]=q}}}if(v){s.setConfig(v)}}},finishRender:function(v){var s=this,B=Ext.cache,t,w,A,u,x,y,z;if(!s.el||s.$pid){if(s.container){z=B[s.id];y=z?z.dom:s.container.getById(s.id,true)}else{A=s.$pid||s.id;z=B[A];y=z?z.dom:Ext.getDom(A)}if(!s.el){s.wrapPrimaryEl(y)}else{delete s.$pid;if(!s.el.dom){s.wrapPrimaryEl(s.el)}y.parentNode.insertBefore(s.el.dom,y);t=y;y=s.el.dom;w=y.firstChild;while(t.firstChild){y.insertBefore(t.firstChild,w)}s.el.addCls(t.className);Ext.removeNode(t)}}else{if(s.needsRenderTpl){u=s.initRenderTpl();if(u){x=s.initRenderData();u.insertFirst(s.getTargetEl(),x)}s.cacheRefEls()}}s.el.component=s;if(!s.container){s.container=Ext.get(s.el.dom.parentNode)}if(s.ctCls){s.container.addCls(s.ctCls)}s.onRender(s.container,v);if(!s.overflowInited){s.initOverflow()}s.el.setVisibilityMode(Ext.Element[s.hideMode.toUpperCase()]);if(s.overCls){s.el.hover(s.addOverCls,s.removeOverCls,s)}if(s.hasListeners.render){s.fireEvent("render",s)}s.afterRender();if(s.hasListeners.afterrender){s.fireEvent("afterrender",s)}s.initEvents();if(s.hidden){s.el.hide()}},finishRenderChildren:function(){var f=this.getComponentLayout();f.finishRender()},getFrameRenderData:function(){var k=this,l=k.frameSize,m="";if(k._syncFrameHeight&&k.height){m="height:"+(k.height-l.height)+"px"}return{$comp:k,id:k.id,fgid:k.id+"-frame",ui:k.ui,uiCls:k.uiCls,frameCls:k.frameCls,frameBodyCls:k.layoutTargetCls||"",baseCls:k.baseCls,hasTabGuard:k.tabGuard,top:!!l.top,left:!!l.left,right:!!l.right,bottom:!!l.bottom,mcStyle:m,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return false}var D=this,J=D.frameInfoCache,P=D.getFramingInfoCls()+"-frameInfo",C=J[P],K,H,L,B,O,N,I,A,E,Q,G,R,M,F;if(C==null){K=Ext.fly(D.getStyleProxy(P),"frame-style-el");H=K.getStyle("font-family");if(H){H=H.split("-");L=parseInt(H[1],10);B=parseInt(H[2],10);O=parseInt(H[3],10);N=parseInt(H[4],10);I=parseInt(H[5],10);A=parseInt(H[6],10);E=parseInt(H[7],10);Q=parseInt(H[8],10);G=parseInt(H[9],10);R=parseInt(H[10],10);M=parseInt(H[11],10);F=parseInt(H[12],10);C={table:H[0].charAt(0)==="t",vertical:H[0].charAt(1)==="v",top:L,right:B,bottom:O,left:N,width:N+B,height:L+O,border:{top:I,right:A,bottom:E,left:Q,width:Q+A,height:I+E},padding:{top:G,right:R,bottom:M,left:F,width:F+R,height:G+M}}}else{C=false}J[P]=C}D.frame=!!C;D.frameSize=C;return C},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(g){var k=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({role:"presentation",style:{position:"absolute",top:"-10000px"}},null,true));k.className=g;return k},getFrameTpl:function(f){return this.lookupTpl(f?"frameTableTpl":"frameTpl")},initContainer:function(k){var g=this;if(!k&&g.el){k=g.el.dom.parentNode;g.allowDomMove=false}g.container=k.dom?k:Ext.get(k);return g.container},initOverflow:function(){var o=this,q=o.getOverflowStyle(),m=o.scrollFlags,n=o.getOverflowEl(),p=(m.y||m.x);if(!p||!n||!n.isElement){return}o.overflowInited=true;n.setStyle(q)},initFramingTpl:function(g){var k=this.getFrameTpl(g);if(k&&!k.applyRenderTpl){this.setupFramingTpl(k)}return k},initRenderTpl:function(){var f=this.lookupTpl("renderTpl");if(f&&!f.renderContent){this.setupRenderTpl(f)}return f},setupFramingTpl:function(f){f.applyRenderTpl=this.doApplyRenderTpl;f.renderTabGuard=this.doRenderFramingTabGuard},setupRenderTpl:function(f){f.renderBody=f.renderContent=this.doRenderContent},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var O=this,C=O.el.dom,P=O.frameTable,G=O.frameBody,M=G.dom,z=O.getFrameInfo(),L,D,H,E,A,K,J,F,B,I,N;H=document.createElement("div");K=O.getFrameRenderData();K.hasTabGuard=false;F=O.getFrameTpl(z.table);F.insertFirst(H,K);N=H.querySelectorAll("[data-ref]");I=H.querySelector('[data-ref="frameBody"]');for(A=M;A.parentNode!==C;){A=A.parentNode}while(H.firstChild){C.insertBefore(H.firstChild,A)}I.parentNode.replaceChild(M,I);M.className=I.className;G.setSize();L=O.getChildEls();if(P){P.destroy();O.frameTable=null}for(D in L){if(L[D].frame){E=O[D];if(E&&E!==G){E.destroy();O[D]=null}}}for(B=N.length;B--;){D=(J=N[B]).getAttribute("data-ref");if(D!=="frameBody"){O[D]=new Ext.dom.Element(J)}}},frameInfoCache:{}}},0,0,0,0,0,0,[Ext.util,"Renderable"],0));(Ext.cmd.derive("Ext.state.Provider",Ext.Base,{prefix:"ext-",constructor:function(k){var g=this;Ext.apply(g,k);g.state={};g.mixins.observable.constructor.call(g)},get:function(k,m){var l=this.state[k];return l===undefined?m:l},clear:function(k){var g=this;delete g.state[k];g.fireEvent("statechange",g,k,null)},set:function(m,k){var l=this;l.state[m]=k;l.fireEvent("statechange",l,m,k)},decodeValue:function(w){var z=this,s=/^(a|n|d|b|s|o|e)\:(.*)$/,A=s.exec(unescape(w)),v,y,B,t,x,u;if(!A||!A[1]){return}y=A[1];w=A[2];switch(y){case"e":return null;case"n":return parseFloat(w);case"d":return new Date(Date.parse(w));case"b":return(w==="1");case"a":v=[];if(w){t=w.split("^");x=t.length;for(u=0;u<x;u++){w=t[u];v.push(z.decodeValue(w))}}return v;case"o":v={};if(w){t=w.split("^");x=t.length;for(u=0;u<x;u++){w=t[u];B=w.split("=");v[B[0]]=z.decodeValue(B[1])}}return v;default:return w}},encodeValue:function(o){var n="",p=0,s,t,q;if(o==null){return"e:1"}else{if(typeof o==="number"){s="n:"+o}else{if(typeof o==="boolean"){s="b:"+(o?"1":"0")}else{if(Ext.isDate(o)){s="d:"+o.toUTCString()}else{if(Ext.isArray(o)){for(t=o.length;p<t;p++){n+=this.encodeValue(o[p]);if(p!==t-1){n+="^"}}s="a:"+n}else{if(typeof o==="object"){for(q in o){if(typeof o[q]!=="function"&&o[q]!==undefined){n+=q+"="+this.encodeValue(o[q])+"^"}}s="o:"+n.substring(0,n.length-1)}else{s="s:"+o}}}}}}return escape(s)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Provider"],0));(Ext.cmd.derive("Ext.state.Manager",Ext.Base,{singleton:true,constructor:function(){this.provider=new Ext.state.Provider()},setProvider:function(f){this.provider=f},get:function(g,k){return this.provider.get(g,k)},set:function(k,g){this.provider.set(k,g)},clear:function(f){this.provider.clear(f)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,"Manager"],0));(Ext.cmd.derive("Ext.state.Stateful",Ext.Base,{mixinId:"state",config:{stateful:null},saveDelay:100,constructor:function(){var f=this;if(!f.stateEvents){f.stateEvents=[]}if(f.stateful){f.addStateEvents(f.stateEvents);f.initState()}},addStateEvents:function(p){var n=this,q,o,s,t;if(n.stateful&&n.getStateId()){t=(typeof p==="string")?arguments:p;s=n.stateEventsByName||(n.stateEventsByName={});for(q=t.length;q--;){o=t[q];if(o&&!s[o]){s[o]=1;n.on(o,n.onStateChange,n)}}}},onStateChange:function(){var m=this,o=m.saveDelay,l,n;if(!m.stateful){return}if(o){if(!m.stateTask){l=Ext.state.Stateful;n=l.runner||(l.runner=new Ext.util.TaskRunner());m.stateTask=n.newTask({run:m.saveState,scope:m,interval:o,repeat:1,fireIdleEvent:false})}m.stateTask.start()}else{m.saveState()}},saveState:function(){var F=this,B=F.getStateful(),C=B&&F.getStateId(),u=F.hasListeners,w,v,A,y,z,x,D,E;if(C){D=F.getState()||{};if(Ext.isObject(B)){v=F.self.getConfigurator();v=v.configs;for(z in B){if(B[z]){if(!(z in D)){w=v[z];D[z]=w?F[w.get]():F[z]}}else{delete D[z]}}}A=F.getPlugins()||[];for(z=0,x=A.length;z<x;z++){y=A[z];if(y&&y.getState){E=y.getState(D);if(E&&!D[y.ptype]){D[y.ptype]=E}}}if(!u.beforestatesave||F.fireEvent("beforestatesave",F,D)!==false){Ext.state.Manager.set(C,D);if(u.statesave){F.fireEvent("statesave",F,D)}}}},getState:function(){return null},applyState:function(f){if(f){Ext.apply(this,f)}},getStateId:function(){var f=this;return f.stateId||(f.autoGenId?null:f.id)},initState:function(){var t=this,A=t.stateful&&t.getStateId(),u=t.hasListeners,B,s,x,v,y,w,z;if(A){s=Ext.state.Manager.get(A);if(s){B=Ext.apply({},s);if(!u.beforestaterestore||t.fireEvent("beforestaterestore",t,s)!==false){y=t.getPlugins()||[];for(x=0,v=y.length;x<v;x++){w=y[x];if(w){z=w.ptype;if(w.applyState){w.applyState(B[z],s)}delete B[z]}}t.applyState(B);if(u.staterestore){t.fireEvent("staterestore",t,s)}}}}},savePropToState:function(n,o,p){var s=this,q=s[n],t=s.initialConfig;if(s.hasOwnProperty(n)){if(!t||t[n]!==q){if(o){o[p||n]=q}return true}}return false},savePropsToState:function(m,o){var p=this,q,n;if(typeof m==="string"){p.savePropToState(m,o)}else{for(q=0,n=m.length;q<n;++q){p.savePropToState(m[q],o)}}return o},destroy:function(){var f=this.stateTask;if(f){f.destroy();this.stateTask=null}}},1,0,0,0,0,0,[Ext.state,"Stateful"],0));(Ext.cmd.derive("Ext.util.Focusable",Ext.Base,{mixinId:"focusable",hasFocus:false,focusable:false,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.initFocusableElement()},getFocusClsEl:function(){return this.getFocusEl()},getFocusEl:function(){return this.element||this.el},destroyFocusable:function(){var f=this;Ext.destroy(f.focusListeners);f.focusListeners=f.focusEnterEvent=f.focusTask=null;f.focusEl=f.ariaEl=null},enableFocusable:Ext.emptyFn,disableFocusable:function(){var l=this,n,m=l.focusCls,o;if(l.hasFocus){n=l.findFocusTarget();if(n){n.focus()}}o=l.getFocusClsEl();if(m&&o){o.removeCls(l.removeClsWithUI(m,true))}},isFocusable:function(m){var k=this,l;if(!k.focusable&&(!k.isContainer||!m)){return false}l=k.getFocusEl();if(l&&k.canFocus()){return l.isFocusable(m)}return false},canFocus:function(n,l){var m=this,o;o=(m.isContainer||m.focusable)&&m.rendered&&!m.destroying&&!m.destroyed&&!m.disabled&&(n||m.isVisible(true));return o||(l&&!!m.findFocusTarget())},focus:function(p,t,w,s){var q=this,v,x,u;if((!q.focusable&&!q.isContainer)||q.destroyed||q.destroying){return}if(t){q.getFocusTask().delay(Ext.isNumber(t)?t:10,q.focus,q,[p,false,w,s]);return q}q.cancelFocus();if(q.canFocus()){if(v=q.getFocusEl()){if(v.isComponent){return v.focus(p,t,w,s)}x=v.dom;if(x){if(q.floating){u=q.container.dom.scrollTop}v.focus();if(p){if(Ext.isArray(p)){if(q.selectText){q.selectText.apply(q,p)}}else{if(x.select){x.select()}else{if(q.selectText){q.selectText()}}}}Ext.callback(w,s)}if(q.floating){if(u!==undefined){q.container.dom.scrollTop=u}}}}else{v=q.findFocusTarget();if(v){return v.focus(p,t,w,s)}}return q},cancelFocus:function(){var f=this.getFocusTask();if(f){f.cancel()}},beforeBlur:Ext.emptyFn,onBlur:function(e){var n=this,p=n.focusableContainer,o=n.focusCls,q;if(!n.focusable||n.destroying){return}n.hasFocus=false;n.beforeBlur(e);if(p){p.beforeFocusableChildBlur(n,e)}q=n.getFocusClsEl();if(o&&q){q.removeCls(n.removeClsWithUI(o,true))}n.fireEvent("blur",n,e);n.postBlur(e);if(p){p.afterFocusableChildBlur(n,e)}},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(e){var n=this,p=n.focusableContainer,o=n.focusCls,q;if(!n.focusable){return}if(n.canFocus()){n.beforeFocus(e);if(p){p.beforeFocusableChildFocus(n,e)}q=n.getFocusClsEl();if(o&&q){q.addCls(n.addClsWithUI(o,true))}if(!n.hasFocus){n.hasFocus=true;n.fireEvent("focus",n,e)}n.postFocus(e);if(p){p.afterFocusableChildFocus(n,e)}}},postFocus:Ext.emptyFn,getTabIndex:function(){var k=this,l,m;if(!k.focusable){return}l=k.rendered&&k.getFocusEl();if(l){if(l.isComponent){m=l.getTabIndex()}else{if(l.isElement){m=l.getAttribute("tabIndex")}else{return}}k.tabIndex=m}else{m=k.tabIndex}return m-0},setTabIndex:function(l,o){var m=this,n;if(!m.focusable){return}m.tabIndex=l;if(!m.rendered){return}n=o||m.getFocusEl();if(n){if(n.isComponent){n.setTabIndex(l)}else{if(n.isElement){n.set({tabIndex:l})}}}},onFocusEnter:function(e){var k=this;if(k.destroying||k.destroyed){return}if(k.floating&&k!==k.zIndexManager.getActive()){k.toFront(true)}k.focusEnterEvent=e;k.containsFocus=true;k.fireEvent("focusenter",k,e)},onFocusLeave:function(e){var k=this;if(k.destroying||k.destroyed){return}k.focusEnterEvent=null;k.containsFocus=false;k.fireEvent("focusleave",k,e)},privates:{revertFocus:function(){var k=this,l=k.focusEnterEvent,m;if(k.preventRefocus||!k.el.contains(Ext.Element.getActiveElement())||!l){return}m=l&&l.relatedTarget;if(Ext.getDoc().contains(m)&&Ext.fly(m).isFocusable()){m.focus()}else{if(l.fromComponent&&l.fromComponent.focus){l.fromComponent.focus()}}},findFocusTarget:function(){var n=this,o,m,l;for(o=n.up(":visible(true):not([disabled]):not([destroying])");o;o=o.up(":visible(true):not([disabled]):not([destroying])")){m=Ext.ComponentQuery.query(":canfocus()",o);if(m.length){l=Ext.Array.indexOf(m,Ext.ComponentManager.getActiveComponent());return m[l+1]||m[l-1]||m[0]}if(o.isFocusable&&o.isFocusable()){return o}}},initFocusableElement:function(){var k=this,m=k.tabIndex,l=k.getFocusEl();if(l&&!l.isComponent){k.focusEl=l;if(m!=null&&k.canFocus(true)){k.setTabIndex(m,l)}l.dom.setAttribute("data-componentid",k.id)}},getFocusTask:function(){if(!this.focusTask){this.focusTask=Ext.focusTask}return this.focusTask},handleFocusEvent:function(e){var k;if(this.isFocusing(e)){k=new Ext.event.Event(e.event);k.type="focus";k.relatedTarget=e.fromElement;k.target=e.toElement;this.onFocus(k)}},handleBlurEvent:function(e){var k;if(this.isBlurring(e)){k=new Ext.event.Event(e.event);k.type="blur";k.target=e.fromElement;k.relatedTarget=e.toElement;this.onBlur(k)}},isFocusing:function(e){var k;if(this.focusable){k=this.getFocusEl();if(k){if(k.isComponent){return k.isFocusing(e)}else{return e.toElement===k.dom&&e.fromElement!==e.toElement}}}return false},isBlurring:function(e){var k;if(this.focusable){k=this.getFocusEl();if(k){if(k.isComponent){return k.isBlurring(e)}else{return e.fromElement===k.dom&&e.fromElement!==e.toElement}}}return false},blur:function(){var g=this,k;if(!g.focusable||!g.canFocus()){return}k=g.getFocusEl();if(k){g.blurring=true;k.blur();delete g.blurring}return g},disableTabbing:function(){var k=this,l=k.el,m;if(l){l.saveTabbableState()}m=k.getFocusEl();if(m){if(m.isComponent){m.disableTabbing()}else{if(m.isElement&&l&&!l.contains(m)){m.saveTabbableState()}}}},enableTabbing:function(){var k=this,l=k.el,m;m=k.getFocusEl();if(m){if(m.isComponent){m.enableTabbing()}else{if(m.isElement&&l&&!l.contains(m)){m.restoreTabbableState()}}}if(l){l.restoreTabbableState()}},updateMaskState:function(m,q){var o=this,p=o.ariaEl.dom,n;if(m){o.disableTabbing();o.setMasked(true);if(p){p.setAttribute("aria-busy","true");n=p.getAttribute("aria-describedby");if(n){o._savedAriaDescribedBy=n}p.setAttribute("aria-describedby",q.ariaEl.id)}}else{o.enableTabbing();o.setMasked(false);if(p){p.removeAttribute("aria-busy");n=p.getAttribute("aria-describedby");p.removeAttribute("aria-describedby");if(n===q.ariaEl.id&&o._savedAriaDescribedBy){p.setAttribute("aria-describedby",o._savedAriaDescribedBy);delete o._savedAriaDescribedBy}}}}}},0,0,0,0,0,0,[Ext.util,"Focusable"],function(){if(!Ext.focusTask){Ext.focusTask=new Ext.util.DelayedTask()}}));(Ext.cmd.derive("Ext.mixin.Accessible",Ext.Mixin,{mixinConfig:{id:"accessible"},config:{ariaAttributes:{$value:null,lazy:true}},privates:{getAriaLabelEl:function(s){var p=[],v,q,t,o,u;if(s){if(Ext.isFunction(s)){return s.call(this)}else{if(!Ext.isArray(s)){s=[s]}v=this.lookupReferenceHolder();if(v){for(q=0,t=s.length;q<t;q++){o=v.lookupReference(s[q]);if(o){p.push(o.ariaEl.id)}}}}}return p.length?p.join(" "):null}}},0,0,0,0,0,0,[Ext.mixin,"Accessible"],0));(Ext.cmd.derive("Ext.mixin.Keyboard",Ext.Mixin,function(f){return{mixinConfig:{id:"keyboard"},config:{keyMap:{$value:null,cached:true,merge:function(x,z,e,t){if(x===null){return x}var y=z?Ext.Object.chain(z):{},w,u,v,s;for(w in x){if(w!=="scope"){u=w.toUpperCase();if(!t||y[u]===undefined){v=x[w];if(v){if(typeof v==="string"||typeof v==="function"){v={handler:v}}else{v=Ext.apply({handler:v.fn},v)}s=v.scope||x.scope||"self";v.scope=(s==="controller")?"self.controller":s}y[u]=v}}}return y}},keyMapEnabled:null},keyMapTarget:"el",applyKeyMap:function(u,e){var p=this,v,q,s,t;if(u){if(e&&p.isConfiguring){e=Ext.apply({},e)}v=u.scope||"controller";for(s in u){if(s==="scope"){continue}if(!(t=u[s])){if(!e){continue}}else{if(typeof t==="string"||typeof t==="function"){t={handler:t,scope:v}}else{if(t){t=Ext.apply({handler:t.fn,scope:v},t)}}e=e||{}}if(f.parseEntry(s,q=t||{})){e[q.name]=t}}}else{e=null}if(p._keyMapReady){p.setKeyMapListener(e&&p.getKeyMapEnabled())}return e||null},initKeyMap:function(){var e=this,k=e.getKeyMapEnabled();e._keyMapReady=true;if(k===null){e.setKeyMapEnabled(true)}else{e.setKeyMapListener(k&&e.getKeyMap())}},updateKeyMapEnabled:function(e){this.setKeyMapListener(e&&this._keyMapReady&&this.getKeyMap())},privates:{_keyMapReady:false,callKeyMapEntry:function(k,e){return k&&Ext.callback(k.handler,k.scope,[e,this],0,this)},findKeyMapEntry:function(n){var o=this,e=o.getKeyMap(),q,p;if(e){for(q in e){if(f.matchEntry(q,p=e[q],n)){return p}}}return null},onKeyMapEvent:function(e){var l=this,m=l.getKeyMapEnabled()?l.findKeyMapEntry(e):null;return l.callKeyMapEntry(m,e)},setKeyMapListener:function(o){var n=this,e=n._keyMapListener,m;if(e){e.destroy();e=null}if(o){m=n[n.keyMapTarget];if(typeof m==="function"){m=m.call(n)}e=m.on({destroyable:true,scope:n,keydown:"onKeyMapEvent",keypress:"onKeyMapEvent"})}n._keyMapListener=e||null},statics:{_charCodeRe:/^#([\d]+)$/,_hyphenRe:/^[a-z]+\-/i,_keyMapEvents:{charCode:"keypress",keyCode:"keydown"},matchEntry:function(q,n,e){var o=e.browserEvent,p;if(e.type!==n.event){return false}if(!(p=n.charCode)){if(n.keyCode!==e.keyCode||!n.shiftKey!==!o.shiftKey){return false}}else{if(e.getCharCode()!==p){return false}}return !n.ctrlKey===!o.ctrlKey&&!n.altKey===!o.altKey&&!n.metaKey===!o.metaKey},parseEntry:function(E,F){E=E.toUpperCase();var I=this,D=Ext.event.Event,G=D.keyFlags,A=I._hyphenRe.test(E)?"-":"+",H=(E===A)?[A]:E.split(A),z=H.length-1,n=H[z],C=n,J="keyCode",B,k,e;for(k=0;k<z;k++){F[G[H[k]]]=true}if(z){C=F.ctrlKey?"CTRL+":"";C+=F.altKey?"ALT+":"";C+=F.metaKey?"META+":"";C+=F.shiftKey?"SHIFT+":"";C+=n}F.name=C;if(isNaN(B=D[n])){if(!(e=I._charCodeRe.exec(n))){if(n.length===1){B=n.charCodeAt(0)}}else{B=+e[1]}if(B){J="charCode"}else{B=+n}}F.event=F.event||I._keyMapEvents[J];return !isNaN(B)&&(F[J]=B)}}}}},0,0,0,0,0,0,[Ext.mixin,"Keyboard"],0));(Ext.cmd.derive("Ext.Component",Ext.Base,{alternateClassName:"Ext.AbstractComponent",statics:{AUTO_ID:1000,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,ariaHighContrastModeCls:"x-aria-highcontrast",cancelLayout:function(m,k){var l=this.runningLayoutContext||this.pendingLayouts;if(l){l.cancelComponent(m,false,k)}},fromElement:function(k,l,m){return Ext.ComponentManager.fromElement(k,l,m)},flushLayouts:function(){var g=this,k=g.pendingLayouts;if(k&&k.invalidQueue.length){g.pendingLayouts=null;g.runningLayoutContext=k;Ext.override(k,{runComplete:function(){g.runningLayoutContext=null;var e=Ext.scroll.Scroller,f=Ext.GlobalEvents,m;if(e.viewport){e.viewport.restoreState()}m=this.callParent();if(f.hasListeners.afterlayout){f.fireEvent("afterlayout")}return m}});k.run()}},resumeLayouts:function(f){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(f){this.flushLayouts()}if(Ext.GlobalEvents.hasListeners.resumelayouts){Ext.GlobalEvents.fireEvent("resumelayouts")}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(p,m){var o=this,q=o.runningLayoutContext,n;if(q){q.queueInvalidate(p)}else{n=o.pendingLayouts||(o.pendingLayouts=new Ext.layout.Context());n.queueInvalidate(p);if(!m&&!o.layoutSuspendCount&&!p.isLayoutSuspended()){o.flushLayouts()}}}},$configPrefixed:false,$configStrict:false,clearPropertiesOnDestroy:"async",manageLayoutScroll:true,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},renderConfig:{touchAction:null},defaultBindProperty:"html",alignTarget:null,autoRender:false,autoShow:false,baseCls:"x-component",childEls:{frameTable:{frame:true},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:false,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:(function(){var f=["input","select","textarea","optgroup","option","table"];if(Ext.isIE9m&&!(Ext.isIE9&&!Ext.isIEQuirks)){f.push("p")}return new RegExp("^(?:"+f.join("|")+")$","i")}()),disabledCls:"x-item-disabled",draggable:false,floating:false,hidden:false,hideMode:"display",maskElement:null,renderTpl:"{%this.renderContent(out,values)%}",resizeHandles:"all",shrinkWrap:2,toFrontOnShow:true,synthetic:false,tplWriteMode:"overwrite",ui:"default",uiCls:[],userCls:null,weight:null,allowDomMove:true,autoGenId:false,borderBoxCls:"x-border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:false,frameSize:null,horizontalPosProp:"left",isComponent:true,_isLayoutRoot:false,layoutSuspendCount:0,liquidLayout:false,maskOnDisable:true,rendered:false,rootCls:"x-body",scrollerCls:"x-scroll-scroller",_scrollFlags:{auto:{auto:{overflowX:"auto",overflowY:"auto",x:true,y:true,both:true},"false":{overflowX:"auto",overflowY:"hidden",x:true,y:false,both:false},scroll:{overflowX:"auto",overflowY:"scroll",x:true,y:true,both:true}},"false":{auto:{overflowX:"hidden",overflowY:"auto",x:false,y:true,both:false},"false":{overflowX:"hidden",overflowY:"hidden",x:false,y:false,both:false},scroll:{overflowX:"hidden",overflowY:"scroll",x:false,y:true,both:false}},scroll:{auto:{overflowX:"scroll",overflowY:"auto",x:true,y:true,both:true},"false":{overflowX:"scroll",overflowY:"hidden",x:true,y:false,both:false},scroll:{overflowX:"scroll",overflowY:"scroll",x:true,y:true,both:true}},none:{overflowX:"",overflowY:"",x:false,y:false,both:false}},_scrollableCfg:{x:{x:true,y:false},y:{x:false,y:true},horizontal:{x:true,y:false},vertical:{x:false,y:true},both:{x:true,y:true},"true":{x:true,y:true}},validIdRe:Ext.validIdRe,constructor:function(B){var v=this,z,w,u,x,s,y,A,t;B=B||{};if(B.initialConfig){if(B.isAction){v.baseAction=B}B=B.initialConfig}else{if(B.tagName||B.dom||Ext.isString(B)){B={applyTo:B,id:B.id||B}}}v.initialConfig=B;v.getId();v.protoEl=new Ext.util.ProtoElement();v.initConfig(B);if(v.scrollable==null){s=v.autoScroll;if(s){t=!!s}else{y=v.overflowX;A=v.overflowY;if(y||A){t={x:(y&&y!=="hidden")?y:false,y:(A&&A!=="hidden")?A:false}}}if(t){v.setScrollable(t)}}u=v.xhooks;if(u){delete v.xhooks;Ext.override(v,u)}v.mixins.elementCt.constructor.call(v);v.setupProtoEl();if(v.cls){v.initialCls=v.cls;v.protoEl.addCls(v.cls)}if(v.style){v.initialStyle=v.style;v.protoEl.setStyle(v.style)}v.renderData=v.renderData||{};v.initComponent();if(!v.preventRegister){Ext.ComponentManager.register(v)}v.mixins.state.constructor.call(v);v.addStateEvents("resize");x=v.getController();if(x){x.init(v)}if(v.plugins){for(z=0,w=v.plugins.length;z<w;z++){v.plugins[z]=v.initPlugin(v.plugins[z])}}v.loader=v.getLoader();if(v.disabled){v.disabled=false;v.disable(true)}if(v.renderTo){v.render(v.renderTo)}if(v.autoShow&&!v.$initParent){v.show()}if(v.baseAction){v.baseAction.addComponent(v)}},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(m){var k=this,l=k.rendered?k.el:k.protoEl;l.addCls.apply(l,arguments);return k},addClsWithUI:function(x,s){var t=this,u=[],v=0,w=t.uiCls=Ext.Array.clone(t.uiCls),y=t.activeUI,z,q;if(typeof x==="string"){x=(x.indexOf(" ")<0)?[x]:Ext.String.splitWords(x)}z=x.length;for(;v<z;v++){q=x[v];if(q&&!t.hasUICls(q)){w.push(q);if(y){u=u.concat(t.addUIClsToElement(q))}}}if(s!==true&&y){t.addCls(u)}return u},afterComponentLayout:function(p,s,q,n){var o=this,t=o.scrollable;if(++o.componentLayoutCounter===1){o.afterFirstLayout(p,s)}else{if(o.manageLayoutScroll&&t){t.restoreState()}}if(p!==q||s!==n){o.onResize(p,s,q,n)}if(o.floating){o.onAfterFloatLayout()}},addPlugin:function(g){var k=this;g=k.constructPlugin(g);if(k.plugins){k.plugins.push(g)}else{k.plugins=[g]}if(k.pluginsInitialized){k.initPlugin(g)}return g},addPropertyToState:function(m,n,o){var p=this,q=arguments.length;if(q===3||p.hasOwnProperty(n)){if(q<3){o=p[n]}if(o!==p.initialConfig[n]){(m||(m={}))[n]=o}}return m},addUIClsToElement:function(w){var q=this,u=q.baseCls+"-"+q.ui+"-"+w,v=["x-"+w,q.baseCls+"-"+w,u],s,x,t,p;if(q.rendered&&q.frame&&!Ext.supports.CSS3BorderRadius){u+="-";s=q.getChildEls();for(x in s){p=s[x].frame;if(p&&p!==true){t=q[x];if(t){t.addCls(u+p)}}}}return v},removeUIClsFromElement:function(w){var q=this,u=q.baseCls+"-"+q.ui+"-"+w,v=["x-"+w,q.baseCls+"-"+w,u],s,x,t,p;if(q.rendered&&q.frame&&!Ext.supports.CSS3BorderRadius){u+="-";s=q.getChildEls();for(x in s){p=s[x].frame;if(p&&p!==true){t=q[x];if(t){t.removeCls(u+p)}}}}return v},adjustPosition:function(o,l){var n=this,m;if(n.isContainedFloater()){m=n.floatParent.getTargetEl().getViewRegion();o+=m.left;l+=m.top}return{x:o,y:l}},afterHide:function(l,n){var m=this,o=m.focusableContainer;delete m.getInherited().topmostFocusEvent;m.hiddenByLayout=null;if(m.ownerLayout){m.updateLayout({isRoot:false})}if(o){o.onFocusableChildHide(m)}m.fireHierarchyEvent("hide");m.fireEvent("hide",m);Ext.callback(l,n||m)},afterSetPosition:function(m,k){var l=this;l.onPosition(m,k);if(l.hasListeners.move){l.fireEvent("move",l,m,k)}},afterShow:function(p,w,s){var q=this,x=q.el,v,u,t;p=q.getAnimateTarget(p);if(!q.ghost){p=null}if(p){u={x:x.getX(),y:x.getY(),width:x.dom.offsetWidth,height:x.dom.offsetHeight};v={x:p.getX(),y:p.getY(),width:p.dom.offsetWidth,height:p.dom.offsetHeight};q.fireHierarchyEvent("show");t=q.ghost();t.el.stopAnimation();t.setX(-10000);q.ghostBox=u;t.el.animate({from:v,to:u,listeners:{afteranimate:function(){if(!q.destroying){t.componentLayout.lastComponentSize=null;q.unghost();q.ghostBox=null;q.onShowComplete(w,s)}}}})}else{q.onShowComplete(w,s);q.fireHierarchyEvent("show")}},animate:function(P){var I=this,M,H,J,R,O,Q,w,D,G,N,C,F,L,E,B,K;P=P||{};O=P.to||{};if(Ext.fx.Manager.hasFxBlock(I.id)){return I}M=Ext.isDefined(O.width);if(M){R=Ext.Number.constrain(O.width,I.minWidth,I.maxWidth)}H=Ext.isDefined(O.height);if(H){J=Ext.Number.constrain(O.height,I.minHeight,I.maxHeight)}if(!P.dynamic&&(M||H)){D=(P.from?P.from.width:undefined)||I.getWidth();G=D;N=(P.from?P.from.height:undefined)||I.getHeight();C=N;F=false;if(H&&J>N){C=J;F=true}if(M&&R>D){G=R;F=true}if(H||M){K=I.el.getStyle("overflow");if(K!=="hidden"){I.el.setStyle("overflow","hidden")}}if(F){Q=!Ext.isNumber(I.width);w=!Ext.isNumber(I.height);I.setSize(G,C);I.el.setSize(D,N);if(Q){delete I.width}if(w){delete I.height}}if(M){O.width=R}if(H){O.height=J}}L=I.constrain;E=I.constrainHeader;if(L||E){I.constrain=I.constrainHeader=false;B=P.callback;P.callback=function(){I.constrain=L;I.constrainHeader=E;if(B){B.call(P.scope||I,arguments)}if(K!=="hidden"){I.el.setStyle("overflow",K)}}}return I.mixins.animate.animate.apply(I,arguments)},applyScrollable:function(p,o){var q=this,m=q.rendered,n;if(p){if(p===true||typeof p==="string"){n=q._scrollableCfg[p];p=n}if(o){o.setConfig(p);p=o}else{p=Ext.Object.chain(p);if(m){p.element=q.getOverflowEl()}p=Ext.scroll.Scroller.create(p,q.scrollableType);p.component=q}}else{if(o){p=o;o.setConfig({x:false,y:false})}}if(q.rendered&&!q.destroying&&!q.destroyed){if(p){q.getOverflowStyle()}else{q.scrollFlags=q._scrollFlags.none}q.updateLayout()}return p},applyTouchAction:function(k,g){if(g!=null){k=Ext.merge({},g,k)}return k},beforeDestroy:Ext.emptyFn,beforeLayout:function(){if(this.floating){this.onBeforeFloatLayout()}},beforeSetPosition:function(q,t,y){var u=this,s=null,w,x,z,v;if(q){if(Ext.isNumber(w=q[0])){y=t;t=q[1];q=w}else{if((w=q.x)!==undefined){y=t;t=q.y;q=w}}}if(u.constrain||u.constrainHeader){s=u.calculateConstrainedPosition(null,[q,t],true);if(s){q=s[0];t=s[1]}}x=(q!==undefined);z=(t!==undefined);if(x||z){u.x=q;u.y=t;v=u.adjustPosition(q,t);s={x:v.x,y:v.y,anim:y,hasX:x,hasY:z}}return s},beforeShow:Ext.emptyFn,bubble:function(m,n,o){var l=this;while(l){if(m.apply(n||l,o||[l])===false){break}l=l.getBubbleTarget()}return this},clearListeners:function(){var f=this;f.mixins.observable.clearListeners.call(f);f.mixins.componentDelegation.clearDelegatedListeners.call(f)},cloneConfig:function(m){m=m||{};var l=m.id||Ext.id(),o=Ext.applyIf(m,this.initialConfig),n;o.id=l;n=Ext.getClass(this);return new n(o)},destroy:function(){var f=this;if(!f.hasListeners.beforedestroy||f.fireEvent("beforedestroy",f)!==false){f.isDestroying=f.destroying=true;f.doDestroy();f.clearListeners();f.isDestroying=f.destroying=false;f.callParent();f.mixins.componentDelegation.destroyComponentDelegation.call(f);f.mixins.observable.destroyObservable.call(f,true)}},doDestroy:function(){var n=this,s=n.focusableContainer,q=n.renderSelectors,t,o,p;o=n.floatParent||n.ownerCt;if(n.floating){delete n.floatParent;if(n.zIndexManager&&!n.zIndexManager.destroyed){n.zIndexManager.unregister(n)}n.floating=true}n.removeBindings();if(!n.beforeDestroy.$emptyFn){n.beforeDestroy()}n.destroyBindable();if(o&&o.remove){o.remove(n,false)}n.stopAnimation();if(n.rendered){Ext.destroy(n.loadMask,n.dd,n.resizer,n.proxy,n.proxyWrap,n.resizerComponent,n.scrollable,n.contentEl)}if(s){s.onFocusableChildDestroy(n)}if(n.focusable){n.destroyFocusable()}Ext.destroy(n.componentLayout,n.loadMask,n.floatingDescendants);if(!n.onDestroy.$emptyFn){n.onDestroy()}Ext.destroy(n.plugins);if(n.rendered){Ext.Component.cancelLayout(n,true)}n.componentLayout=null;if(n.hasListeners.destroy){n.fireEvent("destroy",n)}if(!n.preventRegister){Ext.ComponentManager.unregister(n)}n.mixins.state.destroy.call(n);if(n.floating){n.onFloatDestroy()}if(n.rendered){if(n.showListenerIE){n.showListenerIE.destroy();n.showListenerIE=null}if(!n.preserveElOnDestroy){n.el.destroy()}n.el.component=null;n.mixins.elementCt.destroy.call(n);if(q){for(t in q){if(q.hasOwnProperty(t)){p=n[t];if(p){delete n[t];p.destroy()}}}}n.rendered=false}},disable:function(o,m){var n=this,p=n.focusableContainer,q=n.getInherited();if(!m){q.disabled=true;n.savedDisabled=true}if(n.maskOnDisable){q.disableMask=true}if(!n.disabled){if(p){p.beforeFocusableChildDisable(n)}n.addCls(n.disabledCls);if(n.rendered){n.onDisable()}else{n.disableOnRender=true}n.disabled=true;if(o!==true){n.fireEvent("disable",n)}if(p){p.onFocusableChildDisable(n)}}return n},doFireEvent:function(p,n,q){var m=this,o;o=m.mixins.observable.doFireEvent.call(m,p,n,q);if(o!==false&&!m.destroyed){o=m.mixins.componentDelegation.doFireDelegatedEvent.call(m,p,n)}return o},enable:function(o,m){var n=this,p=n.focusableContainer,q=n.getInherited();if(!m){delete n.getInherited().disabled;n.savedDisabled=false}if(n.maskOnDisable){delete q.disableMask}if(n.disabled){if(!(m&&q.hasOwnProperty("disabled"))){if(p){p.beforeFocusableChildEnable(n)}n.disableOnRender=false;n.removeCls(n.disabledCls);if(n.rendered){n.onEnable()}n.disabled=false;if(o!==true){n.fireEvent("enable",n)}if(p){p.onFocusableChildEnable(n)}}}return n},findParentBy:function(k){var g;for(g=this.getRefOwner();g&&!k(g,this);g=g.getRefOwner()){}return g||null},findParentByType:function(f){return Ext.isFunction(f)?this.findParentBy(function(e){return e.self===f||e.constructor===f}):this.up(f)},findPlugin:function(l){var n,o=this.plugins,m=o&&o.length;for(n=0;n<m;n++){if(o[n].ptype===l){return o[n]}}},getAnimateTarget:function(f){f=f||this.animateTarget;if(f){f=f.isComponent?f.getEl():Ext.get(f)}return f||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var f=this;if(!f.componentLayout||!f.componentLayout.isLayout){f.setComponentLayout(Ext.layout.Layout.create(f.componentLayout,"autocomponent"))}return f.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(m){var k=this,l=k.componentLayout;if(k.hidden){m.hidden=true}if(k.collapseImmune){m.collapseImmune=true}if(k.modelValidation!==undefined){m.modelValidation=k.modelValidation}if(k.savedDisabled){m.disabled=true}k.mixins.bindable.initInheritedState.call(k,m);if(l&&l.initInheritedState){l.initInheritedState(m)}},getId:function(){var k=this,g;if(!(k.id||(k.id=k.initialConfig.id))){g=k.getXType();if(g){g=g.replace(Ext.Component.INVALID_ID_CHARS_Re,"-")}else{g=Ext.name.toLowerCase()+"-comp"}k.id=g+"-"+k.getAutoId()}return k.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var g=this,k=g.loader;if(k){if(!k.isLoader){g.loader=new Ext.ComponentLoader(Ext.apply({target:g},k))}else{k.setTarget(g)}return g.loader}return null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(m){var p,q=this.plugins,n=q&&q.length,o;for(p=0;p<n;p++){o=q[p];if(o.id===m||o.pluginId===m){return o}}return null},getPosition:function(q){var p=this,n,o=p.isContainedFloater(),m;if((q===true)&&!o){return[p.getLocalX(),p.getLocalY()]}n=p.getXY();if((q===true)&&o){m=p.floatParent.getTargetEl().getViewRegion();n[0]-=m.left;n[1]-=m.top}return n},getScrollX:function(){var f=this.getScrollable();return f?f.getPosition().x:0},getScrollY:function(){var f=this.getScrollable();return f?f.getPosition().y:0},getSize:function(f){return this.el.getSize(f)},getSizeModel:function(z){var M=this,I=Ext.layout.SizeModel,F=M.componentLayout.ownerContext,H=M.width,K=M.height,J,G,C,D,B,L,O,N,P,A,E=M.floating||M.floated;if(F){A=F.widthModel;B=F.heightModel}if(!A||!B){C=((J=typeof H)==="number");D=((G=typeof K)==="number");P=E||!(L=M.ownerLayout);if(P){O=Ext.layout.Layout.prototype.autoSizePolicy;N=E?3:M.shrinkWrap;if(C){A=I.configured}if(D){B=I.configured}}else{O=L.getItemSizePolicy(M,z);N=L.isItemShrinkWrap(M)}if(F){F.ownerSizePolicy=O}N=(N===true)?3:(N||0);if(P&&N){if(H&&J==="string"){N&=2}if(K&&G==="string"){N&=1}}if(N!==3){if(!z){z=M.ownerCt&&M.ownerCt.getSizeModel()}if(z){N|=(z.width.shrinkWrap?1:0)|(z.height.shrinkWrap?2:0)}}if(!A){if(!O.setsWidth){if(C){A=I.configured}else{A=(N&1)?I.shrinkWrap:I.natural}}else{if(O.readsWidth){if(C){A=I.calculatedFromConfigured}else{A=(N&1)?I.calculatedFromShrinkWrap:I.calculatedFromNatural}}else{A=I.calculated}}}if(!B){if(!O.setsHeight){if(D){B=I.configured}else{B=(N&2)?I.shrinkWrap:I.natural}}else{if(O.readsHeight){if(D){B=I.calculatedFromConfigured}else{B=(N&2)?I.calculatedFromShrinkWrap:I.calculatedFromNatural}}else{B=I.calculated}}}}return A.pairsByHeightOrdinal[B.ordinal]},getState:function(){var l=this,k=null,m=l.getSizeModel();if(m.width.configured){k=l.addPropertyToState(k,"width")}if(m.height.configured){k=l.addPropertyToState(k,"height")}return k},getUserCls:function(){return this.userCls},setUserCls:function(m){var l=this,k=l.userCls;if(m!==k){l.userCls=m;if(l.rendered){l.el.replaceCls(k,m)}}return k},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var m=this.self,l,n,o;if(!m.xtypes){l=[];n=this;while(n){o=n.xtypes;if(o!==undefined){l.unshift.apply(l,o)}n=n.superclass}m.xtypeChain=l;m.xtypes=l.join("/")}return m.xtypes},hasCls:function(g){var k=this.rendered?this.el:this.protoEl;return k.hasCls.apply(k,arguments)},hasUICls:function(m){var l=this,k=l.uiCls||[];return Ext.Array.contains(k,m)},hide:function(n,m,p){var o=this,q=o.focusableContainer;if(o.pendingShow){o.pendingShow=false}if(!(o.rendered&&!o.isVisible())){if(!o.hasListeners.beforehide||o.fireEvent("beforehide",o)!==false||o.hierarchicallyHidden){o.getInherited().hidden=o.hidden=true;if(q){q.beforeFocusableChildHide(o)}o.fireHierarchyEvent("beforehide");if(o.rendered){o.onHide.apply(o,arguments)}}}return o},initComponent:function(){var k=this,l=k.width,m=k.height;if(k.plugins&&!k.plugins.processed){k.plugins=k.constructPlugins()}k.pluginsInitialized=true;if(l!=null||m!=null){k.setSize(l,m)}if(k.listeners){k.on(k.listeners);k.listeners=null}if(k.focusable){k.initFocusable()}},initEvents:function(){var p=this,v=p.afterRenderEvents,t,q,o,s,u;if(v){for(o in v){q=p[o];if(q&&q.on){t=v[o];for(s=0,u=t.length;s<u;++s){p.mon(q,t[s])}}}}if(p.focusable){p.initFocusableEvents()}p.initKeyMap()},is:function(f){return Ext.ComponentQuery.is(this,f)},isDescendantOf:function(k){var g;for(g=this.getRefOwner();g&&g!==k;g=g.getRefOwner()){}return g||null},isAncestor:function(f){while(f){if(f.getRefOwner()===this){return true}f=f.getRefOwner()}},isDisabled:function(){return this.disabled},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){var l=this,m=false,o,n;for(;(o=l.ownerCt||l.floatParent);l=o){n=o.getInherited();if(n.hidden){m=true;break}if(l.getInherited().collapseImmune){if(o.collapsed&&!l.collapseImmune){m=true;break}}else{m=!!n.collapsed;break}}return m},isLayoutChild:function(f){return !this.floating&&!!this.up(f)},isLayoutRoot:function(){var k=this,g=k.ownerLayout;if(!g||k._isLayoutRoot||k.floating){return true}return g.isItemLayoutRoot(k)},isLayoutSuspended:function(){var k=this,g;while(k){if(k.layoutSuspendCount||k.suspendLayout){return true}g=k.ownerLayout;if(!g){break}k=g.owner}return false},isVisible:function(m){var l=this,k;if(l.hidden||!l.rendered||l.destroyed){k=true}else{if(m){k=l.isHierarchicallyHidden()}}return !k},isXType:function(g,k){return k?(Ext.Array.indexOf(this.xtypes,g)!==-1):!!this.xtypesMap[g]},isMasked:function(k){var g=this;return !!(g.masked||(g.loadMask&&g.loadMask.isVisible())||(k&&g.getInherited().masked))},lookupTpl:function(f){return Ext.XTemplate.getTpl(this,f)},setMasked:function(k){var l=this,m=l.focusableContainer;if(k){l.masked=true;l.getInherited().masked=k}else{l.masked=false;delete l.getInherited().masked}if(m){m.onFocusableChildMasked(l,k)}return l},mask:function(m,o,q){var p=this.lastBox,n=this.getMaskTarget()||this.el;if(p){q=p.height}n.mask(m,o,q);this.setMasked(true)},nextNode:function(w,s){var y=this,x=y.ownerCt,q,v,t,u,z;if(s&&y.is(w)){return y}if(x){for(v=x.items.items,u=Ext.Array.indexOf(v,y)+1,t=v.length;u<t;u++){z=v[u];if(z.is(w)){return z}if(z.down){q=z.down(w);if(q){return q}}}return x.nextNode(w)}return null},nextSibling:function(s){var o=this.ownerCt,q,p,t,n;if(o){q=o.items;t=q.indexOf(this)+1;if(t){if(s){for(p=q.getCount();t<p;t++){if((n=q.getAt(t)).is(s)){return n}}}else{if(t<q.getCount()){return q.getAt(t)}}}}return null},onAdded:function(n,l,o){var m=this;m.ownerCt=n;m.onInheritedAdd(m,o);if(m.hasListeners&&m.hasListeners.added){m.fireEvent("added",m,n,l)}if(Ext.GlobalEvents.hasListeners.added){m.fireHierarchyEvent("added")}},onRemoved:function(m){var n=this,l,o;if(!n.isLayoutMoving&&n.el&&n.el.contains(Ext.Element.getActiveElement())){o=n.findFocusTarget();if(o){o.focus()}}if(Ext.GlobalEvents.hasListeners.removed){n.fireHierarchyEvent("removed")}if(n.hasListeners.removed){n.fireEvent("removed",n,n.ownerCt)}if(!m){n.removeBindings()}n.onInheritedRemove(m);n.ownerCt=n.ownerLayout=null},onBoxReady:function(m,o){var l=this,n;if(l.ariaLabelledBy||l.ariaDescribedBy){if(l.ariaLabelledBy){n=l.getAriaLabelEl(l.ariaLabelledBy);if(n){l.ariaEl.dom.setAttribute("aria-labelledby",n)}}if(l.ariaDescribedBy){n=l.getAriaLabelEl(l.ariaDescribedBy);if(n){l.ariaEl.dom.setAttribute("aria-describedby",n)}}}if(l.resizable){l.initResizable(l.resizable)}if(l.draggable){l.initDraggable()}if(l.hasListeners.boxready){l.fireEvent("boxready",l,m,o)}},onDestroy:Ext.emptyFn,onDisable:function(){var m=this,l,k;if(m.focusable){m.disableFocusable()}if(!m.ariaStaticRoles[m.ariaRole]){m.ariaEl.dom.setAttribute("aria-disabled",true)}if(m.maskOnDisable&&!m.getInheritedConfig("disableMask",true)){l=m.el.dom;k=l.nodeName;if(m.disabledRe.test(k)){l.disabled=true}if(!m.nonMaskableRe.test(k)){m.mask()}}},onEnable:function(){var m=this,l,k;if(m.focusable){m.enableFocusable()}if(!m.ariaStaticRoles[m.ariaRole]){m.ariaEl.dom.setAttribute("aria-disabled",false)}if(m.maskOnDisable&&m.getInherited().hasOwnProperty("masked")){l=m.el.dom;k=l.nodeName;if(m.disabledRe.test(k)){l.disabled=false}if(!m.nonMaskableRe.test(k)){m.unmask()}}},onGlobalShow:function(f){if(this.up(f)){this.getScrollable().restoreState()}},onHide:function(v,u,p){var o=this,s,q,t;if(!o.ariaStaticRoles[o.ariaRole]&&!o.destroying&&!o.destroyed){o.ariaEl.dom.setAttribute("aria-hidden",true)}o.revertFocus();v=o.getAnimateTarget(v);if(!o.ghost){v=null}if(v){t={x:v.getX(),y:v.getY(),width:v.dom.offsetWidth,height:v.dom.offsetHeight};s=o.ghost();s.el.stopAnimation();q=o.getSize();s.el.animate({to:t,listeners:{afteranimate:function(){if(!o.destroying){s.componentLayout.lastComponentSize=null;o.unghost(false);s.el.setSize(q);o.afterHide(u,p)}}}})}else{o.el.hide()}if(!v){o.afterHide(u,p)}},onPosition:Ext.emptyFn,onResize:function(o,q,p,m){var n=this;if(n.floating&&n.constrain){n.doConstrain()}if(n.hasListeners.resize){n.fireEvent("resize",n,o,q,p,m)}},onShow:function(){var f=this;if(!f.ariaStaticRoles[f.ariaRole]){f.ariaEl.dom.setAttribute("aria-hidden",false)}f.el.show();f.updateLayout({isRoot:false,context:f._showContext});if(f.floating){if(f.maximized){f.fitContainer()}else{if(f.constrain){f.doConstrain()}}}},_showContext:{show:true},onShowComplete:function(o,m){var l=this,n=l.focusableContainer;if(l.floating){l.onFloatShow()}Ext.callback(o,m||l);l.fireEvent("show",l);if(n){n.onFocusableChildShow(l)}delete l.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(u,s){var w=this,x=w.ownerCt,v,p,q,t;if(s&&w.is(u)){return w}if(x){for(p=x.items.items,q=Ext.Array.indexOf(p,w)-1;q>-1;q--){t=p[q];if(t.query){v=t.query(u);v=v[v.length-1];if(v){return v}}if(t.is(u)){return t}}return x.previousNode(u,true)}return null},previousSibling:function(p){var n=this.ownerCt,o,q,m;if(n){o=n.items;q=o.indexOf(this);if(q!==-1){if(p){for(--q;q>=0;q--){if((m=o.getAt(q)).is(p)){return m}}}else{if(q){return o.getAt(--q)}}}}return null},registerFloatingItem:function(g){var k=this;if(!k.floatingDescendants){k.floatingDescendants=new Ext.ZIndexManager(k)}k.floatingDescendants.register(g)},removeCls:function(m){var k=this,l=k.rendered?k.el:k.protoEl;l.removeCls.apply(l,arguments);return k},removeClsWithUI:function(z,t){var u=this,v=[],x=0,C=Ext.Array,w=C.remove,y=u.uiCls=C.clone(u.uiCls),A=u.activeUI,B,D;if(typeof z==="string"){z=(z.indexOf(" ")<0)?[z]:Ext.String.splitWords(z)}B=z.length;for(x=0;x<B;x++){D=z[x];if(D&&u.hasUICls(D)){w(y,D);if(A){v=v.concat(u.removeUIClsFromElement(D))}}}if(t!==true&&A){u.removeCls(v)}return v},resumeLayouts:function(g){var k=this;if(!k.rendered){return}if(k.layoutSuspendCount&&!--k.layoutSuspendCount){k.suspendLayout=false;if(g&&!k.isLayoutSuspended()){k.updateLayout(g)}}},scrollBy:function(m,n,l){var o=this.getScrollable();if(o){o.scrollBy(m,n,l)}},scrollTo:function(n,l,m){var o=this.getScrollable();if(o){o.scrollTo(n,l,m)}},setAutoScroll:function(f){this.setScrollable(!!f);return this},setBorder:function(n,l){var m=this,o=!!l;if(m.rendered||o){if(!o){l=m.el}if(!n){n=0}else{if(n===true){n="1px"}else{n=this.unitizeBox(n)}}l.setStyle("border-width",n);if(!o){m.updateLayout()}}m.border=n},setDock:function(k){var l=this,m=l.ownerCt;if(k!==l.dock){if(m&&m.moveDocked){m.moveDocked(l,k)}else{l.dock=k}}return l},setDisabled:function(f){return this[f?"disable":"enable"]()},setFlex:function(f){this.flex=f},setHeight:function(f){return this.setSize(undefined,f)},setLoading:function(m,l){var n=this,o={target:n};if(n.rendered){if(m!==false){if(Ext.isString(m)){o.msg=m}else{Ext.apply(o,m)}if(!n.loadMask||!n.loadMask.isLoadMask){if(l&&o.useTargetEl==null){o.useTargetEl=true}n.loadMask=new Ext.LoadMask(o)}else{Ext.apply(n.loadMask,o)}if(n.loadMask.isVisible()){n.loadMask.syncMaskState()}else{n.loadMask.show()}}else{if(n.loadMask&&n.loadMask.isLoadMask){n.loadMask.hide()}}}return n.loadMask},setMargin:function(k,l){var m=this;if(m.rendered){if(!k&&k!==0){k=""}else{if(k===true){k=5}k=this.unitizeBox(k)}m.margin=k;m.margin$=null;m.getEl().setStyle("margin",k);if(!l){m.updateLayout(m._notAsLayoutRoot)}}else{m.margin=k}},setOverflowXY:function(g,k){this.setScrollable({x:(g&&g!=="hidden")?g:false,y:(k&&k!=="hidden")?k:false});return this},setPagePosition:function(t,n,s){var q=this,p,o;if(Ext.isArray(t)){n=t[1];t=t[0]}q.pageX=t;q.pageY=n;if(q.floating){if(q.isContainedFloater()){o=q.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(t)&&Ext.isNumber(o.left)){t-=o.left}if(Ext.isNumber(n)&&Ext.isNumber(o.top)){n-=o.top}}else{p=q.el.translateXY(t,n);t=p.x;n=p.y}q.setPosition(t,n,s)}else{p=q.el.translateXY(t,n);q.setPosition(p.x,p.y,s)}return q},setPosition:function(q,m,p){var o=this,n=o.beforeSetPosition.apply(o,arguments);if(n&&o.rendered){q=n.x;m=n.y;if(p){if(q!==o.getLocalX()||m!==o.getLocalY()){o.stopAnimation();o.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(o.afterSetPosition,o,[q,m])},to:{left:q,top:m}},p))}}else{o.setLocalXY(q,m);o.afterSetPosition(q,m)}}return o},setScrollX:function(l,k){var m=this.getScrollable();if(m){m.scrollTo(l,null,k)}},setScrollY:function(k,l){var m=this.getScrollable();if(m){m.scrollTo(null,k,l)}},setSize:function(q,u){var p=this,t=p.width,v=p.height,o,s;if(q&&typeof q==="object"){u=q.height;q=q.width}if(typeof q==="number"){p.width=Ext.Number.constrain(q,p.minWidth,p.maxWidth)}else{if(q===null){delete p.width}else{if(typeof q==="string"){o=true;p.width=q}}}if(typeof u==="number"){p.height=Ext.Number.constrain(u,p.minHeight,p.maxHeight)}else{if(u===null){delete p.height}else{if(typeof u==="string"){s=true;p.height=u}}}if(p.rendered&&p.isVisible()){if(t!==p.width||v!==p.height){if(p.liquidLayout||o||s){p.el.setSize(p.width,p.height)}p.updateLayout(p._notAsLayoutRoot)}}return p},setStyle:function(k,l){var m=this.el||this.protoEl;m.setStyle(k,l);return this},setUI:function(o){var p=this,m=p.uiCls,n=p.activeUI,q;if(o===n){return}if(n){q=p.removeClsWithUI(m,true);if(q.length){p.removeCls(q)}p.removeUIFromElement()}else{p.uiCls=[]}p.ui=o;p.activeUI=o;p.addUIToElement();q=p.addClsWithUI(m,true);if(q.length){p.addCls(q)}if(p.rendered){p.updateLayout()}},setVisible:function(f){return this[f?"show":"hide"]()},setHidden:function(f){return this.setVisible(!f)},setWidth:function(f){return this.setSize(f)},show:function(o,t,q){var p=this,n=p.rendered,s=p.focusableContainer;if(p.hierarchicallyHidden||(p.floating&&!n&&p.isHierarchicallyHidden())){if(!n){p.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;p.pendingShow=arguments}else{p.pendingShow=true}}else{if(n&&p.isVisible()){if(p.floating){p.onFloatShow()}}else{if(p.fireEvent("beforeshow",p)!==false){p.hidden=false;delete this.getInherited().hidden;if(s){s.beforeFocusableChildShow(p)}Ext.suspendLayouts();if(!n&&(p.autoRender||p.floating)){p.doAutoRender();n=p.rendered}if(n){p.beforeShow();Ext.resumeLayouts();p.onShow.apply(p,arguments);p.afterShow.apply(p,arguments)}else{Ext.resumeLayouts(true)}}else{p.onShowVeto()}}}return p},showAt:function(o,l,n){var m=this;if(!m.rendered&&(m.autoRender||m.floating)){m.x=o;m.y=l;return m.show()}if(m.floating){m.setPosition(o,l,n)}else{m.setPagePosition(o,l,n)}return m.show()},showBy:function(n,l,m){var o=this;if(o.floating&&n){o._lastAlignTarget=n;o._lastAlignToPos=l||o.defaultAlign;o._lastAlignToOffsets=m||o.alignOffset;o.show()}return o},suspendLayouts:function(){var f=this;if(!f.rendered){return}if(++f.layoutSuspendCount===1){f.suspendLayout=true}},toggleCls:function(k,g){if(g===undefined){g=!this.hasCls(k)}return this[g?"addCls":"removeCls"](k)},unitizeBox:function(f){return Ext.Element.unitizeBox(f)},unmask:function(){(this.getMaskTarget()||this.el).unmask();this.setMasked(false)},unregisterFloatingItem:function(g){var k=this;if(k.floatingDescendants){k.floatingDescendants.unregister(g)}},up:function(q,p){var s=this.getRefOwner(),t=typeof p==="string",v=typeof p==="number",u=p&&p.isComponent,o=0;if(q){for(;s&&!s.destroyed;s=s.getRefOwner()){o++;if(q.isComponent){if(s===q){return s}}else{if(Ext.ComponentQuery.is(s,q)){return s}}if(t&&s.is(p)){return}if(v&&o===p){return}if(u&&s===p){return}}}return s},update:function(y,v,t,A){var u=this,s=(u.tpl&&!Ext.isString(y)),z=u.focusableContainer,w,B,x;if(s){u.data=(y&&y.isEntity)?y.getData(true):y}else{u.html=Ext.isObject(y)?Ext.DomHelper.markup(y):y}if(u.rendered){w=u.getSizeModel();B=w.width.shrinkWrap||w.height.shrinkWrap;if(u.isContainer){x=u.layout.getRenderTarget();B=B||u.items.items.length>0}else{x=u.getTargetEl()}if(s){u.tpl[u.tplWriteMode](x,u.data||{})}else{x.setHtml(u.html,v,t,A||u)}if(B){u.updateLayout()}if(z){z.onFocusableChildUpdate(u)}}},setHtml:function(l,m,k){this.update(l,m,null,k)},applyData:function(f){this.update(f)},updateBox:function(f){this.setSize(f.width,f.height);this.setPagePosition(f.x,f.y);return this},_asLayoutRoot:{isRoot:true},_notAsLayoutRoot:{isRoot:false},updateLayout:function(q){var o=this,n,s=o.lastBox,t=q&&q.isRoot,p=q&&q.context;if(s){s.invalid=true}if(!o.rendered||o.layoutSuspendCount||o.suspendLayout){return}if(o.hidden){Ext.Component.cancelLayout(o)}else{if(typeof t!=="boolean"){t=o.isLayoutRoot()}}if(t||!o.ownerLayout||!o.ownerLayout.onContentChange(o,p)){if(!o.isLayoutSuspended()){n=(q&&q.hasOwnProperty("defer"))?q.defer:o.deferLayouts;Ext.Component.updateLayout(o,n)}}},updateMaxHeight:function(g,k){this.changeConstraint(g,k,"min","max-height","height")},updateMaxWidth:function(g,k){this.changeConstraint(g,k,"min","max-width","width")},updateMinHeight:function(g,k){this.changeConstraint(g,k,"max","min-height","height")},updateMinWidth:function(k,g){this.changeConstraint(k,g,"max","min-width","width")},updateTouchAction:function(m){var p,q,o,n;for(p in m){q=this[p];o=m[p];if(q&&q.isElement){q.setTouchAction(o)}else{n=true}}if(n){this.el.setTouchAction(m)}},getAnchorToXY:function(l,o,m,n){return l.getAnchorXY(o,m,n)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(f){this.el.setLocalX(f)},setLocalXY:function(k,g){this.el.setLocalXY(k,g)},setLocalY:function(f){this.el.setLocalY(f)},setX:function(k,g){this.el.setX(k,g)},setXY:function(g,k){this.el.setXY(g,k)},setY:function(g,k){this.el.setY(g,k)},privates:{addOverCls:function(){var f=this;if(!f.disabled){f.el.addCls(f.overCls)}},addUIToElement:function(){var p=this,t=p.baseCls+"-"+p.ui,q,n,s,o;p.addCls(t);if(p.rendered&&p.frame&&!Ext.supports.CSS3BorderRadius){t+="-";q=p.getChildEls();for(n in q){o=q[n].frame;if(o&&o!==true){s=p[n];if(s){s.addCls(t+o)}}}}},changeConstraint:function(v,s,u,p,t){var o=this,q=o[t];if(v!=null&&typeof q==="number"){o[t]=Math[u](q,v)}if(o.liquidLayout){if(v!=null){o.setStyle(p,v+"px")}else{if(s){o.setStyle(p,"")}}}if(o.rendered){o.updateLayout()}},constructPlugin:function(g){var k=this;if(typeof g==="string"){g=Ext.PluginManager.create({},g,k)}else{g=Ext.PluginManager.create(g,null,k)}return g},constructPlugins:function(){var m=this,o=m.plugins,p,n,q;if(o){p=[];p.processed=true;if(!Ext.isArray(o)){o=[o]}for(n=0,q=o.length;n<q;n++){p[n]=m.constructPlugin(o[n])}}m.pluginsInitialized=true;return p},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.el);Ext.Component.cancelLayout(this);this.isDetached=true},doAddListener:function(C,J,I,G,E,F,B){var w=this,x,z,D,H,A,y;if(Ext.isObject(J)||(G&&G.element)){if(G.element){H=G.element;x={};x[C]=J;if(I){x.scope=I}D=w.$elementEventOptions;for(z in G){if(D[z]){x[z]=G[z]}}}else{x=J;H=C}A=w[H];if(A&&A.isObservable){w.mon(A,x)}else{w.afterRenderEvents=w.afterRenderEvents||{};if(!w.afterRenderEvents[H]){w.afterRenderEvents[H]=[]}w.afterRenderEvents[H].push(x)}return}if(G){y=G.delegate;if(y){w.mixins.componentDelegation.addDelegatedListener.call(w,C,J,I,G,E,F,B);return}}w.mixins.observable.doAddListener.call(w,C,J,I,G,E,F,B)},doRemoveListener:function(o,m,n){var l=this;l.mixins.observable.doRemoveListener.call(l,o,m,n);l.mixins.componentDelegation.removeDelegatedListener.call(l,o,m,n)},fireHierarchyEvent:function(g){var k=Ext.GlobalEvents;if(k.hasListeners[g]){k.fireEvent(g,this)}},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=true;return ++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var p=this,s=p.getScrollable(),q=p._scrollFlags,t,n,o;if(s){t=s.getX();if(t===true){t="auto"}n=s.getY();if(n===true){n="auto"}o=q[t][n]}else{o=q.none}p.scrollFlags=o;return{overflowX:o.overflowX,overflowY:o.overflowY}},getPlugins:function(){var f=this.plugins;f=(f&&f.processed)?f:this.constructPlugins();return f||null},getProxy:function(){var k=this,g;if(!k.proxy){g=Ext.getBody();k.proxy=k.el.createProxy("x-proxy-el",g,true)}return k.proxy},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return"x-"+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(f){return this.lookupTpl(f)},initCls:function(){var l=this,m=[l.baseCls],k=l.getComponentLayout().targetCls;if(k){m.push(k)}if(l.componentCls){m.push(l.componentCls)}else{l.componentCls=l.baseCls}return m},initDraggable:function(){var k=this,m=(k.resizer&&k.resizer.el!==k.el)?k.resizerComponent=new Ext.Component({el:k.resizer.el,rendered:true,container:k.container}):k,l=Ext.applyIf({el:m.getDragEl(),constrainTo:(k.constrain||k.draggable.constrain)?(k.constrainTo||(k.floatParent?k.floatParent.getTargetEl():k.container)):undefined},k.draggable);if(k.constrain||k.constrainDelegate){l.constrain=k.constrain;l.constrainDelegate=k.constrainDelegate}k.dd=new Ext.util.ComponentDragger(m,l)},initPadding:function(k){var m=this,l=m.padding;if(l!=null){if(m.layout&&m.layout.managePadding&&m.contentPaddingProperty==="padding"){k.setStyle("padding",0)}else{k.setStyle("padding",this.unitizeBox((l===true)?5:l))}}},initPlugin:function(f){f.init(this);return f},initResizable:function(k){var g=this;k=Ext.apply({target:g,dynamic:false,constrainTo:(g.constrain||(k&&k.constrain))?(g.constrainTo||(g.floatParent?g.floatParent.getTargetEl():g.container)):undefined,handles:g.resizeHandles},k);k.target=g;g.resizer=new Ext.resizer.Resizer(k)},initStyles:function(t){var x=this,z=x.margin,y=x.border,D=x.cls,C=x.style,v=x.x,w=x.y,A=x.liquidLayout,B,u;x.initPadding(t);if(z!=null){t.setStyle("margin",this.unitizeBox((z===true)?5:z))}if(y!=null){x.setBorder(y,t)}if(D&&D!==x.initialCls){t.addCls(D);x.cls=x.initialCls=null}if(C&&C!==x.initialStyle){t.setStyle(C);x.style=x.initialStyle=null}if(v!=null){t.setStyle(x.horizontalPosProp,(typeof v==="number")?(v+"px"):v)}if(w!=null){t.setStyle("top",(typeof w==="number")?(w+"px"):w)}if(!x.ownerCt||x.floating){if(Ext.scopeCss){t.addCls(x.rootCls)}t.addCls(x.borderBoxCls)}if(A||!x.getFrameInfo()){B=x.width;u=x.height;if(B!=null){if(typeof B==="number"){t.setStyle("width",B+"px")}else{t.setStyle("width",B)}}if(u!=null){if(typeof u==="number"){t.setStyle("height",u+"px")}else{t.setStyle("height",u)}}}},isContainedFloater:function(){return(this.floating&&this.floatParent)},isDescendant:function(k){if(k.isContainer){for(var g=this.ownerCt;g;g=g.ownerCt){if(g===k){return true}}}return false},owns:function(l){var m=false,k;if(l.isEvent){l=l.target}else{if(l.isElement){l=l.dom}}k=Ext.Component.fromElement(l);if(k){m=(k===this)||(!!k.up(this))}return m},parseBox:function(f){return Ext.Element.parseBox(f)},reattachToBody:function(){this.isDetached=false},removeManagedListenerItem:function(u,v,w,s,p,q){var x=this,t=v.options?v.options.element:null;if(t){t=x[t];if(t&&t.un){if(u||(v.item===w&&v.ename===s&&(!p||v.fn===p)&&(!q||v.scope===q))){t.un(v.ename,v.fn,v.scope);if(!u){Ext.Array.remove(x.managedListeners,v)}}}}else{return x.mixins.observable.removeManagedListenerItem.apply(x,arguments)}},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(f){Ext.Array.remove(this.plugins,f);f.destroy()},removeUIFromElement:function(){var p=this,t=p.baseCls+"-"+p.ui,q,n,s,o;p.removeCls(t);if(p.rendered&&p.frame&&!Ext.supports.CSS3BorderRadius){t+="-";q=p.getChildEls();for(n in q){o=q[n].frame;if(o&&o!==true){s=p[n];if(s){s.removeCls(t+o)}}}}},setComponentLayout:function(g){var k=this.componentLayout;if(k&&k.isLayout&&k!==g){k.setOwner(null)}this.componentLayout=g;g.setOwner(this)},setHiddenState:function(l){var m=this,n=m.getInherited(),o=m.zIndexManager;m.hidden=l;if(l){n.hidden=true}else{delete n.hidden}if(o){o.onComponentShowHide(m)}},setupProtoEl:function(){var f=this.initCls();this.protoEl.addCls(f)},wrapPrimaryEl:function(k){var l=this,m=l.el;if(!m||!m.isElement){l.el=Ext.get(k)}if(l.floating){this.mixins.floating.constructor.call(this)}}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){this.updateLayout();return this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},1,["component","box"],["component","box"],{component:true,box:true},["widget.box","widget.component"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.util.Floating.prototype.mixinId||Ext.util.Floating.$className,Ext.util.Floating],[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.util.Animate.prototype.mixinId||Ext.util.Animate.$className,Ext.util.Animate],[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer],[Ext.util.Renderable.prototype.mixinId||Ext.util.Renderable.$className,Ext.util.Renderable],[Ext.state.Stateful.prototype.mixinId||Ext.state.Stateful.$className,Ext.state.Stateful],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable],[Ext.mixin.Accessible.prototype.mixinId||Ext.mixin.Accessible.$className,Ext.mixin.Accessible],[Ext.mixin.Keyboard.prototype.mixinId||Ext.mixin.Keyboard.$className,Ext.mixin.Keyboard]],[Ext,"Component",Ext,"AbstractComponent"],function(g){var k=g.prototype;(k.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(k.$eventOptions=Ext.Object.chain(k.$eventOptions)).delegate=1;g.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(e){g.resumeLayouts(e)};Ext.suspendLayouts=function(){g.suspendLayouts()};Ext.batchLayouts=function(e,f){g.suspendLayouts();try{e.call(f)}finally{g.resumeLayouts(true)}};Ext.setGlyphFontFamily=function(e){Ext._glyphFontFamily=e};g.hierarchyEventSource=k.hierarchyEventSource=Ext.GlobalEvents;Ext.onReady(function(){if(Ext.supports.HighContrastMode){Ext.getBody().addCls(g.ariaHighContrastModeCls)}})}));Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var f=this;if(!f._borderRegionInited){f._borderRegionInited=true;f.addStateEvents(["changeregion","changeweight"]);Ext.override(f,{getState:function(){var e=f.callParent();e=f.addPropertyToState(e,"region");e=f.addPropertyToState(e,"weight");return e}})}},getOwningBorderContainer:function(){var f=this.getOwningBorderLayout();return f&&f.owner},getOwningBorderLayout:function(){var f=this.ownerLayout;return(f&&f.isBorderLayout)?f:null},setRegion:function(v){var w=this,C,B=w.region;if(v!==B){C=w.getOwningBorderLayout();if(C){var z=C.regionFlags[v],H=w.placeholder,E=w.splitter,D=C.owner,F=C.regionMeta,A=w.collapsed||w.floated,G,x,y;if(w.fireEventArgs("beforechangeregion",[w,v])===false){return B}Ext.suspendLayouts();w.region=v;Ext.apply(w,z);if(w.updateCollapseTool){w.updateCollapseTool()}if(E){Ext.apply(E,z);E.updateOrientation();x=D.items;y=x.indexOf(w);if(y>=0){G=F[v].splitterDelta;if(x.getAt(y+G)!==E){x.remove(E);y=x.indexOf(w);if(G>0){++y}x.insert(y,E)}}}if(H){if(A){w.expand(false)}D.remove(H);w.placeholder=null;if(A){w.collapse(null,false)}}D.updateLayout();Ext.resumeLayouts(true);w.fireEventArgs("changeregion",[w,B])}else{w.region=v}}return B},setWeight:function(n){var o=this,p=o.getOwningBorderContainer(),m=o.placeholder,q=o.weight;if(n!==q){if(o.fireEventArgs("beforechangeweight",[o,n])!==false){o.weight=n;if(m){m.weight=n}if(p){p.updateLayout()}o.fireEventArgs("changeweight",[o,q])}}return q}},function(k){var g=k.prototype;g.setBorderRegion=g.setRegion;g.setRegionWeight=g.setWeight});Ext.define("Ext.theme.neptune.Component",{override:"Ext.Component",initComponent:function(){arguments.callee.$previous.call(this);if(this.dock&&this.border===undefined){this.border=false}},privates:{initStyles:function(){var k=this,l=k.hasOwnProperty("border"),m=k.border;if(k.dock){k.border=null}arguments.callee.$previous.apply(this,arguments);if(l){k.border=m}else{delete k.border}}}},function(){Ext.namespace("Ext.theme.is").Neptune=true;Ext.theme.name="Neptune"});Ext.define("Ext.theme.triton.Component",{override:"Ext.Component"},function(){Ext.namespace("Ext.theme.is").Triton=true;Ext.theme.name="Triton"});(Ext.cmd.derive("Ext.Action",Ext.Base,{constructor:function(f){this.initialConfig=f;this.itemId=f.itemId=(f.itemId||f.id||Ext.id());this.items=[]},isAction:true,setText:function(f){this.initialConfig.text=f;this.callEach("setText",[f])},getText:function(){return this.initialConfig.text},setIconCls:function(f){this.initialConfig.iconCls=f;this.callEach("setIconCls",[f])},setGlyph:function(f){this.initialConfig.glyph=f;this.callEach("setGlyph",[f])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(f){this.initialConfig.disabled=f;this.callEach("setDisabled",[f])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(f){this.initialConfig.hidden=f;this.callEach("setVisible",[!f])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(g,k){this.initialConfig.handler=g;this.initialConfig.scope=k;this.callEach("setHandler",[g,k])},each:function(g,k){Ext.each(this.items,g,k)},callEach:function(n,q){var s=this.items,p=0,t=s.length,o;Ext.suspendLayouts();for(;p<t;p++){o=s[p];o[n].apply(o,q)}Ext.resumeLayouts(true)},addComponent:function(f){this.items.push(f);f.on("destroy",this.removeComponent,this)},removeComponent:function(f){Ext.Array.remove(this.items,f)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}},1,0,0,0,0,0,[Ext,"Action"],0));(Ext.cmd.derive("Ext.layout.SizeModel",Ext.Base,{constructor:function(o){var m=this,n=m.self,q=n.sizeModelsArray,p;Ext.apply(m,o);m[p=m.name]=true;m.fixed=!(m.auto=m.natural||m.shrinkWrap);q[m.ordinal=q.length]=n[p]=n.sizeModels[p]=m},statics:{sizeModelsArray:[],sizeModels:{}},calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null},1,0,0,0,0,0,[Ext.layout,"SizeModel"],function(){var p=this,u=p.sizeModelsArray,s,t,v,n,q;new p({name:"calculated"});new p({name:"configured",names:{width:"width",height:"height"}});new p({name:"natural"});new p({name:"shrinkWrap"});new p({name:"calculatedFromConfigured",configured:true,calculatedFrom:true,names:{width:"width",height:"height"}});new p({name:"calculatedFromNatural",natural:true,calculatedFrom:true});new p({name:"calculatedFromShrinkWrap",shrinkWrap:true,calculatedFrom:true});new p({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new p({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});new p({name:"constrainedDock",configured:true,constrained:true,constrainedByMin:true,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});for(s=0,v=u.length;s<v;++s){q=u[s];q.pairsByHeightOrdinal=n=[];for(t=0;t<v;++t){n.push({width:q,height:u[t]})}}}));(Ext.cmd.derive("Ext.layout.Layout",Ext.Base,{factoryConfig:{type:"layout"},isLayout:true,initialized:false,running:false,needsItemSize:true,setsItemSize:true,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:false,$configStrict:false,constructor:function(k){var g=this;g.id=Ext.id(null,g.type+"-");g.initConfig(k);delete g.type;g.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(m){var n=this,o=n.context,l;if(n.lastWidthModel!==m.widthModel){if(n.lastWidthModel){l=true}n.lastWidthModel=m.widthModel}if(n.lastHeightModel!==m.heightModel){if(n.lastWidthModel){l=true}n.lastHeightModel=m.heightModel}if(l){(o=m.context).clearTriggers(n,false);o.clearTriggers(n,true);n.triggerCount=0}},finishedLayout:function(f){this.lastWidthModel=f.widthModel;this.lastHeightModel=f.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(f){return this.autoSizePolicy},isItemBoxParent:function(f){return false},isItemLayoutRoot:function(l){var m=l.getSizeModel(),n=m.width,o=m.height;if(!l.componentLayout.lastComponentSize&&(n.calculated||o.calculated)){return false}return !n.shrinkWrap&&!o.shrinkWrap},isItemShrinkWrap:function(f){return f.shrinkWrap},isRunning:function(){return !!this.ownerContext},getItemsRenderTree:function(q,t){var v=q.length,p,o,s,u;if(v){u=[];for(p=0;p<v;++p){o=q[p];if(!o.rendered){if(t&&(t[o.id]!==undefined)){s=t[o.id]}else{this.configureItem(o);s=o.getRenderTree();if(t){t[o.id]=s}}if(s){u.push(s)}}}}return u},finishRender:Ext.emptyFn,finishRenderItems:function(m,q){var n=q.length,p,o;for(p=0;p<n;p++){o=q[p];if(o.rendering){o.finishRender(p)}}},renderChildren:function(){var l=this,m=l.getLayoutItems(),k=l.getRenderTarget();l.renderItems(m,k)},renderItems:function(u,o){var p=this,q=u.length,t=0,v=0,s;if(q){Ext.suspendLayouts();for(;t<q;t++,v++){s=u[t];if(s&&!s.rendered){p.renderItem(s,o,v)}else{if(s.ignoreDomPosition){--v}else{if(!p.isValidParent(s,o,v)){p.moveItem(s,o,v)}else{p.configureItem(s)}}}}Ext.resumeLayouts(true)}},isValidParent:function(n,m,q){var o=(m&&m.dom)||m,p=this.getItemLayoutEl(n);if(p&&o){if(typeof q==="number"){q=this.getPositionOffset(q);return p===o.childNodes[q]}return p.parentNode===o}return false},getItemLayoutEl:function(m){var l=m.el?m.el.dom:Ext.getDom(m),o=l.parentNode,n;if(o){n=o.className;if(n&&n.indexOf("x-resizable-wrap")!==-1){l=l.parentNode}}return l},getPositionOffset:function(f){return f},configureItem:function(f){f.ownerLayout=this},renderItem:function(m,l,o){var n=this;if(!m.rendered){n.configureItem(m);m.render(l,o)}},moveItem:function(n,m,o){var l=Ext.Element.getActiveElement(true);m=m.dom||m;if(typeof o==="number"){o=m.childNodes[o]}if(n.el.contains(l)){l.suspendFocusEvents()}else{l=null}m.insertBefore(n.el.dom,o||null);n.container=Ext.get(m);this.configureItem(n);if(l){l.focus();l.resumeFocusEvents()}},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(f){this.owner=f},getLayoutItems:function(){return[]},onAdd:function(f){f.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(m){var n=this,o=m.el,p=n.owner,q;if(m.rendered){q=[].concat(n.itemCls||[]);if(p.itemCls){q=Ext.Array.push(q,p.itemCls)}if(q.length){o.removeCls(q)}}delete m.ownerLayout},afterCollapse:function(k,g){if(g){this.onContentChange(k)}},afterExpand:function(k,g){if(g){this.onContentChange(k)}},destroy:function(){var k=this,g;if(k.targetCls){g=k.getTarget();if(g){g.removeCls(k.targetCls)}}if(!k.onDestroy.$emptyFn){k.onDestroy()}k.callParent()},sortWeightedItems:function(o,l){for(var n=0,m=o.length;n<m;++n){o[n].$i=n}Ext.Array.sort(o,function(e,f){var g=f.weight-e.weight;if(!g){g=e.$i-f.$i;if(e[l]){g=-g}}return g});for(n=0;n<m;++n){delete o[n].$i}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout,"Layout"],function(){var f=this;f.prototype.sizeModels=f.sizeModels=Ext.layout.SizeModel.sizeModels}));(Ext.cmd.derive("Ext.layout.container.Container",Ext.layout.Layout,{alternateClassName:"Ext.layout.ContainerLayout",type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,constructor:function(){Ext.layout.Layout.prototype.constructor.apply(this,arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.mixins.elementCt.destroy.call(this);Ext.layout.Layout.prototype.destroy.call(this)},beginLayout:function(f){Ext.layout.Layout.prototype.beginLayout.apply(this,arguments);f.targetContext=f.paddingContext=f.getEl("getTarget",this);this.cacheChildItems(f)},beginLayoutCycle:function(k,m){var l=this;Ext.layout.Layout.prototype.beginLayoutCycle.apply(this,arguments);if(m){if(l.usesContainerHeight){++k.consumersContainerHeight}if(l.usesContainerWidth){++k.consumersContainerWidth}}},cacheChildItems:function(o){var p=this,s,v,u,q,t;if(p.needsItemSize||p.setsItemSize){s=o.context;v=o.childItems=[];u=o.visibleItems=p.getVisibleItems();q=u.length;for(t=0;t<q;++t){v.push(s.getCmp(u[t]))}}},cacheElements:function(){var f=this.owner;this.attachChildEls(f.el,f)},calculate:function(k){var l=k.props,m=k.el;if(k.widthModel.shrinkWrap&&isNaN(l.width)){k.setContentWidth(m.getWidth())}if(k.heightModel.shrinkWrap&&isNaN(l.height)){k.setContentHeight(m.getHeight())}},configureItem:function(p){var q=this,o=q.itemCls,s=q.owner.itemCls,t,n;p.ownerLayout=q;if(o){if(typeof o==="string"){n=[o]}else{n=o;t=!!n}}if(s){if(t){n=Ext.Array.clone(n)}n=Ext.Array.push(n||[],s)}if(n){p.addCls(n)}},doRenderBody:function(k,g){this.renderItems(k,g);this.renderContent(k,g)},doRenderContainer:function(p,m){var o=m.$comp.layout,q=o.getRenderTpl(),n=o.getRenderData();q.applyOut(n,p)},doRenderItems:function(n,l){var m=l.$layout,o=m.getRenderTree();if(o){Ext.DomHelper.generateMarkup(o,n)}},doRenderTabGuard:function(p,n,q){var o=n.$comp,m;if(o.tabGuard&&!n.$skipTabGuards){m=o.lookupTpl("tabGuardTpl");if(m){n.tabGuard=q;n.tabGuardEl=o.tabGuardElements[q];o.addChildEl(n.tabGuardEl);m.applyOut(n,p);delete n.tabGuard;delete n.tabGuardEl}}},finishRender:function(){var m=this,o=m.owner,l,n;Ext.layout.Layout.prototype.finishRender.call(this);m.cacheElements();l=m.getRenderTarget();n=m.getLayoutItems();m.finishRenderItems(l,n)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(B,x){var A=B.targetContext,y=A.getFrameInfo(),u=B.paddingContext.getPaddingInfo(),v=0,t=0,z,w,C,D;if(!B.widthModel.shrinkWrap){++t;C=x?A.getDomProp("width"):A.getProp("width");z=(typeof C==="number");if(z){++v;C-=y.width+u.width;if(C<0){C=0}}}if(!B.heightModel.shrinkWrap){++t;D=x?A.getDomProp("height"):A.getProp("height");w=(typeof D==="number");if(w){++v;D-=y.height+u.height;if(D<0){D=0}}}return{width:C,height:D,needed:t,got:v,gotAll:v===t,gotWidth:z,gotHeight:w}},getPositionOffset:function(k){if(!this.createsInnerCt){var g=this.owner.itemNodeOffset;if(g){k+=g}}return k},getLayoutItems:function(){var k=this.owner,g=k&&k.items;return(g&&g.items)||[]},getRenderData:function(){var f=this.owner;return{$comp:f,$layout:this,ownerId:f.id}},getRenderedItems:function(){var q=this,x=q.getRenderTarget(),v=q.getLayoutItems(),s=v.length,p=[],u,w,t;for(u=0,w=0;u<s;u++,w++){t=v[u];if(t.rendered){if(t.ignoreDomPosition){--w}else{if(!this.isValidParent(t,x,w)){continue}}p.push(t)}}return p},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var k=this,g=Ext.XTemplate.getTpl(this,"renderTpl");if(!g.renderContent){k.owner.setupRenderTpl(g)}return g},getRenderTree:function(){var o,m=this.owner.items,l,n={};do{l=m.generation;o=this.getItemsRenderTree(this.getLayoutItems(),n)}while(m.generation!==l);return o},renderChildren:function(){var p=this,o=p.owner.items,m=p.getRenderTarget(),n,q;do{n=o.generation;q=p.getLayoutItems();p.renderItems(q,m)}while(o.generation!==n)},getScrollbarsNeeded:function(x,s,y,t){var z=Ext.getScrollbarSize(),v=typeof x==="number",q=typeof s==="number",u=0,w=0;if(!z.width){return 0}if(q&&s<t){w=2;x-=z.width}if(v&&x<y){u=1;if(!w&&q){s-=z.height;if(s<t){w=2}}}return w+u},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var o=this.getRenderTarget(),t=this.getLayoutItems(),p=t.length,u=[],s,v,q;for(s=0,v=0;s<p;s++,v++){q=t[s];if(q.rendered&&q.hidden!==true&&!q.floated){if(q.ignoreDomPosition){--v}else{if(!this.isValidParent(q,o,v)){continue}}u.push(q)}}return u},getMoveAfterIndex:function(f){return this.owner.items.indexOf(f)+1},moveItemBefore:function(p,o){var t=this.owner,s=t.items,q=s.indexOf(p),n;if(p===o){return p}if(o){n=s.indexOf(o);if(q>-1&&q<n){--n}}else{n=s.length}return t.insert(n,p)},setupRenderTpl:function(f){f.renderBody=this.doRenderBody;f.renderContainer=this.doRenderContainer;f.renderItems=this.doRenderItems;f.renderTabGuard=this.doRenderTabGuard},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(f){if(!f.liquidLayout){++this.activeItemCount}Ext.layout.Layout.prototype.onAdd.call(this,f)},onRemove:function(g,k){if(!g.liquidLayout){--this.activeItemCount}Ext.layout.Layout.prototype.onRemove.call(this,g,k)}},1,0,0,0,["layout.container"],[[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer]],[Ext.layout.container,"Container",Ext.layout,"ContainerLayout"],0));(Ext.cmd.derive("Ext.layout.container.Auto",Ext.layout.container.Container,{type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:false,managePadding:true,manageOverflow:false,needsItemSize:false,setsItemSize:false,lastOverflowAdjust:{width:0,height:0},outerCtCls:"x-autocontainer-outerCt",innerCtCls:"x-autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','<tpl if="!$comp.html">role="presentation"</tpl>','class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</div>"],beginLayout:function(f){Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);this.initContextItems(f)},beforeLayoutCycle:function(l){var n=this.owner,m=n.inheritedState,o=n.inheritedStateInner;if(!m||m.invalid){m=n.getInherited();o=n.inheritedStateInner}if(l.widthModel.shrinkWrap){o.inShrinkWrapTable=true}else{delete o.inShrinkWrapTable}},beginLayoutCycle:function(A){var v=this,C=v.outerCt,x=v.lastOuterCtWidth||"",y=v.lastOuterCtHeight||"",u=v.lastOuterCtTableLayout||"",D=A.state,F,z,E,B,w;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);z=E=B="";if(!A.widthModel.shrinkWrap){z="100%";w=v.owner.inheritedStateInner;F=v.getOverflowXStyle(A);B=(w.inShrinkWrapTable||F==="auto"||F==="scroll")?"":"fixed"}if(!A.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){E="100%"}if((z!==x)||v.hasOuterCtPxWidth){C.setStyle("width",z);v.lastOuterCtWidth=z;v.hasOuterCtPxWidth=false}if(B!==u){C.setStyle("table-layout",B);v.lastOuterCtTableLayout=B}if((E!==y)||v.hasOuterCtPxHeight){C.setStyle("height",E);v.lastOuterCtHeight=E;v.hasOuterCtPxHeight=false}if(v.hasInnerCtPxHeight){v.innerCt.setStyle("height","");v.hasInnerCtPxHeight=false}D.overflowAdjust=D.overflowAdjust||v.lastOverflowAdjust},calculate:function(o){var q=this,p=o.state,m=q.getContainerSize(o,true),n=p.calculatedItems||(p.calculatedItems=q.calculateItems?q.calculateItems(o,m):true);q.setCtSizeIfNeeded(o,m);if(n&&o.hasDomProp("containerChildrenSizeDone")){q.calculateContentSize(o);if(m.gotAll){if(q.manageOverflow&&!o.state.secondPass&&!q.reserveScrollbar){q.calculateOverflow(o,m)}return}}q.done=false},calculateContentSize:function(o){var p=this,u=((o.widthModel.shrinkWrap?1:0)|(o.heightModel.shrinkWrap?2:0)),s=(u&1)||undefined,v=(u&2)||undefined,q=0,t=o.props;if(s){if(isNaN(t.contentWidth)){++q}else{s=undefined}}if(v){if(isNaN(t.contentHeight)){++q}else{v=undefined}}if(q){if(s&&!o.setContentWidth(p.measureContentWidth(o))){p.done=false}if(v&&!o.setContentHeight(p.measureContentHeight(o))){p.done=false}}},calculateOverflow:function(x){var t=this,y,q,z,u,v,w,s;v=(t.getOverflowXStyle(x)==="auto");w=(t.getOverflowYStyle(x)==="auto");if(v||w){z=Ext.getScrollbarSize();s=x.overflowContext.el.dom;u=0;if(s.scrollWidth>s.clientWidth){u|=1}if(s.scrollHeight>s.clientHeight){u|=2}y=(w&&(u&2))?z.width:0;q=(v&&(u&1))?z.height:0;if(y!==t.lastOverflowAdjust.width||q!==t.lastOverflowAdjust.height){t.done=false;x.invalidate({state:{overflowAdjust:{width:y,height:q},overflowState:u,secondPass:true}})}}},completeLayout:function(f){this.lastOverflowAdjust=f.state.overflowAdjust},doRenderBody:function(q,o){var p=o.$layout,t=Ext.XTemplate,n=p.beforeBodyTpl,s=p.afterBodyTpl;if(n){t.getTpl(p,"beforeBodyTpl").applyOut(o,q)}this.renderItems(q,o);this.renderContent(q,o);if(s){t.getTpl(p,"afterBodyTpl").applyOut(o,q)}},doRenderPadding:function(p,n){var o=n.$layout,q=n.$layout.owner,m=q[q.contentPaddingProperty];if(o.managePadding&&m){p.push("padding:",q.unitizeBox(m))}},finishedLayout:function(g){var k=this.innerCt;Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments);if(Ext.isIE8){k.repaint()}if(Ext.isOpera){k.setStyle("position","relative");k.dom.scrollWidth;k.setStyle("position","")}},getContainerSize:function(n,m){var o=Ext.layout.container.Container.prototype.getContainerSize.apply(this,arguments),l=n.state.overflowAdjust;if(l){o.width-=l.width;o.height-=l.height}return o},getRenderData:function(){var k=this,g=Ext.layout.container.Container.prototype.getRenderData.call(this);g.innerCtCls=k.innerCtCls;g.outerCtCls=k.outerCtCls;return g},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(f){return f.overflowXStyle||(f.overflowXStyle=this.owner.scrollFlags.overflowX||f.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(f){return f.overflowYStyle||(f.overflowYStyle=this.owner.scrollFlags.overflowY||f.overflowContext.getStyle("overflow-y"))},initContextItems:function(n){var o=this,l=n.target,m=o.owner.getOverflowEl();n.outerCtContext=n.getEl("outerCt",o);n.innerCtContext=n.getEl("innerCt",o);n.overflowContext=(m===n.el)?n:n.getEl(m);if(l[l.contentPaddingProperty]!==undefined){n.paddingContext=n.innerCtContext}},initLayout:function(){var k=this,l=Ext.getScrollbarSize().width,m=k.owner;Ext.layout.container.Container.prototype.initLayout.call(this);if(l&&k.manageOverflow&&!k.hasOwnProperty("lastOverflowAdjust")){if(m.scrollable||k.reserveScrollbar){k.lastOverflowAdjust={width:l,height:0}}}},measureContentHeight:function(l){var m=this.outerCt.getHeight(),k=l.target;if(this.managePadding&&(k[k.contentPaddingProperty]===undefined)){m+=l.targetContext.getPaddingInfo().height}return m},measureContentWidth:function(p){var n,q,s,t,o;if(this.chromeCellMeasureBug){n=this.innerCt.dom;q=n.style;s=q.display;if(s==="table-cell"){q.display="";n.offsetWidth;q.display=s}}if(Ext.isSafari){n=this.outerCt.dom;q=n.style;q.display="table-cell";n.offsetWidth;n.style.display=""}t=this.outerCt.getWidth();o=p.target;if(this.managePadding&&(o[o.contentPaddingProperty]===undefined)){t+=p.targetContext.getPaddingInfo().width}return t},setCtSizeIfNeeded:function(z,B){var y=this,D=B.height,w=z.paddingContext.getPaddingInfo(),u=y.getTarget(),t=y.getOverflowXStyle(z),A=(t==="auto"||t==="scroll"),C=Ext.getScrollbarSize(),x,v;if(D&&!z.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){x=true}if(Ext.isIE8){v=true}if((x||v)&&A&&(u.dom.scrollWidth>u.dom.clientWidth)){D=Math.max(D-C.height,0)}if(x){z.outerCtContext.setProp("height",D+w.height);y.hasOuterCtPxHeight=true}if(v){z.innerCtContext.setProp("height",D);y.hasInnerCtPxHeight=true}}},setupRenderTpl:function(f){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);f.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},0,0,0,0,["layout.auto","layout.autocontainer"],0,[Ext.layout.container,"Auto"],function(g){var k=Ext.chromeVersion;g.prototype.chromeCellMeasureBug=Ext.isChrome&&k>=26&&k<=34}));(Ext.cmd.derive("Ext.util.CollectionKey",Ext.Base,{isCollectionKey:true,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:true},generation:0,map:null,mapRebuilds:0,constructor:function(f){this.initConfig(f)},get:function(k){var g=this.map||this.getMap();return g[k]||null},clear:function(){this.map=null},getRootProperty:function(){var g=this,k=(arguments.callee.$previous||Ext.Base.prototype.getRootProperty).call(this);return k!==null?k:g.getCollection().getRootProperty()},indexOf:function(n,w){var A=this.map||this.getMap(),B=A[n],v=this.getCollection(),z=v.length,x,u,t,y;if(!B){return -1}if(w===undefined){w=-1}if(B instanceof Array){t=B;u=z;for(y=t.length;y-->0;){x=v.indexOf(t[y]);if(x<u&&x>w){u=x}}if(u===z){return -1}}else{u=v.indexOf(B)}return(u>w)?u:-1},updateKey:function(q,o){var s=this,p=s.map,n,t;if(p){n=p[o];if(n instanceof Array){t=Ext.Array.indexOf(n,q);if(t>=0){if(n.length>2){n.splice(t,1)}else{p[o]=n[1-t]}}}else{if(n){delete p[o]}}s.add([q])}},onCollectionAdd:function(g,k){if(this.map){this.add(k.items)}},onCollectionItemChange:function(g,k){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(v,w){var t=this,z=t.map,u=w.items,y=u.length,x,q,s;if(z){if(t.getUnique()&&y<v.length/2){for(x=0;x<y;++x){s=t.getKey(q=u[x]);delete z[s]}}else{t.map=null}}},add:function(u){var t=this,z=t.map,y,v,q,s,x,w;x=u.length;w=t.getUnique();for(v=0;v<x;++v){s=t.getKey(q=u[v]);if(w||!(s in z)){z[s]=q}else{if(!((y=z[s]) instanceof Array)){z[s]=y=[y]}y.push(q)}}},applyKeyFn:function(f){if(Ext.isString(f)){this.getKey=function(e){return e[f]()}}else{this.getKey=f}},updateProperty:function(g){var k=this.getRootProperty();this.getKey=function(e){return(k?e[k]:e)[g]}},getMap:function(){var k=this,g=k.map;if(!g){k.map=g={};k.keysByItemKey={};++k.mapRebuilds;k.add(k.getCollection().items)}return g},updateCollection:function(f){f.addObserver(this)},clone:function(){return new Ext.util.CollectionKey(this.getCurrentConfig())}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.util,"CollectionKey"],0));(Ext.cmd.derive("Ext.util.Grouper",Ext.util.Sorter,{isGrouper:true,config:{groupFn:null,sortProperty:null},constructor:function(f){Ext.util.Sorter.prototype.constructor.apply(this,arguments)},getGroupString:function(k){var g=this._groupFn(k);return(g!=null)?String(g):""},sortFn:function(w,x){var u=this,y=u._groupFn(w),v=u._groupFn(x),q=u._sortProperty,s=u._root,t=u._sorterFn,z=u._transform;if(y===v){return 0}if(q||t){if(t){return t.call(this,w,x)}if(s){w=w[s];x=x[s]}y=w[q];v=x[q];if(z){y=z(y);v=z(v)}}return(y>v)?1:(y<v?-1:0)},standardGroupFn:function(g){var k=this._root;return(k?g[k]:g)[this._property]},updateSorterFn:function(){},updateProperty:function(){if(!this.getGroupFn()){this.setGroupFn(this.standardGroupFn)}}},1,0,0,0,0,0,[Ext.util,"Grouper"],0));(Ext.cmd.derive("Ext.util.Collection",Ext.Base,{isCollection:true,config:{autoFilter:true,autoSort:true,autoGroup:true,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null,trackGroups:true},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:false,sorted:false,filtered:false,$endUpdatePriority:1001,manageSorters:true,constructor:function(k){var g=this;g.items=[];g.map={};g.length=0;if(k&&k.keyFn){g.getKey=k.keyFn}g.mixins.observable.constructor.call(g,k)},destroy:function(){var m=this,n=m._filters,l=m._sorters,o=m._groups;if(n){n.destroy();m._filters=null}if(l){m.grouped=m.sorted=false;m.setSorters(null);if(m.manageSorters){l.destroy()}}if(o){o.destroy();m._groups=null}m.setSource(null);m.observers=m.items=m.map=null;m.callParent()},add:function(l){var m=this,o=m.decodeItems(arguments,0),n=o;if(o.length){m.splice(m.length,0,o);n=(o.length===1)?o[0]:o}return n},replaceAll:function(){var k=this,l,m;m=k.decodeItems(arguments,0);l=m;if(m.length){k.splice(0,k.length,m);l=(m.length===1)?m[0]:m}else{k.removeAll()}return l},aggregate:function(v,t,p,u,q){var o=this,s=Ext.Array.slice(arguments);s.unshift(o.items);return o.aggregateItems.apply(o,s)},aggregateByGroup:function(l,n,m){var o=this.getGroups();return this.aggregateGroups(o,l,n,m)},aggregateItems:function(z,J,E,H,D,I){var y=this,A=Ext.Number.clipIndices(z.length,[H,D]),G=(H!==0&&D!==z.length),B,C,F,N,L,K,M;H=A[0];D=A[1];if(!Ext.isFunction(E)){E=y._aggregators[E];return E.call(y,z,H,D,J,y.getRootProperty())}N=y.getRootProperty();K=new Array(F);M=G?new Array(F):z;for(B=H,C=0;B<D;++B,C++){if(G){M[C]=L=z[B]}K[C]=(N?L[N]:L)[J]}return E.call(I||y,z,K,0)},aggregateGroups:function(C,u,A,t){var w=C.items,x=w.length,B=!Ext.isFunction(A),z={},y,v,D;for(y=0;y<x;++y){v=w[y];if(!B){D=this.aggregateItems(v.items,u,A,null,null,t)}else{D=v[A](u)}z[v.getGroupKey()]=D}return z},beginUpdate:function(){if(!this.updating++){this.notify("beginupdate")}},clear:function(){var o=this,n=o.generation,q=n?o.items:[],p,m;if(n){o.items=[];o.length=0;o.map={};o.indices={};o.generation++;p=o.getExtraKeys();if(p){for(m in p){p[m].clear()}}}return q},clone:function(){var k=this,g=new k.self(k.initialConfig);g.add(k.items);return g},collect:function(s,w,u){var x=this.items,A=x.length,B={},y=[],z,v,t;for(z=0;z<A;++z){t=x[z];t=(w?t[w]:t)[s];v=String(t);if((u||!Ext.isEmpty(t))&&!B[v]){B[v]=1;y.push(t)}}return y},contains:function(k){var m=false,l;if(k!=null){l=this.getKey(k);m=this.map[l]===k}return m},containsKey:function(f){return f in this.map},createFiltered:function(H,I,B,x,C){var y=this,A=new y.self(y.initialConfig),J=y.getRootProperty(),z=y.items,E,D,F,w,G;if(Ext.isFunction(H)){w=H;G=I}else{if(Ext.isString(H)){F=[new Ext.util.Filter({property:H,value:I,root:J,anyMatch:B,caseSensitive:x,exactMatch:C})]}else{if(H instanceof Ext.util.Filter){F=[H];H.setRoot(J)}else{if(Ext.isArray(H)){F=H.slice(0);for(D=0,E=F.length;D<E;++D){F[D].setRoot(J)}}}}w=Ext.util.Filter.createFilterFn(F)}G=G||y;for(D=0,E=z.length;D<E;D++){if(w.call(G,z[D])){A.add(z[D])}}return A},filterBy:function(g,k){return this.createFiltered(g,k)},each:function(n,o){var s=this.items,t=s.length,p,q;if(t){o=o||this;s=s.slice(0);for(p=0;p<t;p++){q=n.call(o,s[p],p,t);if(q===false){break}}}return q},eachKey:function(u,q){var v=this,w=v.items,y=w.length,z,s,t,x;if(y){q=q||v;w=w.slice(0);for(z=0;z<y;z++){t=v.getKey(s=w[z]);x=u.call(q,t,s,z,y);if(x===false){break}}}return x},endUpdate:function(){if(!--this.updating){this.notify("endupdate")}},find:function(x,p,w,s,t,u){if(Ext.isEmpty(p,false)){return null}var q=Ext.String.createRegex(p,s,t,u),v=this.getRootProperty();return this.findBy(function(e){return e&&q.test((v?e[v]:e)[x])},null,w)},findBy:function(u,q,z){var v=this,w=v.items,x=w.length,y,s,t;q=q||v;for(y=z||0;y<x;y++){t=v.getKey(s=w[y]);if(u.call(q,s,t)){return w[y]}}return null},findIndex:function(o,p,v,s,t,u){var q=this.find(o,p,v,s,t,u);return q?this.indexOf(q):-1},findIndexBy:function(n,o,l){var m=this.findBy(n,o,l);return m?this.indexOf(m):-1},first:function(g){var k=g?this.getGroups():undefined;return k?this.aggregateGroups(k,null,"first"):this.items[0]},last:function(g){var k=g?this.getGroups():undefined;return k?this.aggregateGroups(k,null,"last"):this.items[this.length-1]},get:function(f){return this.map[f]},getAt:function(f){return this.items[f]},getByKey:function(f){return this.map[f]},getCount:function(){return this.length},getKey:function(k){var g=k.id;return(g===0||g)?g:((g=k._id)===0||g)?g:k.getId()},getRange:function(n,q){var o=this.items,m=o.length,p;if(!m){p=[]}else{p=Ext.Number.clipIndices(m,[n,q]);p=o.slice(p[0],p[1])}return p},getValues:function(q,t,z,y){var u=this.items,w=Ext.Number.clipIndices(u.length,[z,y]),v=[],x,s;for(x=w[0],y=w[1];x<y;++x){s=u[x];s=(t?s[t]:s)[q];v.push(s)}return v},indexOf:function(g){if(!g){return -1}var k=this.getKey(g);return this.indexOfKey(k)},indexOfKey:function(m){var l=this,k=l.indices;if(m in l.map){if(!k){k=l.getIndices()}return k[m]}return -1},insert:function(o,m){var n=this,q=n.decodeItems(arguments,1),p=q;if(q.length){n.splice(o,0,q);p=(q.length===1)?q[0]:q}return p},itemChanged:function(O,S,K,J){var N=this,X=K===0||!!K,R=N.filtered&&N.getAutoFilter(),V=false,W=0,H=N.items,M=N.length-1,Z=N.sorted&&M>0&&N.getAutoSort(),F=N.getSource(),G=0,P=false,I=false,Q,E,U,L,T,Y;if(F&&!F.updating){F.itemChanged(O,S,K,J)}else{E=N.getKey(O);if(R){T=N.indexOfKey(X?K:E);I=(T<0);P=N.isItemFiltered(O);V=(I!==P)}if(V){if(P){G=[O];Y=-1}else{L=[O];Y=N.length}}else{if(Z&&!P){if(!R){T=N.indexOfKey(X?K:E)}U=N.getSortFn();if(T!==-1){if(T&&U(H[T-1],H[T])>0){W=-1;Y=Ext.Array.binarySearch(H,O,0,T,U)}else{if(T<M&&U(H[T],H[T+1])>0){W=1;Y=Ext.Array.binarySearch(H,O,T+1,U)}}if(W){L=[O]}}}}Q={item:O,key:E,index:Y,filterChanged:V,keyChanged:X,indexChanged:!!W,filtered:P,oldIndex:T,newIndex:Y,wasFiltered:I,meta:J};if(X){Q.oldKey=K}if(S){Q.modified=S}N.beginUpdate();N.notify("beforeitemchange",[Q]);if(X){N.updateKey(O,K)}if(L||G){N.splice(Y,G,L)}if(W>0){Q.newIndex--}else{if(W<0){Q.oldIndex++}}N.notify(P?"filtereditemchange":"itemchange",[Q]);N.endUpdate()}},remove:function(l){var m=this,o=m.decodeRemoveItems(arguments,0),n=m.length;m.splice(0,o);return n-m.length},removeAll:function(){var g=this,k=g.length;if(g.generation&&k){g.splice(0,k)}return g},removeAt:function(t,u){var n=this,z=n.length,w=Ext.Number,x=w.clipIndices(z,[t,(u===undefined)?1:u],w.Clip.COUNT),y=x[0],A=x[1]-y,B=(A===1)&&n.getAt(y),v;n.splice(y,A);v=n.length-z;return(B&&v)?B:v},removeByKey:function(k){var g=this.getByKey(k);if(!g||!this.remove(g)){return false}return g},replace:function(g){var k=this.indexOf(g);if(k===-1){this.add(g)}else{this.insert(k,g)}},splice:function(af,aw,ah){var ax=this,aD=ax.sorted&&ax.getAutoSort(),aj=ax.map,ar=ax.items,au=ax.length,an=(aw instanceof Array)?ax.decodeRemoveItems(aw):null,am=!an,ae=Ext.Number,aC=ae.clipIndices(au,[af,am?aw:0],ae.Clip.COUNT),aA=aC[0],ay=aC[1],Y=ay-aA,ap=ax.decodeItems(arguments,2),Z=ap?ap.length:0,ag,al,ao,aE=aA,aF=ax.indices||((Z||an)?ax.getIndices():null),at=null,az=Y?[aA]:null,aB=null,aq=ax.getSource(),aG,ac,ab,W,ai,ad,X,av,ak,aa,k,n;if(aq&&!aq.updating){if(am){an=[];for(W=0;W<Y;++W){an.push(ar[aA+W])}}if(aA<au){W=aq.indexOf(ar[aA])}else{W=aq.length}ax.requestedIndex=af;aq.splice(W,an,ap);delete ax.requestedIndex;return ax}if(Z){ag=ap;aB=[];al={};if(aD){n=ax.getSorters();if(Z>1){if(!ag.$cloned){ap=ag=ag.slice(0)}ax.sortData(ag)}}for(W=0;W<Z;++W){av=ax.getKey(ai=ap[W]);if((X=al[av])!==undefined){(k||(k={}))[X]=1}else{ad=aF[av];if(ad<aA||ay<=ad){(az||(az=[])).push(ad)}}al[av]=W;aB.push(av)}if(k){ak=aB;ag=[];aB=[];ag.$cloned=true;for(W=0;W<Z;++W){if(!k[W]){ai=ap[W];ag.push(ai);aB.push(ak[W])}}Z=ag.length}at={items:ag,keys:aB}}for(W=an?an.length:0;W-->0;){av=ax.getKey(an[W]);if((ad=aF[av])!==undefined){(az||(az=[])).push(ad)}}if(!at&&!az){return ax}ax.beginUpdate();if(az){aG=null;ab=[];ao={};if(az.length>1){az.sort(Ext.Array.numericSortFn)}for(W=0,aa=az.length;W<aa;++W){av=ax.getKey(ai=ar[ad=az[W]]);if(!(av in aj)){continue}delete aj[av];if(!aG||ad>(aG.at+ac.length)){ab.push(aG={at:ad,items:(ac=[]),keys:(ak=[]),map:ao,next:aG,replacement:at});if(at){at.replaced=aG}}ac.push(ao[av]=ai);ak.push(av);if(ad<aE-1){--aE}if(Y>1&&ad===aA){--Y;az[W--]=++aA}}if(at){at.at=aE}for(X=ab.length;X-->0;){aG=ab[X];W=aG.at;aa=aG.items.length;if(W+aa<au){ax.indices=aF=null}ax.length=au-=aa;ar.splice(W,aa);if(aF){ak=aG.keys;for(W=0;W<aa;++W){delete aF[ak[W]]}}++ax.generation;ax.notify("remove",[aG])}}if(at){if(aD&&Z>1&&au){ax.spliceMerge(ag,aB)}else{if(aD){if(Z>1){aE=0;ax.indices=aF=null}else{aE=n.findInsertionIndex(at.items[0],ar,ax.getSortFn(),af)}}if(aE===au){ay=aE;for(W=ag.length-1;W>=0;--W){ar[ay+W]=ag[W]}aF=ax.indices;if(aF){for(W=0;W<Z;++W){aF[aB[W]]=aE+W}}}else{ax.indices=null;Ext.Array.insert(ar,aE,ag)}for(W=0;W<Z;++W){aj[aB[W]]=ag[W]}ax.length+=Z;at.at=aE;at.atItem=aE===0?null:ar[aE-1];++ax.generation;ax.notify("add",[at])}}ax.endUpdate();return ax},update:function(n,o){var m=this;m.beginUpdate();try{return n.call(o||m,m)}catch(e){throw e}finally{m.endUpdate()}},updateKey:function(t,p){var u=this,q=u.map,v=u.indices,s=u.getSource(),o;if(s&&!s.updating){s.updateKey(t,p)}else{if((o=u.getKey(t))!==p){if(q[p]===t&&!(o in q)){delete q[p];u.updating++;u.generation++;q[o]=t;if(v){v[o]=v[p];delete v[p]}u.notify("updatekey",[{item:t,newKey:o,oldKey:p}]);u.updating--}}}},findInsertIndex:function(p){var o=this.getSource(),n=o.items,s=o.indexOf(p)-1,q,t;while(s>-1){q=n[s];t=this.indexOf(q);if(t>-1){return t+1}--s}return 0},onCollectionAdd:function(C,B){var F=this,D=B.atItem,n=B.items,x=F.requestedIndex,v,w,A,y,E,z;if(!F.sorted){if(x!==undefined){w=x}else{if(D){w=F.indexOf(D);if(w===-1){w=F.findInsertIndex(n[0])}else{++w}}else{w=0}}}if(F.getAutoFilter()&&F.filtered){for(y=0,z=n.length;y<z;++y){E=n[y];if(F.isItemFiltered(E)){if(!A){A=n.slice(0,y)}if(!v){v=[]}v.push(E)}else{if(A){A.push(E)}}}}F.splice((w<0)?F.length:w,0,A||n);if(v){F.notify("filteradd",[v])}},onCollectionBeforeItemChange:function(g,k){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(g,k){delete this.onCollectionUpdateKey;this.itemChanged(k.item,k.modified,k.oldKey,k.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(z){var u=this,y={},s={},w,q,v,t,x;v=z.items;v=u.filtered&&u.getAutoFilter()?Ext.Array.filter(v,u.getFilterFn()):v.slice(0);if(u.sorted){u.sortData(v)}u.items=v;u.length=x=v.length;u.map=y;u.indices=s;for(w=0;w<x;++w){t=u.getKey(q=v[w]);y[t]=q;s[t]=w}u.notify("refresh")},onCollectionRemove:function(g,k){this.splice(0,k.items)},onCollectionUpdateKey:function(g,k){this.updateKey(k.item,k.oldKey)},_aggregators:{average:function(q,p,s,o,t){var n=s-p;return n&&this._aggregators.sum.call(this,q,p,s,o,t)/n},bounds:function(v,z,y,q,u){for(var s,t,x,w=z;w<y;++w){s=v[w];s=(u?s[u]:s)[q];if(!(s<t)){t=s}if(!(s>x)){x=s}}return[x,t]},count:function(f){return f.length},extremes:function(y,D,B,F,v){var x=null,C=null,z,E,w,A,u;for(z=D;z<B;++z){E=y[z];u=(v?E[v]:E)[F];if(!(u<w)){w=u;x=E}if(!(u>A)){A=u;C=E}}return[C,x]},max:function(p,o,q,n,s){var t=this._aggregators.bounds.call(this,p,o,q,n,s);return t[1]},maxItem:function(p,o,q,n,s){var t=this._aggregators.extremes.call(this,p,o,q,n,s);return t[1]},min:function(p,o,q,n,s){var t=this._aggregators.bounds.call(this,p,o,q,n,s);return t[0]},minItem:function(p,o,q,n,s){var t=this._aggregators.extremes.call(this,p,o,q,n,s);return t[0]},sum:function(t,p,u,w,v){for(var x,q=0,s=p;s<u;++s){x=t[s];x=(v?x[v]:x)[w];q+=x}return q}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(m){var l=this,k=l.observers;if(!k){l.observers=k=[]}if(l.notifying){l.observers=k=k.slice(0)}k.push(m);if(k.length>1){Ext.Array.sort(k,l.prioritySortFn)}},prioritySortFn:function(l,m){var n=l.observerPriority||0,o=m.observerPriority||0;return n-o},applyExtraKeys:function(p,u){var o=this,q=u||{},s,t,v;for(t in p){v=p[t];if(!v.isCollectionKey){s={collection:o};if(Ext.isString(v)){s.property=v}else{s=Ext.apply(s,v)}v=new Ext.util.CollectionKey(s)}else{v.setCollection(o)}q[t]=o[t]=v;v.name=t}return q},applyGrouper:function(f){if(f){f=this.getSorters().decodeSorter(f,"Ext.util.Grouper")}return f},decodeItems:function(q,s){var o=this,t=(s===undefined)?q:q[s],u,v,p;if(!t||!t.$cloned){u=q.length>s+1||!Ext.isIterable(t);if(u){t=Ext.Array.slice(q,s);if(t.length===1&&t[0]===undefined){t.length=0}}v=o.getDecoder();if(v){if(!u){t=t.slice(0);u=true}for(p=t.length;p-->0;){if((t[p]=v.call(o,t[p]))===false){t.splice(p,1)}}}if(u){t.$cloned=true}}return t},getIndices:function(){var p=this,o=p.indices,t=p.items,n=t.length,q,s;if(!o){p.indices=o={};++p.indexRebuilds;for(q=0;q<n;++q){s=p.getKey(t[q]);o[s]=q}}return o},notify:function(y,v){var u=this,z=u.observers,s=u._eventToMethodMap[y],t=0,x,A,B,w;v=v||[];if(z&&s){u.notifying=true;for(x=0,A=z.length;x<A;++x){B=(w=z[x])[s];if(B){if(!t++){v.unshift(u)}B.apply(w,v)}}u.notifying=false}if(!u.hasListeners){return}if(u.hasListeners[y]){if(!t){v.unshift(u)}u.fireEventArgs(y,v)}},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(g){var k=this._filters;if(!k&&g!==false){k=new Ext.util.FilterCollection();this.setFilters(k)}return k},isItemFiltered:function(f){return !this.getFilters().filterFn(f)},onFilterChange:function(o){var p=this,n=p.getSource(),q,s,t;if(!n){q=p.getExtraKeys();if(q){s={};for(t in q){s[t]=q[t].clone(p)}}n=new Ext.util.Collection({keyFn:p.getKey,extraKeys:s,rootProperty:p.getRootProperty()});if(p.length){n.add(p.items)}p.setSource(n);p.autoSource=n}else{if(n.length||p.length){p.onCollectionRefresh(n)}}p.notify("filter")},applyFilters:function(k,g){if(!k||k.isFilterCollection){return k}if(k){if(!g){g=this.getFilters()}g.splice(0,g.length,k)}return g},updateFilters:function(m,l){var k=this;if(l){l.un("endupdate","onEndUpdateFilters",k)}if(m){m.on({endupdate:"onEndUpdateFilters",scope:k,priority:k.$endUpdatePriority});m.$filterable=k}k.onEndUpdateFilters(m)},onEndUpdateFilters:function(m){var n=this,l=n.filtered,o=!!m&&(m.length>0);if(l||o){n.filtered=o;n.onFilterChange(m)}},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(g){var k=this._sorters;if(!k&&g!==false){k=new Ext.util.SorterCollection();this.setSorters(k)}return k},onSortChange:function(){if(this.sorted){this.sortItems()}},sort:function(o,m,l){var n=this.getSorters();n.addSort.apply(n,arguments);return this},sortData:function(f){Ext.Array.sort(f,this.getSortFn());return f},sortItems:function(g){var k=this;if(k.sorted){g=k.getSortFn()}k.indices=null;k.notify("beforesort",[k.getSorters(false)]);if(k.length){Ext.Array.sort(k.items,g)}k.notify("sort")},sortBy:function(f){return this.sortItems(f)},findInsertionIndex:function(o,t,p,q){var v,s,u;t=t||this.items;p=p||this.getSortFn();u=t.length;if(q<u){v=q>0?p(t[q-1],o):0;s=q<u-1?p(o,t[q]):0;if(v<1&&s<1){return q}}return Ext.Array.binarySearch(t,o,p)},applySorters:function(k,g){if(!k||k.isSorterCollection){return k}if(k){if(!g){g=this.getSorters()}g.splice(0,g.length,k)}return g},createSortFn:function(){var m=this,o=m.getGrouper(),l=m.getSorters(false),n=l?l.getSortFn():null;if(!o){return n}return function(f,g){var e=o.sort(f,g);if(!e&&n){e=n(f,g)}return e}},updateGrouper:function(p){var o=this,q=o.getGroups(),m=o.getSorters(),n;o.onSorterChange();o.grouped=!!p;if(p){if(o.getTrackGroups()){if(!q){q=new Ext.util.GroupCollection({itemRoot:o.getRootProperty()});q.$groupable=o;o.setGroups(q)}q.setGrouper(p);n=true}}else{if(q){o.removeObserver(q);q.destroy()}o.setGroups(null)}if(!m.updating){o.onEndUpdateSorters(m)}if(n){q.onCollectionRefresh(o)}},updateSorters:function(m,l){var k=this;if(l&&!l.destroyed){l.un("endupdate","onEndUpdateSorters",k)}if(m){m.on({endupdate:"onEndUpdateSorters",scope:k,priority:k.$endUpdatePriority});m.$sortable=k}k.onSorterChange();k.onEndUpdateSorters(m)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(m){var n=this,l=n.sorted,o=(n.grouped&&n.getAutoGroup())||(m&&m.length>0);if(l||o){n.sorted=!!o;n.onSortChange(m)}},removeObserver:function(k){var g=this.observers;if(g){Ext.Array.remove(g,k)}},spliceMerge:function(J,B){var C=this,D=C.map,M=J.length,P=0,I=C.items,A=I.length,K=[],L=0,G=[],O=C.getSortFn(),H,Q,F,N,E,R;C.items=G;for(R=0;R<M;R=Q){N=J[R];for(;P<A;++P){if(O(N,E=I[P])<0){break}G.push(E)}if(P===A){K[L++]={at:G.length,itemAt:G[G.length-1],items:(H=[])};if(L>1){K[L-2].next=K[L-1]}for(;R<M;++R){H.push(N=J[R]);G.push(N)}break}K[L++]={at:G.length,itemAt:G[G.length-1],items:(H=[N])};if(L>1){K[L-2].next=K[L-1]}G.push(N);for(Q=R+1;Q<M;++Q){if(O(N=J[Q],E)>=0){break}G.push(N);H.push(N)}}for(;P<A;++P){G.push(I[P])}for(F=0;F<M;++F){D[B[F]]=J[F]}C.length=G.length;++C.generation;C.indices=null;for(F=0;F<L;++F){C.notify("add",[K[F]])}},getGroups:function(){return(arguments.callee.$previous||Ext.Base.prototype.getGroups).call(this)||null},updateAutoGroup:function(g){var k=this.getGroups();if(k){k.setAutoGroup(g)}this.onEndUpdateSorters(this._sorters)},updateGroups:function(k,g){if(g){this.removeObserver(g)}if(k){this.addObserver(k)}},updateSource:function(l,m){var k=this.autoSource;if(m){if(!m.destroyed){m.removeObserver(this)}if(m===k){k.destroy();this.autoSource=null}}if(l){l.addObserver(this);if(l.length||this.length){this.onCollectionRefresh(l)}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"Collection"],function(){var f=this.prototype;f.removeAtKey=f.removeByKey;f.decodeRemoveItems=f.decodeItems;Ext.Object.each(f._aggregators,function(e){f[e]=function(m,n,o){return this.aggregate(m,e,n,o)};f[e+"ByGroup"]=function(k){return this.aggregateByGroup(k,e)}})}));(Ext.cmd.derive("Ext.util.SorterCollection",Ext.util.Collection,{isSorterCollection:true,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(k){var g=this;g.sortFn=Ext.util.Sorter.createComparator(g);Ext.util.Collection.prototype.constructor.call(this,k);g.setDecoder(g.decodeSorter)},addSort:function(u,v,A){var w=this,z,y,B,D,C,t,x;if(!u){w.beginUpdate();w.endUpdate()}else{D=w.getOptions();if(u instanceof Array){x=u;A=v;v=null}else{if(Ext.isString(u)){if(!(t=w.get(u))){x=[{property:u,direction:v||D.getDefaultSortDirection()}]}else{x=[t]}}else{if(Ext.isFunction(u)){x=[{sorterFn:u,direction:v||D.getDefaultSortDirection()}]}else{x=[u];A=v;v=null}}}A=w._sortModes[A||"replace"];C=w.getAt(0);z=w.length;y=A.append?z:0;w.beginUpdate();w.splice(y,A.replace?z:0,x);if(A.multi){z=w.length;B=D.getMultiSortLimit();if(z>B){w.removeAt(B,z)}}if(t&&v){t.setDirection(v)}else{if(y===0&&C&&C===w.getAt(0)){C.toggle()}}w.endUpdate()}},clear:function(){this.beginUpdate();Ext.util.Collection.prototype.clear.call(this);this.endUpdate(this.items)},getSortFn:function(){return this.sortFn},getByProperty:function(m){var p=this.items,q=p.length,o,n;for(o=0;o<q;++o){n=p[o];if(n.getProperty()===m){return n}}return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(s,z){var u=this,q=u.getOptions(),t=q.getRootProperty(),y=u.getSorterOptionsFn(),x,v,w;if(s.isSorter){if(!s.getRoot()){s.setRoot(t)}}else{v={direction:q.getDefaultSortDirection(),root:t};w=typeof s;if(w==="string"){x=u.get(s);if(x){return x}v.property=s}else{if(w==="function"){v.sorterFn=s}else{v=Ext.apply(v,s);if(v.fn){v.sorterFn=v.fn;delete v.fn}}}s=Ext.create(z||"Ext.util.Sorter",v)}if(y){y.call(u.getSorterOptionsScope()||u,s)}return s},setSorterConfigure:function(g,k){this.setSorterOptionsFn(g);this.setSorterOptionsScope(k)},decodeRemoveItems:function(w,z){var n=this,y=(z===undefined)?w:w[z];if(!y||!y.$cloned){if(w.length>z+1||!Ext.isIterable(y)){y=Ext.Array.slice(w,z)}var F=n.items,x=y.length,A=[],B,E,C,D,v;for(B=0;B<x;B++){D=y[B];if(D&&D.isSorter){A.push(D)}else{v=typeof D;if(v==="string"){D=n.get(D);if(D){A.push(D)}}else{if(v==="function"){for(C=F.length;C-->0;){E=F[C];if(E.getSorterFn()===D){A.push(E)}}}}}}y=A;y.$cloned=true}return y},getOptions:function(){return this.$sortable||this}},1,0,0,0,0,0,[Ext.util,"SorterCollection"],0));(Ext.cmd.derive("Ext.util.FilterCollection",Ext.util.Collection,{isFilterCollection:true,$filterable:null,filterFn:null,constructor:function(k){var g=this;g.filterFn=Ext.util.Filter.createFilterFn(g);Ext.util.Collection.prototype.constructor.call(this,k);g.setDecoder(g.decodeFilter)},filterData:function(f){return this.filtered?Ext.Array.filter(f,this.filterFn):f},getFilterFn:function(){return this.filterFn},isItemFiltered:function(f){return !this.filterFn(f)},decodeFilter:function(m){var n=this.getOptions(),o=n.getRootProperty(),l;if(m.isFilter){if(!m.getRoot()){m.setRoot(o)}}else{l={root:o};if(Ext.isFunction(m)){l.filterFn=m}else{l=Ext.apply(l,m);if(l.fn){l.filterFn=l.fn;delete l.fn}if(Ext.util.Filter.isInvalid(l)){return false}}m=new Ext.util.Filter(l)}return m},decodeRemoveItems:function(K,n){var I=this,N=(n===undefined)?K:K[n];if(!N.$cloned){if(K.length>n+1||!Ext.isIterable(N)){N=Ext.Array.slice(K,n)}var C=I.items,L=N.length,A=[],F,B,E,M,G,H,z,D,J;for(B=0;B<L;B++){F=N[B];if(F&&F.isFilter){A.push(F)}else{J=typeof F;E=J==="function";M=F.property!==undefined&&F.value!==undefined;G=J==="string";for(D=C.length;D-->0;){H=C[D];z=false;if(G){z=H.getProperty()===F}else{if(E){z=H.getFilterFn()===F}else{if(M){z=H.getProperty()===F.property&&H.getValue()===F.value}}}if(z){A.push(H)}}}}N=A;N.$cloned=true}return N},getOptions:function(){return this.$filterable||this}},1,0,0,0,0,0,[Ext.util,"FilterCollection"],0));(Ext.cmd.derive("Ext.ZIndexManager",Ext.Base,{alternateClassName:"Ext.WindowGroup",statics:{zBase:9000,activeCounter:0},constructor:function(k){var g=this;g.id=Ext.id(null,"zindex-mgr-");g.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(e,f){var m=(e.alwaysOnTop||0)-(f.alwaysOnTop||0);if(!m){m=e.getActiveCounter()-f.getActiveCounter()}return m}},filters:{filterFn:function(e){return e.isVisible()}}});g.zIndexStack.addObserver(g);g.front=null;g.sortCount=0;g.globalListeners=Ext.GlobalEvents.on({beforehide:g.onComponentShowHide,show:g.onComponentShowHide,scope:g,destroyable:true});if(k){if(k.isContainer){g.resizeListeners=k.on({resize:g.onContainerResize,scope:g,destroyable:true});g.zseed=Ext.Number.from(g.rendered?k.getEl().getStyle("zIndex"):undefined,g.getNextZSeed());g.targetEl=k.getTargetEl();g.container=k}else{g.resizeListeners=Ext.on({resize:g.onContainerResize,scope:g,destroyable:true});g.zseed=g.getNextZSeed();g.targetEl=Ext.get(k)}}else{g.zseed=g.getNextZSeed();Ext.onInternalReady(function(){g.resizeListeners=Ext.on({resize:g.scheduleContainerResize,scope:g,destroyable:true,priority:-10000});g.targetEl=Ext.getBody()})}},getId:function(){return this.id},getNextZSeed:function(){return(Ext.ZIndexManager.zBase+=10000)},setBase:function(f){this.zseed=f;return this.onCollectionSort()},onCollectionSort:function(){var v=this,y=v.front,u=v.zseed,t=v.zIndexStack.getRange(),w=t.length,z,x,A,B,s=!y||y.isVisible();v.sortCount++;for(z=0;z<w;z++){x=t[z];if(x.destroying||x.destroyed){continue}u=x.setZIndex(u);if(!x.hidden){B=x;if(x.modal){A=x}}}if(B!==y){if(y&&!y.destroying){y.setActive(false)}if(B){s=s&&(B.isFocusable(true)&&(B.modal||(B.focusOnToFront&&!B.preventFocusOnActivate)));B.setActive(true,s)}}v.front=B||null;if(A){if(A===y){v.syncModalMask(A)}else{v.showModalMask(A)}}else{v.hideModalMask()}return u},onComponentUpdate:function(f){if(this.zIndexStack.contains(f)){this.zIndexStack.sort()}},onAfterComponentRender:function(f){if(f.isVisible()&&f.toFrontOnShow){this.zIndexStack.itemChanged(f,"hidden");this.zIndexStack.sort()}},onComponentShowHide:function(n){var m=this,l=m.zIndexStack,o=m.sortCount;if(n.isFloating()&&!m.hidingAll&&(l.getSource()||l).contains(n)){if(m.tempHidden){Ext.Array.remove(m.tempHidden,n)}l.beginUpdate();if(n.isVisible()){if(n.toFrontOnShow){l.itemChanged(n,"hidden");n.setActiveCounter(++Ext.ZIndexManager.activeCounter)}}else{l.itemChanged(n,"hidden")}l.endUpdate();if(m.sortCount===o){m.onCollectionSort()}}},register:function(k){var g=this;if(k.zIndexManager){k.zIndexManager.unregister(k)}k.zIndexManager=g;if(!k.rendered){k.on("afterrender",g.onAfterComponentRender,g,{single:true})}g.zIndexStack.add(k)},unregister:function(k){var g=this;delete k.zIndexManager;k.un("afterrender",g.onAfterComponentRender,g);g.zIndexStack.remove(k);g.onCollectionSort()},get:function(f){return f.isComponent?f:this.zIndexStack.get(f)},bringToFront:function(t,p){var s=this,v=s.zIndexStack,u=v.last(),q,o;t=s.get(t);if(!t){return false}o=t.preventFocusOnActivate;t.preventFocusOnActivate=p;t.setActiveCounter(++Ext.ZIndexManager.activeCounter);t.preventFocusOnActivate=o;q=v.last();return(q===t&&q!==u)},sendToBack:function(f){f=this.get(f);if(f){f.setActiveCounter(0)}return f||null},hideAll:function(){var l=this,m=l.zIndexStack.getRange(),o=m.length,n;l.hidingAll=true;for(n=0;n<o;n++){m[n].hide()}l.hidingAll=false;l.hideModalMask();l.front=null},hide:function(){var n=this,o=Ext.Element.getActiveElement(),p=n.zIndexStack.getRange(),t=p.length,q,s;n.focusRestoreElement=null;(n.tempHidden||(n.tempHidden=[])).length=0;for(q=0;q<t;q++){s=p[q];if(s.isVisible()){if(s.el.contains(o)){n.focusRestoreElement=o}s.el.hide();s.pendingShow=s.hidden=true;n.tempHidden.push(s)}}},show:function(){var n=this,o,m=n.tempHidden,q=m?m.length:0,p;for(o=0;o<q;o++){p=m[o];p.hidden=false;if(p.pendingShow){p.el.show();p.pendingShow=false;p.setPosition(p.x,p.y);p.onFloatShow()}else{p.hide()}}n.tempHidden=null;if(n.focusRestoreElement){n.focusRestoreElement.focus()}},getActive:function(){return this.zIndexStack.last()},getBy:function(g,k){return this.zIndexStack.filterBy(g,k).getRange()},each:function(g,k){this.zIndexStack.each(g,k)},eachBottomUp:function(n,o){var s=this.zIndexStack.getRange(),p,t=s.length,q;for(p=0;p<t;p++){q=s[p];if(q.isComponent&&n.call(o||q,q)===false){return}}},eachTopDown:function(m,n){var q=this.zIndexStack.getRange(),o,p;for(o=q.length;o-->0;){p=q[o];if(p.isComponent&&m.call(n||p,p)===false){return}}},destroy:function(){var l=this,n=l.zIndexStack.getRange(),o=n.length,m;for(m=0;m<o;m++){Ext.destroy(n[m])}Ext.destroy(l.mask,l.maskShim,l.zIndexStack,l.globalListeners,l.resizeListeners);l.callParent()},privates:{getMaskBox:function(){var f=this.mask.maskTarget;if(f.dom===document.body){return{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else{return f.getBox()}},scheduleContainerResize:function(){if(!this.containerResizeTimer){this.containerResizeTimer=Ext.Function.requestAnimationFrame(this.onContainerResize,this)}},onContainerResize:function(){var m=this,n=m.mask,o=m.maskShim,l;m.containerResizeTimer=null;if(n&&n.isVisible()){n.hide();if(o){o.hide()}l=m.getMaskBox();if(o){o.setSize(l);o.show()}n.setSize(l);n.show()}},onMaskMousedown:function(e){if(this.front){this.front.focus();e.preventDefault()}},onMaskClick:function(){var g=this.front,k;if(g){if(!g.hasListeners.maskclick||g.fireEvent("maskclick",g)!==false){k=g.maskClickAction||"focus";g[k]()}}},showModalMask:function(p){var n=this,m=p.el,o=p.floatParent?p.floatParent.getEl():p.container,q=n.mask;if(!q){n.mask=q=Ext.getBody().createChild({role:"presentation",cls:"x-mask x-border-box",style:"height:0;width:0"});q.setVisibilityMode(Ext.Element.DISPLAY);q.on({mousedown:n.onMaskMousedown,click:n.onMaskClick,scope:n})}else{n.hideModalMask()}q.maskTarget=o;o.saveTabbableState({excludeRoot:m});n.syncModalMask(p)},syncModalMask:function(s){var q=this,n=s.el.getZIndex()-4,t=q.mask,o=q.maskShim,p=q.getMaskBox();if(o){o.setZIndex(n);o.show();o.setBox(p)}t.setZIndex(n);t.show();t.setBox(p)},hideModalMask:function(){var g=this.mask,k=this.maskShim;if(g&&g.isVisible()){g.maskTarget.restoreTabbableState();g.maskTarget=undefined;g.hide();if(k){k.hide()}}}}},1,0,0,0,0,0,[Ext,"ZIndexManager",Ext,"WindowGroup"],function(){Ext.WindowManager=Ext.WindowMgr=new this()}));(Ext.cmd.derive("Ext.util.ItemCollection",Ext.util.MixedCollection,{alternateClassName:"Ext.ItemCollection",getKey:function(f){return f.getItemId&&f.getItemId()},has:function(f){return this.map.hasOwnProperty(f.getId())}},0,0,0,0,0,0,[Ext.util,"ItemCollection",Ext,"ItemCollection"],0));(Ext.cmd.derive("Ext.mixin.Queryable",Ext.Base,{mixinId:"queryable",isQueryable:true,query:function(f){f=f||"*";return Ext.ComponentQuery.query(f,this.getQueryRoot())},queryBy:function(o,p){var s=[],t=this.getQueryRoot().getRefItems(true),q=0,u=t.length,v;for(;q<u;++q){v=t[q];if(o.call(p||v,v)!==false){s.push(v)}}return s},queryById:function(f){return this.down(Ext.makeIdSelector(f))},child:function(k){var g=this.getQueryRoot().getRefItems();if(k&&k.isComponent){return this.matchById(g,k.getItemId())}if(k){g=Ext.ComponentQuery.query(k,g)}if(g.length){return g[0]}return null},down:function(f){if(f&&f.isComponent){return this.matchById(this.getRefItems(true),f.getItemId())}f=f||"";return this.query(f)[0]||null},visitPreOrder:function(o,l,m,n){Ext.ComponentQuery._visit(true,o,this.getQueryRoot(),l,m,n)},visitPostOrder:function(o,l,m,n){Ext.ComponentQuery._visit(false,o,this.getQueryRoot(),l,m,n)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(p,m){var q=p.length,o,n;for(o=0;o<q;++o){n=p[o];if(n.getItemId()===m){return n}}return null}}},0,0,0,0,0,0,[Ext.mixin,"Queryable"],0));(Ext.cmd.derive("Ext.mixin.Container",Ext.Mixin,{mixinConfig:{id:"container"},isContainer:true,config:{referenceHolder:false},getReferences:function(){Ext.ComponentManager.fixReferences();return this.refs||null},lookup:function(g){var k=this.getReferences();return(k&&k[g])||null},lookupReference:function(f){return this.lookup(f)},privates:{attachReference:function(n){var l=this,m,o;if(l.destroying||l.destroyed){return}o=l.refs||(l.refs={});m=n.referenceKey;o[m]=n},clearReference:function(l){var m=this.refs,k=l.referenceKey;if(m&&k){l.viewModelKey=l.referenceKey=m[k]=null}},containerOnAdded:function(g,k){if(k){Ext.ComponentManager.markReferencesDirty()}},containerOnRemoved:function(k){var g;if(!k){g=this.lookupReferenceHolder();if(g){Ext.ComponentManager.markReferencesDirty();g.clearReferences()}}},clearReferences:function(){this.refs=null},initContainerInheritedState:function(q,t){var x=this,u=x.getController(),w=x.getSession(),s=x.getConfig("viewModel",true),v=x.getReference(),p=x.getReferenceHolder();if(u){q.referenceHolder=u;p=true}else{if(p){q.referenceHolder=x}}if(p){q.referencePath=""}else{if(v&&x.isParentReference){q.referencePath=x.referenceKey+"."}}if(w){q.session=w}if(s){q.viewModelPath=""}else{if(v&&x.isParentReference){q.viewModelPath=x.viewModelKey+"."}}},setupReference:function(g){var k;if(g&&g.charAt(k=g.length-1)===">"){this.isParentReference=true;g=g.substring(0,k)}return g}}},0,0,0,0,0,0,[Ext.mixin,"Container"],0));(Ext.cmd.derive("Ext.container.Container",Ext.Component,{alternateClassName:["Ext.Container","Ext.AbstractContainer"],renderTpl:"<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>{% this.renderContainer(out,values) %}<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>",config:{actions:null},autoDestroy:true,defaultType:"panel",detachOnRemove:true,items:undefined,layout:"auto",suspendLayout:false,tabGuardTpl:'<span id="{id}-{tabGuardEl}" data-ref="{tabGuardEl}" aria-hidden="true" class="x-tab-guard x-tab-guard-{tabGuardPosition}" style="width:0px;height:0px;"></span>',tabGuardElements:{before:"tabGuardBeforeEl",after:"tabGuardAfterEl"},_applyDefaultsOptions:{defaults:true,strict:false},ariaRole:"presentation",baseCls:"x-container",layoutCounter:0,add:function(){var v=this,y=Ext.Array.slice(arguments),A=(typeof y[0]==="number")?y.shift():-1,C=v.getLayout(),B=false,G,x,D,E,F,H,z,w;if(y.length===1&&Ext.isArray(y[0])){x=y[0];G=true}else{x=y}if(v.rendered){Ext.suspendLayouts()}z=x=v.prepareItems(x,true);E=x.length;if(!G&&E===1){z=x[0]}for(D=0;D<E;D++){F=x[D];H=(A<0)?v.items.length:(A+D);w=!!F.instancedCmp;delete F.instancedCmp;if(F.floating){(v.floatingItems||(v.floatingItems=new Ext.util.ItemCollection())).add(F);F.onAdded(v,H,w);delete F.$initParent;if(v.hasListeners.add){v.fireEvent("add",v,F,H)}}else{if((!v.hasListeners.beforeadd||v.fireEvent("beforeadd",v,F,H)!==false)&&v.onBeforeAdd(F)!==false){v.items.insert(H,F);F.onAdded(v,H,w);delete F.$initParent;v.onAdd(F,H);C.onAdd(F,H);B=true;if(v.hasListeners.add){v.fireEvent("add",v,F,H)}}}}if(B){v.updateLayout()}if(v.rendered){Ext.resumeLayouts(true)}return z},onAdded:function(l,k,m){Ext.Component.prototype.onAdded.call(this,l,k,m);this.containerOnAdded(l,m)},onRemoved:function(f){this.containerOnRemoved(f);Ext.Component.prototype.onRemoved.apply(this,arguments)},afterComponentLayout:function(){var n=this.floatingItems,o,l,m;Ext.Component.prototype.afterComponentLayout.apply(this,arguments);if(n){n=n.items;o=n.length;for(l=0;l<o;l++){m=n[l];if(!m.rendered&&m.autoShow){m.show()}}}},afterLayout:function(g){var k=this;++k.layoutCounter;if(k.hasListeners.afterlayout){k.fireEvent("afterlayout",k,g)}},doDestroy:function(){var n=this,o=n.items,m=n.floatingItems,l;if(o){while((l=o.first())){n.doRemove(l,true)}o.destroy();n.items=null}if(m){while((l=m.first())){n.doRemove(l,true)}m.destroy();n.floatingItems=null}Ext.destroy(n.layout);Ext.Component.prototype.doDestroy.call(this)},beforeRender:function(){var l=this,m=l.getLayout(),k;l.preventChildDisable=true;Ext.Component.prototype.beforeRender.call(this);l.preventChildDisable=false;if(!m.initialized){m.initLayout()}k=m.targetCls;if(k){l.applyTargetCls(k)}},cascade:function(t,s,B){var u=this,y=u.items?u.items.items:[],x=y.length,z=0,v,w=B?B.concat(u):[u],A=w.length-1;if(t.apply(s||u,w)!==false){for(;z<x;z++){v=y[z];if(v.cascade){v.cascade(t,s,B)}else{w[A]=v;t.apply(s||v,w)}}}return this},contains:function(k,l){var m=false;if(l){this.cascade(function(e){if(e.contains&&e.contains(k)){m=true;return false}});return m}else{return this.items.contains(k)||(this.floatingItems&&this.floatingItems.contains(k))}},disable:function(t,v){var p=this,q=p.disabled,o,u,s;Ext.Component.prototype.disable.call(this,t,v);if(!v&&!p.preventChildDisable&&!q){o=p.getChildItemsToDisable();u=o.length;for(s=0;s<u;s++){o[s].disable(t,true)}}return p},enable:function(t,v){var p=this,q=p.disabled,o,u,s;Ext.Component.prototype.enable.call(this,t,v);if(q){o=p.getChildItemsToDisable();u=o.length;for(s=0;s<u;s++){o[s].enable(t,true)}}return p},getChildByElement:function(p,u){var v,s,t=0,q=this.getRefItems(),o=q.length;p=Ext.getDom(p);for(;t<o;t++){v=q[t];s=v.getEl();if(s&&((s.dom===p)||s.contains(p))){return(u&&v.getChildByElement)?v.getChildByElement(p,u):v}}return null},getComponent:function(l){if(Ext.isObject(l)){l=l.getItemId()}var k=this.items.get(l),m=this.floatingItems;if(!k&&m&&typeof l!=="number"){k=m.get(l)}return k},getFocusEl:function(){var f=this.getDefaultFocus();if(f){return f}else{if(this.focusable){return this.getTargetEl()}}return undefined},getLayout:function(){var g=this,k=g.layout;if(!k||!k.isLayout){g.setLayout(k)}return g.layout},getRefItems:function(s){var v=this,q=v.items.items,t=q.length,p=0,o,u=[];for(;p<t;p++){o=q[p];u[u.length]=o;if(s&&o.getRefItems){u.push.apply(u,o.getRefItems(true))}}if(v.floatingItems){q=v.floatingItems.items;t=q.length;for(p=0;p<t;p++){o=q[p];u[u.length]=o;if(s&&o.getRefItems){u.push.apply(u,o.getRefItems(true))}}}return u},getDefaultFocus:function(){var g=this.defaultFocus,k;if(g){k=this.down(g)}return k},initComponent:function(){var f=this;Ext.Component.prototype.initComponent.call(this);f.getLayout();f.constructing=true;f.initItems();if(f.disabled){f.disabled=false;f.disable(true)}delete f.constructing},initItems:function(){var g=this,k=g.items;if(!k||!k.isMixedCollection){g.items=new Ext.util.ItemCollection();if(k){if(!Ext.isArray(k)){k=[k]}g.$initingItems=true;g.add(k);delete g.$initingItems}}},initInheritedState:function(s,x){var t=this,w=t.controller,v=t.layout,u=t.session,q=t.viewModel,y=t.reference,z=t.referenceHolder;Ext.Component.prototype.initInheritedState.call(this,s,x);if(t.collapsed){s.collapsed=true}t.initContainerInheritedState(s,x);if(v&&v.initInheritedState){v.initInheritedState(s,x)}},insert:function(k,l){var m;if(l&&l.isComponent){m=this.items.indexOf(l);if(m!==-1){return this.move(m,k)}}return this.add(k,l)},lookupComponent:function(o){var m=this,l=m.defaultType,n;if(!o.isComponent){if(typeof o==="string"){if(!(n=(o[0]==="@"))){return Ext.ComponentManager.get(o)}o=m.getAction(o.substr(1));l=m.defaultActionType||l}o=Ext.ComponentManager.create(o,l);if(n){o.instancedCmp=true}}return o},move:function(p,m){var n=this,q=n.items,o;if(p.isComponent){p=q.indexOf(p)}o=q.getAt(p);if(p!==m){o=q.removeAt(p);if(o===false){return false}m=Math.min(m,q.getCount());q.insert(m,o);n.onMove(o,p,m);if(n.hasListeners.childmove){n.fireEvent("childmove",n,o,p,m)}n.updateLayout()}return o},moveBefore:function(o,m){var l,n;if(o!==m){l=Ext.Element.getActiveElement(true);if(o.el&&o.el.contains(l)){n=l;n.suspendFocusEvents();o.isLayoutMoving=true}o=this.layout.moveItemBefore(o,m);if(n){o.isLayoutMoving=false;n.focus();n.resumeFocusEvents()}}return o},moveAfter:function(m,l){var n=this.layout,o;if(m!==l){o=l?n.getMoveAfterIndex(l):0;m=this.moveBefore(m,this.items.getAt(o))}return m},nextChild:function(w,t){var p=this,s=p.items,x=s.indexOf(w),q=0,u=s.length,v;if(x!==-1){if(t){for(;q<u;q++){v=s.getAt(x+q);if(!v||Ext.ComponentQuery.is(v,t)){break}}}else{v=s.getAt(x+1)}}return v||null},onAdd:Ext.emptyFn,onBeforeAdd:function(g){var k=g.ownerCt;if(k&&k!==this){k.remove(g,false)}},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){Ext.Component.prototype.onPosition.apply(this,arguments);this.repositionFloatingItems()},onResize:function(){Ext.Component.prototype.onResize.apply(this,arguments);this.repositionFloatingItems()},prevChild:function(w,t){var p=this,s=p.items,x=s.indexOf(w),q=0,u=s.length,v;if(x!==-1){if(t){for(;q<u;q++){v=s.getAt(x-q);if(!v||Ext.ComponentQuery.is(v,t)){break}}}else{v=s.getAt(x-1)}}return v||null},remove:function(n,o){var m=this,l;if(m.destroyed||m.destroying){return}l=m.getComponent(n);if(l&&(!m.hasListeners.beforeremove||m.fireEvent("beforeremove",m,l)!==false)){m.doRemove(l,o);if(m.hasListeners.remove){m.fireEvent("remove",m,l)}if(!m.destroying&&!m.destroyAfterRemoving&&!l.floating){m.updateLayout()}if(m.destroyAfterRemoving){m.destroy()}}return l},removeAll:function(s){var w=this,p,u=w.floatingItems,t=[],q=0,v,x;if(u){p=w.items.items.concat(u.items)}else{p=w.items.items.slice()}v=p.length;Ext.suspendLayouts();w.removingAll=true;for(;q<v;q++){x=p[q];w.remove(x,s);if(x.ownerCt!==w){t.push(x)}}w.removingAll=false;Ext.resumeLayouts(!!v);return t},setLayout:function(o){var p=this,s=p.layout,n=s&&s.isLayout,t,q;if(typeof o==="string"){o={type:o}}q=o.type;if(n&&(!q||(q===s.type))){delete o.type;s.setConfig(o)}else{if(n){s.setOwner(null)}t=p.self.prototype.layout;if(typeof t==="string"){o.type=q||t}else{Ext.merge(Ext.merge({},t),o)}o=this.layout=Ext.Factory.layout(o);o.setOwner(this)}if(p.rendered){p.updateLayout()}},setActiveItem:function(f){return this.getLayout().setActiveItem(f)},updateActions:function(l){var n=this,o,m;for(o in l){if(!l[o].isAction){l[o]=new Ext.Action(l[o])}}},getAction:function(g){var k=this;for(var k=this;k;k=k.getRefOwner()){if(k.actions&&k.actions[g]){return k.actions[g]}}},privates:{applyDefaults:function(m){var l=this,k=l.defaults;if(k){if(Ext.isFunction(k)){k=k.call(l,m)}if(Ext.isString(m)){m=Ext.ComponentManager.get(m)}if(m.isComponent){m.setConfig(k,null,l._applyDefaultsOptions)}else{m=l.self.getConfigurator().merge(l,Ext.Object.fork(k),m)}}return m},applyReference:function(f){return this.setupReference(f)},applyTargetCls:function(f){this.layoutTargetCls=f},detachComponent:function(f){Ext.getDetachedBody().appendChild(f.getEl())},doRemove:function(s,y){var t=this,q,z=t.detachOnRemove,x=t.layout,v=x&&t.rendered,w,u=s.floating;if(y===undefined){q=t.autoDestroy}else{if(typeof y==="boolean"){q=y}else{q=("destroy" in y)&&y.destroy;z=("detach" in y)&&y.detach}}w=s.destroying||q;if(u){t.floatingItems.remove(s)}else{t.items.remove(s)}if(v&&!u){if(x.running){Ext.Component.cancelLayout(s,w)}x.onRemove(s,w)}if(!s.destroyed){s.onRemoved(w)}t.onRemove(s,w);if(q){s.destroy()}else{if(!t.destroyed){if(v&&!u){x.afterRemove(s)}if(z&&s.rendered){t.detachComponent(s)}}}},finishRenderChildren:function(){Ext.Component.prototype.finishRenderChildren.call(this);var f=this.getLayout();if(f){f.finishRender()}},getChildItemsToDisable:function(){return this.query("[isFormField],[isFocusableContainer],button")},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},prepareItems:function(s,p){if(Ext.isArray(s)){s=s.slice()}else{s=[s]}var n=this,q=0,t=s.length,o;for(;q<t;q++){o=s[q];if(o==null){Ext.Array.erase(s,q,1);--q;--t}else{if(p){o=this.applyDefaults(o)}o.$initParent=n;if(o.isComponent){o.instancedCmp=true}s[q]=n.lookupComponent(o);delete o.$initParent}}return s},repositionFloatingItems:function(){var n=this.floatingItems,o,l,m;if(n){n=n.items;o=n.length;for(l=0;l<o;l++){m=n[l];if(m.el&&!m.hidden){m.setPosition(m.x,m.y)}}}},initTabGuards:function(t){var q=this,u=q.tabGuardBeforeEl,v=q.tabGuardAfterEl,w=q.tabGuardBeforeIndex||0,y=q.tabGuardAfterIndex||0,s,x,z;if(!q.rendered||!q.tabGuard){return}z=q.el.findTabbableElements({skipSelf:true});if(z[0]===u.dom){z.shift()}if(z[z.length-1]===v.dom){z.pop()}if(z&&z.length){if(w==null||y==null){for(s=0;s<z.length;s++){x=+z[s].getAttribute("tabIndex");if(x>0){w=Math.min(w,x);y=Math.max(y,x)}}}u.dom.setAttribute("tabIndex",w);v.dom.setAttribute("tabIndex",y)}else{u.dom.removeAttribute("tabIndex");v.dom.removeAttribute("tabIndex")}if(q.onTabGuardFocusEnter){if(!u.hasListeners.focusenter){u.on("focusenter",q.onTabGuardFocusEnter,q)}if(!v.hasListeners.focusenter){v.on("focusenter",q.onTabGuardFocusEnter,q)}}},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){var o=this.items.items,m=o.length,n=this._noMargin,l;while(m--){l=o[m];l.margin$=null;l.el.setStyle(n)}},setupRenderTpl:function(f){Ext.Component.prototype.setupRenderTpl.apply(this,arguments);this.getLayout().setupRenderTpl(f)}}},0,["container"],["component","box","container"],{component:true,box:true,container:true},["widget.container"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable],[Ext.mixin.Container.prototype.mixinId||Ext.mixin.Container.$className,Ext.mixin.Container]],[Ext.container,"Container",Ext,"Container",Ext,"AbstractContainer"],0));(Ext.cmd.derive("Ext.panel.Bar",Ext.container.Container,{vertical:false,_verticalSides:{left:1,right:1},initComponent:function(){var g=this,k=g.vertical;g.dock=g.dock||(k?"left":"top");g.layout=Ext.apply(k?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},g.layout);Ext.container.Container.prototype.initComponent.call(this)},onAdded:function(l,k,m){this.initOrientation();Ext.container.Container.prototype.onAdded.call(this,l,k,m)},onRemoved:function(f){this.removeClsWithUI(this.uiCls);Ext.container.Container.prototype.onRemoved.call(this,f)},beforeRender:function(){var f=this;if(f.forceOrientation||!f.ownerCt){f.initOrientation()}Ext.container.Container.prototype.beforeRender.call(this)},setDock:function(l){var m=this,n,o;if(l!==m.dock){Ext.suspendLayouts();m.clearOrientation();Ext.container.Container.prototype.setDock.call(this,l);m.initOrientation();o=m.vertical;n=m.layout;n.setVertical(o);n.setAlignRoundingMethod(o?"ceil":"floor");Ext.resumeLayouts(true)}},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var k=this,l=k.dock,m=(k.vertical=(l?l in k._verticalSides:k.vertical));k.addClsWithUI([m?"vertical":"horizontal",k.getDockName()])}}},0,0,["component","box","container"],{component:true,box:true,container:true},0,0,[Ext.panel,"Bar"],0));(Ext.cmd.derive("Ext.panel.Title",Ext.Component,{isTitle:true,noWrap:true,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{role:"presentation",unselectable:"on"},textElRole:"presentation",tabIndex:0,childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable="on"<tpl if="textElRole"> role="{textElRole}"</tpl>>{text}</div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">{glyph}</tpl></div></div>',_textAlignClasses:{left:"x-title-align-left",center:"x-title-align-center",right:"x-title-align-right"},_iconAlignClasses:{top:"x-title-icon-top",right:"x-title-icon-right",bottom:"x-title-icon-bottom",left:"x-title-icon-left"},_rotationClasses:{0:"x-title-rotate-none",1:"x-title-rotate-right",2:"x-title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:"x-title",_titleSuffix:"-title",_glyphCls:"x-title-glyph",_iconWrapCls:"x-title-icon-wrap",_baseIconCls:"x-title-icon",_itemCls:"x-title-item",_textCls:"x-title-text",afterComponentLayout:function(){var n=this,p=n.getRotation(),q,m,o;if(p&&!Ext.isIE8){o=n.el;q=n.lastBox;m=q.x;o.setStyle(n._getVerticalAdjustDirection(),(m+((p===1)?q.width:-q.height))+"px")}Ext.Component.prototype.afterComponentLayout.call(this)},onRender:function(){var k=this,m=k.getRotation(),l=k.el;Ext.Component.prototype.onRender.call(this);if(m){l.setVertical(k._rotationAngles[m])}if(Ext.supports.FixedTableWidthBug){l._needsTableWidthFix=true}},applyText:function(f){if(!f){f="&#160;"}return f},beforeRender:function(){var f=this;Ext.Component.prototype.beforeRender.call(this);f.addCls(f._rotationClasses[f.getRotation()]);f.addCls(f._textAlignClasses[f.getTextAlign()])},getIconMarkup:function(){return this.lookupTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var o=this,q=o.getIcon(),s=o.getIconCls(),p=o.getGlyph(),n,t=o.getIconAlign();if(p){n=p.fontFamily;p=p.character}return{id:o.id,ui:o.ui,itemCls:o._itemCls,iconUrl:q,iconCls:s,iconWrapCls:o._iconWrapCls,baseIconCls:o._baseIconCls,iconAlignCls:o._iconAlignClasses[t],glyph:p,glyphCls:p?o._glyphCls:"",glyphFontFamily:n}},initRenderData:function(){var l=this,m,k;k=Ext.apply({text:l.getText(),textElRole:l.textElRole,id:l.id,ui:l.ui,itemCls:l._itemCls,textCls:l._textCls,iconMarkup:null,iconBeforeTitle:null},Ext.Component.prototype.initRenderData.call(this));if(l._hasIcon()){m=l.getIconAlign();k.iconMarkup=l.getIconMarkup();k.iconBeforeTitle=(m==="top"||m==="left")}return k},onAdded:function(s,n,t){var p=this,o=p._titleSuffix,q=s.baseCls;p.addCls([q+o,q+o+"-"+s.ui]);Ext.Component.prototype.onAdded.call(this,s,n,t)},applyGlyph:function(g,k){if(g){if(!g.isGlyph){g=new Ext.Glyph(g)}if(g.isEqual(k)){g=undefined}}return g},updateGlyph:function(n,p){var o=this,m=o._glyphCls,q;if(o.rendered){o._syncIconVisibility();q=o.iconEl;if(n){q.dom.innerHTML=n.character;q.addCls(m);q.setStyle("font-family",n.fontFamily)}else{if(p!==n){q.dom.innerHTML="";q.removeCls(m)}}if(o._didIconStateChange(p,n)){o.updateLayout()}}},updateIcon:function(n,l){n=n||"";var m=this,o;if(m.rendered&&n!==l){m._syncIconVisibility();o=m.iconEl;o.setStyle("background-image",n?"url("+n+")":"");if(m._didIconStateChange(l,n)){m.updateLayout()}}},updateIconAlign:function(n,q){var s=this,o=s.iconWrapEl,t,p;if(s.iconWrapEl){t=s.el;p=s._iconAlignClasses;if(q){o.removeCls(p[q])}o.addCls(p[n]);if(n==="top"||n==="left"){t.insertFirst(o)}else{t.appendChild(o)}s.updateLayout()}},updateIconCls:function(n,m){n=n||"";var l=this,o;if(l.rendered&&m!==n){l._syncIconVisibility();o=l.iconEl;if(m){o.removeCls(m)}o.addCls(n);if(l._didIconStateChange(m,n)){l.updateLayout()}}},updateRotation:function(p,q){var n=this,o,m;if(n.rendered){o=n.el;m=n._rotationClasses;n.removeCls(m[q]);n.addCls(m[p]);o.setHorizontal();if(p){o.setVertical(n._rotationAngles[p])}o.setStyle({right:"",left:"",top:"",height:"",width:""});n.lastBox=null;n.updateLayout()}},updateText:function(f){if(this.rendered){this.textEl.setHtml(f);this.updateLayout()}},updateTextAlign:function(l,n){var o=this,m=o._textAlignClasses;if(o.rendered){if(n){o.removeCls(m[n])}o.addCls(m[l]);o.updateLayout()}},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(m,k){var l=Ext.isEmpty(k);return Ext.isEmpty(m)?!l:l},_hasIcon:function(){return !!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var o=this,p=o.el,t=o._hasIcon(),n=o.iconWrapEl,q,s;if(t&&!n){s=o.iconAlign;q=(s==="left"||s==="top");p.dom.insertAdjacentHTML(q?"afterbegin":"beforeend",o.getIconMarkup());n=o.iconWrapEl=p[q?"first":"last"]();o.iconEl=n.first()}if(n){n.setDisplayed(t)}}}},0,["title"],["component","box","title"],{component:true,box:true,title:true},["widget.title"],0,[Ext.panel,"Title"],0));(Ext.cmd.derive("Ext.panel.Tool",Ext.Component,{config:{glyph:null},isTool:true,baseCls:"x-tool",disabledCls:"x-tool-disabled",toolPressedCls:"x-tool-pressed",toolOverCls:"x-tool-over",childEls:["toolEl"],renderTpl:['<div id="{id}-toolEl" data-ref="toolEl" class="{className} {childElCls}" role="presentation"<tpl if="glyph"><tpl if="glyphFontFamily"> style="font-family:{glyphFontFamily};"></tpl>{glyph}<tpl else>></tpl></div>'],toolOwner:null,tooltipType:"qtip",stopEvent:true,ariaRole:"button",focusable:true,tabIndex:0,keyMap:{scope:"this",SPACE:"onClick",ENTER:"onClick"},cacheHeight:true,cacheWidth:true,initComponent:function(){var f=this;f.tooltip=f.tooltip||f.qtip;Ext.Component.prototype.initComponent.call(this)},initRenderData:function(){var n=this,m=Ext.Component.prototype.initRenderData.call(this),o=n.getGlyph(),l;if(o){l=o.fontFamily;o=o.character}Ext.applyIf(m,{className:n.calculateClassName(),glyph:o,glyphFontFamily:l});return m},calculateClassName:function(){var g=this,k=g.baseCls+"-tool-el ";if(g.type){k+=g.baseCls+"-img "+g.baseCls+"-"+g.type}else{if(g.iconCls){k+=g.iconCls}}return k},afterRender:function(){var k=this,g;Ext.Component.prototype.afterRender.call(this);if(k.setTypeAfterRender){k.setTypeAfterRender=false;k.setType(k.type)}k.el.on({click:k.onClick,mousedown:k.onMouseDown,mouseover:k.onMouseOver,mouseout:k.onMouseOut,scope:k});g=k.tooltip;if(g){k.setTooltip(g)}},tipAttrs:{qtip:"data-qtip"},setTooltip:function(x,s){var q=this,u=q.tooltip,p=q.tooltipType,w=q.id,t=q.el,v;if(u&&Ext.quickTipsActive&&Ext.isObject(u)){Ext.tip.QuickTipManager.unregister(w)}q.tooltip=x;if(s){q.tooltipType=s}if(x){if(Ext.quickTipsActive&&Ext.isObject(x)){Ext.tip.QuickTipManager.register(Ext.apply({target:w},x))}else{if(t){if(s&&p&&s!==p){v=q.tipAttrs[p]||"title";t.dom.removeAttribute(v)}v=q.tipAttrs[s||p]||"title";t.dom.setAttribute(v,x)}}if(v!=="title"&&q.ariaRole&&q.ariaRole!=="presentation"){if(t){t.dom.setAttribute("aria-label",x)}else{q.ariaRenderAttributes=q.ariaRenderAttributes||{};q.ariaRenderAttributes["aria-label"]=x}}}},setType:function(o){var v=this,q=v.toolEl,p=v.updating,t=v.rendering,s,u;if(!p){s=v.calculateClassName();if(!t){v.updating=u=true}v.setIconCls(null);v.setGlyph(null)}v.type=o;if(u){v.updateToolCls(s);v.updating=false}else{if(t){v.setTypeAfterRender=true}}return v},setIconCls:function(p){var n=this,q=n.toolEl,o=n.updating,s,t;if(!o){s=n.calculateClassName();n.updating=t=true;n.setType(null);n.setGlyph(null)}n.iconCls=p;if(t){n.updateToolCls(s);n.updating=false}return n},doDestroy:function(){var f=this;f.setTooltip(null);delete f.toolOwner;Ext.Component.prototype.doDestroy.call(this)},applyGlyph:function(g,k){if(g){if(!g.isGlyph){g=new Ext.Glyph(g)}if(g.isEqual(k)){g=undefined}}return g},updateGlyph:function(v,t){var o=this,q=o.toolEl,p=o.updating,s,u;if(!p){s=o.calculateClassName();o.updating=u=true;o.setType(null);o.setIconCls(null)}if(q){if(v){q.dom.innerHTML=v.character;q.setStyle(v.getStyle())}else{q.dom.innerHTML=""}}if(u){o.updateToolCls(s);o.updating=false}},privates:{onClick:function(e,l){var m=this;if(m.disabled){return false}if(e.type!=="keydown"){m.el.removeCls(m.toolPressedCls+" "+m.toolOverCls)}if(m.stopEvent!==false){e.stopEvent()}if(m.handler){Ext.callback(m.handler,m.scope,[e,l,m.ownerCt,m],0,m)}else{if(m.callback){Ext.callback(m.callback,m.scope,[m.toolOwner||m.ownerCt,m,e],0,m)}}if(m.destroyed){return}m.fireEvent("click",m,e,m.toolOwner||m.ownerCt);return true},onMouseDown:function(e){e.preventDefault();if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)},updateToolCls:function(l){var k=this,m=this.toolEl;if(m){m.removeCls(l);m.addCls(this.calculateClassName())}}}},0,["tool"],["component","box","tool"],{component:true,box:true,tool:true},["widget.tool"],0,[Ext.panel,"Tool"],0));(Ext.cmd.derive("Ext.util.KeyMap",Ext.Base,{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(k){var g=this;if((arguments.length!==1)||(typeof k==="string")||k.dom||k.tagName||k===document||k.isComponent){g.legacyConstructor.apply(g,arguments);return}Ext.apply(g,k);g.bindings=[];if(!g.target.isComponent){g.target=Ext.get(g.target)}if(g.binding){g.addBinding(g.binding)}else{if(k.key){g.addBinding(k)}}g.enable()},legacyConstructor:function(n,l,o){var m=this;Ext.apply(m,{target:Ext.get(n),eventName:o||m.eventName,bindings:[]});if(l){m.addBinding(l)}m.enable()},addBinding:function(m){var o=this,n=m.key,p,q;if(o.processing){o.bindings=o.bindings.slice(0)}if(Ext.isArray(m)){for(p=0,q=m.length;p<q;p++){o.addBinding(m[p])}return}o.bindings.push(Ext.apply({keyCode:o.processKeys(n)},m))},removeBinding:function(o){var p=this,v=p.bindings,u=v.length,t,q,s;if(p.processing){p.bindings=v.slice(0)}s=p.processKeys(o.key);for(t=0;t<u;++t){q=v[t];if((q.fn||q.handler)===(o.fn||o.handler)&&q.scope===o.scope){if(o.alt===q.alt&&o.ctrl===q.ctrl&&o.shift===q.shift){if(Ext.Array.equals(q.keyCode,s)){Ext.Array.erase(p.bindings,t,1);return}}}}},processKeys:function(o){var v=false,q,p,t,u,s;if(o.test){return o}if(Ext.isString(o)){p=[];t=o.toUpperCase();for(s=0,u=t.length;s<u;++s){p.push(t.charCodeAt(s))}o=p;v=true}if(!Ext.isArray(o)){o=[o]}if(!v){for(s=0,u=o.length;s<u;++s){q=o[s];if(Ext.isString(q)){o[s]=q.toUpperCase().charCodeAt(0)}}}return o},handleTargetEvent:function(o){var p=this,n,q,s,t;if(p.enabled){n=p.bindings;q=0;s=n.length;o=p.processEvent.apply(p.processEventScope||p,arguments);if(o){p.lastKeyEvent=o;if(p.ignoreInputFields&&Ext.fly(o.target).isInputField()){return}if(!o.getKey){return o}p.processing=true;for(;q<s;++q){t=p.processBinding(n[q],o);if(t===false){p.processing=false;return t}}p.processing=false}}},processEvent:Ext.identityFn,processBinding:function(x,B){if(this.checkModifiers(x,B)){var w=B.getKey(),u=x.fn||x.handler,t=x.scope||this,v=x.keyCode,A=x.defaultEventAction,z,y,s;if(v.test){if(v.test(String.fromCharCode(B.getCharCode()))){s=u.call(t,w,B);if(s!==true&&A){B[A]()}if(s===false){return s}}}else{if(v.length){for(z=0,y=v.length;z<y;++z){if(w===v[z]){s=u.call(t,w,B);if(s!==true&&A){B[A]()}if(s===false){return s}break}}}}}},checkModifiers:function(v,p){var q=["shift","ctrl","alt"],s=0,u=q.length,o,t;for(;s<u;++s){t=q[s];o=v[t];if(!(o===undefined||(o===p[t+"Key"]))){return false}}return true},on:function(t,q,s){var v,u,p,o;if(Ext.isObject(t)&&!Ext.isArray(t)){v=t.key;u=t.shift;p=t.ctrl;o=t.alt}else{v=t}this.addBinding({key:v,shift:u,ctrl:p,alt:o,fn:q,scope:s})},un:function(t,q,s){var v,u,p,o;if(Ext.isObject(t)&&!Ext.isArray(t)){v=t.key;u=t.shift;p=t.ctrl;o=t.alt}else{v=t}this.removeBinding({key:v,shift:u,ctrl:p,alt:o,fn:q,scope:s})},isEnabled:function(){return this.enabled},enable:function(){var f=this;if(!f.enabled){f.target.on(f.eventName,f.handleTargetEvent,f,{capture:f.capture,priority:f.priority});f.enabled=true}},disable:function(){var f=this;if(f.enabled){f.target.removeListener(f.eventName,f.handleTargetEvent,f);f.enabled=false}},setDisabled:function(f){if(f){this.disable()}else{this.enable()}},destroy:function(k){var m=this,l=m.target;m.bindings=[];m.disable();if(k){l.destroy()}delete m.target;m.callParent()}},1,0,0,0,0,0,[Ext.util,"KeyMap",Ext,"KeyMap"],0));(Ext.cmd.derive("Ext.util.KeyNav",Ext.Base,{alternateClassName:"Ext.KeyNav",disabled:false,defaultEventAction:false,forceKeyDown:false,eventName:"keypress",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(k){var g=this;if(arguments.length===2){g.legacyConstructor.apply(g,arguments);return}g.doConstruction(k)},legacyConstructor:function(g,k){this.doConstruction(Ext.apply({target:g},k))},doConstruction:function(o){var m=this,n={target:o.target,ignoreInputFields:o.ignoreInputFields,eventName:m.getKeyEvent("forceKeyDown" in o?o.forceKeyDown:m.forceKeyDown,o.eventName),capture:o.capture},l;if(m.map){m.map.destroy()}m.initConfig(o);if(o.processEvent){n.processEvent=o.processEvent;n.processEventScope=o.processEventScope||m}if(o.priority){n.priority=o.priority}if(o.keyMap){l=m.map=o.keyMap}else{l=m.map=new Ext.util.KeyMap(n);m.destroyKeyMap=true}this.addBindings(o);l.disable();if(!o.disabled){l.enable()}},addBindings:function(w){var t=this,u,p,q=t.map,v=Ext.util.KeyNav.keyOptions,s,x=w.scope||t;for(u in w){p=w[u];s=v[u];if(s!=null){u=s}if(p&&(u.length===1||!isNaN(u=parseInt(u,10)))){if(typeof p==="function"){p={handler:p,defaultEventAction:(w.defaultEventAction!==undefined)?w.defaultEventAction:t.defaultEventAction}}q.addBinding({key:u,ctrl:p.ctrl,shift:p.shift,alt:p.alt,handler:Ext.Function.bind(t.handleEvent,p.scope||x,[p.handler||p.fn,t],true),defaultEventAction:(p.defaultEventAction!==undefined)?p.defaultEventAction:t.defaultEventAction})}}},handleEvent:function(l,m,n,o){o.lastKeyEvent=m;return n.call(this,m)},destroy:function(g){var k=this;if(k.destroyKeyMap){k.map.destroy(g)}delete k.map;k.callParent()},enable:function(){if(this.map){this.map.enable();this.disabled=false}},disable:function(){if(this.map){this.map.disable()}this.disabled=true},setDisabled:function(f){this.map.setDisabled(f);this.disabled=f},getKeyEvent:function(g,k){if(g||(Ext.supports.SpecialKeyDownRepeat&&!k)){return"keydown"}else{return k||this.eventName}}},1,0,0,0,0,0,[Ext.util,"KeyNav",Ext,"KeyNav"],0));(Ext.cmd.derive("Ext.util.FocusableContainer",Ext.Mixin,{mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",doDestroy:"destroyFocusableContainer",onFocusEnter:"onFocusEnter"},after:{afterRender:"initFocusableContainer",onFocusLeave:"onFocusLeave",afterShow:"activateFocusableContainer"}},isFocusableContainer:true,enableFocusableContainer:true,activeChildTabIndex:0,inactiveChildTabIndex:-1,focusableContainerEl:"el",tabGuard:true,privates:{initFocusableContainer:function(m){var n,l,o;if(this.enableFocusableContainer){m=m!=null?m:true;this.doInitFocusableContainer(m)}else{n=this.getFocusables();for(l=0,o=n.length;l<o;l++){n[l].focusableContainer=null}}},doInitFocusableContainer:function(o){var m=this,n=m.focusableContainerEl,l;if(o){m.clearFocusables()}l=m.findNextFocusableChild({step:1,beforeRender:true});if(l){m.activateFocusableContainer(true)}else{if(m.isFocusableContainerActive()){m.activateFocusableContainer(false)}}if(!n.isElement){n=m.focusableContainerEl=m[n]}m.focusableKeyNav=m.createFocusableContainerKeyNav(n)},createFocusableContainerKeyNav:function(k){var g=this;return new Ext.util.KeyNav(k,{eventName:"keydown",ignoreInputFields:true,scope:g,tab:g.onFocusableContainerTabKey,enter:g.onFocusableContainerEnterKey,space:g.onFocusableContainerSpaceKey,up:g.onFocusableContainerUpKey,down:g.onFocusableContainerDownKey,left:g.onFocusableContainerLeftKey,right:g.onFocusableContainerRightKey})},destroyFocusableContainer:function(){if(this.enableFocusableContainer){this.doDestroyFocusableContainer()}},doDestroyFocusableContainer:function(){this.focusableKeyNav=Ext.destroy(this.focusableKeyNav)},getFocusables:function(){return this.items.items},initDefaultFocusable:function(){var w=this,t=w.activeChildTabIndex,u=false,s,x,q,v,p;s=w.getFocusables();v=s.length;if(!v){return}for(q=0;q<v;q++){x=s[q];if(!x.disabled&&x.isFocusable&&x.isFocusable()){u=true;break}}if(!u){return}x=w.findNextFocusableChild({items:s,step:true});if(x){w.activateFocusable(x)}return x},clearFocusables:function(){var m=this,p=m.getFocusables(),q=p.length,n,o;for(o=0;o<q;o++){n=p[o];if(n.focusable&&!n.disabled){m.deactivateFocusable(n)}}},activateFocusable:function(k,l){var m=l!=null?l:this.activeChildTabIndex;k.setTabIndex(m)},deactivateFocusable:function(k,l){var m=l!=null?l:this.inactiveChildTabIndex;k.setTabIndex(m)},activateFocusableContainer:function(n){var m=this,o=m.tabGuardBeforeEl,l=m.tabGuardAfterEl;if(!m.rendered||m.destroying||m.destroyed||!o||!l){return}n=n!=null?n:true;if(n){o.dom.setAttribute("tabIndex",m.activeChildTabIndex);l.dom.setAttribute("tabIndex",m.activeChildTabIndex)}else{o.dom.removeAttribute("tabIndex");l.dom.removeAttribute("tabIndex")}},onFocusableContainerTabKey:function(){return true},onFocusableContainerEnterKey:function(){return true},onFocusableContainerSpaceKey:function(){return true},onFocusableContainerUpKey:function(e){e.preventDefault();return this.moveChildFocus(e,false)},onFocusableContainerDownKey:function(e){e.preventDefault();return this.moveChildFocus(e,true)},onFocusableContainerLeftKey:function(e){e.preventDefault();return this.moveChildFocus(e,false)},onFocusableContainerRightKey:function(e){e.preventDefault();return this.moveChildFocus(e,true)},getFocusableFromEvent:function(k){var e=Ext.Component.fromElement(k.getTarget());return e},moveChildFocus:function(l,m){var e=this.getFocusableFromEvent(l);return this.focusChild(e,m,l)},focusChild:function(k,m){var l=this.findNextFocusableChild({child:k,step:m});if(l){l.focus()}return l},findNextFocusableChild:function(s){var t=s.beforeRender,w,u,B,A,v,y,x,z;w=s.items||this.getFocusables();A=s.step!=null?s.step:1;B=s.child;z=!!this.allowFocusingDisabledChildren;v=Ext.Array.indexOf(w,B);A=A===true?1:A===false?-1:A;x=w.length;y=A>0?(v<x?v+A:0):(v>0?v+A:x-1);for(;;y+=A){if(v<0&&(y>=x||y<0)){return null}else{if(y>=x){y=-1;continue}else{if(y<0){y=x;continue}else{if(y===v){return null}}}}u=w[y];if(!u||!u.focusable||(u.disabled&&!z)){continue}if(t||(u.isFocusable&&u.isFocusable())){return u}}return null},isFocusableContainerActive:function(){var o=this,p=false,s=o.tabGuardBeforeEl,q=o.focusableContainerEl,n,t;if(s&&s.isTabbable&&s.isTabbable()){p=true}else{if(q.isTabbable&&q.isTabbable()){p=true}else{n=o.lastFocusedChild;t=n&&n.getFocusEl&&n.getFocusEl();if(t&&t.isTabbable&&t.isTabbable()){p=true}}}return p},onFocusEnter:function(m){var o=this,n=m.toComponent,e;if(!o.enableFocusableContainer||o.destroying||o.destroyed){return null}if(n===o){e=o.initDefaultFocusable();if(e){e.focus();o.activateFocusableContainer(false)}}else{o.activateFocusableContainer(false)}return n},onFocusLeave:function(e){var l=this,m=l.lastFocusedChild;if(!l.enableFocusableContainer||l.destroying||l.destroyed){return}l.clearFocusables();if(m&&!m.disabled){l.activateFocusable(m)}else{l.activateFocusableContainer(true)}},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(g){var k=this;if(!k.enableFocusableContainer||k.destroying||k.destroyed){return}k.clearFocusables();k.activateFocusable(g);if(g.needArrowKeys){k.guardFocusableChild(g)}},guardFocusableChild:function(l){var m=this,o=m.activeChildTabIndex,n;n=m.findNextFocusableChild({child:l,step:-1});if(n){n.setTabIndex(o)}n=m.findNextFocusableChild({child:l,step:1});if(n){n.setTabIndex(o)}},afterFocusableChildFocus:function(g){var k=this;if(!k.enableFocusableContainer||k.destroying||k.destroyed){return}k.lastFocusedChild=g},onFocusableChildAdd:function(f){if(this.enableFocusableContainer){return this.doFocusableChildAdd(f)}},doFocusableChildAdd:function(g){var k=this;if(g.focusable){g.focusableContainer=k;if(!k.$initingItems&&!k.isFocusableContainerActive()){k.activateFocusableContainer(true)}}},onFocusableChildRemove:function(f){if(this.enableFocusableContainer){return this.doFocusableChildRemove(f)}f.focusableContainer=null},doFocusableChildRemove:function(g){var k=this;if(g===k.lastFocusedChild){k.lastFocusedChild=null;k.activateFocusableContainer(true)}g=k.findNextFocusableChild({step:1,beforeRender:true});if(!g){k.activateFocusableContainer(false)}},beforeFocusableChildEnable:Ext.privateFn,onFocusableChildEnable:function(g){var k=this;if(!k.enableFocusableContainer||k.destroying||k.destroyed){return}if(g!==k.lastFocusedChild){k.deactivateFocusable(g);if(!k.isFocusableContainerActive()){k.activateFocusableContainer(true)}}},beforeFocusableChildDisable:function(k){var l=this,m;if(!l.enableFocusableContainer||l.destroying||l.destroyed){return}if(k.hasFocus){m=l.findNextFocusableChild({child:k})||k.findFocusTarget();if(m){m.focus()}}},onFocusableChildDisable:function(l){var m=this,o=m.lastFocusedChild,n;if(!m.enableFocusableContainer||m.destroying||m.destroyed){return}if(l===o){m.activateFocusableContainer(true)}n=m.findNextFocusableChild({step:1});if(!n){m.activateFocusableContainer(false)}},beforeFocusableChildHide:function(f){return this.beforeFocusableChildDisable(f)},onFocusableChildHide:function(f){return this.onFocusableChildDisable(f)},beforeFocusableChildShow:function(f){return this.beforeFocusableChildEnable(f)},onFocusableChildShow:function(f){return this.onFocusableChildEnable(f)},onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn}},0,0,0,0,0,0,[Ext.util,"FocusableContainer"],0));(Ext.cmd.derive("Ext.layout.component.Component",Ext.layout.Layout,{type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,widthCache:{},heightCache:{},beginLayoutCycle:function(E,I){var N=this,F=N.owner,B=E.ownerCtContext,A=E.heightModel,z=E.widthModel,v=F.el.dom===document.body,C=F.lastBox||N.nullBox,L=F.el.lastBox||N.nullBox,H=!v,D=E.isTopLevel,M,K,G,J;Ext.layout.Layout.prototype.beginLayoutCycle.call(this,E,I);if(I){if(N.usesContentWidth){++E.consumersContentWidth}if(N.usesContentHeight){++E.consumersContentHeight}if(N.usesWidth){++E.consumersWidth}if(N.usesHeight){++E.consumersHeight}if(B&&!B.hasRawContent){M=F.ownerLayout;if(M){if(M.usesWidth){++E.consumersWidth}if(M.usesHeight){++E.consumersHeight}}}}if(z.configured){G=F[z.names.width];if(D&&z.calculatedFrom){G=C.width}if(!v){H=N.setWidthInDom||(I?G!==L.width:z.constrained)}E.setWidth(G,H)}else{if(D){if(z.calculated){K=C.width;E.setWidth(K,K!==L.width)}K=C.x;E.setProp("x",K,K!==L.x)}}if(A.configured){J=F[A.names.height];if(D&&A.calculatedFrom){J=C.height}if(!v){H=I?J!==L.height:A.constrained}E.setHeight(J,H)}else{if(D){if(A.calculated){K=C.height;E.setHeight(K,K!==L.height)}K=C.y;E.setProp("y",K,K!==L.y)}}},finishedLayout:function(y){var t=this,q=y.children,z=t.owner,v,x,s,w,u;if(q){v=q.length;for(x=0;x<v;x++){s=q[x];s.el.lastBox=s.props}}y.previousSize=t.lastComponentSize;t.lastComponentSize=z.el.lastBox=u=y.props;w=z.lastBox||(z.lastBox={});w.x=u.x;w.y=u.y;w.width=u.width;w.height=u.height;w.invalid=false;Ext.layout.Layout.prototype.finishedLayout.call(this,y)},notifyOwner:function(m){var n=this,o=n.lastComponentSize,l=m.previousSize;n.owner.afterComponentLayout(o.width,o.height,l?l.width:undefined,l?l.height:undefined)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(n){var o=this,l=o.targetInfo,m;if(!l){m=n.getEl("getTarget",o);o.targetInfo=l={padding:m.getPaddingInfo(),border:m.getBorderInfo()}}return l},measureAutoDimensions:function(M,U){var Q=this,ab=Q.owner,G=ab.layout,Y=M.heightModel,V=M.widthModel,Z=M.boxParent,J=M.isBoxParent,P=M.target,aa=M.props,T,O={gotWidth:false,gotHeight:false,isContainer:(T=!M.hasRawContent)},S=U||3,H,X,R=0,W=0,N,I,F,L,K;if(V.shrinkWrap&&M.consumersContentWidth){++R;H=!(S&1);if(T){if(H){O.contentWidth=0;O.gotWidth=true;++W}else{if((O.contentWidth=M.getProp("contentWidth"))!==undefined){O.gotWidth=true;++W}}}else{I=aa.contentWidth;if(typeof I==="number"){O.contentWidth=I;O.gotWidth=true;++W}else{if(H){N=true}else{if(!M.hasDomProp("containerChildrenSizeDone")){N=false}else{if(J||!Z||Z.widthModel.shrinkWrap){N=true}else{N=Z.hasDomProp("width")}}}if(N){if(H){F=0}else{if(G&&G.measureContentWidth){F=G.measureContentWidth(M)}else{if(P.cacheWidth){L=P.xtype+"-"+P.ui;K=Q.widthCache;F=K[L]||(K[L]=Q.measureContentWidth(M))}else{F=Q.measureContentWidth(M)}}}if(!isNaN(O.contentWidth=F)){M.setContentWidth(F,true);O.gotWidth=true;++W}}}}}else{if(V.natural&&M.consumersWidth){++R;I=aa.width;if(typeof I==="number"){O.width=I;O.gotWidth=true;++W}else{if(J||!Z){N=true}else{N=Z.hasDomProp("width")}if(N){if(!isNaN(O.width=Q.measureOwnerWidth(M))){M.setWidth(O.width,false);O.gotWidth=true;++W}}}}}if(Y.shrinkWrap&&M.consumersContentHeight){++R;X=!(S&2);if(T){if(X){O.contentHeight=0;O.gotHeight=true;++W}else{if((O.contentHeight=M.getProp("contentHeight"))!==undefined){O.gotHeight=true;++W}}}else{I=aa.contentHeight;if(typeof I==="number"){O.contentHeight=I;O.gotHeight=true;++W}else{if(X){N=true}else{if(!M.hasDomProp("containerChildrenSizeDone")){N=false}else{if(ab.noWrap){N=true}else{if(!V.shrinkWrap){N=(M.bodyContext||M).hasDomProp("width")}else{if(J||!Z||Z.widthModel.shrinkWrap){N=true}else{N=Z.hasDomProp("width")}}}}}if(N){if(X){F=0}else{if(G&&G.measureContentHeight){F=G.measureContentHeight(M)}else{if(P.cacheHeight){L=P.xtype+"-"+P.ui;K=Q.heightCache;F=K[L]||(K[L]=Q.measureContentHeight(M))}else{F=Q.measureContentHeight(M)}}}if(!isNaN(O.contentHeight=F)){M.setContentHeight(F,true);O.gotHeight=true;++W}}}}}else{if(Y.natural&&M.consumersHeight){++R;I=aa.height;if(typeof I==="number"){O.height=I;O.gotHeight=true;++W}else{if(J||!Z){N=true}else{N=Z.hasDomProp("width")}if(N){if(!isNaN(O.height=Q.measureOwnerHeight(M))){M.setHeight(O.height,false);O.gotHeight=true;++W}}}}}if(Z){M.onBoxMeasured()}O.gotAll=W===R;return O},measureContentWidth:function(f){return f.el.getWidth()-f.getFrameInfo().width},measureContentHeight:function(f){return f.el.getHeight()-f.getFrameInfo().height},measureOwnerHeight:function(f){return f.el.getHeight()},measureOwnerWidth:function(f){return f.el.getWidth()}},0,0,0,0,0,0,[Ext.layout.component,"Component"],0));(Ext.cmd.derive("Ext.layout.component.Auto",Ext.layout.component.Component,{type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(p,t){var q=this,n=q.lastWidthModel,o=q.lastHeightModel,s=q.owner.el;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(n&&n.fixed&&p.widthModel.shrinkWrap){s.setWidth(null)}if(o&&o.fixed&&p.heightModel.shrinkWrap){s.setHeight(null)}},calculate:function(v){var o=this,p=o.measureAutoDimensions(v),t=v.heightModel,s=v.widthModel,q,u;if(p.gotWidth){if(s.shrinkWrap){o.publishOwnerWidth(v,p.contentWidth)}else{if(o.publishInnerWidth){o.publishInnerWidth(v,p.width)}}}else{if(!s.auto&&o.publishInnerWidth){q=o.waitForOuterWidthInDom?v.getDomProp("width"):v.getProp("width");if(q===undefined){o.done=false}else{o.publishInnerWidth(v,q)}}}if(p.gotHeight){if(t.shrinkWrap){o.publishOwnerHeight(v,p.contentHeight)}else{if(o.publishInnerHeight){o.publishInnerHeight(v,p.height)}}}else{if(!t.auto&&o.publishInnerHeight){u=o.waitForOuterHeightInDom?v.getDomProp("height"):v.getProp("height");if(u===undefined){o.done=false}else{o.publishInnerHeight(v,u)}}}if(!p.gotAll){o.done=false}},calculateOwnerHeightFromContentHeight:function(g,k){return k+g.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(g,k){return k+g.getFrameInfo().width},publishOwnerHeight:function(w,p){var q=this,u=q.owner,v=q.calculateOwnerHeightFromContentHeight(w,p),x,s,t;if(isNaN(v)){q.done=false}else{x=Ext.Number.constrain(v,u.minHeight,u.maxHeight);if(x===v){s=q.setHeightInDom}else{t=q.sizeModels[(x<v)?"constrainedMax":"constrainedMin"];v=x;if(w.heightModel.calculatedFromShrinkWrap){w.heightModel=t}else{w.invalidate({heightModel:t})}}w.setHeight(v,s)}},publishOwnerWidth:function(x,u){var p=this,v=p.owner,q=p.calculateOwnerWidthFromContentWidth(x,u),w,s,t;if(isNaN(q)){p.done=false}else{w=Ext.Number.constrain(q,v.minWidth,v.maxWidth);if(w===q){s=p.setWidthInDom}else{t=p.sizeModels[(w<q)?"constrainedMax":"constrainedMin"];q=w;if(x.widthModel.calculatedFromShrinkWrap){x.widthModel=t}else{x.invalidate({widthModel:t})}}x.setWidth(q,s)}}},0,0,0,0,["layout.autocomponent"],0,[Ext.layout.component,"Auto"],0));(Ext.cmd.derive("Ext.panel.Header",Ext.panel.Bar,{isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",autoEl:{role:"presentation"},beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{xtype:"title",flex:1},merge:function(g,k){if(typeof g!=="object"){g={text:g}}return Ext.merge(k?Ext.Object.chain(k):{},g)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:"x-header",initComponent:function(){var l=this,m=l.items,n=l.itemPosition,o=[l.headerCls];l.tools=l.tools||[];l.items=m=(m?m.slice():[]);if(n!==undefined){l._userItems=m.slice();l.items=m=[]}l.indicateDragCls=l.headerCls+"-draggable";if(l.indicateDrag){o.push(l.indicateDragCls)}l.addCls(o);l.syncNoBorderCls();Ext.Array.push(m,l.tools);l.tools.length=0;Ext.panel.Bar.prototype.initComponent.call(this);l.on({dblclick:l.onDblClick,click:l.onClick,element:"el",scope:l})},addTool:function(k){var g=this;g.add(Ext.ComponentManager.create(k,"tool"));g.checkFocusableTools()},afterLayout:function(){var p=this,m,q,o,n;if(p.vertical){q=p.frameTR;if(q){m=p.frameBR;o=p.frameTL;n=(p.getWidth()-q.getPadding("r")-((o)?o.getPadding("l"):p.el.getBorderWidth("l")))+"px";m.setStyle("background-position-x",n);q.setStyle("background-position-x",n)}}Ext.panel.Bar.prototype.afterLayout.call(this)},applyTitle:function(m,o){var n=this,q,p;m=m||"";q=Ext.isString(m);if(!Ext.isObject(m)){m={text:m.toString()}}if(o){Ext.suspendLayouts();o.setConfig(m);Ext.resumeLayouts(true);m=o}else{if(q){m.xtype="title"}m.ui=n.ui;p=("rotation" in m);m.id=n.id+"-title";if(n.isAccordionHeader){m.ariaRole="tab";m.textElRole=null;m.focusable=true}m=Ext.create(m);if(!p&&n.vertical&&n.titleRotation==="default"){m.rotation=1}}return m},applyTitlePosition:function(g){var k=this.items.getCount();if(this._titleInItems){--k}return Math.max(Math.min(g,k),0)},beforeLayout:function(){Ext.panel.Bar.prototype.beforeLayout.call(this);this.syncBeforeAfterTitleClasses()},beforeRender:function(){var g=this,k=g.itemPosition;g.protoEl.unselectable();Ext.panel.Bar.prototype.beforeRender.call(this);if(k!==undefined){g.insert(k,g._userItems)}g.checkFocusableTools()},checkFocusableTools:function(){var o=this,n=o.tools,m,p,q;if(o.isAccordionHeader){o.enableFocusableContainer=false;return}for(p=0,q=n.length;p<q;p++){if(n[p].focusable){m=true;break}}if(m){if(!o.initialConfig.hasOwnProperty("enableFocusableContainer")||o.enableFocusableContainer){o.ariaRole="toolbar";o.enableFocusableContainer=true;if(o.rendered){o.ariaEl.dom.setAttribute("role","toolbar");o.initFocusableContainer(true)}}}else{o.ariaRole="presentation";o.enableFocusableContainer=false;if(o.rendered){o.ariaEl.dom.setAttribute("role","presentation");o.initFocusableContainer(true)}}},getTools:function(){return this.tools.slice()},onAdd:function(l,m){var k=this.tools;Ext.panel.Bar.prototype.onAdd.call(this,l,m);if(l.isTool){k.push(l);k[l.type]=l}},onAdded:function(l,k,m){this.syncNoBorderCls();Ext.panel.Bar.prototype.onAdded.call(this,l,k,m)},onRemoved:function(l,k,m){this.syncNoBorderCls();Ext.panel.Bar.prototype.onRemoved.call(this,l,k,m)},setDock:function(o){var p=this,m=p.getTitle(),q=p.getTitleRotation(),n=m.getRotation();Ext.suspendLayouts();Ext.panel.Bar.prototype.setDock.call(this,o);if(q==="default"){q=(p.vertical?1:0);if(q!==n){m.setRotation(q)}if(p.rendered){p.resetItemMargins()}}Ext.resumeLayouts(true)},updateGlyph:function(f){this.getTitle().setGlyph(f)},updateIcon:function(f){this.getTitle().setIcon(f)},updateIconAlign:function(g,k){this.getTitle().setIconAlign(g)},updateIconCls:function(f){this.getTitle().setIconCls(f)},updateTitle:function(g,k){if(!k){this.insert(this.getTitlePosition(),g);this._titleInItems=true}this.titleCmp=g},updateTitleAlign:function(g,k){this.getTitle().setTextAlign(g)},updateTitlePosition:function(f){this.insert(f,this.getTitle())},updateTitleRotation:function(f){if(f==="default"){f=(this.vertical?1:0)}this.getTitle().setRotation(f)},privates:{fireClickEvent:function(m,e){var l="."+Ext.panel.Tool.prototype.baseCls;if(!e.getTarget(l)){this.fireEvent(m,this,e)}},getFramingInfoCls:function(){var k=this,l=Ext.panel.Bar.prototype.getFramingInfoCls.call(this),m=k.ownerCt;if(!k.expanding&&m&&(m.collapsed||k.isCollapsedExpander)){l+="-"+m.collapsedCls}return l+"-"+k.dock},onClick:function(e){this.fireClickEvent("click",e)},onDblClick:function(e){this.fireClickEvent("dblclick",e)},syncBeforeAfterTitleClasses:function(B){var v=this,w=v.items,y=w.items,C=v.getTitlePosition(),D=y.length,x=w.generation,u=v.syncBeforeAfterGen,E,z,A,F;if(!B&&(u===x)){return}v.syncBeforeAfterGen=x;for(A=0;A<D;++A){F=y[A];E=F.afterTitleCls||(F.afterTitleCls=F.baseCls+"-after-title");z=F.beforeTitleCls||(F.beforeTitleCls=F.baseCls+"-before-title");if(!v.title||A<C){if(u){F.removeCls(E)}F.addCls(z)}else{if(A>C){if(u){F.removeCls(z)}F.addCls(E)}}}},syncNoBorderCls:function(){var l=this,m=this.ownerCt,k=l.headerCls+"-noborder";if(m?(m.border===false&&!m.frame):l.border===false){l.addCls(k)}else{l.removeCls(k)}}}},0,["header"],["component","box","container","header"],{component:true,box:true,container:true,header:true},["widget.header"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.panel,"Header"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.None",Ext.Base,{alternateClassName:"Ext.layout.boxOverflow.None",factoryConfig:{defaultType:"none"},isBoxOverflowHandler:true,$configPrefixed:false,$configStrict:false,constructor:function(f){this.initConfig(f)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(n){var o=this,m=n.state.boxPlan,l;if(m&&m.tooNarrow){l=o.handleOverflow(n);if(l){if(l.reservedSpace){o.layout.publishInnerCtSize(n,l.reservedSpace)}}}else{o.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(n){var o=this,q=o.layout.owner,p,m;if(q.hasListeners.overflowchange){p=q.query(">[hidden]");m=p.length;if(m!==o.lastHiddenCount){q.fireEvent("overflowchange",o.lastHiddenCount,m,p);o.lastHiddenCount=m}}},onRemove:Ext.emptyFn,getItem:function(f){return this.layout.owner.getComponent(f)},getOwnerType:function(k){var g;if(k.isToolbar){g="toolbar"}else{if(k.isTabBar){g="tab-bar"}else{if(k.isMenu){g="menu"}else{if(k.isBreadcrumb){g="breadcrumb"}else{g=k.getXType()}}}}return g},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var l=this,m=l.layout,k=m.innerCt;k.removeCls(l.getOverflowCls(m.oppositeDirection));k.addCls(l.getOverflowCls(m.direction))}},1,0,0,0,["box.overflow.None","box.overflow.none"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout.container.boxOverflow,"None",Ext.layout.boxOverflow,"None"],0));(Ext.cmd.derive("Ext.util.ClickRepeater",Ext.util.Observable,{constructor:function(l,m){var k=this;k.el=Ext.get(l);k.el.unselectable();Ext.apply(k,m);Ext.util.Observable.prototype.constructor.call(this);if(!k.disabled){k.disabled=true;k.enable()}if(k.handler){k.on("click",k.handler,k.scope||k)}},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE8){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(f){if(f||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.clearListeners()}this.disabled=true},setDisabled:function(f){this[f?"disable":"enable"]()},eventOptions:function(e){if(this.preventDefault){e.preventDefault()}if(this.stopDefault){e.stopEvent()}},destroy:function(){this.disable(true);Ext.util.Observable.prototype.destroy.call(this)},handleDblClick:function(e){clearTimeout(this.timer);this.fireEvent("mousedown",this,e);this.fireEvent("click",this,e)},handleMouseDown:function(e){clearTimeout(this.timer);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,e);this.fireEvent("click",this,e);if(this.accelerate){this.delay=400}this.timer=Ext.defer(this.click,this.delay||this.interval,this,[e]);if(this.mousedownPreventDefault){e.preventDefault()}if(this.mousedownStopEvent){e.stopEvent()}},click:function(e){this.fireEvent("click",this,e);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[e])},easeOutExpo:function(n,o,l,m){return(n===m)?o+l:l*(-Math.pow(2,-10*n/m)+1)+o},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(e){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click(e)},handleMouseUp:function(e){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,e)}},1,0,0,0,0,0,[Ext.util,"ClickRepeater"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.Scroller",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Scroller",animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:"x-box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(k){var g=this;g.mixins.observable.constructor.call(g,k);g.scrollPosition=0;g.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(p){var v=this,o=v.layout,t=o.owner,q=v.getOwnerType(t),u=v.scrollerCls,s=u+" "+u+"-"+o.names[p]+" "+u+"-"+q+" "+u+"-"+q+"-"+t.ui;if(t.plain){s+=" "+u+"-plain"}return s},getOverflowCls:function(f){return this.scrollerCls+"-body-"+f},beginLayout:function(f){f.innerCtScrollPos=this.getScrollPosition();Ext.layout.container.boxOverflow.None.prototype.beginLayout.apply(this,arguments)},finishedLayout:function(q){var s=this,o=q.state.boxPlan,t=s.layout,p=t.names,v=Math.min(s.getMaxScrollPosition(),q.innerCtScrollPos),u;if(o&&o.tooNarrow){u=q.childItems[q.childItems.length-1].props;s.scrollSize=u[p.x]+u[p.width];s.updateScrollButtons();t.innerCt[p.setScrollLeft](v)}Ext.layout.container.boxOverflow.None.prototype.finishedLayout.call(this,q)},handleOverflow:function(y){var t=this,u=t.layout.names,s=u.getWidth,q=u.parallelMargins,x,v,w,z;t.showScrollers();w=t.getBeforeScroller();z=t.getAfterScroller();x=w[s]()+z[s]()+w.getMargin(q)+z.getMargin(q);v=y.targetContext.getPaddingInfo()[u.width];return{reservedSpace:Math.max(x-v,0)}},getBeforeScroller:function(){var f=this;return f._beforeScroller||(f._beforeScroller=f.createScroller(f.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){var f=this;return f._afterScroller||(f._afterScroller=f.createScroller(f.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(o,q,v){var p=this,s=p.layout.owner,t=p.scrollerCls,u;u=s.el.getById(s.id+o);u.addClsOnOver(t+"-hover");u.addClsOnClick(t+"-pressed");u.setVisibilityMode(Ext.Element.DISPLAY);p[q]=new Ext.util.ClickRepeater(u,{interval:p.scrollRepeatInterval,handler:v,scope:p});return u},createWheelListener:function(){var f=this;f.wheelListener=f.layout.innerCt.on("mousewheel",f.onMouseWheel,f,{destroyable:true})},onMouseWheel:function(e){e.stopEvent();this.scrollBy(this.getWheelDelta(e)*this.wheelIncrement*-1,false)},getWheelDelta:function(e){return e.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var f=this;if(!f.wheelListener){f.createWheelListener()}f.getBeforeScroller().show();f.getAfterScroller().show();f.layout.owner.addClsWithUI(f.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){var l=this,k=l.getBeforeScroller(),m=l.getAfterScroller();if(k){k.hide();m.hide();l.layout.owner.removeClsWithUI(l.layout.direction==="vertical"?"vertical-scroller":"scroller")}},destroy:function(){Ext.destroyMembers(this,"beforeRepeater","afterRepeater","_beforeScroller","_afterScroller","wheelListener");this.callParent()},scrollBy:function(g,k){this.scrollTo(this.getScrollPosition()+g,k)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var n=this,l=n.getBeforeScroller(),o=n.getAfterScroller(),m;if(!l||!o){return}m=n.scrollerCls+"-disabled";l[n.atExtremeBefore()?"addCls":"removeCls"](m);o[n.atExtremeAfter()?"addCls":"removeCls"](m);n.scrolling=false},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var k=this,l=k.layout,m;if(isNaN(k.scrollPosition)){m=l.innerCt[l.names.getScrollLeft]()}else{m=k.scrollPosition}return m},getMaxScrollPosition:function(){var l=this,m=l.layout,k=l.scrollSize-m.innerCt.lastBox[m.names.width];return(k<0)?0:k},atExtremeBefore:function(){return !this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var o=this,n=o.getBeforeScroller(),p=o.getAfterScroller(),m=o.layout.names,q=o.scrollerCls;n.removeCls(q+"-"+m.beforeY);p.removeCls(q+"-"+m.afterY);n.addCls(q+"-"+m.beforeX);p.addCls(q+"-"+m.afterX);Ext.layout.container.boxOverflow.None.prototype.setVertical.call(this)},scrollTo:function(u,t){var o=this,p=o.layout,v=p.names,q=o.getScrollPosition(),s=Ext.Number.constrain(u,0,o.getMaxScrollPosition());if(s!==q&&!o.scrolling){o.scrollPosition=NaN;if(t===undefined){t=o.animateScroll}p.innerCt[v.scrollTo](v.beforeScrollX,s,t?o.getScrollAnim():false);if(t){o.scrolling=true}else{o.updateScrollButtons()}o.fireEvent("scroll",o,s,t?o.getScrollAnim():false)}},scrollToItem:function(s,z){var t=this,w=t.layout,y=w.owner,u=w.names,A=w.innerCt,B,x,v;s=t.getItem(s);if(s!==undefined){if(s===y.items.first()){v=0}else{if(s===y.items.last()){v=t.getMaxScrollPosition()}else{B=t.getItemVisibility(s);if(!B.fullyVisible){x=s.getBox(false,true);v=x[u.x];if(B.hiddenEnd){v-=(A[u.getWidth]()-x[u.width])}}}}if(v!==undefined){t.scrollTo(v,z)}}},getItemVisibility:function(q){var t=this,y=t.getItem(q).getBox(true,true),x=t.layout,u=x.names,v=y[u.x],w=v+y[u.width],z=t.getScrollPosition(),s=z+x.innerCt[u.getWidth]();return{hiddenStart:v<z,hiddenEnd:w>s,fullyVisible:v>=z&&w<=s}}},1,0,0,0,["box.overflow.Scroller","box.overflow.scroller"],[["observable",Ext.mixin.Observable]],[Ext.layout.container.boxOverflow,"Scroller",Ext.layout.boxOverflow,"Scroller"],0));(Ext.cmd.derive("Ext.dd.DragDropManager",Ext.Base,{singleton:true,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:false,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,dragCls:"x-dd-drag-current",currentPoint:new Ext.util.Point(),_execOnAll:function(s,t){var p=this.ids,q,u,v,o;for(q in p){if(p.hasOwnProperty(q)){o=p[q];for(u in o){if(o.hasOwnProperty(u)){v=o[u];if(!this.isTypeOfDD(v)){continue}v[s].apply(v,t)}}}}},addListeners:function(){var f=this;f.init();Ext.getWin().on({unload:f._onUnload,resize:f._onResize,scope:f})},_onResize:function(e){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:8,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(g,k){if(!this.initialized){this.init()}if(!this.ids[k]){this.ids[k]={}}this.ids[k][g.id]=g},removeDDFromGroup:function(k,m){if(!this.ids[m]){this.ids[m]={}}var l=this.ids[m];if(l&&l[k.id]){delete l[k.id]}},_remove:function(t,q){var g=this,p=g.ids,s=t.groups,o;if(g.clearingAll){return}if(g.dragCurrent===t){g.dragCurrent=null}for(o in s){if(s.hasOwnProperty(o)){if(q){delete p[o]}else{if(p[o]){delete p[o][t.id]}}}}delete g.handleIds[t.id];delete g.locationCache[t.id]},regHandle:function(g,k){if(!this.handleIds[g]){this.handleIds[g]={}}this.handleIds[g][k]=k},isDragDrop:function(f){return(this.getDDById(f))?true:false},getRelated:function(n,s){var o=[],p,q,t;for(p in n.groups){for(q in this.ids[p]){t=this.ids[p][q];if(!this.isTypeOfDD(t)){continue}if(!s||t.isTarget){o[o.length]=t}}}return o},isLegalTarget:function(m,n){var p=this.getRelated(m,true),o,q;for(o=0,q=p.length;o<q;++o){if(p[o].id===n.id){return true}}return false},isTypeOfDD:function(f){return(f&&f.__ygDragDrop)},isHandle:function(g,k){return(this.handleIds[g]&&this.handleIds[g][k])},getDDById:function(l,m){var n,o;for(n in this.ids){o=this.ids[n][l];if(o instanceof Ext.dd.DDTarget||m){return o}}return null},handleMouseDown:function(w,x){var v=this,e=w.getXY(),z=x.getEl(),t={translate:false,fn:v.handleMouseUp,capture:false,priority:-1000},y={translate:false,fn:v.handleMouseMove,capture:false},u={capture:true,destroyable:true,scope:v},s=Ext.supports;u.touchstart=v.handleMouseUp;if(s.PointerEvents){u.pointerup=t;u.pointermove=y}else{if(s.MSPointerEvents){u.mouseup=t;u.mousemove=y}else{if(w.pointerType==="mouse"){u.mouseup=t;u.mousemove=y}else{u.touchend=t;u.touchmove=y}}}v.pointerMoveListeners=Ext.getDoc().on(u);v.isMouseDown=true;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}v.currentPoint.setPosition(e);if(v.dragCurrent){v.handleMouseUp(w)}v.mousedownEvent=w;v.currentTarget=w.getTarget();v.dragCurrent=x;Ext.fly(z).setCapture();v.startX=e[0];v.startY=e[1];v.offsetX=v.offsetY=0;v.deltaX=v.startX-z.offsetLeft;v.deltaY=v.startY-z.offsetTop;v.dragThreshMet=false},startDrag:function(p,m){var o=this,n=o.dragCurrent,q;clearTimeout(o.clickTimeout);if(n){n.b4StartDrag(p,m);n.startDrag(p,m);q=Ext.fly(n.getDragEl());if(q){q.addCls(o.dragCls);if(q.shim&&q.shim.el){q.shim.el.addCls(o.dragCls)}}}o.dragThreshMet=true},handleMouseUp:function(e){var k=this;k.pointerMoveListeners.destroy();k.isMouseDown=false;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!k.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(k.clickTimeout);if(k.dragThreshMet){k.fireEvents(e,true)}k.stopDrag(e);if(k.dragThreshMet){k.stopEvent(e)}k.mousedownEvent=k.currentTarget=null},stopEvent:function(e){if(this.stopPropagation){e.stopPropagation()}if(this.preventDefault&&e.pointerType==="touch"){e.preventDefault()}},stopDrag:function(e){var n=this,m=n.dragCurrent,o;if(m){if(n.dragThreshMet){o=Ext.fly(m.getDragEl());if(o){o.removeCls(n.dragCls);if(o.shim&&o.shim.el){o.shim.el.removeCls(n.dragCls)}}m.b4EndDrag(e);m.endDrag(e)}n.dragCurrent.onMouseUp(e)}n.dragCurrent=null;n.dragOvers={}},handleMouseMove:function(v){var x=this,w=x.dragCurrent,u=v.getXY(),q=u[0],t=u[1],e,s;x.offsetX=q-x.startX;x.offsetY=t-x.startY;x.currentPoint.setPosition(u);if(!w){return true}if(!x.dragThreshMet){e=Math.abs(x.offsetX);s=Math.abs(x.offsetY);if(e>x.clickPixelThresh||s>x.clickPixelThresh){v.claimGesture();x.startDrag(x.startX,x.startY)}}if(x.dragThreshMet){w.b4Drag(v);w.onDrag(v);if(!w.moveOnly){x.fireEvents(v,false)}}x.stopEvent(v);return true},fireEvents:function(N,J){var K=this,I=Ext.supports.Touch,R=K.dragCurrent,D=K.currentPoint,H=[],Q=[],O=[],V=[],L=[],e=[],T,S,M,U,F,E,G,P;if(!R||R.isLocked()){return}P=!(R.deltaX<0||R.deltaY<0);if(I||(!K.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&P)){T=R.getDragEl();if(P){T.style.visibility="hidden"}N=N.chain({target:K.elementFromPoint(N.clientX,N.clientY)||document.documentElement});if(P){T.style.visibility="visible"}}for(F in K.dragOvers){S=K.dragOvers[F];delete K.dragOvers[F];if(!K.isTypeOfDD(S)||S.destroyed){continue}if(J){O.push(S)}else{if(K.notifyOccluded){if(!this.isOverTarget(D,S,K.mode)){O.push(S)}}else{if(!N.within(S.getEl())){O.push(S)}}}Q[F]=true}for(G in R.groups){if("string"!==typeof G){continue}for(F in K.ids[G]){S=K.ids[G][F];if(K.isTypeOfDD(S)&&(M=S.getEl())&&(S.isTarget)&&(!S.isLocked())&&(Ext.fly(M).isVisible(true))&&((S!==R)||(R.ignoreSelf===false))){if(K.notifyOccluded){if((S.zIndex=K.getZIndex(M))!==-1){U=true}H.push(S)}else{if(N.within(S.getEl())){H.push(S);break}}}}}if(U){Ext.Array.sort(H,K.byZIndex)}for(F=0,E=H.length;F<E;F++){S=H[F];if(K.isOverTarget(D,S,K.mode)){if(J){L.push(S)}else{if(!Q[S.id]){e.push(S)}else{V.push(S)}K.dragOvers[S.id]=S}if(!K.notifyOccluded){break}}}if(K.mode){if(e.length){R.onDragEnter(N,e)}if(V.length){R.b4DragOver(N,V);R.onDragOver(N,V)}if(L.length){R.b4DragDrop(N,L);R.onDragDrop(N,L)}if(O.length){R.b4DragOut(N,O);R.onDragOut(N,O)}}else{for(F=0,E=e.length;F<E;++F){R.onDragEnter(N,e[F].id)}for(F=0,E=V.length;F<E;++F){R.b4DragOver(N,V[F].id);R.onDragOver(N,V[F].id)}for(F=0,E=L.length;F<E;++F){R.b4DragDrop(N,L[F].id);R.onDragDrop(N,L[F].id)}for(F=0,E=O.length;F<E;++F){R.b4DragOut(N,O[F].id);R.onDragOut(N,O[F].id)}}if(J&&!L.length){R.onInvalidDrop(N)}},elementFromPoint:function(k,g){if(Ext.rootInheritedState.rtl){k=Ext.Element.getViewportWidth()-k}return Ext.Element.fromPoint(k,g,true)},getZIndex:function(n){var o=document.body,m,l=-1;n=Ext.getDom(n);while(n!==o){if(!isNaN(m=Number(Ext.fly(n).getStyle("zIndex")))){l=m}n=n.parentNode}return l},byZIndex:function(g,k){return g.zIndex<k.zIndex},getBestMatch:function(o){var m=null,p=o.length,n,q;if(p===1){m=o[0]}else{for(n=0;n<p;++n){q=o[n];if(q.cursorIsOver){m=q;break}else{if(!m||m.overlap.getArea()<q.overlap.getArea()){m=q}}}}return m},refreshCache:function(p){var q,o,n,m;for(q in p){if("string"!==typeof q){continue}for(o in this.ids[q]){n=this.ids[q][o];if(this.isTypeOfDD(n)){m=this.getLocation(n);if(m){this.locationCache[n.id]=m}else{delete this.locationCache[n.id]}}}}},verifyEl:function(f){return Ext.getBody().contains(f)},getLocation:function(t){if(!this.isTypeOfDD(t)){return null}if(t.getRegion){return t.getRegion()}var y=t.getEl(),F,z,A,D,E,C,B,e,x;try{F=Ext.fly(y).getXY()}catch(l){}if(!F){return null}z=F[0];A=z+y.offsetWidth;D=F[1];E=D+y.offsetHeight;C=D-t.padding[0];B=A+t.padding[1];e=E+t.padding[2];x=z-t.padding[3];return new Ext.util.Region(C,B,e,x)},isOverTarget:function(q,z,x){var v=this.locationCache[z.id],s,u,y,w,t;if(!v||!this.useCache){v=this.getLocation(z);this.locationCache[z.id]=v}if(!v){return false}z.cursorIsOver=v.contains(q);s=this.dragCurrent;if(!s||!s.getTargetCoord||(!x&&!s.constrainX&&!s.constrainY)){return z.cursorIsOver}z.overlap=null;u=s.getTargetCoord(q.x,q.y);y=s.getDragEl();w=new Ext.util.Region(u.y,u.x+y.offsetWidth,u.y+y.offsetHeight,u.x);t=w.intersect(v);if(t){z.overlap=t;return(x)?true:z.cursorIsOver}else{return false}},_onUnload:function(e,k){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var k=this,m=k.elementCache,l;if(k.dragCurrent){k.stopDrag();k.dragCurrent=null}k.clearingAll=true;k._execOnAll("unreg",[]);delete k.clearingAll;for(l in m){delete m[l]}k.elementCache={};k.ids={};k.handleIds={}},elementCache:{},getElWrapper:function(g){var k=this.elementCache[g];if(!k||!k.el){k=this.elementCache[g]=new this.ElementWrapper(Ext.getDom(g))}return k},getElement:function(f){return Ext.getDom(f)},getCss:function(g){var k=Ext.getDom(g);return(k)?k.style:null},ElementWrapper:function(f){this.el=f||null;this.id=this.el&&f.id;this.css=this.el&&f.style},getPosX:function(f){return Ext.fly(f).getX()},getPosY:function(f){return Ext.fly(f).getY()},swapNode:function(m,o){if(m.swapNode){m.swapNode(o)}else{var l=o.parentNode,n=o.nextSibling;if(n===m){l.insertBefore(m,o)}else{if(o===m.nextSibling){l.insertBefore(o,m)}else{m.parentNode.replaceChild(o,m);l.insertBefore(m,n)}}}},getScroll:function(){var n=window.document,m=n.documentElement,q=n.body,o=0,p=0;if(m&&(m.scrollTop||m.scrollLeft)){o=m.scrollTop;p=m.scrollLeft}else{if(q){o=q.scrollTop;p=q.scrollLeft}}return{top:o,left:p}},getStyle:function(g,k){return Ext.fly(g).getStyle(k)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(m,k){var l=Ext.fly(k).getXY();Ext.fly(m).setXY(l)},numericSort:function(g,k){return(g-k)},handleWasClicked:function(m,k){if(this.isHandle(k,m.id)){return true}else{var l=m.parentNode;while(l){if(this.isHandle(k,l.id)){return true}else{l=l.parentNode}}}return false}},0,0,0,0,0,0,[Ext.dd,"DragDropManager",Ext.dd,"DragDropMgr",Ext.dd,"DDM"],function(f){Ext.onInternalReady(function(){f.addListeners()})}));(Ext.cmd.derive("Ext.resizer.Splitter",Ext.Component,{childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',"x-","collapse-el ","x-",'layout-split-{collapseDir}{childElCls}">',"</div>","</tpl>"],isSplitter:true,baseCls:"x-splitter",collapsedClsInternal:"x-splitter-collapsed",canResize:true,collapsible:null,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1000,collapseTarget:"next",horizontal:false,vertical:false,touchAction:undefined,size:5,tracker:null,ariaRole:"separator",focusable:true,tabIndex:0,applyTouchAction:function(k,g){if(k===undefined){k=this.vertical?{panX:false}:{panY:false}}return Ext.Component.prototype.applyTouchAction.call(this,k,g)},getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var m=this,l=m.getCollapseTarget(),n=m.collapsible,o;Ext.Component.prototype.beforeRender.call(this);if(l.collapsed){m.addCls(m.collapsedClsInternal)}if(!m.canResize){m.addCls(m.baseCls+"-noresize")}Ext.applyIf(m.renderData,{collapseDir:m.getCollapseDirection(),collapsible:(n!==null)?n:l.collapsible});m.ariaRenderAttributes=m.ariaRenderAttributes||{};m.ariaRenderAttributes["aria-orientation"]=m.orientation;m.protoEl.unselectable()},onRender:function(){var l=this,k,m;Ext.Component.prototype.onRender.apply(this,arguments);if(l.performCollapse!==false){if(l.renderData.collapsible){l.mon(l.collapseEl,"click",l.toggleTargetCmp,l)}if(l.collapseOnDblClick){l.mon(l.el,"dblclick",l.toggleTargetCmp,l)}}k=l.getCollapseTarget();if(k&&k.isPanel){k.on({collapse:l.onTargetCollapse,expand:l.onTargetExpand,beforeexpand:l.onBeforeTargetExpand,beforecollapse:l.onBeforeTargetCollapse,scope:l})}if(l.canResize){l.tracker=Ext.create(l.getTrackerConfig());l.relayEvents(l.tracker,["beforedragstart","dragstart","dragend"])}m=l.collapseEl;if(m){m.lastCollapseDirCls=l.collapseDirProps[l.collapseDirection].cls}},getCollapseDirection:function(){var n=this,q=n.collapseDirection,o,t,s,p;if(!q){o=n.collapseTarget;if(o.isComponent){q=o.collapseDirection}if(!q){p=n.ownerCt.layout.type;if(o.isComponent){s=n.ownerCt.items;t=Number(s.indexOf(o)===s.indexOf(n)-1)<<1|Number(p==="hbox")}else{t=Number(n.collapseTarget==="prev")<<1|Number(p==="hbox")}q=["bottom","right","top","left"][t]}n.collapseDirection=q}n.setOrientation((q==="top"||q==="bottom")?"horizontal":"vertical");return q},getCollapseTarget:function(){var f=this;return f.collapseTarget.isComponent?f.collapseTarget:f.collapseTarget==="prev"?f.previousSibling():f.nextSibling()},setCollapseEl:function(g){var k=this.collapseEl;if(k){k.setDisplayed(g)}},onBeforeTargetExpand:function(f){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(g){var k=this;if(g===k.getCollapseTarget()&&g[k.orientation==="vertical"?"collapsedHorizontal":"collapsedVertical"]()){k.el.addCls(k.collapsedClsInternal+" "+(k.collapsedCls||""))}k.setCollapseEl("")},onTargetExpand:function(g){var k=this;k.el.removeCls(k.collapsedClsInternal+" "+(k.collapsedCls||""));k.setCollapseEl("")},collapseDirProps:{top:{cls:"x-layout-split-top"},right:{cls:"x-layout-split-right"},bottom:{cls:"x-layout-split-bottom"},left:{cls:"x-layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var m=this,n=m.collapseEl,l=m.collapseDirProps[m.collapseDirection],o;if(n){o=n.lastCollapseDirCls;if(o){n.removeCls(o)}n.addCls(n.lastCollapseDirCls=l.cls)}},applyOrientation:function(){var p=this,s=p.orientation,q=p.orientationProps[s],o=p.size,t=q.fixedAxis,v=q.stretchedAxis,u=p.baseCls+"-";p[s]=true;p[q.opposite]=false;if(!p.hasOwnProperty(t)||p[t]==="100%"){p[t]=o}if(!p.hasOwnProperty(v)||p[v]===o){p[v]="100%"}p.removeCls(u+q.opposite);p.addCls(u+s)},setOrientation:function(k){var g=this;if(g.orientation!==k){g.orientation=k;g.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(n,p){var o=this.getCollapseTarget(),e=o.placeholder,q;if(Ext.isFunction(o.expand)&&Ext.isFunction(o.collapse)){if(e&&!e.hidden){q=true}else{q=!o.hidden}if(q){if(o.collapsed||o.floatedFromCollapse){o.expand()}else{if(o.collapseDirection){o.collapse()}else{o.collapse(this.renderData.collapseDir)}}}}},setSize:function(){var f=this;Ext.Component.prototype.setSize.apply(this,arguments);if(Ext.isIE&&f.el){f.el.repaint()}},doDestroy:function(){Ext.destroy(this.tracker);Ext.Component.prototype.doDestroy.call(this)}},0,["splitter"],["component","box","splitter"],{component:true,box:true,splitter:true},["widget.splitter"],0,[Ext.resizer,"Splitter"],0));Ext.define("Ext.theme.neptune.resizer.Splitter",{override:"Ext.resizer.Splitter",size:8});Ext.define("Ext.theme.triton.resizer.Splitter",{override:"Ext.resizer.Splitter",size:10});(Ext.cmd.derive("Ext.layout.container.Box",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BoxLayout",type:"box",config:{align:"begin",constrainAlign:false,enableSplitters:true,overflowHandler:{$value:null,merge:function(g,k){if(typeof g==="string"){g={type:g}}return Ext.merge(k?Ext.Object.chain(k):{},g)}},padding:0,pack:"start",stretchMaxPartner:undefined,vertical:false,alignRoundingMethod:"round"},itemCls:"x-box-item",targetCls:"x-box-layout-ct",targetElCls:"x-box-target",innerCls:"x-box-inner",manageMargins:true,createsInnerCt:true,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div></div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(m){var k=this,l;Ext.layout.container.Container.prototype.constructor.call(this,m);k.setVertical(k.vertical);k.flexSortFn=k.flexSort.bind(k);l=typeof k.padding;if(l==="string"||l==="number"){k.padding=Ext.util.Format.parseBox(k.padding);k.padding.height=k.padding.top+k.padding.bottom;k.padding.width=k.padding.left+k.padding.right}},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(K,J){var P=this,A=P.sizePolicy,C=P.align,D=K.flex,M=C,z=P.names,B=z.height,N=z.width,H=K[N],L=K[B],F=P._percentageRe,G=F.test(H),E=(C==="stretch"),I=(C==="stretchmax"),O=P.constrainAlign;if(!J&&(E||D||G||(O&&!I))){J=P.owner.getSizeModel()}if(E){if(!F.test(L)&&J[B].shrinkWrap){M="stretchmax"}}else{if(!I){if(F.test(L)){M="stretch"}else{if(O&&!J[B].shrinkWrap){M="stretchmax"}else{M=""}}}}if(D||G){if(!J[N].shrinkWrap){A=A.flex}}return A[M]},flexSort:function(M,N){var z=this.names.maxWidth,F=this.names.minWidth,y=Infinity,A=M.target,J=N.target,C=A.flex,D=J.flex,I=0,H,L,B,G,K,E;B=A[z]||y;G=J[z]||y;H=A[F]||0;L=J[F]||0;K=isFinite(H)||isFinite(L);E=isFinite(B)||isFinite(G);if(K||E){if(E){I=B-G}if(I===0&&K){I=L-H}if(I===0){if(E){I=D-C}else{I=C-D}}}return I},isItemBoxParent:function(f){return true},isItemShrinkWrap:function(f){return true},roundFlex:function(f){return Math.floor(f)},beginCollapse:function(g){var k=this;if(k.direction==="vertical"&&g.collapsedVertical()){g.collapseMemento.capture(["flex"]);delete g.flex}else{if(k.direction==="horizontal"&&g.collapsedHorizontal()){g.collapseMemento.capture(["flex"]);delete g.flex}}},beginExpand:function(f){f.collapseMemento.restore(["flex"])},beginLayout:function(p){var q=this,u=q.owner,v=u.stretchMaxPartner,s=q.innerCt.dom.style,o=q.names,t=q.overflowHandler;p.boxNames=o;if(t){t.beginLayout(p)}if(typeof v==="string"){v=Ext.getCmp(v)||u.query(v)[0]}p.stretchMaxPartner=v&&p.context.getCmp(v);Ext.layout.container.Container.prototype.beginLayout.call(this,p);p.innerCtContext=p.getEl("innerCt",q);p.targetElContext=p.getEl("targetEl",q);p.ownerScrollable=u.getScrollable();s.width=s.height=""},beginLayoutCycle:function(B,F){var v=this,E=B.state,H=B.ownerScrollable,x=v.align,w=B.boxNames,G=v.pack,C=v._centerRe,A=v.overflowHandler,D=B.state.canScroll,y,z;if(A){A.beginLayoutCycle(B,F)}Ext.layout.container.Container.prototype.beginLayoutCycle.call(this,B,F);B.parallelSizeModel=y=B[w.widthModel];B.perpendicularSizeModel=z=B[w.heightModel];B.boxOptions={align:x={stretch:x==="stretch",stretchmax:x==="stretchmax",center:C.test(x),bottom:v._endRe.test(x)},pack:G={center:C.test(G),end:G==="end"}};if(H){if(!D){E.canScroll={parallel:!y.shrinkWrap&&H[w.getX](),perpendicular:!z.shrinkWrap&&H[w.getY]()}}if(!E.actualScroll){E.actualScroll={parallel:false,perpendicular:false}}}if(x.stretch&&z.shrinkWrap){x.stretchmax=true;x.stretch=false}x.nostretch=!(x.stretch||x.stretchmax);if(y.shrinkWrap){G.center=G.end=false}v.cacheFlexes(B);v.targetEl.setWidth(20000)},cacheFlexes:function(T){var M=this,S=T.boxNames,ah=S.widthModel,ab=S.heightModel,af=T.boxOptions.align.nostretch,I=0,ag=T.childItems,W=ag.length,P=[],Q=0,V=0,J=0,X=S.minWidth,R=S.minHeight,aa=M._percentageRe,U=0,O=0,ac,L,Z,Y,ae,ad,K,N;while(W--){L=ag[W];ac=L.target;ad=L[ah];if(ad.calculated){L.flex=Z=ac.flex;if(Z){I+=Z;P.push(L);Q+=ac[X]||0}else{if((Y=aa.exec(ac[S.width]))){L.percentageParallel=parseFloat(Y[1])/100;++U}}}if(ad.configured){K=ac[S.width]}else{K=ac[X]||0}J+=K;ae=L[ab];if(af&&ae.calculated){Y=aa.exec(ac[S.height]);L.percentagePerpendicular=parseFloat(Y[1])/100;++O}if(ae.configured){N=ac[S.height]}else{N=ac[R]||0}if(N>V){V=N}}T.flexedItems=P;T.flexedMinWidth=Q;T.smallestWidth=J;T.smallestHeight=V;T.totalFlex=I;T.percentageWidths=U;T.percentageHeights=O;Ext.Array.sort(P,M.flexSortFn)},calculate:function(x){var t=this,u=x.boxNames,z=x.state,v=z.actualScroll,q=z.needsScroll,y=z.canScroll,s=z.boxPlan||(z.boxPlan={}),w=t.overflowHandler;s.targetSize=t.getContainerSize(x);if(y&&!q){z.needsScroll=q={parallel:y.parallel&&s.targetSize[u.width]<x.smallestWidth,perpendicular:y.perpendicular&&s.targetSize[u.height]<x.smallestHeight}}if(!z.parallelDone){z.parallelDone=t.calculateParallel(x,u,s)}if(!z.perpendicularDone){z.perpendicularDone=t.calculatePerpendicular(x,u,s)}if(z.parallelDone&&z.perpendicularDone){if(y&&!z.scrollPass){if(q.parallel!==v.parallel||q.perpendicular!==v.perpendicular){x.invalidate({state:{scrollPass:true,canScroll:y,needsScroll:v}});t.done=false;return}}t.publishInnerCtSize(x);if(t.done&&x.boxOptions.align.stretchmax&&!z.stretchMaxDone){t.calculateStretchMax(x,u,s);z.stretchMaxDone=true}if(w){w.calculate(x)}}else{t.done=false}},calculateParallel:function(ai,U,ad){var ao=this,ar=ai.parallelSizeModel.shrinkWrap,ac=U.width,ay=ai.childItems,am=U.beforeX,Y=U.afterX,av=U.setWidth,af=ay.length,aj=ai.flexedItems,Z=aj.length,ap=ai.boxOptions.pack,X=ao.padding,aD=ad.targetSize,aq=aD[ac],T=ai.state,ag=T.needsScroll,an=T.canScroll,ae=0,ax=X[am],aa=ax+X[Y],al=Ext.getScrollbarSize(),aA=al[U.width],aE=al[U.height],W,ah,az,au,at,aw,aC,V,ab,ak,aB;if(!ar&&!aD[U.gotWidth]){return false}for(W=0;W<af;++W){at=ay[W];ah=at.marginInfo||at.getMarginInfo();ae+=ah[ac];if(!at[U.widthModel].calculated){ab=at.getProp(ac);aa+=ab;if(isNaN(aa)){return false}}}aa+=ae;if(ai.percentageWidths){ak=aq-ae;if(isNaN(ak)){return false}for(W=0;W<af;++W){at=ay[W];if(at.percentageParallel){ab=Math.ceil(ak*at.percentageParallel);ab=at[av](ab);aa+=ab}}}if(ar){aB=0;ad.tooNarrow=false}else{aB=aq-aa;if(ag&&ag.perpendicular){aB-=aE}ad.tooNarrow=aB<ai.flexedMinWidth;if(ad.tooNarrow&&an&&an.parallel){T.actualScroll.parallel=true}}V=aa;az=aB;au=ai.totalFlex;for(W=0;W<Z;W++){at=aj[W];aw=at.flex;aC=ao.roundFlex((aw/au)*az);aC=at[av](aC);V+=aC;az=Math.max(0,az-aC);au-=aw}if(ap.center){ax+=az/2;if(ax<0){ax=0}}else{if(ap.end){ax+=az}}for(W=0;W<af;++W){at=ay[W];ah=at.marginInfo;ax+=ah[am];at.setProp(U.x,ax);ax+=ah[Y]+at.props[ac]}V+=ai.targetContext.getPaddingInfo()[ac];ai.state.contentWidth=V;if(ag&&ag.perpendicular){if(ar){V+=aA}ai[U.hasOverflowY]=true;ai.target.componentLayout[U.setWidthInDom]=true;ai[U.invalidateScrollY]=Ext.isIE8}ai[U.setContentWidth](V);return true},calculatePerpendicular:function(at,ab,am){var av=this,X=at.state,aq=X.needsScroll,au=X.canScroll,aJ=at.perpendicularSizeModel.shrinkWrap,aL=am.targetSize,aF=at.childItems,an=aF.length,aC=Math.max,aD=ab.height,aB=ab.setHeight,aG=ab.beforeY,aw=ab.y,ae=av.padding,aE=ae[aG],aA=aL[aD]-aE-ae[ab.afterY],ah=at.boxOptions.align,az=ah.stretch,ay=ah.stretchmax,Y=ah.center,Z=ah.bottom,af=av.constrainAlign,ag=0,ak=0,ai=av.onBeforeConstrainInvalidateChild,al=av.onAfterConstrainInvalidateChild,aM=Ext.getScrollbarSize().height,ao,ad,aj,ar,ap,aK,ax,aI,aa,ac,aH;if(!aJ&&!aL[ab.gotHeight]){return false}if(az||((Y||Z)&&!aJ)){if(isNaN(aA)){return false}}if(aq&&aq.parallel){if(aJ){ac=true}else{aA-=aM;am.targetSize[aD]-=aM}}if(az){aK=aA;ag=aC(aK,at.smallestHeight)}else{for(ad=0;ad<an;ad++){ax=aF[ad];ar=(ax.marginInfo||ax.getMarginInfo())[aD];if(!(aH=ax.percentagePerpendicular)){aj=ax.getProp(aD)}else{++ak;if(aJ){continue}else{aj=aH*aA-ar;aj=ax[aB](aj)}}if(!aJ&&af&&ax[ab.heightModel].shrinkWrap&&aj>aA){ax.invalidate({before:ai,after:al,layout:av,childHeight:aA,names:ab});at.state.parallelDone=false}if(isNaN(ag=aC(ag,aj+ar,ax.target[ab.minHeight]||0))){return false}}}if(ac){ag+=aM;at[ab.hasOverflowX]=true;at.target.componentLayout[ab.setHeightInDom]=true;at[ab.invalidateScrollX]=Ext.isIE8}aI=at.stretchMaxPartner;if(aI){at.setProp("maxChildHeight",ag);aa=aI.childItems;if(aa&&aa.length){ag=aC(ag,aI.getProp("maxChildHeight"));if(isNaN(ag)){return false}}}at[ab.setContentHeight](ag+av.padding[aD]+at.targetContext.getPaddingInfo()[aD]);if(ac){ag-=aM}if(ag>aL[aD]&&au&&au.perpendicular){X.actualScroll.perpendicular=true}am.maxSize=ag;if(ay){aK=ag}else{if(Y||Z||ak){if(af){aK=aJ?ag:aA}else{aK=aJ?ag:aC(aA,ag)}aK-=at.innerCtContext.getBorderInfo()[aD]}}for(ad=0;ad<an;ad++){ax=aF[ad];ar=ax.marginInfo||ax.getMarginInfo();ao=aE+ar[aG];if(az){ax[aB](aK-ar[aD])}else{aH=ax.percentagePerpendicular;if(aJ&&aH){ar=ax.marginInfo||ax.getMarginInfo();aj=aH*aK-ar[aD];aj=ax[aB](aj)}if(Y){ap=aK-ax.props[aD];if(ap>0){ao=aE+Math[av.alignRoundingMethod](ap/2)}}else{if(Z){ao=aC(0,aK-ao-ax.props[aD])}}}ax.setProp(aw,ao)}return true},onBeforeConstrainInvalidateChild:function(l,m){var k=m.names.heightModel;if(!l[k].constrainedMin){l[k]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(l,m){var k=m.names;l.setProp(k.beforeY,0);if(l[k.heightModel].calculated){l[k.setHeight](m.childHeight)}},calculateStretchMax:function(E,y,L){var x=this,A=y.height,K=y.width,B=E.childItems,G=B.length,I=L.maxSize,J=x.onBeforeStretchMaxInvalidateChild,C=x.onAfterStretchMaxInvalidateChild,H,z,D,F;for(D=0;D<G;++D){H=B[D];z=H.props;F=I-H.getMarginInfo()[A];if(F!==z[A]||H[y.heightModel].constrained){H.invalidate({before:J,after:C,layout:x,childWidth:z[K],childHeight:F,childX:z.x,childY:z.y,names:y})}}},onBeforeStretchMaxInvalidateChild:function(l,m){var k=m.names.heightModel;if(!l[k].constrainedMax){l[k]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(n,o){var m=o.names,q=o.childHeight,p=o.childWidth;n.setProp("x",o.childX);n.setProp("y",o.childY);if(n[m.heightModel].calculated){n[m.setHeight](q)}if(n[m.widthModel].calculated){n[m.setWidth](p)}},completeLayout:function(A){var t=this,u=A.invalidateScrollX,v=A.invalidateScrollY,z=t.overflowHandler,x,B,w,y,s;if(z){z.completeLayout(A)}if(u||v){B=t.getTarget();x=B.dom;s=x.style;if(u){w=B.getStyle("overflowX");if(w==="auto"){w=s.overflowX;s.overflowX="scroll"}else{u=false}}if(v){y=B.getStyle("overflowY");if(y==="auto"){y=s.overflowY;s.overflowY="scroll"}else{v=false}}if(u||v){x.scrollWidth;if(u){s.overflowX=w}if(v){s.overflowY=y}}}},finishedLayout:function(g){var k=this.overflowHandler;if(k){k.finishedLayout(g)}Ext.layout.container.Container.prototype.finishedLayout.call(this,g)},getLayoutItems:function(){var s=Ext.layout.container.Container.prototype.getLayoutItems.call(this),y=s.length,v,w,x,n,t,u,z;for(x=0;x<y;++x){if((n=s[x]).isSplitter){continue}z=n.splitter;if(n.hidden){if(z){if(!z.hidden){z.hidden=true;if(z.el){z.el.hide()}}}continue}if(z){u=z.collapseTarget==="next"}else{u=false}w=null;if(v&&t){if(t.hidden){t.hidden=false;if(t.el){t.el.show()}}if(u){w=true}}else{if(u){w=!v}}if(w!==null&&z.hidden!==w){z.hidden=w;if(z.el){z.el.setVisible(!w)}}t=!u&&z;v=n}if(v&&t&&!t.hidden){t.hidden=true;if(t.el){t.el.hide()}}return s},insertSplitter:function(p,q,n,s){var o={xtype:"splitter",id:p.id+"-splitter",hidden:n,splitterFor:p,synthetic:true},t=q+((s.collapseTarget==="prev")?1:0);o[this.names.height]="100%";if(s){Ext.apply(o,s)}p.splitter=this.owner.add(t,o)},publishInnerCtSize:function(G,E){E=E||0;var z=this,H=G.state,A=G.boxNames,B=A.height,N=A.width,C=G.boxOptions.align,L=z.padding,y=H.boxPlan,D=y.targetSize,J=y.maxSize,M=H.needsScroll,I=G.innerCtContext,F,K;if(G.parallelSizeModel.shrinkWrap||(y.tooNarrow&&H.canScroll)){F=H.contentWidth-G.targetContext.getPaddingInfo()[N]}else{F=D[N];if(M&&M.perpendicular){F-=Ext.getScrollbarSize()[N]}}F-=E;z.owner.tooNarrow=y.tooNarrow;if(C.stretch){K=J}else{K=y.maxSize+L[A.beforeY]+L[A.afterY]+I.getBorderInfo()[B];if(!G.perpendicularSizeModel.shrinkWrap&&(C.center||C.bottom)){K=Math.max(D[B],K)}}I[A.setWidth](F);I[A.setHeight](K);G.targetElContext.setWidth(G.innerCtContext.props.width-(z.vertical?0:(E||0)));if(isNaN(F+K)){z.done=false}},onAdd:function(l,o){var m=this,n=m.enableSplitters&&!l.isButton&&l.split;Ext.layout.container.Container.prototype.onAdd.call(this,l,o);if(n){if(n===true){n={collapseTarget:"next"}}else{if(Ext.isString(n)){n={collapseTarget:n==="before"?"next":"prev"}}else{n=Ext.apply({collapseTarget:n.side==="before"?"next":"prev"},n)}}m.insertSplitter(l,o,!!l.hidden,n)}},onRemove:function(u,q){var p=this,w=p.names,v=p.owner,x=u.splitter,t=p.overflowHandler,s;Ext.layout.container.Container.prototype.onRemove.call(this,u,q);if(x&&v.contains(x)){v.doRemove(x,true);u.splitter=null}if(t){t.onRemove(u)}if(u.layoutMarginCap===p.id){delete u.layoutMarginCap}if(!v.destroying&&!q&&u.rendered){s=u.getEl();if(s){s.setStyle(w.beforeY,"");s.setStyle(w.beforeX,"");s.setStyle("margin","")}}},applyOverflowHandler:function(l,m){var k;if(typeof l==="string"){l={type:l}}k=l.type;if(m&&m.type===l.type){delete l.type;m.setConfig(l);return m}l.layout=this;return Ext.Factory.boxOverflow(l)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){var f=this;Ext.destroy(f.innerCt,f.overflowHandler);f.flexSortFn=f.innerCt=null;Ext.layout.container.Container.prototype.destroy.call(this)},getRenderData:function(){var f=Ext.layout.container.Container.prototype.getRenderData.call(this);f.targetElCls=this.targetElCls;return f},updateVertical:function(p){var m=this,o=m.overflowHandler,q=m.owner,n=m._props;Ext.apply(m,p?n.vbox:n.hbox);if(o&&q&&q.rendered){o.setVertical(p)}},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:true,vertical:false,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",getX:"getX",setX:"setX",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",getY:"getY",setY:"setY",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:false,vertical:true,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",getX:"getY",setX:"setY",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",getY:"getX",setY:"setX",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}},1,0,0,0,["layout.box"],0,[Ext.layout.container,"Box",Ext.layout,"BoxLayout"],0));(Ext.cmd.derive("Ext.layout.container.HBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:false},0,0,0,0,["layout.hbox"],0,[Ext.layout.container,"HBox",Ext.layout,"HBoxLayout"],0));(Ext.cmd.derive("Ext.layout.container.VBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:true},0,0,0,0,["layout.vbox"],0,[Ext.layout.container,"VBox",Ext.layout,"VBoxLayout"],0));(Ext.cmd.derive("Ext.toolbar.Toolbar",Ext.container.Container,{alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:"x-toolbar",ariaRole:"toolbar",defaultType:"button",layout:undefined,vertical:undefined,enableOverflow:false,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:true,itemCls:"x-toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var k=this,l=k.layout,m=k.vertical;if(m===undefined){k.vertical=m=k.dock==="right"||k.dock==="left"}k.layout=l=Ext.applyIf(Ext.isString(l)?{type:l}:l||{},{type:m?"vbox":"hbox",align:m?"stretchmax":"middle"});if(k.overflowHandler){l.overflowHandler=k.overflowHandler}else{if(k.enableOverflow){l.overflowHandler="menu"}}if(m){k.addClsWithUI("vertical")}if(k.ui==="footer"){k.ignoreBorderManagement=true}Ext.container.Container.prototype.initComponent.call(this)},getRefItems:function(q){var m=this,p=Ext.container.Container.prototype.getRefItems.apply(this,arguments),n=m.layout,o;if(q&&(m.enableOverflow||(m.overflowHandler==="menu"))){o=n.overflowHandler;if(o&&o.menu){p=p.concat(o.menu.getRefItems(q))}}return p},lookupComponent:function(l){var m=arguments,o,n;if(typeof l==="string"&&l[0]!=="@"){n=Ext.toolbar.Toolbar;o=n.shortcutsHV[this.vertical?1:0][l]||n.shortcuts[l];if(typeof o==="string"){l={xtype:o}}else{if(o){l=Ext.apply({},o)}else{l={xtype:"tbtext",text:l}}}this.applyDefaults(l);m=[l]}return Ext.container.Container.prototype.lookupComponent.apply(this,m)},onBeforeAdd:function(n){var m=this,l=m.ui==="footer",o=l?m.defaultFooterButtonUI:m.defaultButtonUI;if(n.isSegmentedButton){if(n.getDefaultUI()==="default"&&!n.config.hasOwnProperty("defaultUI")){n.setDefaultUI(o)}}else{if(n.ui==="default"&&!n.hasOwnProperty("ui")){if(n.isButton){n.ui=o}else{if(n.isFormField){n.ui=l?m.defaultFooterFieldUI:m.defaultFieldUI}}}}if(n instanceof Ext.toolbar.Separator){n.setUI(m.vertical?"vertical":"horizontal")}Ext.container.Container.prototype.onBeforeAdd.apply(this,arguments)},onAdd:function(k){var g=this;if(k.needArrowKeys&&g.enableFocusableContainer){g.enableFocusableContainer=false;g.ariaRole="group"}Ext.container.Container.prototype.onAdd.apply(this,arguments);g.trackMenu(k)},onRemove:function(f){Ext.container.Container.prototype.onRemove.apply(this,arguments);this.trackMenu(f,true)},privates:{applyDefaults:function(f){if(!Ext.isString(f)){f=Ext.container.Container.prototype.applyDefaults.apply(this,arguments)}return f},trackMenu:function(k,m){var l=this;if(l.trackMenus&&k.menu){k[m?"un":"on"]({mouseover:l.onButtonOver,menushow:l.onButtonMenuShow,menuhide:l.onButtonMenuHide,scope:l})}},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(l,e){var m=this.activeMenuBtn;if(m&&m!==l){m.hideMenu();l.focus();l.showMenu(e);this.activeMenuBtn=l}},onButtonMenuShow:function(f){this.activeMenuBtn=f},onButtonMenuHide:function(f){this.activeMenuBtn=null}}},0,["toolbar"],["component","box","container","toolbar"],{component:true,box:true,container:true,toolbar:true},["widget.toolbar"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.toolbar,"Toolbar",Ext,"Toolbar"],0));Ext.define("Ext.theme.neptune.toolbar.Toolbar",{override:"Ext.toolbar.Toolbar",usePlainButtons:false,border:false});(Ext.cmd.derive("Ext.dd.DragDrop",Ext.Base,{constructor:function(k,m,l){if(k){this.init(k,m,l)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,triggerEvent:"mousedown",b4StartDrag:function(k,g){},startDrag:function(k,g){},b4Drag:function(e){},onDrag:function(e){},onDragEnter:function(k,e){},b4DragOver:function(e){},onDragOver:function(k,e){},b4DragOut:function(e){},onDragOut:function(k,e){},b4DragDrop:function(e){},onDragDrop:function(k,e){},onInvalidDrop:function(e){},b4EndDrag:function(e){},endDrag:function(e){},b4MouseDown:function(e){},onMouseDown:function(e){},onMouseUp:function(e){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(z,B,s){if(Ext.isNumber(B)){B={left:B,right:B,top:B,bottom:B}}B=B||this.defaultPadding;var x=Ext.get(this.getEl()).getBox(),D=Ext.get(z),u=D.getScroll(),y,w=D.dom,v,A,C;if(w===document.body){y={x:u.left,y:u.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}}else{v=D.getXY();y={x:v[0],y:v[1],width:w.clientWidth,height:w.clientHeight}}A=x.y-y.y;C=x.x-y.x;this.resetConstraints();this.setXConstraint(C-(B.left||0),y.width-C-x.width-(B.right||0),this.xTickSize);this.setYConstraint(A-(B.top||0),y.height-A-x.height-(B.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(l,o,n){var m=this;m.el=m.el||Ext.get(l);m.initTarget(l,o,n);Ext.get(m.id).on(m.triggerEvent,m.handleMouseDown,m);if(Ext.supports.Touch&&m.triggerEvent==="longpress"){Ext.get(m.id).swallowEvent("contextmenu",true)}},initTarget:function(k,m,l){this.config=l||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof k!=="string"){k=Ext.id(k)}this.id=k;this.addToGroup((m)?m:"default");this.handleElId=k;this.setDragElId(k);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(m,o,l,n){if(!o&&0!==o){this.padding=[m,m,m,m]}else{if(!l&&0!==l){this.padding=[m,o,m,o]}else{this.padding=[m,o,l,n]}}},setInitPosition:function(p,q){var o=this.getEl(),s,t,n;if(!this.DDMInstance.verifyEl(o)){return}s=p||0;t=q||0;n=Ext.fly(o).getXY();this.initPageX=n[0]-s;this.initPageY=n[1]-t;this.lastPageX=n[0];this.lastPageY=n[1];this.setStartPosition(n)},setStartPosition:function(g){var k=g||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null;this.startPageX=k[0];this.startPageY=k[1]},addToGroup:function(f){this.groups[f]=true;this.DDMInstance.regDragDrop(this,f)},removeFromGroup:function(f){if(this.groups[f]){delete this.groups[f]}this.DDMInstance.removeDDFromGroup(this,f)},setDragElId:function(f){this.dragElId=f},setHandleElId:function(f){if(typeof f!=="string"){f=Ext.id(f)}this.handleElId=f;this.DDMInstance.regHandle(this.id,f)},setOuterHandleElId:function(f){if(typeof f!=="string"){f=Ext.id(f)}Ext.get(f).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(f);this.hasOuterHandles=true},unreg:function(){var g=this,k;if(g._domRef){k=Ext.fly(g.id);if(k){k.un(g.triggerEvent,g.handleMouseDown,g)}}g._domRef=null;g.DDMInstance._remove(g,g.autoGroup)},destroy:function(){this.unreg();this.callParent()},isLocked:function(){return(this.DDMInstance.isLocked()||this.locked)},handleMouseDown:function(e,l){var m=this;if((m.primaryButtonOnly&&e.button)||m.isLocked()){return}m.DDMInstance.refreshCache(m.groups);if(m.hasOuterHandles||m.DDMInstance.isOverTarget(e.getPoint(),m)){if(m.clickValidator(e)){m.setStartPosition();m.b4MouseDown(e);m.onMouseDown(e);m.DDMInstance.handleMouseDown(e,m);m.DDMInstance.stopEvent(e)}}},clickValidator:function(e){var k=e.getTarget();return(this.isValidHandleChild(k)&&(this.id===this.handleElId||this.DDMInstance.handleWasClicked(k,this.id)))},addInvalidHandleType:function(k){var g=k.toUpperCase();this.invalidHandleTypes[g]=g},addInvalidHandleId:function(f){if(typeof f!=="string"){f=Ext.id(f)}this.invalidHandleIds[f]=f},addInvalidHandleClass:function(f){this.invalidHandleClasses.push(f)},removeInvalidHandleType:function(k){var g=k.toUpperCase();delete this.invalidHandleTypes[g]},removeInvalidHandleId:function(f){if(typeof f!=="string"){f=Ext.id(f)}delete this.invalidHandleIds[f]},removeInvalidHandleClass:function(n){var l=this.invalidHandleClasses,o=l.length,m;for(m=0;m<o;++m){if(l[m]===n){delete l[m]}}},isValidHandleChild:function(o){var p=true,t,q,s;try{t=o.nodeName.toUpperCase()}catch(e){t=o.nodeName}p=p&&!this.invalidHandleTypes[t];p=p&&!this.invalidHandleIds[o.id];for(q=0,s=this.invalidHandleClasses.length;p&&q<s;++q){p=!Ext.fly(o).hasCls(this.invalidHandleClasses[q])}return p},setXTicks:function(l,o){this.xTicks=[];this.xTickSize=o;var m={},n;for(n=this.initPageX;n>=this.minX;n=n-o){if(!m[n]){this.xTicks[this.xTicks.length]=n;m[n]=true}}for(n=this.initPageX;n<=this.maxX;n=n+o){if(!m[n]){this.xTicks[this.xTicks.length]=n;m[n]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(l,o){this.yTicks=[];this.yTickSize=o;var m={},n;for(n=this.initPageY;n>=this.minY;n=n-o){if(!m[n]){this.yTicks[this.yTicks.length]=n;m[n]=true}}for(n=this.initPageY;n<=this.maxY;n=n+o){if(!m[n]){this.yTicks[this.yTicks.length]=n;m[n]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(k,l,m){this.leftConstraint=k;this.rightConstraint=l;this.minX=this.initPageX-k;this.maxX=this.initPageX+l;if(m){this.setXTicks(this.initPageX,m)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(m,k,l){this.topConstraint=m;this.bottomConstraint=k;this.minY=this.initPageY-m;this.maxY=this.initPageY+k;if(l){this.setYTicks(this.initPageY,l)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var g=(this.maintainOffset)?this.lastPageX-this.initPageX:0,k=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(g,k)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(v,q){if(!q){return v}else{if(q[0]>=v){return q[0]}else{var t,u,s,o,p;for(t=0,u=q.length;t<u;++t){s=t+1;if(q[s]&&q[s]>=v){o=v-q[t];p=q[s]-v;return(p>o)?q[t]:q[s]}}return q[q.length-1]}}},toString:function(){return("DragDrop "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DragDrop"],0));(Ext.cmd.derive("Ext.dd.DD",Ext.dd.DragDrop,{constructor:function(k,m,l){if(k){this.init(k,m,l)}},scroll:true,autoOffset:function(m,n){var o=m-this.startPageX,l=n-this.startPageY;this.setDelta(o,l)},setDelta:function(g,k){this.deltaX=g;this.deltaY=k},setDragElPos:function(k,l){var m=this.getDragEl();this.alignElWithMouse(m,k,l)},alignElWithMouse:function(B,y,A){var x=this.getTargetCoord(y,A),z=B.dom?B:Ext.fly(B,"_dd"),D=z.getSize(),v=Ext.Element,u,C,t,w;if(!this.deltaSetXY){u=this.cachedViewportSize={width:v.getDocumentWidth(),height:v.getDocumentHeight()};C=[Math.max(0,Math.min(x.x,u.width-D.width)),Math.max(0,Math.min(x.y,u.height-D.height))];z.setXY(C);t=this.getLocalX(z);w=z.getLocalY();this.deltaSetXY=[t-x.x,w-x.y]}else{u=this.cachedViewportSize;this.setLocalXY(z,Math.max(0,Math.min(x.x+this.deltaSetXY[0],u.width-D.width)),Math.max(0,Math.min(x.y+this.deltaSetXY[1],u.height-D.height)))}this.cachePosition(x.x,x.y);this.autoScroll(x.x,x.y,B.offsetHeight,B.offsetWidth);return x},cachePosition:function(l,m){if(l){this.lastPageX=l;this.lastPageY=m}else{var k=Ext.fly(this.getEl()).getXY();this.lastPageX=k[0];this.lastPageY=k[1]}},autoScroll:function(w,x,B,J){if(this.scroll){var I=Ext.Element.getViewportHeight(),E=Ext.Element.getViewportWidth(),G=this.DDMInstance.getScrollTop(),C=this.DDMInstance.getScrollLeft(),y=B+x,H=J+w,z=(I+G-x-this.deltaY),A=(E+C-w-this.deltaX),D=40,F=(document.all)?80:30;if(y>I&&z<D){window.scrollTo(C,G+F)}if(x<G&&G>0&&x-G<D){window.scrollTo(C,G-F)}if(H>E&&A<D){window.scrollTo(C+F,G)}if(w<C&&C>0&&w-C<D){window.scrollTo(C-F,G)}}},getTargetCoord:function(m,n){var o=m-this.deltaX,l=n-this.deltaY;if(this.constrainX){if(o<this.minX){o=this.minX}if(o>this.maxX){o=this.maxX}}if(this.constrainY){if(l<this.minY){l=this.minY}if(l>this.maxY){l=this.maxY}}o=this.getTick(o,this.xTicks);l=this.getTick(l,this.yTicks);return{x:o,y:l}},applyConfig:function(){Ext.dd.DragDrop.prototype.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(e){var k=e.getXY();this.autoOffset(k[0],k[1])},b4Drag:function(e){var k=e.getXY();this.setDragElPos(k[0],k[1])},toString:function(){return("DD "+this.id)},getLocalX:function(f){return f.getLocalX()},setLocalXY:function(l,m,k){l.setLocalXY(m,k)}},3,0,0,0,0,0,[Ext.dd,"DD"],0));(Ext.cmd.derive("Ext.dd.DDProxy",Ext.dd.DD,{statics:{dragElId:"ygddfdiv"},constructor:function(k,m,l){if(k){this.init(k,m,l);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var n=this,o=document.body,l,m;if(!o||!o.firstChild){Ext.defer(function(){n.createFrame()},50);return}l=this.getDragEl();if(!l){l=document.createElement("div");l.id=this.dragElId;l.setAttribute("role","presentation");m=l.style;m.position="absolute";m.visibility="hidden";m.cursor="move";m.border="2px solid #aaa";m.zIndex=999;o.insertBefore(l,o.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DD.prototype.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(m,n){var o=this,q=o.getDragEl(),p=q.style;o._resizeProxy();if(o.centerFrame){o.setDelta(Math.round(parseInt(p.width,10)/2),Math.round(parseInt(p.height,10)/2))}o.setDragElPos(m,n);Ext.fly(q).show()},_resizeProxy:function(){if(this.resizeFrame){var f=this.getEl();Ext.fly(this.getDragEl()).setSize(f.offsetWidth,f.offsetHeight)}},b4MouseDown:function(m){var n=m.getXY(),o=n[0],e=n[1];this.autoOffset(o,e);this.setDragElPos(o,e)},b4StartDrag:function(k,g){this.showFrame(k,g)},b4EndDrag:function(e){Ext.fly(this.getDragEl()).hide()},endDrag:function(e){var l=this.getEl(),m=this.getDragEl();m.style.visibility="";this.beforeMove();l.style.visibility="hidden";Ext.dd.DDM.moveToEl(l,m);m.style.visibility="hidden";l.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DDProxy"],0));(Ext.cmd.derive("Ext.dd.StatusProxy",Ext.Component,{animRepair:false,childEls:["ghost"],renderTpl:['<div class="x-dd-drop-icon" role="presentation"></div><div id="{id}-ghost" data-ref="ghost" class="x-dd-drag-ghost" role="presentation"></div>'],repairCls:"x-dd-drag-repair",ariaRole:"presentation",skipLayout:true,alignOnScroll:false,constructor:function(k){var g=this;k=k||{};Ext.apply(g,{hideMode:"visibility",hidden:true,floating:true,id:g.id||Ext.id(),cls:"x-dd-drag-proxy "+this.dropNotAllowed,shadow:k.shadow||false,renderTo:Ext.getDetachedBody()});Ext.Component.prototype.constructor.apply(this,arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(f){f=f||this.dropNotAllowed;if(this.dropStatus!==f){this.el.replaceCls(this.dropStatus,f);this.dropStatus=f}},reset:function(l){var k=this,m="x-dd-drag-proxy ";k.el.replaceCls(m+k.dropAllowed,m+k.dropNotAllowed);k.dropStatus=k.dropNotAllowed;if(l){k.ghost.setHtml("")}},update:function(k){if(typeof k==="string"){this.ghost.setHtml(k)}else{this.ghost.setHtml("");k.style.margin="0";this.ghost.dom.appendChild(k)}var g=this.ghost.dom.firstChild;if(g){Ext.fly(g).setStyle("float","none")}},getGhost:function(){return this.ghost},hide:function(f){Ext.Component.prototype.hide.call(this);if(f){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.syncUnderlays()},repair:function(m,l,o){var n=this;n.callback=l;n.scope=o;if(m&&n.animRepair!==false){n.el.addCls(n.repairCls);n.el.setUnderlaysVisible(false);n.anim=n.el.animate({duration:n.repairDuration||500,easing:"ease-out",to:{x:m[0],y:m[1]},stopAnimation:true,callback:n.afterRepair,scope:n})}else{n.afterRepair()}},afterRepair:function(){var f=this;f.hide(true);f.el.removeCls(f.repairCls);if(typeof f.callback==="function"){f.callback.call(f.scope||f)}delete f.callback;delete f.scope}},1,0,["component","box"],{component:true,box:true},0,0,[Ext.dd,"StatusProxy"],0));(Ext.cmd.derive("Ext.dd.DragSource",Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(g,k){this.el=Ext.get(g);if(!this.dragData){this.dragData={}}Ext.apply(this,k);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})}Ext.dd.DDProxy.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false},getDragData:function(e){return this.dragData},onDragEnter:function(m,e){var n=Ext.dd.DragDropManager.getDDById(e),o;this.cachedTarget=n;if(this.beforeDragEnter(n,m,e)!==false){if(n.isNotifyTarget){o=n.notifyEnter(this,m,this.dragData);this.proxy.setStatus(o)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(n,m,e)}}},beforeDragEnter:function(l,m,e){return true},onDragOver:function(m,e){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(e),o;if(this.beforeDragOver(n,m,e)!==false){if(n.isNotifyTarget){o=n.notifyOver(this,m,this.dragData);this.proxy.setStatus(o)}if(this.afterDragOver){this.afterDragOver(n,m,e)}}},beforeDragOver:function(l,m,e){return true},onDragOut:function(l,e){var m=this.cachedTarget||Ext.dd.DragDropManager.getDDById(e);if(this.beforeDragOut(m,l,e)!==false){if(m.isNotifyTarget){m.notifyOut(this,l,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(m,l,e)}}this.cachedTarget=null},beforeDragOut:function(l,m,e){return true},onDragDrop:function(l,e){var m=this.cachedTarget||Ext.dd.DragDropManager.getDDById(e);if(this.beforeDragDrop(m,l,e)!==false){if(m.isNotifyTarget){if(m.notifyDrop(this,l,this.dragData)!==false){this.onValidDrop(m,l,e)}else{this.onInvalidDrop(m,l,e)}}else{this.onValidDrop(m,l,e)}if(this.afterDragDrop){this.afterDragDrop(m,l,e)}}delete this.cachedTarget},beforeDragDrop:function(l,m,e){return true},onValidDrop:function(l,m,e){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(l,m,e)}},getRepairXY:function(e,k){return this.el.getXY()},onInvalidDrop:function(m,n,e){var o=this;if(!n){n=m;m=null;e=n.getTarget().id}if(o.beforeInvalidDrop(m,n,e)!==false){if(o.cachedTarget){if(o.cachedTarget.isNotifyTarget){o.cachedTarget.notifyOut(o,n,o.dragData)}o.cacheTarget=null}o.proxy.repair(o.getRepairXY(n,o.dragData),o.afterRepair,o);if(o.afterInvalidDrop){o.afterInvalidDrop(n,e)}}},afterRepair:function(){var f=this;if(Ext.enableFx){f.el.highlight(f.repairHighlightColor)}f.dragging=false},beforeInvalidDrop:function(l,m,e){return true},handleMouseDown:function(e){if(this.dragging){return}var k=this.getDragData(e);if(k&&this.onBeforeDrag(k,e)!==false){this.dragData=k;this.proxy.stop();Ext.dd.DDProxy.prototype.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(k,e){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return Ext.dd.DDProxy.prototype.alignElWithMouse.apply(this,arguments)},startDrag:function(k,g){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(k,g);this.proxy.show()},onInitDrag:function(m,k){var l=this.el.dom.cloneNode(true);l.id=Ext.id();this.proxy.update(l);this.onStartDrag(m,k);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(e){},endDrag:function(e){this.onEndDrag(this.dragData,e)},onEndDrag:function(k,e){},autoOffset:function(k,g){this.setDelta(-12,-20)},destroy:function(){Ext.destroy(this.proxy);Ext.dd.DDProxy.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DragSource"],0));(Ext.cmd.derive("Ext.panel.Proxy",Ext.Base,{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(m,l){var k=this;k.panel=m;k.id=k.panel.id+"-ddproxy";Ext.apply(k,l)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var f=this;if(f.ghost){if(f.proxy){f.proxy.destroy();delete f.proxy}f.panel.unghost(null,f.moveOnDrag);delete f.ghost}},show:function(){var g=this,k;if(!g.ghost){k=g.panel.getSize();g.panel.el.setVisibilityMode(Ext.Element.DISPLAY);g.ghost=g.panel.ghost();if(g.insertProxy){g.proxy=g.panel.el.insertSibling({role:"presentation",cls:"x-panel-dd-spacer"});g.proxy.setSize(k)}}},repair:function(l,k,m){this.hide();Ext.callback(k,m||this)},moveProxy:function(k,g){if(this.proxy){k.insertBefore(this.proxy.dom,g)}}},1,0,0,0,0,0,[Ext.panel,"Proxy",Ext.dd,"PanelProxy"],0));(Ext.cmd.derive("Ext.panel.DD",Ext.dd.DragSource,{constructor:function(l,m){var k=this;k.panel=l;k.dragData={panel:l};k.panelProxy=new Ext.panel.Proxy(l,m);k.proxy=k.panelProxy.proxy;Ext.dd.DragSource.prototype.constructor.call(this,l.el,m);k.setupEl(l)},setupEl:function(o){var m=this,l=o.header,n=o.body;if(l){m.setHandleElId(l.id);n=l.el}if(n){n.setStyle("cursor","move");m.scroll=false}else{o.on("boxready",m.setupEl,m,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(k,g){this.panelProxy.show()},b4MouseDown:function(m){var n=m.getXY(),o=n[0],e=n[1];this.autoOffset(o,e)},onInitDrag:function(k,g){this.onStartDrag(k,g);return true},createFrame:Ext.emptyFn,getDragEl:function(e){var k=this.panelProxy.ghost;if(k){return k.el.dom}},endDrag:function(e){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(k,g){k-=this.startPageX;g-=this.startPageY;this.setDelta(k,g)},onInvalidDrop:function(m,n,e){var o=this;if(o.beforeInvalidDrop(m,n,e)!==false){if(o.cachedTarget){if(o.cachedTarget.isNotifyTarget){o.cachedTarget.notifyOut(o,n,o.dragData)}o.cacheTarget=null}if(o.afterInvalidDrop){o.afterInvalidDrop(n,e)}}}},1,0,0,0,0,0,[Ext.panel,"DD"],0));(Ext.cmd.derive("Ext.layout.component.Dock",Ext.layout.component.Component,{alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:true,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:false,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var l=this,k,m;Ext.layout.component.Component.prototype.finishRender.call(this);k=l.getRenderTarget();m=l.getDockedItems();l.finishRenderItems(k,m)},isItemBoxParent:function(f){return true},isItemShrinkWrap:function(f){return true},noBorderClasses:["x-docked-noborder-top","x-docked-noborder-right","x-docked-noborder-bottom","x-docked-noborder-left"],noBorderClassesSides:{top:"x-docked-noborder-top",right:"x-docked-noborder-right",bottom:"x-docked-noborder-bottom",left:"x-docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:"x-docked",handleItemBorders:function(){var L=this,G=L.owner,x,H,A=L.lastDockedItems,B=L.borders,F=G.dockedItems.generation,E=L.noBorderClassesSides,K=L.borderWidthProps,C,y,I,J,z,D=L.collapsed;if(L.initializedBorders===F||(G.border&&!G.manageBodyBorders)||(G.collapsed&&G.collapseMode==="mini")){return}L.initializedBorders=F;L.collapsed=false;L.lastDockedItems=H=L.getLayoutItems();L.collapsed=D;x={top:[],right:[],bottom:[],left:[]};for(C=0,y=H.length;C<y;C++){I=H[C];J=I.dock;if(I.ignoreBorderManagement){continue}if(!x[J].satisfied){x[J].push(I);x[J].satisfied=true}if(!x.top.satisfied&&J!=="bottom"){x.top.push(I)}if(!x.right.satisfied&&J!=="left"){x.right.push(I)}if(!x.bottom.satisfied&&J!=="top"){x.bottom.push(I)}if(!x.left.satisfied&&J!=="right"){x.left.push(I)}}if(A){for(C=0,y=A.length;C<y;C++){I=A[C];if(!I.destroyed&&!I.ignoreBorderManagement&&!G.manageBodyBorders){I.removeCls(L.noBorderClasses)}}}if(B){for(z in B){if(G.manageBodyBorders&&B[z].satisfied){G.setBodyStyle(K[z],"")}}}for(z in x){y=x[z].length;if(!G.manageBodyBorders){for(C=0;C<y;C++){x[z][C].addCls(E[z])}if((!x[z].satisfied&&!G.bodyBorder)||G.bodyBorder===false){G.addBodyCls(E[z])}else{G.removeBodyCls(E[z])}}else{if(x[z].satisfied){G.setBodyStyle(K[z],"1px")}}}L.borders=x},beforeLayoutCycle:function(o){var s=this,t=s.owner,v=s.sizeModels.shrinkWrap,p=t.shrinkWrapDock,q,u;if(t.collapsed){if(t.collapsedVertical()){u=true;o.measureDimensions=1}else{q=true;o.measureDimensions=2}}o.collapsedVert=u;o.collapsedHorz=q;if(u){o.heightModel=v}else{if(q){o.widthModel=v}}p=p===true?3:(p||0);o.shrinkWrapDockHeight=(p&1)&&o.heightModel.shrinkWrap;o.shrinkWrapDockWidth=(p&2)&&o.widthModel.shrinkWrap},beginLayout:function(C){var w=this,D=w.owner,G=w.getLayoutItems(),E=C.context,A=G.length,x=w.lastCollapsedState,J,y,H,F,B,z,I;Ext.layout.component.Component.prototype.beginLayout.apply(this,arguments);z=D.getCollapsed();if(z!==x&&x!==undefined){if(w.owner.collapsed){C.isCollapsingOrExpanding=1;D.addClsWithUI(D.collapsedCls)}else{C.isCollapsingOrExpanding=2;D.removeClsWithUI(D.collapsedCls);C.lastCollapsedState=w.lastCollapsedState}}w.lastCollapsedState=z;C.dockedItems=J=[];for(y=0;y<A;y++){H=G[y];if(H.rendered){I=H.dock;F=E.getCmp(H);F.dockedAt={x:0,y:0};F.offsets=B=Ext.Element.parseBox(H.offsets||0);F.horizontal=I==="top"||I==="bottom";B.width=B.left+B.right;B.height=B.top+B.bottom;J.push(F)}}C.bodyContext=C.getEl("body")},beginLayoutCycle:function(A){var x=this,s=A.dockedItems,y=s.length,B=x.owner,w=B.frameBody,t=x.lastHeightModel,z,u,v;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(x.owner.manageHeight){if(x.lastBodyDisplay){B.body.dom.style.display=x.lastBodyDisplay=""}}else{if(x.lastBodyDisplay!=="inline-block"){B.body.dom.style.display=x.lastBodyDisplay="inline-block"}if(t&&t.shrinkWrap&&!A.heightModel.shrinkWrap){B.body.dom.style.marginBottom=""}}if(A.widthModel.auto){if(A.widthModel.shrinkWrap){B.el.setWidth(null)}B.body.setWidth(null);if(w){w.setWidth(null)}}if(A.heightModel.auto){B.body.setHeight(null);if(w){w.setHeight(null)}}if(A.collapsedVert){A.setContentHeight(0)}else{if(A.collapsedHorz){A.setContentWidth(0)}}for(z=0;z<y;z++){u=s[z].target;v=u.dock;if(v==="right"){u.setLocalX(0)}else{if(v!=="left"){continue}}}},calculate:function(A){var F=this,B=F.measureAutoDimensions(A,A.measureDimensions),C=A.state,u=C.horzDone,z=C.vertDone,y=A.bodyContext,v,D,w,x,E;A.borderInfo||A.getBorderInfo();A.paddingInfo||A.getPaddingInfo();A.frameInfo||A.getFrameInfo();y.borderInfo||y.getBorderInfo();y.paddingInfo||y.getPaddingInfo();if(!A.frameBorder){if(!(v=A.framing)){A.frameBorder=A.borderInfo;A.framePadding=A.paddingInfo}else{A.frameBorder=v.border;A.framePadding=v.padding}}D=!u&&F.createAxis(A,B.contentWidth,A.widthModel,F.horzAxisProps,A.collapsedHorz);w=!z&&F.createAxis(A,B.contentHeight,A.heightModel,F.vertAxisProps,A.collapsedVert);for(x=0,E=A.dockedItems.length;E--;++x){if(D){F.dockChild(A,D,E,x)}if(w){F.dockChild(A,w,E,x)}}if(D&&F.finishAxis(A,D)){C.horzDone=u=D}if(w&&F.finishAxis(A,w)){C.vertDone=z=w}if(u&&z&&F.finishConstraints(A,u,z)){F.finishPositions(A,u,z)}else{F.done=false}},createAxis:function(F,N,R,I,S){var K=this,M=0,U=K.owner,Q=U[I.maxSize],T=U[I.minSize]||0,H=I.dockBegin,O=I.dockEnd,D=I.pos,J=I.size,L=Q!=null,G=R.shrinkWrap,V,C,E,P;if(G){if(S){P=0}else{V=F.bodyContext;P=N+V.borderInfo[J]}}else{C=F.frameBorder;E=F.framePadding;M=C[H]+E[H];P=F.getProp(J)-(C[O]+E[O])}return{shrinkWrap:R.shrinkWrap,sizeModel:R,initialBegin:M,begin:M,end:P,collapsed:S,horizontal:I.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:P-M,maxChildSize:0,hasMinMaxConstraints:(T||L)&&R.shrinkWrap,minSize:T,maxSize:L?Q:1000000000,bodyPosProp:K.owner.manageHeight?D:I.marginBegin,dockBegin:H,dockEnd:O,posProp:D,sizeProp:J,setSize:I.setSize,shrinkWrapDock:F[I.shrinkWrapDock],sizeModelName:I.sizeModel,dockedPixelsEnd:0}},dockChild:function(B,A,D,y){var x=this,C=B.dockedItems[A.shrinkWrap?D:y],v=C.target,u=v.dock,z=A.sizeProp,w,t;if(v.ignoreParentFrame&&B.isCollapsingOrExpanding){C.clearMarginCache()}if(!C.marginInfo){C.getMarginInfo()}if(u===A.dockBegin){if(A.shrinkWrap){w=x.dockOutwardBegin(B,C,v,A)}else{w=x.dockInwardBegin(B,C,v,A)}}else{if(u===A.dockEnd){if(A.shrinkWrap){w=x.dockOutwardEnd(B,C,v,A)}else{w=x.dockInwardEnd(B,C,v,A)}}else{if(A.shrinkWrapDock){t=C.getProp(z)+C.marginInfo[z];A.maxChildSize=Math.max(A.maxChildSize,t);w=0}else{w=x.dockStretch(B,C,v,A)}}}C.dockedAt[A.posProp]=w},dockInwardBegin:function(A,B,t,y){var w=y.begin,x=y.sizeProp,z=t.ignoreParentFrame,v,s,u;if(z){y.ignoreFrameBegin=B;u=t.dock;v=A.frameBorder[u];w-=v+A.framePadding[u]}if(!t.overlay){s=B.getProp(x)+B.marginInfo[x];y.begin+=s;if(z){y.begin-=v}}return w},dockInwardEnd:function(q,s,t,u){var w=u.sizeProp,v=s.getProp(w)+s.marginInfo[w],x=u.end-v,p;if(!t.overlay){u.end=x}if(t.ignoreParentFrame){u.ignoreFrameEnd=s;p=q.frameBorder[t.dock];x+=p+q.framePadding[t.dock];u.end+=p}return x},dockOutwardBegin:function(p,q,s,t){var v=t.begin,o=t.sizeProp,u;if(t.collapsed){t.ignoreFrameBegin=t.ignoreFrameEnd=q}else{if(s.ignoreParentFrame){t.ignoreFrameBegin=q}}if(!s.overlay){u=q.getProp(o)+q.marginInfo[o];v-=u;t.begin=v}return v},dockOutwardEnd:function(p,q,s,t){var v=t.end,o=t.sizeProp,u;u=q.getProp(o)+q.marginInfo[o];if(t.collapsed){t.ignoreFrameBegin=t.ignoreFrameEnd=q}else{if(s.ignoreParentFrame){t.ignoreFrameEnd=q}}if(!s.overlay){t.end=v+u;t.dockedPixelsEnd+=u}return v},dockStretch:function(E,F,K,D){var J=K.dock,y=D.sizeProp,G=J==="top"||J==="bottom",z=E.frameBorder,C=F.offsets,L=E.framePadding,A=G?"right":"bottom",H=G?"left":"top",x=D.begin+C[H],B,I;if(K.stretch!==false){I=D.end-x-C[A];if(K.ignoreParentFrame){x-=L[H]+z[H];I+=L[y]+z[y]}B=F.marginInfo;I-=B[y];F[D.setSize](I)}return x},finishAxis:function(M,X){if(isNaN(X.maxChildSize)){return false}var Y=X.begin,I=X.end-Y,V=X.collapsed,O=X.setSize,R=X.dockBegin,Q=X.dockEnd,J=M.framePadding,G=M.frameBorder,W=G[R],F=M.framing,K=F&&F[R],aa=V?0:J[R],T=X.sizeProp,S=X.ignoreFrameBegin,H=X.ignoreFrameEnd,ab=M.bodyContext,N=Math.max(W+aa-K,0),Z,L,P,U;if(X.shrinkWrap){L=X.initialSize;if(F){P=-Y+W+aa;Z=P-K-N}else{Z=-Y;P=Z+aa}if(!V){I+=J[T]}if(S){P-=W;Z-=W;S.dockedAt[X.posProp]-=aa}else{I+=W}if(V){}else{if(H){H.dockedAt[X.posProp]+=J[Q]}else{I+=G[Q]}}X.size=I;if(!X.horizontal&&!this.owner.manageHeight){U=false}}else{if(F){P=0;Z=Y-K-N}else{P=-W;Z=Y-aa-W}L=I}X.delta=P;ab[O](L,U);ab.setProp(X.bodyPosProp,Z);return !isNaN(I)},beforeInvalidateShrinkWrapDock:function(k,l){var m=l.axis.sizeModelName;if(!k[m].constrainedMin){k[m]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(n,q){var p=q.axis,o=q.layout,m;if(n[p.sizeModelName].calculated){m=o.dockStretch(q.ownerContext,n,n.target,p);n.setProp(p.posProp,p.delta+m)}},finishConstraints:function(I,P,D){var A=this,B=A.sizeModels,E=P.shrinkWrap,C=D.shrinkWrap,R=A.owner,K,G,F,M,L,H,Q,O,N,J;if(E){H=P.size;Q=P.collapsed?0:P.minSize;O=P.maxSize;N=P.maxChildSize;J=Math.max(H,N);if(J>O){L=B.constrainedMax;F=O}else{if(J<Q){L=B.constrainedMin;F=Q}else{if(H<N){L=B.constrainedDock;R.dockConstrainedWidth=F=N}else{F=H}}}}if(C){H=D.size;Q=D.collapsed?0:D.minSize;O=D.maxSize;N=D.maxChildSize;J=Math.max(H,N+H-D.initialSize);if(J>O){M=B.constrainedMax;G=O}else{if(J<Q){M=B.constrainedMin;G=Q}else{if(H<N){M=B.constrainedDock;R.dockConstrainedHeight=G=N}else{if(!I.collapsedVert&&!R.manageHeight){K=false;I.bodyContext.setProp("margin-bottom",D.dockedPixelsEnd)}G=H}}}}if(L||M){if(L&&M&&L.constrainedMax&&M.constrainedByMin){I.invalidate({widthModel:L});return false}if(!I.widthModel.calculatedFromShrinkWrap&&!I.heightModel.calculatedFromShrinkWrap){I.invalidate({widthModel:L,heightModel:M});return false}}else{A.invalidateAxes(I,P,D)}if(E){I.setWidth(F);if(L){I.widthModel=L}}if(C){I.setHeight(G,K);if(M){I.heightModel=M}}return true},invalidateAxes:function(D,I,z){var M=this.beforeInvalidateShrinkWrapDock,H=this.afterInvalidateShrinkWrapDock,E=I.end-I.begin,J=z.initialSize,G=I.shrinkWrapDock&&I.maxChildSize<=E,P=z.shrinkWrapDock&&z.maxChildSize<=J,L,O,A,F,K,N,C,B;if(G||P){if(P){z.begin=z.initialBegin;z.end=z.begin+z.initialSize}L=D.dockedItems;for(A=0,O=L.length;A<O;++A){F=L[A];N=F.horizontal;C=null;if(G&&N){B=I.sizeProp;K=E;C=I}else{if(P&&!N){B=z.sizeProp;K=J;C=z}}if(C){K-=F.getMarginInfo()[B];if(K!==F.props[B]){F.invalidate({before:M,after:H,axis:C,ownerContext:D,layout:this})}}}}},finishPositions:function(w,z,t){var q=w.dockedItems,x=q.length,u=z.delta,v=t.delta,s,y;for(s=0;s<x;++s){y=q[s];y.setProp("x",u+y.dockedAt.x);y.setProp("y",v+y.dockedAt.y)}},finishedLayout:function(l){var m=this,k=l.target;Ext.layout.component.Component.prototype.finishedLayout.apply(this,arguments);if(!l.animatePolicy){if(l.isCollapsingOrExpanding===1){k.afterCollapse(false)}else{if(l.isCollapsingOrExpanding===2){k.afterExpand(false)}}}},getAnimatePolicy:function(m){var n=this,o,l;if(m.isCollapsingOrExpanding===1){o=n.lastCollapsedState}else{if(m.isCollapsingOrExpanding===2){o=m.lastCollapsedState}}if(o==="left"||o==="right"){l=n.horizontalCollapsePolicy}else{if(o==="top"||o==="bottom"){l=n.verticalCollapsePolicy}}return l},getDockedItems:function(B,E){var w=this,z=(B==="visual"),v=z?Ext.ComponentQuery.query("[rendered]",w.owner.dockedItems.items):w.owner.dockedItems.items,x=v&&v.length&&B!==false,C,F,u,y,A,D;if(E==null){u=x&&!z?v.slice():v}else{u=[];for(y=0,D=v.length;y<D;++y){F=v[y].dock;A=(F==="top"||F==="left");if(E?A:!A){u.push(v[y])}}x=x&&u.length}if(x){C=(B=B||"render")==="render";Ext.Array.sort(u,function(g,k){var f,e;if(C&&((f=w.owner.dockOrder[g.dock])!==(e=w.owner.dockOrder[k.dock]))){if(!(f+e)){return f-e}}f=w.getItemWeight(g,B);e=w.getItemWeight(k,B);if((f!==undefined)&&(e!==undefined)){return f-e}return 0})}return u||[]},getItemWeight:function(l,m){var k=l.weight||this.owner.defaultDockWeights[l.dock];return k[m]||k},getLayoutItems:function(){var o=this,s,n,p,q,t;if(o.owner.collapsed){t=o.owner.getCollapsedDockedItems()}else{s=o.getDockedItems("visual");n=s.length;t=[];for(q=0;q<n;q++){p=s[q];if(!p.hidden){t.push(p)}}}return t},measureContentWidth:function(k){var g=k.bodyContext;return g.el.getWidth()-g.getBorderInfo().width},measureContentHeight:function(k){var g=k.bodyContext;return g.el.getHeight()-g.getBorderInfo().height},redoLayout:function(k){var l=this,m=l.owner;if(k.isCollapsingOrExpanding===1){if(m.reExpander){m.reExpander.el.show()}m.addClsWithUI(m.collapsedCls);k.redo(true)}else{if(k.isCollapsingOrExpanding===2){m.removeClsWithUI(m.collapsedCls);k.bodyContext.redo()}}},getRenderTarget:function(){return this.owner.bodyWrap},renderChildren:function(){var l=this,m=l.getDockedItems(),k=l.getRenderTarget();l.handleItemBorders();l.renderItems(m,k)},renderItems:function(P,L){var O=this,ad=O.owner,Z={},S=P.length,T=ad.body.dom,Y=ad.bodyWrap.dom,ac=!!ad.frameSize,U=ad.bodyContainer,aa,I,ab,Q,G,V,M,W,J,X,K,H,R,N;if(S){for(H=0;H<S;H++){Q=P[H];Z[Q.id]=Q;if(Q.dockToEl){ab=true}}aa=O.getRenderTarget().dom.childNodes;I=aa.length;M=0;for(H=0;H<I;++H){G=aa[H];V=G===T;if(V){W=H;break}if(Z[G.id]){++M}}W-=M;if(ab){V=false;M=0;aa=ad.el.dom.childNodes;I=aa.length;for(H=0;H<I;H++){G=aa[H];if(ac){V=G===Y||G===U;if(!V&&Ext.fly(G).contains(Y)){V=true;ad.bodyContainer=G}}else{V=G===Y}if(V){X=H;break}if(Z[G.id]){++M}}X-=M}J=K=0;for(H=0;H<S;H++){Q=P[H];if(Q.dockToEl){N=ad.el;R=X+K++;if(Q.dock==="right"||Q.dock==="bottom"){R++;if(ac){R++}}else{if(ac&&R>0){R--}}}else{N=L;R=W+J++;if(Q.dock==="right"||Q.dock==="bottom"){R++}}if(!Q.rendered){O.renderItem(Q,N,R)}else{if(!O.isValidParent(Q,N,R)){O.moveItem(Q,N,R)}}}}},undoLayout:function(k){var l=this,m=l.owner;if(k.isCollapsingOrExpanding===1){if(m.reExpander){m.reExpander.el.hide()}m.removeClsWithUI(m.collapsedCls);k.undo(true)}else{if(k.isCollapsingOrExpanding===2){m.addClsWithUI(m.collapsedCls);k.bodyContext.undo()}}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(q,o){var s=this,v=s.sizePolicy,p=s.owner.shrinkWrapDock,t,u;if(q.stretch===false){return v.nostretch}t=q.dock;u=(t==="left"||t==="right");p=p===true?3:(p||0);if(u){v=v.vert;p=p&1}else{v=v.horz;p=p&2}if(p){if(!o){o=s.owner.getSizeModel()}if(o[u?"height":"width"].shrinkWrap){return v.shrinkWrap}}return v.stretch},configureItem:function(k,g){Ext.layout.component.Component.prototype.configureItem.apply(this,arguments);k.addCls(this._itemCls);if(!k.ignoreBorderManagement){k.addClsWithUI(this.getDockCls(k.dock))}},getDockCls:function(f){return"docked-"+f},afterRemove:function(k){var g;Ext.layout.component.Component.prototype.afterRemove.apply(this,arguments);k.removeCls(this._itemCls);if(!k.ignoreBorderManagement){k.removeClsWithUI(this.getDockCls(k.dock))}g=k.el.dom;if(!k.destroying&&g){g.parentNode.removeChild(g)}this.childrenChanged=true},borderCollapseMap:{},getBorderCollapseTable:function(){var p=this,n=p.borderCollapseMap,t=p.owner,s=t.baseCls,o=t.ui,q;n=n[s]||(n[s]={});q=n[o];if(!q){s+="-"+o+"-outer-border-";n[o]=q=[0,s+"l",s+"b",s+"bl",s+"r",s+"rl",s+"rb",s+"rbl",s+"t",s+"tl",s+"tb",s+"tbl",s+"tr",s+"trl",s+"trb",s+"trbl"]}return q}},0,0,0,0,["layout.dock"],0,[Ext.layout.component,"Dock",Ext.layout.component,"AbstractDock"],0));Ext.define("Ext.theme.neptune.layout.component.Dock",{override:"Ext.layout.component.Dock",noBorderClassTable:[0,"x-noborder-l","x-noborder-b","x-noborder-bl","x-noborder-r","x-noborder-rl","x-noborder-rb","x-noborder-rbl","x-noborder-t","x-noborder-tl","x-noborder-tb","x-noborder-tbl","x-noborder-tr","x-noborder-trl","x-noborder-trb","x-noborder-trbl"],edgeMasks:{top:8,right:4,bottom:2,left:1},handleItemBorders:function(){var P=this,ab=0,O=8,L=4,V=2,ac=1,af=P.owner,I=af.bodyBorder,Q=af.border,Y=P.collapsed,M=P.edgeMasks,X=P.noBorderClassTable,S=af.dockedItems.generation,T,ad,U,Z,J,R,W,N,aa,K,H,ae;if(P.initializedBorders===S){return}H=[];ae=[];ad=P.getBorderCollapseTable();X=P.getBorderClassTable?P.getBorderClassTable():X;P.initializedBorders=S;P.collapsed=false;U=P.getDockedItems("visual");P.collapsed=Y;for(J=0,R=U.length;J<R;J++){W=U[J];if(W.ignoreBorderManagement){continue}N=W.dock;K=Z=0;H.length=0;ae.length=0;if(N!=="bottom"){if(ab&O){T=W.border}else{T=Q;if(T!==false){Z+=O}}if(T===false){K+=O}}if(N!=="left"){if(ab&L){T=W.border}else{T=Q;if(T!==false){Z+=L}}if(T===false){K+=L}}if(N!=="top"){if(ab&V){T=W.border}else{T=Q;if(T!==false){Z+=V}}if(T===false){K+=V}}if(N!=="right"){if(ab&ac){T=W.border}else{T=Q;if(T!==false){Z+=ac}}if(T===false){K+=ac}}if((aa=W.lastBorderMask)!==K){W.lastBorderMask=K;if(aa){ae[0]=X[aa]}if(K){H[0]=X[K]}}if((aa=W.lastBorderCollapse)!==Z){W.lastBorderCollapse=Z;if(aa){ae[ae.length]=ad[aa]}if(Z){H[H.length]=ad[Z]}}if(ae.length){W.removeCls(ae)}if(H.length){W.addCls(H)}ab|=M[N]}K=Z=0;H.length=0;ae.length=0;if(ab&O){T=I}else{T=Q;if(T!==false){Z+=O}}if(T===false){K+=O}if(ab&L){T=I}else{T=Q;if(T!==false){Z+=L}}if(T===false){K+=L}if(ab&V){T=I}else{T=Q;if(T!==false){Z+=V}}if(T===false){K+=V}if(ab&ac){T=I}else{T=Q;if(T!==false){Z+=ac}}if(T===false){K+=ac}if((aa=P.lastBodyBorderMask)!==K){P.lastBodyBorderMask=K;if(aa){ae[0]=X[aa]}if(K){H[0]=X[K]}}if((aa=P.lastBodyBorderCollapse)!==Z){P.lastBodyBorderCollapse=Z;if(aa){ae[ae.length]=ad[aa]}if(Z){H[H.length]=ad[Z]}}if(ae.length){af.removeBodyCls(ae)}if(H.length){af.addBodyCls(H)}},onRemove:function(l){var m=this,n=l.lastBorderMask,o=l.lastBorderCollapse;if(!l.destroyed&&!l.ignoreBorderManagement){if(n){l.lastBorderMask=0;l.removeCls(m.noBorderClassTable[n])}if(o){l.lastBorderCollapse=0;l.removeCls(m.getBorderCollapseTable()[o])}}(arguments.callee.$previous||Ext.layout.component.Component.prototype.onRemove).call(this,l)}});(Ext.cmd.derive("Ext.util.Memento",Ext.Base,(function(){function n(g,k,f,e){g[e?e+f:f]=k[f]}function o(g,e,f){delete g[f]}function m(g,k,f,l){var e=l?l+f:f,t=g[e];if(t||g.hasOwnProperty(e)){q(k,f,t)}}function q(g,f,e){if(Ext.isDefined(e)){g[f]=e}else{delete g[f]}}function p(w,f,g,v,l){if(f){if(Ext.isArray(v)){var k,e=v.length;for(k=0;k<e;k++){w(f,g,v[k],l)}}else{w(f,g,v,l)}}}return{data:null,target:null,constructor:function(f,e){this.data={};if(f){this.target=f;if(e){this.capture(e)}}},capture:function(e,f,g){var k=this;p(n,k.data||(k.data={}),f||k.target,e,g)},remove:function(e){p(o,this.data,null,e)},restore:function(k,e,f,g){p(m,this.data,f||this.target,k,g);if(e!==false){this.remove(k)}},restoreAll:function(e,g){var l=this,t=g||this.target,k=l.data,f;e=e!==false;for(f in k){if(k.hasOwnProperty(f)){q(t,f,k[f]);if(e){delete k[f]}}}}}}()),1,0,0,0,0,0,[Ext.util,"Memento"],0));(Ext.cmd.derive("Ext.container.DockingContainer",Ext.Base,{isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(x,u){var v=this,B=v.rendered,A=0,t=v.dockedItems,z=t.getCount(),y,w,D,C;x=v.prepareItems(x);C=x.length;if(B){Ext.suspendLayouts()}if(u===undefined){u=z}else{u=Math.min(u,z)}for(;A<C;A++){D=x[A];D.dock=D.dock||"top";if(D.dock==="left"||D.dock==="right"){v.horizontalDocks++}y=u+A;t.insert(y,D);w=!!D.instancedCmp;delete D.instancedCmp;D.onAdded(v,y,w);delete D.$initParent;if(v.onDockedAdd!==Ext.emptyFn){v.onDockedAdd(D)}if(v.hasListeners.dockedadd){v.fireEvent("dockedadd",v,D,y)}}if(v.rendered){v.updateLayout();Ext.resumeLayouts(true)}return x},destroyDockedItems:function(){var k=this.dockedItems,g;if(k){while((g=k.first())){this.removeDocked(g,true)}}},doRenderDockedItems:function(s,x,w){var p=x.$comp,q=p.componentLayout,t=p.tabGuard&&p.lookupTpl("tabGuardTpl"),u,v;if(q.getDockedItems){u=q.getDockedItems("render",!w);v=u&&q.getItemsRenderTree(u);if(v){Ext.DomHelper.generateMarkup(v,s)}}},getDockedComponent:function(f){if(Ext.isObject(f)){f=f.getItemId()}return this.dockedItems.get(f)},getDockedItems:function(m,k){var l=this.getComponentLayout().getDockedItems("render",k);if(m&&l.length){l=Ext.ComponentQuery.query(m,l)}return l},getDockingRefItems:function(p,m){var q=p&&"*,* *",n=this.getDockedItems(q,true),o;n.push.apply(n,m);o=this.getDockedItems(q,false);n.push.apply(n,o);return n},initDockingItems:function(){var g=this,k=g.dockedItems;if(!k||!k.isMixedCollection){g.dockedItems=new Ext.util.ItemCollection();if(k){g.addDocked(k)}}},insertDocked:function(g,k){this.addDocked(k,g)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(m,p){var n=this,o,q;p=p===true||(p!==false&&n.autoDestroy);if(!n.dockedItems.contains(m)){return m}if(m.dock==="left"||m.dock==="right"){n.horizontalDocks--}o=n.componentLayout;q=o&&n.rendered;if(q){o.onRemove(m)}n.dockedItems.remove(m);m.onRemoved(m.destroying||p);n.onDockedRemove(m);if(p){m.destroy()}else{if(q){o.afterRemove(m)}}if(n.hasListeners.dockedremove){n.fireEvent("dockedremove",n,m)}if(!n.destroying){n.updateLayout()}return m},moveDocked:function(k,m){var l=this;if(l.rendered){Ext.suspendLayouts()}l.removeDocked(k,false);k.dock=m;l.addDocked(k);if(l.rendered){if(k.frame){Ext.getDetachedBody().appendChild(k.el);k.updateFrame()}Ext.resumeLayouts(true)}},setupDockingRenderTpl:function(f){f.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,"DockingContainer"],0));(Ext.cmd.derive("Ext.panel.Panel",Ext.container.Container,{alternateClassName:"Ext.Panel",childEls:["bodyWrap","body"],renderTpl:['<tpl if="headingText">','<div id="{id}-headingEl" data-ref="headingEl" role="heading"',' class="',"x-",'hidden-clip" style="height:0">',"{headingText}","</div>","</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<div id="{id}-bodyWrap" data-ref="bodyWrap" class="{baseCls}-bodyWrap"','<tpl if="bodyWrapAriaAttributes">','<tpl foreach="bodyWrapAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyAriaAttributes">','<tpl foreach="bodyAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",'<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}","</div>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:true,closable:false,closeAction:"destroy",closeToolText:"Close panel",collapsed:false,collapsedCls:"collapsed",collapseFirst:true,collapsible:undefined,collapseToolText:"Collapse panel",expandToolText:"Expand panel",constrain:false,constrainHeader:false,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:true,frame:false,frameHeader:true,hideCollapseTool:false,manageHeight:true,maskElement:"el",minButtonWidth:75,preventHeader:false,shrinkWrapDock:false,titleCollapse:undefined,baseCls:"x-panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:true,defaultBindProperty:"title",addBodyCls:function(l){var k=this,m=k.rendered?k.body:k.getProtoBody();m.addCls(l);return k},addTool:function(p){if(!Ext.isArray(p)){p=[p]}var q=this,v=q.header,u=p.length,o=q.tools,s,t;if(!v||!v.isHeader){v=null;if(!o){q.tools=o=[]}}for(s=0;s<u;s++){t=p[s];t.toolOwner=q;if(v){v.addTool(t)}else{o.push(t)}}q.updateHeader()},addTools:Ext.emptyFn,getClosable:function(){return this.closable},setClosable:function(l){var k=this,m=k.tab;l=!!l;if(k.closable!==l){k.closable=l;if(m){m.setClosable(l)}}},setCollapsible:function(m){var n=this,l=n.collapsible,o=n.collapseTool;n.collapsible=m;if(m&&!l){n.updateCollapseTool();o=n.collapseTool;if(o){o.show()}}else{if(!m&&l){if(o){o.hide()}}}},addUIClsToElement:function(l){var k=this,m=Ext.container.Container.prototype.addUIClsToElement.apply(this,arguments);k.addBodyCls(["x-"+l,k.baseCls+"-body-"+l,k.baseCls+"-body-"+k.ui+"-"+l]);return m},afterCollapse:function(l){var m=this,k=m.ownerLayout;m.isCollapsingOrExpanding=0;m.updateCollapseTool();if(l){m.removeCls("x-animating-size")}if(k){k.afterCollapse(m,l)}m.setHiddenDocked();m.fireEvent("collapse",m)},afterExpand:function(l){var m=this,k=m.ownerLayout;m.isCollapsingOrExpanding=0;m.updateCollapseTool();if(l){m.removeCls("x-animating-size")}if(k){k.afterExpand(m,l)}m.fireEvent("expand",m);m.fireHierarchyEvent("expand")},doDestroy:function(){var f=this;Ext.destroy(f.placeholder,f.ghostPanel,f.dd,f.accordionHeaderKeyNav,f.accordionBodyKeyNav,f.defaultButtonKeyNav);f.destroyDockedItems();Ext.container.Container.prototype.doDestroy.call(this)},beforeRender:function(){var g=this,k;g.getProtoBody();Ext.container.Container.prototype.beforeRender.call(this);g.initTools();if(!(g.preventHeader||(g.header===false))||g.isViewportBorderChild){g.updateHeader()}g.afterHeaderInit=true;if(g.collapsed){if(g.isPlaceHolderCollapse()){if(!g.hidden){g.setHiddenState(true);g.preventCollapseFire=true;g.placeholderCollapse();delete g.preventCollapseFire;k=g.collapsed;g.collapsed=false}}else{g.beginCollapse();g.addClsWithUI(g.collapsedCls)}}if(k){g.collapsed=k}},getMemento:function(k){var g=this;if(k&&typeof k==="string"){k+="Memento";return g[k]||(g[k]=new Ext.util.Memento(g))}},beginCollapse:function(){var p=this,s=p.lastBox,v=p.rendered,t=p.getMemento("collapse"),q=p.getSizeModel(),o=p.header,u;t.capture(["height","minHeight","width","minWidth"]);if(s){t.capture(p.restoreDimension(),s,"last.")}if(p.collapsedVertical()){if(q.width.shrinkWrap){p.width=v?p.getWidth():p.width||p.minWidth||100}delete p.height;p.minHeight=0}else{if(p.collapsedHorizontal()){if(q.height.shrinkWrap){p.height=v?p.getHeight():p.height||p.minHeight||100}delete p.width;p.minWidth=0}}if(p.ownerCt){p.ownerCt.getLayout().beginCollapse(p)}if(!p.isPlaceHolderCollapse()&&o!==false){if(o===(u=p.getReExpander())){o.collapseImmune=true;o.getInherited().collapseImmune=true;o.addClsWithUI(p.getHeaderCollapsedClasses(o));if(o.rendered){o.updateFrame()}}else{if(u.el){u.el.show();u.hidden=false}}}if(p.resizer){p.resizer.disable()}if(p.rendered){p.ariaEl.dom.setAttribute("aria-expanded",false);if(p.isAccordionPanel){p.body.dom.setAttribute("aria-hidden",true)}}},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},beginExpand:function(){var o=this,p=o.lastBox,q=o.getMemento("collapse"),t=o.restoreDimension(),n=o.header,s;if(q){q.restore(["minHeight","minWidth",t]);if(p){q.restore(t,true,p,"last.")}}if(o.ownerCt){o.ownerCt.getLayout().beginExpand(o)}if(!o.isPlaceHolderCollapse()&&n!==false){if(n===(s=o.getReExpander())){delete n.collapseImmune;delete n.getInherited().collapseImmune;n.removeClsWithUI(o.getHeaderCollapsedClasses(n));if(n.rendered){n.expanding=true;n.updateFrame();delete n.expanding}}else{s.hidden=true;s.el.hide()}}if(o.resizer){o.resizer.enable()}if(o.rendered){o.ariaEl.dom.setAttribute("aria-expanded",true);if(o.isAccordionPanel){o.body.dom.setAttribute("aria-hidden",false)}}},bridgeToolbars:function(){var u=this,v=[],o=u.minButtonWidth,q,s,t;function p(k,e,f,g){if(Ext.isArray(k)){k={xtype:"toolbar",items:k}}else{if(!k.isComponent){k=Ext.apply({},k)}}if(!k.xtype){k.xtype="toolbar"}k.dock=e;if(g){k.enableFocusableContainer=false}if(f){k.layout=Ext.applyIf(k.layout||{},{pack:{left:"start",center:"center"}[u.buttonAlign]||"end"})}return k}if(u.tbar){v.push(p(u.tbar,"top"));u.tbar=null}if(u.bbar){v.push(p(u.bbar,"bottom"));u.bbar=null}if(u.buttons){u.fbar=u.buttons;u.buttons=null;t=true}if(u.fbar){q=p(u.fbar,"bottom",true,t);q.ui="footer";if(o){s=q.defaults;q.defaults=function(f){var e=s||{},g=!f.xtype||f.isButton,k;if(!g){k=Ext.ClassManager.getByAlias("widget."+f.xtype);if(k){g=k.prototype.isButton}}if(g&&!("minWidth" in e)){e=Ext.apply({minWidth:o},e)}return e}}v.push(q);u.fbar=null}if(u.lbar){v.push(p(u.lbar,"left"));u.lbar=null}if(u.rbar){v.push(p(u.rbar,"right"));u.rbar=null}if(u.dockedItems){if(u.dockedItems.isMixedCollection){u.addDocked(v)}else{if(!Ext.isArray(u.dockedItems)){u.dockedItems=[u.dockedItems]}u.dockedItems=u.dockedItems.concat(v)}}else{u.dockedItems=v}},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},collapse:function(p,u){var q=this,o=p||q.collapseDirection,t=q.ownerCt,s=q.ownerLayout,v=q.rendered;if(q.isCollapsingOrExpanding){return q}if(arguments.length<2){u=q.animCollapse}if(q.collapsed||q.fireEvent("beforecollapse",q,p,u)===false){return q}if(s&&s.onBeforeComponentCollapse){if(s.onBeforeComponentCollapse(q)===false){return q}}if(v&&t&&q.isPlaceHolderCollapse()){return q.placeholderCollapse(p,u)}q.collapsed=o;if(v){q.beginCollapse()}q.getInherited().collapsed=true;q.fireHierarchyEvent("collapse");if(v){q.doCollapseExpand(1,u)}return q},collapsedHorizontal:function(){var f=this.getCollapsed();return f==="left"||f==="right"},collapsedVertical:function(){var f=this.getCollapsed();return f==="top"||f==="bottom"},convertCollapseDir:function(f){return f.substr(0,1)},createGhost:function(o){var n=this,l=n.header,m=n.frame&&!n.alwaysFramed;return{xtype:"panel",hidden:false,header:l?{titleAlign:l.getTitleAlign()}:null,ui:m?n.ui.replace(/-framed$/,""):n.ui,id:n.id+"-ghost",renderTo:Ext.getBody(),resizable:false,draggable:false,closable:false,focusable:false,floating:true,alignOnScroll:false,shadow:false,frame:m,shim:n.shim,alwaysFramed:n.alwaysFramed,overlapHeader:n.overlapHeader,headerPosition:n.getHeaderPosition(),titleRotation:n.getTitleRotation(),baseCls:n.baseCls,getRefOwner:function(){return n.getRefOwner()},cls:n.baseCls+"-ghost "+(o||"")}},createReExpander:function(u,y){var w=this,s=u==="left",t=u==="right",v=s||t,z=w.ownerCt,x=w.header,q=Ext.apply({hideMode:"offsets",title:w.getTitle(),titleAlign:w.getTitleAlign(),vertical:v,textCls:w.headerTextCls,icon:w.getIcon(),iconCls:w.getIconCls(),iconAlign:w.getIconAlign(),glyph:w.getGlyph(),baseCls:w.self.prototype.baseCls+"-header",ui:w.ui,frame:w.frame&&w.frameHeader,ignoreParentFrame:w.frame||w.overlapHeader,ignoreBorderManagement:w.frame||w.ignoreHeaderBorderManagement,indicateDrag:w.draggable,collapseImmune:true,ariaRole:w.ariaRole,preventRefocus:true,ownerCt:(z&&w.collapseMode==="placeholder")?z:w,ownerLayout:w.componentLayout,forceOrientation:true,margin:w.margin,defaultFocus:"tool[isDefaultExpandTool]"},y);if(w.collapseMode==="mini"){if(v){q.width=1}else{q.height=1}}if(x){Ext.apply(q,{enableFocusableContainer:x.enableFocusableContainer,activeChildTabIndex:x.activeChildTabIndex,inactiveChildTabIndex:x.inactiveChildTabIndex,allowFocusingDisabledChildren:x.allowFocusingDisabledChildren})}if(!w.hideCollapseTool){if(s||(t&&w.isPlaceHolderCollapse())){q.titlePosition=1}q.tools=[{xtype:"tool",type:"expand-"+w.getOppositeDirection(u),isDefaultExpandTool:true,uiCls:["top"],handler:w.toggleCollapse,scope:w,tooltip:w.expandToolText}]}q=new Ext.panel.Header(q);q.addClsWithUI(w.getHeaderCollapsedClasses(q));q.expandTool=q.down("tool[isDefaultExpandTool=true]");return q},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},doCollapseExpand:function(q,p){var n=this,o=n.animCollapse,m=n.ownerLayout;n.animCollapse=p;n.isCollapsingOrExpanding=q;if(p){n.addCls("x-animating-size")}if(m&&!p){m.onContentChange(n)}else{n.updateLayout({isRoot:true})}n.animCollapse=o;return n},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},expand:function(o){var m=this,n=m.ownerLayout,l=m.rendered;if(m.isCollapsingOrExpanding){return m}if(!arguments.length){o=m.animCollapse}if(!m.collapsed&&!m.floatedFromCollapse){return m}if(m.fireEvent("beforeexpand",m,o)===false){return m}if(n&&n.onBeforeComponentExpand){if(n.onBeforeComponentExpand(m)===false){return m}}delete m.getInherited().collapsed;if(l&&m.isPlaceHolderCollapse()){return m.placeholderExpand(o)}m.restoreHiddenDocked();if(l){m.beginExpand()}m.collapsed=false;if(m.rendered){m.doCollapseExpand(2,o)}return m},findReExpander:function(o){var p=this,v=Ext.Component,q=p.dockedItems.items,u=q.length,t,s;if(p.collapseMode==="mini"){return}switch(o){case v.DIRECTION_TOP:case v.DIRECTION_BOTTOM:for(s=0;s<u;s++){t=q[s];if(!t.hidden){if(t.isHeader&&(!t.dock||t.dock==="top"||t.dock==="bottom")){return t}}}break;case v.DIRECTION_LEFT:case v.DIRECTION_RIGHT:for(s=0;s<u;s++){t=q[s];if(!t.hidden){if(t.isHeader&&(t.dock==="left"||t.dock==="right")){return t}}}break;default:throw ("Panel#findReExpander must be passed a valid collapseDirection")}},floatCollapsedPanel:function(){var u=this,t=u.placeholder,B=u.splitter,v=Ext.util.Region.from(t.getBox(false,true)),x=Ext.panel.Panel.floatCls,z=u.collapsed,s=u.ownerCt||u,A,y,w={mouseleave:u.onMouseLeaveFloated,mouseenter:u.onMouseEnterFloated,scope:u,destroyable:true};if(u.isSliding){return}if(u.el.hasCls(x)){u.slideOutFloatedPanel();return}u.isSliding=true;t.el.hide();t.hidden=true;u.el.show();u.setHiddenState(false);u.collapsed=false;s.updateLayout();t.el.show();t.hidden=false;u.el.hide();u.setHiddenState(true);u.collapsed=z;s.updateLayout();y=u.getBox(false,true);if(u.fireEvent("beginfloat",u)===false){return}u.slideOutTask=u.slideOutTask||new Ext.util.DelayedTask(u.slideOutFloatedPanel,u);u.pointerLeaveListener=Ext.getDoc().on({mousedown:u.onFloatedPointerEvent,mousemove:u.onFloatedPointerEvent,scope:u,destroyable:true});if(!u.placeholderListener){u.placeholderListener=t.on({resize:u.onPlaceholderResize,scope:u,destroyable:true})}u.phHoverListeners=t.el.on(w);u.elHoverListeners=u.el.on(w);u.el.addCls(x);u.floated=z;if(u.collapseTool){u.collapseTool.el.hide()}if(B){v=v.union(B.getBox(false,true))}switch(u.collapsed){case"top":u.width=v.width;u.setLocalXY(y.x,y.y+v.height);break;case"right":u.height=v.height;u.setLocalXY(y.x-v.width,y.y);break;case"bottom":u.width=v.width;u.setLocalXY(y.x,y.y-v.height);break;case"left":u.height=v.height;u.setLocalXY(y.x+v.width,y.y);break}A=u.convertCollapseDir(u.collapsed);u.floatedFromCollapse=u.collapsed;u.collapsed=false;u.setHiddenState(false);u.el.slideIn(A,{preserveScroll:true,duration:Ext.Number.from(u.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){u.isSliding=false;u.fireEvent("endfloat",u);u.fireEvent("float",u)}}})},onFloatedPointerEvent:function(g){var k=this;if(k.owns(g)||k.placeholder.owns(g)||(k.splitter&&k.splitter.owns(g))||(k.floatCollapsedPanel&&k.el.getRegion().contains(g.getPoint()))){k.slideOutTask.cancel()}else{k.slideOutTask.delay(500)}},onMouseEnterFloated:function(e){this.slideOutTask.cancel()},onMouseLeaveFloated:function(e){var k=e.getRelatedTarget();if(k&&(this.owns(k)||this.placeholder.owns(k))){return}this.slideOutTask.delay(500)},onPlaceholderResize:function(o,s,u){var t=this,p=t.splitter,q=t.getBox(false,true),v=Ext.util.Region.from(o.getBox(false,true));if(p){v=v.union(p.getBox(false,true))}switch(t.floated){case"top":t.width=s;t.setLocalY(v.y+v.height);break;case"right":t.height=u;t.setLocalX(v.x-q.width);break;case"bottom":t.width=s;t.setLocalY(v.y-q.height);break;case"left":t.height=u;t.setLocalX(v.x+v.width);break}t.updateLayout({isRoot:true})},getAnimationProps:function(){var g=this,k;k=Ext.container.Container.prototype.getAnimationProps.call(this);if(typeof g.animCollapseDuration==="number"){k.duration=g.animCollapseDuration}else{if(typeof g.animCollapse==="number"){k.duration=g.animCollapse}}return k},getCollapsed:function(){var f=this;if(f.collapsed===true){return f.collapseDirection}return f.collapsed},getCollapsedDockedItems:function(){var f=this;return f.header===false||f.collapseMode==="placeholder"?f.emptyArray:[f.getReExpander()]},getComponent:function(k){var g=Ext.container.Container.prototype.getComponent.apply(this,arguments);if(g===undefined&&!Ext.isNumber(k)){g=this.getDockedComponent(k)}return g},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(l){var n=this,m=n.collapsedCls,o;o=[m,m+"-"+l.getDockName()];if(n.border&&(!n.frame||(n.frame&&Ext.supports.CSS3BorderRadius))){o.push(m+"-border-"+l.getDockName())}return o},getOppositeDirection:function(k){var g=Ext.Component;switch(k){case g.DIRECTION_TOP:return g.DIRECTION_BOTTOM;case g.DIRECTION_RIGHT:return g.DIRECTION_LEFT;case g.DIRECTION_BOTTOM:return g.DIRECTION_TOP;case g.DIRECTION_LEFT:return g.DIRECTION_RIGHT}},getPlaceholder:function(p){var q=this,v=p||q.collapseDirection,s=null,o=q.placeholder,t=q.floatable,u=q.titleCollapse;if(!o){if(t||(q.collapsible&&u)){s={click:{fn:function(e,f){if(!o.expandTool.el.dom.contains(arguments[1])){q[(!u&&t)?"floatCollapsedPanel":"toggleCollapse"]()}},element:"el",scope:q}}}q.placeholder=o=Ext.widget(q.createReExpander(v,{id:q.id+"-placeholder",listeners:s}))}if(!o.placeholderFor){if(!o.isComponent){q.placeholder=o=q.lookupComponent(o)}Ext.applyIf(o,{margin:q.margin,placeholderFor:q,synthetic:true});o.addCls(["x-region-collapsed-placeholder","x-region-collapsed-"+v+"-placeholder",q.collapsedCls])}return o},getProtoBody:function(){var g=this,k=g.protoBody;if(!k){g.protoBody=k=new Ext.util.ProtoElement({cls:g.bodyCls,style:g.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true})}return k},getReExpander:function(o){var p=this,n=o||p.collapseDirection,s=p.reExpander||p.findReExpander(n),t=p.titleCollapse,q=null;p.expandDirection=p.getOppositeDirection(n);if(!s){if(t){q={click:{fn:p.toggleCollapse,element:"el",scope:p}}}p.reExpander=s=p.createReExpander(n,{dock:n,cls:"x-docked "+p.baseCls+"-"+p.ui+"-collapsed",isCollapsedExpander:true,listeners:q});p.dockedItems.insert(0,s)}return s},getRefItems:function(l){var k=this.placeholder,m;if(k){m=[k];if(l&&k.getRefItems){m.push.apply(m,k.getRefItems(l))}}else{m=[]}m.push.apply(m,this.getDockingRefItems(l,Ext.container.Container.prototype.getRefItems.call(this,l)));return m},getState:function(){var t=this,q=Ext.container.Container.prototype.getState.call(this)||{},n=t.collapsed,s=t.floated,o,p;if(s){t.collapsed=s}q=t.addPropertyToState(q,"collapsed");if(s){t.collapsed=n}if(t.getCollapsed()){o=t.getMemento("collapse").data;q=t.addPropertyToState(q,"collapsed",o);p=t.isPlaceHolderCollapse();if(t.collapsedVertical()){if(p){q=t.addPropertyToState(q,"height");delete q.width}else{delete q.height;if(o){q=t.addPropertyToState(q,"height",o.height)}}}else{if(p){q=t.addPropertyToState(q,"width");delete q.height}else{delete q.width;if(o){q=t.addPropertyToState(q,"width",o.width)}}}}return q},applyState:function(m){var n=this,o={},l;if(m){l=m.collapsed;if(l){o=n.getMemento("collapse");Ext.Object.merge(o.data,l);m.collapsed=true}Ext.container.Container.prototype.applyState.apply(this,arguments)}},ghost:function(E){var w=this,D=w.el,C=w.ghostPanel,z=w.getBox(),A=w.header,u,y,v,F,x,B;if(!C){w.ghostPanel=C=Ext.widget(w.createGhost(E));C.el.dom.removeAttribute("tabIndex")}else{C.el.show()}C.setHiddenState(false);C.floatParent=w.floatParent;if(A&&!w.preventHeader){u=C.header;u.suspendLayouts();y=u.query("tool");for(B=y.length;B--;){u.remove(y[B])}u.setTitlePosition(0);C.addTool(w.ghostTools());C.setTitle(w.getTitle());u.setTitlePosition(A.titlePosition);F=w.getIconCls();if(F){C.setIconCls(F)}else{v=w.getIcon();if(v){C.setIcon(v)}else{x=w.getGlyph();if(x){C.setGlyph(x)}}}u.addCls("x-header-ghost");u.resumeLayouts(true)}C.setPagePosition(z.x,z.y);C.setSize(z.width,z.height);w.elVisMode=D.getVisibilityMode();D.setVisibilityMode(Ext.Element.CLIP);D.hide();return C},ghostTools:function(){var o=[],n=this.header,p=n?n.query("tool[hidden=false]"):[],q,t,s;if(p.length){q=0;t=p.length;for(;q<t;q++){s=p[q];o.push({type:s.type,tooltip:s.tooltip})}}else{o=[{type:"placeholder"}]}return o},initBodyBorder:function(){var f=this;if(f.frame&&f.bodyBorder){if(!Ext.isNumber(f.bodyBorder)){f.bodyBorder=1}f.getProtoBody().setStyle("border-width",this.unitizeBox(f.bodyBorder))}},initBodyStyles:function(){var g=this,k=g.getProtoBody();if(g.bodyPadding!==undefined){if(g.layout.managePadding){k.setStyle("padding",0)}else{k.setStyle("padding",this.unitizeBox((g.bodyPadding===true)?5:g.bodyPadding))}}g.initBodyBorder()},initBorderProps:function(){var f=this;if(f.frame&&f.border&&f.bodyBorder===undefined){f.bodyBorder=false}if(f.frame&&f.border&&(f.bodyBorder===false||f.bodyBorder===0)){f.manageBodyBorders=true}},initComponent:function(){var f=this;if(f.collapsible){f.addStateEvents(["expand","collapse"])}if(f.unstyled){f.setUI("plain")}if(f.frame){f.setUI(f.ui+"-framed")}f.bridgeToolbars();f.initBorderProps();Ext.container.Container.prototype.initComponent.call(this);f.collapseDirection=f.collapseDirection||f.getHeaderPosition()||Ext.Component.DIRECTION_TOP;if(typeof f.animCollapse==="number"){f.animCollapseDuration=f.animCollapse}f.hiddenOnCollapse=new Ext.dom.CompositeElement()},initItems:function(){Ext.container.Container.prototype.initItems.call(this);this.initDockingItems()},initRenderData:function(){var o=this,m=o.bodyWrapAriaRole,l=o.bodyAriaRole,n;n=Ext.container.Container.prototype.initRenderData.call(this);o.initBodyStyles();o.protoBody.writeTo(n);delete o.protoBody;if(o.headingText){n.headingText=o.headingText;o.addChildEl("headingEl")}if(m){n.bodyWrapAriaAttributes={role:m};if(!o.ariaStaticRoles[m]&&o.bodyWrapAriaRenderAttributes){Ext.apply(n.bodyWrapAriaAttributes,o.bodyWrapAriaRenderAttributes)}}if(l){n.bodyAriaAttributes={role:l};if(!o.ariaStaticRoles[l]&&o.bodyAriaRenderAttributes){Ext.apply(n.bodyAriaAttributes,o.bodyAriaRenderAttributes)}}return n},calculateConstrainedPosition:function(p,u,q,v){var x=this,w=x.header,s,t;if(x.constrainHeader){s=w.lastBox;if(v){if(!w.vertical){v=[v[0],s?s.height:v[1]]}else{v=[s?s.width:v[0],v[1]]}}else{if(s){v=[s.width,s.height]}}t=x.floatParent;p=p||x.constrainTo||(t?t.getTargetEl():null)||x.container||x.el.parent()}return Ext.container.Container.prototype.calculateConstrainedPosition.call(this,p,u,q,v)},initTools:function(){var o=this,m=o.tools,p,n,q;o.tools=[];for(p=m&&m.length;p;){--p;o.tools[p]=q=m[p];q.toolOwner=o}if(o.collapsible&&!(o.hideCollapseTool||o.header===false||o.preventHeader)){o.updateCollapseTool();if(o.collapseFirst){o.tools.unshift(o.collapseTool)}}o.addTools();if(o.pinnable){o.initPinnable()}if(o.closable){o.addClsWithUI("closable");n={xtype:"tool",type:"close",scope:o,handler:o.close,tooltip:o.closeToolText};if(o.isAccordionPanel||o.disableCloseToolFocus){n.focusable=false;n.ariaRole="presentation"}o.addTool(n)}if(o.collapseTool&&!o.collapseFirst){o.addTool(o.collapseTool)}},isLayoutRoot:function(){if(this.floatedFromCollapse){return true}return Ext.container.Container.prototype.isLayoutRoot.call(this)},isPlaceHolderCollapse:function(){return this.collapseMode==="placeholder"},isVisible:function(k){var g=this;if(g.collapsed&&g.placeholder){return g.placeholder.isVisible(k)}return Ext.container.Container.prototype.isVisible.apply(this,arguments)},onBoxReady:function(){var k=this,g;Ext.container.Container.prototype.onBoxReady.apply(this,arguments);if(k.collapsed){k.setHiddenDocked()}if(k.isAccordionPanel){k.ariaEl=k.header.titleCmp.el;k.ariaEl.dom.setAttribute("aria-expanded",!k.collapsed);k.ariaEl.dom.setAttribute("aria-controls",k.body.id);k.body.dom.setAttribute("aria-labelledby",k.header.titleCmp.id);k.body.dom.setAttribute("aria-hidden",!!k.collapsed);k.accordionHeaderKeyNav=new Ext.util.KeyNav({target:k.header.titleCmp.el,scope:k,left:k.navigateAccordionHeader,right:k.navigateAccordionHeader,up:k.navigateAccordionHeader,down:k.navigateAccordionHeader,home:k.navigateAccordionHeader,end:k.navigateAccordionHeader,space:k.toggleCollapse,enter:k.toggleCollapse,del:{alt:true,fn:k.maybeClose}});k.accordionBodyKeyNav=new Ext.util.KeyNav({target:k.body,scope:k,up:{ctrl:true,fn:k.navigateAccordionBody}})}if(k.defaultButton){g=k.defaultButtonTarget?k[k.defaultButtonTarget]:k.body;k.defaultButtonKeyNav=new Ext.util.KeyNav({target:g,scope:k,defaultEventAction:"stopEvent",enter:k.fireDefaultButton})}},onHide:function(m,p,o){var n=this,q=n.dd;if(n.floatedFromCollapse){n.slideOutFloatedPanel(true)}if(n.draggable&&q){q.endDrag()}if(n.collapsed&&n.placeholder){if(n.splitter){Ext.suspendLayouts();n.splitter.hide();Ext.resumeLayouts()}n.placeholder.hide()}else{Ext.container.Container.prototype.onHide.call(this,m,p,o)}},onRemoved:function(g){var k=this;if(k.placeholder&&!g){k.ownerCt.remove(k.placeholder,false)}Ext.container.Container.prototype.onRemoved.apply(this,arguments)},onShow:function(){var f=this;if(f.collapsed&&f.isPlaceHolderCollapse()){if(f.splitter){Ext.suspendLayouts();f.splitter.show();Ext.resumeLayouts()}f.setHiddenState(true);f.placeholderCollapse()}else{Ext.container.Container.prototype.onShow.apply(this,arguments)}},placeholderCollapse:function(u,z){var v=this,y=v.ownerCt,q=u||v.collapseDirection,w=Ext.panel.Panel.floatCls,x=v.collapseTool,t=v.getPlaceholder(q),s;if(Ext.Component.layoutSuspendCount||v.isLayoutSuspended()){z=false}v.fireEvent("beginfloat",v);v.isCollapsingOrExpanding=1;v.setHiddenState(true);v.collapsed=q;if(t.rendered){if(t.el.dom.parentNode!==v.el.dom.parentNode){v.el.dom.parentNode.insertBefore(t.el.dom,v.el.dom)}t.hidden=false;t.setHiddenState(false);t.el.show();y.updateLayout()}else{y.insert(y.items.indexOf(v),t)}if(v.rendered){v.focusPlaceholderExpandTool=v.focusPlaceHolder=false;if(x&&Ext.ComponentManager.getActiveComponent()===x){v.focusPlaceholderExpandTool=true}else{if(v.containsFocus){v.focusPlaceHolder=true}}v.el.setVisibilityMode(v.placeholderCollapseHideMode);if(z){v.el.addCls(w);t.el.hide();s=v.convertCollapseDir(q);v.el.slideOut(s,{preserveScroll:true,duration:Ext.Number.from(z,Ext.fx.Anim.prototype.duration),listeners:{scope:v,afteranimate:function(){var f=this,e=f.placeholder.el;f.el.removeCls(w);e.show();if(f.ownerCt){e.setStyle("display","none");e.slideIn(s,{easing:"linear",duration:100,listeners:{afteranimate:f.doPlaceholderCollapse,scope:f}})}else{f.doPlaceholderCollapse()}}}})}else{v.el.hide();v.doPlaceholderCollapse()}}else{v.isCollapsingOrExpanding=0;if(!v.preventCollapseFire){v.fireEvent("collapse",v)}}return v},doPlaceholderCollapse:function(){var o=this,m=o.placeholder,l=m.expandTool,n;if(o.focusPlaceholderExpandTool&&l){l.focus()}else{if(o.focusPlaceHolder){m.focus()}}o.focusPlaceholderExpandTool=false;m.setHiddenState(false);if(m.rendered){n=m.ariaEl.dom;n.setAttribute("aria-hidden",false);n.setAttribute("aria-expanded",false)}n=o.ariaEl.dom;n.setAttribute("aria-hidden",true);n.setAttribute("aria-expanded",false);o.isCollapsingOrExpanding=0;o.fireEvent("collapse",o);o.fireEvent("endfloat",o)},placeholderExpand:function(t){var q=this,x=q.collapsed,w=q.placeholder.expandTool,s=Ext.panel.Panel.floatCls,u=q.ownerLayout?q.ownerLayout.centerRegion:null,p,v;if(Ext.Component.layoutSuspendCount){t=false}if(q.floatedFromCollapse){v=q.getPosition(true);q.slideOutFloatedPanelBegin();q.slideOutFloatedPanelEnd();q.floated=false}if(w&&Ext.ComponentManager.getActiveComponent()===w){q.focusHeaderCollapseTool=true;w._ariaRole=w.ariaEl.dom.getAttribute("role");w._ariaLabel=w.ariaEl.dom.getAttribute("aria-label");w.ariaEl.dom.setAttribute("role","presentation");w.ariaEl.dom.removeAttribute("aria-label")}if(t){Ext.suspendLayouts();q.placeholder.hide();q.el.show();q.collapsed=false;q.setHiddenState(false);if(u&&!v){u.hidden=true}Ext.resumeLayouts(true);u.hidden=false;if(!q.floatedFromCollapse){q.fireEvent("beginfloat",q)}q.el.addCls(s);q.isCollapsingOrExpanding=2;if(v){p=q.getXY();q.setLocalXY(v[0],v[1]);q.setXY([p[0],p[1]],{duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{scope:q,afteranimate:function(){var e=this;e.el.removeCls(s);e.isCollapsingOrExpanding=0;e.fireEvent("expand",e);e.fireEvent("endfloat",e)}}})}else{q.el.hide();q.placeholder.el.show();q.placeholder.hidden=false;q.setHiddenState(false);q.el.slideIn(q.convertCollapseDir(x),{preserveScroll:true,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:q.doPlaceholderExpand,scope:q}})}}else{q.floated=q.collapsed=false;q.doPlaceholderExpand(true)}return q},doPlaceholderExpand:function(p){p=p===true;var o=this,n=o.placeholder,q=o.collapseTool,m=n.expandTool;if(p){Ext.suspendLayouts();o.show()}o.el.removeCls(Ext.panel.Panel.floatCls);n.hide();if(p){Ext.resumeLayouts(true)}else{o.updateLayout()}if(o.focusHeaderCollapseTool&&q){q.focus()}o.focusHeaderCollapseTool=false;n.ariaEl.dom.setAttribute("aria-expanded",true);o.ariaEl.dom.setAttribute("aria-expanded",true);if(m&&m._ariaRole){m.ariaEl.dom.setAttribute("role",m._ariaRole);m.ariaEl.dom.setAttribute("aria-label",m._ariaLabel);m._ariaRole=m._ariaLabel=null}o.isCollapsingOrExpanding=0;o.fireEvent("expand",o);o.fireEvent("endfloat",o)},remove:function(l,m){var k=this.dockedItems;if(k&&k.contains(l)){this.removeDocked(l,m)}else{Ext.container.Container.prototype.remove.call(this,l,m)}return l},removeBodyCls:function(l){var k=this,m=k.rendered?k.body:k.getProtoBody();m.removeCls(l);return k},removeUIClsFromElement:function(l){var k=this,m=Ext.container.Container.prototype.removeUIClsFromElement.apply(this,arguments);k.removeBodyCls(["x-"+l,k.baseCls+"-body-"+l,k.baseCls+"-body-"+k.ui+"-"+l]);return m},restoreDimension:function(){var f=this.collapseDirection;return(f==="top"||f==="bottom")?"height":"width"},restoreHiddenDocked:function(){this.setDockedItemsVisibility(this.hiddenOnCollapse,true)},setBodyStyle:function(n,l){var m=this,o=m.rendered?m.body:m.getProtoBody();if(Ext.isFunction(n)){n=n()}if(arguments.length===1){if(Ext.isString(n)){n=Ext.Element.parseStyles(n)}o.setStyle(n)}else{o.setStyle(n,l)}return m},setBorder:function(o,m){if(m){return}var n=this,l=n.header;if(!o){o=0}else{if(o===true){o="1px"}else{o=n.unitizeBox(o)}}if(l){if(l.isHeader){l.setBorder(o)}else{l.border=o}}if(n.rendered&&n.bodyBorder!==false){n.body.setStyle("border-width",o)}n.updateLayout();n.border=o},setCollapsed:function(f){this[f?"collapse":"expand"]()},setDockedItemsVisibility:function(p,t){var w=this,s=w.getDockedItems(),v=s.length,q=0,x,u;if(w.header!==false){u=w.getReExpander()}for(;q<v;q++){x=s[q];if(x&&x!==u&&x.el){p.add(x.el)}}p.setStyle("visibility",t?"":"hidden");p.clear()},setGlyph:function(o){var p=this,q=p.glyph,m=p.header,n=p.placeholder;if(o!==q){p.glyph=o;if(m){if(m.isHeader){m.setGlyph(o)}else{m.glyph=o}}else{if(p.rendered||p.afterHeaderInit){p.updateHeader()}}if(n&&n.setGlyph){n.setGlyph(o)}p.fireEvent("glyphchange",p,o,q)}},setIcon:function(q){var p=this,o=p.icon,m=p.header,n=p.placeholder;if(q!==o){p.icon=q;if(m){if(m.isHeader){m.setIcon(q)}else{m.icon=q}}else{if(p.rendered||p.afterHeaderInit){p.updateHeader()}}if(n&&n.setIcon){n.setIcon(q)}p.fireEvent("iconchange",p,q,o)}},setIconCls:function(p){var o=this,q=o.iconCls,m=o.header,n=o.placeholder;if(p!==q){o.iconCls=p;if(m){if(m.isHeader){m.setIconCls(p)}else{m.iconCls=p}}else{if(o.rendered||o.afterHeaderInit){o.updateHeader()}}if(n&&n.setIconCls){n.setIconCls(p)}o.fireEvent("iconclschange",o,p,q)}},setTitle:function(o){var q=this,s=q.title,n=q.header,t=q.reExpander,p=q.placeholder;if(o!==s){q.title=o;if(n){if(n.isHeader){n.setTitle(o)}}else{if(q.rendered||q.afterHeaderInit){q.updateHeader()}}if(q.headingEl){q.headingEl.setHtml(o)}if(t){t.setTitle(o)}if(p&&p.setTitle){p.setTitle(o)}q.fireEvent("titlechange",q,o,s)}},setHiddenDocked:function(){var g=this,k=new Ext.dom.CompositeElement();g.hiddenOnCollapse.add(g.body);k.add(g.body);g.setDockedItemsVisibility(k,false)},setUI:function(g){var k=this;Ext.container.Container.prototype.setUI.apply(this,arguments);if(k.header&&k.header.rendered){k.header.setUI(g)}},toggleCollapse:function(){return(this.collapsed||this.floatedFromCollapse)?this.expand():this.collapse()},updateCollapseTool:function(){var l=this,m=l.collapseTool,k;if(!m&&l.collapsible){l.collapseDirection=l.collapseDirection||l.getHeaderPosition()||"top";k={xtype:"tool",handler:l.toggleCollapse,scope:l};if(l.isAccordionPanel){k.focusable=false;k.ariaRole="presentation"}l.collapseTool=l.expandTool=m=Ext.widget(k)}if(m){if(l.collapsed&&!l.isPlaceHolderCollapse()){m.setType("expand-"+l.getOppositeDirection(l.collapseDirection));m.setTooltip(l.expandToolText)}else{m.setType("collapse-"+l.collapseDirection);m.setTooltip(l.collapseToolText)}}},navigateAccordionHeader:function(e){var n=this,o,m;o=e.getKey();switch(o){case e.UP:case e.LEFT:m=n.findAccordionSibling("prev");break;case e.DOWN:case e.RIGHT:m=n.findAccordionSibling("next");break;case e.HOME:m=n.findAccordionSibling("first");break;case e.END:m=n.findAccordionSibling("last");break;case e.DELETE:m=n.findAccordionSibling("prev")||n.findAccordionSibling("next");if(!m){e.doNotClose=true}break}e.stopEvent();if(m&&m!==n){m.header.titleCmp.focus()}},navigateAccordionBody:function(e){var k;if(e.getKey()===e.UP){k=this}e.stopEvent();if(k){k.header.titleCmp.focus()}},findAccordionSibling:function(n,m){var o=this,q="[isAccordionPanel]",p;switch(n){case"prev":p=o.prev(q);if(!p){if(o.accordionWrapOver){p=o.ownerCt.child(q+":last")}else{if(m){p=o}}}break;case"next":p=o.next(q);if(!p){if(o.accordionWrapOver){p=o.ownerCt.child(q+":first")}else{if(m){p=o}}}break;case"first":p=o.ownerCt.child(q+":first");break;case"last":p=o.ownerCt.child(q+":last");break}return p},fireDefaultButton:function(m){var n=this,e,o;e=n.lookupReferenceHolder(false)||n;o=e.lookupReference(n.defaultButton);if(o&&o.click){o.click(m);m.stopEvent();return false}},maybeClose:function(e){var k=this;if(k.closable){k.navigateAccordionHeader(e);if(!e.doNotClose){k.close()}}},canFocus:function(k,g){if(this.collapsed){return !!(this.placeholder&&this.placeholder.canFocus(k,g))}return this.mixins.focusable.canFocus.call(this,k,g)},focus:function(){var k=this,g=k.placeholder;if(k.collapsed&&g&&g.canFocus()){g.focus.apply(g,arguments)}else{Ext.container.Container.prototype.focus.apply(this,arguments)}},onFocusEnter:function(e){var l=this,m=l.ariaEl.dom;Ext.container.Container.prototype.onFocusEnter.call(this,e);if(l.isAccordionPanel&&m){m.setAttribute("aria-selected",true)}},onFocusLeave:function(e){var l=this,m=l.ariaEl.dom;Ext.container.Container.prototype.onFocusLeave.call(this,e);if(l.isAccordionPanel&&m){m.setAttribute("aria-selected","false")}},updateHeaderPosition:function(k){var g=this.header;if(g&&g.isHeader){g.setDock(k)}},updateIconAlign:function(g){var k=this.header;if(k&&k.isHeader){k.setIconAlign(g)}},updateTitleAlign:function(g){var k=this.header;if(k&&k.isHeader){k.setTitleAlign(g)}},updateTitleRotation:function(k){var g=this.header;if(g&&g.isHeader){g.setTitleRotation(k)}},unghost:function(q,t,s){var n=this,o=n.el,p=n.ghostPanel;if(!p){return}o.show();o.setVisibilityMode(n.elVisMode);if(q!==false){if(t!==false){n.setPagePosition(p.getXY())}}else{o.hide()}p.el.hide();p.setHiddenState(true)},updateHeader:function(F){var x=this,B=x.header,I=x.getTitle(),z=x.tools,J=x.getIcon(),w=x.getGlyph(),G=x.getIconCls(),C=w||J||G,y=x.ariaEl.dom,A=x.getHeaderPosition(),D=A==="left"||A==="right",H,E;if(Ext.isObject(B)||(B!==false&&(F||(I||C)||(z&&z.length)||(x.collapsible&&!x.titleCollapse)))){if(B&&B.isHeader){B.dockToEl=true;B.show()}else{B=x.header=Ext.widget(Ext.merge({xtype:"header",title:I,titleAlign:x.getTitleAlign(),vertical:D,dock:x.getHeaderPosition()||"top",dockToEl:true,titleRotation:x.getTitleRotation(),textCls:x.headerTextCls,iconCls:G,iconAlign:x.getIconAlign(),icon:J,glyph:w,baseCls:x.baseCls+"-header",tools:z,ui:x.ui,id:x.id+"_header",overCls:x.headerOverCls,indicateDrag:x.draggable,frame:(x.frame||x.alwaysFramed)&&x.frameHeader,ignoreParentFrame:x.frame||x.overlapHeader,ignoreBorderManagement:x.frame||x.ignoreHeaderBorderManagement,isAccordionHeader:x.isAccordionPanel,ownerCt:x,synthetic:true,listeners:x.collapsible&&x.titleCollapse?{click:x.toggleCollapse,scope:x}:null},x.header));x.addDocked(B,0)}if(x.isAccordionPanel){if(y){y.setAttribute("aria-labelledby",B.id+"-title");y.removeAttribute("aria-label")}else{E=x.ariaRenderAttributes||(x.ariaRenderAttributes={});E["aria-labelledby"]=B.id+"-title";delete E["aria-label"]}}else{if(I){if(x.ariaRole!=="tabpanel"){if(y){y.setAttribute("aria-labelledby",B.id+"-title-textEl");y.removeAttribute("aria-label")}else{E=x.ariaRenderAttributes||(x.ariaRenderAttributes={});E["aria-labelledby"]=B.id+"-title-textEl";delete E["aria-label"]}}}else{if(x.ariaRenderAttributes){delete x.ariaRenderAttributes["aria-label"]}}}}else{if(B){B.hide()}I=Ext.util.Format.stripTags(I);if(y){if(!y.hasAttribute("aria-labelledby")){if(I){y.setAttribute("aria-label",I)}else{y.removeAttribute("aria-label")}}}else{E=x.ariaRenderAttributes||(x.ariaRenderAttributes={});if(!E["aria-labelledby"]){if(I){E["aria-label"]=I}else{delete E["aria-label"]}}}}if(x.isViewportBorderChild&&!x.hasOwnProperty("ariaRole")){x.ariaRole="region"}if(I&&x.ariaRole==="region"){H=x.headingEl;if(H){H.setHtml(I)}else{if(x.rendered){x.headingEl=Ext.dom.Helper.insertFirst(x.el,{tag:"div",id:x.id+"-headingEl",role:"heading","class":"x-hidden-clip",style:"height:0",html:I},true);y.removeAttribute("aria-label");y.setAttribute("aria-labelledby",x.id+"-headingEl")}else{x.headingText=x.title;E=x.ariaRenderAttributes||(x.ariaRenderAttributes={});E["aria-labelledby"]=x.id+"-headingEl";delete E["aria-label"]}}}else{if(x.headingEl){x.headingEl.destroy();x.headingEl=null}}},statics:{floatCls:"x-border-region-slide-in"},privates:{addUIToElement:function(){var f=this;Ext.container.Container.prototype.addUIToElement.apply(this,arguments);f.addBodyCls(f.baseCls+"-body-"+f.ui)},applyTargetCls:function(f){this.getProtoBody().addCls(f)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var f=this;return f.body||f.protoBody||f.frameBody||f.el},initDraggable:function(){var f=this;if(f.simpleDrag){f.initSimpleDraggable()}else{f.dd=new Ext.panel.DD(f,Ext.isBoolean(f.draggable)?null:f.draggable)}},initResizable:function(f){Ext.container.Container.prototype.initResizable.call(this,f);if(this.collapsed){this.resizer.disable()}},initSimpleDraggable:function(){var g=this,k=g.draggable;if(!g.header&&!k.delegate){g.updateHeader(true)}if(g.header||k.delegate){k=Ext.apply({el:g.el,delegate:g.header&&g.header.el},k);if(g.constrain||g.constrainHeader){k.constrain=g.constrain;k.constrainDelegate=g.constrainHeader;k.constrainTo=g.constrainTo||g.container}k=g.dd=new Ext.util.ComponentDragger(g,k);g.relayEvents(k,["dragstart","drag","dragend"])}},removeUIFromElement:function(){var f=this;Ext.container.Container.prototype.removeUIFromElement.apply(this,arguments);f.removeBodyCls(f.baseCls+"-body-"+f.ui)},setupRenderTpl:function(f){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);this.setupDockingRenderTpl(f)},slideOutFloatedPanel:function(s){var p=this,n=p.el,o,t,q=function(){p.slideOutFloatedPanelEnd();p.el.removeCls("x-border-region-slide-in");p.fireEvent("endfloat",p)};if(p.isSliding||p.destroyed){return}p.isSliding=true;p.floated=false;p.slideOutFloatedPanelBegin();if(s){n.hide();return q()}if(typeof p.collapsed==="string"){o=p.convertCollapseDir(p.collapsed)}p.fireEvent("beginfloat",p);n.slideOut(o,{preserveScroll:true,duration:Ext.Number.from(p.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:q}});if(this.containsFocus){t=this.findFocusTarget();if(t){t.focus()}}},slideOutFloatedPanelBegin:function(){var n=this,m=n.placeholder.el,o=n.el,l=n.bodyMousedownListener;n.collapsed=n.floatedFromCollapse;n.setHiddenState(true);n.floatedFromCollapse=null;Ext.destroy(n.pointerLeaveListener,n.phHoverListeners,n.elHoverListeners);if(l){n.bodyMousedownListener=l.destroy()}},slideOutFloatedPanelEnd:function(k){var g=this;if(g.collapseTool){g.collapseTool.el.show()}g.slideOutTask.cancel();g.isSliding=false;if(!k){g.fireEvent("unfloat",g)}}}},0,["panel"],["component","box","container","panel"],{component:true,box:true,container:true,panel:true},["widget.panel"],[["docking",Ext.container.DockingContainer]],[Ext.panel,"Panel",Ext,"Panel"],function(){var f=this.prototype;f.animCollapse=Ext.enableFx;f.placeholderCollapseHideMode=Ext.Element.VISIBILITY}));Ext.define("Ext.theme.neptune.panel.Panel",{override:"Ext.panel.Panel",border:false,bodyBorder:false,initBorderProps:Ext.emptyFn,initBodyBorder:function(){if(this.bodyBorder!==true){arguments.callee.$previous.call(this)}}});(Ext.cmd.derive("Ext.dd.DragTracker",Ext.Base,{active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(k){var g=this;Ext.apply(g,k);g.dragRegion=new Ext.util.Region(0,0,0,0);if(g.el){g.initEl(g.el)}g.mixins.observable.constructor.call(g);if(g.disabled){g.disable()}if(Ext.supports.Touch){Ext.getWin().on({touchstart:"onWindowTouchStart",scope:g,capture:true})}},initEl:function(p){var o=this,q=o.delegate,m,n;o.el=p=Ext.get(p);p.addCls("x-unselectable");if(q&&q.isElement){o.handle=q}o.delegate=o.handle?undefined:o.delegate;if(Ext.supports.Touch){m=Ext.ComponentManager.fromElement(p);n=m&&m.getScrollable();if(n){m=n.getElement();if(o.handle&&!m.contains(o.handle)){n=false}else{if(o.delegate&&!m.down(o.delegate)){n=false}else{n=n.getX()||n.getY()}}}}if(!o.handle){o.handle=p}o.handleListeners={scope:o,delegate:o.delegate,dragstart:o.onDragStart};if(n){o.handleListeners.longpress=o.onMouseDown;o.handleListeners.mousedown={fn:o.onMouseDown,delegate:o.delegate,translate:false};o.handleListeners.contextmenu=function(e){e.stopEvent()}}else{o.handleListeners.mousedown=o.onMouseDown}if(!Ext.supports.TouchEvents&&(o.trackOver||o.overCls)){Ext.apply(o.handleListeners,{mouseover:o.onMouseOver,mouseout:o.onMouseOut})}o.mon(o.handle,o.handleListeners);o.keyNav=new Ext.util.KeyNav({target:p,up:o.onResizeKeyDown,left:o.onResizeKeyDown,right:o.onResizeKeyDown,down:o.onResizeKeyDown,scope:o})},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){var f=this;f.endDrag({});f.el=f.handle=f.onBeforeStart=f.onStart=f.onDrag=f.onEnd=f.onCancel=null;f.callParent()},onWindowTouchStart:function(e){if(this.mouseIsDown){this.onMouseUp(e)}},onMouseOver:function(v,w){var e=this,x,q,s,u,t;if(!e.disabled){if(v.within(v.target,true,true)||e.delegate){x=e.handleCls;e.mouseIsOut=false;if(x){for(s=0,u=e.handleEls.length;s<u;s++){q=e.handleEls[s];t=q.delegateCls;if(!t){t=q.delegateCls=[x,"-",q.region,"-over"].join("")}q.addCls([t,e.overCls])}}e.fireEvent("mouseover",e,v,e.delegate?v.getTarget(e.delegate,w):e.handle)}}},onMouseOut:function(e){var n=this,o,p,q;if(n.mouseIsDown){n.mouseIsOut=true}else{if(n.handleCls){for(p=0,q=n.handleEls.length;p<q;p++){o=n.handleEls[p];o.removeCls([o.delegateCls,n.overCls])}}n.fireEvent("mouseout",n,e)}},onMouseDown:function(e,m){var n=this,o=e.parentEvent||e;if(n.disabled||o.dragTracked){return}n.dragTarget=n.delegate?m:n.handle.dom;n.startXY=n.lastXY=e.getXY();n.startRegion=Ext.fly(n.dragTarget).getRegion();if(n.fireEvent("mousedown",n,e)===false||n.fireEvent("beforedragstart",n,e)===false||n.onBeforeStart(e)===false){return}n.mouseIsDown=true;o.dragTracked=true;n.el.setCapture();e.stopPropagation();if(n.preventDefault!==false||e.pointerType==="touch"){e.preventDefault()}Ext.getDoc().on({scope:n,capture:true,mouseup:n.onMouseUp,mousemove:n.onMouseMove,selectstart:n.stopSelect});n.dragEnded=false;if(!n.tolerance){n.triggerStart()}else{if(n.autoStart){n.timer=Ext.defer(n.triggerStart,n.autoStart===true?1000:n.autoStart,n,[e])}}},onMouseMove:function(e,n){var p=this,o=e.getXY(),q=p.startXY;e.stopPropagation();if(p.preventDefault!==false){e.preventDefault()}if(p.dragEnded){return}p.lastXY=o;if(!p.active){if(Math.max(Math.abs(q[0]-o[0]),Math.abs(q[1]-o[1]))>p.tolerance){p.triggerStart(e)}else{return}}if(p.fireEvent("mousemove",p,e)===false){p.onMouseUp(e)}else{p.onDrag(e);p.fireEvent("drag",p,e)}},onMouseUp:function(e){var k=this;k.mouseIsDown=false;if(k.mouseIsOut){k.mouseIsOut=false;k.onMouseOut(e)}if(k.preventDefault!==false){e.preventDefault()}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}k.fireEvent("mouseup",k,e);k.endDrag(e)},endDrag:function(e){var l=this,m=l.active;Ext.getDoc().un({mousemove:l.onMouseMove,mouseup:l.onMouseUp,selectstart:l.stopSelect,capture:true,scope:l});l.clearStart();l.active=false;l.dragEnded=true;if(m){l.onEnd(e);l.fireEvent("dragend",l,e)}else{l.onCancel(e)}l._constrainRegion=null},triggerStart:function(e){var k=this;k.clearStart();k.active=true;k.onStart(e);k.fireEvent("dragstart",k,e)},clearStart:function(){var f=this.timer;if(f){clearTimeout(f);this.timer=null}},stopSelect:function(e){e.stopEvent();return false},onBeforeStart:function(e){},onStart:function(f){},onDrag:function(e){},onCancel:function(e){},onEnd:function(e){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var f=this;if(f.constrainTo){if(f.constrainTo instanceof Ext.util.Region){return f.constrainTo}if(!f._constrainRegion){f._constrainRegion=Ext.fly(f.constrainTo).getViewRegion()}}else{if(!f._constrainRegion){f._constrainRegion=f.getDragCt().getViewRegion()}}return f._constrainRegion},getXY:function(f){return f?this.constrainModes[f](this,this.lastXY):this.lastXY},getOffset:function(k){var l=this.getXY(k),m=this.startXY;return[l[0]-m[0],l[1]-m[1]]},onDragStart:function(e){e.stopPropagation()},constrainModes:{point:function(n,l){var m=n.dragRegion,o=n.getConstrainRegion();if(!o){return l}m.x=m.left=m[0]=m.right=l[0];m.y=m.top=m[1]=m.bottom=l[1];m.constrainTo(o);return[m.left,m.top]},dragTarget:function(q,n){var s=q.startXY,o=q.startRegion.copy(),t=q.getConstrainRegion(),p;if(!t){return n}o.translateBy(n[0]-s[0],n[1]-s[1]);if(o.right>t.right){n[0]+=p=(t.right-o.right);o.left+=p}if(o.left<t.left){n[0]+=(t.left-o.left)}if(o.bottom>t.bottom){n[1]+=p=(t.bottom-o.bottom);o.top+=p}if(o.top<t.top){n[1]+=(t.top-o.top)}return n}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.dd,"DragTracker"],0));(Ext.cmd.derive("Ext.util.ComponentDragger",Ext.dd.DragTracker,{autoStart:500,constructor:function(k,g){this.comp=k;this.initialConstrainTo=g.constrainTo;Ext.dd.DragTracker.prototype.constructor.call(this,g)},onStart:function(e){var l=this,m=l.comp;l.dragTarget=l.el;l.startRegion=l.el.getRegion();l.startPosition=m.getXY();if(m.ghost&&!m.liveDrag){l.proxy=m.ghost()}if(l.constrain||l.constrainDelegate){l.constrainTo=l.calculateConstrainRegion()}if(m.beginDrag){m.beginDrag()}if(m.el.shim){Ext.dom.Element.maskIframes()}},calculateConstrainRegion:function(){var u=this,w=u.comp,v=u.initialConstrainTo||u.comp.el.dom.parentNode,x=w.constraintInsets,s,A,y,z=u.proxy?u.proxy.el:w.el,t=z.shadow,B=(t&&!u.constrainDelegate&&w.constrainShadow&&!t.disabled)?t.getShadowSize():0;if(!(v instanceof Ext.util.Region)){s=Ext.fly(v);v=s.getConstrainRegion()}else{v=v.copy()}if(x){x=Ext.isObject(x)?x:Ext.Element.parseBox(x);v.adjust(x.top,x.right,x.bottom,x.left)}if(B){v.adjust(B[0],-B[1],-B[2],B[3])}if(u.constrainDelegate){A=Ext.fly(u.handle).getRegion();y=z.getRegion();v.adjust(y.top-A.top,y.right-A.right,y.bottom-A.bottom,y.left-A.left)}return v},onDrag:function(m){var n=this,o=(n.proxy&&!n.comp.liveDrag)?n.proxy:n.comp,e=n.getOffset(n.constrain||n.constrainDelegate?"dragTarget":null);o.setPagePosition(n.startPosition[0]+e[0],n.startPosition[1]+e[1])},onEnd:function(e){var k=this.comp;if(k.destroyed||k.destroying){return}if(this.proxy&&!k.liveDrag){k.unghost()}if(k.endDrag){k.endDrag()}if(k.el.shim){Ext.dom.Element.unmaskIframes()}}},1,0,0,0,0,0,[Ext.util,"ComponentDragger"],0));(Ext.cmd.derive("Ext.window.Window",Ext.panel.Panel,{alternateClassName:"Ext.Window",baseCls:"x-window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,alignOnScroll:false,itemCls:"x-window-item",overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isRootCfg:{isRoot:true},isWindow:true,ariaRole:"dialog",focusable:true,tabGuard:true,closeToolText:"Close dialog",keyMap:{scope:"this",ESC:"onEsc"},maskClickAction:"focus",disableCloseToolFocus:true,initComponent:function(){var f=this;f.frame=false;Ext.panel.Panel.prototype.initComponent.call(this);if(f.plain){f.addClsWithUI("plain")}f.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var g=this,k;k=Ext.panel.Panel.prototype.getElConfig.call(this);k.tabIndex=-1;return k},getFocusEl:function(){return this.getDefaultFocus()||this.el},getState:function(){var p=this,n=Ext.panel.Panel.prototype.getState.call(this)||{},q=!!p.maximized,o=p.ghostBox,m;n.maximized=q;if(q){m=p.restorePos}else{if(o){m=[o.x,o.y]}else{m=p.getPosition(true)}}Ext.apply(n,{size:q?p.restoreSize:p.getSize(),pos:m});return n},applyState:function(g){var k=this;if(g){k.maximized=g.maximized;if(k.maximized){k.hasSavedRestore=true;k.restoreSize=g.size;k.restorePos=g.pos}else{Ext.apply(k,{width:g.size.width,height:g.size.height,x:g.pos[0],y:g.pos[1]})}}},onRender:function(l,m){var k=this;Ext.panel.Panel.prototype.onRender.apply(this,arguments);if(k.header){k.header.on({scope:k,click:k.onHeaderClick})}if(k.maximizable){k.header.on({scope:k,dblclick:k.toggleMaximize})}},afterRender:function(){var k=this,g=k.header;if(k.maximized){k.maximized=false;k.maximize(null,true);if(g){g.removeCls(g.indicateDragCls)}}Ext.panel.Panel.prototype.afterRender.call(this);k.initTabGuards()},onEsc:function(e){e.stopEvent();this.close()},doDestroy:function(){var f=this;if(f.rendered){Ext.un("resize",f.onWindowResize,f);delete f.animateTarget;f.hide()}Ext.panel.Panel.prototype.doDestroy.call(this)},addTools:function(){var k=this,g=[];Ext.panel.Panel.prototype.addTools.call(this);if(k.minimizable){g.push({type:"minimize",handler:"minimize",scope:k})}if(k.maximizable){g.push({type:"maximize",handler:"toggleMaximize",scope:k})}if(g.length){k.addTool(g)}},addTool:function(g){var k=this;Ext.panel.Panel.prototype.addTool.call(this,g);if(k.rendered&&k.tabGuard){k.initTabGuards()}},add:function(){var g=this,k;k=Ext.panel.Panel.prototype.add.apply(this,arguments);if(g.rendered&&g.tabGuard){g.initTabGuards()}return k},remove:function(){var g=this,k;k=Ext.panel.Panel.prototype.remove.apply(this,arguments);if(g.rendered&&g.tabGuard){g.initTabGuards()}return k},addDocked:function(){var g=this,k;k=Ext.panel.Panel.prototype.addDocked.apply(this,arguments);if(g.rendered&&g.tabGuard){g.initTabGuards()}return k},removeDocked:function(){var g=this,k;k=Ext.panel.Panel.prototype.removeDocked.apply(this,arguments);if(g.rendered&&g.tabGuard){g.initTabGuards()}return k},onShow:function(){var f=this;Ext.panel.Panel.prototype.onShow.apply(this,arguments);if(f.expandOnShow){f.expand(false)}f.syncMonitorWindowResize();if(f.rendered&&f.tabGuard){f.initTabGuards()}},doClose:function(){var f=this;if(f.hidden){f.fireEvent("close",f);if(f.closeAction==="destroy"&&!f.destroying&&!f.destroyed){f.destroy()}}else{f.hide(f.animateTarget,f.doClose,f)}},afterHide:function(){var f=this;f.syncMonitorWindowResize();Ext.panel.Panel.prototype.afterHide.apply(this,arguments);if(f.rendered&&f.tabGuard){f.initTabGuards()}},onWindowResize:function(){var g=this,k;if(!g.destroyed){if(g.maximized){g.fitContainer()}else{k=g.getSizeModel();if(k.width.natural||k.height.natural){g.updateLayout()}g.doConstrain()}}},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(f){this.header.resumeLayouts(f?this.isRootCfg:null)},afterCollapse:function(){var m=this,k=m.header,l=m.tools;if(k&&m.maximizable){k.suspendLayouts();l.maximize.hide();this.resumeHeaderLayout(true)}if(m.resizer){m.resizer.disable()}Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){var o=this,l=o.header,n=o.tools,m;if(l){l.suspendLayouts();if(o.maximizable){n.maximize.show();m=true}this.resumeHeaderLayout(m)}if(o.resizer){o.resizer.enable()}Ext.panel.Panel.prototype.afterExpand.apply(this,arguments)},maximize:function(y,u){var s=this,w=s.header,v=s.tools,z=s.width,q=s.height,t,x;if(!s.maximized&&!s.maximizing){s.maximizing=true;s.expand(false);if(!s.hasSavedRestore){t=s.restoreSize={width:z?z:null,height:q?q:null};if(u){s.restorePos=[s.x||0,s.y||0]}else{s.restorePos=s.getPosition()}}if(w){w.suspendLayouts();if(v.maximize){v.maximize.setType("restore")}if(s.collapseTool){s.collapseTool.hide();x=true}s.resumeHeaderLayout(x)}s.el.disableShadow();if(s.dd){s.dd.disable();if(w){w.removeCls(w.indicateDragCls)}}if(s.resizer){s.resizer.disable()}s.el.addCls("x-window-maximized");s.container.addCls("x-window-maximized-ct");s.syncMonitorWindowResize();s.fitContainer(y=(y||!!s.animateTarget)?{callback:function(){s.maximizing=false;s.maximized=true;if(!u){s.fireEvent("maximize",s)}}}:null);if(!y){s.maximizing=false;s.maximized=true;if(!u){s.fireEvent("maximize",s)}}}return s},restore:function(s){var q=this,p=q.tools,n=q.header,t=q.restoreSize,o;if(q.maximized){q.hasSavedRestore=null;q.removeCls("x-window-maximized");if(n){n.suspendLayouts();if(p.maximize){p.maximize.setType("maximize")}if(q.collapseTool){q.collapseTool.show();o=true}q.resumeHeaderLayout(o)}t.x=q.restorePos[0];t.y=q.restorePos[1];q.setBox(t,s=(s||!!q.animateTarget)?{callback:function(){q.el.enableShadow(null,true);q.maximized=false;q.fireEvent("restore",q)}}:null);q.restorePos=q.restoreSize=null;if(q.dd){q.dd.enable();if(n){n.addCls(n.indicateDragCls)}}if(q.resizer){q.resizer.enable()}q.container.removeCls("x-window-maximized-ct");q.syncMonitorWindowResize();if(!s){q.el.enableShadow(null,true);q.maximized=false;q.fireEvent("restore",q)}}return q},syncMonitorWindowResize:function(){var n=this,m=n._monitoringResize,l=n.monitorResize||n.constrain||n.constrainHeader||n.maximized,o=n.hidden||n.destroying||n.destroyed;if(l&&!o){if(!m){Ext.on("resize",n.onWindowResize,n,{buffer:1});n._monitoringResize=true}}else{if(m){Ext.un("resize",n.onWindowResize,n);n._monitoringResize=false}}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var f=Ext.panel.Panel.prototype.createGhost.apply(this,arguments);f.xtype="window";f.focusOnToFront=false;return f},getDefaultFocus:function(){var m=this,n,l=m.defaultFocus,o;if(l!==undefined){if(Ext.isNumber(l)){n=m.query("button")[l]}else{if(Ext.isString(l)){o=l;if(Ext.validIdRe.test(o)){n=m.down(Ext.makeIdSelector(o))}if(!n){n=m.down(o)}}else{if(l.focus){n=l}}}}return n},privates:{initDraggable:function(){this.initSimpleDraggable()},onHeaderClick:function(e,l){var m;if(e.el.contains(l.getTarget())){m=this.getDefaultFocus();if(m){m.focus()}}},initResizable:function(k){var g=this;Ext.panel.Panel.prototype.initResizable.call(this,k);if(g.maximized||g.maximizing){g.resizer.disable()}},initSimpleDraggable:function(){var g=this,k;Ext.panel.Panel.prototype.initSimpleDraggable.call(this);k=g.dd;if(k&&g.maximized||g.maximizing){k.disable()}},onTabGuardFocusEnter:function(v,u){var t=this,z=t.el,x=t.tabGuardBeforeEl,y=t.tabGuardAfterEl,e=v.relatedTarget,A,w,B;A=z.findTabbableElements({skipSelf:true});if(A[0]===x.dom){A.shift()}if(A[A.length-1]===y.dom){A.pop()}if(A.length===0){B=z}else{if(e===z.dom){w=u===x.dom}else{if(z.contains(e)){w=!!v.forwardTab}else{w=u===x.dom}}}B=B||(w?A[0]:A[A.length-1]);if(B){B.focus()}}}},0,["window"],["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},["widget.window"],0,[Ext.window,"Window",Ext,"Window"],0));(Ext.cmd.derive("Ext.form.Labelable",Ext.Mixin,{isLabelable:true,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl","ariaErrorEl","ariaStatusEl","ariaHelpEl","labelTextEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{childElCls} {unselectableCls}" style="{labelStyle}"','<tpl if="inputId && !skipLabelForAttribute"> for="{inputId}"</tpl>'," {labelAttrTpl}>",'<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<span id="{id}-labelTextEl" data-ref="labelTextEl" class="{labelTextCls}">','<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">{labelSeparator}</tpl>',"</tpl>","</span>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" role="presentation"',' class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}",'<tpl if="renderAriaElements">','<tpl if="ariaHelp">','<span id="{id}-ariaHelpEl" data-ref="ariaHelpEl"',' class="x-hidden-offsets">',"{ariaHelp}","</span>","</tpl>",'<span id="{id}-ariaStatusEl" data-ref="ariaStatusEl" aria-hidden="true"',' class="x-hidden-offsets">',"{ariaStatus}","</span>",'<span id="{id}-ariaErrorEl" data-ref="ariaErrorEl" aria-hidden="true" aria-live="assertive"',' class="x-hidden-clip">',"</span>","</tpl>","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="presentation" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{tipAnchorTarget}">',"</div>","</div>","</tpl>",{disableFormats:true}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],ariaActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors" between=". ">{.}</tpl>',"</tpl>"],isFieldLabelable:true,formItemCls:"x-form-item",labelCls:"x-form-item-label",topLabelCls:"x-form-item-label-top",rightLabelCls:"x-form-item-label-right",labelInnerCls:"x-form-item-label-inner",labelTextCls:"x-form-item-label-text",topLabelSideErrorCls:"x-form-item-label-top-side-error",errorMsgCls:"x-form-error-msg",errorWrapCls:"x-form-error-wrap",errorWrapSideCls:"x-form-error-wrap-side",errorWrapUnderCls:"x-form-error-wrap-under",errorWrapUnderSideLabelCls:"x-form-error-wrap-under-side-label",baseBodyCls:"x-form-item-body",invalidIconCls:"x-form-invalid-icon",invalidUnderCls:"x-form-invalid-under",noLabelCls:"x-form-item-no-label",fieldBodyCls:"",extraFieldBodyCls:"",invalidCls:"x-form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:true,ariaHelp:undefined,ariaErrorText:"Input error. {0}.",labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var l=this.tip,m,k;if(l){return}m={id:"ext-form-error-tip",ui:"form-invalid"};if(Ext.supports.Touch){m.dismissDelay=0;m.anchor="top";m.showDelay=0;m.showOnTap=true;m.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.activeTarget.el).getWidth()}}}l=this.tip=Ext.create("Ext.tip.QuickTip",m);k=Ext.apply({},l.tagConfig);k.attribute="errorqtip";l.setTagConfig(k)},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var k=this,g=k.padding;if(g){k.padding=undefined;k.extraMargins=Ext.Element.parseBox(g)}if(Ext.isIE8){k.restoreDisplay=Ext.Function.createDelayed(k.doRestoreDisplay,0,k)}if(!k.activeErrorsTpl){if(k.msgTarget==="title"){k.activeErrorsTpl=k.plaintextActiveErrorsTpl}else{k.activeErrorsTpl=k.htmlActiveErrorsTpl}}k.addCls([k.formItemCls,k.formItemCls+"-"+k.ui]);k.lastActiveError="";k.enableBubble("errorchange")},trimLabelSeparator:function(){var m=this,l=m.labelSeparator,o=m.fieldLabel||"",n=o.substr(o.length-1);return n===l?o.slice(0,-1):o},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(s){s=s||"";var q=this,p=q.labelSeparator,t=q.labelEl,u=q.errorWrapEl,w=(q.labelAlign!=="top"),v=q.noLabelCls,x=q.errorWrapUnderSideLabelCls;q.fieldLabel=s;if(q.rendered){if(Ext.isEmpty(s)&&q.hideEmptyLabel){q.addCls(v);if(w&&u){u.removeCls(x)}}else{if(p){s=q.trimLabelSeparator()+p}q.labelTextEl.dom.innerHTML=s;q.removeCls(v);if(w&&u){u.addCls(x)}}q.updateLayout()}},setHideLabel:function(k){var g=this;if(k!==g.hideLabel){g.hideLabel=k;if(g.rendered){g[k?"addCls":"removeCls"](g.noLabelCls);g.updateLayout()}}},setHideEmptyLabel:function(m){var k=this,l;if(m!==k.hideEmptyLabel){k.hideEmptyLabel=m;if(k.rendered&&!k.hideLabel){l=m&&!k.getFieldLabel();k[l?"addCls":"removeCls"](k.noLabelCls);k.updateLayout()}}},getInsertionRenderData:function(n,m){var p=m.length,q,o;while(p--){q=m[p];o=this[q];if(o){if(typeof o!=="string"){if(!o.isTemplate){o=Ext.XTemplate.getTpl(this,q)}o=o.apply(n)}}n[q]=o||""}return n},getLabelableRenderData:function(){var D=this,A=D.labelAlign,N=(A==="top"),G=(A==="right"),J=(D.msgTarget==="side"),M=(D.msgTarget==="under"),B=D.errorMsgCls,L=D.labelPad,E=D.labelWidth,Q=D.labelClsExtra||"",K=J?D.errorWrapSideCls:D.errorWrapUnderCls,R="",H="",O=D.hasVisibleLabel(),F=D.autoFitErrors,I=D.defaultBodyWidth,P,C;if(N){Q+=" "+D.topLabelCls;if(L){H="padding-bottom:"+L+"px;"}if(J&&!F){Q+=" "+D.topLabelSideErrorCls}}else{if(G){Q+=" "+D.rightLabelCls}if(L){R+=D.getHorizontalPaddingStyle()+L+"px;"}R+="width:"+(E+(L?L:0))+"px;";H="width:"+E+"px"}if(O){if(!N&&M){K+=" "+D.errorWrapUnderSideLabelCls}}if(I){P="min-width:"+I+"px;max-width:"+I+"px;"}C={id:D.id,inputId:D.getInputId(),labelCls:D.labelCls,labelClsExtra:Q,labelStyle:R+(D.labelStyle||""),labelInnerStyle:H,labelInnerCls:D.labelInnerCls,labelTextCls:D.labelTextCls,skipLabelForAttribute:!!D.skipLabelForAttribute,unselectableCls:Ext.Element.unselectableCls,bodyStyle:P,baseBodyCls:D.baseBodyCls,fieldBodyCls:D.fieldBodyCls,extraFieldBodyCls:D.extraFieldBodyCls,errorWrapCls:D.errorWrapCls,errorWrapExtraCls:K,renderError:J||M,invalidMsgCls:J?D.invalidIconCls:M?D.invalidUnderCls:"",errorMsgCls:B,growCls:D.grow?D.growCls:"",tipAnchorTarget:D.id+"-inputEl",errorWrapStyle:(J&&!F)?"visibility:hidden":"display:none",fieldLabel:D.getFieldLabel(),labelSeparator:D.labelSeparator,renderAriaElements:!!D.renderAriaElements,ariaStatus:""};if(D.ariaHelp){C.ariaHelp=Ext.String.htmlEncode(D.ariaHelp)}D.getInsertionRenderData(C,D.labelableInsertions);return C},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){var f=this;f.setFieldDefaults(f.getInherited().fieldDefaults);if(f.ownerLayout){f.addCls("x-"+f.ownerLayout.type+"-form-item")}if(!f.hasVisibleLabel()){f.addCls(f.noLabelCls)}},onLabelRender:function(){var p=this,q={},n=Ext.Element,t=p.errorWrapEl,o,s;if(t){t.setVisibilityMode((p.msgTarget==="side"&&!p.autoFitErrors)?n.VISIBILITY:n.DISPLAY)}if(p.extraMargins){o=p.el.getMargin();for(s in o){if(o.hasOwnProperty(s)){q["margin-"+s]=(o[s]+p.extraMargins[s])+"px"}}p.el.setStyle(q)}},hasVisibleLabel:function(){if(this.hideLabel){return false}return !(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(f){this.setActiveErrors(f)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(J){var y=this,w=y.errorWrapEl,A=y.msgTarget,B=A==="side",H=A==="qtip",G=y.ariaErrorEl,D,E,z,I,x,F,C;J=Ext.Array.from(J);z=y.lookupTpl("activeErrorsTpl");y.activeErrors=J;E=y.activeError=z.apply({fieldLabel:y.fieldLabel,errors:J,listCls:"x-list-plain"});y.renderActiveError();if(y.rendered){D=y.getActionEl();if(B){y.errorEl.dom.setAttribute("data-errorqtip",E)}else{if(H){D.dom.setAttribute("data-errorqtip",E)}else{if(A==="title"){D.dom.setAttribute("title",E)}}}if(A!=="title"&&G){x=y.lookupTpl("ariaActiveErrorsTpl");F=x.apply({errors:J});C=Ext.String.formatEncode(y.ariaErrorText,F,y.fieldLabel);if(G.dom.innerHTML!==C){G.dom.innerHTML=C}y.ariaStatusEl.dom.innerHTML=Ext.String.htmlEncode(F)}if(B||H){Ext.form.Labelable.initTip()}if(!y.msgTargets[A]){I=Ext.get(A);if(I){I.dom.innerHTML=E}}}if(w){w.setVisible(J.length>0);if(B&&y.autoFitErrors){y.labelEl.addCls(y.topLabelSideErrorCls)}y.updateLayout()}},unsetActiveError:function(){var o=this,t=o.errorWrapEl,p=o.ariaErrorEl,s=o.msgTarget,u=o.restoreDisplay,q,v;if(o.hasActiveError()){delete o.activeError;delete o.activeErrors;o.renderActiveError();if(o.rendered){q=o.getActionEl();if(s==="qtip"){q.dom.removeAttribute("data-errorqtip")}else{if(s==="title"){q.dom.removeAttribute("title")}}if(s!=="title"&&p){p.dom.innerHTML=o.ariaStatusEl.dom.innerHTML=""}if(!o.msgTargets[s]){v=Ext.get(s);if(v){v.dom.innerHTML=""}}if(t){t.hide();if(s==="side"&&o.autoFitErrors){o.labelEl.removeCls(o.topLabelSideErrorCls)}o.updateLayout();if(u){o.el.dom.style.display="block";o.restoreDisplay()}}}}},doRestoreDisplay:function(){var f=this.el;if(f&&f.dom){f.dom.style.display=""}},renderActiveError:function(){var k=this,l=k.getActiveError(),m=!!l;if(l!==k.lastActiveError){k.lastActiveError=l;k.fireEvent("errorchange",k,l)}if(k.rendered&&!k.destroyed&&!k.preventMark){k.toggleInvalidCls(m);if(k.errorEl){k.errorEl.dom.innerHTML=l}}},toggleInvalidCls:function(f){this.el[f?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(g){var k;for(k in g){if(!this.hasOwnProperty(k)){this[k]=g[k]}}}},0,0,0,0,0,0,[Ext.form,"Labelable"],function(){if(Ext.supports.Touch){this.prototype.msgTarget="side"}}));(Ext.cmd.derive("Ext.form.field.Field",Ext.Base,{mixinId:"field",isFormField:true,config:{validation:null,validationField:null},disabled:false,submitValue:true,validateOnChange:true,valuePublishEvent:"change",suspendCheckChange:0,dirty:false,initField:function(){var l=this,m=l.valuePublishEvent,o,n;l.initValue();if(Ext.isString(m)){l.on(m,l.publishValue,l)}else{for(n=0,o=m.length;n<o;++n){l.on(m[n],l.publishValue,l)}}},initValue:function(){var f=this;if("value" in f){f.suspendCheckChange++;f.setValue(f.value);f.suspendCheckChange--}f.initialValue=f.originalValue=f.lastValue=f.getValue()},cleanupField:function(){delete this._ownerRecord},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(g){var k=this;k.value=g;k.checkChange();return k},isEqual:function(g,k){return String(g)===String(k)},isEqualAsString:function(g,k){return String(Ext.valueFrom(g,""))===String(Ext.valueFrom(k,""))},getSubmitData:function(){var k=this,g=null;if(!k.disabled&&k.submitValue){g={};g[k.getName()]=""+k.getValue()}return g},getModelData:function(o,n){var m=this,l=null;if(!m.disabled&&(m.submitValue||!n)){l={};l[m.getFieldIdentifier()]=m.getValue()}return l},reset:function(){var f=this;f.beforeReset();f.setValue(f.originalValue);f.clearInvalid();delete f.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){var k=this,l,m;if(!k.suspendCheckChange&&!k.destroying&&!k.destroyed){l=k.getValue();m=k.lastValue;if(k.didValueChange(l,m)){k.lastValue=l;k.fireEvent("change",k,l,m);k.onChange(l,m)}}},didValueChange:function(g,k){return !this.isEqual(g,k)},onChange:function(k){var g=this;if(g.validateOnChange){g.validate()}g.checkDirty()},publishValue:function(){var f=this;if(f.rendered&&!f.getErrors().length){f.publishState("value",f.getValue())}},isDirty:function(){var f=this;return !f.disabled&&!f.isEqual(f.getValue(),f.originalValue)},checkDirty:function(){var k=this,g=k.isDirty();if(g!==k.wasDirty){k.dirty=g;k.fireEvent("dirtychange",k,g);k.onDirtyChange(g);k.wasDirty=g}},onDirtyChange:Ext.emptyFn,getErrors:function(n){var m=[],o=this.getValidationField(),p=this.getValidation(),q;if(o){q=o.validate(n,null,null,this._ownerRecord);if(q!==true){m.push(q)}}if(p&&p!==true){m.push(p)}return m},isValid:function(){var f=this;return f.disabled||Ext.isEmpty(f.getErrors())},validate:function(){return this.checkValidityChange(this.isValid())},checkValidityChange:function(g){var k=this;if(g!==k.wasValid){k.wasValid=g;k.fireEvent("validitychange",k,g)}return g},setValidationField:function(g,k){(arguments.callee.$previous||Ext.Base.prototype.setValidationField).call(this,g);this._ownerRecord=k},batchChanges:function(f){try{this.suspendCheckChange++;f()}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(k,g){if(g){this.validate()}},privates:{resetToInitialValue:function(){var g=this,k=g.originalValue;g.originalValue=g.initialValue;g.reset();g.originalValue=k}}},0,0,0,0,0,0,[Ext.form.field,"Field"],0));(Ext.cmd.derive("Ext.form.field.Base",Ext.Component,{alternateClassName:["Ext.form.Field","Ext.form.BaseField"],focusable:true,shrinkWrap:true,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"<tpl if=\"ariaEl == 'inputEl'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"</tpl>",'<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:true}],defaultBindProperty:"value",autoEl:{role:"presentation"},subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:true,invalidText:"The value in this field is invalid",fieldCls:"x-form-field",focusCls:"form-focus",dirtyCls:"x-form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:true,readOnly:false,readOnlyCls:"x-form-readonly",validateOnBlur:true,hasFocus:false,baseCls:"x-field",fieldBodyCls:"x-field-body",maskOnDisable:false,stretchInputElFixed:true,ariaEl:"inputEl",renderAriaElements:true,initComponent:function(){var f=this;Ext.Component.prototype.initComponent.call(this);f.subTplData=f.subTplData||{};f.initLabelable();f.initField();f.initDefaultName();if(f.readOnly){f.addCls(f.readOnlyCls)}f.addCls("x-form-type-"+f.inputType);if(f.format&&f.formatText&&!f.ariaHelp){f.ariaHelp=Ext.String.format(f.formatText,f.format)}},initDefaultName:function(){var f=this;if(!f.name){f.name=f.getInputId()}},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(s){var p=this,w=p.id,q=p.inputType,u=p.getInputId(),x,t,v;x=Ext.apply({ui:p.ui,id:u,cmpId:w,name:p.name||u,disabled:p.disabled,readOnly:p.readOnly,value:p.getRawValue(),type:q,fieldCls:p.fieldCls,fieldStyle:p.getFieldStyle(),childElCls:s.childElCls,tabIdx:p.tabIndex,inputCls:p.inputCls,typeCls:"x-form-"+(p.isTextInput?"text":q),ariaEl:p.ariaEl},p.subTplData);if(p.ariaRole){t={};if(!p.ariaStaticRoles[p.ariaRole]){t["aria-hidden"]=!!p.hidden;t["aria-disabled"]=!!p.disabled;v={"aria-invalid":false,"aria-readonly":!!p.readOnly};if(p.ariaLabel){t["aria-label"]=Ext.String.htmlEncode(p.ariaLabel)}t=Ext.apply(t,p.getAriaAttributes());if(!t["aria-describedby"]){if(p.ariaHelp){v["aria-describedby"]=w+"-ariaStatusEl "+w+"-ariaHelpEl"}else{v["aria-describedby"]=w+"-ariaStatusEl"}}x.inputElAriaAttributes=v}if(p.ariaRole!=="native"){t.role=p.ariaRole}if(p.ariaLabel){t["aria-label"]=p.ariaLabel}if(p.format&&p.formatText&&!x.title){t.title=Ext.String.formatEncode(p.formatText,p.format)}x.ariaElAttributes=t}p.getInsertionRenderData(x,p.subTplInsertions);return x},getSubTplMarkup:function(s){var q=this,p=q.getSubTplData(s),o=q.lookupTpl("preSubTpl"),n=q.lookupTpl("postSubTpl"),t="";if(o){t+=o.apply(p)}t+=q.lookupTpl("fieldSubTpl").apply(p);if(n){t+=n.apply(p)}return t},initRenderData:function(){return Ext.applyIf(Ext.Component.prototype.initRenderData.call(this),this.getLabelableRenderData())},setFieldStyle:function(m){var l=this,k=l.inputEl;if(k){k.applyStyles(m)}l.fieldStyle=m},getFieldStyle:function(){var f=this.fieldStyle;return Ext.isObject(f)?Ext.DomHelper.generateStyles(f,null,true):f||""},onRender:function(){this.callParent(arguments);this.mixins.labelable.self.initTip();this.renderActiveError()},beforeBlur:function(e){if(this.validateOnBlur){this.validate()}},onFocusLeave:function(e){Ext.Component.prototype.onFocusLeave.call(this,e);this.completeEdit()},completeEdit:Ext.emptyFn,isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var m=this,l=null,k;if(!m.disabled&&m.submitValue){k=m.getSubmitValue();if(k!==null){l={};l[m.getName()]=k}}return l},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var g=this,k=(g.inputEl?g.inputEl.getValue():Ext.valueFrom(g.rawValue,""));g.rawValue=k;return k},setRawValue:function(k){var m=this,l=m.rawValue;if(!m.transformRawValue.$nullFn){k=m.transformRawValue(k)}k=Ext.valueFrom(k,"");if(l===undefined||l!==k){m.rawValue=k;if(m.inputEl){m.bindChangeEvents(false);m.inputEl.dom.value=k;m.bindChangeEvents(true)}}if(m.rendered&&m.reference){m.publishState("rawValue",k)}return k},transformRawValue:Ext.identityFn,valueToRaw:function(f){return""+Ext.valueFrom(f,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var k=this,g=k.rawToValue(k.processRawValue(k.getRawValue()));k.value=g;return g},setValue:function(g){var k=this;k.setRawValue(k.valueToRaw(g));return k.mixins.field.setValue.call(k,g)},onBoxReady:function(){var f=this;Ext.Component.prototype.onBoxReady.apply(this,arguments);if(f.setReadOnlyOnBoxReady){f.setReadOnly(f.readOnly)}},onDisable:function(){var k=this,g=k.inputEl;Ext.Component.prototype.onDisable.call(this);if(g){g.dom.disabled=true;if(k.hasActiveError()){k.clearInvalid();k.hadErrorOnDisable=true}}if(k.wasValid===false){k.checkValidityChange(true)}},onEnable:function(){var n=this,m=n.inputEl,l=n.preventMark,o;Ext.Component.prototype.onEnable.call(this);if(m){m.dom.disabled=false}if(n.wasValid!==undefined){n.forceValidation=true;n.preventMark=!n.hadErrorOnDisable;o=n.isValid();n.forceValidation=false;n.preventMark=l;n.checkValidityChange(o)}delete n.hadErrorOnDisable},setReadOnly:function(l){var n=this,m=n.inputEl,o=n.readOnly;l=!!l;n[l?"addCls":"removeCls"](n.readOnlyCls);n.readOnly=l;if(m){m.dom.readOnly=l;m.dom.setAttribute("aria-readonly",l)}else{if(n.rendering){n.setReadOnlyOnBoxReady=true}}if(l!==o){n.fireEvent("writeablechange",n,l)}},fireKey:function(e,k){if(e.isSpecialKey()){this.fireEvent("specialkey",this,e,k)}},initEvents:function(){var p=this,v=p.inputEl,o=p.onFieldMutation,s=p.checkChangeEvents,u=s.length,t,q;if(v){p.mon(v,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",p.fireKey,p);for(t=0;t<u;++t){q=s[t];if(q==="propertychange"){p.usesPropertychange=true}if(q==="textInput"){p.usesTextInput=true}p.mon(v,q,o,p)}}Ext.Component.prototype.initEvents.call(this)},onFieldMutation:function(e){if(!this.readOnly&&!(e.type==="propertychange"&&this.ignoreChangeRe.test(e.browserEvent.propertyName))){this.startCheckChangeTask()}},startCheckChangeTask:function(){var g=this,k=g.checkChangeTask;if(!k){g.checkChangeTask=k=new Ext.util.DelayedTask(g.doCheckChangeTask,g)}if(!g.bindNotifyListener){g.bindNotifyListener=Ext.on("beforebindnotify",g.onBeforeNotify,g,{destroyable:true})}k.delay(g.checkChangeBuffer)},doCheckChangeTask:function(){var f=this.bindNotifyListener;if(f){f.destroy();this.bindNotifyListener=null}this.checkChange()},publishValue:function(){var f=this;if(f.rendered&&!f.getErrors().length){f.publishState("value",f.getValue())}},onDirtyChange:function(g){var k=this;k[g?"addCls":"removeCls"](k.dirtyCls);if(k.rendered&&k.reference){k.publishState("dirty",g)}},isValid:function(){var l=this,m=l.disabled,k=l.forceValidation||!m;return k?l.validateValue(l.processRawValue(l.getRawValue())):m},validateValue:function(n){var o=this,l=o.getErrors(n),m=Ext.isEmpty(l);if(!o.preventMark){if(m){o.clearInvalid()}else{o.markInvalid(l)}}return m},markInvalid:function(l){var n=this,o=n.getActiveError(),m;n.setActiveErrors(Ext.Array.from(l));m=n.getActiveError();if(o!==m){n.setError(m);if(!n.ariaStaticRoles[n.ariaRole]&&n.inputEl){n.inputEl.dom.setAttribute("aria-invalid",true)}}},clearInvalid:function(){var g=this,k=g.hasActiveError();delete g.hadErrorOnDisable;g.unsetActiveError();if(k){g.setError("");if(!g.ariaStaticRoles[g.ariaRole]&&g.inputEl){g.inputEl.dom.setAttribute("aria-invalid",false)}}},setError:function(o){var m=this,n=m.msgTarget,l;if(m.rendered){if(n==="title"||n==="qtip"){l=n==="qtip"?"data-errorqtip":"title";m.getActionEl().dom.setAttribute(l,o||"")}else{m.updateLayout()}}},renderActiveError:function(){var k=this,l=k.hasActiveError(),m=k.invalidCls+"-field";if(k.inputEl){k.inputEl[l?"addCls":"removeCls"]([m,m+"-"+k.ui])}k.mixins.labelable.renderActiveError.call(k)},doDestroy:function(){var g=this,k=g.checkChangeTask;if(k){k.cancel()}Ext.destroy(g.bindNotifyListener);g.cleanupField();Ext.Component.prototype.doDestroy.call(this)},privates:{applyBind:function(n,q){var s=this,t=q&&q.value,o,p;o=Ext.Component.prototype.applyBind.call(this,n,q);if(o){p=o.value;s.hasBindingValue=!!p;if(p!==t&&s.getInherited().modelValidation){s.updateValueBinding(o)}}return o},applyRenderSelectors:function(){var f=this;Ext.Component.prototype.applyRenderSelectors.call(this);if(!f.inputEl){f.inputEl=f.el.getById(f.getInputId())}},bindChangeEvents:function(l){var k=l?"resumeEvent":"suspendEvent",m=this.inputEl;if(this.usesPropertychange){m[k]("propertychange")}if(this.usesTextInput){m[k]("textInput")}},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){var f=this;if(!f.hasOwnProperty("renderTpl")){f.renderTpl=f.lookupTpl("labelableRenderTpl")}return Ext.Component.prototype.initRenderTpl.call(this)},onBeforeNotify:function(){this.checkChangeTask.cancel();this.checkChange()},updateValueBinding:function(l){var m=this,n=l.value,o=l.$fieldBinding;if(o){o.destroy();l.$fieldBinding=null}if(n&&n.bindValidationField){m.fieldBinding=n.bindValidationField("setValidationField",m)}}},deprecated:{"5":{methods:{doComponentLayout:function(){this.bindChangeEvents(false);this.callParent(arguments);this.bindChangeEvents(true)}}}}},0,["field"],["component","box","field"],{component:true,box:true,field:true},["widget.field"],[[Ext.form.Labelable.prototype.mixinId||Ext.form.Labelable.$className,Ext.form.Labelable],[Ext.form.field.Field.prototype.mixinId||Ext.form.field.Field.$className,Ext.form.field.Field]],[Ext.form.field,"Base",Ext.form,"Field",Ext.form,"BaseField"],0));(Ext.cmd.derive("Ext.form.field.VTypes",Ext.Base,(function(){var m=/^[a-zA-Z_]+$/,l=/^[a-zA-Z0-9_]+$/,n=/^(")?(?:[^\."\s])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,o=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(e){return n.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(e){return o.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(e){return m.test(e)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return l.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),0,0,0,0,0,0,[Ext.form.field,"VTypes",Ext.form,"VTypes"],0));(Ext.cmd.derive("Ext.form.trigger.Trigger",Ext.Base,{factoryConfig:{defaultType:"trigger"},repeatClick:false,hidden:false,hideOnReadOnly:undefined,tooltip:null,weight:0,preventMouseDown:true,focusOnMousedown:false,baseCls:"x-form-trigger",focusCls:"x-form-trigger-focus",overCls:"x-form-trigger-over",clickCls:"x-form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>','<tpl if="ariaRole"> role="{ariaRole}"<tpl else> role="presentation"</tpl>',">","{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(k,g){return k.weight-g.weight}},constructor:function(l){var k=this,m;Ext.apply(k,l);if(k.compat4Mode){m=k.cls;k.focusCls=[k.focusCls,m+"-focus"];k.overCls=[k.overCls,m+"-over"];k.clickCls=[k.clickCls,m+"-click"]}},afterFieldRender:function(){var k=this,g=k.tooltip;k.initEvents();if(g){k.tooltip=null;k.setTooltip(g)}},destroy:function(){var f=this;f.clickRepeater=f.el=Ext.destroy(f.clickRepeater,f.el);f.callParent()},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var g=this,k=g.el;g.hidden=true;if(k){k.hide()}},initEvents:function(){var l=this,o=l.isFieldEnabled,m=l.getStateEl(),n=l.el;m.addClsOnOver(l.overCls,o,l);m.addClsOnClick(l.clickCls,o,l);if(l.repeatClick){l.clickRepeater=new Ext.util.ClickRepeater(n,{preventDefault:true,handler:l.onClick,listeners:{mousedown:l.onClickRepeaterMouseDown,mouseup:l.onClickRepeaterMouseUp,scope:l},scope:l})}else{l.field.mon(n,{click:l.onClick,mousedown:l.onMouseDown,scope:l})}},isFieldEnabled:function(){return !this.field.disabled},isVisible:function(){var m=this,k=m.field,l=false;if(m.hidden||!k||!m.rendered||m.destroyed){l=true}return !l},onClick:function(){var o=this,q=arguments,e=o.clickRepeater?q[1]:q[0],p=o.handler,n=o.field;if(p&&!n.readOnly&&o.isFieldEnabled()){Ext.callback(o.handler,o.scope,[n,o,e],0,n)}},resolveListenerScope:function(f){return this.field.resolveSatelliteListenerScope(this,f)},onMouseDown:function(e){if(e.pointerType!=="touch"&&(!this.field.containsFocus||this.focusOnMousedown)){this.field.focus()}if(this.preventMouseDown){e.preventDefault()}},onClickRepeaterMouseDown:function(e,k){if(!k.parentEvent||k.parentEvent.type==="mousedown"){this.field.inputEl.focus()}k.preventDefault()},onClickRepeaterMouseUp:function(e){var m=this,l=m.field;Ext.callback(m.endHandler,m.scope,[l,m,e],0,l)},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){var g=this,k=g.el=g.field.triggerWrap.selectNode("#"+g.domId,false);k.setVisibilityMode(Ext.Element.DISPLAY);g.rendered=true},renderBody:function(l){var m=this,k=m.bodyTpl;Ext.apply(l,m.getBodyRenderData());return k?Ext.XTemplate.getTpl(m,"bodyTpl").apply(l):""},renderTrigger:function(o){var m=this,n=m.width,l=m.hidden?"display:none;":"";if(n){l+="width:"+n}return Ext.XTemplate.getTpl(m,"renderTpl").apply({$trigger:m,fieldData:o,ui:o.ui,childElCls:o.childElCls,triggerId:m.domId=m.field.id+"-trigger-"+m.id,cls:m.cls,triggerStyle:l,extraCls:m.extraCls,baseCls:m.baseCls,ariaRole:m.ariaRole})},setHidden:function(f){if(f!==this.hidden){this[f?"hide":"show"]()}},setTooltip:function(m){var n=this,o=n.el,l=n.tooltip;if(m!==l){n.tooltip=m;if(o){o.dom.setAttribute("data-qtip",Ext.htmlEncode(m))}}},setVisible:function(f){this.setHidden(!f)},show:function(){var g=this,k=g.el;g.hidden=false;if(k){k.show()}}},1,0,0,0,["trigger.trigger"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.form.trigger,"Trigger"],0));(Ext.cmd.derive("Ext.util.TextMetrics",Ext.Base,{statics:{shared:null,measure:function(q,n,m){var p=this,o=p.shared;if(!o){o=p.shared=new p(q,m)}o.bind(q);o.setFixedWidth(m||"auto");return o.getSize(n)},destroy:function(){var f=this;Ext.destroy(f.shared);f.shared=null}},constructor:function(o,l){var m=this,n=Ext.getBody().createChild({role:"presentation",cls:"x-textmetrics"});n.setVisibilityMode(1);m.measure=n;if(o){m.bind(o)}n.position("absolute");n.setLocalXY(-1000,-1000);n.hide();if(l){n.setWidth(l)}},getSize:function(k){var l=this.measure,m;l.setHtml(k);m=l.getSize();l.setHtml("");return m},bind:function(k){var g=this;g.el=Ext.get(k);g.measure.setStyle(g.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(f){this.measure.setWidth(f)},getWidth:function(f){this.measure.dom.style.width="auto";return this.getSize(f).width},getHeight:function(f){return this.getSize(f).height},destroy:function(){var f=this;f.el=f.measure=Ext.destroy(f.measure);f.callParent()}},1,0,0,0,0,0,[Ext.util,"TextMetrics"],function(){Ext.Element.override({getTextWidth:function(k,l,m){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(k,this.dom.innerHTML,true)).width,l||0,m||1000000)}})}));(Ext.cmd.derive("Ext.form.field.Text",Ext.form.field.Base,{alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:false,triggers:undefined},renderConfig:{editable:true},growMin:30,growMax:800,growAppend:"W",allowBlank:true,validateBlank:false,allowOnlyWhitespace:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyText:"",emptyCls:"x-form-empty-field",placeholderCoverCls:"x-placeholder-label",requiredCls:"x-form-required-field",ariaRole:"textbox",repeatTriggerClick:false,triggerWrapCls:"x-form-trigger-wrap",triggerWrapFocusCls:"x-form-trigger-wrap-focus",triggerWrapInvalidCls:"x-form-trigger-wrap-invalid",fieldBodyCls:"x-form-text-field-body",inputWrapCls:"x-form-text-wrap",inputWrapFocusCls:"x-form-text-wrap-focus",inputWrapInvalidCls:"x-form-text-wrap-invalid",growCls:"x-form-text-grow",emptyClsElements:null,needArrowKeys:true,squashMouseUp:{mouseup:function(e){if(this.selectOnFocus){this.inputEl.dom.select()}},translate:false,single:true,preventDefault:true},childEls:["triggerWrap","inputWrap","placeholderLabel"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap"',"<tpl if=\"ariaEl == 'triggerWrap'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",' class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap"',' role="presentation" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:['<tpl if="!Ext.supports.Placeholder">','<label id="{cmpId}-placeholderLabel" data-ref="placeholderLabel" for="{id}" class="{placeholderCoverCls} {placeholderCoverCls}-{ui}">{placeholder}</label>',"</tpl>","</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var g=this,k=g.emptyCls;if(g.allowOnlyWhitespace===false){g.allowBlank=false}if(g.size){g.defaultBodyWidth=g.size*6.5+20}if(!g.onTrigger1Click){g.onTrigger1Click=g.onTriggerClick}Ext.form.field.Base.prototype.initComponent.call(this);if(g.readOnly){g.setReadOnly(g.readOnly)}g.fieldFocusCls=g.baseCls+"-focus";g.emptyUICls=k+" "+k+"-"+g.ui;g.addStateEvents("change")},initEvents:function(){var g=this,k=g.inputEl;Ext.form.field.Base.prototype.initEvents.call(this);if(g.selectOnFocus||g.emptyText){g.mon(k,"mousedown",g.onMouseDown,g)}if(g.maskRe||(g.vtype&&g.disableKeyFilter!==true&&(g.maskRe=Ext.form.field.VTypes[g.vtype+"Mask"]))){g.mon(k,"keypress",g.filterKeys,g)}if(g.enableKeyEvents){g.mon(k,{scope:g,keyup:g.onKeyUp,keydown:g.onKeyDown,keypress:g.onKeyPress})}},isEqual:function(g,k){return this.isEqualAsString(g,k)},onChange:function(g,k){Ext.form.field.Base.prototype.onChange.call(this,g,k);this.autoSize()},getSubTplData:function(t){var s=this,p=s.getRawValue(),w=s.emptyText&&p.length<1,v=s.maxLength,x,q,u;if(s.enforceMaxLength){if(v===Number.MAX_VALUE){v=undefined}}else{v=undefined}if(s.emptyText){x=s.emptyText}q=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,t),{triggerWrapCls:s.triggerWrapCls,inputWrapCls:s.inputWrapCls,placeholderCoverCls:s.placeholderCoverCls,triggers:s.orderedTriggers,maxLength:v,readOnly:!s.editable||s.readOnly,placeholder:x,value:p,fieldCls:s.fieldCls+(s.allowBlank?"":" "+s.requiredCls)+(w?" "+s.emptyUICls:"")});u=q.inputElAriaAttributes;if(u){u["aria-required"]=!s.allowBlank}return q},onRender:function(){var n=this,o=n.getTriggers(),m=[],l;if(Ext.supports.FixedTableWidthBug){n.el._needsTableWidthFix=true}(arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).call(this);if(o){this.invokeTriggers("onFieldRender");for(l in o){m.push(o[l].el)}n.triggerEl=n.triggerCell=new Ext.CompositeElement(m,true)}n.inputCell=n.inputWrap},afterRender:function(){var f=this;f.autoSize();Ext.form.field.Base.prototype.afterRender.call(this);f.invokeTriggers("afterFieldRender");f.emptyClsElements=[f.inputEl]},onMouseDown:function(){if(!this.hasFocus){this.squashMouseUp.scope=this;Ext.getDoc().on(this.squashMouseUp)}},applyTriggers:function(w){var v=this,A=v.getHideTrigger(),t=v.readOnly,D=v.orderedTriggers=[],u=v.repeatTriggerClick,B,x,z,C,y;if(!w){w={};if(v.triggerCls&&!v.trigger1Cls){v.trigger1Cls=v.triggerCls}for(y=1;(C=v["trigger"+y+"Cls"]);y++){w["trigger"+y]={cls:C,extraCls:"x-trigger-index-"+y,handler:"onTrigger"+y+"Click",compat4Mode:true,scope:v}}}for(B in w){if(w.hasOwnProperty(B)){x=w[B];x.field=v;x.id=B;if((t&&x.hideOnReadOnly!==false)||(A&&x.hidden!==false)){x.hidden=true}if(u&&(x.repeatClick!==false)){x.repeatClick=true}z=w[B]=Ext.form.trigger.Trigger.create(x);D.push(z)}}Ext.Array.sort(D,Ext.form.trigger.Trigger.weightComparator);return w},invokeTriggers:function(t,q){var o=this,p=o.getTriggers(),n,s;if(p){for(n in p){if(p.hasOwnProperty(n)){s=p[n];s[t].apply(s,q||[])}}}},getTrigger:function(f){return this.getTriggers()[f]},updateHideTrigger:function(f){this.invokeTriggers(f?"hide":"show")},updateEditable:function(k,g){this.setReadOnlyAttr(!k||this.readOnly)},setReadOnly:function(n){var p=this,q=p.getTriggers(),s=p.getHideTrigger(),t,o;n=!!n;Ext.form.field.Base.prototype.setReadOnly.call(this,n);if(p.rendered){p.setReadOnlyAttr(n||!p.editable)}if(q){for(o in q){t=q[o];if(t.hideOnReadOnly===true||(t.hideOnReadOnly!==false&&!s)){t.setVisible(!n)}}}},setReadOnlyAttr:function(l){var n=this,o="readonly",m=n.inputEl.dom;if(l){m.setAttribute(o,o)}else{m.removeAttribute(o)}if(!n.ariaStaticRoles[n.ariaRole]){n.inputEl.dom.setAttribute("aria-readonly",!!l)}},processRawValue:function(o){var p=this,m=p.stripCharsRe,q,n;if(m){if(!m.global){q="g";q+=(m.ignoreCase)?"i":"";q+=(m.multiline)?"m":"";m=new RegExp(m.source,q)}n=o.replace(m,"");if(n!==o){p.setRawValue(n);if(p.lastValue===o){p.lastValue=n}o=n}}return o},onDisable:function(){Ext.form.field.Base.prototype.onDisable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){Ext.form.field.Base.prototype.onEnable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(e){this.fireEvent("keydown",this,e)},onKeyUp:function(e){this.fireEvent("keyup",this,e)},onKeyPress:function(e){this.fireEvent("keypress",this,e)},getEmptyText:function(){return this.emptyText},setEmptyText:function(l){var m=this,k=m.inputEl;l=l||"";m.emptyText=l;if(m.rendered){if(Ext.supports.Placeholder&&!m.simulatePlaceholder){if(l){k.dom.setAttribute("placeholder",l)}else{k.dom.removeAttribute("placeholder")}}else{m.placeholderLabel.setHtml(l)}m.refreshEmptyText()}return this},afterFirstLayout:function(){Ext.form.field.Base.prototype.afterFirstLayout.call(this);if(Ext.isIE&&this.disabled){var f=this.inputEl;if(f){f.dom.unselectable="on"}}},toggleInvalidCls:function(k){var g=k?"addCls":"removeCls";Ext.form.field.Base.prototype.toggleInvalidCls.call(this,k);this.triggerWrap[g](this.triggerWrapInvalidCls);this.inputWrap[g](this.inputWrapInvalidCls)},onFieldMutation:function(e){this.refreshEmptyText();Ext.form.field.Base.prototype.onFieldMutation.call(this,e)},refreshEmptyText:function(){var q=this,o=q.inputEl,t=q.emptyClsElements,p,n,s;if(o){p=q.getValue();n=!(o.dom.value||(Ext.isArray(p)&&p.length));if(q.placeholderLabel){q.placeholderLabel.setDisplayed(n)}for(s=0;s<t.length;s++){t[s].toggleCls(q.emptyUICls,n)}}},setValue:function(f){f=Ext.form.field.Base.prototype.setValue.call(this,f);this.refreshEmptyText();return f},onFocus:function(e){var l=this,m;Ext.form.field.Base.prototype.onFocus.call(this,e);Ext.asap(function(){if(!l.destroyed&&document.activeElement===l.inputEl.dom){m=l.inputEl.dom.value.length;l.selectText(l.selectOnFocus?0:m,m)}});if(l.emptyText){l.autoSize()}l.addCls(l.fieldFocusCls);l.triggerWrap.addCls(l.triggerWrapFocusCls);l.inputWrap.addCls(l.inputWrapFocusCls);l.invokeTriggers("onFieldFocus",[e])},onBlur:function(e){var k=this;Ext.form.field.Base.prototype.onBlur.call(this,e);k.removeCls(k.fieldFocusCls);k.triggerWrap.removeCls(k.triggerWrapFocusCls);k.inputWrap.removeCls(k.inputWrapFocusCls);k.invokeTriggers("onFieldBlur",[e])},filterKeys:function(e){if((e.ctrlKey&&!e.altKey)||e.isSpecialKey()){return}var k=String.fromCharCode(e.getCharCode());if(!this.maskRe.test(k)){e.stopEvent()}},getState:function(){return this.addPropertyToState(Ext.form.field.Base.prototype.getState.call(this),"value")},applyState:function(f){Ext.form.field.Base.prototype.applyState.call(this,f);if(f.hasOwnProperty("value")){this.setValue(f.value)}},getErrors:function(D){D=arguments.length?(D==null?"":D):this.processRawValue(this.getRawValue());var x=this,u=Ext.form.field.Base.prototype.getErrors.call(this,D),C=x.validator,z=x.vtype,w=Ext.form.field.VTypes,v=x.regex,t=Ext.String.format,B,y,A;if(Ext.isFunction(C)){B=C.call(x,D);if(B!==true){u.push(B)}}y=x.allowOnlyWhitespace?D:Ext.String.trim(D);if(y.length<1){if(!x.allowBlank){u.push(x.blankText)}if(!x.validateBlank){return u}A=true}if(!A&&D.length<x.minLength){u.push(t(x.minLengthText,x.minLength))}if(D.length>x.maxLength){u.push(t(x.maxLengthText,x.maxLength))}if(z){if(!w[z](D,x)){u.push(x.vtypeText||w[z+"Text"])}}if(v&&!v.test(D)){u.push(x.regexText||x.invalidText)}return u},selectText:function(v,t){var o=this,p=o.inputEl.dom,q=p.value,u=q.length,s;if(u>0){v=v===undefined?0:Math.min(v,u);t=t===undefined?u:Math.min(t,u);if(p.setSelectionRange){p.setSelectionRange(v,t)}else{if(p.createTextRange){s=p.createTextRange();s.moveStart("character",v);s.moveEnd("character",t-u);s.select()}}}},getGrowWidth:function(){return this.inputEl.dom.value},autoSize:function(){var s=this,t,v,p,o,u,q;if(s.grow&&s.rendered&&s.getSizeModel().width.auto){o=s.inputEl;t=s.getTriggers();p=0;q=Ext.util.Format.htmlEncode(s.getGrowWidth()||(s.hasFocus?"":s.emptyText)||"");q+=s.growAppend;for(v in t){p+=t[v].el.getWidth()}u=o.getTextWidth(q)+p+s.inputWrap.getBorderWidth("lr")+s.triggerWrap.getBorderWidth("lr");u=Math.min(Math.max(u,s.growMin),s.growMax);s.bodyEl.setWidth(u);s.updateLayout();s.fireEvent("autosize",s,u)}},doDestroy:function(){var f=this;f.invokeTriggers("destroy");Ext.destroy(f.triggerRepeater);Ext.form.field.Base.prototype.doDestroy.call(this)},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var l=this.getTriggers(),m=0,k;if(l&&this.rendered){for(k in l){if(l.hasOwnProperty(k)){m+=l[k].el.getWidth()}}}return m}}}}},0,["textfield"],["component","box","field","textfield"],{component:true,box:true,field:true,textfield:true},["widget.textfield"],0,[Ext.form.field,"Text",Ext.form,"TextField",Ext.form,"Text"],0));(Ext.cmd.derive("Ext.form.field.TextArea",Ext.form.field.Text,{alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" data-ref="inputEl" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1000,growAppend:"\n-",enterIsSpecial:false,preventScrollbars:false,returnRe:/\r/g,inputCls:"x-form-textarea",extraFieldBodyCls:"x-form-textarea-body",ariaAttributes:{"aria-multiline":true},getSubTplData:function(n){var l=this,m=l.getFieldStyle(),o=Ext.form.field.Text.prototype.getSubTplData.apply(this,arguments);if(l.grow){if(l.preventScrollbars){o.fieldStyle=(m||"")+";overflow:hidden;height:"+l.growMin+"px"}}return o},afterRender:function(){var f=this;Ext.form.field.Text.prototype.afterRender.apply(this,arguments);f.needsMaxCheck=f.enforceMaxLength&&f.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(f.needsMaxCheck){f.inputEl.on("paste",f.onPaste,f)}},transformRawValue:function(f){return this.stripReturns(f)},getValue:function(){return this.stripReturns(Ext.form.field.Text.prototype.getValue.call(this))},valueToRaw:function(f){f=this.stripReturns(f);return Ext.form.field.Text.prototype.valueToRaw.call(this,f)},stripReturns:function(f){if(f&&typeof f==="string"){f=f.replace(this.returnRe,"")}return f},onPaste:function(){var f=this;if(!f.pasteTask){f.pasteTask=new Ext.util.DelayedTask(f.pasteCheck,f)}f.pasteTask.delay(1)},pasteCheck:function(){var l=this,k=l.getValue(),m=l.maxLength;if(k.length>m){k=k.substr(0,m);l.setValue(k)}},fireKey:function(e){var n=this,o=e.getKey(),m;if(e.isSpecialKey()&&(n.enterIsSpecial||(o!==e.ENTER||e.hasModifier()))){n.fireEvent("specialkey",n,e)}if(o===e.ENTER){e.stopPropagation()}if(n.needsMaxCheck&&o!==e.BACKSPACE&&o!==e.DELETE&&!e.isNavKeyPress()&&!n.isCutCopyPasteSelectAll(e,o)){m=n.getValue();if(m.length>=n.maxLength){e.stopEvent()}}},isCutCopyPasteSelectAll:function(e,k){if(e.ctrlKey){return k===e.A||k===e.C||k===e.V||k===e.X}return false},autoSize:function(){var o=this,m,q,p,n;if(o.grow&&o.rendered&&o.getSizeModel().height.auto){m=o.inputEl;p=m.getWidth(true);n=Ext.util.Format.htmlEncode(m.dom.value)||"&#160;";n+=o.growAppend;n=n.replace(/\n/g,"<br/>");q=Ext.util.TextMetrics.measure(m,n,p).height+m.getPadding("tb")+o.inputWrap.getBorderWidth("tb")+o.triggerWrap.getBorderWidth("tb");q=Math.min(Math.max(q,o.growMin),o.growMax);o.bodyEl.setHeight(q);o.updateLayout();o.fireEvent("autosize",o,q)}},doDestroy:function(){var f=this.pasteTask;if(f){f.cancel()}Ext.form.field.Text.prototype.doDestroy.call(this)}},0,["textarea","textareafield"],["component","box","field","textfield","textareafield","textarea"],{component:true,box:true,field:true,textfield:true,textareafield:true,textarea:true},["widget.textarea","widget.textareafield"],0,[Ext.form.field,"TextArea",Ext.form,"TextArea"],0));(Ext.cmd.derive("Ext.dom.ButtonElement",Ext.dom.Element,{setSize:function(n,q,p){var m=this,o=m.component;Ext.dom.Element.prototype.setSize.call(this,n,q,p);o.btnWrap.setStyle("table-layout",(!n||n==="auto")?"":"fixed");o.btnEl.setStyle("height",(!q||q==="auto")?"":"auto");return m},setStyle:function(n,o){var p=this,s=p.component,q,t;Ext.dom.Element.prototype.setStyle.call(this,n,o);if(n){if(n==="width"||(typeof n!=="string"&&"width" in n)){q=o||n.width;s.btnWrap.setStyle("table-layout",(!q||q==="auto")?"":"fixed")}if(n==="height"||(typeof n!=="string"&&"height" in n)){t=o||n.height;s.btnEl.setStyle("height",(!t||t==="auto")?"":"auto")}}return p},setHeight:function(k,g){Ext.dom.Element.prototype.setHeight.call(this,k,g);this.component.btnEl.setStyle("height",(!k||k==="auto")?"":"auto");return this},setWidth:function(g,k){Ext.dom.Element.prototype.setWidth.call(this,g,k);this.component.btnWrap.setStyle("table-layout",(!g||g==="auto")?"":"fixed");return this}},0,0,0,0,0,0,[Ext.dom,"ButtonElement"],0));(Ext.cmd.derive("Ext.button.Manager",Ext.Base,{singleton:true,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,init:function(){var f=this;if(!f.initialized){Ext.getDoc().on({mouseup:f.onDocumentMouseUp,scope:f});f.initialized=true}},onButtonMousedown:function(m,e){var l=this.pressedButton;if(l&&!l.destroying&&!l.destroyed){l.onMouseUp(e)}this.pressedButton=m},onDocumentMouseUp:function(e){var k=this.pressedButton;if(k&&!k.destroying&&!k.destroyed){k.onMouseUp(e);this.pressedButton=null}},toggleGroup:function(p,g){if(g){var n=this.groups[p.toggleGroup],o=n.length,q;for(q=0;q<o;q++){if(n[q]!==p){n[q].toggle(false)}}}},register:function(n){var m=this,o=this.groups,l=o[n.toggleGroup];m.init();if(!n.toggleGroup){return}if(!l){l=o[n.toggleGroup]=[]}l.push(n);n.on("toggle",m.toggleGroup,m)},unregister:function(m){if(!m.toggleGroup){return}var l=this,k=l.groups[m.toggleGroup];if(k){Ext.Array.remove(k,m);m.un("toggle",l.toggleGroup,l)}},getPressed:function(l){var m=this.groups[l],n=0,o;if(m){for(o=m.length;n<o;n++){if(m[n].pressed===true){return m[n]}}}return null}},0,0,0,0,0,0,[Ext.button,"Manager",Ext,"ButtonToggleManager"],0));(Ext.cmd.derive("Ext.menu.Manager",Ext.Base,{singleton:true,alternateClassName:"Ext.menu.MenuMgr",groups:{},visible:[],constructor:function(){var f=this;f.onShow=function(){f.registerGlobalListeners();return f.onShow.apply(f,arguments)}},onGlobalScroll:function(q){var n=this.visible,s=n.length,p,o,t=q.getElement();if(s&&q!==Ext.scroll.Scroller.viewport){n=n.slice();for(p=0;p<s;++p){o=n[p];if(!o.alignOnScroll&&o.hideOnScroll!==false&&!o.owns(t)){o.hide()}}}},checkActiveMenus:function(o){var t=this.visible,s=t.length,q,e,p=Ext.Component.fromElement(o.target);if(s){t=t.slice();for(q=0;q<s;++q){e=t[q];if(!(e.owns(o)||(p&&p.isMenuItem&&p.menu===e))){e.hide()}}}},onShow:function(f){if(f.floating){Ext.Array.include(this.visible,f)}},onHide:function(f){if(f.floating){Ext.Array.remove(this.visible,f)}},hideAll:function(){var l=this.visible,n=l.length,o=false,m;if(n){l=l.slice();for(m=0;m<n;m++){l[m].hide();o=true}}return o},get:function(k,l){var m;if(typeof k==="string"){m=Ext.getCmp(k);if(m instanceof Ext.menu.Menu){k=m}}else{if(Ext.isArray(k)){l=Ext.apply({items:k},l);k=new Ext.menu.Menu(l)}else{if(!k.isComponent){l=Ext.apply({},k,l);k=Ext.ComponentManager.create(l,"menu")}}}return k},registerCheckable:function(k){var m=this.groups,l=k.group;if(l){if(!m[l]){m[l]=[]}m[l].push(k)}},unregisterCheckable:function(k){var m=this.groups,l=k.group;if(l){Ext.Array.remove(m[l],k)}},onCheckChange:function(s,p){var v=this.groups,t=s.group,u=0,w,q,x;if(t&&p){w=v[t];q=w.length;for(;u<q;u++){x=w[u];if(x!==s){x.setChecked(false)}}}},registerGlobalListeners:function(){var f=this;delete f.onShow;Ext.on({mousedown:f.checkActiveMenus,scroll:f.onGlobalScroll,scope:f})}},1,0,0,0,0,0,[Ext.menu,"Manager",Ext.menu,"MenuMgr"],0));(Ext.cmd.derive("Ext.button.Button",Ext.Component,{alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:true,glyph:null},isButton:true,_syncFrameHeight:true,liquidLayout:true,hidden:false,disabled:false,pressed:false,tabIndex:0,enableToggle:false,menuAlign:"tl-bl?",showEmptyMenu:false,clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:"x-btn",hrefTarget:"_blank",destroyMenu:true,focusable:true,ariaRole:"button",keyMap:{scope:"this",SPACE:"onEnterKey",ENTER:"onEnterKey",DOWN:"onDownKey"},defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","arrowEl"],publishes:{pressed:1},_btnWrapCls:"x-btn-wrap",_btnCls:"x-btn-button",_baseIconCls:"x-btn-icon-el",_glyphCls:"x-btn-glyph",_innerCls:"x-btn-inner",_textCls:"x-btn-text",_noTextCls:"x-btn-no-text",_hasIconCls:"x-btn-icon",_pressedCls:"x-btn-pressed",overCls:"x-btn-over",_disabledCls:"x-btn-disabled",_menuActiveCls:"x-btn-menu-active",_arrowElCls:"x-btn-arrow-el",_focusCls:"x-btn-focus",_arrowFocusCls:"x-arrow-focus",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl></span></span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" class="{baseCls}-close-btn"><tpl if="closeText"> {closeText}</tpl></span></tpl><tpl if="split"><span id="{id}-arrowEl" class="{arrowElCls}" data-ref="arrowEl" role="button" hidefocus="on" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="arrowElAttributes"> {$}="{.}"</tpl> style="{arrowElStyle}">{arrowElText}</span></tpl>',iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,shrinkWrap:3,frame:true,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){if(!this.disabled){this.doNavigate()}},doNavigate:function(){if(this.hrefTarget==="_blank"){window.open(this.getHref(),this.hrefTarget)}else{location.href=this.getHref()}},_triggerRegion:{},initComponent:function(){var f=this;f.addCls("x-unselectable");Ext.Component.prototype.initComponent.call(this);if(f.menu){f.split=true;f.setMenu(f.menu,false,true)}if(f.url){f.href=f.url}f.configuredWithPreventDefault=f.hasOwnProperty("preventDefault");if(f.href&&!f.configuredWithPreventDefault){f.preventDefault=false}if(Ext.isString(f.toggleGroup)&&f.toggleGroup!==""){f.enableToggle=true}if(f.html&&!f.text){f.text=f.html;delete f.html}},getElConfig:function(){var m=this,n=Ext.Component.prototype.getElConfig.call(this),o=m.getHref(),l=m.hrefTarget;if(n.tag==="a"){if(!m.disabled){n.tabIndex=m.tabIndex}if(o){if(!m.disabled){n.href=o;if(l){n.target=l}}}}if(!m.ariaStaticRoles[m.ariaRole]){if(m.menu&&!m.isSplitButton){n["aria-haspopup"]=true}if(m.enableToggle){n["aria-pressed"]=!!m.pressed}}return n},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);if(this.pressed){this.addCls(this._pressedCls)}},initRenderData:function(){return Ext.apply(Ext.Component.prototype.initRenderData.call(this),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(w,x,q){var p=this,u=p.menu,v=p.isSplitButton?p.arrowEl&&p.arrowEl.dom:p.ariaEl.dom,t,s;if(u&&!q){if(x!==false&&p.destroyMenu){u.destroy()}u.ownerCmp=null}if(w){t=w.isMenu;w=Ext.menu.Manager.get(w,{ownerCmp:p});w.setOwnerCmp(p,t);w.menuClickBuffer=250;p.mon(w,{scope:p,show:p.onMenuShow,hide:p.onMenuHide});if(!u&&p.getArrowVisible()){p.split=true;if(p.rendered){p._addSplitCls();p.updateLayout()}}p.menu=w;if(v){v.setAttribute("aria-haspopup",true);v.setAttribute("aria-owns",w.id)}else{s=p.isSplitButton?(p.ariaArrowElAttributes||(p.ariaArrowElAttributes={})):(p.ariaRenderAttributes||(p.ariaRenderAttributes={}));s["aria-haspopup"]=true;s["aria-owns"]=w.id}}else{if(p.rendered){v.removeAttribute("aria-haspopup");v.removeAttribute("aria-owns");p._removeSplitCls();p.updateLayout()}else{s=p.isSplitButton?p.ariaArrowElAttributes:p.ariaRenderAttributes;if(s){delete s["aria-haspopup"];delete s["aria-owns"]}}p.split=false;p.menu=null}},onRender:function(){var m=this,l,o,n;Ext.Component.prototype.onRender.apply(this,arguments);o=m.el;if(m.tooltip){m.setTooltip(m.tooltip,true)}if(m.handleMouseEvents){n={scope:m,mouseover:m.onMouseOver,mouseout:m.onMouseOut,mousedown:m.onMouseDown};if(m.split){n.mousemove=m.onMouseMove}}else{n={scope:m}}if(Ext.supports.Touch){n.touchstart=m.onTouchStart}if(m.repeat){m.mon(new Ext.util.ClickRepeater(o,Ext.isObject(m.repeat)?m.repeat:{}),"click",m.onRepeatClick,m)}else{if(n[m.clickEvent]){l=true}else{n[m.clickEvent]=m.onClick}}m.mon(o,n);if(m.hasFrameTable()){m.mon(m.frameTable,"click",m.frameTableListener,m)}if(l){m.mon(o,m.clickEvent,m.onClick,m)}Ext.button.Manager.register(m)},onFocusLeave:function(e){Ext.Component.prototype.onFocusLeave.call(this,e);if(this.menu){this.menu.hide()}},getTemplateArgs:function(){var t=this,y=t._btnCls,w=t._baseIconCls,z=t.getIconAlign(),s=t.glyph,u,q=t.text,x=t._hasIcon(),v=t._hasIconCls;if(s){u=s.fontFamily;s=s.character}return{split:t.isSplitButton,innerCls:t._innerCls,splitCls:t.getArrowVisible()?t.getSplitCls():"",iconUrl:t.icon,iconCls:t.iconCls,glyph:s,glyphCls:s?t._glyphCls:"",glyphFontFamily:u,text:q||"&#160;",closeText:t.closeText,textCls:q?t._textCls:"",noTextCls:q?"":t._noTextCls,hasIconCls:x?v:"",btnWrapCls:t._btnWrapCls,btnWrapStyle:t.width?"table-layout:fixed;":"",btnElStyle:t.height?"height:auto;":"",btnCls:y,baseIconCls:w,iconBeforeText:z==="left"||z==="top",iconAlignCls:x?(v+"-"+z):"",textAlignCls:y+"-"+t.getTextAlign(),arrowElCls:t._arrowElCls,arrowElStyle:t.arrowVisible?"":"display:none",tabIndex:t.tabIndex}},renderIcon:function(f){return this.lookupTpl("iconTpl").apply(f)},setHref:function(o){var n=this,l=n.hrefTarget,m;n.href=o;if(!n.configuredWithPreventDefault){n.preventDefault=!o}if(n.rendered){m=n.el.dom;if(!o||n.disabled){m.removeAttribute("href");m.removeAttribute("hrefTarget")}else{m.href=n.getHref();if(l){m.target=l}}}},getHref:function(){var g=this,k=g.href;return k?Ext.urlAppend(k,Ext.Object.toQueryString(Ext.apply({},g.params,g.baseParams))):false},setParams:function(k){var m=this,l;m.params=k;if(m.rendered){l=m.el.dom;if(m.disabled){l.removeAttribute("href")}else{l.href=m.getHref()||""}}},getSplitCls:function(){var f=this;return f.split?(f.baseCls+"-"+f.arrowCls)+" "+(f.baseCls+"-"+f.arrowCls+"-"+f.arrowAlign):""},setIcon:function(n){n=n||"";var m=this,o=m.btnIconEl,l=m.icon||"";if(m.glyph){m.setGlyph(null)}m.icon=n;if(n!==l){if(o){o.removeCls(m.iconCls);o.setStyle("background-image",n?"url("+n+")":"");m._syncHasIconCls();if(m.didIconStateChange(l,n)){m.updateLayout()}}m.fireEvent("iconchange",m,l,n)}return m},setIconCls:function(n){n=n||"";var l=this,o=l.btnIconEl,m=l.iconCls||"";if(l.glyph){l.setGlyph(null)}l.iconCls=n;if(m!==n){if(o){o.setStyle("background-image","");o.removeCls(m);o.addCls(n);l._syncHasIconCls();if(l.didIconStateChange(m,n)){l.updateLayout()}}l.fireEvent("iconchange",l,m,n)}return l},applyGlyph:function(g,k){if(g){if(!g.isGlyph){g=new Ext.Glyph(g)}if(g.isEqual(k)){g=undefined}}return g},updateGlyph:function(n,p){var o=this,q=o.btnIconEl,m=o._glyphCls;if(q){o.icon=null;q.setStyle("background-image","");if(n){q.dom.innerHTML=n.character;q.addCls(m);q.setStyle(n.getStyle())}else{q.dom.innerHTML="";q.removeCls(m)}o._syncHasIconCls();if(o.didIconStateChange(p,n)){o.updateLayout()}}o.fireEvent("glyphchange",o,n&&n.glyphConfig,p&&p.glyphConfig);return o},setTooltip:function(k,m){var l=this;if(l.rendered){if(!m||!k){l.clearTip()}if(k){if(Ext.quickTipsActive&&Ext.isObject(k)){Ext.tip.QuickTipManager.register(Ext.apply({target:l.el.id},k));l.tooltip=k}else{l.el.dom.setAttribute(l.getTipAttr(),k)}}}else{l.tooltip=k}return l},updateIconAlign:function(n,p){var q=this,s,t,o;if(q.rendered){s=q.btnEl;t=q.btnIconEl;o=q._hasIconCls;if(p){s.removeCls(o+"-"+p)}s.addCls(o+"-"+n);if(n==="top"||n==="left"){s.insertFirst(t)}else{s.appendChild(t)}q.updateLayout()}},updateTextAlign:function(m,n){var o=this,p=o.btnEl,q=o._btnCls;if(o.rendered){p.removeCls(q+"-"+n);p.addCls(q+"-"+m)}},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},getRefItems:function(m){var k=this.menu,l=[];if(k){if(m){l=k.getRefItems(m)}l.unshift(k)}return l},clearTip:function(){var g=this,k=g.el;if(Ext.quickTipsActive&&Ext.isObject(g.tooltip)){Ext.tip.QuickTipManager.unregister(k)}else{k.dom.removeAttribute(g.getTipAttr())}},doDestroy:function(){var k=this,g=k.menu;if(k.rendered){k.clearTip()}Ext.destroy(k.repeater);if(g&&k.destroyMenu){k.menu=Ext.destroy(g)}Ext.button.Manager.unregister(k);Ext.Component.prototype.doDestroy.call(this)},setHandler:function(g,k){this.handler=g;if(arguments.length>1){this.scope=k}return this},updateText:function(n,q){n=n==null?"":String(n);q=q||"";var o=this,m=o.btnInnerEl,p=o.btnEl;if(o.rendered){m.setHtml(n||"&#160;");p[n?"addCls":"removeCls"](o._textCls);p[n?"removeCls":"addCls"](o._noTextCls);o.updateLayout()}o.fireEvent("textchange",o,q,n)},didIconStateChange:function(m,k){var l=Ext.isEmpty(k);return Ext.isEmpty(m)?!l:l},click:function(e){return this.onClick(e)},setPressed:function(f){return this.toggle(f!==false)},toggle:function(l,n){var m=this,o=m.ariaEl.dom;if(!m.enableToggle){return m}l=l===undefined?!m.pressed:!!l;if(m.fireEvent("beforetoggle",m,l)!==false){if(l!==m.pressed){m[l?"addCls":"removeCls"](m._pressedCls);m.pressed=l;if(o){o.setAttribute("aria-pressed",l)}if(!n){m.fireEvent("toggle",m,l);Ext.callback(m.toggleHandler,m.scope,[m,l],0,m);if(m.publishState){m.publishState("pressed",l)}}}}return m},maybeShowMenu:function(e){if(this.menu){this.showMenu(e)}},showMenu:function(o){var m=this,l=m.menu,n=!o||o.pointerType;if(l&&m.rendered){if(m.tooltip&&Ext.quickTipsActive&&m.getTipAttr()!=="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(m.el)}if(l.isVisible()){if(n){l.hide()}else{l.focus()}}else{if(!o||m.showEmptyMenu||l.items.getCount()>0){l.autoFocus=!n;l.showBy(m.el,m.menuAlign)}}}return m},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var f=this.menu;return f&&f.rendered&&f.isVisible()},onRepeatClick:function(k,e){this.onClick(e)},onTouchStart:function(e){this.doPreventDefault(e)},onEnterKey:function(e){if(!this.href){this.onClick(e);e.stopEvent();return false}},onClick:function(e){var k=this;if(e){k.doPreventDefault(e)}if(e&&e.type!=="keydown"&&e.button){return}if(!k.disabled){k.doToggle();k.maybeShowMenu(e);k.fireHandler(e)}},doToggle:function(){var f=this;if(f.allowDepress!==false||!f.pressed){f.toggle()}},doPreventDefault:function(e){if(e&&(this.preventDefault||(this.disabled&&this.getHref()))){e.preventDefault()}},fireHandler:function(e){var k=this;if(k.fireEvent("click",k,e)!==false&&!k.destroyed){Ext.callback(k.handler,k.scope,[k,e],0,k)}},onMouseOver:function(e){var k=this;if(!k.disabled&&!e.within(k.el,true,true)){k.onMouseEnter(e)}},onMouseOut:function(e){var k=this;if(!e.within(k.el,true,true)){if(k.overMenuTrigger){k.onMenuTriggerOut(e)}k.onMouseLeave(e)}},onMouseMove:function(e){var m=this,l=m.overMenuTrigger;if(m.split){if(m.isWithinTrigger(e)){if(!l){m.onMenuTriggerOver(e)}}else{if(l){m.onMenuTriggerOut(e)}}}},isWithinTrigger:function(n){var o=this,p=o.el,e,q;e=(o.arrowAlign==="right")?n.getX()-o.getX():n.getY()-p.getY();q=o.getTriggerRegion();return e>q.begin&&e<q.end},getTriggerRegion:function(){var n=this,m=n._triggerRegion,o=n.arrowAlign==="right",p=o?"getRight":"getBottom",q=o?n.getWidth():n.getHeight();m.begin=q-(n.el[p]()-n.btnEl[p]());m.end=q;return m},onMouseEnter:function(e){this.fireEvent("mouseover",this,e)},onMouseLeave:function(e){this.fireEvent("mouseout",this,e)},onMenuTriggerOver:function(e){var l=this,m=l.arrowTooltip;l.overMenuTrigger=true;if(l.split&&m){l.btnWrap.dom.setAttribute(l.getTipAttr(),m)}l.fireEvent("menutriggerover",l,l.menu,e)},onMenuTriggerOut:function(e){var k=this;delete k.overMenuTrigger;if(k.split&&k.arrowTooltip){k.btnWrap.dom.setAttribute(k.getTipAttr(),"")}k.fireEvent("menutriggerout",k,k.menu,e)},onEnable:function(){var n=this,o=n.href,l=n.hrefTarget,m=n.el.dom;Ext.Component.prototype.onEnable.call(this);n.removeCls(n._disabledCls);m.setAttribute("tabIndex",n.tabIndex);if(o){m.href=o}if(l){m.target=l}},onDisable:function(){var k=this,g=k.el.dom;Ext.Component.prototype.onDisable.call(this);k.addCls(k._disabledCls);k.removeCls(k.overCls);g.removeAttribute("tabIndex");if(k.href){g.removeAttribute("href")}if(k.hrefTarget){g.removeAttribute("target")}},setScale:function(k){var m=this,l=m.ui.replace("-"+m.scale,"");if(!Ext.Array.contains(m.allowedScales,k)){throw ("#setScale: scale must be an allowed scale ("+m.allowedScales.join(", ")+")")}m.scale=k;m.setUI(l)},setUI:function(g){var k=this;if(k.scale&&!g.match(k.scale)){g=g+"-"+k.scale}Ext.Component.prototype.setUI.call(this,g)},onMouseDown:function(e){var k=this;if(Ext.isIE||e.pointerType==="touch"){Ext.defer(function(){var f=k.getFocusEl();if(f&&!e.defaultPrevented){f.focus()}},1)}if(!k.disabled&&e.button===0){Ext.button.Manager.onButtonMousedown(k,e);k.addCls(k._pressedCls)}},onMouseUp:function(e){var k=this;if(!k.destroyed&&e.button===0){if(!k.pressed){k.removeCls(k._pressedCls)}}},onMenuShow:function(){var f=this;f.addCls(f._menuActiveCls);f.fireEvent("menushow",f,f.menu)},onMenuHide:function(e){var k=this;k.removeCls(k._menuActiveCls);k.fireEvent("menuhide",k,k.menu)},onDownKey:function(e){var k=this;if(k.menu&&!k.disabled){k.showMenu(e);e.stopEvent();return false}},updateArrowVisible:function(g){var k=this;if(k.rendered){if(g){if(k.menu||k.isSplitButton){k.split=true;k._addSplitCls()}}else{k._removeSplitCls();k.split=false}}return g},privates:{elClsMap:{btnWrap:"_btnWrapCls",btnEl:"_btnCls",btnIconEl:"_baseIconCls",btnInnerEl:"_innerCls"},addUIToElement:function(){Ext.Component.prototype.addUIToElement.call(this);this.updateChildElsUICls(true)},addOverCls:function(){if(!this.disabled){this.addCls(this.overCls)}},_addSplitCls:function(){var f=this;f.btnWrap.addCls(f.getSplitCls())},getTdCls:function(){return"x-button-"+this.ui+"-"+this.scale+"-cell"},getValue:function(){return this.value},removeUIFromElement:function(){Ext.Component.prototype.removeUIFromElement.call(this);this.updateChildElsUICls(false)},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){var f=this;f.btnWrap.removeCls(f.getSplitCls())},_syncHasIconCls:function(){var l=this,m=l.btnEl,k=l._hasIconCls;if(m){m[l._hasIcon()?"addCls":"removeCls"]([k,k+"-"+l.iconAlign])}},_hasIcon:function(){return !!(this.icon||this.iconCls||this.glyph)},updateChildElsUICls:function(q){var x=this,v=x.ui,z=q?"addCls":"removeCls",w=x.elClsMap,t,y,u,s;for(t in w){y=x[t];u=w[t];s=x[u];if(y&&s){y[z](s+"-"+v)}}},wrapPrimaryEl:function(f){this.el=new Ext.dom.ButtonElement(f);Ext.Component.prototype.wrapPrimaryEl.call(this,f)}}},0,["button"],["component","box","button"],{component:true,box:true,button:true},["widget.button"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.button,"Button",Ext,"Button"],0));(Ext.cmd.derive("Ext.layout.container.Anchor",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:true,setsItemSize:true,beginLayoutCycle:function(p){var q=this,s=0,w,v,x,u,t;Ext.layout.container.Auto.prototype.beginLayoutCycle.apply(this,arguments);x=p.childItems;t=x.length;for(u=0;u<t;++u){v=x[u];w=v.target.anchorSpec;if(w){if(v.widthModel.calculated&&w.right){s|=1}if(v.heightModel.calculated&&w.bottom){s|=2}if(s===3){break}}}p.anchorDimensions=s},calculateItems:function(C,I){var L=this,z=C.childItems,D=z.length,N=I.gotHeight,B=I.gotWidth,E=I.height,G=I.width,H=(B?1:0)|(N?2:0),M=C.anchorDimensions,P,J,O,K,A,F;if(!M){return true}for(A=0;A<D;A++){J=z[A];O=J.getMarginInfo();P=J.target.anchorSpec;if(B&&J.widthModel.calculated){F=P.right(G)-O.width;F=L.adjustWidthAnchor(F,J);J.setWidth(F)}if(N&&J.heightModel.calculated){K=P.bottom(E)-O.height;K=L.adjustHeightAnchor(K,J);J.setHeight(K)}}return(H&M)===M},anchorFactory:{offset:function(f){return function(e){return e+f}},ratio:function(f){return function(e){return Math.floor(e*f)}},standard:function(f){return function(e){return e-f}}},parseAnchor:function(p,m,q){if(p&&p!=="none"){var o=this.anchorFactory,n;if(this.parseAnchorRE.test(p)){return o.standard(q-m)}if(p.indexOf("%")!==-1){return o.ratio(parseFloat(p.replace("%",""))*0.01)}n=parseInt(p,10);if(!isNaN(n)){return o.offset(n)}}return null},adjustWidthAnchor:function(g,k){return g},adjustHeightAnchor:function(g,k){return g},configureItem:function(o){var p=this,u=p.owner,q=o.anchor,t,s,v;Ext.layout.container.Auto.prototype.configureItem.apply(this,arguments);if(!o.anchor&&o.items&&!Ext.isNumber(o.width)){o.anchor=q=p.defaultAnchor}if(u.anchorSize){if(typeof u.anchorSize==="number"){s=u.anchorSize}else{s=u.anchorSize.width;v=u.anchorSize.height}}else{s=u.initialConfig.width;v=u.initialConfig.height}if(q){t=q.split(" ");o.anchorSpec={right:p.parseAnchor(t[0],o.initialConfig.width,s),bottom:p.parseAnchor(t[1],o.initialConfig.height,v)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(o){var m=o.anchorSpec,q="$",n=this.sizePolicy,p;if(m){p=this.owner.getSizeModel();if(m.right&&!p.width.shrinkWrap){n=n.r}if(m.bottom&&!p.height.shrinkWrap){q="b"}}return n[q]}},0,0,0,0,["layout.anchor"],0,[Ext.layout.container,"Anchor",Ext.layout,"AnchorLayout"],0));(Ext.cmd.derive("Ext.util.TaskManager",Ext.util.TaskRunner,{alternateClassName:["Ext.TaskManager"],singleton:true},0,0,0,0,0,0,[Ext.util,"TaskManager",Ext,"TaskManager"],0));(Ext.cmd.derive("Ext.layout.component.ProgressBar",Ext.layout.component.Auto,{type:"progressbar",beginLayout:function(l){var n=this,o,m;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(!l.textEls){m=n.owner.textEl;if(m.isComposite){l.textEls=[];m=m.elements;for(o=m.length;o--;){l.textEls[o]=l.getEl(Ext.get(m[o]))}}else{l.textEls=[l.getEl("textEl")]}}},calculate:function(m){var o=this,q,n,p;Ext.layout.component.Auto.prototype.calculate.apply(this,arguments);if(Ext.isNumber(p=m.getProp("width"))){p-=m.getBorderInfo().width;n=m.textEls;for(q=n.length;q--;){n[q].setWidth(p)}}else{o.done=false}}},0,0,0,0,["layout.progressbar"],0,[Ext.layout.component,"ProgressBar"],0));(Ext.cmd.derive("Ext.ProgressBar",Ext.Component,{baseCls:"x-progress",animate:false,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back" role="presentation">{text}</div>',"</tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text" role="presentation">','<div role="presentation">{text}</div>',"</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",focusable:true,tabIndex:0,autoEl:{"aria-valuemin":"0","aria-valuenow":"0","aria-valuemax":"100"},initRenderData:function(){var m=this,k=m.value||0,l;l=Ext.Component.prototype.initRenderData.call(this);return Ext.apply(l,{internalText:!m.hasOwnProperty("textEl"),text:m.text||Math.round(k*100)+"%",percentage:k*100})},onRender:function(){var f=this;Ext.Component.prototype.onRender.apply(this,arguments);if(f.textEl){f.textEl=Ext.get(f.textEl);f.updateText(f.text)}else{f.textEl=f.el.select("."+f.baseCls+"-text")}},afterRender:function(){var f=this;Ext.Component.prototype.afterRender.apply(this,arguments);if(f.text){f.ariaEl.dom.setAttribute("aria-valuetext",f.text)}},updateValue:function(f){this.updateProgress(f)},updateProgress:function(o,n,t){o=o||0;var p=this,s=p.value,q=p.getTextTpl();p.value=o||(o=0);if(n!=null){p.autoText=false;p.updateText(n)}else{if(q){p.autoText=false;p.updateText(q.apply({value:o,percent:o*100}))}else{if(!p.text&&p.autoText!==false){p.autoText=true;p.updateText(Math.round(o*100)+"%")}else{if(p.text&&p.ariaEl.dom){p.ariaEl.dom.removeAttribute("aria-valuetext")}}}}if(p.rendered&&!p.destroyed){if(t===true||(t!==false&&p.animate)){p.bar.stopAnimation();p.bar.animate(Ext.apply({from:{width:(s*100)+"%"},to:{width:(o*100)+"%"}},p.animate))}else{p.bar.setStyle("width",(o*100)+"%")}p.ariaEl.dom.setAttribute("aria-valuenow",Math.round(o*100))}p.fireEvent("update",p,o,n);return p},updateText:function(g){var k=this;if(!k.autoText){k.text=g}if(k.rendered){k.textEl.setHtml(g);if(!k.autoText){k.ariaEl.dom.setAttribute("aria-valuetext",g)}else{k.ariaEl.dom.removeAttribute("aria-valuetext")}}return k},applyText:function(f){this.updateText(f)},getText:function(){return this.text},wait:function(k){var l=this,m;if(!l.waitTimer){m=l;k=k||{};if(k.text!=null){l.autoText=false}l.updateText(k.text);l.waitTimer=Ext.TaskManager.start({run:function(f){var e=k.increment||10;f-=1;l.updateProgress(((((f+e)%e)+1)*(100/e))*0.01,null,k.animate)},interval:k.interval||1000,duration:k.duration,onStop:function(){if(k.fn){k.fn.apply(k.scope||l)}l.reset()},scope:m})}return l},isWaiting:function(){return this.waitTimer!==null},reset:function(k){var g=this;g.updateProgress(0);g.clearTimer();if(k===true){g.hide()}if(g.rendered){g.ariaEl.dom.removeAttribute("aria-valuetext")}return g},clearTimer:function(){var f=this;if(f.waitTimer){f.waitTimer.onStop=null;Ext.TaskManager.stop(f.waitTimer);f.waitTimer=null}},doDestroy:function(){var g=this,k=g.bar;g.clearTimer();if(g.rendered){if(g.textEl.isComposite){g.textEl.clear()}Ext.destroyMembers(g,"textEl","progressBar");if(k&&g.animate){k.stopAnimation()}}Ext.Component.prototype.doDestroy.call(this)}},0,["progressbar"],["component","box","progressbar"],{component:true,box:true,progressbar:true},["widget.progressbar"],[[Ext.ProgressBase.prototype.mixinId||Ext.ProgressBase.$className,Ext.ProgressBase]],[Ext,"ProgressBar"],0));(Ext.cmd.derive("Ext.window.MessageBox",Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:"x-message-box-info",WARNING:"x-message-box-warning",QUESTION:"x-message-box-question",ERROR:"x-message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,scrollable:true,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:true,cls:["x-message-box","x-hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:true,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:"x-message-box-icon",ariaRole:"alertdialog",makeButton:function(k){var g=this.buttonIds[k];return new Ext.button.Button({handler:this.btnCallback,itemId:g,scope:this,text:this.buttonText[g],minWidth:75})},btnCallback:function(q,o){var p=this,n,m;if(o&&o.type==="keydown"&&!o.isSpecialKey()){o.getTarget(null,null,true).on({keyup:function(e){p.btnCallback(q,e)},single:true});return}if(p.cfg.prompt||p.cfg.multiline){if(p.cfg.multiline){m=p.textArea}else{m=p.textField}n=m.getValue();m.reset()}p.hide();p.userCallback(q.itemId,n,p.cfg)},hide:function(){var g=this,k=g.cfg?g.cfg.cls:"";g.progressBar.reset();if(k){g.removeCls(k)}Ext.window.Window.prototype.hide.apply(this,arguments)},constructor:function(k){var g=this;Ext.window.Window.prototype.constructor.apply(this,arguments);g.minWidth=g.defaultMinWidth=(g.minWidth||g.defaultMinWidth);g.maxWidth=g.defaultMaxWidth=(g.maxWidth||g.defaultMaxWidth);g.minHeight=g.defaultMinHeight=(g.minHeight||g.defaultMinHeight);g.maxHeight=g.defaultMaxHeight=(g.maxHeight||g.defaultMaxHeight)},initComponent:function(q){var m=this,p=m.id,n,o;m.title=m.title||"&#160;";m.iconCls=m.iconCls||"";m.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[m.iconComponent=new Ext.Component({cls:m.baseIconCls}),m.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[m.msg=new Ext.Component({id:p+"-msg",cls:m.baseCls+"-text"}),m.textField=new Ext.form.field.Text({id:p+"-textfield",enableKeyEvents:true,ariaAttributes:{"aria-labelledby":m.msg.id},listeners:{keydown:m.onPromptKey,scope:m}}),m.textArea=new Ext.form.field.TextArea({id:p+"-textarea",height:75,ariaAttributes:{"aria-labelledby":m.msg.id}})]})]});m.progressBar=new Ext.ProgressBar({id:p+"-progressbar",margin:"0 10 10 10"});m.items=[m.topContainer,m.progressBar];m.msgButtons=[];for(n=0;n<4;n++){o=m.makeButton(n);m.msgButtons[o.itemId]=o;m.msgButtons.push(o)}m.bottomTb=new Ext.toolbar.Toolbar({id:p+"-toolbar",ui:"footer",dock:"bottom",enableFocusableContainer:false,ariaRole:null,layout:{pack:"center"},items:[m.msgButtons[0],m.msgButtons[1],m.msgButtons[2],m.msgButtons[3]]});m.dockedItems=[m.bottomTb];m.on("close",m.onClose,m);Ext.window.Window.prototype.initComponent.call(this)},afterRender:function(){var f=this;Ext.window.Window.prototype.afterRender.apply(this,arguments);f.textField.labelEl.dom.removeAttribute("for");f.textArea.labelEl.dom.removeAttribute("for")},onClose:function(){var f=this.msgButtons[3];if(f){this.btnCallback(f)}},onPromptKey:function(m,e){var l=this;if(e.keyCode===e.RETURN||e.keyCode===10){if(l.msgButtons.ok.isVisible()){l.msgButtons.ok.handler.call(l,l.msgButtons.ok)}else{if(l.msgButtons.yes.isVisible()){l.msgButtons.yes.handler.call(l,l.msgButtons.yes)}}}},reconfigure:function(Y){var Q=this,G=0,T=true,O=Q.buttonText,W=Q.resizer,I=Q.header,S=I&&!I.isHeader,X=Y&&(Y.message||Y.msg),V=Y.buttonTips,P,ab,M,K,R,H,F,U,Z,N,J,L,aa;Q.updateButtonText();Q.cfg=Y=Y||{};L=Y.wait;if(Y.width){K=Y.width}if(Y.height){R=Y.height}Q.minWidth=Y.minWidth||Q.defaultMinWidth;Q.maxWidth=Y.maxWidth||Q.defaultMaxWidth;Q.minHeight=Y.minHeight||Q.defaultMinHeight;Q.maxHeight=Y.maxHeight||Q.defaultMaxHeight;if("maskClickAction" in Y){Q.maskClickAction=Y.maskClickAction}else{delete Q.maskClickAction}if(W){M=W.resizeTracker;W.minWidth=M.minWidth=Q.minWidth;W.maxWidth=M.maxWidth=Q.maxWidth;W.minHeight=M.minHeight=Q.minHeight;W.maxHeight=M.maxHeight=Q.maxHeight}delete Q.defaultFocus;if(Y.defaultFocus){Q.defaultFocus=Y.defaultFocus}Q.animateTarget=Y.animateTarget||undefined;Q.modal=Y.modal!==false;if(Y.title!=null){P=Y.title}else{if(S&&I.title!=null){P=I.title}else{P=Q.title}}if(Y.iconCls!=null){ab=Y.iconCls}else{if(S&&I.iconCls!=null){ab=I.iconCls}else{ab=Q.iconCls}}Q.setTitle(P);Q.setIconCls(ab);if(Ext.isObject(Y.buttons)){Q.buttonText=Y.buttons;G=0}else{Q.buttonText=Y.buttonText||Q.buttonText;G=Ext.isNumber(Y.buttons)?Y.buttons:0}Ext.each(Q.buttonIds,function(e){Q.msgButtons[e].setTooltip((V&&V[e])||null)});G=G|Q.updateButtonText();Q.buttonText=O;Ext.suspendLayouts();Q.width=Q.height=null;if(K||R){if(K){Q.setWidth(K)}if(R){Q.setHeight(R)}}if(!Q.rendered){Q.render(Ext.getBody())}Q.closable=Y.closable!==false&&!L;I=Q.header;if(I){aa=I.child("[type=close]");if(aa){aa.setVisible(Q.closable)}if(!Y.title&&!Q.closable&&!Y.iconCls){I.hide()}else{I.show()}}Q.liveDrag=!Y.proxyDrag;Q.userCallback=Ext.Function.bindCallback(Y.callback||Y.fn||Ext.emptyFn,Y.scope||Ext.global);Q.setIcon(Y.icon);Z=Q.msg;if(X){Z.setHtml(X);Z.show();Q.ariaEl.dom.setAttribute("aria-describedby",Z.id)}else{Z.hide();Q.ariaEl.dom.removeAttribute("aria-describedby")}F=Q.textArea;U=Q.textField;if(Y.prompt||Y.multiline){Q.multiline=Y.multiline;if(Y.multiline){F.setValue(Y.value);F.setHeight(Y.defaultTextHeight||Q.defaultTextHeight);F.show();U.hide();Q.defaultFocus=F}else{U.setValue(Y.value);F.hide();U.show();Q.defaultFocus=U}Q.ariaEl.dom.removeAttribute("aria-describedby")}else{F.hide();U.hide()}N=Q.progressBar;if(Y.progress||L){N.show();Q.updateProgress(0,Y.progressText);Q.defaultFocus=N;if(L){N.wait(L===true?Y.waitConfig:L)}}else{N.hide()}J=Q.msgButtons;for(H=0;H<4;H++){if(G&Math.pow(2,H)){if(!Q.defaultFocus){Q.defaultFocus=J[H]}J[H].show();T=false}else{J[H].hide()}}if(T){Q.bottomTb.hide()}else{Q.bottomTb.show()}Ext.resumeLayouts(true)},updateButtonText:function(){var n=this,o=n.buttonText,p=0,m,q;for(m in o){if(o.hasOwnProperty(m)){q=n.msgButtons[m];if(q){if(n.cfg&&n.cfg.buttonText){p=p|Math.pow(2,Ext.Array.indexOf(n.buttonIds,m))}if(q.text!==o[m]){q.setText(o[m])}}}}return p},show:function(m){var k=this,l;m=m||{};if(Ext.Component.layoutSuspendCount){Ext.on({resumelayouts:function(){k.show(m)},single:true});return k}k.reconfigure(m);if(m.cls){k.addCls(m.cls)}l=k.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");k.preventFocusOnActivate=!l.length;Ext.window.Window.prototype.show.call(this);return k},onShow:function(){Ext.window.Window.prototype.onShow.apply(this,arguments);this.center()},updateText:function(f){this.msg.setHtml(f)},setIcon:function(p,q,t){var o=this,n=o.iconComponent,s=o.messageIconCls;if(s){n.removeCls(s)}if(p){n.show();if(q||t){n.setSize(q||n.getWidth(),t||n.getHeight())}n.addCls("x-dlg-icon");n.addCls(o.messageIconCls=p)}else{n.removeCls("x-dlg-icon");n.hide()}return o},updateProgress:function(k,m,l){this.progressBar.updateProgress(k,m);if(l){this.updateText(l)}return this},onEsc:function(){if(this.closable!==false){Ext.window.Window.prototype.onEsc.apply(this,arguments)}},confirm:function(o,l,m,n){if(Ext.isString(o)){o={title:o,icon:this.QUESTION,message:l,buttons:this.YESNO,callback:m,scope:n}}return this.show(o)},prompt:function(n,p,q,s,t,o){if(Ext.isString(n)){n={prompt:true,title:n,minWidth:this.minPromptWidth,message:p,buttons:this.OKCANCEL,callback:q,scope:s,multiline:t,value:o}}return this.show(n)},wait:function(l,k,m){if(Ext.isString(l)){l={title:k,message:l,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:m}}return this.show(l)},alert:function(l,m,n,o){if(Ext.isString(l)){l={title:l,message:m,buttons:this.OK,fn:n,scope:o,minWidth:this.minWidth}}return this.show(l)},progress:function(k,l,m){if(Ext.isString(k)){k={title:k,message:l,progress:true,progressText:m}}return this.show(k)}},1,["messagebox"],["component","box","container","panel","window","messagebox"],{component:true,box:true,container:true,panel:true,window:true,messagebox:true},["widget.messagebox"],0,[Ext.window,"MessageBox"],function(f){Ext.onInternalReady(function(){Ext.MessageBox=Ext.Msg=new f()})}));(Ext.cmd.derive("Ext.form.field.Picker",Ext.form.field.Text,{alternateClassName:"Ext.form.Picker",config:{triggers:{picker:{handler:"onTriggerClick",scope:"this",focusOnMousedown:true}}},renderConfig:{editable:true},keyMap:{scope:"this",DOWN:"onDownArrow",ESC:"onEsc"},keyMapTarget:"inputEl",isPickerField:true,matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:"x-pickerfield-open",isExpanded:false,applyTriggers:function(l){var k=this,m=l.picker;if(!m.cls){m.cls=k.triggerCls}return Ext.form.field.Text.prototype.applyTriggers.call(this,l)},getSubTplData:function(n){var m=this,l,o;l=Ext.form.field.Text.prototype.getSubTplData.call(this,n);if(!m.ariaStaticRoles[m.ariaRole]){o=l.ariaElAttributes;if(o){o["aria-haspopup"]=true;o["aria-expanded"]=false}}return l},initEvents:function(){Ext.form.field.Text.prototype.initEvents.call(this);if(Ext.isGecko){this.inputEl.dom.setAttribute("autocomplete","off")}},updateEditable:function(m,k){var l=this;if(!m){l.inputEl.on("click",l.onTriggerClick,l)}else{l.inputEl.un("click",l.onTriggerClick,l)}Ext.form.field.Text.prototype.updateEditable.call(this,m,k)},onEsc:function(e){if(Ext.isIE){e.preventDefault()}if(this.isExpanded){this.collapse();e.stopEvent()}},onDownArrow:function(e){var k=this;if((e.time-k.lastDownArrow)>150){delete k.lastDownArrow}if(!k.isExpanded){e.stopEvent();k.onTriggerClick(e);k.lastDownArrow=e.time}else{if(!e.stopped&&(e.time-k.lastDownArrow)<150){delete k.lastDownArrow}}},expand:function(){var m=this,o,n,l;if(m.rendered&&!m.isExpanded&&!m.destroyed){o=m.bodyEl;n=m.getPicker();l=Ext.getDoc();n.setMaxHeight(n.initialConfig.maxHeight);if(m.matchFieldWidth){n.setWidth(m.bodyEl.getWidth())}n.show();m.isExpanded=true;m.alignPicker();o.addCls(m.openCls);if(!m.ariaStaticRoles[m.ariaRole]){if(!m.ariaEl.dom.hasAttribute("aria-owns")){m.ariaEl.dom.setAttribute("aria-owns",n.listEl?n.listEl.id:n.el.id)}m.ariaEl.dom.setAttribute("aria-expanded",true)}m.touchListeners=l.on({translate:false,touchstart:m.collapseIf,scope:m,delegated:false,destroyable:true});m.scrollListeners=Ext.on({scroll:m.onGlobalScroll,scope:m,destroyable:true});Ext.on("resize",m.alignPicker,m,{buffer:1});m.fireEvent("expand",m);m.onExpand()}},onExpand:Ext.emptyFn,alignPicker:function(){var g=this,k;if(g.rendered&&!g.destroyed){k=g.getPicker();if(k.isVisible()&&k.isFloating()){g.doAlign()}}},doAlign:function(){var m=this,o=m.picker,q="-above",n,p;o.el.alignTo(m.triggerWrap,m.pickerAlign,m.pickerOffset);n=o.floatParent?o.getOffsetsTo(o.floatParent.getTargetEl()):o.getXY();o.x=n[0];o.y=n[1];p=o.el.getY()<m.inputEl.getY();m.bodyEl[p?"addCls":"removeCls"](m.openCls+q);o[p?"addCls":"removeCls"](o.baseCls+q)},collapse:function(){var l=this;if(l.isExpanded&&!l.destroyed&&!l.destroying){var m=l.openCls,n=l.picker,o="-above";n.hide();l.isExpanded=false;l.bodyEl.removeCls([m,m+o]);n.el.removeCls(n.baseCls+o);if(!l.ariaStaticRoles[l.ariaRole]){l.ariaEl.dom.setAttribute("aria-expanded",false)}l.touchListeners.destroy();l.scrollListeners.destroy();Ext.un("resize",l.alignPicker,l);l.fireEvent("collapse",l);l.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(e){var k=this;if(!k.destroyed&&!e.within(k.bodyEl,false,true)&&!k.owns(e.target)&&!Ext.fly(e.target).isFocusable()){k.collapse()}},getPicker:function(){var g=this,k=g.picker;if(!k){g.creatingPicker=true;g.picker=k=g.createPicker();k.ownerCmp=g;delete g.creatingPicker}return g.picker},onFocusLeave:function(e){this.collapse();Ext.form.field.Text.prototype.onFocusLeave.call(this,e)},getRefItems:function(){var f=[];if(this.picker){f[0]=this.picker}return f},createPicker:Ext.emptyFn,onTriggerClick:function(e){var k=this;if(!k.readOnly&&!k.disabled){if(k.isExpanded){k.collapse()}else{k.expand()}}},doDestroy:function(){var g=this,k=g.picker;Ext.un("resize",g.alignPicker,g);Ext.destroy(g.keyNav,k);if(k){g.picker=k.pickerField=null}Ext.form.field.Text.prototype.doDestroy.call(this)},privates:{onGlobalScroll:function(f){if(!this.picker.owns(f.getElement())){this.collapse()}}}},0,["pickerfield"],["component","box","field","textfield","pickerfield"],{component:true,box:true,field:true,textfield:true,pickerfield:true},["widget.pickerfield"],0,[Ext.form.field,"Picker",Ext.form,"Picker"],0));(Ext.cmd.derive("Ext.util.ObjectTemplate",Ext.Base,{isObjectTemplate:true,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(g,k){return g.isObjectTemplate?g:new Ext.util.ObjectTemplate(g,k)}},constructor:function(g,k){Ext.apply(this,k);this.template=g},apply:function(k){var g=this;delete g.apply;g.apply=g.compile(g.template);return g.apply(k)},privates:{compile:function(p){var o=this,t=o.excludeProperties,v,s,u,q;if(Ext.isString(p)){if(p.indexOf("{")<0){q=function(){return p}}else{if(o.valueRe.test(p)){p=p.substring(1,p.length-1).split(".");q=function(e){for(var g=e,f=0;g&&f<p.length;++f){g=g[p[f]]}return g}}else{p=new Ext.XTemplate(p);q=function(e){return p.apply(e)}}}}else{if(!p||Ext.isPrimitive(p)||Ext.isFunction(p)){q=function(){return p}}else{if(p instanceof Array){v=[];for(s=0,u=p.length;s<u;++s){v[s]=o.compile(p[s])}q=function(e){var g=[],f;for(f=0;f<u;++f){g[f]=v[f](e)}return g}}else{v={};for(s in p){if(!t[s]){v[s]=o.compile(p[s])}}q=function(e){var g={},f,k;for(f in p){k=t[f]?p[f]:v[f](e);if(k!==undefined){g[f]=k}}return g}}}}return q}}},1,0,0,0,0,0,[Ext.util,"ObjectTemplate"],0));(Ext.cmd.derive("Ext.data.schema.Role",Ext.Base,{isRole:true,left:true,owner:false,side:"left",isMany:false,defaultReaderType:"json",_internalReadOptions:{recordsOnly:true,asRoot:true},constructor:function(n,m){var l=this,o=m.extra;Ext.apply(l,m);if(o){o=Ext.apply({},o);delete o.type;Ext.apply(l,o);delete l.extra}l.association=n;if(n.owner===l.side){n.owner=l;l.owner=true}},processUpdate:function(){Ext.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(n,m,o,l){return o},checkMembership:Ext.emptyFn,adoptAssociated:function(l,k){var m=this.getAssociatedItem(l);if(m){k.adopt(m)}},$roleFilterId:"$associationRoleFilter",createAssociationStore:function(y,F,z,E){var w=this,A=w.association,x=A.getFieldName(),v=A.isManyToMany,C=w.storeConfig,D=F.getId(),B={asynchronousLoad:false,model:w.cls,role:w,session:y,associatedEntity:F,disableMetaChangeEvent:true,pageSize:null,remoteFilter:true,trackRemoved:!y},u;if(v){B.filters=[{id:w.$roleFilterId,property:w.inverse.field,value:D,exactMatch:true}]}else{if(x){B.filters=[{id:w.$roleFilterId,property:x,value:D,exactMatch:true}];B.foreignKeyName=x}}if(C){Ext.apply(B,C)}u=Ext.Factory.store(B);w.onStoreCreate(u,y,D);if(x||(v&&y)){u.on({scope:w,add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany"})}if(z){u.loadData(z)}u.complete=!!E;return u},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(G,T,W,E,O){var L=this,I=L.getStoreName(),S=G[I],X=G.session,N=T&&T.reload,H=G.$source,R=false,K=false,P,V,F,D,J,Q,U,M;if(!S){if(X){if(H){K=H.phantom}if(!E&&H){U=H[I];if(U&&!U.isLoading()){E=[];J=U.getData().items;for(F=0,D=J.length;F<D;++F){Q=J[F];E.push(X.getRecord(Q.self,Q.id))}R=!!U.complete;P=true}}if(!P){M=!!E;E=L.findRecords(X,G,E,O);if(!M&&(!E||!E.length)){E=null}R=K||M}}else{R=!!E}S=L.createAssociationStore(X,G,E,R||G.phantom);S.$source=U;if(!E&&(L.autoLoad||T)){N=true}G[I]=S}if(T){if(N||S.isLoading()){S.on("load",function(f,g,e,k){V=[f,k];W=W||T.scope||G;if(e){Ext.callback(T.success,W,V)}else{Ext.callback(T.failure,W,V)}V.push(e);Ext.callback(T,W,V);Ext.callback(T.callback,W,V)},null,{single:true})}else{V=[S,null];W=W||T.scope||G;Ext.callback(T.success,W,V);V.push(true);Ext.callback(T,W,V);Ext.callback(T.callback,W,V)}}if(N&&!S.isLoading()){S.load()}return S},getAssociatedItem:function(g){var k=this.isMany?this.getStoreName():this.getInstanceName();return g[k]||null},onDrop:Ext.emptyFn,onIdChanged:Ext.emptyFn,getReaderRoot:function(){var f=this;return f.associationKey||(f.associationKey=f.association.schema.getNamer().readerRoot(f.role))},getReader:function(){var o=this,q=o.reader,n=o.cls,m=!o.associationKey,p=this.getReaderRoot();if(q&&!q.isReader){if(Ext.isString(q)){q={type:q}}Ext.applyIf(q,{model:n,rootProperty:p,useSimpleAccessors:m,type:o.defaultReaderType});q=o.reader=Ext.createByAlias("reader."+q.type,q)}return q},getInstanceName:function(){var f=this;return f.instanceName||(f.instanceName=f.association.schema.getNamer().instanceName(f.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName="$old"+this.getInstanceName())},getStoreName:function(){var f=this;return f.storeName||(f.storeName=f.association.schema.getNamer().storeName(f.role))},constructReader:function(q){var p=this,v=p.getReader(),x=p.cls,w=!p.associationKey,u=p.getReaderRoot(),t,s;if(!v){s=x.getProxy();if(s){t=s.getReader();v=new t.self();v.copyFrom(t);v.setRootProperty(u)}else{v=new q.self({model:x,useSimpleAccessors:w,rootProperty:u})}p.reader=v}return v},read:function(q,n,p,o){var t=this.constructReader(p),s=t.getRoot(n);if(s){return t.readRecords(s,o,this._internalReadOptions)}},getCallbackOptions:function(m,l,k){if(typeof m==="function"){m={callback:m,scope:l||k}}else{if(m){m=Ext.apply({},m);m.scope=l||m.scope||k}}return m},doGetFK:function(D,F,H){var x=this,G=x.cls,A=x.association.getFieldName(),v=x.getInstanceName(),w=D[v],E=F&&F.reload,B=w!==undefined&&!E,y=D.session,C,z;if(!B){if(y){C=D.get(A);if(C||C===0){B=y.peekRecord(G,C,true)&&!E;w=y.getRecord(G,C,false)}else{B=true;D[v]=w=null}}else{if(A){C=D.get(A);if(!C&&C!==0){B=true;D[v]=w=null}else{if(!w){w=G.createWithId(C)}}}else{B=true;w=null}}}else{if(w){B=!w.isLoading()}}if(B){if(F){z=[w,null];H=H||F.scope||D;Ext.callback(F.success,H,z);z.push(true);Ext.callback(F,H,z);Ext.callback(F.callback,H,z)}}else{D[v]=w;F=x.getCallbackOptions(F,H,D);w.load(F)}return w},doSetFK:function(E,w,F,G){var x=this,z=x.association.getFieldName(),v=x.getInstanceName(),A=E[v],C=x.inverse,B=C.setterName,y=E.session,H,D;if(w&&w.isEntity){if(A!==w){D=x.getOldInstanceName();E[D]=A;E[v]=w;if(A&&A.isEntity){A[C.getInstanceName()]=undefined}if(z){E.set(z,w.getId())}delete E[D];E.onAssociatedRecordSet(w,x);if(B){w[B](E)}}}else{H=(E.changingKey&&!C.isMany)||E.set(z,w);if(H&&A&&A.isEntity&&!A.isEqual(A.getId(),w)){E[v]=undefined;if(!C.isMany){A[C.getInstanceName()]=undefined}}}if(F){if(Ext.isFunction(F)){F={callback:F,scope:G||E}}return E.save(F)}}},1,0,0,0,0,0,[Ext.data.schema,"Role"],0));(Ext.cmd.derive("Ext.data.schema.Association",Ext.Base,{isOneToOne:false,isManyToOne:false,isManyToMany:false,owner:null,field:null,constructor:function(o){var m=this,l,n;Ext.apply(m,o);m.left=l=new m.Left(m,m.left);m.right=n=new m.Right(m,m.right);l.inverse=n;n.inverse=l},hasField:function(){return !!this.field},getFieldName:function(){var f=this.field;return f?f.name:""}},1,0,0,0,0,0,[Ext.data.schema,"Association"],0));(Ext.cmd.derive("Ext.data.schema.OneToOne",Ext.data.schema.Association,{isOneToOne:true,isToOne:true,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",onDrop:function(m,l){var k=this.getAssociatedItem(m);m[this.getInstanceName()]=null;if(k){k[this.inverse.getInstanceName()]=null}},onIdChanged:function(q,o,p){var m=this.getAssociatedItem(q),n=this.association.getFieldName();if(!q.session&&m&&n){m.set(n,p)}},createGetter:function(){var f=this;return function(){return f.doGet(this)}},createSetter:function(){var f=this;return function(e){return f.doSet(this,e)}},doGet:function(o){var n=this.getInstanceName(),m=o[n],l=o.session;if(!m&&l){}return m||null},doSet:function(q,m){var p=this.getInstanceName(),n=q[p],o=this.inverse.setterName;if(n!==m){q[p]=m;if(o){m[o](q)}q.onAssociatedRecordSet(m,this)}return n},read:function(u,q,t,p){var s=this,o=s.callParent([u,q,t,p]),v;if(o){v=o[0];if(v){v[s.inverse.getInstanceName()]=u;u[s.getInstanceName()]=v;delete u.data[s.role]}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",createGetter:function(){var f=this;return function(k,e){return f.doGetFK(this,k,e)}},createSetter:function(){var f=this;return function(e,m,l){return f.doSetFK(this,e,m,l)}},onDrop:function(n,p){var s=this,q=s.association.field,t=s.getAssociatedItem(n),o;if(s.inverse.owner){if(p&&q){o=n.get(q.name);if(o||o===0){t=p.getEntry(s.cls,o).record;if(t){t.drop()}}}else{if(t){t.drop()}}}if(q){n.set(q.name,null)}n[s.getInstanceName()]=null;if(t){t[s.inverse.getInstanceName()]=null}},onValueChange:function(w,x,p){var q=this,v=w[q.getOldInstanceName()]||q.getAssociatedItem(w),s=p||p===0,t=q.getInstanceName(),u=q.cls;w.changingKey=true;q.doSetFK(w,p);if(!s){w[t]=null}else{if(x&&u){w[t]=x.peekRecord(u,p)||undefined}}if(q.inverse.owner&&v){q.association.schema.queueKeyCheck(v,q)}w.changingKey=false},checkKeyForDrop:function(k){var g=this.inverse.getAssociatedItem(k);if(!g){k.drop()}},read:function(D,C,H,B){var y=this,J=y.callParent([D,C,H,B]),x,K,I,z,L,F,E,G,A;if(J){x=J[0];K=y.association.field;if(K){I=K.name}z=D.session;A=D.data;if(x){if(z){L=z.getRefs(x,this.inverse,true);G=(L&&L[D.id])||(A[I]===undefined)}else{G=true}if(G){if(K){E=A[I];F=x.id;if(E!==F){A[I]=F;if(z){z.updateReference(D,K,F,E)}}}x[y.inverse.getInstanceName()]=D;D[y.getInstanceName()]=x}delete A[y.role]}}}})},0,0,0,0,0,0,[Ext.data.schema,"OneToOne"],0));(Ext.cmd.derive("Ext.data.schema.ManyToOne",Ext.data.schema.Association,{isManyToOne:true,isToOne:true,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,onDrop:function(t,v){var u=this,q=u.getAssociatedItem(t),y,w,x,s,z;if(q){y=q.removeAll();if(y&&u.inverse.owner){for(x=0,w=y.length;x<w;++x){y[x].drop()}}q.destroy();t[u.getStoreName()]=null}else{if(v){y=v.getRefs(t,u);if(y){for(z in y){y[z].drop()}}}}},onIdChanged:function(t,y,x){var q=this.association.getFieldName(),s=this.getAssociatedItem(t),w,v,u,z;if(s){z=s.getFilters().get(this.$roleFilterId);if(z){z.setValue(x)}if(!t.session&&q){w=s.getDataSource().items;for(v=0,u=w.length;v<u;++v){w[v].set(q,x)}}}},processUpdate:function(u,y){var t=this,w=t.inverse.cls,v=y.R,z,s,q,x;if(v){for(z in v){s=u.peekRecord(w,z);if(s){x=u.getEntityList(t.cls,v[z]);q=t.getAssociatedItem(s);if(q){q.loadData(x);q.complete=true}else{s[t.getterName](null,null,x)}}else{u.onInvalidAssociationEntity(w,z)}}}},findRecords:function(x,w,B,F){var y=B,v=x.getRefs(w,this,true),H=this.association.field,G,C,D,A,z,E;if(H&&(v||F)){G=H.name;y=[];if(B){E={};for(A=0,z=B.length;A<z;++A){C=B[A];D=C.id;if(v&&v[D]){y.push(C)}else{if(F&&C.data[G]===undefined){y.push(C);C.data[G]=w.id;x.updateReference(C,H,w.id,undefined)}}E[D]=true}}if(v){for(D in v){if(!E||!E[D]){y.push(v[D])}}}}return y},processLoad:function(p,q,m,n){var o=m;if(n){o=this.findRecords(n,q,m,true)}this.onLoadMany(q,o,n);return o},adoptAssociated:function(s,n){var q=this.getAssociatedItem(s),o,p,t;if(q){q.setSession(n);o=q.getData().items;for(p=0,t=o.length;p<t;++p){n.adopt(o[p])}}},createGetter:function(){var f=this;return function(m,l,e){return f.getAssociatedStore(this,m,l,e,true)}},createSetter:null,onAddToMany:function(k,g){this.syncFK(g,k.getAssociatedEntity(),false)},onLoadMany:function(u,z,v){var E=this.inverse.getInstanceName(),C=u.getId(),F=this.association.field,x,w,A,B,y,D;if(F){for(x=0,w=z.length;x<w;++x){A=z[x];A[E]=u;if(F){D=F.name;y=A.data;B=y[D];if(B!==C){y[D]=C;if(v){v.updateReference(A,F,C,B)}}}}}},onRemoveFromMany:function(k,g){this.syncFK(g,k.getAssociatedEntity(),true)},read:function(v,B,s,z){var w=this,t=w.inverse.getInstanceName(),A=w.callParent([v,B,s,z]),u,x,y;if(A){u=v[w.getterName](null,null,A);delete v.data[w.role];A=u.getData().items;for(y=0,x=A.length;y<x;++y){A[y][t]=v}}},syncFK:function(z,u,F){var v=this.association.getFieldName(),x=this.inverse,y=x.setterName,E=x.getInstanceName(),w=z.length,C=u.getId(),D,A,B;while(w-->0){A=z[w];D=!A.isEqual(C,A.get(v));B=F?null:u;if(D!==F){A.changingKey=true;A[y](B);A.changingKey=false}else{A[E]=B}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",onDrop:function(k,l){var m=this.association.field;if(m){k.set(m.name,null)}k[this.getInstanceName()]=null},createGetter:function(){var f=this;return function(k,e){return f.doGetFK(this,k,e)}},createSetter:function(){var f=this;return function(m,l,e){return f.doSetFK(this,m,l,e)}},checkMembership:function(m,l){var n=this.association.field,o;if(n){o=this.getSessionStore(m,l.get(n.name));if(o&&!o.contains(l)){o.add(l)}}},onValueChange:function(B,y,D,E){var x=this,H=x.getInstanceName(),F=x.cls,C,G,v,A,w,z;if(!B.changingKey){C=D||D===0;if(!C){B[H]=null}if(y){v=x.getSessionStore(y,E);if(v){v.remove(B)}if(C){v=x.getSessionStore(y,D);if(v&&!v.isLoading()){v.add(B)}if(F){z=y.peekRecord(F,D)}B[H]=z||undefined}}else{G=B.joined;if(G){for(A=G.length-1;A>=0;A--){v=G[A];if(v.isStore){w=v.getAssociatedEntity();if(w&&w.self===x.cls&&w.getId()===E){v.remove(B)}}}}}}if(x.owner&&D===null){x.association.schema.queueKeyCheck(B,x)}},checkKeyForDrop:function(g){var k=this.association.field;if(g.get(k.name)===null){g.drop()}},getSessionStore:function(m,n){var o=this.cls,l;if(o){l=m.peekRecord(o,n);if(l){return this.inverse.getAssociatedItem(l)}}},read:function(n,q,s,o){var p=this.callParent([n,q,s,o]),t;if(p){t=p[0];if(t){n[this.getInstanceName()]=t;delete n.data[this.role]}}}})},0,0,0,0,0,0,[Ext.data.schema,"ManyToOne"],0));(Ext.cmd.derive("Ext.data.schema.ManyToMany",Ext.data.schema.Association,{isManyToMany:true,isToMany:true,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,digitRe:/^\d+$/,findRecords:function(v,H,B){var G=v.getMatrixSlice(this.inverse,H.id),A=G.members,w=[],F=this.cls,E,y,x,D,z,C;if(B){E={};for(y=0,x=B.length;y<x;++y){C=B[y];D=C.id;z=A[D];if(!(z&&z[2]===-1)){w.push(C)}E[D]=true}}for(D in A){z=A[D];if(!E||!E[D]&&(z&&z[2]!==-1)){C=v.peekRecord(F,D);if(C){w.push(C)}}}return w},onIdChanged:function(o,l,m){var n=this.getAssociatedItem(o);if(n){n.getFilters().get(this.$roleFilterId).setValue(m)}},processLoad:function(p,q,m,n){var o=m;if(n){o=this.findRecords(n,q,m);this.onAddToMany(p,o,true)}return o},processUpdate:function(u,y){var t=this,w=t.inverse.cls,v=y.R,z,s,q,x;if(v){for(z in v){s=u.peekRecord(w,z);if(s){x=u.getEntityList(t.cls,v[z]);q=t.getAssociatedItem(s);if(q){q.loadData(x);q.complete=true}else{s[t.getterName](null,null,x)}}else{u.onInvalidAssociationEntity(w,z)}}}t.processMatrixBlock(u,y.C,1);t.processMatrixBlock(u,y.D,-1)},checkMembership:function(x,w){var v=x.getMatrix(this.association,true),y,B,A,G,F,E,C,z,D,H;if(!v){return}y=this.left?v.right:v.left;B=y.inverse.role.cls;A=this.inverse;F=y.slices;if(F){G=F[w.id];if(G){C=G.members;for(E in C){z=C[E];if(z[2]!==-1){D=x.peekRecord(B,E);if(D){H=A.getAssociatedItem(D);if(H){H.matrixUpdate=1;H.add(w);H.matrixUpdate=0}}}}}}},onStoreCreate:function(p,n,m){var o=this,q;if(n){q=n.getMatrixSlice(o.inverse,m);q.attach(p);q.notify=o.onMatrixUpdate;q.scope=o}},processMatrixBlock:function(p,q,s){var u=this.inverse,t=this.digitRe,o,v;if(q){for(v in q){if(t.test(v)){v=parseInt(v,10)}o=p.getMatrixSlice(u,v);o.update(q[v],s)}}},createGetter:function(){var f=this;return function(m,l,e){return f.getAssociatedStore(this,m,l,e,false)}},onAddToMany:function(m,k,l){if(!m.matrixUpdate){m.matrixUpdate=1;m.matrix.update(k,l===true?0:1);m.matrixUpdate=0}},onRemoveFromMany:function(g,k){if(!g.matrixUpdate){g.matrixUpdate=1;g.matrix.update(k,-1);g.matrixUpdate=0}},read:function(t,p,s,o){var q=this,n=q.callParent([t,p,s,o]);if(n){t[q.getterName](null,null,n);delete t.data[q.role]}},onMatrixUpdate:function(p,v,q){var u=p.store,t,o,s;if(u&&!u.loading&&!u.matrixUpdate){u.matrixUpdate=1;t=u.indexOfId(v);if(q<0){if(t>=0){u.remove([t])}}else{if(t<0){s=u.getSession().getEntry(this.type,v);o=s&&s.record;if(o){u.add(o)}}}u.matrixUpdate=0}},adoptAssociated:function(s,n){var p=this.getAssociatedItem(s),q,o,t;if(p){p.setSession(n);this.onStoreCreate(p,n,s.getId());q=p.getData().items;for(o=0,t=q.length;o<t;++o){n.adopt(q[o])}}}},function(){var f=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:f,left:false,side:"right"})},null,"Ext.data.schema.ManyToMany")})},0,0,0,0,0,0,[Ext.data.schema,"ManyToMany"],0));(Ext.cmd.derive("Ext.util.Inflector",Ext.Base,{singleton:true,plurals:[[(/(quiz)$/i),"$1zes"],[(/^(ox)$/i),"$1en"],[(/([m|l])ouse$/i),"$1ice"],[(/(matr|vert|ind)ix|ex$/i),"$1ices"],[(/(x|ch|ss|sh)$/i),"$1es"],[(/([^aeiouy]|qu)y$/i),"$1ies"],[(/(hive)$/i),"$1s"],[(/(?:([^f])fe|([lr])f)$/i),"$1$2ves"],[(/sis$/i),"ses"],[(/([ti])um$/i),"$1a"],[(/(buffal|tomat|potat)o$/i),"$1oes"],[(/(bu)s$/i),"$1ses"],[(/(alias|status|sex)$/i),"$1es"],[(/(octop|vir)us$/i),"$1i"],[(/(ax|test)is$/i),"$1es"],[(/^(p)erson$/i),"$1eople"],[(/^(m)an$/i),"$1en"],[(/(.*)(child)(ren)?$/i),"$1$2ren"],[(/s$/i),"s"],[(/$/),"s"]],singulars:[[(/(address)$/i),"$1"],[(/(quiz)zes$/i),"$1"],[(/(matr)ices$/i),"$1ix"],[(/(vert|ind)ices$/i),"$1ex"],[(/^(ox)en/i),"$1"],[(/(alias|status)es$/i),"$1"],[(/(octop|vir)i$/i),"$1us"],[(/(cris|ax|test)es$/i),"$1is"],[(/(shoe)s$/i),"$1"],[(/(o)es$/i),"$1"],[(/(bus)es$/i),"$1"],[(/([m|l])ice$/i),"$1ouse"],[(/(x|ch|ss|sh)es$/i),"$1"],[(/(m)ovies$/i),"$1ovie"],[(/(s)eries$/i),"$1eries"],[(/([^aeiouy]|qu)ies$/i),"$1y"],[(/([lr])ves$/i),"$1f"],[(/(tive)s$/i),"$1"],[(/(hive)s$/i),"$1"],[(/([^f])ves$/i),"$1fe"],[(/(^analy)ses$/i),"$1sis"],[(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i),"$1$2sis"],[(/([ti])a$/i),"$1um"],[(/(n)ews$/i),"$1ews"],[(/(p)eople$/i),"$1erson"],[(/s$/i),""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(g,k){this.singulars.unshift([g,k])},plural:function(g,k){this.plurals.unshift([g,k])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(f){return Ext.Array.indexOf(this.uncountable,f)!=-1},pluralize:function(n){if(this.isTransnumeral(n)){return n}var o=this.plurals,p=o.length,t,q,s;for(s=0;s<p;s++){t=o[s];q=t[0];if(q==n||(q.test&&q.test(n))){return n.replace(q,t[1])}}return n},singularize:function(n){if(this.isTransnumeral(n)){return n}var o=this.singulars,p=o.length,t,q,s;for(s=0;s<p;s++){t=o[s];q=t[0];if(q==n||(q.test&&q.test(n))){return n.replace(q,t[1])}}return n},classify:function(f){return Ext.String.capitalize(this.singularize(f))},ordinalize:function(l){var n=parseInt(l,10),m=n%10,o=n%100;if(11<=o&&o<=13){return l+"th"}else{switch(m){case 1:return l+"st";case 2:return l+"nd";case 3:return l+"rd";default:return l+"th"}}}},0,0,0,0,0,0,[Ext.util,"Inflector"],function(){var g={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},k;for(k in g){if(g.hasOwnProperty(k)){this.plural(k,g[k]);this.singular(g[k],k)}}}));(Ext.cmd.derive("Ext.data.schema.Namer",Ext.Base,{isNamer:true,capitalize:function(f){return Ext.String.capitalize(f)},fieldRole:function(g){var k=g.match(this.endsWithIdRe,"");if(k){g=g.substr(0,g.length-(k[1]||k[2]).length)}return this.apply("uncapitalize",g)},idField:function(f){return this.apply("uncapitalize,singularize",f)+"Id"},instanceName:function(f){return this.apply("underscore",f)},multiRole:function(f){return this.apply("undotted,uncapitalize,pluralize",f)},pluralize:function(f){return Ext.util.Inflector.pluralize(f)},readerRoot:function(f){return this.apply("uncapitalize",f)},singularize:function(f){return Ext.util.Inflector.singularize(f)},storeName:function(f){return this.apply("underscore",f)},uncapitalize:function(f){return Ext.String.uncapitalize(f)},underscore:function(f){return"_"+f},uniRole:function(f){return this.apply("undotted,uncapitalize,singularize",f)},undotted:function(l){if(l.indexOf(".")<0){return l}var k=l.split("."),m=k.length;while(m-->1){k[m]=this.apply("capitalize",k[m])}return k.join("")},getterName:function(g){var k=g.role;if(g&&g.isMany){return k}return"get"+this.apply("capitalize",k)},inverseFieldRole:function(x,w,q,u){var p=this,v=p.apply(w?"uniRole":"multiRole",x),s=p.apply("pluralize",q),t=p.apply("undotted,pluralize",u);if(s.toLowerCase()!==t.toLowerCase()){v=q+p.apply("capitalize",v)}return v},manyToMany:function(m,n,q){var o=this,p=o.apply("undotted,capitalize,singularize",n)+o.apply("undotted,capitalize,pluralize",q);if(m){p=o.apply("capitalize",m+p)}return p},manyToOne:function(l,n,o,m){return this.apply("capitalize,singularize",o)+this.apply("capitalize",n)},matrixRole:function(k,l){var m=this.apply(k?"multiRole,capitalize":"multiRole",l);return k?k+m:m},oneToOne:function(l,n,o,m){return this.apply("undotted,capitalize,singularize",o)+this.apply("capitalize",n)},setterName:function(f){return"set"+this.apply("capitalize",f.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(v,x){var s=this,y=s.cache,q=y[x]||(y[x]={}),t=q[v],u,w,z;if(!t){if(v.indexOf(",")<0){t=s[v](x)}else{w=(z=v.split(",")).length;t=x;for(u=0;u<w;++u){t=s.apply(z[u],t)}}q[v]=t}return t}},0,0,0,0,["namer.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Namer"],0));(Ext.cmd.derive("Ext.data.schema.Schema",Ext.Base,{aliasPrefix:"schema.",isSchema:true,type:"default",statics:{instances:{},get:function(q){var o=this,s=o.instances,v="default",t=q&&Ext.isString(q),u,p;if(q){if(q.isSchema){return q}v=t?q:(q.id||v)}if(!(u=s[v])){s[v]=u=o.create(q);u.id=v}else{if(q&&!t){p=Ext.merge({},u.config);Ext.merge(p,q);u.setConfig(p);u.config=p}}return u},lookupEntity:function(t){var p=null,n=this.instances,q,s,o;if(t){if(t.isEntity){p=t.self}else{if(Ext.isFunction(t)){p=t}else{if(Ext.isString(t)){p=Ext.ClassManager.get(t);if(p&&(!p.prototype||!p.prototype.isEntity)){p=null}if(!p){for(s in n){o=n[s];q=o.getEntity(t);if(q){if(p){Ext.raise('Ambiguous entity name "'+t+'". Defined by schema "'+p.schema.type+'" and "'+s+'"')}p=q}}}if(!p){Ext.raise('No such Entity "'+t+'".')}}}}}return p}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(m,k){var l=k.alias;if(l&&!k.type){if(!Ext.isString(l)){l=l[0]}m.prototype.type=l.substring(this.prototype.aliasPrefix.length)}},constructor:function(f){this.initConfig(f);this.clear()},applyDefaultIdentifier:function(f){return f&&Ext.Factory.dataIdentifier(f)},applyNamer:function(g){var k=Ext.data.schema.Namer.create(g);k.schema=this;return k},applyNamespace:function(g){if(g){var k=g.length-1;if(g.charAt(k)!=="."){g+="."}}return g},applyProxy:function(f){return Ext.util.ObjectTemplate.create(f)},eachAssociation:function(l,m){var n=this.associations,o;for(o in n){if(n.hasOwnProperty(o)){if(l.call(m,o,n[o])===false){break}}}},eachEntity:function(m,n){var l=this.entities,o;for(o in l){if(l.hasOwnProperty(o)){if(m.call(n,o,l[o].cls)===false){break}}}},getAssociation:function(k){var g=this.associations[k];return g||null},getEntity:function(k){var g=this.entityClasses[k]||this.entities[k];return(g&&g.cls)||null},getEntityName:function(o){var l=this.getNamespace(),m,n;if(typeof o==="string"){n=o}else{n=o.$className||null}if(n){if(l){m=l.length;if(n.substring(0,m)!==l){return n}}if(m){n=n.substring(m)}}return n},hasAssociations:function(f){f=f.entityName||f;return !!this.associationEntityMap[f]},hasEntity:function(k){var g=this.getEntityName(k);return !!(this.entities[g]||this.entityClasses[g])},addMatrix:function(F,L,O,P,B){var A=this,H=A.getNamer(),D=A.associations,R=A.entities,M=P.type,C=B.type,N=P.field||H.apply("idField",M),J=B.field||H.apply("idField",C),Q=P.role||H.matrixRole(O,M),G=B.role||H.matrixRole(O,C),E,K,I;K=R[M]||(R[M]={cls:null,name:M,associations:{}});I=R[C]||(R[C]={cls:null,name:C,associations:{}});++A.assocCount;D[L]=E=new Ext.data.schema.ManyToMany({name:L,schema:A,definedBy:F,left:{cls:K.cls,type:M,role:Q,field:N,associationKey:P.associationKey},right:{cls:I.cls,type:C,role:G,field:J,associationKey:B.associationKey}});K.associations[E.right.role]=E.right;I.associations[E.left.role]=E.left;if(K.cls){A.associationEntityMap[K.cls.entityName]=true}if(I.cls){A.associationEntityMap[I.cls.entityName]=true}A.decorateModel(E)},addReference:function(E,V,F,U,D){var K=this,H=K.getNamer(),S=K.entities,C=K.associations,I=E.entityName,R=F.association,N=F.child,J=F.parent,G=F.role,M=F.type||J||N,L=F.inverse,O=Ext.isString(L)?{role:L}:L,P=O&&O.role,T,Q;if(!G){if(!V||F.legacy){G=H.apply("uncapitalize",M)}else{G=H.apply("fieldRole",V.name)}}if(!P){P=H.inverseFieldRole(I,U,G,M)}if(!R){if(U){R=H.oneToOne(E,P,M,G)}else{R=H.manyToOne(E,P,M,G)}}if(D&&R in C){if(D(C[R],R,P,G)!==false){return}}T=S[M]||(S[M]={cls:null,name:M,associations:{}});Q=U?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne;R=new Q({name:R,owner:N?"left":(J?"right":null),definedBy:E,schema:K,field:V,nullable:V?!!V.allowBlank:true,left:{cls:E,type:I,role:P,extra:O},right:{cls:T.cls,type:M,role:G,extra:F},meta:F});E.associations[G]=R.right;T.associations[P]=R.left;if(V){V.reference=R.right;E.references.push(V)}++K.assocCount;K.associationEntityMap[I]=true;if(T.cls){K.associationEntityMap[T.cls.entityName]=true}C[R.name]=R;if(R.right.cls){K.decorateModel(R)}},privates:{addEntity:function(z){var v=this,w=v.entities,t=z.entityName,D=w[t],x=z.fields,A,u,y,B,C;if(!D){w[t]=D={name:t,associations:{}}}else{A=D.associations;for(C in A){A[C].inverse.cls=z;v.associationEntityMap[t]=true;v.decorateModel(A[C].association)}}D.cls=z;z.prototype.associations=z.associations=D.associations;v.entityClasses[z.$className]=D;++v.entityCount;for(y=0,B=x.length;y<B;++y){u=x[y];if(u.reference){v.addReferenceDescr(z,u)}}},addMatrices:function(n,t){var o=this,s,p,q;if(Ext.isString(t)){o.addMatrixDescr(n,null,t)}else{if(t[0]){for(s=0,p=t.length;s<p;++s){o.addMatrixDescr(n,null,t[s])}}else{for(q in t){o.addMatrixDescr(n,q,t[q])}}}},addMatrixDescr:function(y,C,x){var w=this,u=y.entityName,z=w.associations,v=w.getNamer(),A=x.left,D=x.right,t,B;if(Ext.isString(x)){if(x.charAt(0)==="#"){A={type:u};D={type:x.substring(1)}}else{if(x.charAt(t=x.length-1)==="#"){A={type:x.substring(0,t)};D={type:u}}else{if(v.apply("multiRole",u)<v.apply("multiRole",x)){A={type:u};D={type:x}}else{A={type:x};D={type:u}}}}}else{B=x.relation;if(A||(!D&&v.apply("multiRole",u)<v.apply("multiRole",x.type))){if(!A||A===true){A={type:u}}else{A=Ext.apply({type:u},A)}D=x}else{if(!D||D===true){D={type:u}}else{D=Ext.apply({type:u},D)}A=x}}if(!C){C=v.manyToMany(B,A.type,D.type)}if(!(C in z)){w.addMatrix(y,C,B,A,D)}},addReferenceDescr:function(n,l){var o=this,m=l.$reference;if(Ext.isString(m)){m={type:m}}else{m=Ext.apply({},m)}o.addReference(n,l,m,l.unique)},addBelongsTo:function(k,g){this.addKeylessSingle(k,g,false)},addHasOne:function(k,g){this.addKeylessSingle(k,g,true)},addKeylessSingle:function(p,m,n){var q,o;m=Ext.apply({},this.checkLegacyAssociation(p,m));m.type=this.getEntityName(m.child||m.parent||m.type);q=m.foreignKey||(m.type.toLowerCase()+"_id");o=p.getField(q);m.fromSingle=true;if(o){o.$reference=m;o.unique=true;m.legacy=true}this.addReference(p,o,m,n)},addHasMany:function(A,v){var H=this,y=H.entities,D=H.pending,F,E,G,w,x,z,C,B;v=Ext.apply({},this.checkLegacyAssociation(A,v));v.type=this.getEntityName(v.child||v.parent||v.type);E=v.type;w=y[E];F=w&&w.cls;if(F){E=A.entityName;x=v.foreignKey||(E.toLowerCase()+"_id");delete v.foreignKey;B=Ext.apply({},v.inverse);delete v.inverse;z=Ext.apply({},v);delete z.type;v=Ext.apply({type:E,inverse:z},B);C=z.child;if(C){delete z.child;v.parent=E}G=F.getField(x);if(G){G.$reference=v;v.legacy=true}H.addReference(F,G,v,false)}else{if(!D[E]){D[E]=[]}D[E].push([A,v])}},checkLegacyAssociation:function(l,k){if(Ext.isString(k)){k={type:k}}else{k=Ext.apply({},k)}if(k.model){k.type=k.model;delete k.model}var m=k.associatedName||k.name;if(m){delete k.associatedName;delete k.name;k.role=m}return k},afterKeylessAssociations:function(s){var n=this.pending,q=s.entityName,o=n[q],p,t;if(o){for(p=0,t=o.length;p<t;++p){this.addHasMany.apply(this,o[p])}delete n[q]}},clear:function(l){var m=this,k=m.timer;delete m.setConfig;if(k){window.clearTimeout(k);m.timer=null}m.associations={};m.associationEntityMap={};m.entities={};m.entityClasses={};m.pending={};m.assocCount=m.entityCount=0;if(l){m.setNamespace(null)}},constructProxy:function(l){var n=this,m=Ext.Object.chain(l),o=n.getProxy();m.schema=n;m.prefix=n.getUrlPrefix();return o.apply(m)},applyDecoration:function(v){var p=this,u=v.inverse.cls,o=p.getNamer(),s,t,q;if(u&&!v.decorated){v.decorated=true;q=u.prototype;if(!(s=v.getterName)){v.getterName=s=o.getterName(v)}q[s]=v.createGetter();if(v.createSetter){if(!(t=v.setterName)){v.setterName=t=o.setterName(v)}q[t]=v.createSetter()}}},decorateModel:function(f){this.applyDecoration(f.left);this.applyDecoration(f.right)},processKeyChecks:function(q){var o=this,t=o.keyCheckQueue,v=o.timer,u,s,p;if(v){window.clearTimeout(v);o.timer=null}if(!t){return}do{t=o.keyCheckQueue;o.keyCheckQueue=[];for(s=0,u=t.length;s<u;++s){p=t[s];p.role.checkKeyForDrop(p.record)}}while(q&&o.keyCheckQueue.length)},queueKeyCheck:function(q,m){var o=this,p=o.keyCheckQueue,n=o.timer;if(!p){o.keyCheckQueue=p=[]}p.push({record:q,role:m});if(!n){o.timer=n=Ext.Function.defer(o.processKeyChecks,o.getKeyCheckDelay(),o)}},rankEntities:function(){var o=this,n=o.entities,t=Ext.Object.getKeys(n),p=t.length,q,s;o.nextRank=1;t.sort();for(s=0;s<p;++s){q=n[t[s]].cls;if(!q.rank){o.rankEntity(q)}}},rankEntity:function(o){var p=o.associations,m,n,q;for(q in p){n=p[q];if(!n.left&&n.association.field){m=n.cls;if(!m.rank){this.rankEntity(m)}}}o.rank=this.nextRank++}}},1,0,0,0,["schema.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Schema"],0));(Ext.cmd.derive("Ext.data.AbstractStore",Ext.Base,{factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:false,$configStrict:false,config:{filters:null,autoDestroy:undefined,storeId:null,statefulFilters:false,sorters:null,remoteSort:{lazy:true,$value:false},remoteFilter:{lazy:true,$value:false},groupField:undefined,groupDir:"ASC",grouper:null,pageSize:25,autoSort:null},currentPage:1,loading:false,isStore:true,updating:0,constructor:function(l){var k=this,m;k.isInitializing=true;k.mixins.observable.constructor.call(k,l);k.isInitializing=false;m=k.getStoreId();if(!m&&(l&&l.id)){k.setStoreId(m=l.id)}if(m){Ext.data.StoreManager.register(k)}},getCount:function(){var f=this.getData();return f?f.getCount():0},rangeCached:function(g,k){return this.getData().getCount()>=Math.max(g,k)},find:function(p,q,x,w,v,s){var t=!w,u=!!(t&&s);return this.getData().findIndex(p,q,x,t,u,!v)},findRecord:function(){var g=this,k=g.find.apply(g,arguments);return k!==-1?g.getAt(k):null},findExact:function(k,m,l){return this.getData().findIndexBy(function(e){return e.isEqual(e.get(k),m)},this,l)},findBy:function(l,m,k){return this.getData().findIndexBy(l,m,k)},getAt:function(f){return this.getData().getAt(f)||null},getRange:function(l,n,m){var o=this.getData().getRange(l,Ext.isNumber(n)?n+1:n);if(m&&m.callback){m.callback.call(m.scope||this,o,l,n,m)}return o},getFilters:function(g){var k=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this);if(!k&&g!==false){this.setFilters([]);k=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this)}return k},applyFilters:function(l,m){var k;if(!m){m=this.createFiltersCollection();k=true}m.add(l);if(k){this.onRemoteFilterSet(m,this.getRemoteFilter())}return m},getSorters:function(g){var k=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this);if(!k&&g!==false){this.setSorters([]);k=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this)}return k},applySorters:function(l,m){var k;if(!m){m=this.createSortersCollection();k=true}m.add(l);if(k){this.onRemoteSortSet(m,this.getRemoteSort())}return m},filter:function(l,k,m){if(Ext.isString(l)){l={property:l,value:k}}this.suppressNextFilter=!!m;this.getFilters().add(l);this.suppressNextFilter=false},removeFilter:function(n,o){var l=this,m=l.getFilters();l.suppressNextFilter=!!o;if(n instanceof Ext.util.Filter){m.remove(n)}else{m.removeByKey(n)}l.suppressNextFilter=false},updateAutoSort:function(f){this.getData().setAutoSort(f)},updateRemoteSort:function(f){this.onRemoteSortSet(this.getSorters(false),f)},updateRemoteFilter:function(f){this.onRemoteFilterSet(this.getFilters(false),f)},addFilter:function(g,k){this.suppressNextFilter=!!k;this.getFilters().add(g);this.suppressNextFilter=false},filterBy:function(g,k){this.getFilters().add({filterFn:g,scope:k||this})},clearFilter:function(m){var k=this,l=k.getFilters(false);if(!l||l.getCount()===0){return}k.suppressNextFilter=!!m;l.removeAll();k.suppressNextFilter=false},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){var f=this.getSorters(false);return !!(f&&f.length>0)||this.isGrouped()},addFieldTransform:function(m){if(m.getTransform()){return}var n=m.getProperty(),o=this.getModel(),q,p;if(o){q=o.getField(n);p=q?q.getSortType():null}if(p&&p!==Ext.identityFn){m.setTransform(p)}},beginUpdate:function(){if(!this.updating++){this.fireEvent("beginupdate")}},endUpdate:function(){if(this.updating&&!--this.updating){this.fireEvent("endupdate");this.onEndUpdate()}},getState:function(){var p=this,o=[],q=p.getFilters(),t=p.getGrouper(),v,s,u;p.getSorters().each(function(e){o[o.length]=e.getState();s=true});if(p.statefulFilters&&p.saveStatefulFilters){s=true;v=[];q.each(function(e){v[v.length]=e.getState()})}if(t){s=true}if(s){u={};if(o.length){u.sorters=o}if(v){u.filters=v}if(t){u.grouper=t.getState()}}return u},applyState:function(m){var o=this,p=m.sorters,q=m.filters,n=m.grouper;if(p){o.getSorters().replaceAll(p)}if(q){o.saveStatefulFilters=true;o.getFilters().replaceAll(q)}if(n){o.setGrouper(n)}},hasPendingLoad:Ext.emptyFn,isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var f=this;if(f.hasListeners.beforedestroy){f.fireEvent("beforedestroy",f)}f.destroying=true;if(f.getStoreId()){Ext.data.StoreManager.unregister(f)}f.doDestroy();if(f.hasListeners.destroy){f.fireEvent("destroy",f)}f.destroying=false;f.callParent()},doDestroy:Ext.emptyFn,sort:function(m,n,l){var o=this;if(arguments.length===0){if(o.getRemoteSort()){o.load()}else{o.forceLocalSort()}}else{o.getSorters().addSort(m,n,l)}},onBeforeCollectionSort:function(k,g){if(g){this.fireEvent("beforesort",this,g.getRange())}},onSorterEndUpdate:function(){var k=this,g;g=k.getSorters(false);if(k.settingGroups||!g){return}g=g.getRange();if(g.length){if(k.getRemoteSort()){k.load({callback:function(){k.fireEvent("sort",k,g)}})}else{k.fireEvent("datachanged",k);k.fireEvent("refresh",k);k.fireEvent("sort",k,g)}}else{k.fireEvent("sort",k,g)}},onFilterEndUpdate:function(){var k=this,l=k.suppressNextFilter,m=k.getFilters(false);if(!m){return}if(k.getRemoteFilter()){k.currentPage=1;if(!l){k.load()}}else{if(!l){k.fireEvent("datachanged",k);k.fireEvent("refresh",k)}}if(k.trackStateChanges){k.saveStatefulFilters=true}k.fireEvent("filterchange",k,k.getFilters().getRange())},updateGroupField:function(f){if(f){this.setGrouper({property:f,direction:this.getGroupDir()})}else{this.setGrouper(null)}},getGrouper:function(){return this.getData().getGrouper()},group:function(q,n){var p=this,o=p.getSorters(false),m=q||(o&&o.length);if(q&&typeof q==="string"){q={property:q,direction:n||p.getGroupDir()}}p.settingGroups=true;p.getData().setGrouper(q);delete p.settingGroups;if(m){if(p.getRemoteSort()){p.load({scope:p,callback:p.fireGroupChange})}else{p.fireEvent("datachanged",p);p.fireEvent("refresh",p);p.fireGroupChange()}}else{p.fireGroupChange()}},fireGroupChange:function(){if(!this.destroyed){this.fireEvent("groupchange",this,this.getGrouper())}},clearGrouping:function(){this.group(null)},getGroupField:function(){var k=this.getGrouper(),g="";if(k){g=k.getProperty()}return g},isGrouped:function(){return !!this.getGrouper()},applyGrouper:function(f){this.group(f);return this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,privates:{loadsSynchronously:Ext.privateFn,onRemoteFilterSet:function(k,g){if(k){k[g?"on":"un"]("endupdate",this.onFilterEndUpdate,this)}},onRemoteSortSet:function(l,k){var m=this;if(l){l[k?"on":"un"]("endupdate",m.onSorterEndUpdate,m);m.getData()[k?"un":"on"]("beforesort",m.onBeforeCollectionSort,m)}}},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data,"AbstractStore"],0));(Ext.cmd.derive("Ext.data.Error",Ext.Base,{isError:true,$configPrefixed:false,config:{field:null,message:""},constructor:function(f){this.initConfig(f);this.msg=this.message}},1,0,0,0,0,0,[Ext.data,"Error"],0));(Ext.cmd.derive("Ext.data.ErrorCollection",Ext.util.MixedCollection,{alternateClassName:"Ext.data.Errors",init:function(y){var v=this,x=y.fields,A=y.data,F,u,E,z,w,B,C,D;for(z=0,w=x.length;z<w;++z){u=x[z];D=u.name;C=A[D];if(u.validate&&!u.validate.$nullFn){F=v.length;B=u.validate(C,null,v,y);if(F===v.length&&B!==true){v.add(D,B)}}}return v},add:function(s,p){var q=this,t=Ext.data.field.Field.defaultInvalidMessage,n=s,o;if(Ext.isString(s)){n=new Ext.data.Error({field:s,message:p||t})}else{if(!(n.isError)){n=new Ext.data.Error({field:n.field||n.name,message:n.error||n.message||n.msg||t})}s=n.field}o=q.get(s);if(o){if(Ext.isArray(o)){o.push(n);return o}q.removeAtKey(s);n=[o,n];n.field=s;n=[n]}return Ext.util.MixedCollection.prototype.add.call(this,n)},getKey:function(f){return f.field},isValid:function(){return this.length===0},getByField:function(g){var k=this.get(g);if(k&&!Ext.isArray(k)){k=[k]}return k||[]}},0,0,0,0,0,0,[Ext.data,"ErrorCollection",Ext.data,"Errors"],0));(Ext.cmd.derive("Ext.data.operation.Operation",Ext.Base,{alternateClassName:"Ext.data.Operation",isOperation:true,config:{synchronous:false,url:"",params:undefined,callback:undefined,scope:undefined,resultSet:null,response:null,request:null,records:null,id:undefined,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,idPrefix:"ext-operation-",constructor:function(k){var g=k&&k.scope;this.initConfig(k);if(k){k.scope=g}if(g){this.setScope(g);this.initialConfig.scope=g}this._internalId=Ext.id(this,this.idPrefix)},getAction:function(){return this.action},execute:function(){var g=this,k;delete g.error;delete g.success;g.complete=g.exception=false;g.setStarted();g.request=k=g.doExecute();if(k){k.setOperation(g)}return k},doExecute:Ext.emptyFn,abort:function(){var g=this,k=g.request;if(g.running&&k){g.getProxy().abort(k);g.request=null}},process:function(p,n,q,m){var o=this;m=m!==false;o.setResponse(q);o.setResultSet(p);if(p.getSuccess()){o.doProcess(p,n,q);o.setSuccessful(m)}else{if(m){o.setException(p.getMessage())}}},_commitSetOptions:{convert:true,commit:true},doProcess:function(I,A,B){var w=this,C=w._commitSetOptions,F=w.getRecords(),D=F.length,H=F[0].clientIdProperty,G=I.getRecords(),x=G?G.length:0,J,y,E,z;if(x&&H){J=Ext.Array.toValueMap(F,"id");for(z=0;z<x;++z){y=G[z];E=J[y[H]];if(E){delete J[E.id];delete y[H];E.set(y,C)}}for(z in J){J[z].commit()}}else{for(z=0;z<D;++z){E=F[z];if(x===0||!(y=G[z])){E.commit()}else{E.set(y,C)}}}},setStarted:function(){this.started=this.running=true},setCompleted:function(){var g=this,k=g.getProxy();g.complete=true;g.running=false;g.triggerCallbacks();if(k){k.completeOperation(g)}},setSuccessful:function(f){this.success=true;if(f){this.setCompleted()}},setException:function(k){var g=this;g.exception=true;g.success=g.running=false;g.error=k;g.setCompleted()},triggerCallbacks:function(){var k=this,g=k.getInternalCallback();if(g){g.call(k.getInternalScope()||k,k);k.setInternalCallback(null);k.setInternalScope(null)}if(g=k.getCallback()){g.call(k.getScope()||k,k.getRecords(),k,k.wasSuccessful());k.setCallback(null);k.setScope(null)}},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var f;return this._records||((f=this.getResultSet())?f.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&this.success===true},allowWrite:function(){return true}},1,0,0,0,0,0,[Ext.data.operation,"Operation",Ext.data,"Operation"],0));(Ext.cmd.derive("Ext.data.operation.Create",Ext.data.operation.Operation,{action:"create",isCreateOperation:true,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}},0,0,0,0,["data.operation.create"],0,[Ext.data.operation,"Create"],0));(Ext.cmd.derive("Ext.data.operation.Destroy",Ext.data.operation.Operation,{action:"destroy",isDestroyOperation:true,order:30,foreignKeyDirection:-1,doProcess:function(){var k=this.getRecords(),m=k.length,l;for(l=0;l<m;++l){k[l].setErased()}},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(q,o){var m={},n=q.idField,p=this.getNameProperty()||"name";m[n[p]]=q.id;return m}},0,0,0,0,["data.operation.destroy"],0,[Ext.data.operation,"Destroy"],0));(Ext.cmd.derive("Ext.data.operation.Read",Ext.data.operation.Operation,{action:"read",isReadOperation:true,config:{filters:undefined,sorters:undefined,grouper:undefined,start:undefined,limit:undefined,page:undefined,addRecords:false},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return false}},0,0,0,0,["data.operation.read"],0,[Ext.data.operation,"Read"],0));(Ext.cmd.derive("Ext.data.operation.Update",Ext.data.operation.Operation,{action:"update",isUpdateOperation:true,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}},0,0,0,0,["data.operation.update"],0,[Ext.data.operation,"Update"],0));(Ext.cmd.derive("Ext.data.SortTypes",Ext.Base,{singleton:true,none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(f){return(f!=null)?String(f).replace(this.stripTagsRe,""):"\x00"},asUCText:function(f){return(f!=null)?String(f).toUpperCase().replace(this.stripTagsRe,""):"\x00"},asUCString:function(f){return(f!=null)?String(f).toUpperCase():"\x00"},asDate:function(f){if(!f){return 0}if(Ext.isDate(f)){return f.getTime()}return Date.parse(String(f))},asFloat:function(k){var g=parseFloat(String(k).replace(this.stripCommasRe,""));return isNaN(g)?0:g},asInt:function(k){var g=parseInt(String(k).replace(this.stripCommasRe,""),10);return isNaN(g)?0:g}},0,0,0,0,0,0,[Ext.data,"SortTypes"],0));(Ext.cmd.derive("Ext.data.validator.Validator",Ext.Base,{isValidator:true,type:"base",statics:{all:{},register:function(l,m){var k=this.all;k[l.toUpperCase()]=k[l.toLowerCase()]=k[l]=m.prototype}},onClassExtended:function(k,g){if(g.type){Ext.data.validator.Validator.register(g.type,k)}},constructor:function(f){if(typeof f==="function"){this.fnOnly=true;this.validate=f}else{this.initConfig(f)}},validate:function(){return true},clone:function(){var f=this;if(f.fnOnly){return new Ext.data.validator.Validator(f.validate)}return new f.self(f.getCurrentConfig())}},1,0,0,0,["data.validator.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.validator,"Validator"],function(){this.register(this.prototype.type,this)}));(Ext.cmd.derive("Ext.data.field.Field",Ext.Base,{alternateClassName:"Ext.data.Field",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:true,isField:true,allowBlank:true,allowNull:false,critical:false,defaultInvalidMessage:"This field is invalid",defaultValue:undefined,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:undefined,persist:null,reference:null,unique:false,rank:null,stripRe:/[\$,%]/g,calculated:false,evil:false,identifier:false,onClassExtended:function(q,o){var n=o.sortType,p=q.prototype,t=p.validators,s=o.validators;if(n&&Ext.isString(n)){p.sortType=Ext.data.SortTypes[n]}if(s){if(!Ext.isArray(s)){s=[s]}delete o.validators;if(t){s=t.concat(s)}p.validators=s}},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(C){var J=this,H=J.calculateRe,z,G,I,y,D,F,x,E,w,B,A;if(C){if(Ext.isString(C)){J.name=C}else{A=C.validators;if(A){delete C.validators;J.instanceValidators=A}Ext.apply(J,C)}}if(!J.allowNull){J.allowNull=!!J.reference}z=J.calculate;D=J.depends;if(z){J.convert=J.doCalculate;if(!D){if(!(D=z.$depends)){F={};w=z.toString();z.$depends=D=[];x=J.argumentNamesRe.exec(w);E=x?x[1]:"data";while((x=H.exec(w))){if(E===x[1]&&!F[B=x[2]]){F[B]=1;D.push(B)}}}J.depends=D}}I=J.defaultValue;if(J.convert){J.calculated=G=J.convert.length>1;J.evil=G&&!D}if(J.persist===null){J.persist=!z}y=J.sortType;if(!J.sortType){J.sortType=Ext.data.SortTypes.none}else{if(Ext.isString(y)){J.sortType=Ext.data.SortTypes[y]}}if(D&&typeof D==="string"){J.depends=[D]}J.cloneDefaultValue=I!==undefined&&(Ext.isDate(I)||Ext.isArray(I)||Ext.isObject(I))},setModelValidators:function(f){this._validators=null;this.modelValidators=f},compileValidators:function(){var f=this;f._validators=[];f.constructValidators(f.validators);f.constructValidators(f.modelValidators);f.constructValidators(f.instanceValidators)},constructValidators:function(q){if(q){if(!(q instanceof Array)){q=[q]}var m=q.length,o=this._validators,p,n;for(p=0;p<m;++p){n=q[p];if(n.fn){n=n.fn}o.push(Ext.Factory.dataValidator(n))}}},collate:function(o,p){var n=this,q=o,m=p;if(n.sortType){q=n.sortType(q);m=n.sortType(m)}return(q===m)?0:((q<m)?-1:1)},compare:function(g,k){return(g===k)?0:((g<k)?-1:1)},isEqual:function(g,k){return this.compare(g,k)===0},convert:null,serialize:null,validate:function(t,y,u,x){var v=this,w="",D,C,A,B,z;if(!v._validators){v.compileValidators()}A=v._validators;for(z=0,B=A.length;z<B;++z){C=A[z];D=C.validate(t,x);if(D!==true){D=D||v.defaultInvalidMessage;if(u){u.add(v.name,D);w=w||D}else{if(y){if(w){w+=y}w+=D}else{w=D;break}}}}return w||true},doCalculate:function(k,g){return g?this.calculate(g.data):k},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var f=this.mapping;return !!(f||f===0)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getType:function(){return"auto"},deprecated:{5.1:{methods:{getSortDir:function(){return this.sortDir}}}}},1,0,0,0,["data.field.auto"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.field,"Field",Ext.data,"Field"],0));(Ext.cmd.derive("Ext.data.field.Boolean",Ext.data.field.Field,{isBooleanField:true,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(f){if(typeof f==="boolean"){return f}if(this.allowNull&&(f===undefined||f===null||f==="")){return null}return this.trueRe.test(String(f))},getType:function(){return"bool"}},0,0,0,0,["data.field.bool","data.field.boolean"],0,[Ext.data.field,"Boolean"],0));(Ext.cmd.derive("Ext.data.field.Date",Ext.data.field.Field,{sortType:"asDate",isDateField:true,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(p,m){var n=p instanceof Date,o=m instanceof Date,q;if(o&&n){q=p.getTime()-m.getTime();if(q===0){q=0}else{q=q<0?-1:1}}else{if(n===o){q=0}else{q=n?1:-1}}return q},convert:function(k){if(!k){return null}if(k instanceof Date){return k}var m=this.dateReadFormat||this.dateFormat,l;if(m){return Ext.Date.parse(k,m,this.useStrict)}l=Date.parse(k);return l?new Date(l):null},serialize:function(l){var m=null,k;if(Ext.isDate(l)){k=this.getDateWriteFormat();m=k?Ext.Date.format(l,k):l}return m},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var f=this;if(f.hasOwnProperty("dateWriteFormat")){return f.dateWriteFormat}if(f.hasOwnProperty("dateFormat")){return f.dateFormat}return f.dateWriteFormat||f.dateFormat||"timestamp"},getType:function(){return"date"}},0,0,0,0,["data.field.date"],0,[Ext.data.field,"Date"],0));(Ext.cmd.derive("Ext.data.field.Integer",Ext.data.field.Field,{isNumeric:true,isIntegerField:true,numericType:"int",convert:function(n){if(typeof n==="number"){return this.getNumber(n)}var l=n===undefined||n===null||n==="",o=this.allowNull,m;if(l){m=o?null:0}else{m=this.parse(n);if(o&&isNaN(m)){m=null}}return m},getNumber:function(f){return parseInt(f,10)},getType:function(){return this.numericType},parse:function(f){return parseInt(String(f).replace(this.stripRe,""),10)},sortType:function(f){if(f==null){f=Infinity}return f}},0,0,0,0,["data.field.int","data.field.integer"],0,[Ext.data.field,"Integer"],0));(Ext.cmd.derive("Ext.data.field.Number",Ext.data.field.Integer,{isIntegerField:false,isNumberField:true,numericType:"float",getNumber:Ext.identityFn,parse:function(f){return parseFloat(String(f).replace(this.stripRe,""))}},0,0,0,0,["data.field.float","data.field.number"],0,[Ext.data.field,"Number"],0));(Ext.cmd.derive("Ext.data.field.String",Ext.data.field.Field,{sortType:"asUCString",isStringField:true,convert:function(g){var k=this.allowNull?null:"";return(g===undefined||g===null)?k:String(g)},getType:function(){return"string"}},0,0,0,0,["data.field.string"],0,[Ext.data.field,"String"],0));(Ext.cmd.derive("Ext.data.identifier.Generator",Ext.Base,{"abstract":true,factoryConfig:{defaultType:"sequential"},isGenerator:true,config:{id:null},constructor:function(m){var l=this,k;l.initConfig(m);k=l.getId();if(k){Ext.data.identifier.Generator.all[k]=l}},privates:{clone:function(g){var k=this.getInitialConfig();k=g?Ext.apply({},g,k):k;return new this.self(k)},statics:{all:{}}}},1,0,0,0,["data.identifier.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.identifier,"Generator"],function(){var k=this,m=Ext.Factory,l=m.dataIdentifier;m.dataIdentifier=function(g){var e=Ext.isString(g)?g:(g&&g.id),f=e&&k.all[e];return f||l(g)}}));(Ext.cmd.derive("Ext.data.identifier.Sequential",Ext.data.identifier.Generator,{config:{increment:1,prefix:null,seed:1},generate:function(){var l=this,m=l._seed,k=l._prefix;l._seed+=l._increment;return(k!==null)?k+m:m}},0,0,0,0,["data.identifier.sequential"],0,[Ext.data.identifier,"Sequential"],0));(Ext.cmd.derive("Ext.data.Model",Ext.Base,{alternateClassName:"Ext.data.Record",isEntity:true,isModel:true,validIdRe:null,erasing:false,observableType:"record",crudState:"R",crudStateWas:null,constructor:function(C,L){var K=this,H=K.self,x=H.identifier,E=Ext.data.Model,J=E.identifier,I=K.idField.name,y,G,F,z,A,D,B;K.data=K.data=C||(C={});K.session=L||null;K.internalId=z=J.generate();if((y=C) instanceof Array){K.data=C={};B=K.getFields();A=Math.min(B.length,y.length);for(D=0;D<A;++D){C[B[D].name]=y[D]}}if(!(F=H.initializeFn)){H.initializeFn=F=E.makeInitializeFn(H)}if(!F.$nullFn){H.initializeFn(K)}if(!(K.id=G=C[I])&&G!==0){if(L){x=L.getIdentifier(H);G=x.generate()}else{if(J===x){G=z}else{G=x.generate()}}C[I]=K.id=G;K.phantom=true;K.crudState="C"}if(L){L.add(K)}if(K.init&&Ext.isFunction(K.init)){K.init()}},editing:false,dirty:false,session:null,dropped:false,erased:false,clientIdProperty:null,evented:false,phantom:false,idProperty:"id",manyToMany:null,identifier:null,previousValues:undefined,proxy:undefined,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:true,beginEdit:function(){var k=this,l=k.modified,m=k.previousValues;if(!k.editing){k.editing=true;k.editMemento={dirty:k.dirty,data:Ext.apply({},k.data),generation:k.generation,modified:l&&Ext.apply({},l),previousValues:m&&Ext.apply({},m)}}},cancelEdit:function(){var g=this,k=g.editMemento;if(k){g.editing=false;Ext.apply(g,k);g.editMemento=null}},endEdit:function(n,l){var m=this,o=m.editMemento;if(o){m.editing=false;m.editMemento=null;m.previousValues=o.previousValues;if(!n){if(!l){l=m.getModifiedFieldNames(o.data)}if(m.dirty||(l&&l.length)){m.callJoined("afterEdit",[l])}}}},getField:function(f){return this.self.getField(f)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(g,k){this.set(this.idProperty,g,k)},getPrevious:function(g){var k=this.previousValues;return k&&k[g]},isModified:function(g){var k=this.modified;return !!(k&&k.hasOwnProperty(g))},getModified:function(g){var k;if(this.isModified(g)){k=this.modified[g]}return k},get:function(f){return this.data[f]},_singleProp:{},_rejectOptions:{convert:false,silent:true},set:function(al,Y,aj){var at=this,aC=at.self,U=at.data,ap=at.modified,ah=at.previousValues,af=at.session,ag=Ext.isString(al),ao=(ag?aj:Y),ad=ao?ao.convert!==false:at.convertOnSet,ac=at.fieldsMap,aA=ao&&ao.silent,au=ao&&ao.commit,ab=!(ao&&ao.refs===false)&&af,an=!(ao&&ao.dirty===false&&!au),aq=null,ax=0,aB=at.associations,ay,az,aD,ar,av,ai,ak,aw,W,V,Z,ae,X,aE,aa,T,am;if(ag){T=at._singleProp;T[al]=Y}else{T=al}if(!(X=aC.rankedFields)){X=aC.rankFields()}Z=X.length;do{for(av in T){aa=T[av];ay=U[av];ak=at;az=ac[av];if(az){if(ad&&az.convert){aa=az.convert(aa,at)}ak=az;aE=az.reference}else{aE=null}if(ak.isEqual(ay,aa)){continue}U[av]=aa;(aq||(aq=[])).push(av);(ah||(at.previousValues=ah={}))[av]=ay;if(aE&&aE.cls){if(ab){af.updateReference(at,az,aa,ay)}aE.onValueChange(at,af,aa,ay)}V=(W=az&&az.dependents)&&W.length;while(V-->0){(aw=W[V]).dirty=true;ax=ax?Math.min(ax,aw.rank):aw.rank}if(!az||az.persist){if(ap&&ap.hasOwnProperty(av)){if(!an||ak.isEqual(ap[av],aa)){delete ap[av];at.dirty=-1}}else{if(an){if(!ap){at.modified=ap={}}at.dirty=true;ap[av]=ay}}}if(av===at.idField.name){aD=true;ai=ay;ae=aa}}if(!ax){break}az=X[ax-1];az.dirty=false;if(ag){delete T[al]}else{T=at._singleProp;ag=true}al=az.name;T[al]=U[al];ad=true;for(;ax<Z;++ax){if(X[ax].dirty){break}}if(ax<Z){++ax}else{ax=0}}while(1);if(at.dirty<0){at.dirty=false;for(ar in ap){if(ap.hasOwnProperty(ar)){at.dirty=true;break}}}if(ag){delete T[al]}++at.generation;if(aD){at.id=ae;at.onIdChanged(ae,ai);at.callJoined("onIdChanged",[ai,ae]);if(aB){for(am in aB){aB[am].onIdChanged(at,ai,ae)}}}if(au){at.commit(aA,aq)}else{if(!aA&&!at.editing&&aq){at.callJoined("afterEdit",[aq])}}return aq},reject:function(m){var k=this,l=k.modified;if(l){k.set(l,k._rejectOptions)}k.dropped=false;k.clearState();if(!m){k.callJoined("afterReject")}},commit:function(s,p){var q=this,n=q.versionProperty,o=q.data,t;q.clearState();if(n&&!q.phantom&&!isNaN(o[n])){++o[n]}q.phantom=false;if(q.dropped){q.erased=t=true}if(!s){if(t){q.callJoined("afterErase")}else{q.callJoined("afterCommit",[p])}}},clearState:function(){var f=this;f.dirty=f.editing=false;f.editMemento=f.modified=null},drop:function(p){var n=this,o=n.associations,m=n.session,q;if(n.erased||n.dropped){return}n.dropped=true;if(o&&p!==false){for(q in o){o[q].onDrop(n,m)}}n.callJoined("afterDrop");if(n.phantom){n.setErased()}},join:function(l){var m=this,k=m.joined;if(!k){k=m.joined=[l]}else{if(!k.length){k[0]=l}else{Ext.Array.include(k,l)}}if(l.isStore&&!m.store){m.store=l}},unjoin:function(o){var p=this,n=p.joined,t=n&&n.length,s=p.store,q;if(o===p.session){p.session=null}else{if(t===1&&n[0]===o){n.length=0}else{if(t){Ext.Array.remove(n,o)}}if(s===o){s=null;if(n){for(q=0,t=n.length;q<t;++q){o=n[q];if(o.isStore){s=o;break}}}p.store=s}}},clone:function(l){var m=this,n=m.modified,o=m.copy(m.id,l);if(n){o.modified=Ext.apply({},n)}o.dirty=m.dirty;o.dropped=m.dropped;o.phantom=m.phantom;return o},copy:function(q,n){var p=this,o=Ext.apply({},p.data),s=p.idProperty,t=p.self;if(q||q===0){o[s]=q}else{if(q===null){delete o[s]}}return new t(o,n)},getProxy:function(){return this.self.getProxy()},getValidation:function(l){var k=this,m=k.validation;if(!m){k.validation=m=new Ext.data.Validation();m.attach(k)}if(l===true||(l!==false&&m.syncGeneration!==k.generation)){m.refresh(l)}return m},validate:function(){return new Ext.data.ErrorCollection().init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var g=this.$className.split("."),k=g[g.length-1].toLowerCase();return k+"/"+this.getId()},erase:function(k){var g=this;g.erasing=true;g.drop();g.erasing=false;return g.save(k)},setErased:function(){this.erased=true;this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var k=this.self,g=k.criticalFields;if(!g){k.rankFields();g=k.criticalFields}return g},getAssociatedData:function(I,J){var N=this,F=N.associations,L,B,K,y,E,G,z,C,D,H,A,M;I=I||{};N.$gathering=1;if(J){J=Ext.Object.chain(J)}for(D in F){C=F[D];K=C.getAssociatedItem(N);if(!K||K.$gathering){continue}if(K.isStore){K.$gathering=1;y=K.getData().items;G=y.length;E=[];for(B=0;B<G;++B){z=y[B];L=!z.$gathering;z.$gathering=1;if(J){M=J.associated;if(M===undefined){J.associated=L;A=true}else{if(!L){J.associated=false;A=true}}H=J}else{H=L?N._getAssociatedOptions:N._getNotAssociatedOptions}E.push(z.getData(H));if(A){J.associated=M;A=false}delete z.$gathering}delete K.$gathering}else{H=J||N._getAssociatedOptions;if(J&&J.associated===undefined){H.associated=true}E=K.getData(H)}I[D]=E}delete N.$gathering;return I},getData:function(I){var P=this,n={},H=(I===true)?P._getAssociatedOptions:(I||n),D=P.data,O=H.associated,L=H.changes,M=L&&H.critical,A=L?P.modified:D,B=P.fieldsMap,C=H.persist,J=H.serialize,F,N,E,G,K;if(A){for(G in A){K=D[G];N=B[G];if(N){if(C&&!N.persist){continue}if(J&&N.serialize){K=N.serialize(K,P)}}n[G]=K}}if(M){F=P.self.criticalFields||P.getCriticalFields();for(E=F.length;E-->0;){G=(N=F[E]).name;if(!(G in n)){K=D[G];if(J&&N.serialize){K=N.serialize(K,P)}n[G]=K}}}if(O){P.getAssociatedData(n,H)}return n},getTransientFields:function(){var k=this.self,g=k.transientFields;if(!g){k.rankFields();g=k.transientFields}return g},isLoading:function(){return !!this.loadOperation},abort:function(){var f=this.loadOperation;if(f){f.abort()}},load:function(u){u=Ext.apply({},u);var p=this,q=u.scope||p,t=p.getProxy(),w=u.callback,v=p.loadOperation,x=p.getId(),s;if(v){s=v.extraCalls;if(!s){s=v.extraCalls=[]}s.push(u);return v}u.id=x;u.recordCreator=function(f,k,g){var e=p.session;if(g){g.recordCreator=e?e.recordCreator:null}p.set(f,p._commitOptions);return p};u.internalCallback=function(m){var f=m.wasSuccessful()&&m.getRecords().length>0,e=p.loadOperation,k=e.extraCalls,n=[p,m],g=[p,m,f],l,o;p.loadOperation=null;if(f){Ext.callback(u.success,q,n)}else{Ext.callback(u.failure,q,n)}Ext.callback(w,q,g);if(k){for(l=0,o=k.length;l<o;++l){u=k[l];if(f){Ext.callback(u.success,q,n)}else{Ext.callback(u.failure,q,n)}Ext.callback(u.callback,q,g)}}p.callJoined("afterLoad")};delete u.callback;p.loadOperation=v=t.createOperation("read",u);v.execute();return v},save:function(q){q=Ext.apply({},q);var u=this,w=u.phantom,z=u.dropped,x=z?"destroy":(w?"create":"update"),s=q.scope||u,t=q.callback,v=u.getProxy(),y;q.records=[u];q.internalCallback=function(g){var f=[u,g],e=g.wasSuccessful();if(e){Ext.callback(q.success,s,f)}else{Ext.callback(q.failure,s,f)}f.push(e);Ext.callback(t,s,f)};delete q.callback;y=v.createOperation(x,q);if(z&&w){y.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet);u.setErased();y.setSuccessful(true)}else{y.execute()}return y},inheritableStatics:{addFields:function(f){this.replaceFields(f)},replaceFields:function(I,x){var H=this,B=H.prototype,y=Ext.data.field.Field,A=H.fields,J=H.fieldsMap,D=H.fieldOrdinals,G,C,E,z,F,w;if(x===true){A.length=0;H.fieldsMap=J={};H.fieldOrdinals=D={}}else{if(x){for(C=x.length;C-->0;){F=x[C];if(F in D){delete D[F];delete J[F]}}for(C=0,z=A.length;C<z;++C){F=(G=A[C]).name;if(F in D){D[F]=C}else{A.splice(C,1);--C;--z}}}}for(C=0,z=I?I.length:0;C<z;C++){F=(G=I[C]).name;if(!(F in D)){D[F]=w=A.length;A.push(G=y.create(G));J[F]=G;G.ordinal=w;G.definedBy=G.owner=this}}H.idField=B.idField=E=J[B.idProperty];E.allowNull=E.critical=E.identifier=true;E.defaultValue=null;H.initializeFn=H.rankedFields=H.transientFields=H.criticalFields=null},removeFields:function(f){this.replaceFields(null,f)},getIdFromData:function(m){var n=this,o=n.idField,l=o.calculated?(new n(m)).id:m[o.name];return l},createWithId:function(m,p,o){var n=p,q=this;if(m||m===0){n={};if(p){Ext.apply(n,p)}n[q.idField.name]=m}return new q(n,o)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(f){return this.fieldsMap[f]||null},getProxy:function(){var n=this,o=n.proxy,l=n.defaultProxy,m;if(!o){o=n.proxyConfig;if(!o&&l){o=l}if(!o||!o.isProxy){if(typeof o==="string"){o={type:o}}m=n.schema.constructProxy(n);o=o?Ext.merge(m,o):m}o=n.setProxy(o)}return o},setProxy:function(l){var k=this,m;if(l){if(!l.isProxy){l=Ext.Factory.proxy(l)}else{m=l.getModel();if(m&&m!==k){l=l.clone()}}l.setModel(k)}return(k.prototype.proxy=k.proxy=l)},load:function(m,q,o){var p={},n;p[this.prototype.idProperty]=m;n=new this(p,o);n.load(q);return n}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(n,p){var o=this,s=o.stores,t=s.length,q;for(q=0;q<t;++q){n.call(p,s[q])}},join:function(m){var n=this,o=n.stores,l=n.joined;if(!l){l=n.joined=[m]}else{l.push(m)}if(m.isStore){n.store=n.store||m;if(!o){o=n.stores=[]}o.push(m)}},unjoin:function(m){var n=this,o=n.stores,l=n.joined;if(l.length===1){l.length=0}else{Ext.Array.remove(l,m)}if(m.isStore){Ext.Array.remove(o,m);n.store=o[0]||null}}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:true},_getChangesOptions:{changes:true},_getAssociatedOptions:{associated:true},_getNotAssociatedOptions:{associated:false},copyFrom:function(w){var x=this,z=x.fields,F=z.length,C=[],v,B=0,y,A,E=x.idProperty,D,u;if(w){y=x.data;A=w.data;for(;B<F;B++){v=z[B];D=v.name;if(D!==E){u=A[D];if(u!==undefined&&!x.isEqual(y[D],u)){y[D]=u;C.push(D)}}}if(x.phantom&&!w.phantom){x.beginEdit();x.setId(w.getId());x.endEdit(true);x.commit(true)}}return C},callJoined:function(x,y){var v=this,t=v.joined,w=v.session,B=v.dropped?"D":(v.phantom?"C":(v.dirty?"U":"R")),A,z,u,s;v.crudState=B;if(t||w){if(y){y.unshift(v)}else{y=[v]}if(t){for(A=0,z=t.length;A<z;++A){s=t[A];if(s&&(u=s[x])){u.apply(s,y)}}}u=w&&w[x];if(u){u.apply(w,y)}}v.crudStateWas=B},onAssociatedRecordSet:function(k,g){this.callJoined("afterAssociatedRecordSet",[k,g])},onIdChanged:Ext.privateFn,setSession:function(f){this.session=f;if(f){f.add(this)}},getModifiedFieldNames:function(t){var p=this,o=p.data,s=[],n=t||p.editMemento.data,q;for(q in o){if(o.hasOwnProperty(q)){if(!p.isEqual(o[q],n[q],q)){s.push(q)}}}return s},isEqual:function(o,f,m){var n;if(m){n=m.isField?m:this.fieldsMap[m];if(n){return n.isEqual(o,f)}}if(o instanceof Date&&f instanceof Date){return o.getTime()===f.getTime()}return o===f},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",defaultProxy:"memory",rankFields:function(){var t=this,u=t.prototype,y=t.fields,A=y.length,w=[],B=[],x=[],s,v,z;t.rankedFields=u.rankedFields=w;t.criticalFields=u.criticalFields=B;t.transientFields=u.transientFields=x;for(z=0;z<A;++z){v=y[z];if(v.critical){B.push(v)}if(!v.persist){x.push(v)}if(v.evil){(s||(s=[])).push(v)}else{if(!v.depends){w.push(v);v.rank=w.length}}}for(z=0;z<A;++z){if(!(v=y[z]).rank&&!v.evil){t.topoAdd(v)}}if(s){for(z=0,A=s.length;z<A;++z){w.push(v=s[z]);v.rank=w.length}}return w},topoAdd:function(v){var t=this,o=v.depends,u=o?o.length:0,q=t.rankedFields,s,p;for(s=0;s<u;++s){p=t.fieldsMap[o[s]];(p.dependents||(p.dependents=[])).push(v);if(!p.rank){t.topoAdd(p)}}q.push(v);v.rank=q.length},initFields:function(N,Y,I){var R=Ext.data.field.Field,W=N.fields,H=[],P={},U={},Z=[],O=I.fields,L=N.versionProperty||I.versionProperty,K=Y.idProperty,T,X,E,V,M,F,S,Q,G,J;Y.fields=I.fields=H;Y.fieldOrdinals=I.fieldOrdinals=P;Y.fieldsMap=I.fieldsMap=U;Y.references=I.references=Z;if(O){for(E=0,V=O.length;E<V;++E){H[E]=X=Ext.Object.chain(O[E]);X.dependents=null;X.owner=Y;P[M=X.name]=E;U[M]=X;X.rank=null;if(X.generated){Q=X;G=X.name}}}if(W){delete N.fields;for(E=0,V=W.length;E<V;++E){X=W[E];S=X.reference;if(S&&typeof S!=="string"){S=Ext.merge({},S)}X.$reference=S;X=R.create(W[E]);M=X.name;F=P[M];if(F===undefined){P[M]=F=H.length}U[M]=X;H[F]=X;X.definedBy=X.owner=Y;X.ordinal=F;if(M===K){J=X}}}T=U[K];if(!T){if(Q&&Q.generated){F=Q.ordinal}else{F=H.length}delete U[G];delete P[G];T=new R(K);H[F]=T;P[K]=F;U[K]=T;T.definedBy=Y;T.ordinal=F;T.generated=true}else{if(J&&Q&&Q.generated){Ext.Array.remove(H,Q);delete U[G];delete P[G];U[K]=J;for(E=0,V=H.length;E<V;++E){X=H[E];H.ordinal=E;P[X.name]=E}}}T.allowNull=T.critical=T.identifier=true;T.defaultValue=null;Y.idField=I.idField=T;if(L){X=U[L];if(!X){F=H.length;X=new R({name:L,type:"int"});H[F]=X;P[L]=F;U[L]=X;X.definedBy=Y;X.ordinal=F;X.generated=true}X.defaultValue=1;X.critical=true}},initValidators:function(z,G,x){var I=x.validators,B,J,D,w,A,C,y,E,F,H;if(I){B={};for(J in I){B[J]=Ext.Array.clone(I[J])}}w=z.validators||z.validations;if(w){delete z.validators;B=B||{};if(Ext.isArray(w)){D={};for(A=0,C=w.length;A<C;++A){H=w[A];E=H.field;if(!D[E]){D[E]=[]}H=H.fn||H;D[E].push(H)}w=D}for(E in w){y=w[E];if(!Ext.isArray(y)){y=[y]}F=B[E];if(B[E]){Ext.Array.push(F,y)}else{B[E]=y}}}if(B){for(E in B){J=G.getField(E);if(J){J.setModelValidators(B[E])}}}G.validators=x.validators=B},initAssociations:function(z,w,E){var A=w.associations,y=w.belongsTo,o=w.hasMany,D=w.hasOne,F=w.manyToMany,x,B,v,C;delete w.associations;delete w.belongsTo;delete w.hasMany;delete w.hasOne;delete w.manyToMany;if(F){z.addMatrices(E,F)}if(A){A=Ext.isArray(A)?A:[A];for(x=0,B=A.length;x<B;++x){v=A[x];C=Ext.apply({},v);delete C.type;switch(v.type){case"belongsTo":z.addBelongsTo(E,C);break;case"hasMany":z.addHasMany(E,C);break;case"hasOne":z.addHasOne(E,C);break}}}if(y){y=Ext.isArray(y)?y:[y];for(x=0,B=y.length;x<B;++x){z.addBelongsTo(E,y[x])}}if(o){o=Ext.isArray(o)?o:[o];for(x=0,B=o.length;x<B;++x){z.addHasMany(E,o[x])}}if(D){D=Ext.isArray(D)?D:[D];for(x=0,B=D.length;x<B;++x){z.addHasOne(E,D[x])}}z.afterKeylessAssociations(E)},initIdentifier:function(n,t,o){var s=n.identifier||n.idgen,p=o.identifier||t.schema._defaultIdentifier,q;if(s){delete n.identifier;delete n.idgen;s=Ext.Factory.dataIdentifier(s)}else{if(p){if(p.clone&&!p.getId()){s=p.clone()}else{if(p.isGenerator){s=p}else{s=Ext.Factory.dataIdentifier(p)}}}}t.identifier=o.identifier=s;if(!s){q=t.entityName;if(!q){q=Ext.id(null,"extModel")}t.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:q+"-"})}},findValidator:function(t,s,u){var p=u.type||u,w=t[s],v,q,x;if(w){for(q=0,v=w.length;q<v;++q){x=w[q];if(x.type===p){return x}}}return null},makeInitializeFn:function(H){var G=["var "],A=["\nreturn function (e) {\n    var data = e.data, v;\n"],K=0,y,z,x,I,D,L,B,C,J,E,F;if(!(B=H.rankedFields)){B=H.rankFields()}for(E=0,F=B.length;E<F;++E){L=B[E];C="f"+E;x=L.convert;if(E){G.push(",  \n    ")}G.push(C," = $fields["+E+"]");if((J=(L.defaultValue!==undefined))||x){I='data["'+L.name+'"]';++K;y=z="";if(L.cloneDefaultValue){y="Ext.clone(";z=")"}A.push("\n");if(x&&J){A.push("    v = ",I,";\n    if (v !== undefined) {\n        v = ",C,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",y,C,".defaultValue",z,";\n    }\n    ",I," = v;")}else{if(x){A.push("    v = ",C,".convert(",I,",e);\n    if (v !== undefined) {\n        ",I," = v;\n    }\n")}else{if(J){A.push("    if (",I," === undefined) {\n        ",I," = ",y,C,".defaultValue",z,";\n    }\n")}}}}}if(!K){return Ext.emptyFn}G.push(";\n");G.push.apply(G,A);G.push("}");G=G.join("");D=new Function("$fields","Ext",G);return D(B,Ext)}}}},1,0,0,0,0,0,[Ext.data,"Model",Ext.data,"Record"],function(){var l=this,m=l.prototype,n=Ext.data.schema.Schema,o;l.proxyConfig=m.proxy;delete m.proxy;l.fields=[];l.fieldsMap=m.fieldsMap={};l.schema=m.schema=n.get(m.schema);m.idField=new Ext.data.field.Field(m.idProperty);l.identifier=new Ext.data.identifier.Sequential();l.onExtended(function(f,u){var v=f.prototype,g=u.schema,k=v.superclass.self,w,x,e;f.idProperty=u.idProperty||v.idProperty;if(g){delete u.schema;w=n.get(g)}else{if(!(w=v.schema)){w=o||(o=n.get("default"))}}f.rankFields=l.rankFields;f.topoAdd=l.topoAdd;v.schema=f.schema=w;if(!(x=u.entityName)){v.entityName=x=w.getEntityName(f)}f.entityName=x;f.fieldExtractors={};l.initIdentifier(u,f,v);l.initFields(u,f,v);l.initValidators(u,f,v);f.fields.items=f.fields;if(x){w.addEntity(f);l.initAssociations(w,u,f)}e=u.proxy;if(e){delete u.proxy}else{if(k!==l){e=k.proxyConfig||k.proxy}}f.proxyConfig=e})}));(Ext.cmd.derive("Ext.data.ResultSet",Ext.Base,{isResultSet:true,$configPrefixed:false,config:{loaded:true,count:null,total:null,success:false,records:null,message:null,metadata:null},constructor:function(f){this.initConfig(f)},getCount:function(){var g=(arguments.callee.$previous||Ext.Base.prototype.getCount).call(this),k;if(!g){k=this.getRecords();if(k){g=k.length}}return g}},1,0,0,0,0,0,[Ext.data,"ResultSet"],0));(Ext.cmd.derive("Ext.data.reader.Reader",Ext.Base,{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:true,readRecordsOnFailure:true,model:null,proxy:null,transform:null,keepRawData:null},isReader:true,constructor:function(k){if(k&&k.hasOwnProperty("root")){k=Ext.apply({},k);k.rootProperty=k.root;delete k.root}var g=this;g.duringInit=1;g.mixins.observable.constructor.call(g,k);--g.duringInit;g.buildExtractors()},applyModel:function(f){return Ext.data.schema.Schema.lookupEntity(f)},applyTransform:function(f){if(f){if(Ext.isFunction(f)){f={fn:f}}else{if(f.charAt){f={fn:this[f]}}}return f.fn.bind(f.scope||this)}return f},forceBuildExtractors:function(){if(!this.duringInit){this.buildExtractors(true)}},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(p,m){var n,q,o;if(p){o=p.responseText;if(o){q=this.getResponseData(p);if(q&&q.__$isError){return new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:q.msg})}else{n=this.readRecords(q,m)}}else{if(o!==""){n=this.readRecords(p,m)}}}return n||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(f){return{__$isError:true,msg:f}},readRecords:function(C,E,A){var z=this,B=A&&A.recordsOnly,K=A&&A.asRoot,J,D,F,x,y,L,H,G,I;I=z.getMeta?z.getMeta(C):C.metaData;if(I){z.onMetaChange(I)}G=z.getTransform();if(G){C=G(C)}z.buildExtractors();if(z.getKeepRawData()){z.rawData=C}if(z.hasListeners.rawdata){z.fireEventArgs("rawdata",[C])}C=z.getData(C);J=true;D=0;F=[];if(z.getSuccessProperty()){L=z.getSuccess(C);if(L===false||L==="false"){J=false}}if(z.getMessageProperty()){H=z.getMessage(C)}if(J||z.getReadRecordsOnFailure()){x=(K||Ext.isArray(C))?C:z.getRoot(C);if(x){y=x.length}if(z.getTotalProperty()){L=parseInt(z.getTotal(C),10);if(!isNaN(L)){y=L}}if(x){F=z.extractData(x,E);D=F.length}}return B?F:new Ext.data.ResultSet({total:y||D,metadata:I,count:D,records:F,success:J,message:H})},extractData:function(I,B){var K=this,A=B&&B.model?Ext.data.schema.Schema.lookupEntity(B.model):K.getModel(),D=A.schema,H=D.hasAssociations(A)&&K.getImplicitIncludes(),J=K.getFieldExtractorInfo(A.fieldExtractors),G=I.length,E=new Array(G),x=K.getTypeProperty(),L,F,C,y,z;if(!G&&Ext.isObject(I)){I=[I];G=1}for(z=0;z<G;z++){y=I[z];if(!y.isModel){F=y;if(x&&(C=K.getChildType(D,F,x))){L=C.getProxy().getReader();y=L.extractRecord(F,B,C,D.hasAssociations(C)&&L.getImplicitIncludes(),L.getFieldExtractorInfo(C.fieldExtractors))}else{y=K.extractRecord(F,B,A,H,J)}if(y.isModel&&y.isNode){y.raw=F}}if(y.onLoad){y.onLoad()}E[z]=y}return E},getChildType:function(n,m,l){var o;switch(typeof l){case"string":return n.getEntity(m[l]);case"object":o=l.namespace;return n.getEntity((o?o+".":"")+m[l.name]);case"function":return n.getEntity(l(m))}},extractRecordData:function(m,l){var n=l&&l.model?Ext.data.schema.Schema.lookupEntity(l.model):this.getModel(),o=this.getFieldExtractorInfo(n.fieldExtractors);return this.extractRecord(m,l,n,false,o)},extractRecord:function(z,y,x,q,t){var u=this,v=(y&&y.recordCreator)||u.defaultRecordCreator,s,w;s=u.extractModelData(z,t);w=v.call(u,s,x||u.getModel(),y);if(q&&w.isModel){u.readAssociated(w,z,y)}return w},getFieldExtractorInfo:function(k){if(!k){return}var m=this.$className,l=k[m];if(l===undefined){k[m]=l=this.buildFieldExtractors()}return l},buildFieldExtractors:function(){var v=this.getFields(),u=v.length,x=[],s=[],y=null,A=0,t,B,w,z;for(w=0;w<u;++w){t=v[w];z=this.createFieldAccessor(t);if(z){B=t.name;x.push("val = extractors["+A+"](raw); if (val !== undefined) { data['"+B+"'] = val; }");s.push(z);++A}}if(x.length){y={extractors:s,fn:new Function("raw","data","extractors","var val;"+x.join(""))}}return y},defaultRecordCreator:function(l,k){var m=new k(l);m.phantom=false;return m},getModelData:function(f){return{}},extractModelData:function(n,o){var l=this.getModelData(n),m;if(o){m=o.fn;m(n,l,o.extractors)}return l},readAssociated:function(t,o,p){var q=t.associations,s,n;for(s in q){if(q.hasOwnProperty(s)){n=q[s];if(n.cls){n.read(t,o,this,p)}}}},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(f){},onMetaChange:function(v){var o=this,t=v.fields,s,p,u,q;o.metaData=v;if(v.root){o.setRootProperty(v.root)}if(v.totalProperty){o.setTotalProperty(v.totalProperty)}if(v.successProperty){o.setSuccessProperty(v.successProperty)}if(v.messageProperty){o.setMessageProperty(v.messageProperty)}u=v.clientIdProperty;if(t){p=Ext.define(null,{extend:"Ext.data.Model",fields:t,clientIdProperty:u});o.setModel(p);q=o.getProxy();if(q){q.setModel(p)}}else{if(u){s=o.getModel();if(s){s.self.prototype.clientIdProperty=u}}}},buildExtractors:function(n){var p=this,o,q,m;if(n||!p.hasExtractors){o=p.getTotalProperty();q=p.getSuccessProperty();m=p.getMessageProperty();if(o){p.getTotal=p.getAccessor(o)}if(q){p.getSuccess=p.getAccessor(q)}if(m){p.getMessage=p.getAccessor(m)}p.hasExtractors=true;return true}},getAccessor:function(m){var n=this,q=n.extractorCache,p,o;if(typeof m==="string"){o=n.getAccessorKey(m);p=q.get(o);if(!p){p=n.createAccessor(m);q.add(o,p)}}else{p=n.createAccessor(m)}return p},getAccessorKey:function(f){return this.$className+f},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var f=this;f.model=f.getTotal=f.getSuccess=f.getMessage=f.rawData=null;f.onMetaChange=null;f.transform=null;f.callParent()},privates:{copyFrom:function(k){var g=this;k.buildExtractors();g.getTotal=k.getTotal;g.getSuccess=k.getSuccess;g.getMessage=k.getMessage;++g.duringInit;g.setConfig(k.getConfig());--g.duringInit;g.hasExtractors=true}}},1,0,0,0,["reader.base"],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.reader,"Reader",Ext.data,"Reader",Ext.data,"DataReader"],function(g){var k=g.prototype;Ext.apply(k,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true,message:""})});k.extractorCache=new Ext.util.LruCache()}));(Ext.cmd.derive("Ext.data.writer.Writer",Ext.Base,{factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:true},partialDataOptions:{changes:true,critical:true},writeAllFields:false,dateFormat:null,nameProperty:"name",writeRecordId:true,transform:null},isWriter:true,constructor:function(f){this.initConfig(f)},applyTransform:function(f){if(f){if(Ext.isFunction(f)){f={fn:f}}return f.fn.bind(f.scope||this)}return f},write:function(o){var q=o.getOperation(),s=q.getRecords()||[],t=s.length,n=[],p;for(p=0;p<t;p++){n.push(this.getRecordData(s[p],q))}return this.writeRecords(o,n)},writeRecords:Ext.emptyFn,getRecordData:function(A,C){var O=this,E=O.getNameProperty(),I=E!=="name",G=A.self.idField,K=G[E]||G.name,L=A.id,F=O.getWriteAllFields(),P,H,D,J,M,z,B,N;if(G.serialize){L=G.serialize(L)}if(!F&&C&&C.isDestroyOperation){P={};P[K]=L}else{H=O.getDateFormat();D=A.phantom;J=(D||F)?O.getAllDataOptions():O.getPartialDataOptions();M=D&&O.getClientIdProperty();z=A.getFieldsMap();J.serialize=false;B=A.getData(J);P=I?{}:B;if(M){P[M]=L;delete B[K]}else{if(!O.getWriteRecordId()){delete B[K]}}for(K in B){L=B[K];if(!(N=z[K])){if(I){P[K]=L}}else{if(N.isDateField&&H&&Ext.isDate(L)){L=Ext.Date.format(L,H)}else{if(N.serialize){L=N.serialize(L,A)}}if(I){K=N[E]||K}P[K]=L}}}return P}},1,0,0,0,["writer.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.writer,"Writer",Ext.data,"DataWriter",Ext.data,"Writer"],0));(Ext.cmd.derive("Ext.data.proxy.Proxy",Ext.Base,{$configPrefixed:false,alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],config:{batchOrder:"create,update,destroy",batchActions:true,model:undefined,reader:{type:"json"},writer:{type:"json"}},isProxy:true,isSynchronous:false,constructor:function(f){this.mixins.observable.constructor.call(this,f);this.pendingOperations={}},applyModel:function(f){return Ext.data.schema.Schema.lookupEntity(f)},updateModel:function(g){if(g){var k=this.getReader();if(k&&!k.getModel()){k.setModel(g)}}},applyReader:function(f){if(this.isSynchronous){f=f||{};f.keepRawData=true}return Ext.Factory.reader(f)},updateReader:function(m){if(m){var k=this,l=k.getModel();if(!l){l=m.getModel();if(l){k.setModel(l)}}else{m.setModel(l)}}},applyWriter:function(g){var k=this.getReader();g=Ext.Factory.writer(g);if(g.getRecord&&!g.getRecord()&&k&&k.getRecord){k=k.getRecord();if(k){g.setRecord(k)}}return g},abort:Ext.emptyFn,onMetaChange:function(f){this.fireEvent("metachange",this,f)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(F,v){var w=this,x=w.getBatchActions(),z,D,A,C,B,H,E,G,y;if(F.operations===undefined){F={operations:F,listeners:v}}if(F.batch){if(Ext.isDefined(F.batch.runOperation)){z=Ext.applyIf(F.batch,{proxy:w,listeners:{}})}}else{F.batch={proxy:w,listeners:F.listeners||{}}}if(!z){z=new Ext.data.Batch(F.batch)}z.on("complete",Ext.bind(w.onBatchComplete,w,[F],0));A=w.getBatchOrder().split(",");C=A.length;for(H=0;H<C;H++){B=A[H];D=F.operations[B];if(D){if(x){z.add(w.createOperation(B,{records:D,params:F.params}))}else{G=D.length;for(E=0;E<G;E++){y=D[E];z.add(w.createOperation(B,{records:[y],params:F.params}))}}}}z.start();return z},onBatchComplete:function(m,l){var k=m.scope||this;if(l.hasException()){if(Ext.isFunction(m.failure)){Ext.callback(m.failure,k,[l,m])}}else{if(Ext.isFunction(m.success)){Ext.callback(m.success,k,[l,m])}}if(Ext.isFunction(m.callback)){Ext.callback(m.callback,k,[l,m])}},createOperation:function(k,l){var m=Ext.createByAlias("data.operation."+k,l);m.setProxy(this);this.pendingOperations[m._internalId]=m;return m},completeOperation:function(f){delete this.pendingOperations[f._internalId]},clone:function(){return new this.self(this.getInitialConfig())},destroy:function(){var l=this.pendingOperations,m,k;for(m in l){k=l[m];if(k&&k.isRunning()){k.abort()}}this.pendingOperations=null;this.callParent()}},1,0,0,0,["proxy.proxy"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data.proxy,"Proxy",Ext.data,"DataProxy",Ext.data,"Proxy"],0));(Ext.cmd.derive("Ext.data.proxy.Client",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ClientProxy",isSynchronous:true,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,"Client",Ext.data,"ClientProxy"],0));(Ext.cmd.derive("Ext.data.proxy.Memory",Ext.data.proxy.Client,{alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:true,config:{enablePaging:false,data:{$value:null,merge:function(l,o,m,n){if(Ext.isArray(l)){return Ext.Array.clone(l)}else{return Ext.clone(l)}}}},finishOperation:function(n){var m=0,l=n.getRecords(),o=l.length;for(m;m<o;m++){l[m].dropped=!!n.isDestroyOperation;l[m].commit()}n.setSuccessful(true)},create:function(f){this.finishOperation(f)},update:function(f){this.finishOperation(f)},erase:function(f){this.finishOperation(f)},read:function(w){var u=this,t=u.getReader().read(u.getData()),y=t.getRecords(),v=w.getSorters(),B=w.getGrouper(),z=w.getFilters(),A=w.getStart(),x=w.getLimit(),s;if(w.process(t,null,null,false)!==false){if(z&&z.length){t.setRecords(y=Ext.Array.filter(y,Ext.util.Filter.createFilterFn(z)));t.setTotal(y.length)}if(B){v=v?v.concat(B):v}if(v&&v.length){t.setRecords(y=Ext.Array.sort(y,Ext.util.Sortable.createComparator(v)))}if(u.getEnablePaging()&&A!==undefined&&x!==undefined){if(A>=t.getTotal()){t.setConfig({success:false,records:[],total:0})}else{t.setRecords(Ext.Array.slice(y,A,A+x))}}w.setCompleted();if(s=t.getMetadata()){u.onMetaChange(s)}}},clear:Ext.emptyFn},0,0,0,0,["proxy.memory"],0,[Ext.data.proxy,"Memory",Ext.data,"MemoryProxy"],0));(Ext.cmd.derive("Ext.data.ProxyStore",Ext.data.AbstractStore,{config:{model:undefined,fields:null,proxy:undefined,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",sortOnLoad:true,trackRemoved:true,asynchronousLoad:undefined},onClassExtended:function(p,n,q){var o=n.model,m;if(typeof o==="string"){m=q.onBeforeCreated;q.onBeforeCreated=function(){var f=this,e=arguments;Ext.require(o,function(){m.apply(f,e)})}}},implicitModel:"Ext.data.Model",autoSyncSuspended:0,constructor:function(k){var g=this;g.removed=[];Ext.data.AbstractStore.prototype.constructor.apply(this,arguments);if(g.getAsynchronousLoad()===false){g.flushLoad()}},applyAsynchronousLoad:function(f){if(f==null){f=!this.loadsSynchronously()}return f},updateAutoLoad:function(f){this.getData();if(f){this.load(Ext.isObject(f)?f:undefined)}},getTotalCount:function(){return this.totalCount||0},applyFields:function(f){if(f){this.createImplicitModel(f)}},applyModel:function(f){if(f){f=Ext.data.schema.Schema.lookupEntity(f)}else{if(!this.destroying){this.getFields();f=this.getModel()||this.createImplicitModel()}}return f},applyProxy:function(g){var k=this.getModel();if(g!==null){if(g){if(g.isProxy){g.setModel(k)}else{if(Ext.isString(g)){g={type:g,model:k}}else{if(!g.model){g=Ext.apply({model:k},g)}}g=Ext.createByAlias("proxy."+g.type,g);g.autoCreated=true}}else{if(k){g=k.getProxy();this.useModelProxy=true}}if(!g){g=Ext.createByAlias("proxy.memory");g.autoCreated=true}}return g},applyState:function(g){var k=this;Ext.data.AbstractStore.prototype.applyState.call(this,g);if(k.getAutoLoad()||k.isLoaded()){k.load()}},updateProxy:function(g,k){this.proxyListeners=Ext.destroy(this.proxyListeners)},updateTrackRemoved:function(f){this.cleanRemoved();this.removed=f?[]:null},onMetaChange:function(k,g){this.fireEvent("metachange",this,g)},create:function(o,q){var p=this,n=p.getModel(),t=new n(o),s;q=Ext.apply({},q);if(!q.records){q.records=[t]}q.internalScope=p;q.internalCallback=p.onProxyWrite;s=p.createOperation("create",q);return s.execute()},read:function(){return this.load.apply(this,arguments)},update:function(l){var k=this,m;l=Ext.apply({},l);if(!l.records){l.records=k.getUpdatedRecords()}l.internalScope=k;l.internalCallback=k.onProxyWrite;m=k.createOperation("update",l);return m.execute()},onProxyWrite:function(n){var m=this,l=n.wasSuccessful(),o=n.getRecords();switch(n.getAction()){case"create":m.onCreateRecords(o,n,l);break;case"update":m.onUpdateRecords(o,n,l);break;case"destroy":m.onDestroyRecords(o,n,l);break}if(l){m.fireEvent("write",m,n);m.fireEvent("datachanged",m)}},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(l,m,k){if(k){this.cleanRemoved()}},erase:function(l){var k=this,m;l=Ext.apply({},l);if(!l.records){l.records=k.getRemovedRecords()}l.internalScope=k;l.internalCallback=k.onProxyWrite;m=k.createOperation("destroy",l);return m.execute()},onBatchOperationComplete:function(g,k){return this.onProxyWrite(k)},onBatchComplete:function(q,t){var n=this,s=q.operations,o=s.length,p;if(n.batchUpdateMode!=="operation"){n.suspendEvents();for(p=0;p<o;p++){n.onProxyWrite(s[p])}n.resumeEvents()}n.isSyncing=false;n.fireEvent("datachanged",n)},onBatchException:function(g,k){},filterNew:function(f){return f.phantom===true&&f.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(f){return f.dirty===true&&f.phantom!==true&&f.isValid()},getRemovedRecords:function(){var f=this.getRawRemovedRecords();return f?Ext.Array.clone(f):[]},sync:function(s){var p=this,t={},o=p.getNewRecords(),q=p.getUpdatedRecords(),u=p.getRemovedRecords(),v=false;p.needsSync=false;if(o.length>0){t.create=o;v=true}if(q.length>0){t.update=q;v=true}if(u.length>0){t.destroy=u;v=true}if(v&&p.fireEvent("beforesync",t)!==false){p.isSyncing=true;s=s||{};p.proxy.batch(Ext.apply(s,{operations:t,listeners:p.getBatchListeners()}))}return p},getBatchListeners:function(){var g=this,k={scope:g,exception:g.onBatchException,complete:g.onBatchComplete};if(g.batchUpdateMode==="operation"){k.operationcomplete=g.onBatchOperationComplete}return k},save:function(){return this.sync.apply(this,arguments)},load:function(k){var g=this;if(typeof k==="function"){k={callback:k}}else{k=k?Ext.Object.chain(k):{}}g.pendingLoadOptions=k;if(g.getAsynchronousLoad()){if(!g.loadTimer){g.loadTimer=Ext.asap(g.flushLoad,g)}}else{g.flushLoad()}return g},flushLoad:function(){var k=this,l=k.pendingLoadOptions,m;k.clearLoadTask();if(!l){return}k.setLoadOptions(l);if(k.getRemoteSort()&&l.sorters){k.fireEvent("beforesort",k,l.sorters)}m=Ext.apply({internalScope:k,internalCallback:k.onProxyLoad,scope:k},l);k.lastOptions=m;m=k.createOperation("read",m);if(k.fireEvent("beforeload",k,m)!==false){k.onBeforeLoad(m);k.loading=true;m.execute()}},reload:function(f){return this.load(Ext.apply({},f,this.lastOptions))},onEndUpdate:function(){var f=this;if(f.needsSync&&f.autoSync&&!f.autoSyncSuspended){f.sync()}},afterReject:function(k){var g=this;if(g.contains(k)){g.onUpdate(k,Ext.data.Model.REJECT,null);g.fireEvent("update",g,k,Ext.data.Model.REJECT,null)}},afterCommit:function(m,k){var l=this;if(!k){k=null}if(l.contains(m)){l.onUpdate(m,Ext.data.Model.COMMIT,k);l.fireEvent("update",l,m,Ext.data.Model.COMMIT,k)}},afterErase:function(f){this.onErase(f)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,doDestroy:function(){var g=this,k=g.getProxy();g.clearLoadTask();g.getData().destroy();g.data=null;g.setProxy(null);if(k.autoCreated){k.destroy()}g.setModel(null);Ext.data.AbstractStore.prototype.doDestroy.call(this)},hasPendingLoad:function(){return !!this.pendingLoadOptions||this.isLoading()},isLoading:function(){return !!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(g){var k=this;if(k.autoSyncSuspended&&!--k.autoSyncSuspended){if(g){k.sync()}}},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{getRawRemovedRecords:function(){return this.removed},onExtraParamsChanged:function(){},clearLoadTask:function(){if(this.loadTimer){Ext.asapCancel(this.loadTimer)}this.pendingLoadOptions=this.loadTimer=null},cleanRemoved:function(){var k=this.getRawRemovedRecords(),m,l;if(k){for(l=0,m=k.length;l<m;++l){k[l].unjoin(this)}k.length=0}},createOperation:function(n,q){var m=this,p=m.getProxy(),o;if(!m.proxyListeners){o={scope:m,destroyable:true,beginprocessresponse:m.beginUpdate,endprocessresponse:m.endUpdate};if(!m.disableMetaChangeEvent){o.metachange=m.onMetaChange}m.proxyListeners=p.on(o)}return p.createOperation(n,q)},createImplicitModel:function(q){var m=this,p={extend:m.implicitModel,statics:{defaultProxy:"memory"}},n,o;if(q){p.fields=q}o=Ext.define(null,p);m.setModel(o);n=m.getProxy();if(n){o.setProxy(n)}else{m.setProxy(o.getProxy())}},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,removeFromRemoved:function(k){var g=this.getRawRemovedRecords();if(g){Ext.Array.remove(g,k);k.unjoin(this)}},setLoadOptions:function(o){var m=this,n,l;if(m.getRemoteFilter()){n=m.getFilters(false);if(n&&n.getCount()){o.filters=n.getRange()}}if(m.getRemoteSort()){l=m.getSorters(false);if(l&&l.getCount()){o.sorters=l.getRange()}}}}},1,0,0,0,0,0,[Ext.data,"ProxyStore"],0));(Ext.cmd.derive("Ext.data.LocalStore",Ext.Mixin,{mixinConfig:{id:"localstore"},config:{extraKeys:null},applyExtraKeys:function(m){var k,l=this.getData();l.setExtraKeys(m);m=l.getExtraKeys();for(k in m){this[k]=m[k]}},add:function(f){return this.insert(this.getCount(),arguments.length===1?f:arguments)},constructDataCollection:function(){var f=new Ext.util.Collection({rootProperty:"data"});f.addObserver(this);return f},createModel:function(m){var l=this.getSession(),k;if(!m.isModel){k=this.getModel();m=new k(m,l)}return m},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){var f=this.getData().getSorters();f.setSorterConfigure(this.addFieldTransform,this);return f},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(f){return this.indexOf(f)>-1},each:function(p,q,v){var o=this.getData(),u,t,s;if(typeof v==="object"){v=v.filtered}if(v===true&&o.filtered){o=o.getSource()}o=o.items.slice(0);u=o.length;for(s=0;s<u;++s){t=o[s];if(p.call(q||t,t,s,u)===false){break}}},collect:function(p,q,m){var o=this,n=o.getData();if(typeof q==="object"){m=q.filtered;q=q.allowNull}if(m===true&&n.filtered){n=n.getSource()}return n.collect(p,"data",q)},getById:function(g){var k=this.getData();if(k.filtered){k=k.getSource()}return k.get(g)||null},getByInternalId:function(m){var k=this.getData(),l;if(k.filtered){if(!k.$hasExtraKeys){l=this.makeInternalKeyCfg();k.setExtraKeys(l);k.$hasExtraKeys=true}k=k.getSource()}if(!k.$hasExtraKeys){k.setExtraKeys(l||this.makeInternalKeyCfg());k.$hasExtraKeys=true}return k.byInternalId.get(m)||null},getDataSource:function(){var f=this.getData();return f.getSource()||f},indexOf:function(f){return this.getData().indexOf(f)},indexOfId:function(f){return this.indexOf(this.getById(f))},insert:function(o,p){var m=this,q,n;if(p){if(!Ext.isIterable(p)){p=[p]}else{p=Ext.Array.clone(p)}q=p.length}if(!q){return[]}for(n=0;n<q;++n){p[n]=m.createModel(p[n])}m.getData().insert(o,p);return p},queryBy:function(l,m){var k=this.getData();return(k.getSource()||k).createFiltered(l,m)},query:function(o,p,n,t,s){var q=this.getData();return(q.getSource()||q).createFiltered(o,p,n,t,s)},first:function(f){return this.getData().first(f)||null},last:function(f){return this.getData().last(f)||null},sum:function(k,m){var l=this.getData();return(m&&this.isGrouped())?l.sumByGroup(k):l.sum(k)},count:function(k){var g=this.getData();return(k&&this.isGrouped())?g.countByGroup():g.count()},min:function(k,m){var l=this.getData();return(m&&this.isGrouped())?l.minByGroup(k):l.min(k)},max:function(k,m){var l=this.getData();return(m&&this.isGrouped())?l.maxByGroup(k):l.max(k)},average:function(k,m){var l=this.getData();return(m&&this.isGrouped())?l.averageByGroup(k):l.average(k)},aggregate:function(v,s,x,u){var w=this,B,y,A,t,z;if(x&&w.isGrouped()){B=w.getGroups().items;y=B.length;A={};for(z=0;z<y;++z){t=B[z];A[t.getGroupKey()]=w.getAggregate(v,s||w,t.items,u)}return A}else{return w.getAggregate(v,s,w.getData().items,u)}},getAggregate:function(o,p,s,v){var t=[],u=s.length,q;for(q=0;q<u;++q){t[q]=s[q].get(v)}return o.call(p||this,s,t)},addObserver:function(k){var g=this.observers;if(!g){this.observers=g=new Ext.util.Collection()}g.add(k)},removeObserver:function(k){var g=this.observers;if(g){g.remove(k)}},callObservers:function(x,s){var w=this.observers,v,t,q,u,p;if(w){t=w.items;if(s){s.unshift(this)}else{s=[this]}for(q=0,v=t.length;q<v;++q){p=t[q];u="onSource"+x;if(p[u]){p[u].apply(p,s)}}}},queryRecordsBy:function(p,q){var v=this.getData(),o=[],u,s,t;v=(v.getSource()||v).items;q=q||this;for(s=0,u=v.length;s<u;++s){t=v[s];if(p.call(q,t)===true){o.push(t)}}return o},queryRecords:function(v,o){var p=this.getData(),q=[],u,s,t;p=(p.getSource()||p).items;for(s=0,u=p.length;s<u;++s){t=p[s];if(t.get(v)===o){q.push(t)}}return q},privates:{isLast:function(f){return f===this.last()},makeInternalKeyCfg:function(){return{byInternalId:{property:"internalId",rootProperty:""}}}}},0,0,0,0,0,0,[Ext.data,"LocalStore"],0));(Ext.cmd.derive("Ext.data.proxy.Server",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ServerProxy",isRemote:true,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:false,simpleGroupMode:false,noCache:true,cacheString:"_dc",timeout:30000,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(m,l){var k=this.getExtraParams();k[m]=l;this.fireEvent("extraparamschanged",k)},updateExtraParams:function(g,k){this.fireEvent("extraparamschanged",g)},buildRequest:function(u){var o=this,t=Ext.apply({},u.getParams()),v=Ext.applyIf(t,o.getExtraParams()||{}),p,q,s;Ext.applyIf(v,o.getParams(u));q=u.getId();s=o.getIdParam();if(q!==undefined&&v[s]===undefined){v[s]=q}p=new Ext.data.Request({params:v,action:u.getAction(),records:u.getRecords(),url:u.getUrl(),operation:u,proxy:o});p.setUrl(o.buildUrl(p));u.setRequest(p);return p},processResponse:function(s,y,w,x){var u=this,z,v,t,q;if(u.destroying||u.destroyed){return}u.fireEvent("beginprocessresponse",u,x,y);if(s===true){v=u.getReader();if(x.status===204){t=v.getNullResultSet()}else{t=v.read(u.extractResponseData(x),{recordCreator:y.getRecordCreator()})}y.process(t,w,x);z=!y.wasSuccessful()}else{u.setException(y,x);z=true}if(z){u.fireEvent("exception",u,x,y)}else{q=t.getMetadata();if(q){u.onMetaChange(q)}}u.afterRequest(w,s);u.fireEvent("endprocessresponse",u,x,y)},setException:function(g,k){g.setException({status:k.status,statusText:k.statusText,response:k})},extractResponseData:Ext.identityFn,applyEncoding:function(f){return Ext.encode(f)},encodeSorters:function(m,o){var q=[],n=m.length,p;for(p=0;p<n;p++){q[p]=m[p].serialize()}return this.applyEncoding(o?q[0]:q)},encodeFilters:function(m){var q=[],n=m.length,p,o;for(p=0;p<n;p++){o=m[p];o.getFilterFn();if(o.generatedFilterFn){q.push(o.serialize())}}return this.applyEncoding(q)},getParams:function(G){if(!G.isReadOperation){return{}}var L=this,N={},D=G.getGrouper(),X=G.getSorters(),I=G.getFilters(),Q=G.getPage(),R=G.getStart(),P=G.getLimit(),K=L.getSimpleSortMode(),U=L.getSimpleGroupMode(),E=L.getPageParam(),T=L.getStartParam(),W=L.getLimitParam(),V=L.getGroupParam(),J=L.getGroupDirectionParam(),S=L.getSortParam(),F=L.getFilterParam(),H=L.getDirectionParam(),M,O;if(E&&Q){N[E]=Q}if(T&&(R||R===0)){N[T]=R}if(W&&P){N[W]=P}M=V&&D;if(M){if(U){N[V]=D.getProperty();N[J]=D.getDirection()}else{N[V]=L.encodeSorters([D],true)}}if(S&&X&&X.length>0){if(K){O=0;if(X.length>1&&M){O=1}N[S]=X[O].getProperty();N[H]=X[O].getDirection()}else{N[S]=L.encodeSorters(X)}}if(F&&I&&I.length>0){N[F]=L.encodeFilters(I)}return N},buildUrl:function(k){var l=this,m=l.getUrl(k);if(l.getNoCache()){m=Ext.urlAppend(m,Ext.String.format("{0}={1}",l.getCacheString(),Ext.Date.now()))}return m},getUrl:function(g){var k;if(g){k=g.getUrl()||this.getApi()[g.getAction()]}return k?k:(arguments.callee.$previous||Ext.data.proxy.Proxy.prototype.getUrl).call(this)},doRequest:function(f){},afterRequest:Ext.emptyFn,destroy:function(){var f=this;f.destroying=true;f.reader=f.writer=Ext.destroy(f.reader,f.writer);Ext.data.proxy.Proxy.prototype.destroy.call(this);f.destroying=false;f.destroyed=true}},0,0,0,0,["proxy.server"],0,[Ext.data.proxy,"Server",Ext.data,"ServerProxy"],0));(Ext.cmd.derive("Ext.data.proxy.Ajax",Ext.data.proxy.Server,{alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],isAjaxProxy:true,defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:false,headers:undefined,paramsAsJson:false,withCredentials:false,useDefaultXhrHeader:true,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(u){var q=this,p=q.getWriter(),s=q.buildRequest(u),v=q.getMethod(s),t,o;if(p&&u.allowWrite()){s=p.write(s)}s.setConfig({binary:q.getBinary(),headers:q.getHeaders(),timeout:q.getTimeout(),scope:q,callback:q.createRequestCallback(s,u),method:v,useDefaultXhrHeader:q.getUseDefaultXhrHeader(),disableCaching:false});if(v.toUpperCase()!=="GET"&&q.getParamsAsJson()){o=s.getParams();if(o){t=s.getJsonData();if(t){t=Ext.Object.merge({},t,o)}else{t=o}s.setJsonData(t);s.setParams(undefined)}}if(q.getWithCredentials()){s.setWithCredentials(true);s.setUsername(q.getUsername());s.setPassword(q.getPassword())}return q.sendRequest(s)},sendRequest:function(f){f.setRawRequest(Ext.Ajax.request(f.getCurrentConfig()));this.lastRequest=f;return f},abort:function(f){f=f||this.lastRequest;if(f){Ext.Ajax.abort(f.getRawRequest())}},getMethod:function(o){var m=this.getActionMethods(),n=o.getAction(),l;if(m){l=m[n]}return l||this.defaultActionMethods[n]},createRequestCallback:function(k,m){var l=this;return function(f,e,g){if(k===l.lastRequest){l.lastRequest=null}l.processResponse(e,m,k,g)}},destroy:function(){this.lastRequest=null;Ext.data.proxy.Server.prototype.destroy.call(this)}},0,0,0,0,["proxy.ajax"],0,[Ext.data.proxy,"Ajax",Ext.data,"HttpProxy",Ext.data,"AjaxProxy"],0));(Ext.cmd.derive("Ext.data.reader.Json",Ext.data.reader.Reader,{alternateClassName:"Ext.data.JsonReader",config:{record:null,metaProperty:"metaData",useSimpleAccessors:false,preserveRawData:false},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},getResponseData:function(m){var l;try{return Ext.decode(m.responseText)}catch(k){l=this.createReadError(k.message);Ext.Logger.warn("Unable to parse the JSON returned by the server");this.fireEvent("exception",this,m,l);return l}},buildExtractors:function(){var k=this,m,l;if(Ext.data.reader.Reader.prototype.buildExtractors.apply(this,arguments)){m=k.getMetaProperty();l=k.getRootProperty();if(l){k.getRoot=k.getAccessor(l)}else{k.getRoot=Ext.identityFn}if(m){k.getMeta=k.getAccessor(m)}}},extractData:function(t,o){var n=this.getRecord(),p=[],q,s;if(n){q=t.length;if(!q&&Ext.isObject(t)){q=1;t=[t]}for(s=0;s<q;s++){p[s]=t[s][n]}}else{p=t}return Ext.data.reader.Reader.prototype.extractData.call(this,p,o)},getModelData:function(f){return this.getPreserveRawData()?Ext.apply({},f):f},createAccessor:(function(){var f=/[\[\.]/;return function(L){var P=this,H=P.getUseSimpleAccessors(),F,I,B,E,G,M,J,N,O,A,e,D,K,C;if(!(L||L===0)){return}if(typeof L==="function"){return L}if(!H){F=String(L).search(f)}if(H===true||F<0){I=function(g){return g[L]}}else{B="raw";E=[];G="";M=0;C=L.length;for(D=0;D<=C;++D){e=L[D];J=e===".";N=e==="[";O=e==="]";A=J||N||O||!e;if(!A||M>1||(M&&!O)){G+=e}else{if(A){K=false;if(N){++M}else{if(O){--M;K=true}}if(G){if(K){G="["+G+"]"}else{G="."+G}B+=G;E.push(""+B);G=""}}}}I=E.join(" && ");I=Ext.functionFactory("raw","return "+I)}return I}}()),createFieldAccessor:function(m){var p=this,q=m.mapping,o=q||q===0,n=o?q:m.name;if(o){if(typeof n==="function"){return function(e){return m.mapping(e,p)}}else{return p.createAccessor(n)}}},getAccessorKey:function(g){var k=this.getUseSimpleAccessors()?"simple":"";return this.$className+k+g},privates:{copyFrom:function(f){Ext.data.reader.Reader.prototype.copyFrom.call(this,f);this.getRoot=f.getRoot}}},0,0,0,0,["reader.json"],0,[Ext.data.reader,"Json",Ext.data,"JsonReader"],0));(Ext.cmd.derive("Ext.data.writer.Json",Ext.data.writer.Writer,{alternateClassName:"Ext.data.JsonWriter",config:{rootProperty:undefined,encode:false,allowSingle:true,expandData:false},getExpandedData:function(w){var y=w.length,v=0,s,z,u,x,t,q=function(g,f){var e={};e[g]=f;return e};for(;v<y;v++){s=w[v];for(z in s){if(s.hasOwnProperty(z)){u=z.split(".");x=u.length-1;if(x>0){t=s[z];for(;x>0;x--){t=q(u[x],t)}s[u[0]]=s[u[0]]||{};Ext.Object.merge(s[u[0]],t);delete s[z]}}}}return w},writeRecords:function(p,o){var q=this,u=q.getRootProperty(),s,v,t;if(q.getExpandData()){o=q.getExpandedData(o)}if(q.getAllowSingle()&&o.length===1){o=o[0];v=true}t=this.getTransform();if(t){o=t(o,p)}if(q.getEncode()){if(u){p.setParam(u,Ext.encode(o))}else{}}else{if(v||(o&&o.length)){s=p.getJsonData()||{};if(u){s[u]=o}else{s=o}p.setJsonData(s)}}return p}},0,0,0,0,["writer.json"],0,[Ext.data.writer,"Json",Ext.data,"JsonWriter"],0));(Ext.cmd.derive("Ext.util.Group",Ext.util.Collection,{config:{groupKey:null},$endUpdatePriority:2001,manageSorters:false},0,0,0,0,0,0,[Ext.util,"Group"],0));(Ext.cmd.derive("Ext.util.GroupCollection",Ext.util.Collection,{isGroupCollection:true,config:{grouper:null,itemRoot:null},observerPriority:-100,constructor:function(f){Ext.util.Collection.prototype.constructor.call(this,f);this.on("remove","onGroupRemove",this)},onCollectionAdd:function(g,k){this.addItemsToGroups(g,k.items,k.at)},onCollectionBeforeItemChange:function(g,k){this.changeDetails=k},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(k,m){var l=m.item;if(!m.indexChanged){this.syncItemGrouping(k,l,k.getKey(l),m.oldKey,m.oldIndex)}this.changeDetails=null},onCollectionRefresh:function(f){this.removeAll();this.addItemsToGroups(f,f.items)},onCollectionRemove:function(B,A){var v=this,D=v.changeDetails,w,u,n,x,z,y,C;if(D){C=D.item;n=v.findGroupForItem(C);w=[];if(n){w.push({group:n,items:[C]})}}else{w=v.groupItems(B,A.items,false)}for(x=0,z=w.length;x<z;++x){n=(u=w[x]).group;if(n){n.remove(u.items);if(!n.length){(y||(y=[])).push(n)}}}if(y){v.remove(y)}},onCollectionSort:function(p){var q=this,v=p.getSorters(false),u,s,t,o;if(v){u=q.items;s=q.length;for(t=0;t<s;++t){o=u[t];if(o.getSorters()!==v){o.setSorters(v)}}}},onCollectionUpdateKey:function(l,n){var o=n.index,m=n.item;if(!n.indexChanged){o=l.indexOf(m);this.syncItemGrouping(l,m,n.newKey,n.oldKey,o)}},addItemsToGroups:function(k,l,m){this.groupItems(k,l,true,m)},groupItems:function(J,L,G,M){var B=this,I={},N=[],K=J.getGrouper(),R=B.itemGroupKeys,P,Q,O,E,H,C,D,F,A;for(H=0,F=L.length;H<F;++H){E=K.getGroupString(C=L[H]);D=J.getKey(C);if(G){(R||(B.itemGroupKeys=R={}))[D]=E}else{if(R){delete R[D]}}if(!(Q=I[E])){if(!(O=B.getByKey(E))&&G){(A||(A=[])).push(O=B.createGroup(J,E))}N.push(I[E]=Q={group:O,items:[]})}Q.items.push(C)}if(G&&B.length>1&&M){P=J.indexOf(N[0].group.getAt(0));M=Math.max(M-P,0)}for(H=0,F=N.length;H<F;++H){Q=N[H];Q.group.insert(M!=null?M:O.items.length,Q.items)}if(A){B.add(A)}return N},syncItemGrouping:function(I,K,D,A,H){var N=this,z=N.itemGroupKeys||(N.itemGroupKeys={}),G=I.getGrouper(),J=G.getGroupString(K),C=0,O=-1,M=D,P,L,E,B,F;if(A||A===0){B=z[A];delete z[A];M=A}else{B=z[D]}z[D]=J;if(!(L=N.get(J))){L=N.createGroup(I,J);P=[L]}if(L.get(M)!==K){if(L.getCount()>0&&I.getSorters().getCount()===0){F=I.indexOf(L.items[0]);if(H<F){O=0}else{O=H-F}}if(O===-1){L.add(K)}else{L.insert(O,K)}}else{L.itemChanged(K,null,A)}if(J!==B&&(B===0||B)){E=N.get(B);if(E){E.remove(K);if(!E.length){C=[E]}}}if(P){N.splice(0,C,P)}else{if(C){N.splice(0,C)}}},createGroup:function(l,m){var k=new Ext.util.Group({groupKey:m,rootProperty:this.getItemRoot(),sorters:l.getSorters()});return k},getKey:function(f){return f.getGroupKey()},createSortFn:function(){var k=this,m=k.getGrouper(),l=k.getSorters().getSortFn();if(!m){return l}return function(f,e){return m.sort(f.items[0],e.items[0])||l(f,e)}},updateGrouper:function(k){var g=this;g.grouped=!!(k&&g.$groupable.getAutoGroup());g.onSorterChange();g.onEndUpdateSorters(g.getSorters())},destroy:function(){this.$groupable=null;this.destroyGroups(this.items);Ext.util.Collection.prototype.destroy.call(this)},privates:{destroyGroups:function(l){var m=l.length,k;for(k=0;k<m;++k){l[k].destroy()}},findGroupForItem:function(n){var p=this.items,q=p.length,o,m;for(o=0;o<q;++o){m=p[o];if(m.contains(n)){return m}}},onGroupRemove:function(g,k){this.destroyGroups(k.items)}}},1,0,0,0,0,0,[Ext.util,"GroupCollection"],0));(Ext.cmd.derive("Ext.data.Store",Ext.data.ProxyStore,{config:{data:0,clearRemovedOnLoad:true,clearOnPageLoad:true,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:true},loadCount:0,complete:false,moveMapCount:0,constructor:function(m){var l=this,k;if(m){if(m.buffered){return new Ext.data.BufferedStore(m)}}Ext.data.ProxyStore.prototype.constructor.call(this,m);k=l.inlineData;if(k){delete l.inlineData;l.loadInlineData(k)}},applyData:function(k,m){var l=this;l.getFields();l.getModel();if(k&&k.isCollection){m=k}else{if(!m){m=l.constructDataCollection()}if(k){if(l.isInitializing){l.inlineData=k}else{l.loadData(k)}}}return m},loadInlineData:function(k){var l=this,m=l.getProxy();if(m&&m.isMemoryProxy){m.setData(k);l.suspendEvents();l.read();l.resumeEvents()}else{l.removeAll(true);l.suspendEvents();l.loadData(k);l.resumeEvents()}},onCollectionAdd:function(g,k){this.onCollectionAddItems(g,k.items,k)},onCollectionFilterAdd:function(g,k){this.onCollectionAddItems(g,k)},onCollectionAddItems:function(A,E,F){var w=this,y=E.length,I=F?!F.next:false,z=w.removed,B=w.ignoreCollectionAdd,x=w.getSession(),G=F&&F.replaced,D,J,C,H;for(D=0;D<y;++D){C=E[D];if(x){x.adopt(C)}if(!B){C.join(w);if(z&&z.length){Ext.Array.remove(z,C)}J=J||C.phantom||C.dirty}}if(B){return}if(G){H=[];do{Ext.Array.push(H,G.items);G=G.next}while(G);w.setMoving(H,true)}if(F){if(F.replaced){if(I){w.fireEvent("refresh",w)}}else{w.fireEvent("add",w,E,F.at);if(I){w.fireEvent("datachanged",w)}}}if(H){w.setMoving(H,false)}w.needsSync=w.needsSync||J},onCollectionBeforeItemChange:function(m,n){var q=n.item,o=n.modified||null,p=n.meta;this.fireEvent("beforeupdate",this,q,p,o,n)},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(n,o){var p=this,t=o.item,q=o.modified||null,s=o.meta;if(p.fireChangeEvent(t)){p.onUpdate(t,s,q,o);p.fireEvent("update",p,t,s,q,o)}},afterChange:function(m,k,l){this.getData().itemChanged(m,k||null,undefined,l)},afterCommit:function(k,g){this.afterChange(k,g,Ext.data.Model.COMMIT)},afterEdit:function(k,g){this.needsSync=this.needsSync||k.dirty;this.afterChange(k,g,Ext.data.Model.EDIT)},afterReject:function(f){this.afterChange(f,null,Ext.data.Model.REJECT)},afterDrop:function(f){this.getData().remove(f)},afterErase:function(f){this.removeFromRemoved(f)},addSorted:function(q){var o=this,m=o.getRemoteSort(),n=o.getData(),p;if(m){n.setSorters(o.getSorters())}p=n.findInsertionIndex(q);if(m){n.setSorters(null)}return o.insert(p,q)},remove:function(y,q,t){var s=this,x=s.getDataSource(),u,w,z,v;if(y){if(y.isModel){if(x.indexOf(y)>-1){z=[y];u=1}else{u=0}}else{z=[];for(w=0,u=y.length;w<u;++w){v=y[w];if(v&&v.isEntity){if(!x.contains(v)){continue}}else{if(!(v=x.getAt(v))){continue}}z.push(v)}u=z.length}}if(!u){return[]}s.removeIsMove=q===true;s.removeIsSilent=t;x.remove(z);s.removeIsSilent=false;return z},onCollectionRemove:function(z,F){var I=this,y=I.removed,D=F.items,w=D.length,x=F.at,E=F.replacement,G=I.removeIsMove||(E&&Ext.Array.equals(D,E.items)),J=I.removeIsSilent,H=!F.next,B=I.getDataSource(),C,A;if(I.ignoreCollectionRemove){return}if(E){I.setMoving(E.items,true)}for(C=0;C<w;++C){A=D[C];if(!B.contains(A)){if(y&&!G&&!A.phantom&&!A.erasing){A.removedFrom=x+C;y.push(A);I.needsSync=true}else{A.unjoin(I)}}}if(!J){if(!E||!E.items.length){I.fireEvent("remove",I,D,x,G);if(H){I.fireEvent("datachanged",I)}}}if(E){I.setMoving(E.items,false)}},onFilterEndUpdate:function(){var f=this;if(f.destroying||f.destroyed){return}Ext.data.ProxyStore.prototype.onFilterEndUpdate.apply(this,arguments);f.callObservers("Filter")},removeAt:function(m,l){var k=this.getData();m=Math.max(m,0);if(m<k.length){if(arguments.length===1){l=1}else{if(!l){return}}k.removeAt(m,l)}},removeAll:function(p){var o=this,n=o.getData(),m=o.hasListeners.clear,q=n.getRange();if(n.length){o.removeIsSilent=true;o.callObservers("BeforeRemoveAll");n.removeAll();o.removeIsSilent=false;if(!p){o.fireEvent("clear",o,q);o.fireEvent("datachanged",o)}o.callObservers("AfterRemoveAll",[!!p])}return q},setRecords:function(k){var g=this.getCount();++this.loadCount;if(g){this.getData().splice(0,g,k)}else{this.add(k)}},splice:function(m,k,l){return this.getData().splice(m,k,l)},onProxyLoad:function(p){var n=this,o=p.getResultSet(),q=p.getRecords(),m=p.wasSuccessful();if(n.destroyed){return}if(o){n.totalCount=o.getTotal()}if(m){q=n.processAssociation(q);n.loadRecords(q,p.getAddRecords()?{addRecords:true}:undefined)}else{n.loading=false}if(n.hasListeners.load){n.fireEvent("load",n,q,m,p)}n.callObservers("AfterLoad",[q,m,p])},filterDataSource:function(o){var n=this.getDataSource(),s=n.items,t=s.length,q=[],p;for(p=0;p<t;p++){if(o.call(n,s[p])){q.push(s[p])}}return q},getNewRecords:function(){return this.filterDataSource(this.filterNew)},getRejectRecords:function(){return this.filterDataSource(this.filterRejects)},getUpdatedRecords:function(){return this.filterDataSource(this.filterUpdated)},loadData:function(n,t){var o=this,p=n.length,q=[],s;for(s=0;s<p;s++){q.push(o.createModel(n[s]))}q=o.processAssociation(q);o.loadRecords(q,t?o.addRecordsOptions:undefined)},loadRawData:function(p,t){var q=this,o=q.getSession(),u=q.getProxy().getReader().read(p,o?{recordCreator:o.recordCreator}:undefined),s=u.getRecords(),v=u.getSuccess();if(v){q.totalCount=u.getTotal();q.loadRecords(s,t?q.addRecordsOptions:undefined)}return v},loadRecords:function(v,t){var x=this,p=v.length,w=x.getData(),q,s,u;if(t){q=t.addRecords}if(!x.getRemoteSort()&&!x.getSortOnLoad()){u=true;w.setAutoSort(false)}if(!q){x.clearData(true)}x.loading=false;x.ignoreCollectionAdd=true;x.callObservers("BeforePopulate");w.add(v);x.ignoreCollectionAdd=false;if(u){w.setAutoSort(true)}for(s=0;s<p;s++){v[s].join(x)}++x.loadCount;x.complete=true;if(x.hasListeners.datachanged){x.fireEvent("datachanged",x)}if(x.hasListeners.refresh){x.fireEvent("refresh",x)}x.callObservers("AfterPopulate")},loadPage:function(l,o){var m=this,n=m.getPageSize();m.currentPage=l;o=Ext.apply({page:l,start:(l-1)*n,limit:n,addRecords:!m.getClearOnPageLoad()},o);m.read(o)},nextPage:function(f){this.loadPage(this.currentPage+1,f)},previousPage:function(f){this.loadPage(this.currentPage-1,f)},clearData:function(z){var t=this,v=t.removed,y=t.getDataSource(),u=t.getClearRemovedOnLoad(),s=v&&z&&!u,B,x,A,w;if(y){B=y.items;for(A=0,w=B.length;A<w;++A){x=B[A];if(s&&Ext.Array.contains(v,x)){continue}x.unjoin(t)}t.ignoreCollectionRemove=true;t.callObservers("BeforeClear");y.removeAll();t.ignoreCollectionRemove=false;t.callObservers("AfterClear")}if(v&&(!z||u)){v.length=0}},onIdChanged:function(k,l,m){this.getData().updateKey(k,l);this.fireEvent("idchanged",this,k,l,m)},commitChanges:function(){var m=this,l=m.getModifiedRecords(),o=l.length,n=0;Ext.suspendLayouts();m.beginUpdate();for(;n<o;n++){l[n].commit()}m.cleanRemoved();m.endUpdate();Ext.resumeLayouts(true)},filterNewOnly:function(f){return f.phantom===true},filterRejects:function(f){return f.phantom||f.dirty},rejectChanges:function(){var s=this,q=s.getRejectRecords(),u=q.length,w,y,z,t,x,v;Ext.suspendLayouts();s.beginUpdate();for(w=0;w<u;w++){y=q[w];if(y.phantom){z=z||[];z.push(y)}else{y.reject()}}if(z){s.remove(z);for(w=0,u=z.length;w<u;++w){z[w].reject()}}q=s.getRawRemovedRecords();if(q){u=q.length;t=!s.getRemoteSort()&&s.isSorted();if(t){x=s.getData();v=x.getAutoSort();x.setAutoSort(false)}for(w=u-1;w>=0;w--){y=q[w];y.reject();if(!t){s.insert(y.removedFrom||0,y)}}if(t){x.setAutoSort(v);s.add(q)}q.length=0}s.endUpdate();Ext.resumeLayouts(true)},doDestroy:function(){var n=this,o=n.loadTask,l=n.getData(),m=l.getSource();n.clearData();n.setSession(null);n.observers=null;if(o){o.cancel();n.loadTask=null}if(m){m.destroy()}Ext.data.ProxyStore.prototype.doDestroy.call(this)},privates:{fetch:function(g){g=Ext.apply({},g);this.setLoadOptions(g);var k=this.createOperation("read",g);k.execute()},fireChangeEvent:function(f){return this.getDataSource().contains(f)},onBeforeLoad:function(f){this.callObservers("BeforeLoad",[f])},onRemoteFilterSet:function(k,g){if(k){this.getData().setFilters(g?null:k)}Ext.data.ProxyStore.prototype.onRemoteFilterSet.call(this,k,g)},onRemoteSortSet:function(l,k){var m=this.getData();if(l){m.setSorters(k?null:l)}m.setAutoGroup(!k);Ext.data.ProxyStore.prototype.onRemoteSortSet.call(this,l,k)},isMoving:function(q,o){var n=this.moveMap,s=0,t,p;if(n){if(q){if(Ext.isArray(q)){for(p=0,t=q.length;p<t;++p){s+=n[q[p].id]?1:0}}else{if(n[q.id]){++s}}}else{s=o?n:this.moveMapCount}}return s},setLoadOptions:function(o){var n=this,q=n.getPageSize(),m,p;if(n.getRemoteSort()&&!o.grouper){p=n.getGrouper();if(p){o.grouper=p}}if(q||"start" in o||"limit" in o||"page" in o){o.page=o.page!=null?o.page:n.currentPage;o.start=(o.start!==undefined)?o.start:(o.page-1)*q;o.limit=o.limit!=null?o.limit:q;n.currentPage=o.page}o.addRecords=o.addRecords||false;if(!o.recordCreator){m=n.getSession();if(m){o.recordCreator=m.recordCreator}}Ext.data.ProxyStore.prototype.setLoadOptions.call(this,o)},setMoving:function(t,o){var q=this,p=q.moveMap||(q.moveMap={}),u=t.length,s,v;for(s=0;s<u;++s){v=t[s].id;if(o){if(p[v]){++p[v]}else{p[v]=1;++q.moveMapCount}}else{if(--p[v]===0){delete p[v];--q.moveMapCount}}}if(q.moveMapCount===0){q.moveMap=null}},processAssociation:function(m){var k=this,l=k.getAssociatedEntity();if(l){m=k.getRole().processLoad(k,l,m,k.getSession())}return m}}},1,0,0,0,["store.store"],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,"Store"],0));(Ext.cmd.derive("Ext.data.reader.Array",Ext.data.reader.Json,{alternateClassName:"Ext.data.ArrayReader",config:{totalProperty:undefined,successProperty:undefined},createFieldAccessor:function(l){var n=l.mapping,m=l.hasMapping()?n:l.ordinal,o;l.mapping=m;o=Ext.data.reader.Json.prototype.createFieldAccessor.apply(this,arguments);l.mapping=n;return o},getModelData:function(f){return{}}},0,0,0,0,["reader.array"],0,[Ext.data.reader,"Array",Ext.data,"ArrayReader"],0));(Ext.cmd.derive("Ext.data.ArrayStore",Ext.data.Store,{alternateClassName:["Ext.data.SimpleStore"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(m,q){if(this.expandData){var n=[],p=0,o=m.length;for(;p<o;p++){n[n.length]=[m[p]]}m=n}Ext.data.Store.prototype.loadData.call(this,m,q)}},0,0,0,0,["store.array"],0,[Ext.data,"ArrayStore",Ext.data,"SimpleStore"],0));(Ext.cmd.derive("Ext.data.StoreManager",Ext.util.MixedCollection,{alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,register:function(){for(var k=0,g;(g=arguments[k]);k++){this.add(g)}},unregister:function(){for(var k=0,g;(g=arguments[k]);k++){this.remove(this.lookup(g))}},lookup:function(s,v){if(Ext.isArray(s)){var t=["field1"],p=!Ext.isArray(s[0]),o=s,q,u;if(p){o=[];for(q=0,u=s.length;q<u;++q){o.push([s[q]])}}else{for(q=2,u=s[0].length;q<=u;++q){t.push("field"+q)}}return new Ext.data.ArrayStore({data:o,fields:t,autoDestroy:true,autoCreated:true,expanded:p})}if(Ext.isString(s)){return this.get(s)}else{return Ext.Factory.store(s,v)}},getKey:function(f){return f.storeId},addEmptyStore:function(){var f=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:false});f.isEmptyStore=true;this.add(f)},clear:function(){this.callParent();this.addEmptyStore()}},0,0,0,0,0,0,[Ext.data,"StoreManager",Ext,"StoreMgr",Ext.data,"StoreMgr",Ext,"StoreManager"],function(){Ext.regStore=function(k,l){var m;if(Ext.isObject(k)){l=k}else{if(Ext.data.StoreManager.containsKey(k)){return Ext.data.StoreManager.lookup(k)}l.storeId=k}if(l instanceof Ext.data.Store){m=l}else{m=new Ext.data.Store(l)}Ext.data.StoreManager.register(m);return m};Ext.getStore=function(f){return Ext.data.StoreManager.lookup(f)};Ext.data.StoreManager.addEmptyStore()}));(Ext.cmd.derive("Ext.util.StoreHolder",Ext.Base,{mixinId:"storeholder",autoDestroyBoundStore:false,bindStore:function(p,o,q){q=q||"store";var n=this,m=o?null:n[q];if(p!==m){if(m){if(!n.onUnbindStore.$emptyFn){n.onUnbindStore(m,o,q)}if(!m.destroyed){if(n.autoDestroyBoundStore&&q==="store"&&m.autoDestroy){m.destroy()}else{n.unbindStoreListeners(m)}}}if(p){n[q]=p=Ext.data.StoreManager.lookup(p);n.bindStoreListeners(p);if(!n.onBindStore.$emptyFn){n.onBindStore(p,m,o)}}else{n[q]=null}if(n.fireEvent){n.fireEvent("storechange",n,p,m)}}return n},getStore:function(){return this.store},setStore:function(f){this.bindStore(f)},unbindStoreListeners:function(k){var g=this.storeListeners;if(g){k.un(g)}},bindStoreListeners:function(k){var g=this.getStoreListeners(k);if(g){g=Ext.apply({},g);if(!g.scope){g.scope=this}this.storeListeners=g;k.on(g)}},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"StoreHolder"],0));(Ext.cmd.derive("Ext.LoadMask",Ext.Component,{isLoadMask:true,msg:"Loading...",msgCls:"x-mask-loading",msgWrapCls:"x-mask-msg",useMsg:true,useTargetEl:false,cls:"x-mask",componentCls:"x-border-box",ariaRole:"progressbar",focusable:true,tabIndex:0,childEls:["msgWrapEl","msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgWrapEl" data-ref="msgWrapEl" class="{[values.$comp.msgWrapCls]}" role="presentation">','<div id="{id}-msgEl" data-ref="msgEl" class="{[values.$comp.msgCls]} ',"x-",'mask-msg-inner {childElCls}" role="presentation">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',"x-","mask-msg-text",'{childElCls}" role="presentation">{msg}</div>',"</div>","</div>"],maskOnDisable:false,skipLayout:true,constructor:function(l){var k=this,m;if(arguments.length===2){m=k.target=l;l=arguments[1]}else{m=l.target}Ext.Component.prototype.constructor.call(this,l);if(m.isComponent){k.ownerCt=m;k.hidden=true;k.renderTo=k.getMaskTarget();k.external=k.renderTo===Ext.getBody();k.bindComponent(m)}else{m=Ext.get(m);k.isElement=true;k.renderTo=k.target}k.render(k.renderTo);if(k.store){k.bindStore(k.store,true)}},initRenderData:function(){var f=Ext.Component.prototype.initRenderData.apply(this,arguments);f.msg=this.msg||"";return f},onRender:function(){Ext.Component.prototype.onRender.apply(this,arguments);this.maskEl=this.el},bindComponent:function(m){var k=this,l={scope:this,resize:k.sizeMask};if(k.external){l.added=k.onComponentAdded;l.removed=k.onComponentRemoved;if(m.floating){l.move=k.sizeMask;k.activeOwner=m}else{if(m.ownerCt){k.onComponentAdded(m.ownerCt)}}}k.mon(m,l);if(k.external){k.mon(Ext.GlobalEvents,{show:k.onContainerShow,hide:k.onContainerHide,expand:k.onContainerExpand,collapse:k.onContainerCollapse,scope:k})}},onComponentAdded:function(k){var g=this;delete g.activeOwner;g.floatParent=k;if(!k.floating){k=k.up("[floating]")}if(k){g.activeOwner=k;g.mon(k,"move",g.sizeMask,g);g.mon(k,"tofront",g.onOwnerToFront,g)}else{g.preventBringToFront=true}k=g.floatParent.ownerCt;if(g.rendered&&g.isVisible()&&k){g.floatOwner=k;g.mon(k,"afterlayout",g.sizeMask,g,{single:true})}},onComponentRemoved:function(o){var m=this,l=m.activeOwner,n=m.floatOwner;if(l){m.mun(l,"move",m.sizeMask,m);m.mun(l,"tofront",m.onOwnerToFront,m)}if(n){m.mun(n,"afterlayout",m.sizeMask,m)}delete m.activeOwner;delete m.floatOwner},afterRender:function(){var f=this;Ext.Component.prototype.afterRender.apply(this,arguments);if(Ext.isIE){f.el.on("mousedown",f.onMouseDown,f)}this.el.skipGarbageCollection=true},onMouseDown:function(e){var k=this.el;if(e.within(k)){e.preventDefault();k.focus()}},onOwnerToFront:function(k,g){this.el.setStyle("zIndex",g+1)},onContainerShow:function(f){if(!this.isHierarchicallyHidden()){this.onComponentShow()}},onContainerHide:function(f){if(this.isHierarchicallyHidden()){this.onComponentHide()}},onContainerExpand:function(f){if(!this.isHierarchicallyHidden()){this.onComponentShow()}},onContainerCollapse:function(f){if(this.isHierarchicallyHidden()){this.onComponentHide()}},onComponentHide:function(){var f=this;if(f.rendered&&f.isVisible()){f.hide();f.showNext=true}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var n=this,m=n.activeOwner||n.target,o=n.external?n.getOwner().el:n.getMaskTarget(),l;if(n.rendered&&n.isVisible()){if(n.external){if(!n.isElement&&m.floating){l=m.el.getZIndex();if(!isNaN(l)){n.onOwnerToFront(m,l)}}n.el.setSize(o.getSize()).alignTo(o,"tl-tl")}n.msgWrapEl.center(n.el)}},bindStore:function(m,l){var k=this;Ext.destroy(k.proxyListeners);k.mixins.storeholder.bindStore.apply(k,arguments);m=k.store;if(m){while(m.getSource){m=m.getSource()}if(!m.loadsSynchronously()){k.proxyListeners=m.getProxy().on({exception:k.onLoad,scope:k,destroyable:true})}if(m.isLoading()){k.onBeforeLoad()}}},getStoreListeners:function(n){var l=this.onLoad,m=this.onBeforeLoad,o={cachemiss:m,cachefilled:{fn:l,buffer:100}};if(!n.loadsSynchronously()){o.beforeload=m;o.load=l}return o},onDisable:function(){Ext.Component.prototype.onDisable.apply(this,arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var f=this.getOwner();if(this.isElement){return this.target}return this.useTargetEl?f.getTargetEl():(f.getMaskTarget()||Ext.getBody())},onBeforeLoad:function(){var k=this,m=k.getOwner(),l;if(!k.disabled){k.loading=true;if(m.componentLayoutCounter){k.maybeShow()}else{l=m.afterComponentLayout;m.afterComponentLayout=function(){m.afterComponentLayout=l;l.apply(m,arguments);k.maybeShow()}}}},maybeShow:function(){var k=this,m=k.getOwner(),l;l=m.isVisible(true)&&(!k.isComponent||m.el.isVisible(true));if(!l){k.showNext=true}else{if(k.loading&&m.rendered){k.show()}}},hide:function(){var g=this,k=g.ownerCt;if(g.isElement){k.unmask();g.fireEvent("hide",this);return}if(k){k.updateMaskState(false,g)}delete g.showNext;return Ext.Component.prototype.hide.apply(this,arguments)},show:function(){var f=this;if(f.isElement){f.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);f.fireEvent("show",this);return}return Ext.Component.prototype.show.apply(this,arguments)},afterShow:function(){var g=this,k=g.ownerCt;g.loading=true;Ext.Component.prototype.afterShow.apply(this,arguments);k.updateMaskState(true,g);g.el.restoreTabbableState();g.syncMaskState()},syncMaskState:function(){var k=this,l=k.ownerCt,m=k.el;if(k.isVisible()){if(k.hasOwnProperty("msgWrapCls")){m.dom.className=k.msgWrapCls}if(k.useMsg){k.msgTextEl.setHtml(k.msg);k.ariaEl.dom.setAttribute("aria-valuetext",k.msg)}else{k.msgWrapEl.hide()}if(k.shim||Ext.useShims){m.enableShim(null,true)}else{m.disableShim()}if(l.el.contains(Ext.Element.getActiveElement())){k.focus()}k.sizeMask()}},onLoad:function(){this.loading=false;this.hide()},doDestroy:function(){var f=this;f.ownerCt=null;f.bindStore(null);if(f.isElement){f.ownerCt.unmask()}Ext.Component.prototype.doDestroy.call(this)}},1,["loadmask"],["component","box","loadmask"],{component:true,box:true,loadmask:true},["widget.loadmask"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext,"LoadMask"],0));(Ext.cmd.derive("Ext.util.Bag",Ext.Base,{isBag:true,constructor:function(){this.items=[];this.map={}},generation:0,length:0,beginUpdate:Ext.emptyFn,endUpdate:Ext.emptyFn,add:function(D){var F=this,n=F.items,C=F.map,z=1,y,w,E,A,x,v,B;if(Ext.isArray(D)){y=v=[];z=D.length}for(w=0;w<z;w++){A=F.getKey(x=y?D[w]:D);E=C[A];if(E===undefined){n.push(x);C[A]=F.length++;if(y){y.push(x)}else{v=x}}else{B=n[E];if(y){y.push(B)}else{v=B}n[E]=x}}++F.generation;return v},clear:function(){var k=this,l=k.generation||k.length,m=l?k.items:[];if(l){k.items=[];k.length=0;k.map={};++k.generation}return m},clone:function(){var k=this,l=new k.self(),m=k.length;if(m){Ext.apply(l.map,k.map);l.items=k.items.slice();l.length=k.length}return l},contains:function(m){var o=false,l=this.map,n;if(m!=null){n=this.getKey(m);if(n in l){o=this.items[l[n]]===m}}return o},containsKey:function(f){return f in this.map},destroy:function(){this.items=this.map=null;this.callParent()},each:function(n,o){var s=this.items,t=s.length,p,q;if(t){o=o||this;s=s.slice(0);for(p=0;p<t;p++){q=n.call(o,s[p],p,t);if(q===false){break}}}return q},getAt:function(g){var k=null;if(g<this.length){k=this.items[g]}return k},get:function(f){return this.getByKey(f)},getByKey:function(l){var k=this.map,m=(l in k)?this.items[k[l]]:null;return m},indexOfKey:function(l){var k=this.map,m=(l in k)?k[l]:-1;return m},last:function(){return this.items[this.length-1]},updateKey:function(p,n){var q=this,o=q.map,m;if(!p||!n){return}if((m=q.getKey(p))!==n){if(q.getAt(o[n])===p&&!(m in o)){q.generation++;o[m]=o[n];delete o[n]}}},getCount:function(){return this.length},getKey:function(f){return f.id||f.getId()},getRange:function(n,q){var o=this.items,m=o.length,p;if(!m){p=[]}else{p=Ext.Number.clipIndices(m,[n,q]);p=o.slice(p[0],p[1])}return p},remove:function(E){var H=this,D=H.map,n=H.items,w=null,A=1,x,z,y,G,B,F,C;if(Ext.isArray(E)){A=E.length;z=w=[]}if(H.length){for(y=0;y<A;y++){G=D[B=H.getKey(z?E[y]:E)];if(G!==undefined){delete D[B];C=n[G];if(z){z.push(C)}else{w=C}F=n.pop();if(G<--H.length){n[G]=F;D[H.getKey(F)]=G}x=true}}if(x){++H.generation}}return w},removeByKey:function(k){var g=this.getByKey(k);if(g){this.remove(g)}return g||null},replace:function(f){this.add(f);return f},sort:function(p){var n=this,q=n.items,m=q.length,o;if(m){Ext.Array.sort(q,p);n.map={};while(m-->0){o=q[m];n.map[n.getKey(o)]=m}++n.generation}}},1,0,0,0,0,0,[Ext.util,"Bag"],0));(Ext.cmd.derive("Ext.selection.Model",Ext.mixin.Observable,{alternateClassName:"Ext.AbstractSelectionModel",factoryConfig:{defaultType:"dataviewmodel"},$configPrefixed:false,$configStrict:false,config:{store:null,selected:{}},isSelectionModel:true,allowDeselect:undefined,toggleOnClick:true,ordered:false,selected:null,pruneRemoved:true,suspendChange:0,ignoreRightMouseSelection:false,constructor:function(k){var g=this;g.modes={SINGLE:true,SIMPLE:true,MULTI:true};Ext.mixin.Observable.prototype.constructor.call(this,k);g.setSelectionMode(g.mode);if(g.selectionMode!=="SINGLE"){g.allowDeselect=true}},updateStore:function(k,g){this.bindStore(k,!g)},applySelected:function(f){if(!f.isBag&&!f.isCollection){f=new Ext.util[this.ordered?"Collection":"Bag"](Ext.apply({rootProperty:"data"},f))}return f},getStoreListeners:function(){var f=this;return{add:f.onStoreAdd,clear:f.onStoreClear,remove:f.onStoreRemove,update:f.onStoreUpdate,idchanged:f.onIdChanged,load:f.onStoreLoad,refresh:f.onStoreRefresh,pageadd:f.onPageAdd,pageremove:f.onPageRemove}},onBindStore:function(m,k,l){if(!l){this.updateSelectedInstances(this.selected)}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(o){var m=this,n=m.store.getRange(),l=m.getSelection().length;m.suspendChanges();m.doSelect(n,true,o);if(!m.destroyed){m.resumeChanges();if(!o){m.maybeFireSelectionChange(m.getSelection().length!==l)}}},deselectAll:function(l){var u=this,y=u.getSelection(),t={},s=u.store,z=y.length,v,x,w;for(v=0,x=y.length;v<x;v++){w=y[v];t[w.id]=s.indexOf(w)}y=Ext.Array.sort(y,function(g,e){var f=t[g.id],k=t[e.id];return f<k?-1:1});u.suspendChanges();u.doDeselect(y,l);if(!u.destroyed){u.resumeChanges();if(!l){u.maybeFireSelectionChange(u.getSelection().length!==z)}}},getSelectionStart:function(){return this.selectionStart},setSelectionStart:function(f){this.selectionStart=f},selectWithEvent:function(p,e){var n=this,o=n.isSelected(p),q=e.shiftKey;switch(n.selectionMode){case"MULTI":n.selectWithEventMulti(p,e,o);break;case"SIMPLE":n.selectWithEventSimple(p,e,o);break;case"SINGLE":n.selectWithEventSingle(p,e,o);break}if(n.destroyed){return}if(!q){if(n.isSelected(p)){n.selectionStart=p}else{n.selectionStart=null}}},vetoSelection:function(e){if(e.stopSelection){return true}else{if(e.type!=="keydown"&&e.button!==0){if(this.ignoreRightMouseSelection||this.isSelected(e.record)){return true}}else{return e.type==="mousedown"}}},onNavigate:function(y){if(!y.record||this.vetoSelection(y.keyEvent)){return}this.onBeforeNavigate(y);var e=this,x=y.keyEvent,D=x.ctrlKey||y.ctrlKey,A=y.recordIndex,z=y.record,G=y.previousRecord,C=e.isSelected(z),I=(e.selectionStart&&e.isSelected(y.previousRecord))?e.selectionStart:(e.selectionStart=y.previousRecord),E=y.previousRecordIndex,H=x.getCharCode(),F=H===x.SPACE,B=y.record!==y.previousRecord,J=H===x.UP||H===x.PAGE_UP||H===x.HOME||(H===x.LEFT&&B)?"up":(H===x.DOWN||H===x.PAGE_DOWN||H===x.END||(H===x.RIGHT&&B)?"down":null);switch(e.selectionMode){case"MULTI":e.setSelectionStart(y.selectionStart);if(H===x.A&&D){e.selected.beginUpdate();e.selectRange(0,e.store.getCount()-1);e.selected.endUpdate()}else{if(F){if(x.shiftKey){e.selectRange(I,z,D)}else{if(C){if(e.allowDeselect){e.doDeselect(z)}}else{e.doSelect(z,D)}}}else{if(x.shiftKey&&I){if(J==="up"&&E<=A){e.deselectRange(G,A+1)}else{if(J==="down"&&E>=A){e.deselectRange(G,A-1)}else{if(I!==z){e.selectRange(I,z,D)}}}e.lastSelected=z}else{if(H){if(!D){e.doSelect(z,false)}}else{e.selectWithEvent(z,x)}}}}break;case"SIMPLE":if(H===x.A&&D){e.selected.beginUpdate();e.selectRange(0,e.store.getCount()-1);e.selected.endUpdate()}else{if(C){e.doDeselect(z)}else{e.doSelect(z,true)}}break;case"SINGLE":if(!D){if(J){e.doSelect(z,false)}else{if(F||!H){e.selectWithEvent(z,x)}}}}if(!x.shiftKey&&!e.destroyed&&e.isSelected(z)){e.selectionStart=z;e.selectionStartIdx=A}},selectRange:function(H,B,G){var x=this,v=x.store,C=x.selected.items,F,z,y,A,E,w,D;if(x.isLocked()){return}F=x.normalizeRowRange(H,B);H=F[0];B=F[1];A=[];for(z=H;z<=B;z++){if(!x.isSelected(v.getAt(z))){A.push(v.getAt(z))}}if(!G){E=[];x.suspendChanges();for(z=0,y=C.length;z<y;++z){D=C[z];w=v.indexOf(D);if(w<H||w>B){E.push(D)}}for(z=0,y=E.length;z<y;++z){x.doDeselect(E[z]);if(x.destroyed){break}}if(!x.destroyed){x.resumeChanges()}}if(!x.destroyed){if(A.length){x.doMultiSelect(A,true)}else{if(E){x.maybeFireSelectionChange(E.length>0)}}}},deselectRange:function(q,s){var w=this,t=w.store,v,x,p,u;if(w.isLocked()){return}v=w.normalizeRowRange(q,s);q=v[0];s=v[1];p=[];for(x=q;x<=s;x++){u=t.getAt(x);if(w.isSelected(u)){p.push(u)}}if(p.length){w.doDeselect(p)}},normalizeRowRange:function(m,n){var o=this.store,l;if(!Ext.isNumber(m)){m=o.indexOf(m)}m=Math.max(0,m);if(!Ext.isNumber(n)){n=o.indexOf(n)}n=Math.min(n,o.getCount()-1);if(m>n){l=n;n=m;m=l}return[m,n]},select:function(l,k,m){if(Ext.isDefined(l)&&!(Ext.isArray(l)&&!l.length)){this.doSelect(l,k,m)}},deselect:function(g,k){this.doDeselect(g,k)},doSelect:function(o,m,p){var n=this,q;if(n.locked||o==null){return}if(typeof o==="number"){q=n.store.getAt(o);if(!q){return}o=[q]}if(n.selectionMode==="SINGLE"){if(o.isModel){o=[o]}if(o.length){n.doSingleSelect(o[0],p)}}else{n.doMultiSelect(o,m,p)}},doMultiSelect:function(C,t,u){var w=this,B=w.selected,v=false,D,z,x,y,A;if(w.locked){return}C=!Ext.isArray(C)?[C]:C;x=C.length;if(!t&&B.getCount()>0){D=w.deselectDuringSelect(C,u);if(w.destroyed){return}if(D[0]){w.maybeFireSelectionChange(D[1]>0&&!u);return}else{v=D[1]>0}}A=function(){if(!B.getCount()){w.selectionStart=y}if(!u){B.add(y)}v=true};for(z=0;z<x;z++){y=C[z];if(w.isSelected(y)){continue}w.onSelectChange(y,true,u,A);if(w.destroyed){return}}w.lastSelected=y;if(u){B.add(C)}w.maybeFireSelectionChange(v&&!u)},deselectDuringSelect:function(w,s){var t=this,z=t.selected.getRange(),u=z.length,x=0,v=false,q,y;t.suspendChanges();t.deselectingDuringSelect=true;for(y=0;y<u;++y){q=z[y];if(!Ext.Array.contains(w,q)){if(t.doDeselect(q,s)){++x}else{v=true}}if(t.destroyed){v=true;x=0;break}}t.deselectingDuringSelect=false;if(!t.destroyed){t.resumeChanges()}return[v,x]},doDeselect:function(B,t){var u=this,A=u.selected,y=0,v,x,s=0,w=0,z;if(u.locked||!u.store){return false}if(typeof B==="number"){x=u.store.getAt(B);if(!x){return false}B=[x]}else{if(!Ext.isArray(B)){B=[B]}}z=function(){++w;if(!t){A.remove(x)}if(x===u.selectionStart){u.selectionStart=null}};v=B.length;u.suspendChanges();for(;y<v;y++){x=B[y];if(u.isSelected(x)){if(u.lastSelected===x){u.lastSelected=A.last()}++s;u.onSelectChange(x,false,t,z);if(u.destroyed){return false}}}u.resumeChanges();if(t){A.remove(B)}u.maybeFireSelectionChange(w>0&&!t);return w===s},doSingleSelect:function(t,s){var p=this,n=false,q=p.selected,o;if(p.locked){return}if(p.isSelected(t)){return}o=function(){if(q.getCount()){p.suspendChanges();var e=p.deselectDuringSelect([t],s);if(p.destroyed){return}p.resumeChanges();if(e[0]){return false}}p.lastSelected=t;if(!q.getCount()){p.selectionStart=t}q.add(t);n=true};p.onSelectChange(t,true,s,o);if(n&&!p.destroyed){p.maybeFireSelectionChange(!s)}},maybeFireSelectionChange:function(k){var g=this;if(k&&!g.suspendChange){g.fireEvent("selectionchange",g,g.getSelection())}},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(f){f=f?f.toUpperCase():"SINGLE";this.selectionMode=this.modes[f]?f:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(f){this.locked=!!f},isRangeSelected:function(p,q){var n=this,s=n.store,o,t;t=n.normalizeRowRange(p,q);p=t[0];q=t[1];for(o=p;o<=q;o++){if(!n.isSelected(s.getAt(o))){return false}}return true},isSelected:function(f){f=Ext.isNumber(f)?this.store.getAt(f):f;return this.selected?this.selected.contains(f):false},hasSelection:function(){var f=this.getSelected();return !!(f&&f.getCount())},refresh:function(){var v=this,F=v.store,z=[],w=[],A=v.getSelection(),y=A.length,C=v.getSelected(),H,x,E,G,D,B;if(!F||!(C.isCollection||C.isBag||C.isRows)||!C.getCount()){return}E=F.getData();if(E.getSource){x=E.getSource();if(x){E=x}}v.refreshing=true;C.beginUpdate();v.suspendChanges();for(B=0;B<y;B++){G=A[B];D=E.get(G.getId());if(D){z.push(D)}else{if(!v.pruneRemoved){w.push(G)}}if(v.mode==="SINGLE"&&w.length){break}}if(C.getCount()!==(z.length+w.length)){H=true}v.clearSelections();if(z.length){v.doSelect(z,false,true)}if(w.length){C.add(w);if(!v.lastSelected){v.lastSelected=w[w.length-1]}}v.resumeChanges();if(H){C.endUpdate()}else{C.updating--}v.refreshing=false;v.maybeFireSelectionChange(H)},clearSelections:function(){var f=this.getSelected();if(f){f.clear()}this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if((!this.store.isLoading()||this.store.clearing)&&this.hasSelection()){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(t,A,x,s){var u=this,B=A,y,w,z,v;if(u.selectionStart&&Ext.Array.contains(A,u.selectionStart)){u.selectionStart=null}if(s||u.locked||!u.pruneRemoved){return}v=t.isMoving(null,true);if(v){B=null;for(y=0,w=A.length;y<w;++y){z=A[y];if(!v[z.id]){(B||(B=[])).push(z)}}}if(B){u.deselect(B)}},onPageRemove:function(l,m,k){this.onStoreRemove(this.store,k)},onPageAdd:function(p,q,o){var t=o.length,n,s;for(n=0;n<t;n++){s=o[n];if(this.selected.get(s.id)){this.selected.replace(s)}}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){var f=this;f.clearSelections();f.bindStore(null);f.selected=Ext.destroy(f.selected);Ext.mixin.Observable.prototype.destroy.call(this)},onStoreUpdate:Ext.emptyFn,onIdChanged:function(o,l,m,n){this.selected.updateKey(l,m)},onStoreRefresh:function(){this.updateSelectedInstances(this.selected)},updateSelectedInstances:function(z){var v=this,F=v.getStore(),u=v.lastSelected,D=0,B=v.pruneRemovedOnRefresh(),w,C,y,E,A,x;if(F&&F.isBufferedStore){return}w=z.getRange();C=w.length;if(u){v.lastSelected=F.getById(u.id);x=v.lastSelected!==u}v.refreshing=true;if(F){for(y=0;y<C;++y){E=w[y];A=F.getById(E.id);if(A){if(A!==E){z.add(A)}}else{if(B){z.remove(E);++D}}}}else{D=z.getCount();z.removeAll()}v.refreshing=false;v.maybeFireSelectionChange(D>0);if(x){v.fireEvent("lastselectedchanged",v,v.getSelection(),u)}},pruneRemovedOnRefresh:function(){return this.pruneRemoved},onStoreLoad:Ext.emptyFn,onSelectChange:function(t,p,q,n){var o=this,s=p?"select":"deselect";if((q||o.fireEvent("before"+s,o,t))!==false&&n()!==false){if(!q&&!o.destroyed){o.fireEvent(s,o,t)}}},onEditorKey:Ext.emptyFn,beforeViewRender:function(f){Ext.Array.include(this.views||(this.views=[]),f)},onHeaderClick:Ext.emptyFn,resolveListenerScope:function(k){var m=this.view,l;if(m){l=m.resolveSatelliteListenerScope(this,k)}return l||Ext.mixin.Observable.prototype.resolveListenerScope.call(this,k)},bindComponent:Ext.emptyFn,privates:{onBeforeNavigate:Ext.privateFn,getLastSelected:function(){return this.lastSelected},selectWithEventMulti:function(v,F,z){var E=this,y=F.shiftKey,C=F.ctrlKey,A=y?(E.getSelectionStart()):null,x=E.getSelection(),e=x.length,B,w,D;if(y&&A){E.selectRange(A,v,C)}else{if(C&&z){if(E.allowDeselect){E.doDeselect(v,false)}}else{if(C){E.doSelect(v,true,false)}else{if(z&&!y&&!C&&e>1){if(E.allowDeselect){B=[];for(w=0;w<e;++w){D=x[w];if(D!==v){B.push(D)}}E.doDeselect(B)}}else{if(!z){E.doSelect(v,false)}}}}}},selectWithEventSimple:function(m,e,l){if(l){this.doDeselect(m)}else{this.doSelect(m,true)}},selectWithEventSingle:function(p,e,o){var n=this,q=n.allowDeselect;if(q&&!e.ctrlKey){q=n.toggleOnClick}if(q&&o){n.doDeselect(p)}else{n.doSelect(p,false)}}}},1,0,0,0,["selection.abstract"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.selection,"Model",Ext,"AbstractSelectionModel"],0));(Ext.cmd.derive("Ext.selection.DataViewModel",Ext.selection.Model,{deselectOnContainerClick:true,bindComponent:function(m){var k=this,l;if(k.view!==m){if(k.view){k.navigationModel=null;Ext.destroy(k.viewListeners,k.navigationListeners)}k.view=m;if(m){l=k.getViewListeners();l.scope=k;l.destroyable=true;k.navigationModel=m.getNavigationModel();k.viewListeners=m.on(l);k.navigationListeners=k.navigationModel.on({navigate:k.onNavigate,scope:k,destroyable:true})}}},getViewListeners:function(){var k=this,g={};g[k.view.triggerCtEvent]=k.onContainerClick;return g},onUpdate:function(g){var k=this.view;if(k&&this.isSelected(g)){k.onItemSelect(g)}},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},onSelectChange:function(u,p,q,w){var x=this,v=x.view,s=p?"select":"deselect",t=x.store.indexOf(u);if((q||x.fireEvent("before"+s,x,u,t))!==false&&w()!==false){if(v&&!v.destroyed){if(p){v.onItemSelect(u)}else{v.onItemDeselect(u)}}if(!q&&!x.destroyed){x.fireEvent(s,x,u,t)}}},destroy:function(){this.bindComponent();Ext.destroy(this.keyNav);Ext.selection.Model.prototype.destroy.call(this)}},0,0,0,0,["selection.dataviewmodel"],0,[Ext.selection,"DataViewModel"],0));(Ext.cmd.derive("Ext.view.NavigationModel",Ext.Base,{config:{store:null},focusCls:"x-view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(f){if(this.view!==f){this.view=f;this.bindView(f)}},bindView:function(o){var m=this,l=o.dataSource,n;m.initKeyNav(o);if(!l.isEmptyStore){m.setStore(l)}n=m.getViewListeners();n.destroyable=true;m.viewListeners=m.viewListeners||[];m.viewListeners.push(o.on(n))},updateStore:function(f){this.mixins.storeholder.bindStore.apply(this,[f])},getViewListeners:function(){var f=this;return{containermousedown:f.onContainerMouseDown,itemmousedown:f.onItemMouseDown,itemclick:f.onItemClick,itemcontextmenu:f.onItemMouseDown,scope:f}},initKeyNav:function(k){var g=this;g.keyNav=new Ext.util.KeyNav({target:k,ignoreInputFields:true,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:g.processViewEvent,up:g.onKeyUp,down:g.onKeyDown,right:g.onKeyRight,left:g.onKeyLeft,pageDown:g.onKeyPageDown,pageUp:g.onKeyPageUp,home:g.onKeyHome,end:g.onKeyEnd,space:g.onKeySpace,enter:g.onKeyEnter,A:{ctrl:true,handler:g.onSelectAllKeyPress},scope:g})},processViewEvent:function(p,q,m,o,n){return n},addKeyBindings:function(f){this.keyNav.addBindings(f)},enable:function(){this.keyNav.enable();this.disabled=false},disable:function(){this.keyNav.disable();this.disabled=true},onContainerMouseDown:function(k,g){if(Ext.getScrollbarSize().width){if(!k.el.getClientRegion().contains(g.getPoint())){g.preventDefault();k.lastFocused="scrollbar"}}},onItemMouseDown:function(p,q,m,n,o){if(o.pointerType!=="touch"){this.setPosition(n)}},onItemClick:function(o,p,m,n,q){if(this.record===p){this.fireNavigateEvent(q)}else{this.setPosition(n,q)}},setPosition:function(A,w,D,z,v){var u=this,t=u.view,y=t.getSelectionModel(),C=t.dataSource,x,B;if(A==null||!t.all.getCount()){u.record=u.recordIndex=null}else{if(typeof A==="number"){B=Math.max(Math.min(A,C.getCount()-1),0);x=C.getAt(A)}else{if(A.isEntity){x=C.getById(A.id);B=C.indexOf(x);if(B===-1){x=C.getAt(0);B=0}}else{if(A.tagName){x=t.getRecord(A);B=C.indexOf(x)}else{x=B=null}}}}if(x===u.record){u.recordIndex=B;return u.focusPosition(B)}if(u.item){u.item.removeCls(u.focusCls)}u.previousRecordIndex=u.recordIndex;u.previousRecord=u.record;u.previousItem=u.item;u.recordIndex=B;u.record=x;z=z||u.record===u.lastFocused;if(x){u.focusPosition(u.recordIndex)}else{if(!v){u.item=null}}if(!D){y.fireEvent("focuschange",y,u.previousRecord,u.record)}if(!z&&w){u.fireNavigateEvent(w)}},focusPosition:function(k){var g=this;if(k!=null&&k!==-1){if(k.isEntity){k=g.view.dataSource.indexOf(k)}g.item=g.view.all.item(k);if(g.item){g.lastFocused=g.record;g.lastFocusedIndex=g.recordIndex;g.focusItem(g.item)}else{g.record=null}}else{g.item=null}},focusItem:function(f){f.addCls(this.focusCls);f.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){if(this.view.dataSource.indexOf(this.lastFocused)===-1){return null}return this.lastFocused},onKeyUp:function(g){var k=this.recordIndex-1;if(k<0){k=this.view.all.getCount()-1}this.setPosition(k,g)},onKeyDown:function(g){var k=this.recordIndex+1;if(k>this.view.all.getCount()-1){k=0}this.setPosition(k,g)},onKeyRight:function(g){var k=this.recordIndex+1;if(k>this.view.all.getCount()-1){k=0}this.setPosition(k,g)},onKeyLeft:function(g){var k=this.recordIndex-1;if(k<0){k=this.view.all.getCount()-1}this.setPosition(k,g)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(f){this.setPosition(0,f)},onKeyEnd:function(f){this.setPosition(this.view.all.getCount()-1,f)},onKeySpace:function(f){this.fireNavigateEvent(f)},onKeyEnter:function(f){f.stopEvent();f.view.fireEvent("itemclick",f.view,f.record,f.item,f.recordIndex,f)},onSelectAllKeyPress:function(f){this.fireNavigateEvent(f)},fireNavigateEvent:function(g){var k=this;k.fireEvent("navigate",{navigationModel:k,keyEvent:g,previousRecordIndex:k.previousRecordIndex,previousRecord:k.previousRecord,previousItem:k.previousItem,recordIndex:k.recordIndex,record:k.record,item:k.item})},destroy:function(){this.setStore(null);Ext.destroy(this.viewListeners,this.keyNav);this.callParent()}},1,0,0,0,["view.navigation.default"],[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,"NavigationModel"],0));(Ext.cmd.derive("Ext.view.AbstractView",Ext.Component,{isDataView:true,inheritableStatics:{getRecord:function(f){return this.getBoundView(f).getRecord(f)},getBoundView:function(f){return Ext.getCmp(f.getAttribute("data-boundView"))}},defaultBindProperty:"store",renderBuffer:document.createElement("div"),statics:{updateDelay:200,queueRecordChange:function(K,I,A,F,E){var L=this,G=L.changeQueue||(L.changeQueue={}),z=A.internalId,x,B,y,D,H,J,C;x=G[z]||(G[z]={operation:F,record:A,data:{},views:[]});B=x.data;Ext.Array.include(x.views,K);if(E&&(y=E.length)){for(D=0;D<y;D++){H=E[D];J=A.data[H];if(B.hasOwnProperty(H)){if(A.isEqual(B[H],J)){delete B[H];C=true}}else{B[H]=J}}if(C&&!Ext.Object.getKeys(B).length){delete G[z]}}else{Ext.apply(B,A.data)}if(!L.flushQueueTask){L.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(L.onFlushTick,L):Ext.Function.bind(L.onFlushTick,L),interval:Ext.view.AbstractView.updateDelay,repeat:1})}L.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var q=this,p,v,w,s,x,t,u;if(Ext.isScrolling){q.flushQueueTask.start();return}w=q.changeQueue;this.changeQueue={};for(x in w){s=w[x];p=s.views;v=p.length;for(t=0;t<v;t++){u=p[t];if(!u.destroyed){u.handleUpdate(u.dataSource,s.record,s.operation,Ext.Object.getKeys(s.data))}}}Ext.AnimationQueue.stop(q.flushChangeQueue,q)}},config:{selection:null,store:"ext-empty-store",navigationModel:{type:"default"},selectionModel:{type:"dataviewmodel"}},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:false,deferInitialRefresh:false,itemCls:"x-dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:"x-item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,preserveScrollOnReload:false,autoDestroyBoundStore:true,ariaRole:"listbox",itemAriaRole:"option",last:false,focusable:true,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:true,updateSuspendCounter:0,addCmpEvents:Ext.emptyFn,constructor:function(f){if(f&&f.selModel){f.selectionModel=f.selModel}Ext.Component.prototype.constructor.call(this,f)},initComponent:function(){var n=this,p=Ext.isDefined,m=n.itemTpl,o={},q;if(m){if(Ext.isArray(m)){if(typeof m[m.length-1]!=="string"){m=m.slice(0);o=m.pop()}m=m.join("")}else{if(Ext.isObject(m)){o=Ext.apply(o,m.initialConfig);m=m.html}}if(!n.itemSelector){n.itemSelector="."+n.itemCls}m=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',n.itemCls,m,n.itemAriaRole);n.tpl=new Ext.XTemplate(m,o)}Ext.Component.prototype.initComponent.call(this);n.tpl=n.lookupTpl("tpl");if(n.overItemCls){n.trackOver=true}n.addCmpEvents();q=n.store=Ext.data.StoreManager.lookup(n.store||"ext-empty-store");if(!n.dataSource){n.dataSource=q}n.bindStore(q,true);n.getNavigationModel().bindComponent(this);if(!n.all){n.all=new Ext.CompositeElementLite()}n.scrollState={top:0,left:0};n.savedTabIndexAttribute="data-savedtabindex-"+n.id},getElConfig:function(){var f=this.mixins.renderable.getElConfig.call(this);if(this.focusable){f.tabIndex=0}return f},onRender:function(l,m){var k=this.loadMask;Ext.Component.prototype.onRender.call(this,l,m);if(k){this.createMask(k)}},beforeLayout:function(){var f=this;Ext.Component.prototype.beforeLayout.call(this);if(f.refreshNeeded&&!f.pendingRefresh){if(f.refreshCounter){f.refreshView()}else{f.doFirstRefresh(f.dataSource)}}},onMaskBeforeShow:function(){var g=this,k=g.loadingHeight;if(k&&k>g.getHeight()){g.hasLoadingHeight=true;g.oldMinHeight=g.minHeight;g.minHeight=k;g.updateLayout()}},onMaskHide:function(){var f=this;if(!f.destroying&&f.hasLoadingHeight){f.minHeight=f.oldMinHeight;f.updateLayout();delete f.hasLoadingHeight}},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){Ext.Component.prototype.afterRender.call(this);if(this.focusable){this.focusEl=this.el}},getRefItems:function(){var g=this.loadMask,k=[];if(g&&g.isComponent){k.push(g)}return k},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(m){var l=this,k;if(!l.ignoreNextSelection){l.ignoreNextSelection=true;k=l.getSelectionModel();if(m){k.select(m)}else{k.deselectAll()}l.ignoreNextSelection=false}},updateBindSelection:function(o,m){var l=this,n=null;if(!l.ignoreNextSelection){l.ignoreNextSelection=true;if(m.length){n=o.getLastSelected();l.hasHadSelection=true}if(l.hasHadSelection){l.setSelection(n)}l.ignoreNextSelection=false}},applySelectionModel:function(t,o){var p=this,q=p.grid,v,s,u;if(o){if(!o.destroyed){o.un({scope:p,selectionchange:p.updateBindSelection,lastselectedchanged:p.updateBindSelection})}Ext.destroy(p.selModelRelayer);t=Ext.Factory.selection(t)}else{if(t&&t.isSelectionModel){t.locked=p.disableSelection}else{if(p.simpleSelect){v="SIMPLE"}else{if(p.multiSelect){v="MULTI"}else{v="SINGLE"}}if(typeof t==="string"){t={type:t}}t=Ext.Factory.selection(Ext.apply({allowDeselect:p.allowDeselect||p.multiSelect,mode:v,locked:p.disableSelection},t))}}if(t.mode!=="SINGLE"){u=(q||p).ariaEl.dom;if(u){u.setAttribute("aria-multiselectable",true)}else{if(!q){s=p.ariaRenderAttributes||(p.ariaRenderAttributes={});s["aria-multiselectable"]=true}}}p.selModelRelayer=p.relayEvents(t,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);t.on({scope:p,lastselectedchanged:p.updateBindSelection,selectionchange:p.updateBindSelection});return t},updateSelectionModel:function(f){this.selModel=f},applyNavigationModel:function(f){return Ext.Factory.viewNavigation(f)},onFocusEnter:function(e){var m=this,n=m.getNavigationModel(),o;if(o==="scrollbar"){e.relatedTarget.focus();return}m.toggleChildrenTabbability(false);if(!m.itemFocused&&m.all.getCount()){if(e.event.getTarget()===m.tabGuardEl){o=m.all.getCount()-1}else{o=n.getLastFocused()}n.setPosition(o||0,e.event,null,!o);m.itemFocused=n.getPosition()!=null}if(m.itemFocused){m.el.dom.setAttribute("tabIndex",-1);if(m.tabGuardEl){m.tabGuardEl.setAttribute("tabIndex",-1)}}Ext.Component.prototype.onFocusEnter.call(this,e)},onFocusLeave:function(e){var k=this;if(k.itemFocused&&!k.refreshing){k.getNavigationModel().setPosition(null,e.event,null,true);k.itemFocused=false;k.el.dom.setAttribute("tabIndex",0);if(k.tabGuardEl){k.tabGuardEl.setAttribute("tabIndex",0)}}Ext.Component.prototype.onFocusLeave.call(this,e)},onRemoved:function(f){Ext.Component.prototype.onRemoved.call(this,f);if(!f){this.onFocusLeave({})}},refresh:function(){var v=this,w=v.all,E=w.getCount(),x=v.refreshCounter,F,B,C,y=v.getSelectionModel(),z,A=x&&w.getCount()&&v.preserveScrollOnRefresh&&v.getScrollable(),u=v.bufferedRenderer,D;if(!v.rendered||v.destroyed){return}if(!v.hasListeners.beforerefresh||v.fireEvent("beforerefresh",v)!==false){v.refreshing=true;z=v.saveFocusState();F=v.getTargetEl();C=v.getViewRange();B=F.dom;if(A){D=A.getPosition();if(!(D.x||D.y)){D=null}}if(x){v.clearViewEl();v.refreshCounter++}else{v.refreshCounter=1}v.tpl.append(F,v.collectData(C,w.startIndex||0));if(C.length<1){v.addEmptyText();w.clear()}else{v.collectNodes(F.dom);v.updateIndexes(0)}z();if(v.refreshSelmodelOnRefresh!==false){y.refresh()}v.refreshNeeded=false;v.refreshSize(w.getCount()!==E);v.fireItemMutationEvent("refresh",v,C);if(A){A.scrollTo(D)}if(!v.viewReady){v.viewReady=true;v.fireEvent("viewready",v)}v.refreshing=false;if(u){u.refreshSize()}v.cleanupData()}if(!v.tabGuardEl){v.tabGuardEl=v.el.createChild({cls:"x-tab-guard x-tab-guard-after",tabIndex:"0"},null,true)}},addEmptyText:function(){var g=this,k=g.getStore();if(g.emptyText&&!k.isLoading()&&(!g.deferEmptyText||g.refreshCounter>1||k.isLoaded())){g.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",g.getTargetEl().dom,g.emptyText)}},getEmptyText:function(){return this.emptyText},setEmptyText:function(k){var g=this;if(g.emptyText!==k){g.emptyText=k;g.refresh()}return g},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(l){var m=this,n=m.getSizeModel(),o=m.getScrollable();if(n.height.shrinkWrap||n.width.shrinkWrap||l){m.updateLayout()}},afterFirstLayout:function(m,n){var l=this,o=l.getScrollable();if(o){o.on({scroll:l.onViewScroll,scrollend:l.onViewScrollEnd,scope:l,onFrame:!!Ext.global.requestAnimationFrame})}Ext.Component.prototype.afterFirstLayout.call(this,m,n)},clearViewEl:function(){var x=this,w=x.getTargetEl(),q=x.all,t=x.getStore(),s,u,p,v=x.getNodeContainer()===w;u=q.slice();p=[];for(s=q.startIndex;s<=q.endIndex;s++){p.push(t.getByInternalId(q.item(s,true).getAttribute("data-recordId")))}x.fireItemMutationEvent("itemremove",p,q.startIndex||0,u,x);x.clearEmptyEl();x.all.clear(!v);w=v?w.dom:x.getNodeContainer();if(w){w.innerHTML=""}},clearEmptyEl:function(){var f=this.emptyEl;if(f){Ext.removeNode(f)}this.emptyEl=null},onViewScroll:function(l,m,k){this.fireEvent("scroll",this,m,k)},onViewScrollEnd:function(l,m,k){this.fireEvent("scrollend",this,m,k)},saveScrollState:function(){var k=this,g=k.scrollState;if(k.rendered){g.left=k.getScrollX();g.top=k.getScrollY()}},restoreScrollState:function(){var k=this,g=k.scrollState;if(k.rendered){k.setScrollX(g.left);k.setScrollY(g.top)}},prepareData:function(o,p,q){var s,t,n;if(q){s=q.getAssociatedData();for(t in s){if(s.hasOwnProperty(t)){if(!n){o=Ext.Object.chain(o);n=true}o[t]=s[t]}}}return o},collectData:function(q,n){var o=[],p=0,t=q.length,s;for(;p<t;p++){s=q[p];o[p]=this.prepareData(s.data,n+p,s)}return o},cleanupData:Ext.emptyFn,bufferRender:function(s,q){var x=this,w=x.renderBuffer,u=document.createDocumentFragment(),t,v,p;x.tpl.overwrite(w,x.collectData(s,q));t=Ext.fly(w).query(x.getItemSelector());for(p=0,v=t.length;p<v;p++){u.appendChild(t[p])}return{fragment:u,children:t}},nodeContainerSelector:null,getNodeContainer:function(){var g=this.getTargetEl(),k=this.nodeContainerSelector;return k?g.down(k,true):g},setItemsDraggable:function(n){var m=this,o="#"+m.id+" "+m.getItemSelector(),l=m.viewStyleSheet;if(n){if(!l){l=Ext.view.AbstractView.prototype.viewStyleSheet=Ext.util.CSS.createStyleSheet("","AbstractView")}Ext.util.CSS.createRule(l,o,"touch-action: pinch-zoom double-tap-zoom;-ms-touch-action: pinch-zoom double-tap-zoom;-webkit-user-drag: none;")}else{if(l){Ext.util.CSS.deleteRule(o)}}},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(q,t,s,v,p){var o=this,u=p&&p.filtered;if(!u&&o.getNode(t)){if(o.throttledUpdate){o.statics().queueRecordChange(o,q,t,s,v)}else{o.handleUpdate(q,t,s,v,p)}}},handleUpdate:function(q,t){var n=this,p,o,s=n.getSelectionModel();if(n.viewReady&&!n.refreshNeeded){p=n.dataSource.indexOf(t);if(p>-1){if(n.getNode(t)){o=n.bufferRender([t],p).children[0];n.all.replaceElement(p,o,true);n.updateIndexes(p,p);s.onUpdate(t);n.refreshSizePending=true;if(s.isSelected(t)){n.onItemSelect(t)}if(n.hasListeners.itemupdate){n.fireEvent("itemupdate",t,p,o,n)}return o}}}},onReplace:function(x,K,F,E){var z=this,y=z.all,B=z.getSelectionModel(),J=K,H,I,A,G,L,D,C;if(z.rendered){H=z.bufferRender(E,K,true);A=H.fragment;G=H.children;I=y.item(K);if(I){y.item(K).insertSibling(A,"before",true)}else{z.appendNodes(A)}y.insert(K,G);if(F.length){C=z.saveFocusState()}K+=E.length;D=K+F.length-1;L=y.removeRange(K,D,true);if(z.refreshSelmodelOnRefresh!==false){B.refresh()}z.updateIndexes(K);z.fireItemMutationEvent("itemremove",F,J,L,z);z.fireItemMutationEvent("itemadd",E,J,G,z);C();z.refreshSize()}},onAdd:function(p,q,o){var n=this,s,t=n.getSelectionModel();if(n.rendered&&!n.refreshNeeded){if(n.all.getCount()===0){n.refresh();s=n.all.slice()}else{s=n.doAdd(q,o);if(n.refreshSelmodelOnRefresh!==false){t.refresh()}n.updateIndexes(o);n.refreshSizePending=true}n.fireItemMutationEvent("itemadd",q,o,s,n)}},appendNodes:function(m){var l=this.all,k=l.getCount();if(this.nodeContainerSelector){this.getNodeContainer().appendChild(m)}else{l.item(k-1).insertSibling(m,"after")}},doAdd:function(z,x){var v=this,s=v.bufferRender(z,x,true),w=s.fragment,A=s.children,u=v.all,y=u.getCount(),t=u.startIndex||0,B=u.endIndex||y-1;if(y===0||x>B){v.appendNodes(w)}else{if(x<=t){u.item(t).insertSibling(w,"before",true)}else{u.item(x).insertSibling(A,"before",true)}}u.insert(x,A);return A},onRemove:function(t,A,w){var v=this,D=v.all,u,z,y,C,B,x;if(v.rendered&&!v.refreshNeeded&&D.getCount()){if(v.dataSource.getCount()===0){v.refresh()}else{x=v.saveFocusState();C=[];for(z=A.length-1;z>=0;--z){y=A[z];u=w+z;if(C){B=D.item(u);C[z]=B?B.dom:undefined}if(D.item(u)){v.doRemove(y,u)}}v.fireItemMutationEvent("itemremove",A,w,C,v);x();v.updateIndexes(w)}v.refreshSizePending=true}},doRemove:function(k,g){this.all.removeElement(g,true)},eventLifecycleMap:{refresh:"onViewRefresh",itemremove:"onItemRemove",itemadd:"onItemAdd"},fireItemMutationEvent:function(m){var l=this,k=l.ownerGrid;if(k){l.ownerGrid[l.eventLifecycleMap[m]].apply(l.ownerGrid,Ext.Array.slice(arguments,1))}l.fireEvent.apply(l,arguments)},saveFocusState:function(){var o=this,s=o.dataSource||o.store,q=o.getNavigationModel(),p=q.recordIndex,n=q.record,t=o.el.contains(Ext.Element.getActiveElement());if(n){if(t){o.el.dom.focus()}return function(){if(s.getCount()){p=Math.min(p,o.all.getCount()-1);q.setPosition(s.contains(n)?n:p,null,null,true,!t)}}}return Ext.emptyFn},refreshNode:function(f){if(Ext.isNumber(f)){f=this.store.getAt(f)}this.onUpdate(this.dataSource,f)},updateIndexes:function(v,o){var t=this.all.elements,p,u=this.getViewRange(),q,s=this.id;v=v||0;o=o||((o===0)?0:(t.length-1));for(q=v;q<=o;q++){p=t[q];p.setAttribute("data-recordIndex",q);p.setAttribute("data-recordId",u[q].internalId);p.setAttribute("data-boundView",s)}},bindStore:function(p,o){var m=this,q=m.getSelectionModel(),n=m.getNavigationModel();if(q&&!q.destroyed){q.bindStore(p,o);q.bindComponent(p?m:null)}m.mixins.storeholder.bindStore.apply(m,arguments);if(n&&!n.destroyed){n.setStore(p)}if(p&&m.componentLayoutCounter&&!m.blockRefresh){m.doFirstRefresh(p,!o)}},doFirstRefresh:function(m,k){var l=this;if(l.deferInitialRefresh&&!k){Ext.defer(l.doFirstRefresh,1,l,[m,true])}else{if(m&&!l.deferRefreshForLoad(m)){l.refresh()}}},onUnbindStore:function(f){this.setMaskBind(null);if(this.dataSource===f){this.dataSource=null}},onBindStore:function(m,k){var l=this;if(l.store.isBufferedStore){l.store.preserveScrollOnReload=l.preserveScrollOnReload}if(k&&k.isBufferedStore){delete k.preserveScrollOnReload}l.setMaskBind(m);if(!l.dataSource){l.dataSource=m}},setMaskBind:function(g){var k=this.loadMask;if(this.rendered&&k&&g&&!k.bindStore){k=this.createMask()}if(k&&k.bindStore){k.bindStore(g)}},getStoreListeners:function(){var f=this;return{refresh:f.onDataRefresh,replace:f.onReplace,add:f.onAdd,remove:f.onRemove,update:f.onUpdate,clear:f.onDataRefresh,beginupdate:f.onBeginUpdate,endupdate:f.onEndUpdate}},onBeginUpdate:function(){++this.updateSuspendCounter;Ext.suspendLayouts()},onEndUpdate:function(){var f=this;if(f.updateSuspendCounter){--f.updateSuspendCounter}Ext.resumeLayouts(true);if(f.refreshSizePending){f.refreshSize(true);f.refreshSizePending=false}},onDataRefresh:function(m){var k=this,l=k.preserveScrollOnRefresh;if(m.loadCount>k.lastRefreshLoadCount){k.preserveScrollOnRefresh=k.preserveScrollOnReload}k.refreshView();k.preserveScrollOnRefresh=l;k.lastRefreshLoadCount=m.loadCount},refreshView:function(m){var n=this,o=n.blockRefresh||!n.rendered||n.up("[collapsed],[isCollapsingOrExpanding],[hidden]"),l=n.bufferedRenderer;if(o){n.refreshNeeded=true}else{if(l){l.refreshView(m)}else{n.refresh()}}},findItemByChild:function(f){return Ext.fly(f).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(e){return e.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var n=[],o=this.getSelectionModel().getSelection(),l=o.length,m=0;for(;m<l;m++){n.push(this.getNode(o[m]))}return n},getRecords:function(o){var p=[],n=0,q=o.length,m=this.dataSource.data;for(;n<q;n++){p[p.length]=m.getByKey(o[n].getAttribute("data-recordId"))}return p},getRecord:function(f){return this.dataSource.getByInternalId(Ext.getDom(f).getAttribute("data-recordId"))},isSelected:function(g){var k=this.getRecord(g);return this.getSelectionModel().isSelected(k)},select:function(l,k,m){this.getSelectionModel().select(l,k,m)},deselect:function(g,k){this.getSelectionModel().deselect(g,k)},getNode:function(l){var k=this,m;if(k.rendered&&(l||l===0)){if(Ext.isString(l)){m=document.getElementById(l)}else{if(l.isModel){m=k.getNodeByRecord(l)}else{if(Ext.isNumber(l)){m=k.all.elements[l]}else{if(l.target&&l.target.nodeType){l=l.target}m=Ext.fly(l).findParent(k.itemSelector,k.getTargetEl())}}}}return m||null},getNodeByRecord:function(k){var g=this.store.indexOf(k);return this.all.elements[g]||null},getNodes:function(k,m){var l=this.all;if(m!==undefined){m++}return l.slice(k,m)},indexOf:function(f){f=this.getNode(f);if(!f&&f!==0){return -1}if(f.getAttribute("data-recordIndex")){return Number(f.getAttribute("data-recordIndex"))}return this.all.indexOf(f)},doDestroy:function(){var k=this,l=k.updateSuspendCounter,m=k.tabGuardEl;if(k.all&&!k.all.destroyed){k.all.clear()}if(m){if(m.parentNode){m.parentNode.removeChild(m)}}k.emptyEl=null;k.setItemsDraggable(false);k.bindStore(null);if(k.selModelRelayer){k.selModelRelayer.destroy()}Ext.destroy(k.navigationModel,k.selectionModel,k.loadMask);while(l--){Ext.resumeLayouts(true)}Ext.Component.prototype.doDestroy.call(this)},onItemSelect:function(k){var g=this.getNode(k);if(g){Ext.fly(g).addCls(this.selectedItemCls);g.setAttribute("aria-selected","true")}return g},onItemDeselect:function(k){var g=this.getNode(k);if(g){Ext.fly(g).removeCls(this.selectedItemCls);g.setAttribute("aria-selected","false")}return g},getItemSelector:function(){return this.itemSelector},addItemCls:function(l,m){var k=this.getNode(l);if(k){Ext.fly(k).addCls(m)}},removeItemCls:function(l,m){var k=this.getNode(l);if(k){Ext.fly(k).removeCls(m)}},setStore:function(k){var g=this;if(g.store!==k){if(g.isConfiguring){g.store=k}else{g.bindStore(k,false)}}},privates:{deferRefreshForLoad:function(f){return f.isLoading()},toggleChildrenTabbability:function(g){var k=this.getTargetEl();if(g){k.restoreTabbableState(true)}else{k.saveTabbableState({skipSelf:true,includeSaved:false})}},collectNodes:function(k){var l=this.all,m={role:this.itemAriaRole};l.fill(Ext.fly(k).query(this.getItemSelector()),l.startIndex||0);if(this.focusable){m.tabindex="-1"}l.set(m)},createMask:function(n){var l=this,m=l.getStore(),o;if(m&&!m.isEmptyStore&&!m.loadsSynchronously()){o={target:l,msg:l.loadingText,useMsg:l.loadingUseMsg,store:m};if(l.loadingCls){o.msgCls=l.loadingCls}if(Ext.isObject(n)){o=Ext.apply(o,n)}l.loadMask=new Ext.LoadMask(o);l.loadMask.on({scope:l,beforeshow:l.onMaskBeforeShow,hide:l.onMaskHide})}return l.loadMask},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)}}},1,0,["component","box"],{component:true,box:true},0,[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,"AbstractView"],function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(o,n,l){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var m=this.getSelectionModel();return m.select.apply(m,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var f=this.getSelectionModel();return f.deselectAll()}})})}));(Ext.cmd.derive("Ext.view.View",Ext.view.AbstractView,{alternateClassName:"Ext.DataView",inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,manageLayoutScroll:false,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var f=this;Ext.view.AbstractView.prototype.afterRender.call(this);f.mon(f.el,{scope:f,click:f.handleEvent,longpress:f.handleEvent,mousedown:f.handleEvent,mouseup:f.handleEvent,dblclick:f.handleEvent,contextmenu:f.handleEvent,keydown:f.handleEvent,keyup:f.handleEvent,keypress:f.handleEvent,mouseover:f.handleMouseOver,mouseout:f.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(e){var m=this,o=m.getTargetSelector(),n=e.getTarget(o);if(!m.destroyed){if(n){if(m.mouseOverItem!==n&&m.el.contains(n)){m.mouseOverItem=e.item=n;e.newType="mouseenter";m.handleEvent(e)}}else{m.handleEvent(e)}}},handleMouseOut:function(t){var o=this,q=o.getTargetSelector(),p=t.getTarget(q),e=t.getRelatedTarget(q),s;if((p===e)&&!(p===null&&e===null)){return}if(!o.destroyed){if(p&&(s=o.self.getBoundView(p))){t.item=p;t.newType="mouseleave";s.handleEvent(t);s.mouseOverItem=null}else{o.handleEvent(t)}}},handleEvent:function(e){var l=this,m=l.keyEventRe.test(e.type);e.isInputFieldEvent=Ext.fly(e.target).isInputField();e.view=l;e.item=e.getTarget(l.itemSelector);if(e.item){e.record=l.getRecord(e.item)}if(l.processUIEvent(e)!==false&&!l.destroyed){l.processSpecialEvent(e)}if(m&&!e.isInputFieldEvent){if(e.getKey()===e.SPACE||e.isNavKeyPress(true)){e.preventDefault()}}e.view=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(w){if(!Ext.getBody().isAncestor(w.target)){return}var t=this,e=w.item,B=t.self,A=B.EventMap,v=B.TouchEventMap,x,y=w.record,u=w.type,z=u;if(w.newType){z=w.newType}if(e){z=v[z]||z;x=w.recordIndex=t.indexInStore?t.indexInStore(y):t.indexOf(e);if(!y||t.processItemEvent(y,e,x,w)===false){return false}if((t["onBeforeItem"+A[z]](y,e,x,w)===false)||(t.fireEvent("beforeitem"+z,t,y,e,x,w)===false)||(t["onItem"+A[z]](y,e,x,w)===false)){return false}t.fireEvent("item"+z,t,y,e,x,w)}else{u=v[u]||u;if((t.processContainerEvent(w)===false)||(t["onBeforeContainer"+A[u]](w)===false)||(t.fireEvent("beforecontainer"+u,t,w)===false)||(t["onContainer"+A[u]](w)===false)){return false}t.fireEvent("container"+u,t,w)}return true},onItemMouseEnter:function(o,m,n,e){if(this.trackOver){this.highlightItem(m)}},onItemMouseLeave:function(o,m,n,e){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(m){var n=this,o=n.highlightedItem,l=n.overItemCls;if(o!==m){if(o){Ext.fly(o).removeCls(l);if(Ext.isIE8){n.repaintBorder(o);n.repaintBorder(o.nextSibling)}if(n.hasListeners.unhighlightitem){n.fireEvent("unhighlightitem",n,o)}}n.highlightedItem=m;if(m){Ext.fly(m).addCls(n.overItemCls);if(Ext.isIE8){n.repaintBorder(m.nextSibling)}if(n.hasListeners.highlightitem){n.fireEvent("highlightitem",n,m)}}}},highlightItem:function(f){this.setHighlightedItem(f)},clearHighlight:function(){this.setHighlightedItem(undefined)},handleUpdate:function(s,t){var n=this,o,q,p;if(n.viewReady){o=n.getNode(t);q=Ext.view.AbstractView.prototype.handleUpdate.apply(this,arguments);p=n.highlightedItem;if(p&&p===o){delete n.highlightedItem;if(q){n.highlightItem(q)}}}},refresh:function(){this.clearHighlight();Ext.view.AbstractView.prototype.refresh.apply(this,arguments)},focusNode:function(w){var p=this,q=Ext.fly(p.getNode(w)),s=p.el,v=0,u=0,x=s.getRegion(),t;x.bottom=x.top+s.dom.clientHeight;x.right=x.left+s.dom.clientWidth;if(q){t=q.getRegion();if(t.top<x.top){v=t.top-x.top}else{if(t.bottom>x.bottom){v=t.bottom-x.bottom}}if(t.left<x.left){u=t.left-x.left}else{if(t.right>x.right){u=t.right-x.right}}if(u||v){p.scrollBy(u,v,false)}q.set({tabIndex:-1});q.focus()}},privates:{repaintBorder:function(g){var k=this.getNode(g);if(k){k.className=k.className}}}},0,["dataview"],["component","box","dataview"],{component:true,box:true,dataview:true},["widget.dataview"],0,[Ext.view,"View",Ext,"DataView"],0));(Ext.cmd.derive("Ext.view.BoundListKeyNav",Ext.view.NavigationModel,{navigateOnSpace:true,initKeyNav:function(m){var l=this,k=m.pickerField;if(!l.keyNav){Ext.view.NavigationModel.prototype.initKeyNav.call(this,m);l.keyNav.map.addBinding({key:Ext.event.Event.ESC,fn:l.onKeyEsc,scope:l})}if(!k){return}if(!k.rendered){k.on("render",Ext.Function.bind(l.initKeyNav,l,[m],0),l,{single:true});return}l.fieldKeyNav=new Ext.util.KeyNav({disabled:true,target:k.inputEl,forceKeyDown:true,up:l.onKeyUp,down:l.onKeyDown,right:l.onKeyRight,left:l.onKeyLeft,pageDown:l.onKeyPageDown,pageUp:l.onKeyPageUp,home:l.onKeyHome,end:l.onKeyEnd,tab:l.onKeyTab,space:l.onKeySpace,enter:l.onKeyEnter,A:{ctrl:true,handler:l.onSelectAllKeyPress},priority:1001,scope:l})},processViewEvent:function(p,q,m,o,n){if(n.within(p.listWrap)){return n}if(n.getKey()===n.ESC){if(Ext.fly(n.target).isInputField()){n.target=n.target.parentNode}return n}},enable:function(){this.fieldKeyNav.enable();Ext.view.NavigationModel.prototype.enable.call(this)},disable:function(){this.fieldKeyNav.disable();Ext.view.NavigationModel.prototype.disable.call(this)},onItemMouseDown:function(p,q,m,o,n){Ext.view.NavigationModel.prototype.onItemMouseDown.call(this,p,q,m,o,n);if(n.pointerType==="mouse"){n.preventDefault()}},onKeyUp:function(u){var e=this,s=e.view,p=s.all,v=s.highlightedItem,q=v?s.indexOf(v):-1,t=q>0?q-1:p.getCount()-1;e.setPosition(t);u.preventDefault()},onKeyDown:function(u){var e=this,s=e.view,p=s.all,v=s.highlightedItem,q=v?s.indexOf(v):-1,t=q<p.getCount()-1?q+1:0;e.setPosition(t);u.preventDefault()},onKeyLeft:Ext.returnTrue,onKeyRight:Ext.returnTrue,onKeyTab:function(e){var m=this.view,l=m.pickerField;if(m.isVisible()){if(l.selectOnTab){this.selectHighlighted(e)}if(l.collapse){l.collapse()}}return true},onKeyEnter:function(e){var q=this.view,p=q.getSelectionModel(),n=q.pickerField,o=p.getCount();e.stopEvent();this.selectHighlighted(e);if(!n.multiSelect&&o===p.getCount()&&n.collapse){n.collapse()}n.fireEvent("specialkey",n,e,{fromBoundList:true});return false},onKeySpace:function(){if(this.navigateOnSpace){Ext.view.NavigationModel.prototype.onKeySpace.apply(this,arguments)}return true},onKeyEsc:function(){if(this.view.pickerField){this.view.pickerField.collapse()}},focusItem:function(k){var l=this,m=l.view;if(typeof k==="number"){k=m.all.item(k)}if(k){k=k.dom;m.highlightItem(k);m.getScrollable().scrollIntoView(k,false)}},selectHighlighted:function(t){var e=this,q=e.view,s=q.getSelectionModel(),p,o=e.recordIndex;if(q.all.getCount()){p=e.getRecord();if(p){if(t.getKey()===t.ENTER||!s.isSelected(p)){s.selectWithEvent(p,t);if(!q.store.data.contains(p)){e.setPosition(Math.min(o,q.store.getCount()-1))}}}}},destroy:function(){this.fieldKeyNav=Ext.destroy(this.fieldKeyNav);Ext.view.NavigationModel.prototype.destroy.call(this)}},0,0,0,0,["view.navigation.boundlist"],0,[Ext.view,"BoundListKeyNav"],0));(Ext.cmd.derive("Ext.layout.component.BoundList",Ext.layout.component.Auto,{type:"component",beginLayout:function(l){var m=this,o=m.owner,n=o.pagingToolbar;m.scrollPos=o.listWrap.getScroll();Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(o.floating){l.savedXY=o.getXY();o.setXY([0,-9999])}if(n){l.toolbarContext=l.context.getCmp(n)}l.listContext=l.getEl("listWrap")},beginLayoutCycle:function(g){var k=this.owner;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(g.heightModel.auto){k.el.setHeight("auto");k.listWrap.setHeight("auto")}},getLayoutItems:function(){var f=this.owner.pagingToolbar;return f?[f]:[]},isValidParent:function(){return true},finishedLayout:function(p){var q=this,o=p.savedXY,t=q.owner,s=t.listWrap,n=q.scrollPos;Ext.layout.component.Auto.prototype.finishedLayout.apply(this,arguments);if(o){q.owner.setXY(o)}s.setScrollLeft(n.left);s.setScrollTop(n.top)},measureContentWidth:function(f){return this.owner.listWrap.getWidth()},measureContentHeight:function(f){return this.owner.listWrap.getHeight()},publishInnerHeight:function(m,o){var n=m.toolbarContext,l=0;if(n){l=n.getProp("height")}if(l===undefined){this.done=false}else{m.listContext.setHeight(o-m.getFrameInfo().height-l)}},calculateOwnerHeightFromContentHeight:function(k){var m=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),l=k.toolbarContext;if(l){m+=l.getProp("height")}return m}},0,0,0,0,["layout.boundlist"],0,[Ext.layout.component,"BoundList"],0));(Ext.cmd.derive("Ext.toolbar.Item",Ext.Component,{alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn},0,["tbitem"],["component","box","tbitem"],{component:true,box:true,tbitem:true},["widget.tbitem"],0,[Ext.toolbar,"Item",Ext.Toolbar,"Item"],0));(Ext.cmd.derive("Ext.toolbar.TextItem",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.TextItem",text:"",baseCls:"x-toolbar-text",ariaRole:null,beforeRender:function(){var f=this.text;Ext.toolbar.Item.prototype.beforeRender.call(this);if(f){this.html=f}},setText:function(f){this.update(f)}},0,["tbtext"],["component","box","tbitem","tbtext"],{component:true,box:true,tbitem:true,tbtext:true},["widget.tbtext"],0,[Ext.toolbar,"TextItem",Ext.Toolbar,"TextItem"],0));(Ext.cmd.derive("Ext.form.trigger.Spinner",Ext.form.trigger.Trigger,{cls:"x-form-trigger-spinner",spinnerCls:"x-form-spinner",spinnerUpCls:"x-form-spinner-up",spinnerDownCls:"x-form-spinner-down",focusCls:"x-form-spinner-focus",overCls:"x-form-spinner-over",clickCls:"x-form-spinner-click",focusFieldOnClick:true,vertical:true,bodyTpl:'<tpl if="vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"></div><tpl if="!vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl>',destroy:function(){var f=this;if(f.spinnerEl){f.spinnerEl.destroy();f.spinnerEl=f.upEl=f.downEl=null}Ext.form.trigger.Trigger.prototype.destroy.call(this)},getBodyRenderData:function(){var f=this;return{vertical:f.vertical,upDisabledCls:f.upEnabled?"":(f.spinnerUpCls+"-disabled"),downDisabledCls:f.downEnabled?"":(f.spinnerDownCls+"-disabled"),spinnerCls:f.spinnerCls,spinnerUpCls:f.spinnerUpCls,spinnerDownCls:f.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(){var n=this,o=arguments,e=n.clickRepeater?o[1]:o[0],m=n.field;if(!m.readOnly&&!m.disabled){if(n.upEl.contains(e.target)){Ext.callback(n.upHandler,n.scope,[m,n,e],0,m)}else{if(n.downEl.contains(e.target)){Ext.callback(n.downHandler,n.scope,[m,n,e],0,m)}}}m.inputEl.focus()},onFieldRender:function(){var n=this,o=n.vertical,l,m;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this);l=n.spinnerEl=n.el.select("."+n.spinnerCls,true);m=l.elements;n.upEl=o?m[0]:m[1];n.downEl=o?m[1]:m[0]},setUpEnabled:function(f){this.upEl[f?"removeCls":"addCls"](this.spinnerUpCls+"-disabled")},setDownEnabled:function(f){this.downEl[f?"removeCls":"addCls"](this.spinnerDownCls+"-disabled")}},0,0,0,0,["trigger.spinner"],0,[Ext.form.trigger,"Spinner"],0));(Ext.cmd.derive("Ext.form.field.Spinner",Ext.form.field.Text,{alternateClassName:"Ext.form.Spinner",config:{triggers:{spinner:{type:"spinner",upHandler:"onSpinnerUpClick",downHandler:"onSpinnerDownClick",endHandler:"onSpinEnd",scope:"this"}}},spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",applyTriggers:function(l){var k=this,m=l.spinner;m.upEnabled=k.spinUpEnabled;m.downEnabled=k.spinDownEnabled;return Ext.form.field.Text.prototype.applyTriggers.call(this,l)},onRender:function(){var g=this,k=g.getTrigger("spinner");(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).call(this);if(g.keyNavEnabled){g.spinnerKeyNav=new Ext.util.KeyNav(g.inputEl,{scope:g,up:g.spinUp,down:g.spinDown});g.inputEl.on({keyup:g.onInputElKeyUp,scope:g})}if(g.mouseWheelEnabled){g.mon(g.bodyEl,"mousewheel",g.onMouseWheel,g)}g.spinUpEl=k.upEl;g.spinDownEl=k.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){var f=this;if(f.spinUpEnabled&&!f.disabled){f.fireEvent("spin",f,"up");f.fireEvent("spinup",f);f.onSpinUp()}},spinDown:function(){var f=this;if(f.spinDownEnabled&&!f.disabled){f.fireEvent("spin",f,"down");f.fireEvent("spindown",f);f.onSpinDown()}},setSpinUpEnabled:function(m){var l=this,k=l.spinUpEnabled;l.spinUpEnabled=m;if(k!==m&&l.rendered){l.getTrigger("spinner").setUpEnabled(m)}},setSpinDownEnabled:function(m){var l=this,k=l.spinDownEnabled;l.spinDownEnabled=m;if(k!==m&&l.rendered){l.getTrigger("spinner").setDownEnabled(m)}},onMouseWheel:function(l){var m=this,e;if(m.hasFocus){e=l.getWheelDelta();if(e>0){m.spinUp()}else{if(e<0){m.spinDown()}}l.stopEvent();m.onSpinEnd()}},onInputElKeyUp:function(e){if(e.keyCode===e.UP||e.keyCode===e.DOWN){this.onSpinEnd()}},doDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav");Ext.form.field.Text.prototype.doDestroy.call(this)}},0,["spinnerfield"],["component","box","field","textfield","spinnerfield"],{component:true,box:true,field:true,textfield:true,spinnerfield:true},["widget.spinnerfield"],0,[Ext.form.field,"Spinner",Ext.form,"Spinner"],function(f){f.prototype.onSpinEnd=Ext.Function.createBuffered(function(){this.fireEvent("spinend",this)},100)}));(Ext.cmd.derive("Ext.form.field.Number",Ext.form.field.Spinner,{alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:true,allowDecimals:true,decimalSeparator:null,submitLocaleSeparator:true,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var f=this;if(f.decimalSeparator===null){f.decimalSeparator=Ext.util.Format.decimalSeparator}Ext.form.field.Spinner.prototype.initComponent.call(this);f.setMinValue(f.minValue);f.setMaxValue(f.maxValue)},getSubTplData:function(s){var p=this,q=p.minValue,u=p.maxValue,v,t,o;v=Ext.form.field.Spinner.prototype.getSubTplData.call(this,s);t=v.inputElAriaAttributes;if(t){if(q>Number.NEGATIVE_INFINITY){t["aria-valuemin"]=q}if(u<Number.MAX_VALUE){t["aria-valuemax"]=u}o=p.getValue();if(o!=null&&o>=q&&o<=u){t["aria-valuenow"]=o}}return v},setValue:function(m){var n=this,l,o;if(n.hasFocus){l=n.getBind();o=l&&l.value;if(o&&o.syncing&&m===n.value){return n}}return Ext.form.field.Spinner.prototype.setValue.call(this,m)},getErrors:function(o){o=arguments.length>0?o:this.processRawValue(this.getRawValue());var p=this,m=Ext.form.field.Spinner.prototype.getErrors.call(this,o),n=Ext.String.format,q;if(o.length<1){return m}o=String(o).replace(p.decimalSeparator,".");if(isNaN(o)){m.push(n(p.nanText,o))}q=p.parseValue(o);if(p.minValue===0&&q<0){m.push(this.negativeText)}else{if(q<p.minValue){m.push(n(p.minText,p.minValue))}}if(q>p.maxValue){m.push(n(p.maxText,p.maxValue))}return m},rawToValue:function(g){var k=this.fixPrecision(this.parseValue(g));if(k===null){k=g||null}return k},valueToRaw:function(k){var l=this,m=l.decimalSeparator;k=l.parseValue(k);k=l.fixPrecision(k);k=Ext.isNumber(k)?k:parseFloat(String(k).replace(m,"."));k=isNaN(k)?"":String(k).replace(".",m);return k},getSubmitValue:function(){var k=this,g=Ext.form.field.Spinner.prototype.getSubmitValue.call(this);if(!k.submitLocaleSeparator){g=g.replace(k.decimalSeparator,".")}return g},onChange:function(g){var k=this.ariaEl.dom;this.toggleSpinners();Ext.form.field.Spinner.prototype.onChange.apply(this,arguments);if(k){if(Ext.isNumber(g)&&isFinite(g)){k.setAttribute("aria-valuenow",g)}else{k.removeAttribute("aria-valuenow")}}},toggleSpinners:function(){var m=this,l=m.getValue(),n=l===null,o;if(m.spinUpEnabled||m.spinUpDisabledByToggle){o=n||l<m.maxValue;m.setSpinUpEnabled(o,true)}if(m.spinDownEnabled||m.spinDownDisabledByToggle){o=n||l>m.minValue;m.setSpinDownEnabled(o,true)}},setMinValue:function(n){var p=this,q=p.ariaEl.dom,o,m,q;p.minValue=o=Ext.Number.from(n,Number.NEGATIVE_INFINITY);p.toggleSpinners();if(q){if(o>Number.NEGATIVE_INFINITY){q.setAttribute("aria-valuemin",o)}else{q.removeAttribute("aria-valuemin")}}if(p.disableKeyFilter!==true){m=p.baseChars+"";if(p.allowExponential){m+=p.decimalSeparator+"e+-"}else{if(p.allowDecimals){m+=p.decimalSeparator}if(p.minValue<0){m+="-"}}m=Ext.String.escapeRegex(m);p.maskRe=new RegExp("["+m+"]");if(p.autoStripChars){p.stripCharsRe=new RegExp("[^"+m+"]","gi")}}},setMaxValue:function(l){var m=this.ariaEl.dom,k;this.maxValue=k=Ext.Number.from(l,Number.MAX_VALUE);if(m){if(k<Number.MAX_VALUE){m.setAttribute("aria-valuemax",k)}else{m.removeAttribute("aria-valuemax")}}this.toggleSpinners()},parseValue:function(f){f=parseFloat(String(f).replace(this.decimalSeparator,"."));return isNaN(f)?null:f},fixPrecision:function(l){var m=this,n=isNaN(l),o=m.decimalPrecision;if(n||!l){return n?"":l}else{if(!m.allowDecimals||o<=0){o=0}}return parseFloat(Ext.Number.toFixed(parseFloat(l),o))},onBlur:function(e){var l=this,m=l.rawToValue(l.getRawValue());if(!Ext.isEmpty(m)){l.setValue(m)}Ext.form.field.Spinner.prototype.onBlur.call(this,e)},setSpinUpEnabled:function(g,k){Ext.form.field.Spinner.prototype.setSpinUpEnabled.apply(this,arguments);if(!k){delete this.spinUpDisabledByToggle}else{this.spinUpDisabledByToggle=!g}},onSpinUp:function(){var f=this;if(!f.readOnly){f.setSpinValue(Ext.Number.constrain(f.getValue()+f.step,f.minValue,f.maxValue))}},setSpinDownEnabled:function(g,k){Ext.form.field.Spinner.prototype.setSpinDownEnabled.apply(this,arguments);if(!k){delete this.spinDownDisabledByToggle}else{this.spinDownDisabledByToggle=!g}},onSpinDown:function(){var f=this;if(!f.readOnly){f.setSpinValue(Ext.Number.constrain(f.getValue()-f.step,f.minValue,f.maxValue))}},setSpinValue:function(g){var k=this;if(k.enforceMaxLength){if(k.fixPrecision(g).toString().length>k.maxLength){return}}k.setValue(g)}},0,["numberfield"],["component","box","field","textfield","spinnerfield","numberfield"],{component:true,box:true,field:true,textfield:true,spinnerfield:true,numberfield:true},["widget.numberfield"],0,[Ext.form.field,"Number",Ext.form,"NumberField",Ext.form,"Number"],0));(Ext.cmd.derive("Ext.toolbar.Paging",Ext.toolbar.Toolbar,{alternateClassName:"Ext.PagingToolbar",displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,emptyPageData:{total:0,currentPage:0,pageCount:0,toRecord:0,fromRecord:0},defaultBindProperty:"store",getPagingItems:function(){var g=this,k={scope:g,blur:g.onPagingBlur};k[Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress"]=g.onPagingKeyDown;return[{itemId:"first",tooltip:g.firstText,overflowText:g.firstText,iconCls:"x-tbar-page-first",disabled:true,handler:g.moveFirst,scope:g},{itemId:"prev",tooltip:g.prevText,overflowText:g.prevText,iconCls:"x-tbar-page-prev",disabled:true,handler:g.movePrevious,scope:g},"-",g.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:"x-tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,keyNavEnabled:false,selectOnFocus:true,submitValue:false,isFormField:false,width:g.inputItemWidth,margin:"-1 2 3 2",listeners:k},{xtype:"tbtext",itemId:"afterTextItem",html:Ext.String.format(g.afterPageText,1)},"-",{itemId:"next",tooltip:g.nextText,overflowText:g.nextText,iconCls:"x-tbar-page-next",disabled:true,handler:g.moveNext,scope:g},{itemId:"last",tooltip:g.lastText,overflowText:g.lastText,iconCls:"x-tbar-page-last",disabled:true,handler:g.moveLast,scope:g},"-",{itemId:"refresh",tooltip:g.refreshText,overflowText:g.refreshText,iconCls:"x-tbar-loading",disabled:g.store.isLoading(),handler:g.doRefresh,scope:g}]},initComponent:function(){var l=this,m=l.items||l.buttons||[],k;l.bindStore(l.store||"ext-empty-store",true);k=l.getPagingItems();if(l.prependButtons){l.items=m.concat(k)}else{l.items=k.concat(m)}delete l.buttons;if(l.displayInfo){l.items.push("->");l.items.push({xtype:"tbtext",itemId:"displayItem"})}Ext.toolbar.Toolbar.prototype.initComponent.call(this)},beforeRender:function(){Ext.toolbar.Toolbar.prototype.beforeRender.apply(this,arguments);this.updateBarInfo()},onAdded:function(t){var p=this,n=p.store,q=p._autoStore,o,s;if(q===undefined){p._autoStore=q=!(n&&!n.isEmptyStore)}if(q){o=p._storeChangeListener;if(o){o.destroy();o=null}s=t&&t.store;if(s){o=t.on({destroyable:true,scope:p,storechange:"onOwnerStoreChange"})}p._storeChangeListener=o;p.onOwnerStoreChange(t,s)}Ext.toolbar.Toolbar.prototype.onAdded.apply(this,arguments)},onOwnerStoreChange:function(k,g){this.setStore(g||Ext.getStore("ext-empty-store"))},updateBarInfo:function(){var f=this;if(!f.store.isLoading()){f.calledInternal=true;f.onLoad();f.calledInternal=false}},updateInfo:function(){var o=this,q=o.child("#displayItem"),t=o.store,s=o.getPageData(),p,n;if(q){p=t.getCount();if(p===0){n=o.emptyMsg}else{n=Ext.String.format(o.displayMsg,s.fromRecord,s.toRecord,s.total)}q.setText(n)}},onLoad:function(){var x=this,s,u,t,v,p,w,q;p=x.store.getCount();w=p===0;if(!w){s=x.getPageData();u=s.currentPage;t=s.pageCount;if(u>t){if(t>0){x.store.loadPage(t)}else{x.getInputItem().reset()}return}v=Ext.String.format(x.afterPageText,isNaN(t)?1:t)}else{u=0;t=0;v=Ext.String.format(x.afterPageText,0)}Ext.suspendLayouts();q=x.child("#afterTextItem");if(q){q.update(v)}q=x.getInputItem();if(q){q.setDisabled(w).setValue(u)}x.setChildDisabled("#first",u===1||w);x.setChildDisabled("#prev",u===1||w);x.setChildDisabled("#next",u===t||w);x.setChildDisabled("#last",u===t||w);x.setChildDisabled("#refresh",false);x.updateInfo();Ext.resumeLayouts(true);if(!x.calledInternal){x.fireEvent("change",x,s||x.emptyPageData)}},setChildDisabled:function(m,l){var k=this.child(m);if(k){k.setDisabled(l)}},getPageData:function(){var n=this.store,o=n.getTotalCount(),m=Math.ceil(o/n.pageSize),l=Math.min(n.currentPage*n.pageSize,o);return{total:o,currentPage:n.currentPage,pageCount:Ext.Number.isFinite(m)?m:1,fromRecord:((n.currentPage-1)*n.pageSize)+1,toRecord:l||o}},onLoadError:function(){this.setChildDisabled("#refresh",false)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(n){var m=this.getInputItem(),l=false,o;if(m){o=m.getValue();l=parseInt(o,10);if(!o||isNaN(l)){m.setValue(n.currentPage);return false}}return l},onPagingBlur:function(e){var l=this.getInputItem(),m;if(l){m=this.getPageData().currentPage;l.setValue(m)}},onPagingKeyDown:function(e,k){this.processKeyEvent(e,k)},processKeyEvent:function(u,v){var p=this,q=v.getKey(),s=p.getPageData(),t=v.shiftKey?10:1,e;if(q===v.RETURN){v.stopEvent();e=p.readPageFromInput(s);if(e!==false){e=Math.min(Math.max(1,e),s.pageCount);if(e!==s.currentPage&&p.fireEvent("beforechange",p,e)!==false){p.store.loadPage(e)}}}else{if(q===v.HOME||q===v.END){v.stopEvent();e=q===v.HOME?1:s.pageCount;u.setValue(e)}else{if(q===v.UP||q===v.PAGE_UP||q===v.DOWN||q===v.PAGE_DOWN){v.stopEvent();e=p.readPageFromInput(s);if(e){if(q===v.DOWN||q===v.PAGE_DOWN){t*=-1}e+=t;if(e>=1&&e<=s.pageCount){u.setValue(e)}}}}}},beforeLoad:function(){this.setChildDisabled("#refresh",true)},moveFirst:function(){if(this.fireEvent("beforechange",this,1)!==false){this.store.loadPage(1);return true}return false},movePrevious:function(){var k=this,m=k.store,l=m.currentPage-1;if(l>0){if(k.fireEvent("beforechange",k,l)!==false){m.previousPage();return true}}return false},moveNext:function(){var l=this,o=l.store,m=l.getPageData().pageCount,n=o.currentPage+1;if(n<=m){if(l.fireEvent("beforechange",l,n)!==false){o.nextPage();return true}}return false},moveLast:function(){var g=this,k=g.getPageData().pageCount;if(g.fireEvent("beforechange",g,k)!==false){g.store.loadPage(k);return true}return false},doRefresh:function(){var l=this,m=l.store,k=m.currentPage;if(l.fireEvent("beforechange",l,k)!==false){m.loadPage(k);return true}return false},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onBindStore:function(){if(this.rendered){this.updateBarInfo()}},doDestroy:function(){var k=this,g=k._storeChangeListener;if(g){g.destroy();k._storeChangeListener=null}k.bindStore(null);Ext.toolbar.Toolbar.prototype.doDestroy.call(this)}},0,["pagingtoolbar"],["component","box","container","toolbar","pagingtoolbar"],{component:true,box:true,container:true,toolbar:true,pagingtoolbar:true},["widget.pagingtoolbar"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.toolbar,"Paging",Ext,"PagingToolbar"],0));Ext.define("Ext.theme.neptune.toolbar.Paging",{override:"Ext.toolbar.Paging",defaultButtonUI:"plain-toolbar",inputItemWidth:40});Ext.define("Ext.theme.triton.toolbar.Paging",{override:"Ext.toolbar.Paging",inputItemWidth:50});(Ext.cmd.derive("Ext.view.BoundList",Ext.view.View,{alternateClassName:"Ext.BoundList",pageSize:0,baseCls:"x-boundlist",itemCls:"x-boundlist-item",listItemCls:"",shadow:false,trackOver:true,preserveScrollOnRefresh:true,enableInitialSelection:false,refreshSelmodelOnRefresh:true,componentLayout:"boundlist",navigationModel:"boundlist",scrollable:true,ariaEl:"listEl",tabIndex:-1,childEls:["listWrap","listEl"],renderTpl:['<div id="{id}-listWrap" data-ref="listWrap"',' class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" data-ref="listEl" class="',"x-",'list-plain"','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',">","</ul>","</div>","{%","var pagingToolbar=values.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}],focusOnToFront:false,alignOnScroll:false,initComponent:function(){var l=this,m=l.baseCls,k=l.itemCls;l.selectedItemCls=m+"-selected";if(l.trackOver){l.overItemCls=m+"-item-over"}l.itemSelector="."+k;if(l.floating){l.addCls(m+"-floating")}if(!l.tpl){l.generateTpl()}else{if(!l.tpl.isTemplate){l.tpl=new Ext.XTemplate(l.tpl)}}if(l.pageSize){l.pagingToolbar=l.createPagingToolbar()}Ext.view.View.prototype.initComponent.call(this)},generateTpl:function(){var f=this;f.tpl=new Ext.XTemplate('<tpl for=".">','<li role="option" unselectable="on" class="'+f.itemCls+'">'+f.getInnerTpl(f.displayField)+"</li>","</tpl>")},setDisplayField:function(f){this.displayField=f;this.generateTpl()},getRefOwner:function(){return this.pickerField||Ext.view.View.prototype.getRefOwner.call(this)},getRefItems:function(){var k=Ext.view.View.prototype.getRefItems.call(this),g=this.pagingToolbar;if(g){k.push(g)}return k},createPagingToolbar:function(){var f=this;return new Ext.toolbar.Paging({id:f.id+"-paging-toolbar",pageSize:f.pageSize,store:f.dataSource,border:false,ownerCt:f,ownerLayout:f.getComponentLayout()})},getNodeContainer:function(){return this.listEl},refresh:function(){var g=this,k=g.tpl;k.field=g.pickerField;k.store=g.store;Ext.view.View.prototype.refresh.call(this);k.field=k.store=null;if(!g.ariaStaticRoles[g.ariaRole]){g.refreshAriaAttributes()}},refreshAriaAttributes:function(){var u=this,t=u.store,x=u.getSelectionModel(),B,D,C,A,y,v,z,w;D=t.isFiltered()?t.getCount():t.getTotalCount()||t.getCount();C=u.getNodes();B=u.pickerField&&u.pickerField.multiSelect;for(z=0,w=C.length;z<w;z++){A=C[z];y=null;if(D!==w){y=u.getRecord(A);v=t.indexOf(y);A.setAttribute("aria-setsize",D);A.setAttribute("aria-posinset",v)}if(B){y=y||u.getRecord(A);A.setAttribute("aria-selected",x.isSelected(y))}}},bindStore:function(m,l){var k=this.pagingToolbar;Ext.view.View.prototype.bindStore.apply(this,arguments);if(k){k.bindStore(m,l)}},getInnerTpl:function(f){return"{"+f+"}"},onShow:function(){var f=this.pickerField;Ext.view.View.prototype.onShow.call(this);if(f&&f.rendered&&!f.hasFocus){f.focus()}},afterComponentLayout:function(o,q,p,m){var n=this.pickerField;Ext.view.View.prototype.afterComponentLayout.call(this,o,q,p,m);if(n&&n.alignPicker){n.alignPicker()}},onItemSelect:function(m){var k=this,l;l=Ext.view.View.prototype.onItemSelect.call(this,m);if(l){if(k.ariaSelectable){l.setAttribute("aria-selected","true")}else{l.removeAttribute("aria-selected")}}return l},onItemDeselect:function(m){var k=this,l;l=Ext.view.View.prototype.onItemDeselect.call(this,m);if(l&&k.ariaSelectable){if(k.pickerField&&k.pickerField.multiSelect){l.setAttribute("aria-selected","false")}else{l.removeAttribute("aria-selected")}}return l},onItemClick:function(q){var n=this,m=n.pickerField,p,o;if(!m){return}p=m.valueField;o=n.getSelectionModel().getSelection();if(!m.multiSelect&&o.length){o=o[0];if(o&&m.isEqual(q.get(p),o.get(p))&&m.collapse){m.collapse()}}},onContainerClick:function(l){var m=this.pagingToolbar,e;if(m&&m.rendered&&l.within(m.el)){return false}if(Ext.isIE10||Ext.isIE11){e=this.listWrap.getClientRegion();if(!l.getPoint().isContainedBy(e)){return false}}},doDestroy:function(){this.pagingToolbar=Ext.destroy(this.pagingToolbar);Ext.view.View.prototype.doDestroy.call(this)},privates:{getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var f=this.pagingToolbar;Ext.view.View.prototype.finishRenderChildren.apply(this,arguments);if(f){f.finishRender()}}}},0,["boundlist"],["component","box","dataview","boundlist"],{component:true,box:true,dataview:true,boundlist:true},["widget.boundlist"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.view,"BoundList",Ext,"BoundList"],0));(Ext.cmd.derive("Ext.form.field.ComboBox",Ext.form.field.Picker,{alternateClassName:"Ext.form.ComboBox",config:{filters:null,selection:null,valueNotFoundText:null,displayTpl:null,delimiter:", ",displayField:"text"},publishes:["selection"],twoWayBindable:["selection"],triggerCls:"x-form-arrow-trigger",hiddenName:"",collapseOnSelect:false,hiddenDataCls:"x-hidden-display x-form-data-hidden",ariaRole:"combobox",autoDestroyBoundStore:true,childEls:{hiddenDataEl:true},filtered:false,afterRender:function(){var f=this;Ext.form.field.Picker.prototype.afterRender.apply(this,arguments);f.setHiddenValue(f.value)},multiSelect:false,triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,autoLoadOnValue:false,pageSize:0,anyMatch:false,caseSensitive:false,autoSelect:true,autoSelectLast:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,growToLongestValue:true,clearFilterOnBlur:true,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:true,clearValueOnEmpty:true,newlineRe:/\r?\n/g,getGrowWidth:function(){var w=this,u=w.inputEl.dom.value,v,t,s,x,y,q,z;if(w.growToLongestValue){v=w.displayField;t=w.store;s=t.data.length;x=0;for(y=0;y<s;y++){q=t.getAt(y).data[v];z=q.length;if(z>x){x=z;u=q}}}return u},initComponent:function(){var o=this,q=Ext.isDefined,s=o.store,p=o.transform,t,n;if("pinList" in o){o.collapseOnSelect=!o.pinList}if(p){t=Ext.getDom(p);if(t){if(!o.store){s=Ext.Array.map(Ext.Array.from(t.options),function(e){return[e.value,e.text]})}if(!o.name){o.name=t.name}if(!("value" in o)){o.value=t.value}}}if(!o.displayTpl){o.setDisplayTpl(false)}o.bindStore(s||"ext-empty-store",true,true);n=o.queryMode==="local";if(!q(o.queryDelay)){o.queryDelay=n?10:500}if(!q(o.minChars)){o.minChars=n?0:4}Ext.form.field.Picker.prototype.initComponent.call(this);o.doQueryTask=new Ext.util.DelayedTask(o.doRawQuery,o);if(t){if(o.transformInPlace){o.render(t.parentNode,t);delete o.renderTo}Ext.removeNode(t)}},initEvents:function(){var f=this;Ext.form.field.Picker.prototype.initEvents.call(this);f.altArrowKeyNav=new Ext.util.KeyNav({target:f.inputEl,forceKeyDown:true,priority:1002,scope:f,down:{alt:true,handler:f.onAltDownArrow},up:{alt:true,handler:f.onAltUpArrow}})},getSubTplData:function(p){var o=this,m=o.id,n,q;n=Ext.form.field.Picker.prototype.getSubTplData.call(this,p);if(!o.ariaStaticRoles[o.ariaRole]){q=n.ariaElAttributes;if(q){q["aria-owns"]=m+"-inputEl "+m+"-picker-listEl";q["aria-autocomplete"]="list"}}return n},getSubTplMarkup:function(m){var l=this,o="",n=Ext.form.field.Picker.prototype.getSubTplMarkup.apply(this,arguments);if(l.hiddenName){o='<div id="'+m.id+'-hiddenDataEl" data-ref="hiddenDataEl" class="'+l.hiddenDataCls+'" role="presentation"></div>'}return o+n},applyDisplayTpl:function(g){var k=this;if(!g){g=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+k.getDisplayField()+'"]]}<tpl if="xindex < xcount">'+k.getDelimiter()+"</tpl></tpl>");g.auto=true}else{if(!g.isTemplate){g=new Ext.XTemplate(g)}}return g},applyFilters:function(l,k){var m=this;if(l===null||l.isFilterCollection){return l}if(l){if(!k){k=this.getFilters()}k.beginUpdate();k.splice(0,k.length,l);k.each(function(e){e.ownerId=m.id});k.endUpdate()}return k},applyValueNotFoundText:function(m){var l=this,k=l.valueNotFoundRecord||(l.valueNotFoundRecord=new Ext.data.Model());k.set(l.displayField,m);if(l.valueField&&l.displayField!==l.valueField){k.set(l.valueField,m)}return m},getFilters:function(g){var k=this.filters;if(!k&&g!==false){k=new Ext.util.FilterCollection();this.setFilters(k)}return k},updateFilters:function(m,l){var k=this;if(l){l.un("endupdate","onEndUpdateFilters",k)}if(m){m.on("endupdate","onEndUpdateFilters",k)}k.onEndUpdateFilters(m)},onEndUpdateFilters:function(o){var p=this,n=p.filtered,q=!!o&&(o.length>0),t,s;if(n||q){p.filtered=q;t=[];s=p.store.getFilters();s.each(function(e){if(e.ownerId===p.id&&!o.contains(e)){t.push(e)}});s.splice(0,t,o.items)}},clearLocalFilter:function(){var g=this,k=g.queryFilter;if(k){g.queryFilter=null;g.changingFilters=true;g.store.removeFilter(k,true);g.changingFilters=false}},completeEdit:function(e){var k=this;Ext.form.field.Picker.prototype.completeEdit.call(this,e);k.doQueryTask.cancel();k.assertValue();if(k.queryFilter&&k.queryMode==="local"&&k.clearFilterOnBlur){k.clearLocalFilter()}},onFocus:function(e){var k=this;Ext.form.field.Picker.prototype.onFocus.call(this,e);if(k.triggerAction!=="all"&&k.queryFilter&&k.queryMode==="local"&&k.clearFilterOnBlur){delete k.lastQuery;k.doRawQuery()}},onAltDownArrow:function(e){e.stopEvent();if(!this.isExpanded){this.onDownArrow(e)}return false},onAltUpArrow:function(e){e.stopEvent();if(this.isExpanded){this.onEsc(e)}return false},assertValue:function(){var s=this,p=s.getRawValue(),t=s.getDisplayValue(),o=s.lastSelectedRecords,u=false,q,v;if(s.forceSelection){if(s.multiSelect){if(p!==t){s.setRawValue(t)}}else{v=s.findRecordByDisplay(p);if(!v){if(o&&(!s.allowBlank||s.rawValue)){v=o[0]}else{if(s.displayTplData&&s.displayTplData.length){v=s.findRecordByValue(s.displayTplData[0][s.valueField])}}}else{if(s.getDisplayValue([s.getRecordDisplayData(v)])===t){v=null;u=true}}if(v){s.select(v,true);s.fireEvent("select",s,v)}else{if(!u){if(o){delete s.lastSelectedRecords}s.setRawValue("")}}}}else{if((q=s.getValue())&&q==p){v=s.findRecordByDisplay(q);if(v&&(v!==(o&&o[0])||s.displayField!==s.valueField)){s.select(v,true);s.fireEvent("select",s,v)}}}s.collapse()},onTypeAhead:function(){var p=this,q=p.displayField,s=p.store.findRecord(q,p.getRawValue()),o,t,n;if(s){o=s.get(q);t=o.length;n=p.getRawValue().length;if(n!==0&&n!==t){p.lastMutatedValue=o;p.setRawValue(o);p.selectText(n,o.length)}}},resetToDefault:Ext.emptyFn,beforeReset:function(){Ext.form.field.Picker.prototype.beforeReset.call(this);this.clearLocalFilter()},onUnbindStore:function(){var g=this,k=g.picker;if(g.queryFilter&&!g.store.destroyed){g.clearLocalFilter()}if(k){k.bindStore(null)}g.pickerSelectionModel.destroy()},onBindStore:function(t,q){var o=this,s=o.picker,p,n;if(t){if(t.autoCreated){o.queryMode="local";o.valueField=o.displayField="field1";if(!t.expanded){o.displayField="field2"}if(o.getDisplayTpl().auto){o.setDisplayTpl(null)}}if(!Ext.isDefined(o.valueField)){o.valueField=o.displayField}p={byValue:{rootProperty:"data",unique:false}};p.byValue.property=o.valueField;t.setExtraKeys(p);if(o.displayField===o.valueField){t.byText=t.byValue}else{p.byText={rootProperty:"data",unique:false};p.byText.property=o.displayField;t.setExtraKeys(p)}n={rootProperty:"data",extraKeys:{byInternalId:{property:"internalId"},byValue:{property:o.valueField,rootProperty:"data"}},listeners:{beginupdate:o.onValueCollectionBeginUpdate,endupdate:o.onValueCollectionEndUpdate,scope:o}};o.valueCollection=new Ext.util.Collection(n);o.pickerSelectionModel=new Ext.selection.DataViewModel({mode:o.multiSelect?"SIMPLE":"SINGLE",ordered:true,deselectOnContainerClick:false,enableInitialSelection:false,pruneRemoved:false,selected:o.valueCollection,store:t,listeners:{scope:o,lastselectedchanged:o.updateBindSelection}});if(!q){o.resetToDefault()}if(s){o.pickerSelectionModel.on({scope:o,beforeselect:o.onBeforeSelect,beforedeselect:o.onBeforeDeselect});s.setSelectionModel(o.pickerSelectionModel);if(s.getStore()!==t){s.bindStore(t)}}}},bindStore:function(q,m,p){var n=this,o=n.queryFilter;n.mixins.storeholder.bindStore.call(n,q,p);q=n.getStore();if(q&&o&&!m){q.getFilters().add(o)}if(!p&&q&&!q.isEmptyStore){n.setValueOnData()}},getStoreListeners:function(l){if(!l.isEmptyStore){var k=this,m={datachanged:k.onDataChanged,load:k.onLoad,exception:k.onException,update:k.onStoreUpdate,remove:k.checkValueOnChange};if(!l.getRemoteFilter()){m.filterchange=k.checkValueOnChange}return m}},onDataChanged:function(){if(this.grow&&this.growToLongestValue){this.autoSize()}},checkValueOnChange:function(){var f=this;if(!f.destroying&&f.getStore().isLoaded()){if(f.multiSelect){}else{if(f.forceSelection&&!f.changingFilters&&!f.findRecordByValue(f.value)){if(f.queryMode!="local"&&f.hasFocus){return}f.setValue(null)}}}},onStoreUpdate:function(g,k){this.updateValue()},onException:function(){this.collapse()},onLoad:function(o,p,m){var n=this,q=!n.valueCollection.byValue.get(n.value);if(m&&q&&!(o.lastOptions&&"rawQuery" in o.lastOptions)){n.setValueOnData()}n.checkValueOnChange()},setValueOnData:function(){var f=this;f.setValue(f.value);if(f.isExpanded&&f.getStore().getCount()){f.doAutoSelect()}},doRawQuery:function(){var k=this,g=k.inputEl.dom.value;if(k.multiSelect){g=g.split(k.delimiter).pop()}k.doQuery(g,false,true)},doQuery:function(w,t,x){var q=this,v=q.getStore(),s=v.getFilters(),u=q.beforeQuery({lastQuery:q.lastQuery||"",query:w||"",rawQuery:x,forceAll:t,combo:q,cancel:false}),p;if(u!==false&&!u.cancel){p=!!w&&(!q.queryFilter||q.queryFilter&&(s.indexOf(q.queryFilter)<0));if(q.queryCaching&&!p&&u.query===q.lastQuery){q.getPicker().refresh();q.expand();q.afterQuery(u)}else{q.lastQuery=u.query;if(q.queryMode==="local"){q.doLocalQuery(u)}else{q.doRemoteQuery(u)}}return true}else{q.startCheckChangeTask()}return false},beforeQuery:function(k){var g=this;if(g.fireEvent("beforequery",k)===false){k.cancel=true}else{if(!k.cancel){if(k.query.length<g.minChars&&!k.forceAll){k.cancel=true}}}return k},doLocalQuery:function(s){var p=this,u=s.query,t=p.getStore(),e=u,q;p.clearLocalFilter();if(u){if(p.enableRegEx){try{e=new RegExp(e)}catch(v){e=null}}if(e!==null){p.changingFilters=true;q=p.queryFilter=new Ext.util.Filter({id:p.id+"-filter",anyMatch:p.anyMatch,caseSensitive:p.caseSensitive,root:"data",property:p.displayField,value:e});t.addFilter(q,true);p.changingFilters=false}}if(p.store.getCount()||p.getPicker().emptyText){p.getPicker().refresh();p.expand()}else{p.collapse()}p.afterQuery(s)},doRemoteQuery:function(l){var k=this,m=function(){if(!k.destroyed){k.afterQuery(l)}};k.expand();if(k.pageSize){k.loadPage(1,{rawQuery:l.rawQuery,callback:m})}else{k.store.load({params:k.getParams(l.query),rawQuery:l.rawQuery,callback:m})}},afterQuery:function(k){var g=this;if(g.store.getCount()){if(g.typeAhead){g.doTypeAhead(k)}if(k.rawQuery){if(g.picker&&!g.picker.getSelectionModel().hasSelection()){g.doAutoSelect()}}else{g.doAutoSelect()}}g.startCheckChangeTask()},loadPage:function(g,k){this.store.loadPage(g,Ext.apply({params:this.getParams(this.lastQuery)},k))},onPageChange:function(g,k){this.loadPage(k);return false},getParams:function(k){var l={},m=this.queryParam;if(m){l[m]=k}return l},doAutoSelect:function(){var p=this,s=p.store,q=p.picker,n=0,t,o;if(q&&p.autoSelect&&s.getCount()>0){if(p.autoSelectLast){t=q.getSelectionModel();o=t.lastSelected;if(o&&t.selected.length&&s.indexOf(o)>-1){n=o}}q.getNavigationModel().setPosition(n)}},doTypeAhead:function(k){var g=this;if(!g.typeAheadTask){g.typeAheadTask=new Ext.util.DelayedTask(g.onTypeAhead,g)}if(k.query.length>k.lastQuery.length||!Ext.String.startsWith(k.lastQuery,k.query)){g.typeAheadTask.delay(g.typeAheadDelay)}},onTriggerClick:function(e){var l=this,m;if(!l.readOnly&&!l.disabled){if(l.isExpanded){l.collapse()}else{if(e&&e.type==="keydown"&&e.altKey){m=l.autoSelect;l.autoSelect=false;l.expand();l.autoSelect=m}else{if(l.triggerAction==="all"){l.doQuery(l.allQuery,true)}else{if(l.triggerAction==="last"){l.doQuery(l.lastQuery,true)}else{l.doQuery(l.getRawValue(),false,true)}}}}}},onFieldMutation:function(t){var o=this,q=t.getKey(),p=q===t.BACKSPACE||q===t.DELETE,e=o.inputEl.dom.value,s=e.length;if(!o.readOnly&&(e!==o.lastMutatedValue||p)&&q!==t.TAB){o.lastMutatedValue=e;o.refreshEmptyText();if(s&&(t.type!=="keyup"||(!t.isSpecialKey()||p))){o.doQueryTask.delay(o.queryDelay)}else{if(!s&&(!q||p)){++o.suspendCheckChange;if(!o.multiSelect){o.value=null;o.displayTplData=undefined}if(o.clearValueOnEmpty){o.valueCollection.beginUpdate();o.pickerSelectionModel.deselectAll();o.valueCollection.removeAll();o.valueCollection.endUpdate()}o.collapse();if(o.queryFilter){o.clearLocalFilter()}o.lastQuery=null;--o.suspendCheckChange}Ext.form.field.Picker.prototype.onFieldMutation.call(this,t)}}},doDestroy:function(){var f=this;f.doQueryTask.cancel();if(f.typeAheadTask){f.typeAheadTask.cancel();f.typeAheadTask=null}f.bindStore(null);Ext.destroy(f.altArrowKeyNav,f.valueCollection);Ext.form.field.Picker.prototype.doDestroy.call(this)},onAdded:function(){var f=this;Ext.form.field.Picker.prototype.onAdded.apply(this,arguments);if(f.picker){f.picker.ownerCt=f.up("[floating]");f.picker.registerWithOwnerCt()}},createPicker:function(){var k=this,l,m=Ext.apply({xtype:"boundlist",id:k.id+"-picker",pickerField:k,selectionModel:k.pickerSelectionModel,floating:true,hidden:true,store:k.getPickerStore(),displayField:k.displayField,preserveScrollOnRefresh:true,pageSize:k.pageSize,tpl:k.tpl,ariaSelectable:k.ariaSelectable},k.listConfig,k.defaultListConfig);l=k.picker=Ext.widget(m);if(k.pageSize){l.pagingToolbar.on("beforechange",k.onPageChange,k)}if(!l.initialConfig.maxHeight){l.on({beforeshow:k.onBeforePickerShow,scope:k})}l.getSelectionModel().on({beforeselect:k.onBeforeSelect,beforedeselect:k.onBeforeDeselect,focuschange:k.onFocusChange,scope:k});l.getNavigationModel().navigateOnSpace=false;return l},getPickerStore:function(){return this.store},onBeforePickerShow:function(o){var n=this,l=n.getPosition()[1]-Ext.getBody().getScroll().top,m=Ext.Element.getViewportHeight()-l-n.getHeight();o.maxHeight=Math.max(l,m)-5},onBeforeSelect:function(k,m,l){return this.fireEvent("beforeselect",this,m,l)},onBeforeDeselect:function(k,m,l){return this.fireEvent("beforedeselect",this,m,l)},onFocusChange:function(q,t,s){var p=this.picker,n=this.inputEl,o;if(s){o=Ext.get(p.getNodeByRecord(s));if(o){n.dom.setAttribute("aria-activedescendant",o.id)}else{n.dom.removeAttribute("aria-activedescendant")}}},getSelection:function(){var k=this.getPicker().getSelectionModel(),g=k.getSelection();return g.length?k.getLastSelected():null},updateSelection:function(m){var l=this,k;if(!l.ignoreNextSelection){l.ignoreNextSelection=true;k=l.getPicker().getSelectionModel();if(m){k.select(m);l.hasHadSelection=true}else{k.deselectAll()}l.ignoreNextSelection=false}},updateBindSelection:function(o,m){var l=this,n=null;if(!l.ignoreNextSelection){l.ignoreNextSelection=true;if(m.length){n=o.getLastSelected();l.hasHadSelection=true}if(l.hasHadSelection){l.setSelection(n)}l.ignoreNextSelection=false}},onValueCollectionBeginUpdate:Ext.emptyFn,onValueCollectionEndUpdate:function(){var n=this,o=n.store,m=n.valueCollection.getRange(),p=m[0],q=m.length;n.updateBindSelection(n.pickerSelectionModel,m);if(n.isSelectionUpdating()){return}Ext.suspendLayouts();n.lastSelection=m;if(q){n.lastSelectedRecords=m}n.updateValue();if(q&&((!n.multiSelect&&o.contains(p))||n.collapseOnSelect||!o.getCount())){n.updatingValue=true;n.collapse();n.updatingValue=false}Ext.resumeLayouts(true);if(!n.suspendCheckChange){if(!n.multiSelect){m=p}n.fireEvent("select",n,m)}},isSelectionUpdating:function(){var f=this.pickerSelectionModel;return f.deselectingDuringSelect||f.refreshing},onExpand:function(){var l=this,n=l.getPicker(),o=n.getNavigationModel(),m;if(o){o.enable()}l.doAutoSelect();m=Ext.get(n.highlightedItem);if(m){l.inputEl.dom.setAttribute("aria-activedescendant",m.id)}},onCollapse:function(){var g=this,k=g.getPicker().getNavigationModel();if(k){k.disable()}if(g.updatingValue){g.doQueryTask.cancel()}g.inputEl.dom.removeAttribute("aria-activedescendant")},select:function(n,q){var o=this,p=o.picker,m;if(n&&n.isModel&&q===true&&p){m=!p.getSelectionModel().isSelected(n)}if(!m){o.suspendEvent("select")}o.setValue(n);o.resumeEvent("select")},findRecord:function(l,m){var n=this.store,o=n.findExact(l,m);return o!==-1?n.getAt(o):false},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(k){var m=this.store.byValue.get(k),l=false;if(m){l=m[0]||m}return l},findRecordByDisplay:function(k){var m=this.store.byText.get(k),l=false;if(m){l=m[0]||m}return l},addValue:function(f){if(f!=null){return this.doSetValue(f,true)}},setValue:function(m){var n=this,l,o;if(n.hasFocus){l=n.getBind();o=l&&l.value;if(o&&o.syncing){if((Ext.isEmpty(m)&&Ext.isEmpty(n.value))||m===n.value){return n}else{if(Ext.isArray(m)&&Ext.isArray(n.value)&&Ext.Array.equals(m,n.value)){return n}}}}else{n.lastSelectedRecords=null}if(m!=null){n.doSetValue(m)}else{n.suspendEvent("select");n.valueCollection.beginUpdate();n.pickerSelectionModel.deselectAll();n.valueCollection.endUpdate();n.resumeEvent("select")}return n},setRawValue:function(f){Ext.form.field.Picker.prototype.setRawValue.call(this,f);this.lastMutatedValue=f},doSetValue:function(H,M){var N=this,T=N.getStore(),S=T.getModel(),E=[],U=[],F=N.autoLoadOnValue,V=T.getCount()>0||T.isLoaded(),Z=T.hasPendingLoad(),K=F&&!V&&!Z,P=N.forceSelection,I=N.pickerSelectionModel,Y=N.displayField===N.valueField,J=T.isEmptyStore,R=N.lastSelection,Q,O,X,G,W,L;if(Z||K||!V||J){if(!H.isModel){if(M){N.value=Ext.Array.from(N.value).concat(H)}else{N.value=H}N.setHiddenValue(N.value);N.setRawValue(Y?H:"");if(Y&&!Ext.isEmpty(H)&&N.inputEl&&N.emptyText){N.inputEl.removeCls(N.emptyUICls)}}if(K&&!J){T.load()}if(!H.isModel||J){return N}}H=M?Ext.Array.from(N.value).concat(H):Ext.Array.from(H);for(Q=0,O=H.length;Q<O;Q++){X=H[Q];if(!X||!X.isModel){X=N.findRecordByValue(L=X);if(!X){X=N.valueCollection.find(N.valueField,L)}}if(!X){if(!P){if(!X&&H[Q]){G={};G[N.displayField]=H[Q];if(N.valueField&&N.displayField!==N.valueField){G[N.valueField]=H[Q]}X=new S(G)}}else{if(N.valueNotFoundRecord){X=N.valueNotFoundRecord}}}if(X){E.push(X);U.push(X.get(N.valueField))}}if(R){O=R.length;if(O===E.length){for(Q=0;!W&&Q<O;Q++){if(Ext.Array.indexOf(N.lastSelection,E[Q])===-1){W=true}}}else{W=true}}else{W=E.length}if(W){N.suspendEvent("select");N.valueCollection.beginUpdate();if(E.length){I.select(E,false)}else{I.deselectAll()}N.valueCollection.endUpdate();N.resumeEvent("select")}else{N.updateValue()}return N},updateValue:function(){var t=this,w=t.valueCollection.getRange(),v=w.length,s=[],z=t.displayTplData||(t.displayTplData=[]),q=t.inputEl,y,x,u;z.length=0;for(y=0;y<v;y++){x=w[y];z.push(t.getRecordDisplayData(x));if(x!==t.valueNotFoundRecord){s.push(x.get(t.valueField))}}t.setHiddenValue(s);t.value=t.multiSelect?s:s[0];if(!Ext.isDefined(t.value)){t.value=undefined}t.displayTplData=z;u=t.getDisplayValue();t.setRawValue(u);t.refreshEmptyText();t.checkChange();if(q&&t.typeAhead&&t.hasFocus){t.selectText(u.length)}},setHiddenValue:function(s){var v=this,z=v.hiddenName,w,y,q,t,u,x;if(!v.hiddenDataEl||!z){return}s=Ext.Array.from(s);y=v.hiddenDataEl.dom;q=y.childNodes;t=q[0];u=s.length;x=q.length;if(!t&&u>0){v.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",name:z}));x=1;t=y.firstChild}while(x>u){y.removeChild(q[0]);--x}while(x<u){y.appendChild(t.cloneNode(true));++x}for(w=0;w<u;w++){q[w].value=s[w]}},getDisplayValue:function(k){k=k||this.displayTplData;var g=this.getDisplayTpl().apply(k)||"";return g.replace(this.newlineRe,"")},getRecordDisplayData:function(f){return f.data},getValue:function(){var o=this,q=o.getStore(),p=o.picker,m=o.getRawValue(),n=o.value;if(!q.isEmptyStore&&o.getDisplayValue()!==m){o.displayTplData=undefined;if(p){o.valueCollection.suspendEvents();p.getSelectionModel().deselectAll();o.valueCollection.resumeEvents();o.lastSelection=null}if(q.isLoaded()&&(o.multiSelect||o.forceSelection)){n=o.value=undefined}else{n=o.value=m}}o.value=n==null?null:n;return o.value},getSubmitValue:function(){var f=this.getValue();if(Ext.isEmpty(f)){f=""}return f},isEqual:function(m,n){var p=Ext.Array.from,o,q;m=p(m);n=p(n);q=m.length;if(q!==n.length){return false}for(o=0;o<q;o++){if(n[o]!==m[o]){return false}}return true},clearValue:function(){this.setValue(null)}},0,["combo","combobox"],["component","box","field","textfield","pickerfield","combobox","combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true},["widget.combo","widget.combobox"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.form.field,"ComboBox",Ext.form,"ComboBox"],0));(Ext.cmd.derive("Ext.container.Monitor",Ext.Base,{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,clearPropertiesOnDestroy:false,clearPrototypeOnDestroy:false,disabled:0,constructor:function(f){Ext.apply(this,f)},destroy:function(){this.unbind();this.callParent()},bind:function(g){var k=this;k.target=g;g.on("beforedestroy",k.disable,k);k.onContainerAdd(g)},unbind:function(){var k=this,g=k.target;if(g&&!g.destroyed){k.onContainerRemove(g,g);g.un("beforedestroy",k.disable,k)}k.items=Ext.destroy(k.items)},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(g,k){if(!this.disabled){if(Ext.ComponentQuery.is(k,this.selector)){this.onItemAdd(k.ownerCt,k)}if(k.isQueryable){this.onContainerAdd(k)}}},onItemAdd:function(o,p){var m=this,q=m.items,n=m.addHandler;if(!m.disabled){if(n){n.call(m.scope||p,p)}if(q){q.add(p)}}p.clearPropertiesOnDestroy=p.clearPrototypeOnDestroy=false},onItemRemove:function(o,p){var m=this,q=m.items,n=m.removeHandler;if(!m.disabled){if(n){n.call(m.scope||p,p)}if(q){q.remove(p)}}},onContainerAdd:function(p,o){var v=this,s,u,q,t;if(p.isContainer){p.on({scope:v,add:v.handleAdd,dockedadd:v.handleAdd,remove:v.handleRemove,dockedremove:v.handleRemove})}if(o!==true){s=p.query(v.selector);for(q=0,u=s.length;q<u;++q){t=s[q];v.onItemAdd(t.ownerCt,t)}}s=p.query(">container");for(q=0,u=s.length;q<u;++q){v.onContainerAdd(s[q],true)}p.clearPropertiesOnDestroy=p.clearPrototypeOnDestroy=false},handleRemove:function(l,m){var k=this;if(!k.disabled){if(Ext.ComponentQuery.is(m,k.selector)){k.onItemRemove(l,m)}if(m.isQueryable){k.onContainerRemove(l,m)}}},onContainerRemove:function(p,s){var v=this,t,q,u,o;if(!s.destroyed&&s.isContainer){v.removeCtListeners(s);if(!s.destroying){t=s.query(v.selector);for(q=0,u=t.length;q<u;++q){o=t[q];v.onItemRemove(o.ownerCt,o)}t=s.query("container");for(q=0,u=t.length;q<u;++q){v.removeCtListeners(t[q])}}}v.invalidateItems(true)},removeCtListeners:function(k){var g=this;k.un({scope:g,add:g.handleAdd,dockedadd:g.handleAdd,remove:g.handleRemove,dockedremove:g.handleRemove})},getItems:function(){var g=this,k=g.items;if(!k){k=g.items=new Ext.util.MixedCollection();k.addAll(g.target.query(g.selector))}return k},invalidateItems:function(k){var l=this,m=l.invalidateHandler;if(k&&m){m.call(l.scope||l,l)}l.items=Ext.destroy(l.items)}},1,0,0,0,0,0,[Ext.container,"Monitor"],0));(Ext.cmd.derive("Ext.form.FieldAncestor",Ext.Mixin,{mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"},before:{doDestroy:"onBeforeDestroy"}},initFieldAncestor:function(){var f=this;f.monitor=new Ext.container.Monitor({scope:f,selector:"[isFormField]:not([excludeForm])",addHandler:f.onChildFieldAdd,removeHandler:f.onChildFieldRemove});f.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(l){var m=l.fieldDefaults,k=this.fieldDefaults;if(k){if(m){l.fieldDefaults=Ext.apply(Ext.Object.chain(m),k)}else{l.fieldDefaults=k}}},onChildFieldAdd:function(g){var k=this;k.mon(g,"errorchange",k.handleFieldErrorChange,k);k.mon(g,"validitychange",k.handleFieldValidityChange,k)},onChildFieldRemove:function(g){var k=this;k.mun(g,"errorchange",k.handleFieldErrorChange,k);k.mun(g,"validitychange",k.handleFieldValidityChange,k)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(k,l){var m=this;if(k!==m){m.fireEvent("fieldvaliditychange",m,k,l);m.onFieldValidityChange(k,l)}},handleFieldErrorChange:function(l,m){var k=this;if(l!==k){k.fireEvent("fielderrorchange",k,l,m);k.onFieldErrorChange(l,m)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,onBeforeDestroy:function(){this.monitor=Ext.destroy(this.monitor)}},0,0,0,0,0,0,[Ext.form,"FieldAncestor"],0));(Ext.cmd.derive("Ext.layout.component.field.FieldContainer",Ext.layout.component.Auto,{type:"fieldcontainer",waitForOuterHeightInDom:true,waitForOuterWidthInDom:true,beginLayout:function(g){var k=this.owner.containerEl;Ext.layout.component.Auto.prototype.beginLayout.call(this,g);g.hasRawContent=true;k.setStyle("width","");k.setStyle("height","");g.containerElContext=g.getEl("containerEl")},calculateOwnerHeightFromContentHeight:function(k,l){var m=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.call(this,k,l);return m+this.getHeightAdjustment()},calculateOwnerWidthFromContentWidth:function(k,l){var m=Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.call(this,k,l);return m+this.getWidthAdjustment()},measureContentHeight:function(f){return f.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentHeight.call(this,f):NaN},measureContentWidth:function(f){return f.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentWidth.call(this,f):NaN},publishInnerHeight:function(g,k){k-=this.getHeightAdjustment();g.containerElContext.setHeight(k)},publishInnerWidth:function(g,k){k-=this.getWidthAdjustment();g.containerElContext.setWidth(k)},privates:{getHeightAdjustment:function(){var k=this.owner,g=0;if(k.labelAlign==="top"&&k.hasVisibleLabel()){g+=k.labelEl.getHeight()}if(k.msgTarget==="under"&&k.hasActiveError()){g+=k.errorWrapEl.getHeight()}return g+k.bodyEl.getPadding("tb")},getWidthAdjustment:function(){var k=this.owner,g=0;if(k.labelAlign!=="top"&&k.hasVisibleLabel()){g+=(k.labelWidth+(k.labelPad||0))}if(k.msgTarget==="side"&&k.hasActiveError()){g+=k.errorWrapEl.getWidth()}return g+k.bodyEl.getPadding("lr")}}},0,0,0,0,["layout.fieldcontainer"],0,[Ext.layout.component.field,"FieldContainer"],0));(Ext.cmd.derive("Ext.form.FieldContainer",Ext.container.Container,{componentLayout:"fieldcontainer",componentCls:"x-form-fieldcontainer",shrinkWrap:true,autoEl:{tag:"div",role:"presentation"},childEls:["containerEl"],combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}"','<tpl if="ariaAttributes">','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){var f=this;f.initLabelable();f.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);f.initMonitor()},onAdd:function(k){var g=this;if(k.isLabelable&&Ext.isGecko&&Ext.firefoxVersion<37&&g.layout.type==="absolute"&&!g.hideLabel&&g.labelAlign!=="top"){k.x+=(g.labelWidth+g.labelPad)}Ext.container.Container.prototype.onAdd.apply(this,arguments);if(k.isLabelable&&g.combineLabels){k.oldHideLabel=k.hideLabel;k.hideLabel=true}g.updateLabel()},onRemove:function(m,l){var k=this;Ext.container.Container.prototype.onRemove.apply(this,arguments);if(!l){if(m.isLabelable&&k.combineLabels){m.hideLabel=m.oldHideLabel}k.updateLabel()}},initRenderData:function(){var k=this,g=Ext.container.Container.prototype.initRenderData.call(this);g.containerElCls=k.containerElCls;g=Ext.applyIf(g,k.getLabelableRenderData());if(k.labelAlign==="top"||k.msgTarget==="under"){g.extraFieldBodyCls+=" x-field-container-body-vertical"}g.tipAnchorTarget=k.id+"-containerEl";return g},getFieldLabel:function(){var f=this.fieldLabel||"";if(!f&&this.combineLabels){f=Ext.Array.map(this.query("[isFieldLabelable]"),function(e){return e.getFieldLabel()}).join(this.labelConnector)}return f},getSubTplData:function(){var f=this.initRenderData();Ext.apply(f,this.subTplData);return f},getSubTplMarkup:function(n){var l=this,o=l.lookupTpl("fieldSubTpl"),m;if(!o.renderContent){l.setupRenderTpl(o)}m=o.apply(l.getSubTplData(n));return m},updateLabel:function(){var g=this,k=g.labelEl;if(k){g.setFieldLabel(g.getFieldLabel())}},onFieldErrorChange:function(){if(this.combineErrors){var m=this,l=m.getActiveError(),n=Ext.Array.filter(m.query("[isFormField]"),function(e){return e.hasActiveError()}),o=m.getCombinedErrors(n);if(o){m.setActiveErrors(o)}else{m.unsetActiveError()}if(l!==m.getActiveError()){m.updateLayout()}}},getCombinedErrors:function(x){var f=[],z,B=x.length,u,y,t,A,w,v;for(z=0;z<B;z++){u=x[z];y=u.getActiveErrors();A=y.length;for(t=0;t<A;t++){w=y[t];v=u.getFieldLabel();f.push((v?v+": ":"")+w)}}return f},privates:{applyTargetCls:function(g){var k=this.containerElCls;this.containerElCls=k?k+" "+g:g},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){var f=this;if(!f.hasOwnProperty("renderTpl")){f.renderTpl=f.lookupTpl("labelableRenderTpl")}return Ext.container.Container.prototype.initRenderTpl.call(this)}}},0,["fieldcontainer"],["component","box","container","fieldcontainer"],{component:true,box:true,container:true,fieldcontainer:true},["widget.fieldcontainer"],[["labelable",Ext.form.Labelable],["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldContainer"],0));(Ext.cmd.derive("Ext.tip.Tip",Ext.panel.Panel,{alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",constrainPosition:true,autoRender:true,hidden:true,baseCls:"x-tip",focusOnToFront:false,maskOnDisable:false,closeAction:"hide",alwaysFramed:true,frameHeader:false,initComponent:function(){var f=this;f.floating=Ext.apply({},{shadow:f.shadow},f.self.prototype.floating);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);f.constrain=f.constrain||f.constrainPosition},showAt:function(g){var k=this;k.calledFromShowAt=true;Ext.panel.Panel.prototype.showAt.apply(this,arguments);if(k.isVisible()){k.doAlignment(k.getRegion().alignTo({target:new Ext.util.Point(g[0],g[1]),inside:k.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null,align:"tl-tl",overlap:true}))}k.calledFromShowAt=0},doAlignment:function(l){var n=this,m=n.anchorEl,o=l.anchor;n.setPagePosition([l.x,l.y]);if(m){m.removeCls(n.anchorCls);if(o){n.anchorCls="x-tip-anchor-"+o.position;m.addCls(n.anchorCls);m.show();if(o.align&1){m.setTop(l.anchor.y-l.y);m.dom.style.left=""}else{m.setLeft(l.anchor.x-l.x);m.dom.style.top=""}}else{m.hide()}}},privates:{initDraggable:function(){var f=this;f.draggable={el:f.getDragEl(),delegate:f.header.el,constrain:f,constrainTo:f.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(f)}},ghost:undefined,unghost:undefined},0,["tip"],["component","box","container","panel","tip"],{component:true,box:true,container:true,panel:true,tip:true},["widget.tip"],0,[Ext.tip,"Tip",Ext,"Tip"],0));(Ext.cmd.derive("Ext.tip.ToolTip",Ext.tip.Tip,{alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5000,mouseOffset:[15,18],trackMouse:false,anchorToTarget:true,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1000,defaultAlign:"bl-tl",ariaRole:"tooltip",alwaysOnTop:true,initComponent:function(){var f=this;Ext.tip.Tip.prototype.initComponent.call(this);f.setTarget(f.target);f.currentTarget=new Ext.dom.Fly()},onRender:function(l,m){var k=this;Ext.tip.Tip.prototype.onRender.apply(this,arguments);k.anchorEl=k.el.createChild({role:"presentation",cls:"x-tip-anchor"})},show:function(){if(!this.currentTarget.dom&&this.target){return this.showBy(this.target)}Ext.tip.Tip.prototype.show.call(this)},setTarget:function(k){var l=this,m;if(l.targetListeners){l.targetListeners.destroy()}if(k){l.target=k=Ext.get(k.el||k);m={mouseover:"onTargetOver",mouseout:"onTargetOut",mousemove:"onMouseMove",tap:"onTargetTap",scope:l,destroyable:true};l.targetListeners=k.on(m)}else{l.target=null}},onMouseMove:function(e){var l=this,m=l.dismissDelay;l.pointerEvent=e;if(l.isVisible()&&l.currentTarget.contains(e.target)){if(m&&l.autoHide!==false){l.clearTimer("dismiss");l.dismissTimer=Ext.defer(l.hide,m,l)}if(l.trackMouse){l.doAlignment(l.getAlignRegion())}}},getAlignRegion:function(){var t=this,p=t.anchorEl,v=t.getAnchorAlign(),u,o,q,s=t.mouseOffset;if(!t.anchorSize){p.addCls("x-tip-anchor-top");p.show();t.anchorSize=new Ext.util.Offset(p.getWidth(),p.getHeight());p.removeCls("x-tip-anchor-top");p.hide()}if((t.anchor||t.align)&&t.anchorToTarget&&!t.trackMouse){q=t.currentTarget.getRegion()}else{q=t.pointerEvent?t.pointerEvent.getPoint().adjust(-s[1],s[0],s[1],-s[0]):new Ext.util.Point();if(!t.anchor){u=true;if(s[0]>0){if(s[1]>0){v="tl-br"}else{v="bl-tr"}}else{if(s[1]>0){v="tr-bl"}else{v="br-tl"}}}}o={align:t.convertPositionSpec(v),axisLock:t.axisLock,target:q,overlap:u,offset:t.targetOffset,inside:t.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null};if(t.anchor){o.anchorSize=t.anchorSize}return t.getRegion().alignTo(o)},fadeOut:function(){var f=this;f.el.fadeOut({duration:f.fadeOutDuration,callback:function(){f.hide();f.el.setOpacity("")}})},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return this.defaultAlign}},onTargetTap:function(e){if(this.showOnTap&&e.pointerType!=="mouse"){this.onTargetOver(e)}},onTargetOver:function(e){var q=this,s=q.delegate,p=q.currentTarget,u=e.relatedTarget||e.fromElement,v,t=q.hasListeners;if(q.disabled){return}if(s){if(p.contains(e.target)){return}v=e.getTarget(s);if(v&&Ext.fly(v).contains(e.fromElement)){return}}else{if(!q.target.contains(u)){v=q.target.dom}else{return}}if(v){if((t.beforeshow||t.show)&&q.isVisible()){q.hide()}q.triggerElement=v;q.pointerEvent=e;p.attach(v);q.handleTargetOver(v,e)}else{if(p.dom){q.handleTargetOut()}}},handleTargetOver:function(g,k){if(k.pointerType!=="mouse"){this.showFromDelay()}else{this.delayShow()}},delayShow:function(){var f=this;f.clearTimer("hide");if(f.hidden&&!f.showTimer){if(f.delegate&&Ext.Date.getElapsed(f.lastHidden)<f.quickShowInterval){f.showFromDelay()}else{f.showTimer=Ext.defer(f.showFromDelay,f.pointerEvent.pointerType!=="mouse"?0:f.showDelay,f)}}else{if(!f.hidden&&f.autoHide!==false){f.showFromDelay()}}},showFromDelay:function(){var f=this;if(!f.disabled){f.fireEvent("hovertarget",f,f.currentTarget,f.currentTarget.dom);if(f.isVisible()){f.handleAfterShow()}else{f.triggerElement=f.currentTarget.dom;f.fromDelayShow=true;f.show();f.fromDelayShow=false}}},onTargetOut:function(e){if(this.currentTarget.dom&&!this.currentTarget.contains(e.relatedTarget)){this.handleTargetOut()}},handleTargetOut:function(){var f=this;if(f.showTimer){f.clearTimer("show")}if(f.isVisible()&&f.autoHide){f.delayHide()}},delayHide:function(){var f=this;if(!f.hidden&&!f.hideTimer){f.clearTimer("dismiss");f.hideTimer=Ext.defer(f[f.hideAction],f.hideDelay,f)}},hide:function(){var f=this;f.currentTarget.detach();f.clearTimer("dismiss");f.lastHidden=new Date();if(f.anchorEl){f.anchorEl.hide()}Ext.tip.Tip.prototype.hide.apply(this,arguments);f.triggerElement=null},afterShow:function(){Ext.tip.Tip.prototype.afterShow.call(this);this.handleAfterShow()},handleAfterShow:function(){var f=this;f.clearTimers();if(!f.calledFromShowAt){f.doAlignment(f.getAlignRegion())}if(f.dismissDelay&&f.autoHide!==false){f.dismissTimer=Ext.defer(f.hide,f.dismissDelay,f)}},showBy:function(f){this.align=this.defaultAlign;this.currentTarget.attach(Ext.getDom(f.el||f));this.triggerElement=this.currentTarget.dom;this.show()},_timerNames:{},clearTimer:function(q){var p=this,n=p._timerNames,o=n[q]||(n[q]=q+"Timer"),m=p[o];if(m){clearTimeout(m);p[o]=null;if(q==="show"&&p.isHidden()){p.currentTarget.detach()}}},clearTimers:function(){var f=this;f.clearTimer("show");f.clearTimer("dismiss");f.clearTimer("hide")},onShow:function(){var f=this;Ext.tip.Tip.prototype.onShow.call(this);f.mon(Ext.getDoc(),"mousedown",f.onDocMouseDown,f)},onHide:function(){var f=this;Ext.tip.Tip.prototype.onHide.call(this);f.mun(Ext.getDoc(),"mousedown",f.onDocMouseDown,f)},onDocMouseDown:function(e){var k=this;if(!k.closable&&!e.within(k.el.dom)){k.disable();Ext.defer(k.doEnable,100,k)}},doEnable:function(){if(!this.destroyed){this.enable()}},onDisable:function(){Ext.tip.Tip.prototype.onDisable.call(this);this.clearTimers();this.hide()},doDestroy:function(){var f=this;f.clearTimers();Ext.getDoc().un("mousedown",f.onDocMouseDown,f);Ext.destroy(f.anchorEl);Ext.tip.Tip.prototype.doDestroy.call(this)},privates:{clipTo:function(l,k){var m;if(l.isRegion){m=l}else{m=(l.isComponent?l.el:Ext.fly(l)).getConstrainRegion()}Ext.tip.Tip.prototype.clipTo.call(this,m,k);this.anchorEl.clipTo(m,k)}}},0,["tooltip"],["component","box","container","panel","tip","tooltip"],{component:true,box:true,container:true,panel:true,tip:true,tooltip:true},["widget.tooltip"],0,[Ext.tip,"ToolTip",Ext,"ToolTip"],0));(Ext.cmd.derive("Ext.tip.QuickTip",Ext.tip.ToolTip,{alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},isQuickTip:true,shrinkWrapDock:true,initComponent:function(){var k=this,l=k.tagConfig,m=l.attr||(l.attr=l.namespace+l.attribute);k.delegate=Ext.Function.bind(k.delegate,k);k.target=k.target||Ext.getDoc();k.targets=k.targets||{};Ext.tip.ToolTip.prototype.initComponent.call(this)},setTagConfig:function(f){this.tagConfig=Ext.apply({},f);delete this.tagConfig.attr},text:null,register:function(s){var v=Ext.isArray(s)?s:arguments,q=0,u=v.length,o,t,p;for(;q<u;q++){s=v[q];o=s.target;if(o){if(Ext.isArray(o)){for(t=0,p=o.length;t<p;t++){this.targets[Ext.id(o[t])]=s}}else{this.targets[Ext.id(o)]=s}}}},unregister:function(f){delete this.targets[Ext.id(f)]},cancelShow:function(m){var l=this,k=l.currentTarget;m=Ext.getDom(m);if(l.isVisible()){if(k.dom===m){l.hide()}}else{if(k.dom===m){l.clearTimer("show")}}},delegate:function(n){var o=this,p=o.tagConfig,q=p.attr||(p.attr=p.namespace+p.attribute),m;m=n.getAttribute(q)||(o.interceptTitles&&n.title);return !!m},getTipText:function(n){var o=n.title,p=this.tagConfig,q=p.attr||(p.attr=p.namespace+p.attribute),m;if(this.interceptTitles&&o){n.setAttribute(q,o);n.removeAttribute("title");return o}else{return n.getAttribute(q)}},onTargetOver:function(q){var s=this,o=s.currentTarget,p=q.target,u,v,t;if(!p||p.nodeType!==1||p===document.documentElement||p===document.body){return}s.pointerEvent=q;u=s.targets;for(t in u){if(u.hasOwnProperty(t)){v=u[t];if(v.target&&Ext.fly(v.target).contains(p)&&!Ext.fly(v.target).contains(q.relatedTarget)){p=Ext.getDom(v.target);o.attach(p);s.activeTarget=v;v.el=o;s.anchor=v.anchor;s.activateTarget();return}}}Ext.tip.ToolTip.prototype.onTargetOver.call(this,q)},handleTargetOver:function(w,p){var q=this,x=q.currentTarget,t=q.tagConfig,s=t.namespace,u=q.getTipText(w,p),v;if(u){v=x.getAttribute(s+t.hide);q.activeTarget={el:x,text:u,width:+x.getAttribute(s+t.width)||null,autoHide:v!=="user"&&v!=="false",title:x.getAttribute(s+t.title),cls:x.getAttribute(s+t.cls),align:x.getAttribute(s+t.align),showDelay:x.getAttribute(s+t.showDelay),hideAction:x.getAttribute(s+t.hideAction),alignTarget:x.getAttribute(s+t.anchorTarget)};if(!q.initialConfig.hasOwnProperty("anchor")){q.anchor=x.getAttribute(s+t.anchor)}if(q.anchor&&!q.initialConfig.hasOwnProperty("anchorTarget")){q.alignTarget=q.activeTarget.alignTarget||w}q.activateTarget()}},activateTarget:function(){var m=this,l=m.activeTarget,n=l.showDelay,o=l.hideAction;if(m.isVisible()){m.updateContent();m.handleAfterShow()}else{if(l.showDelay){n=m.showDelay;m.showDelay=parseInt(l.showDelay,10)}m.delayShow();if(l.showDelay){m.showDelay=n}if(!(o=l.hideAction)){delete m.hideAction}else{m.hideAction=o}}},getAnchorAlign:function(){var f=this.activeTarget;return(f&&f.align)||Ext.tip.ToolTip.prototype.getAnchorAlign.call(this)},getAlignRegion:function(){var m=this,l=m.activeTarget,n=m.currentTarget.dom,o;if(l&&l.alignTarget&&m.anchor&&!m.initialConfig.hasOwnProperty("anchorTarget")){m.currentTarget.attach(Ext.getDom(l.alignTarget))}m.anchorToTarget=!!(l.align||m.anchor);o=Ext.tip.ToolTip.prototype.getAlignRegion.call(this);m.currentTarget.attach(n);return o},handleTargetOut:function(e){var o=this,n=o.activeTarget,q=o.autoHide,p=o.hideDelay;if(n&&q!==false){o.autoHide=true;if(n.hideDelay){o.hideDelay=parseInt(n.hideDelay,10)}Ext.tip.ToolTip.prototype.handleTargetOut.call(this,e);o.autoHide=q;o.hideDelay=p}},targetTextEmpty:function(){var o=this,n=o.activeTarget,q=o.tagConfig,p,m;if(n){p=n.el;if(p){m=p.getAttribute(q.namespace+q.attribute);if(!m&&!o.targets[Ext.id(n.el.dom)]){return true}}}return false},show:function(){var g=this,k=g.fromDelayShow;if(k&&g.targetTextEmpty()){g.activeTarget=null;g.currentTarget.detach();return}Ext.tip.ToolTip.prototype.show.apply(this,arguments)},beforeShow:function(){this.updateContent();Ext.tip.ToolTip.prototype.beforeShow.apply(this,arguments)},updateContent:function(){var o=this,n=o.activeTarget,m=o.header,p,q;if(n){o.suspendLayouts();if(n.title){o.setTitle(n.title);m.show()}else{if(m){m.hide()}}o.update(n.text);o.autoHide=n.autoHide;p=n.dismissDelay;o.dismissDelay=Ext.isNumber(p)?p:o.dismissDelay;q=o.lastCls;if(q){o.removeCls(q);delete o.lastCls}q=n.cls;if(q){o.addCls(q);o.lastCls=q}o.setWidth(n.width);o.align=n.align;o.resumeLayouts(true)}},hide:function(){this.activeTarget=null;Ext.tip.ToolTip.prototype.hide.call(this)}},0,["quicktip"],["component","box","container","panel","tip","tooltip","quicktip"],{component:true,box:true,container:true,panel:true,tip:true,tooltip:true,quicktip:true},["widget.quicktip"],0,[Ext.tip,"QuickTip",Ext,"QuickTip"],0));(Ext.cmd.derive("Ext.tip.QuickTipManager",Ext.Base,{singleton:true,alternateClassName:"Ext.QuickTips",disabled:false,init:function(o,s){var p=this;if(!p.tip){if(!Ext.isReady){Ext.onInternalReady(function(){Ext.tip.QuickTipManager.init(o,s)});return false}var t=Ext.apply({disabled:p.disabled,id:"ext-quicktips-tip"},s),q=t.className,n=t.xtype;if(q){delete t.className}else{if(n){q="widget."+n;delete t.xtype}}if(o!==false){t.renderTo=document.body}p.tip=Ext.create(q||"Ext.tip.QuickTip",t);p.tip.destroy=Ext.emptyFn;Ext.quickTipsActive=true}},destroy:function(){var f=this.tip;if(f){delete f.destroy;f.destroy();this.tip=null}Ext.quickTipsActive=false},ddDisable:function(){var k=this,g=k.tip;if(g&&!k.disabled){g.disable()}},ddEnable:function(){var k=this,g=k.tip;if(g&&!k.disabled){g.enable()}},enable:function(){var k=this,g=k.tip;if(g){g.enable()}k.disabled=false},disable:function(){var k=this,g=k.tip;if(g){g.disable()}k.disabled=true},isEnabled:function(){var f=this.tip;return f!==undefined&&!f.disabled},getQuickTip:function(){return this.tip},register:function(){var f=this.tip;f.register.apply(f,arguments)},unregister:function(){var f=this.tip;f.unregister.apply(f,arguments)},tips:function(){var f=this.tip;f.register.apply(f,arguments)}},0,0,0,0,0,0,[Ext.tip,"QuickTipManager",Ext,"QuickTips"],0));(Ext.cmd.derive("Ext.picker.Color",Ext.Component,{alternateClassName:"Ext.ColorPalette",focusable:true,componentCls:"x-color-picker",selectedCls:"x-color-picker-selected",itemCls:"x-color-picker-item",value:null,clickEvent:"click",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" role="button" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var f=this;Ext.Component.prototype.initComponent.apply(this,arguments);if(f.handler){f.on("select",f.handler,f.scope,true)}},initRenderData:function(){var f=this;return Ext.apply(Ext.Component.prototype.initRenderData.call(this),{itemCls:f.itemCls,colors:f.colors})},onRender:function(){var g=this,k=g.clickEvent;Ext.Component.prototype.onRender.apply(this,arguments);g.mon(g.el,k,g.handleClick,g,{delegate:"a"});if(k!=="click"){g.mon(g.el,"click",Ext.emptyFn,g,{delegate:"a",stopEvent:true})}},afterRender:function(){var k=this,g;Ext.Component.prototype.afterRender.apply(this,arguments);if(k.value){g=k.value;k.value=null;k.select(g,true)}},handleClick:function(k){var l=this,m;k.stopEvent();if(!l.disabled){m=k.currentTarget.className.match(l.colorRe)[1];l.select(m.toUpperCase())}},select:function(t,u){var p=this,v=p.selectedCls,o=p.value,s,q;t=t.replace("#","");if(!p.rendered){p.value=t;return}if(t!==o||p.allowReselect){s=p.el;if(p.value){q=s.down("a.color-"+o,true);Ext.fly(q).removeCls(v)}q=s.down("a.color-"+t,true);Ext.fly(q).addCls(v);p.value=t;if(u!==true){p.fireEvent("select",p,t)}}},clear:function(){var l=this,k=l.value,m;if(k&&l.rendered){m=l.el.down("a.color-"+k,true);Ext.fly(m).removeCls(l.selectedCls)}l.value=null},getValue:function(){return this.value||null}},0,["colorpicker"],["component","box","colorpicker"],{component:true,box:true,colorpicker:true},["widget.colorpicker"],0,[Ext.picker,"Color",Ext,"ColorPalette"],0));(Ext.cmd.derive("Ext.layout.component.field.HtmlEditor",Ext.layout.component.field.FieldContainer,{type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(l){var m=this.owner,k;if(Ext.isGecko){k=m.textareaEl.dom;this.lastValue=k.value;k.value=""}Ext.layout.component.field.FieldContainer.prototype.beginLayout.apply(this,arguments);l.toolbarContext=l.context.getCmp(m.toolbar);l.inputCmpContext=l.context.getCmp(m.inputCmp);l.bodyCellContext=l.getEl("bodyEl");l.textAreaContext=l.getEl("textareaEl");l.iframeContext=l.getEl("iframeEl")},beginLayoutCycle:function(w){var x=this,s=w.widthModel,t=w.heightModel,u=x.owner,p=u.iframeEl,q=u.textareaEl,v=(t.natural||t.shrinkWrap)?x.naturalHeight:"";Ext.layout.component.field.FieldContainer.prototype.beginLayoutCycle.apply(this,arguments);if(s.shrinkWrap){p.setStyle("width","");q.setStyle("width","")}else{if(s.natural){w.bodyCellContext.setWidth(x.naturalWidth)}}p.setStyle("height",v);q.setStyle("height",v)},finishedLayout:function(){var f=this.owner;Ext.layout.component.field.FieldContainer.prototype.finishedLayout.apply(this,arguments);if(Ext.isGecko){f.textareaEl.dom.value=this.lastValue}}},0,0,0,0,["layout.htmleditor"],0,[Ext.layout.component.field,"HtmlEditor"],0));(Ext.cmd.derive("Ext.toolbar.Separator",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.Separator",baseCls:"x-toolbar-separator",ariaRole:"separator"},0,["tbseparator"],["component","box","tbitem","tbseparator"],{component:true,box:true,tbitem:true,tbseparator:true},["widget.tbseparator"],0,[Ext.toolbar,"Separator",Ext.Toolbar,"Separator"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.Menu",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="x-toolbar-no-items" role="menuitem">(None)</div>',menuCls:"x-box-menu",constructor:function(k){var g=this;Ext.layout.container.boxOverflow.None.prototype.constructor.call(this,k);g.menuItems=[]},beginLayout:function(f){Ext.layout.container.boxOverflow.None.prototype.beginLayout.call(this,f);this.clearOverflow(f)},beginLayoutCycle:function(g,k){Ext.layout.container.boxOverflow.None.prototype.beginLayoutCycle.call(this,g,k);if(!k){this.clearOverflow(g);this.layout.cacheChildItems(g)}},onRemove:function(f){Ext.Array.remove(this.menuItems,f)},clearItem:function(k){var g=k.menu;if(k.isButton&&g){k.setMenu(g,false)}},getSuffixConfig:function(){var l=this,m=l.layout,o=m.owner,n=o.id;l.menu=new Ext.menu.Menu({listeners:{scope:l,beforeshow:l.beforeMenuShow}});l.menuTrigger=new Ext.button.Button({id:n+"-menu-trigger",cls:l.menuCls+"-after x-toolbar-item",plain:o.usePlainButtons,ownerCt:o,ownerLayout:m,iconCls:"x-"+l.getOwnerType(o)+"-more-icon",ui:o.defaultButtonUI||"default",menu:l.menu,showEmptyMenu:true,getSplitCls:function(){return""}});return l.menuTrigger.getRenderTree()},getOverflowCls:function(f){return this.menuCls+"-body-"+f},handleOverflow:function(k){var l=this,m=l.layout;l.showTrigger(k);if(m.direction!=="vertical"){l.menuTrigger.setLocalY((k.state.boxPlan.maxSize-l.menuTrigger[m.names.getHeight]())/2)}return{reservedSpace:l.triggerTotalWidth}},captureChildElements:function(){var m=this,k=m.menuTrigger,l=m.layout.names;if(k.rendering){k.finishRender();m.triggerTotalWidth=k[l.getWidth]()+k.el.getMargin(l.parallelMargins)}},clearOverflow:function(x){var p=this,u=p.menuItems,q=u.length,v=p.layout.owner,w=v._asLayoutRoot,s,t;v.suspendLayouts();p.captureChildElements();p.hideTrigger();v.resumeLayouts();for(t=0;t<q;t++){s=u[t];s.suspendLayouts();s.show();p.clearItem(s);s.resumeLayouts(w)}u.length=0},showTrigger:function(F){var M=this,z=M.layout,H=z.owner,N=z.names,J=N.x,D=N.width,L=F.state.boxPlan,G=L.targetSize[D],B=F.childItems,C=M.menuTrigger,I=M.menuItems,K,A,E,O,P;C.suspendLayouts();C.show();C.resumeLayouts(M._asLayoutRoot);G-=M.triggerTotalWidth;H.suspendLayouts();for(E=0,P=I.length;E<P;++E){M.clearItem(I[E])}I.length=0;for(E=0,P=B.length;E<P;E++){K=B[E];O=K.props;if(O[J]+O[D]>G){A=K.target;M.menuItems.push(A);A.hide()}}H.resumeLayouts()},hideTrigger:function(){var f=this.menuTrigger;if(f){f.hide()}},beforeMenuShow:function(w){var x=this,u=x.menuItems,s=0,v=u.length,p,q,t=function(e,f){return e.isXType("buttongroup")&&!(f instanceof Ext.toolbar.Separator)};w.suspendLayouts();w.removeAll(false);for(;s<v;s++){p=u[s];if(!s&&(p instanceof Ext.toolbar.Separator)){continue}if(q&&(t(p,q)||t(q,p))){w.add("-")}x.addComponentToMenu(w,p);q=p}if(w.items.length<1){w.add(x.noItemsMenuText)}w.resumeLayouts()},createMenuConfig:function(m,o){var n=Ext.apply({},m.initialConfig),l=m.toggleGroup;Ext.copy(n,m,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]);Ext.applyIf(n,{hideOnClick:o,destroyMenu:false,listeners:null});n.text=m.overflowText||m.text;n.masterComponent=m;if(m.isFormField){n.value=m.getValue();if(m instanceof Ext.form.field.Checkbox){n={xtype:"menucheckitem",group:m.isRadio?m.name+"_clone":undefined,text:m.boxLabel||m.fieldLabel,name:m.name,masterComponent:m,checked:m.getValue(),hideOnClick:false,checkChangeDisabled:true}}n.listeners={change:function(g,e,f){g.masterComponent.setValue(e)}};m.on("change",function(g,e,f){g.overflowClone.setValue(e)})}else{if(l||m.enableToggle){Ext.apply(n,{hideOnClick:false,group:l,checked:m.pressed,handler:function(f,e){f.masterComponent.onClick(e)}})}}if(m.isButton&&!m.changeListenersAdded){m.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle});m.changeListenersAdded=true}m.on({enable:this.onComponentStatusChange,disable:this.onComponentStatusChange});delete n.margin;delete n.ownerCt;delete n.xtype;delete n.id;delete n.itemId;return n},onButtonAttrChange:function(k){var g=k.overflowClone;g.suspendLayouts();g.setText(k.text);g.setIcon(k.icon);g.setIconCls(k.iconCls);g.resumeLayouts(true)},onButtonToggle:function(k,g){if(k.overflowClone.checked!==g){k.overflowClone.setChecked(g)}},onComponentStatusChange:function(k){var g=k.overflowClone;if(g){g.setDisabled(k.disabled)}},addComponentToMenu:function(n,q){var o=this,p,s,t;if(q instanceof Ext.toolbar.Fill){return}else{if(q instanceof Ext.toolbar.Separator){n.add("-")}else{if(q.overflowClone){n.add(q.overflowClone)}else{if(q.isComponent){if(q.isXType("splitbutton")){q.overflowClone=n.add(o.createMenuConfig(q,true))}else{if(q.isXType("button")){q.overflowClone=n.add(o.createMenuConfig(q,!q.menu))}else{if(q.isXType("buttongroup")){s=q.items.items;t=s.length;for(p=0;p<t;p++){o.addComponentToMenu(n,s[p])}}else{if(q instanceof Ext.form.field.Checkbox){q.overflowClone=n.add(o.createMenuConfig(q));Ext.apply(q.overflowClone,{getValue:function(){return q.overflowClone.checked},setValue:function(){q.overflowClone.setChecked(q.getValue())}});q.overflowClone.on("click",function(e){e.setChecked(true);e.fireEvent("change",e,e.checked)})}else{q.overflowClone=n.add(Ext.create(Ext.getClassName(q),o.createMenuConfig(q)))}}}}}}}}},destroy:function(){Ext.destroy(this.menu,this.menuTrigger);this.callParent()}},1,0,0,0,["box.overflow.Menu","box.overflow.menu"],0,[Ext.layout.container.boxOverflow,"Menu",Ext.layout.boxOverflow,"Menu"],0));(Ext.cmd.derive("Ext.form.field.HtmlEditor",Ext.form.FieldContainer,{alternateClassName:"Ext.form.HtmlEditor",focusable:true,componentLayout:"htmleditor",textareaCls:"x-htmleditor-textarea",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" data-ref="textareaEl" name="{name}" tabindex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" data-ref="iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:true}],stretchInputElFixed:true,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera?"&#160;":"&#8203;",extraFieldBodyCls:"x-html-editor-wrap",defaultButtonUI:"default-toolbar",buttonDefaults:null,initialized:false,activated:false,sourceEditMode:false,iframePad:3,hideMode:"offsets",maskOnDisable:true,containerElCls:"x-html-editor-container",reStripQuotes:/^['"]*|['"]*$/g,textAlignRE:/text-align:(.*?);/i,safariNonsenseRE:/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,nonDigitsRE:/\D/g,initComponent:function(){var f=this;f.items=[f.createToolbar(),f.createInputCmp()];f.layout={type:"vbox",align:"stretch"};if(f.value==null){f.value=""}Ext.form.FieldContainer.prototype.initComponent.apply(this,arguments);f.initField()},createInputCmp:function(){this.inputCmp=Ext.widget(this.getInputCmpCfg());return this.inputCmp},getInputCmpCfg:function(){var m=this,k=m.id+"-inputCmp",l={id:k,name:m.name,textareaCls:m.textareaCls+" x-hidden",value:m.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:"x-htmleditor-iframe"};m.getInsertionRenderData(l,m.subTplInsertions);return{flex:1,xtype:"component",tpl:m.lookupTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:k,cls:"x-html-editor-input",data:l}},createToolbar:function(){this.toolbar=Ext.widget(this.getToolbarCfg());return this.toolbar},getToolbarCfg:function(){var x=this,u=[],q,v=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),s="x-",w,p;function t(e,g,f){return Ext.merge({itemId:e,cls:s+"btn-icon",iconCls:s+"edit-"+e,enableToggle:g!==false,scope:x,handler:f||x.relayBtnCmd,clickEvent:"mousedown",tooltip:v?x.buttonTips[e]:p,overflowText:x.buttonTips[e].title||p,tabIndex:-1},x.buttonDefaults)}if(x.enableFont&&!Ext.isSafari2){w=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" data-ref="selectEl" class="'+s+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){x.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var e=this.selectEl;if(e){e.dom.disabled=true}Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var e=this.selectEl;if(e){e.dom.disabled=false}Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){x.win.focus();x.relayCmd("fontName",x.fontSelect.dom.value);x.deferFocus()},element:"selectEl"}});u.push(w,"-")}if(x.enableFormat){u.push(t("bold"),t("italic"),t("underline"))}if(x.enableFontSize){u.push("-",t("increasefontsize",false,x.adjustFont),t("decreasefontsize",false,x.adjustFont))}if(x.enableColors){u.push("-",Ext.merge({itemId:"forecolor",cls:s+"btn-icon",iconCls:s+"edit-forecolor",overflowText:x.buttonTips.forecolor.title,tooltip:v?x.buttonTips.forecolor||p:p,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,clickEvent:"mousedown",handler:function(e,f){x.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+f:f);this.up("menu").hide()}}]})},x.buttonDefaults),Ext.merge({itemId:"backcolor",cls:s+"btn-icon",iconCls:s+"edit-backcolor",overflowText:x.buttonTips.backcolor.title,tooltip:v?x.buttonTips.backcolor||p:p,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,clickEvent:"mousedown",handler:function(e,f){if(Ext.isGecko){x.execCmd("useCSS",false);x.execCmd("hilitecolor","#"+f);x.execCmd("useCSS",true);x.deferFocus()}else{x.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+f:f)}this.up("menu").hide()}}]})},x.buttonDefaults))}if(x.enableAlignments){u.push("-",t("justifyleft"),t("justifycenter"),t("justifyright"))}if(!Ext.isSafari2){if(x.enableLinks){u.push("-",t("createlink",false,x.createLink))}if(x.enableLists){u.push("-",t("insertorderedlist"),t("insertunorderedlist"))}if(x.enableSourceEdit){u.push("-",t("sourceedit",true,function(){x.toggleSourceEdit(!x.sourceEditMode)}))}}for(q=0;q<u.length;q++){if(u[q].itemId!=="sourceedit"){u[q].disabled=true}}return{xtype:"toolbar",defaultButtonUI:x.defaultButtonUI,cls:"x-html-editor-tb",enableOverflow:true,items:u,listeners:{click:function(e){e.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(m){var n=this,o=n.textareaEl,p=n.iframeEl,q;n.readOnly=m;if(o){o.dom.readOnly=m}if(n.initialized){q=n.getEditorBody();if(Ext.isIE){p.setDisplayed(false);q.contentEditable=!m;p.setDisplayed(true)}else{n.setDesignMode(!m)}if(q){q.style.cursor=m?"default":"text"}n.disableItems(m)}},getDocMarkup:function(){var g=this,k=g.iframeEl.getHeight()-g.iframePad*2;return Ext.String.format('<!DOCTYPE html><html><head><style type="text/css">'+(Ext.isOpera||Ext.isIE?"p{margin:0;}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(g.rtl?"rtl;":"ltr;")+(Ext.isIE8?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",g.iframePad,k,g.defaultFont)},getEditorBody:function(){var f=this.getDoc();return f.body||f.documentElement},getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var t=this,z=0,s,y,q,v,w,u,x;if(!t.defaultFont){y=t.textareaEl.getStyle("font-family");y=Ext.String.capitalize(y.split(",")[0]);s=Ext.Array.clone(t.fontFamilies);Ext.Array.include(s,y);s.sort();t.defaultFont=y;q=t.down("#fontSelect").selectEl.dom;for(w=0,u=s.length;w<u;++w){y=s[w];x=y.toLowerCase();v=new Option(y,x);if(y===t.defaultFont){z=w}v.style.fontFamily=x;if(Ext.isIE){q.add(v)}else{q.options.add(v)}}q.options[z].selected=true}},isEqual:function(g,k){return this.isEqualAsString(g,k)},afterRender:function(){var g=this,k=g.inputCmp;Ext.form.FieldContainer.prototype.afterRender.apply(this,arguments);g.iframeEl=k.iframeEl;g.textareaEl=k.textareaEl;g.inputEl=g.iframeEl;if(g.enableFont){g.initDefaultFont()}g.monitorTask=Ext.TaskManager.start({run:g.checkDesignMode,scope:g,interval:100})},initFrameDoc:function(){var l=this,k,m;Ext.TaskManager.stop(l.monitorTask);k=l.getDoc();l.win=l.getWin();k.open();k.write(l.getDocMarkup());k.close();m={run:function(){var e=l.getDoc();if(e.body||e.readyState==="complete"){Ext.TaskManager.stop(m);l.setDesignMode(true);Ext.defer(l.initEditor,10,l)}},interval:10,duration:10000,scope:l};Ext.TaskManager.start(m)},checkDesignMode:function(){var k=this,g=k.getDoc();if(g&&(!g.editorInitialized||k.getDesignMode()!=="on")){k.initFrameDoc()}},setDesignMode:function(k){var m=this,l=m.getDoc();if(l){if(m.readOnly){k=false}l.designMode=(/on|true/i).test(String(k).toLowerCase())?"on":"off"}},getDesignMode:function(){var f=this.getDoc();return !f?"":String(f.designMode).toLowerCase()},disableItems:function(n){var p=this.getToolbar().items.items,o,q=p.length,m;for(o=0;o<q;o++){m=p[o];if(m.getItemId()!=="sourceedit"){m.setDisabled(n)}}},toggleSourceEdit:function(s){var n=this,p=n.iframeEl,t=n.textareaEl,o="x-hidden",q=n.getToolbar().getComponent("sourceedit");if(!Ext.isBoolean(s)){s=!n.sourceEditMode}n.sourceEditMode=s;if(q.pressed!==s){q.toggle(s)}if(s){n.disableItems(true);n.syncValue();p.addCls(o);t.removeCls(o);t.dom.removeAttribute("tabIndex");t.focus();n.inputEl=t}else{if(n.initialized){n.disableItems(n.readOnly)}n.pushValue();p.removeCls(o);t.addCls(o);t.dom.setAttribute("tabIndex",-1);n.deferFocus();n.inputEl=p}n.fireEvent("editmodechange",n,s);n.updateLayout()},createLink:function(){var f=prompt(this.createLinkText,this.defaultLinkValue);if(f&&f!=="http://"){this.relayCmd("createlink",f)}},clearInvalid:Ext.emptyFn,setValue:function(k){var l=this,m=l.textareaEl;if(k===null||k===undefined){k=""}if(l.value!==k){if(m){m.dom.value=k}l.pushValue();if(!l.rendered&&l.inputCmp){l.inputCmp.data.value=k}l.mixins.field.setValue.call(l,k)}return l},cleanHtml:function(f){f=String(f);if(Ext.isWebKit){f=f.replace(this.safariNonsenseRE,"")}if(f.charCodeAt(0)===parseInt(this.defaultValue.replace(this.nonDigitsRE,""),10)){f=f.substring(1)}return f},syncValue:function(){var o=this,t,v,q,u,s,p;if(o.initialized){t=o.getEditorBody();q=t.innerHTML;p=o.textareaEl.dom;if(Ext.isWebKit){u=t.getAttribute("style");s=u.match(o.textAlignRE);if(s&&s[1]){q='<div style="'+s[0]+'">'+q+"</div>"}}q=o.cleanHtml(q);if(o.fireEvent("beforesync",o,q)!==false){if(Ext.isGecko&&p.value===""&&q==="<br>"){q=""}if(p.value!==q){p.value=q;v=true}o.fireEvent("sync",o,q);if(v){o.checkChange()}}}},getValue:function(){var k=this,g;if(!k.sourceEditMode){k.syncValue()}g=k.rendered?k.textareaEl.dom.value:k.value;k.value=g;return g},pushValue:function(){var g=this,k;if(g.initialized){k=g.textareaEl.dom.value||"";if(!g.activated&&k.length<1){k=g.defaultValue}if(g.fireEvent("beforepush",g,k)!==false){g.getEditorBody().innerHTML=k;if(Ext.isGecko){g.setDesignMode(false);g.setDesignMode(true)}g.fireEvent("push",g,k)}}},focus:function(n,p){var o=this,m,q;if(p){if(!o.focusTask){o.focusTask=new Ext.util.DelayedTask(o.focus)}o.focusTask.delay(Ext.isNumber(p)?p:10,null,o,[n,false])}else{if(n){if(o.textareaEl&&o.textareaEl.dom){m=o.textareaEl.dom.value}if(m&&m.length){o.execCmd("selectall",true)}}q=o.getFocusEl();if(q&&q.focus){q.focus()}}return o},initEditor:function(){var p=this,q,t,v,u,s;if(p.destroying||p.destroyed){return}q=p.getEditorBody();if(!q){setTimeout(function(){p.initEditor()},10);return}t=p.textareaEl.getStyle(["font-size","font-family","background-image","background-repeat","background-color","color"]);t["background-attachment"]="fixed";q.bgProperties="fixed";Ext.DomHelper.applyStyles(q,t);v=p.getDoc();u=Ext.get(v);if(u){try{u.clearListeners()}catch(e){}s=p.onEditorEvent.bind(p);u.on({mousedown:s,dblclick:s,click:s,keyup:s,delegated:false,buffer:100});s=p.onRelayedEvent;u.on({mousedown:s,mousemove:s,mouseup:s,click:s,dblclick:s,delegated:false,scope:p});if(Ext.isGecko){u.on("keypress",p.applyCommand,p)}if(p.fixKeys){u.on("keydown",p.fixKeys,p,{delegated:false})}if(p.fixKeysAfter){u.on("keyup",p.fixKeysAfter,p,{delegated:false})}if(Ext.isIE9){Ext.get(v.documentElement).on("focus",p.focus,p)}if(Ext.isIE8){u.on("focusout",function(){p.savedSelection=v.selection.type!=="None"?v.selection.createRange():null},p);u.on("focusin",function(){if(p.savedSelection){p.savedSelection.select()}},p)}Ext.getWin().on("unload",p.destroyEditor,p);v.editorInitialized=true;p.initialized=true;p.pushValue();p.setReadOnly(p.readOnly);p.fireEvent("initialize",p)}},destroyEditor:function(){var q=this,n=q.monitorTask,o,e;if(n){Ext.TaskManager.stop(n)}if(q.rendered){Ext.getWin().un("unload",q.destroyEditor,q);o=q.getDoc();if(o){Ext.get(o).destroy();if(o.hasOwnProperty){for(e in o){try{if(o.hasOwnProperty(e)){delete o[e]}}catch(p){}}}}delete q.iframeEl;delete q.textareaEl;delete q.toolbar;delete q.inputCmp}},doDestroy:function(){this.destroyEditor();Ext.form.FieldContainer.prototype.doDestroy.call(this)},onRelayedEvent:function(o){var p=this.iframeEl,n=Ext.fly(p).getTrueXY(),m=o.getXY(),q=o.getXY();o.xy=[n[0]+q[0],n[1]+q[1]];o.injectEvent(p);o.xy=m},onFirstFocus:function(){var m=this,n,o;m.activated=true;m.disableItems(m.readOnly);if(Ext.isGecko){m.win.focus();n=m.win.getSelection();if(n.focusNode&&!m.getValue().length){o=n.getRangeAt(0);o.selectNodeContents(m.getEditorBody());o.collapse(true);m.deferFocus()}try{m.execCmd("useCSS",true);m.execCmd("styleWithCSS",false)}catch(e){}}m.fireEvent("activate",m)},adjustFont:function(n){var m=n.getItemId()==="increasefontsize"?1:-1,o=this.getDoc().queryCommandValue("FontSize")||"2",q=Ext.isString(o)&&o.indexOf("px")!==-1,p;o=parseInt(o,10);if(q){if(o<=10){o=1+m}else{if(o<=13){o=2+m}else{if(o<=16){o=3+m}else{if(o<=18){o=4+m}else{if(o<=24){o=5+m}else{o=6+m}}}}}o=Ext.Number.constrain(o,1,6)}else{p=Ext.isSafari;if(p){m*=2}o=Math.max(1,o+m)+(p?"px":0)}this.relayCmd("FontSize",o)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){var t=this,w,y,x,l,z,v,A,u;if(t.readOnly){return}if(!t.activated){t.onFirstFocus();return}x=t.getToolbar().items.map;l=t.getDoc();if(t.enableFont&&!Ext.isSafari2){v=l.queryCommandValue("fontName");z=(v?v.split(",")[0].replace(t.reStripQuotes,""):t.defaultFont).toLowerCase();A=t.fontSelect.dom;if(z!==A.value||z!==v){A.value=z}}function B(){var e;for(w=0,y=arguments.length,z;w<y;w++){z=arguments[w];try{e=l.queryCommandState(z)}catch(f){e=false}x[z].toggle(e)}}if(t.enableFormat){B("bold","italic","underline")}if(t.enableAlignments){B("justifyleft","justifycenter","justifyright")}if(!Ext.isSafari2&&t.enableLists){B("insertorderedlist","insertunorderedlist")}u=t.toolbar.query("menu");for(w=0;w<u.length;w++){u[w].hide()}t.syncValue()},relayBtnCmd:function(f){this.relayCmd(f.getItemId())},relayCmd:function(g,k){Ext.defer(function(){var e=this;if(!this.destroyed){e.win.focus();e.execCmd(g,k);e.updateToolbar()}},10,this)},execCmd:function(m,n){var o=this,l=o.getDoc();l.execCommand(m,false,(n===undefined?null:n));o.syncValue()},applyCommand:function(m){if(m.ctrlKey){var o=this,e=m.getCharCode(),n;if(e>0){e=String.fromCharCode(e);switch(e){case"b":n="bold";break;case"i":n="italic";break;case"u":n="underline";break}if(n){o.win.focus();o.execCmd(n);o.deferFocus();m.preventDefault()}}}},insertAtCursor:function(t){var v=this,w=v.getWin(),u=v.getDoc(),A,x,z,D,y,B,C;if(v.activated){w.focus();if(w.getSelection){A=w.getSelection();if(A.getRangeAt&&A.rangeCount){x=A.getRangeAt(0);x.deleteContents();z=u.createElement("div");z.innerHTML=t;D=u.createDocumentFragment();while((y=z.firstChild)){B=D.appendChild(y)}C=D.firstChild;x.insertNode(D);if(B){x=x.cloneRange();x.setStartAfter(B);x.collapse(true);A.removeAllRanges();A.addRange(x)}}}else{if(u.selection&&A.type!=="Control"){A=u.selection;x=A.createRange();x.collapse(true);A.createRange().pasteHTML(t)}}v.deferFocus()}},fixKeys:(function(){var f;if(Ext.isIE10m){return function(u){var k=this,q=u.getKey(),v=k.getDoc(),t=k.readOnly,s,e;if(q===u.TAB){u.stopEvent();if(!t){s=v.selection.createRange();if(s){if(s.collapse){s.collapse(true);s.pasteHTML("&#160;&#160;&#160;&#160;")}k.deferFocus()}}}}}if(Ext.isOpera){return function(k){var n=this,o=k.getKey(),e=n.readOnly;if(o===k.TAB){k.stopEvent();if(!e){n.win.focus();n.execCmd("InsertHTML","&#160;&#160;&#160;&#160;");n.deferFocus()}}}}return null}()),fixKeysAfter:(function(){if(Ext.isIE){return function(e){var p=this,q=e.getKey(),k=p.getDoc(),s=p.readOnly,t;if(!s&&(q===e.BACKSPACE||q===e.DELETE)){t=k.body.innerHTML;if(t==="<p>&nbsp;</p>"||t==="<P>&nbsp;</P>"){k.body.innerHTML=""}}}}return null}()),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}},privates:{deferFocus:function(){this.focus(false,true)},getFocusEl:function(){return this.sourceEditMode?this.textareaEl:this.iframeEl}}},0,["htmleditor"],["component","box","container","fieldcontainer","htmleditor"],{component:true,box:true,container:true,fieldcontainer:true,htmleditor:true},["widget.htmleditor"],[["field",Ext.form.field.Field]],[Ext.form.field,"HtmlEditor",Ext.form,"HtmlEditor"],0));Ext.define("Ext.theme.neptune.form.field.HtmlEditor",{override:"Ext.form.field.HtmlEditor",defaultButtonUI:"plain-toolbar"});Ext.onReady(function(){var k=Ext.ClassManager,g=Ext.Function.bind(k.get,k);if(Ext.Updater){Ext.Updater.defaults.indicatorText='<div class="loading-indicator">Pemuatan...</div>'}if(Ext.Date){Ext.Date.monthNames=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];Ext.Date.getShortMonthName=function(e){return Ext.Date.monthNames[e].substring(0,3)};Ext.Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,Mei:4,Jun:5,Jul:6,Agu:7,Sep:8,Okt:9,Nov:10,Des:11};Ext.Date.getMonthNumber=function(e){return Ext.Date.monthNumbers[e.substring(0,1).toUpperCase()+e.substring(1,3).toLowerCase()]};Ext.Date.dayNames=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"];Ext.Date.getShortDayName=function(e){return Ext.Date.dayNames[e].substring(0,3)}}if(Ext.MessageBox){Ext.MessageBox.buttonText={ok:"OK",cancel:"Batal",yes:"Ya",no:"Tidak"}}if(Ext.util&&Ext.util.Format){Ext.apply(Ext.util.Format,{thousandSeparator:".",decimalSeparator:",",currencySign:"Rp",dateFormat:"d/m/Y"})}});Ext.define("Ext.locale.id.view.View",{override:"Ext.view.View",emptyText:""});Ext.define("Ext.locale.id.grid.plugin.DragDrop",{override:"Ext.grid.plugin.DragDrop",dragText:"{0} baris terpilih"});Ext.define("Ext.locale.id.tab.Tab",{override:"Ext.tab.Tab",closeText:"Tutup tab ini"});Ext.define("Ext.locale.id.form.field.Base",{override:"Ext.form.field.Base",invalidText:"Isian belum benar"});Ext.define("Ext.locale.id.view.AbstractView",{override:"Ext.view.AbstractView",loadingText:"Pemuatan..."});Ext.define("Ext.locale.id.picker.Date",{override:"Ext.picker.Date",todayText:"Hari ini",minText:"Tanggal ini sebelum batas tanggal minimal",maxText:"Tanggal ini setelah batas tanggal maksimal",disabledDaysText:"",disabledDatesText:"",nextText:"Bulan Berikut (Kontrol+Kanan)",prevText:"Bulan Sebelum (Kontrol+Kiri)",monthYearText:"Pilih bulan (Kontrol+Atas/Bawah untuk pindah tahun)",todayTip:"{0} (Spacebar)",format:"d/m/y",startDay:1});Ext.define("Ext.locale.id.picker.Month",{override:"Ext.picker.Month",okText:"&#160;OK&#160;",cancelText:"Batal"});Ext.define("Ext.locale.id.toolbar.Paging",{override:"Ext.PagingToolbar",beforePageText:"Hal",afterPageText:"dari {0}",firstText:"Hal. Pertama",prevText:"Hal. Sebelum",nextText:"Hal. Berikut",lastText:"Hal. Akhir",refreshText:"Segarkan",displayMsg:"Menampilkan {0} - {1} dari {2}",emptyMsg:"Data tidak ditemukan"});Ext.define("Ext.locale.id.form.field.Text",{override:"Ext.form.field.Text",minLengthText:"Panjang minimal untuk field ini adalah {0}",maxLengthText:"Panjang maksimal untuk field ini adalah {0}",blankText:"Field ini wajib diisi",regexText:"",emptyText:null});Ext.define("Ext.locale.id.form.field.Number",{override:"Ext.form.field.Number",minText:"Nilai minimal untuk field ini adalah {0}",maxText:"Nilai maksimal untuk field ini adalah {0}",nanText:"{0} bukan angka"});Ext.define("Ext.locale.id.form.field.Date",{override:"Ext.form.field.Date",disabledDaysText:"Disfungsi",disabledDatesText:"Disfungsi",minText:"Tanggal dalam field ini harus setelah {0}",maxText:"Tanggal dalam field ini harus sebelum {0}",invalidText:"{0} tanggal salah - Harus dalam format {1}",format:"d/m/y",altFormats:"d/m/Y|d-m-y|d-m-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d"});Ext.define("Ext.locale.id.form.field.ComboBox",{override:"Ext.form.field.ComboBox",valueNotFoundText:undefined},function(){Ext.apply(Ext.form.field.ComboBox.prototype.defaultListConfig,{loadingText:"Pemuatan..."})});Ext.define("Ext.locale.id.form.field.VTypes",{override:"Ext.form.field.VTypes",emailText:'Field ini harus dalam format email seperti "user@example.com"',urlText:'Field ini harus dalam format URL seperti "http://www.example.com"',alphaText:"Field ini harus terdiri dari huruf dan _",alphanumText:"Field ini haris terdiri dari huruf, angka dan _"});Ext.define("Ext.locale.id.form.field.HtmlEditor",{override:"Ext.form.field.HtmlEditor",createLinkText:"Silakan masukkan URL untuk tautan:"},function(){Ext.apply(Ext.form.field.HtmlEditor.prototype,{buttonTips:{bold:{title:"Tebal (Ctrl+B)",text:"Buat tebal teks terpilih",cls:"x-html-editor-tip"},italic:{title:"Miring (CTRL+I)",text:"Buat miring teks terpilih",cls:"x-html-editor-tip"},underline:{title:"Garisbawah (CTRl+U)",text:"Garisbawahi teks terpilih",cls:"x-html-editor-tip"},increasefontsize:{title:"Perbesar teks",text:"Perbesar ukuran fonta",cls:"x-html-editor-tip"},decreasefontsize:{title:"Perkecil teks",text:"Perkecil ukuran fonta",cls:"x-html-editor-tip"},backcolor:{title:"Sorot Warna Teks",text:"Ubah warna latar teks terpilih",cls:"x-html-editor-tip"},forecolor:{title:"Warna Fonta",text:"Ubah warna teks terpilih",cls:"x-html-editor-tip"},justifyleft:{title:"Rata Kiri",text:"Ratakan teks ke kiri",cls:"x-html-editor-tip"},justifycenter:{title:"Rata Tengah",text:"Ratakan teks ke tengah editor",cls:"x-html-editor-tip"},justifyright:{title:"Rata Kanan",text:"Ratakan teks ke kanan",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Daftar Bulet",text:"Membuat daftar berbasis bulet",cls:"x-html-editor-tip"},insertorderedlist:{title:"Daftar Angka",text:"Membuat daftar berbasis angka",cls:"x-html-editor-tip"},createlink:{title:"Hipertaut",text:"Buat teks terpilih sebagai Hipertaut",cls:"x-html-editor-tip"},sourceedit:{title:"Edit Kode Sumber",text:"Pindah dalam mode kode sumber",cls:"x-html-editor-tip"}}})});Ext.define("Ext.locale.id.grid.header.Container",{override:"Ext.grid.header.Container",sortAscText:"Urut Naik",sortDescText:"Urut Turun",lockText:"Kancing Kolom",unlockText:"Lepas Kunci Kolom",columnsText:"Kolom"});Ext.define("Ext.locale.id.grid.GroupingFeature",{override:"Ext.grid.feature.Grouping",emptyGroupText:"(Kosong)",groupByText:"Kelompokkan Berdasar Field Ini",showGroupsText:"Tampil Dalam Kelompok"});Ext.define("Ext.locale.id.grid.PropertyColumnModel",{override:"Ext.grid.PropertyColumnModel",nameText:"Nama",valueText:"Nilai",dateFormat:"d/m/Y"});Ext.define("Ext.locale.id.window.MessageBox",{override:"Ext.window.MessageBox",buttonText:{ok:"OK",cancel:"Batal",yes:"Ya",no:"Tidak"}});Ext.define("Ext.locale.id.Component",{override:"Ext.Component"});Ext.define("Ext.overrides.app.domain.Component",{override:"Ext.app.domain.Component"},function(f){f.monitor(Ext.Component)});(Ext.cmd.derive("Ext.app.EventBus",Ext.Base,{singleton:true,constructor:function(){var g=this,k=Ext.app.EventDomain.instances;g.callParent();g.domains=k;g.bus=k.component.bus},control:function(g,k){return this.domains.component.listen(g,k)},listen:function(l,n){var o=this.domains,m;for(m in l){if(l.hasOwnProperty(m)){o[m].listen(l[m],n)}}},unlisten:function(k){var m=Ext.app.EventDomain.instances,l;for(l in m){m[l].unlisten(k)}}},1,0,0,0,0,0,[Ext.app,"EventBus"],0));(Ext.cmd.derive("Ext.app.domain.Global",Ext.app.EventDomain,{singleton:true,type:"global",constructor:function(){var f=this;f.callParent();f.monitor(Ext.GlobalEvents)},listen:function(g,k){this.callParent([{global:g},k])},match:Ext.returnTrue},1,0,0,0,0,0,[Ext.app.domain,"Global"],0));(Ext.cmd.derive("Ext.app.BaseController",Ext.Base,{isController:true,config:{id:undefined,control:null,listen:null,routes:null,before:null},constructor:function(k){var g=this;Ext.apply(g,k);delete g.control;delete g.listen;g.eventbus=Ext.app.EventBus;g.mixins.observable.constructor.call(g,k)},updateId:function(f){this.id=f},applyListen:function(f){if(Ext.isObject(f)){f=Ext.clone(f)}return f},applyControl:function(f){if(Ext.isObject(f)){f=Ext.clone(f)}return f},updateControl:function(f){this.getId();if(f){this.control(f)}},updateListen:function(f){this.getId();if(f){this.listen(f)}},updateRoutes:function(t){if(t){var p=this,o=p.getBefore()||{},u=Ext.app.route.Router,q,s,v;for(q in t){s=t[q];if(Ext.isString(s)){s={action:s}}v=s.action;if(!s.before){s.before=o[v]}u.connect(q,s,p)}}},isActive:function(){return true},control:function(s,q,t){var p=this,o=t,n;if(Ext.isString(s)){n={};n[s]=q}else{n=s;o=q}p.eventbus.control(n,o||p)},listen:function(g,k){this.eventbus.listen(g,k||this)},destroy:function(){var g=this,k=g.eventbus;Ext.app.route.Router.disconnectAll(g);if(k){k.unlisten(g);g.eventbus=null}g.callParent()},redirectTo:function(m,l){if(m.isModel){m=m.toUrl()}var o=Ext.util.History.getToken()===m,n=false;if(!o){n=true;Ext.util.History.add(m)}else{if(l){n=true;Ext.app.route.Router.onStateChange(m)}}return n}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.app,"BaseController"],0));(Ext.cmd.derive("Ext.app.Util",Ext.Base,{},0,0,0,0,0,0,[Ext.app,"Util"],function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(m){var l=Ext.app.namespaces,n,o;if(!Ext.isArray(m)){m=[m]}for(n=0,o=m.length;n<o;n++){l[m[n]]=true}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(n){var l=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),o="",m;for(m in l){if(l.hasOwnProperty(m)&&m.length>o.length&&(m+"."===n.substring(0,m.length+1))){o=m}}return o===""?undefined:o},setupPaths:function(q,p,m){var n=Ext.manifest,o;if(q&&p!==null){n=n&&n.paths;if(!n||p!==undefined){Ext.Loader.setPath(q,(p===undefined)?"app":p)}}if(m){for(o in m){if(m.hasOwnProperty(o)){Ext.Loader.setPath(o,m[o])}}}}});Ext.getNamespace=Ext.app.getNamespace}));(Ext.cmd.derive("Ext.app.domain.Store",Ext.app.EventDomain,{singleton:true,type:"store",prefix:"store.",idMatchRe:/^\#/,constructor:function(){var f=this;f.callParent();f.monitor(Ext.data.AbstractStore)},match:function(l,n){var o=false,m=l.alias;if(n==="*"){o=true}else{if(this.idMatchRe.test(n)){o=l.getStoreId()===n.substring(1)}else{if(m){o=Ext.Array.indexOf(m,this.prefix+n)>-1}}}return o}},1,0,0,0,0,0,[Ext.app.domain,"Store"],0));(Ext.cmd.derive("Ext.app.route.Queue",Ext.Base,{queue:null,token:null,constructor:function(f){Ext.apply(this,f);this.queue=new Ext.util.MixedCollection()},queueAction:function(k,g){this.queue.add({route:k,args:g})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var m=this.queue,k=m.removeAt(0),l;if(k){l=k&&k.route;l.execute(this.token,k.args,this.onActionExecute,this)}},onActionExecute:function(f){if(f){this.clearQueue()}else{this.runQueue()}}},1,0,0,0,0,0,[Ext.app.route,"Queue"],0));(Ext.cmd.derive("Ext.app.route.Route",Ext.Base,{action:null,conditions:null,controller:null,allowInactive:false,url:null,before:null,caseInsensitive:false,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(l){var k=this,m;Ext.apply(k,l,{conditions:{}});m=k.url;k.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g);k.paramsInMatchString=m.match(k.paramMatchingRegex)||[];k.matcherRegex=k.createMatcherRegex(m)},recognize:function(o){var n=this,q=n.controller,m,p;if((n.allowInactive||q.isActive())&&n.recognizes(o)){m=n.matchesFor(o);p=o.match(n.matcherRegex);p.shift();return Ext.applyIf(m,{controller:q,action:n.action,historyUrl:o,args:p})}return false},recognizes:function(f){return this.matcherRegex.test(f)},execute:function(t,x,w,s){var u=x.args||[],p=this.before,v=this.controller,q=this.createCallback(x,w,s);if(p){u.push(q);if(Ext.isString(p)){p=this.before=v[p]}if(p){p.apply(v,u)}}else{q.resume()}},matchesFor:function(q){var n={},o=this.paramsInMatchString,s=q.match(this.matcherRegex),p=0,t=o.length;s.shift();for(;p<t;p++){n[o[p].replace(":","")]=s[p]}return n},createMatcherRegex:function(B){var z=this.paramsInMatchString,u=this.conditions,y=0,w=z.length,t=Ext.util.Format.format,s=this.caseInsensitive?"i":"",A,v,x;for(;y<w;y++){A=z[y];v=u[A];x=t("{0}",v||"([%a-zA-Z0-9\\-\\_\\s,]+)");B=B.replace(new RegExp(A),x)}return new RegExp("^"+B+"$",s)},createCallback:function(o,l,n){var m=this;n=n||m;return{resume:function(){var f=m.controller,g=m.action,e;if(Ext.isString(g)){g=f[g]}o=o&&o.args?o.args:[];e=o.pop();if(e&&!Ext.isObject(e)){o.push(e)}if(g){m.action=g;g.apply(f,o)}if(l){l.call(n)}},stop:function(e){if(l){l.call(n,e)}}}}},1,0,0,0,0,0,[Ext.app.route,"Route"],0));(Ext.cmd.derive("Ext.util.History",Ext.Base,{singleton:true,alternateClassName:"Ext.History",useTopWindow:false,constructor:function(){var f=this;f.hiddenField=null;f.ready=false;f.currentToken=null;f.mixins.observable.constructor.call(f)},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(e){try{this.win.location.hash=e;this.currentToken=e}catch(k){}},handleStateChange:function(f){this.currentToken=f;this.fireEvent("change",f)},startUp:function(){var f=this;f.currentToken=f.getHash();if(Ext.supports.Hashchange){Ext.get(f.win).on("hashchange",f.onHashChange,f)}else{Ext.TaskManager.start({fireIdleEvent:false,run:f.onHashChange,interval:50,scope:f})}f.ready=true;f.fireEvent("ready",f)},onHashChange:function(){var g=this,k=g.getHash();if(k!==g.hash){g.hash=k;g.handleStateChange(k)}},init:function(k,m){var l=this;if(l.ready){Ext.callback(k,m,[l]);return}if(!Ext.isReady){Ext.onInternalReady(function(){l.init(k,m)});return}l.win=l.useTopWindow?window.top:window;l.hash=l.getHash();if(k){l.on("ready",k,m,{single:true})}l.startUp()},add:function(o,n){var m=this,l=false;if(n===false||m.getToken()!==o){m.setHash(o);l=true}return l},back:function(){var f=this.useTopWindow?window.top:window;f.history.go(-1)},forward:function(){var f=this.useTopWindow?window.top:window;f.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"History",Ext,"History"],0));(Ext.cmd.derive("Ext.app.route.Router",Ext.Base,{singleton:true,multipleToken:"|",queueRoutes:true,constructor:function(){var f=Ext.util.History;if(!f.ready){f.init()}f.on("change",this.onStateChange,this);this.clear()},onStateChange:function(C){var t=this,D=t.application,I=t.routes,z=I.length,G=t.queueRoutes,x=C.split(t.multipleToken),H=0,E=x.length,B,A,J,y,F;for(;H<E;H++){C=x[H];F=false;if(G){A=new Ext.app.route.Queue({token:C})}for(B=0;B<z;B++){J=I[B];y=J.recognize(C);if(y){F=true;if(G){A.queueAction(J,y)}else{J.execute(C,y)}}}if(G){A.runQueue()}if(!F&&D){D.fireEvent("unmatchedroute",C)}}},connect:function(m,l,o){var n={url:m,action:l,controller:o};if(Ext.isObject(l)){Ext.merge(n,l)}this.routes.push(new Ext.app.route.Route(n))},disconnectAll:function(q){var s=this.routes,t=s.length,o=[],n,p;for(n=0;n<t;++n){p=s[n];if(p.controller!==q){o.push(p)}}this.routes=o},recognize:function(o){var s=this.routes||[],n=0,t=s.length,q,p;for(;n<t;n++){q=s[n];p=q.recognize(o);if(p){return{route:q,args:p}}}return false},draw:function(f){f.call(this,this)},clear:function(){this.routes=[]}},1,0,0,0,0,0,[Ext.app.route,"Router"],0));(Ext.cmd.derive("Ext.app.Controller",Ext.app.BaseController,{statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"},profile:{getter:"getProfile",upper:"Profiles"}},controllerRegex:/^(.*)\.controller\./,profileRegex:/^(.*)\.profile\./,createGetter:function(k,g){return function(){return this[k](g)}},getGetterName:function(q,t){var p="get",o=q.split("."),n=o.length,s;for(s=0;s<n;s++){p+=Ext.String.capitalize(o[s])}p+=t;return p},resolveNamespace:function(u,o){var v=Ext.app.Controller,p=u.prototype.isProfile?v.profileRegex:v.controllerRegex,q,s,t;q=Ext.getClassName(u);s=o.$namespace||o.namespace||Ext.app.getNamespace(q)||((t=p.exec(q))&&t[1]);return s},processDependencies:function(I,H,D,C,o,F){if(!o||!o.length){return}var N=this,J=N.strings[C],E,K,L,G,B,A,M,z;if(!Ext.isArray(o)){o=[o]}for(B=0,A=o.length;B<A;B++){G=o[B];E=N.getFullName(G,C,D,F);o[B]=K=E.absoluteName;L=E.shortName;H.push(K);M=N.getGetterName(L,J.upper);if(!I[M]){I[M]=z=N.createGetter(J.getter,G)}if(z&&C!=="controller"){z["Ext.app.getter"]=true}}},getFullName:function(s,o,p,q){var u=s,t,v;if((t=s.indexOf("@"))>0){u=s.substring(0,t);v=s.substring(t+1)+"."+u}else{if(s.indexOf(".")>0&&(Ext.ClassManager.isCreated(s)||this.hasRegisteredPrefix(s))){v=s;u=s.replace(p+"."+o+".","")}else{if(p){v=p+"."+o+"."+(q?q+"."+s:s);u=s}else{v=s}}}return{absoluteName:v,shortName:u}},hasRegisteredPrefix:function(m){var k=Ext.ClassManager,l=k.getPrefix(m);return l&&l!==m}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:true,moduleClassName:null},onClassExtended:function(n,m,o){var l=o.onBeforeCreated;o.onBeforeCreated=function(f,k){var g=Ext.app.Controller,t=[],e,s;s=f.prototype;e=g.resolveNamespace(f,k);if(e){s.$namespace=e}g.processDependencies(s,t,e,"model",k.models);g.processDependencies(s,t,e,"view",k.views);g.processDependencies(s,t,e,"store",k.stores);g.processDependencies(s,t,e,"controller",k.controllers);Ext.require(t,Ext.Function.pass(l,arguments,this))}},constructor:function(f){this.initAutoGetters();Ext.app.BaseController.prototype.constructor.call(this,f)},normalizeRefs:function(l){var k=this,m=[];if(l){if(Ext.isObject(l)){Ext.Object.each(l,function(f,e){if(Ext.isString(e)){e={selector:e}}e.ref=f;m.push(e)})}else{if(Ext.isArray(l)){m=Ext.Array.merge(m,l)}}}l=k.refs;if(l){k.refs=null;l=k.normalizeRefs(l);if(l){m=Ext.Array.merge(m,l)}}return m},getRefMap:function(){var n=this,q=n._refMap,t,o,p,s;if(!q){t=n.getRefs();q=n._refMap={};if(t){for(s=0,p=t.length;s<p;s++){o=t[s];q[o.ref]=o.selector}}}return q},applyId:function(f){return f||Ext.app.Controller.getFullName(this.$className,"controller",this.$namespace).shortName},applyRefs:function(f){return this.normalizeRefs(Ext.clone(f))},updateRefs:function(f){if(f){this.ref(f)}},initAutoGetters:function(){var l=this.self.prototype,k,m;for(k in l){m=l[k];if(m&&m["Ext.app.getter"]){m.call(this)}}},doInit:function(g){var k=this;if(!k._initialized){k.init(g);k._initialized=true}},finishInit:function(t){var o=this,l=o.controllers,q,p,s;if(o._initialized&&l&&l.length){for(p=0,s=l.length;p<s;p++){q=o.getController(l[p]);q.finishInit(t)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(true)},deactivate:function(){this.setActive(false)},isActive:function(){return this.getActive()},ref:function(u){var o=this,t=0,p=u.length,v,q,s;u=Ext.Array.from(u);o.references=o.references||[];for(;t<p;t++){v=u[t];q=v.ref;s="get"+Ext.String.capitalize(q);if(!o[s]){o[s]=Ext.Function.pass(o.getRef,[q,v],o)}o.references.push(q.toLowerCase())}},addRef:function(f){this.ref(f)},getRef:function(p,n,t){var q=this,o=q.refCache||(q.refCache={}),s=o[p];n=n||{};t=t||{};Ext.apply(n,t);if(n.forceCreate){return Ext.ComponentManager.create(n,"component")}if(!s){if(n.selector){o[p]=s=Ext.ComponentQuery.query(n.selector)[0]}if(!s&&n.autoCreate){o[p]=s=Ext.ComponentManager.create(n,"component")}if(s){s.on("destroy",function(){o[p]=null})}}return s},hasRef:function(g){var k=this.references;return k&&Ext.Array.indexOf(k,g.toLowerCase())!==-1},getController:function(g){var k=this.getApplication();if(g===this.getId()){return this}return k&&k.getController(g)},getStore:function(k){var m,l;m=(k.indexOf("@")===-1)?k:k.split("@")[0];l=Ext.StoreManager.get(m);if(!l){k=Ext.app.Controller.getFullName(k,"store",this.$namespace);if(k){l=Ext.create(k.absoluteName,{id:m})}}return l},getModel:function(k){var l=Ext.app.Controller.getFullName(k,"model",this.$namespace),m=Ext.ClassManager.get(l.absoluteName);if(!m){m=Ext.data.schema.Schema.lookupEntity(k)}return m},getProfile:function(f){f=Ext.app.Controller.getFullName(f,"profile",this.$namespace);return f},getView:function(k){var g=Ext.app.Controller.getFullName(k,"view",this.$namespace);return g&&Ext.ClassManager.get(g.absoluteName)},destroy:function(t,s){var p=this,n=p.application,o,q;if(!s&&n){n.unregister(p)}p.application=null;if(t){o=p.refCache;for(q in o){if(o.hasOwnProperty(q)){Ext.destroy(o[q])}}}Ext.app.BaseController.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app,"Controller"],0));(Ext.cmd.derive("Ext.app.Application",Ext.app.Controller,{isApplication:true,scope:undefined,namespaces:[],paths:null,config:{name:"",appProperty:"app",profiles:[],currentProfile:null,mainView:{$value:null,lazy:true},defaultToken:null,glyphFontFamily:null,quickTips:true},onClassExtended:function(u,z,v){var A=Ext.app.Controller,y=u.prototype,s=[],x,t,B,w;B=z.name||u.superclass.name;if(B){z.$namespace=B;Ext.app.addNamespaces(B)}if(z.namespaces){Ext.app.addNamespaces(z.namespaces)}if(z["paths processed"]){delete z["paths processed"]}else{Ext.app.setupPaths(B,("appFolder" in z)?z.appFolder:u.superclass.appFolder,z.paths)}A.processDependencies(y,s,B,"profile",z.profiles);y.getDependencies(u,z,s);if(s.length){x=v.onBeforeCreated;v.onBeforeCreated=function(g,e){var f=Ext.Array.clone(arguments);Ext.require(s,function(){return x.apply(this,f)})}}},getDependencies:Ext.emptyFn,constructor:function(k){var g=this;Ext.app.route.Router.application=g;Ext.app.Controller.prototype.constructor.call(this,k);g.doInit(g);g.initNamespace();Ext.on("appupdate",g.onAppUpdate,g,{single:true});this.onProfilesReady()},applyId:function(f){return f||this.$className},onAppUpdate:Ext.emptyFn,onProfilesReady:function(){var o=this,s=o.getProfiles(),p=s.length,n,q,t;for(q=0;q<p;q++){t=Ext.create(s[q],{application:o});if(t.isActive()&&!n){n=t;o.setCurrentProfile(n)}}if(n){n.init()}o.initControllers();o.onBeforeLaunch();o.finishInitControllers()},initNamespace:function(){var k=this,m=k.getAppProperty(),l;l=Ext.namespace(k.getName());if(l){l.getApplication=function(){return k};if(m){if(!l[m]){l[m]=k}}}},initControllers:function(){var n=this,m=Ext.Array.from(n.controllers),p=n.getCurrentProfile(),q,o;n.controllers=new Ext.util.MixedCollection();for(q=0,o=m.length;q<o;q++){n.getController(m[q])}if(p){m=p.getControllers();for(q=0,o=m.length;q<o;q++){n.getController(m[q])}}},finishInitControllers:function(){var m=this,l,n,o;l=m.controllers.getRange();for(n=0,o=l.length;n<o;n++){l[n].finishInit(m)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var s=this,w=Ext.util.History,z=s.getDefaultToken(),u=s.getCurrentProfile(),y,t,q,v,x;s.initMainView();if(u){u.launch()}s.launch.call(s.scope||s);s.launched=true;s.fireEvent("launch",s);y=s.controllers.items;q=y.length;for(t=0;t<q;t++){v=y[t];v.onLaunch(s)}if(!w.ready){w.init()}x=w.getToken();if(x||x===z){Ext.app.route.Router.onStateChange(x)}else{if(z){w.add(z)}}if(Ext.Microloader&&Ext.Microloader.appUpdate&&Ext.Microloader.appUpdate.updated){Ext.Microloader.fireAppUpdate()}Ext.defer(Ext.ClassManager.clearNamespaceCache,2000,Ext.ClassManager)},getModuleClassName:function(k,g){return Ext.app.Controller.getFullName(k,g,this.getName()).absoluteName},initMainView:function(){var k=this,l=k.getCurrentProfile(),m;if(l){m=l.getMainView()}if(m){k.setMainView(m)}else{k.getMainView()}},applyMainView:function(g){var k=this.getView(g);return k.create({$initParent:this.viewport})},createController:function(f){return this.getController(f)},destroyController:function(f){if(typeof f==="string"){f=this.getController(f,true)}Ext.destroy(f)},getController:function(A,B){var t=this,z=t.controllers,v,x,w,y,u,s;x=z.get(A);if(!x){s=z.items;for(y=0,w=s.length;y<w;++y){u=s[y];v=u.getModuleClassName();if(v&&v===A){x=u;break}}}if(!x&&!B){v=t.getModuleClassName(A,"controller");x=Ext.create(v,{application:t,moduleClassName:v});z.add(x);if(t._initialized){x.doInit(t)}}return x},unregister:function(f){this.controllers.remove(f)},getApplication:function(){return this},destroy:function(q){var o=this,m=o.controllers,p=Ext.namespace(o.getName()),n=o.getAppProperty();Ext.un("appupdate",o.onAppUpdate,o);Ext.destroy(o.viewport);if(m){m.each(function(e){e.destroy(q,true)})}o.controllers=null;Ext.app.Controller.prototype.destroy.call(this,q,true);if(p&&p[n]===o){delete p[n]}if(Ext.app.route.Router.application===o){Ext.app.route.Router.application=null}if(Ext.app.Application.instance===o){Ext.app.Application.instance=null}},updateGlyphFontFamily:function(f){Ext.setGlyphFontFamily(f)},applyProfiles:function(k){var g=this;return Ext.Array.map(k,function(e){return g.getModuleClassName(e,"profile")})}},1,0,0,0,0,0,[Ext.app,"Application"],0));Ext.application=function(k){var g=function(e){Ext.onReady(function(){var f=Ext.viewport;f=f&&f.Viewport;if(f&&f.setup){f.setup(e.prototype.config.viewport)}Ext.app.Application.instance=new e()})};if(typeof k==="string"){Ext.require(k,function(){g(Ext.ClassManager.get(k))})}else{k=Ext.apply({extend:"Ext.app.Application"},k);Ext.app.setupPaths(k.name,k.appFolder,k.paths);k["paths processed"]=true;Ext.define(k.name+".$application",k,function(){g(this)})}};Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application",autoCreateViewport:false,config:{enableQuickTips:null},quickTips:true,updateEnableQuickTips:function(f){this.setQuickTips(f)},applyMainView:function(m){var p,n,o,q;if(typeof m==="string"){p=this.getView(m)}else{p=Ext.ClassManager.getByConfig(m)}n=p.prototype;if(!n.isViewport){q=n.plugins;q=["viewport"].concat(q?Ext.Array.from(q,true):[]);o={plugins:q}}return p.create(o)},getDependencies:function(u,o,q){var v=Ext.app.Controller,p=u.prototype,s=o.$namespace,t=o.autoCreateViewport;if(t){if(t===true){t="Viewport"}else{q.push("Ext.plugin.Viewport")}v.processDependencies(p,q,s,"view",t)}},onBeforeLaunch:function(){var g=this,k=g.autoCreateViewport;if(g.getQuickTips()){g.initQuickTips()}if(k){g.initViewport()}arguments.callee.$previous.apply(this,arguments)},getViewportName:function(){var k=null,g=this.autoCreateViewport;if(g){k=(g===true)?"Viewport":g}return k},initViewport:function(){this.setMainView(this.getViewportName())},initQuickTips:function(){Ext.tip.QuickTipManager.init()}});(Ext.cmd.derive("Ext.app.domain.View",Ext.app.EventDomain,{isInstance:true,constructor:function(f){Ext.app.EventDomain.prototype.constructor.call(this,f);this.controller=f;this.monitoredClasses=[Ext.Widget]},match:function(l,o,n){var m=false;if(o==="#"){m=n===l.getController()}else{m=l.is(o)}return m},destroy:function(){this.controller=null;Ext.app.EventDomain.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app.domain,"View"],0));Ext.define("Ext.overrides.app.domain.View",{override:"Ext.app.domain.View",constructor:function(f){(arguments.callee.$previous||Ext.app.EventDomain.prototype.constructor).call(this,f);this.monitoredClasses.push(Ext.Component)}});(Ext.cmd.derive("Ext.app.ViewController",Ext.app.BaseController,{isViewController:true,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},view:null,constructor:function(){this.compDomain=new Ext.app.domain.View(this);Ext.app.BaseController.prototype.constructor.apply(this,arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var k=this,g=k.compDomain;if(g){g.unlisten(k);g.destroy()}k.compDomain=k.view=null;Ext.app.BaseController.prototype.destroy.call(this)},closeView:function(){var k=this.getView(),g;if(k){g=this.getCloseViewAction();k[g]()}},control:function(m,l){var k=m;if(Ext.isString(m)){k={};k[m]=l}this.compDomain.listen(k,this)},listen:function(k,m){var l=k.component;if(l){k=Ext.apply({},k);delete k.component;this.control(l)}this.callParent([k,m])},applyId:function(f){if(!f){f=Ext.id(null,"controller-")}return f},getReferences:function(){var f=this.view;return f&&f.getReferences()},getView:function(){return this.view},lookup:function(g){var k=this.view;return k&&k.lookup(g)},lookupReference:function(f){return this.lookup(f)},getSession:function(){var f=this.view;return f&&f.lookupSession()},getViewModel:function(){var f=this.view;return f&&f.lookupViewModel()},getStore:function(g){var k=this.getViewModel();return k?k.getStore(g):null},fireViewEvent:function(n,p){var o=this.view,q=false,m=arguments;if(o){if(o!==p){m=Ext.Array.slice(m);m.splice(1,0,o)}q=o.fireEvent.apply(o,m)}return q},privates:{view:null,attachReference:function(g){var k=this.view;if(k){k.attachReference(g)}},clearReference:function(g){var k=this.view;if(k){k.clearReference(g)}},clearReferences:function(){var f=this.view;if(f){f.clearReferences()}},setView:function(f){this.view=f;if(!this.beforeInit.$nullFn){this.beforeInit(f)}}}},1,0,0,0,["controller.controller"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.app,"ViewController"],0));(Ext.cmd.derive("Ext.util.Scheduler",Ext.Base,{busyCounter:0,lastBusyCounter:0,destroyed:false,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},suspendOnNotify:true,constructor:function(f){this.mixins.observable.constructor.call(this,f);this.items=new Ext.util.Bag()},destroy:function(){var k=this,g=k.timer;if(g){window.clearTimeout(g);k.timer=null}k.items.destroy();k.items=k.orderedItems=null;k.callParent()},add:function(k){var l=this,m=l.items;if(m===l.firing){l.items=m=m.clone()}k.id=k.id||++l.nextId;k.scheduler=l;m.add(k);if(!l.sortMap){l.orderedItems=null}},remove:function(k){var l=this,m=l.items;if(l.destroyed){return}if(m===l.firing){l.items=m=m.clone()}if(k.scheduled){l.unscheduleItem(k);k.scheduled=false}m.remove(k);l.orderedItems=null},sort:function(){var p=this,t=p.items,o={},n=p.getPreSort(),s,q;p.orderedItems=[];p.sortMap=o;if(n){t.sort(n)}t=t.items;for(s=0;s<t.length;++s){q=t[s];if(!o[q.id]){p.sortItem(q)}}p.sortMap=null},sortItem:function(o){var p=this,n=p.sortMap,q=p.orderedItems,m;if(!o.scheduler){p.add(o)}m=o.id;if(!(m in n)){n[m]=0;if(!o.sort.$nullFn){o.sort()}n[m]=1;o.order=p.orderedItems.length;q.push(o)}return p},sortItems:function(m){var l=this,k=l.sortItem;if(m){if(m instanceof Array){Ext.each(m,k,l)}else{Ext.Object.eachValue(m,k,l)}}return l},applyPreSort:function(o){if(typeof o==="function"){return o}var p=o.split(","),q=[],s=p.length,v,u,t;for(u=0;u<s;++u){q[u]=1;t=p[u];if((v=t.charAt(0))==="-"){q[u]=-1}else{if(v!=="+"){v=0}}if(v){p[u]=t.substring(1)}}return function(n,e){var m=0,l,f,g,k;for(l=0;!m&&l<s;++l){f=p[l];g=n[f];k=e[f];m=q[l]*((g<k)?-1:((k<g)?1:0))}return m}},notify:function(){var u=this,B=u.timer,z=u.getCycleLimit(),A=Ext.GlobalEvents,w=u.suspendOnNotify,D,y,t,v,x,C;if(B){window.clearTimeout(B);u.timer=null}if(!u.firing&&u.scheduledCount){if(w){Ext.suspendLayouts()}while(u.scheduledCount){if(z){--z}else{u.firing=null;break}if(!C){C=true;if(A.hasListeners.beforebindnotify){A.fireEvent("beforebindnotify",u)}}++u.passes;if(!(x=u.orderedItems)){u.sort();x=u.orderedItems}v=x.length;if(v){u.firing=u.items;for(y=0;y<v;++y){t=x[y];if(t.scheduled){t.scheduled=false;--u.scheduledCount;u.notifyIndex=y;t.react();if(!u.scheduledCount){break}}}}}u.firing=null;u.notifyIndex=-1;if(w){Ext.resumeLayouts(true)}}if((D=u.busyCounter)!==u.lastBusyCounter){if(!(u.lastBusyCounter=D)){u.fireEvent("idle",u)}}},onTick:function(){this.timer=null;this.notify()},scheduleItem:function(g){var k=this;++k.scheduledCount;if(!k.timer&&!k.firing){k.scheduleTick()}},scheduleTick:function(){var f=this;if(!f.destroyed&&!f.timer){f.timer=Ext.Function.defer(f.onTick,f.getTickDelay(),f)}},unscheduleItem:function(f){if(this.scheduledCount){--this.scheduledCount}},adjustBusy:function(m){var l=this,k=l.busyCounter+m;l.busyCounter=k;if(k){if(!l.lastBusyCounter){l.lastBusyCounter=k;l.fireEvent("busy",l)}}else{if(l.lastBusyCounter&&!l.timer){l.scheduleTick()}}},isBusy:function(){return !this.isIdle()},isIdle:function(){return !(this.busyCounter+this.lastBusyCounter)}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"Scheduler"],0));(Ext.cmd.derive("Ext.data.Batch",Ext.Base,{config:{pauseOnException:false},current:-1,total:0,running:false,complete:false,exception:false,constructor:function(k){var g=this;g.mixins.observable.constructor.call(g,k);g.operations=[];g.exceptions=[]},add:function(n){var l=this,m,o;if(Ext.isArray(n)){for(m=0,o=n.length;m<o;++m){l.add(n[m])}}else{l.total++;n.setBatch(l);l.operations.push(n)}return l},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(q,t){var s=q.order-t.order;if(s){return s}var n=q.entityType,p=t.entityType,o;if(!n||!p){return 0}if(!(o=n.rank)){n.schema.rankEntities();o=n.rank}return(o-p.rank)*q.foreignKeyDirection},start:function(k){var g=this;if(!g.operations.length||g.running){return g}g.exceptions.length=0;g.exception=false;g.running=true;return g.runOperation(Ext.isDefined(k)?k:g.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){var f=this;if(f.running){f.runOperation(f.current+1)}return f},pause:function(){this.running=false;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var k=null,g=this.current;if(!(g===-1||this.complete)){k=this.operations[g]}return k},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(m){var l=this,n=l.operations,o=n[m];if(o===undefined){l.running=false;l.complete=true;l.fireEvent("complete",l,n[n.length-1])}else{l.current=m;o.setInternalCallback(l.onOperationComplete);o.setInternalScope(l);o.execute()}return l},onOperationComplete:function(m){var k=this,l=m.hasException();if(l){k.exception=true;k.exceptions.push(m);k.fireEvent("exception",k,m)}if(l&&k.getPauseOnException()){k.pause()}else{k.fireEvent("operationcomplete",k,m);k.runNextOperation()}}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Batch"],0));(Ext.cmd.derive("Ext.data.matrix.Slice",Ext.Base,{constructor:function(k,g){this.id=g;this.side=k;this.members={}},attach:function(k){var g=this;g.store=k;k.matrix=g;k.on("load",g.onStoreLoad,g,{single:true})},commit:function(){var k=this.members,g;for(g in k){k[g][2]=0}},onStoreLoad:function(f){this.update(f.getData().items,0)},update:function(G,M){var A=this,K=Ext.data.matrix.Slice,P=A.side,J=P.index,N=G.length,H=A.id,B=A.members,Q=P.inverse,C=Q.slices,L,E,F,D,R,I,O;for(F=0;F<N;++F){E=O=null;D=G[F];R=D.isEntity?(O=D).id:D;L=B[R];if(M<0&&L&&L[2]===1){delete B[R];I=C[R];if(I){delete I.members[H]}E=1}else{if(!L){L=[R,R,M];L[J]=H;B[R]=L;I=C[R];if(!I){C[R]=I=new K(Q,R)}I.members[H]=L;E=1}else{if(M!==L[2]&&M!==0){L[2]=M;I=C[R];E=1}}}if(E){if(A.notify){A.notify.call(A.scope,A,R,M)}if(I&&I.notify){I.notify.call(I.scope,I,H,M)}}}},updateId:function(C){var v=this,D=v.id,w=v.side,E=w.slices,F=E[D],B=F.members,y=w.index,A=w.inverse.slices,x,z,u;v.id=C;E[C]=F;delete E[D];for(z in B){x=B[z];x[y]=C;u=A[z].members;u[C]=u[D];delete u[D]}},destroy:function(){var g=this,k=g.store;if(k){k.matrix=null;k.un("load",g.onStoreLoad,g)}g.notify=g.scope=g.store=g.side=g.members=null;g.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Slice"],0));(Ext.cmd.derive("Ext.data.matrix.Side",Ext.Base,{constructor:function(o,n,l){var m=this;m.matrix=o;m.index=n;m.role=l;m.slices={}},commit:function(){var k=this.slices,g;for(g in k){k[g].commit()}},get:function(p,q){var o=this,m=o.slices,n=m[p]||(m[p]=new Ext.data.matrix.Slice(o,p));return(q||q===0)?n.members[q]:n},update:function(n,o,m){var l=this.get(n);return l.update(o,m)},updateId:function(k,m){var l=this.get(k);if(l){l.updateId(m)}},destroy:function(){var m=this,l=m.slices,k;for(k in l){l[k].destroy()}m.inverse=m.matrix=m.role=m.slices=null;m.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Side"],0));(Ext.cmd.derive("Ext.data.matrix.Matrix",Ext.Base,{constructor:function(v,s){var p=this,t=s.isManyToMany?s:v.getSchema().getAssociation(s),u=Ext.data.matrix.Side,o=new u(p,0,t.left),q=new u(p,1,t.right);p.association=t;p.session=v;p.left=o;p.right=q;o.inverse=q;q.inverse=o},commit:function(){this.left.commit();this.right.commit()},update:function(l,m,k){return this.left.update(l,m,k)},updateId:function(u,v,s){var t=u.self,o=this.left,q=this.right,p;if(t===o.role.cls){p=o}if(t===q.role.cls){p=q}if(p){p.updateId(v,s)}},destroy:function(){var f=this;f.left.destroy();f.right.destroy();f.association=f.session=f.left=f.right=null;f.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Matrix"],0));(Ext.cmd.derive("Ext.data.session.ChangesVisitor",Ext.Base,{constructor:function(k){var m=this,l;m.session=k;l=k.getCrudProperties();m.result=null;m.writerOptions={};m.createKey=l.create;m.readKey=l.read;m.updateKey=l.update;m.dropKey=l.drop},onDirtyRecord:function(A){var x=this,I=x.crud,B=A.phantom,D=A.dropped,z=!B&&!D,w=A.$className,E=(B||D)?"allDataOptions":"partialDataOptions",y=x.writerOptions,F=A.entityName,G,C,J,H;if(B&&D){return false}I=B?x.createKey:(D?x.dropKey:x.updateKey);y=y[w]||(y[w]={});if(D){if(!(G=y.drop)){y.drop=G={all:A.getProxy().getWriter().getWriteAllFields()}}if(!G.all){J=A.id}}if(!J){if(!(G=y[E])){G=A.getProxy().getWriter().getConfig(E);y[E]=G=Ext.Object.chain(G);x.setupOptions(G)}J=A.getData(G)}H=x.result||(x.result={});C=H[F]||(H[F]={});C=C[I]||(C[I]=[]);C.push(J)},setupOptions:function(f){f.serialize=true},onMatrixChange:function(y,t,u,B){var v=this,A=y.left.type,w=y.right.role,x=B<0?v.dropKey:v.createKey,z,s;s=v.result||(v.result={});z=s[A]||(s[A]={});z=z[w]||(z[w]={});z=z[x]||(z[x]={});z=z[t]||(z[t]=[]);z.push(u)}},1,0,0,0,0,0,[Ext.data.session,"ChangesVisitor"],0));(Ext.cmd.derive("Ext.data.session.ChildChangesVisitor",Ext.data.session.ChangesVisitor,{constructor:function(){this.seen={};Ext.data.session.ChangesVisitor.prototype.constructor.apply(this,arguments)},setupOptions:function(f){Ext.data.session.ChangesVisitor.prototype.setupOptions.call(this,f);f.serialize=false},onDirtyRecord:function(f){if(Ext.data.session.ChangesVisitor.prototype.onDirtyRecord.apply(this,arguments)!==false){if(!f.$source&&(f.dropped||!f.phantom)){this.readEntity(f)}}},readEntity:function(u){var t=this,v=t.readKey,y=u.entityName,x=u.id,z=t.seen,s=y+x,q,w;if(z[s]){return}z[s]=true;q=t.result||(t.result={});w=q[y]||(q[y]={});w=w[v]||(w[v]=[]);w.push(Ext.apply({},u.modified,u.data))}},1,0,0,0,0,0,[Ext.data.session,"ChildChangesVisitor"],0));(Ext.cmd.derive("Ext.data.session.BatchVisitor",Ext.Base,{map:null,constructor:function(f){this.batch=f},getBatch:function(p){var x=this.map,s=this.batch,w,u,t,v,q;if(x){if(!s){s=new Ext.data.Batch()}for(t in x){w=x[t];u=w.entity;q=u.getProxy();delete w.entity;for(v in w){v=q.createOperation(v,{records:w[v]});v.entityType=u;s.add(v)}}}if(s&&p!==false){s.sort()}return s},onDirtyRecord:function(t){var p=this,s=t.phantom?"create":(t.dropped?"destroy":"update"),q=t.$className,o=(p.map||(p.map={})),n=(o[q]||(o[q]={entity:t.self}));n=n[s]||(n[s]=[]);n.push(t)}},1,0,0,0,0,0,[Ext.data.session,"BatchVisitor"],0));(Ext.cmd.derive("Ext.mixin.Dirty",Ext.Base,{mixinId:"dirty",config:{dirty:null},dirty:false,_dirtyRecordCount:0,ignoreDirty:false,recordStateIsDirtyState:true,isDirty:function(){return this.getDirty()},applyDirty:function(f){return this.ignoreDirty?false:f},updateDirty:function(l,m){var k=this;k.dirty=l;if(!k.ignoreDirty&&k.fireEvent){k.fireEvent("dirtychange",k,l)}},clearRecordStates:function(){var g=this,k=g._crudCounters;if(k){k.C=k.U=k.D=0}g._dirtyRecordCount=0;if(g.recordStateIsDirtyState){g.setDirty(false)}},trackRecordState:function(v,u){var q=this,s=q._crudCounters||(q._crudCounters={C:0,R:0,U:0,D:0}),w=q._dirtyRecordCount,x,t,p;if(!u&&(p=v.crudStateWas)!==null){--s[p]}++s[v.crudState];q._dirtyRecordCount=t=s.C+s.U+s.D;x=!t!==!w;if(x&&q.recordStateIsDirtyState){q.setDirty(t>0)}return x},untrackRecordState:function(t){var p=this,q=p._crudCounters,n=p._dirtyRecordCount,o,s;if(q){--q[t.crudState];p._dirtyRecordCount=s=q.C+q.U+q.D;o=!s!==!n;if(o&&p.recordStateIsDirtyState){p.setDirty(s>0)}}return o}},0,0,0,0,0,0,[Ext.mixin,"Dirty"],0));(Ext.cmd.derive("Ext.data.Session",Ext.Base,{isSession:true,config:{schema:"default",parent:null,autoDestroy:true,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},statics:{nextId:1},constructor:function(k){var g=this;g.data={};g.matrices={};g.id=Ext.data.Session.nextId++;g.identifierCache={};g.recordCreator=g.recordCreator.bind(g);g.mixins.observable.constructor.call(g,k)},destroy:function(){var q=this,t=q.matrices,p=q.data,s,o,u,v;for(v in t){t[v].destroy()}for(s in p){o=p[s];for(v in o){u=o[v].record;if(u){u.$source=null;u.unjoin(q)}}}q.identifierCache=q.recordCreator=q.matrices=q.data=null;q.setSchema(null);q.callParent()},adopt:function(n){var l=this,m=n.associations,o;if(n.session!==l){n.session=l;l.add(n);if(m){for(o in m){m[o].adoptAssociated(n,l)}}}},commit:function(){var q=this,p=q.data,t=q.matrices,s,o,v,u;for(s in p){o=p[s];for(v in o){u=o[v].record;if(u){u.commit()}}}for(v in t){t[v].commit()}q.clearRecordStates()},createRecord:function(p,o){var n=p.$isClass?p:this.getSchema().getEntity(p),q=this.getParent(),m;if(o&&q){m=n.getIdFromData(o);if(q.peekRecord(n,m)){Ext.raise("A parent session already contains an entry for "+n.entityName+": "+m)}}return new n(o,this)},getChanges:function(){var f=new Ext.data.session.ChangesVisitor(this);this.visitData(f);return f.result},getChangesForParent:function(){var f=new Ext.data.session.ChildChangesVisitor(this);this.visitData(f);return f.result},getRecord:function(s,z,x){var t=this,y=s.isModel,u,w,q,v;if(y){y=s;z=s.id;s=s.self}u=t.peekRecord(s,z);if(!u){w=s.$isClass?s:t.getSchema().getEntity(s);q=t.getParent();if(q){v=q.peekRecord(w,z)}if(v){if(v.isLoading()){y=false}else{u=v.copy(undefined,t);u.$source=v}}if(!u){if(y){u=y;t.adopt(u)}else{u=w.createWithId(z,null,t);if(x!==false){u.load(Ext.isObject(x)?x:undefined)}}}}return u},getSaveBatch:function(k){var g=new Ext.data.session.BatchVisitor();this.visitData(g);return g.getBatch(k)},onInvalidAssociationEntity:function(k,g){Ext.raise("Unable to read association entity: "+this.getModelIdentifier(k,g))},onInvalidEntityCreate:function(k,g){Ext.raise("Cannot create, record already not exists: "+this.getModelIdentifier(k,g))},onInvalidEntityDrop:function(k,g){Ext.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(k,g))},onInvalidEntityRead:function(k,g){Ext.raise("Cannot read, record already not exists: "+this.getModelIdentifier(k,g))},onInvalidEntityUpdate:function(m,k,l){if(l){Ext.raise("Cannot update, record dropped: "+this.getModelIdentifier(m,k))}else{Ext.raise("Cannot update, record does not exist: "+this.getModelIdentifier(m,k))}},peekRecord:function(q,w,v){var x=q.$isClass?q:this.getSchema().getEntity(q),t=x.entityName,p=this.data[t],u,s;p=p&&p[w];u=p&&p.record;if(!u&&v){s=this.getParent();u=s&&s.peekRecord(q,w,v)}return u||null},save:function(){var l=this,m=l.getParent(),k;if(m){k=new Ext.data.session.ChildChangesVisitor(l);l.visitData(k);m.update(k.result);l.commit()}},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(z){var N=this,D=N.getSchema(),H=N.crudOperations,y=H.length,M=N.crudKeys,L,C,J,A,E,I,F,K,B,G;N.getSchema().processKeyChecks(true);for(L in z){C=D.getEntity(L);J=z[L];for(A=0;A<y;++A){E=H[A];I=J[E.type];if(I){N[E.entityMethod](C,I)}}}for(L in z){C=D.getEntity(L);F=C.associations;J=z[L];for(K in J){if(M[K]){continue}B=F[K];G=J[B.role];B.processUpdate(N,G)}}},privates:{add:function(s){var o=this,n=s.id,p=o.getEntry(s.self,n),q,t;p.record=s;o.trackRecordState(s,true);o.registerReferences(s);q=s.associations;for(t in q){q[t].checkMembership(o,s)}},afterCommit:function(f){this.trackRecordState(f)},afterDrop:function(f){this.trackRecordState(f)},afterEdit:function(f){this.trackRecordState(f)},afterErase:function(f){this.evict(f)},applySchema:function(f){return Ext.data.schema.Schema.get(f)},createEntities:function(q,t){var u=t.length,s,p,o,v;for(s=0;s<u;++s){p=t[s];v=q.getIdFromData(p);o=this.peekRecord(q,v);if(!o){o=this.createRecord(q,p)}else{this.onInvalidEntityCreate(q,v)}o.phantom=true}},dropEntities:function(p,q){var t=q.length,s,o,v,u;if(t){u=Ext.isObject(q[0])}for(s=0;s<t;++s){v=q[s];if(u){v=p.getIdFromData(v)}o=this.peekRecord(p,v);if(o){o.drop()}else{this.onInvalidEntityDrop(p,v)}}},evict:function(q){var o=this,p=q.entityName,n=o.data[p],m=q.id;if(n&&n[m]){o.untrackRecordState(q);q.unjoin(o);delete n[m]}},getEntityList:function(q,s){var u=s.length,t,v,o,p;for(t=0;t<u;++t){v=s[t];o=this.peekRecord(q,v);if(o){s[t]=o}else{p=true;s[t]=null;this.onInvalidAssociationEntity(q,v)}}if(p){s=Ext.Array.clean(s)}return s},getEntry:function(s,n){if(s.isModel){n=s.getId();s=s.self}var p=s.$isClass?s:this.getSchema().getEntity(s),t=p.entityName,o=this.data,q;q=o[t]||(o[t]={});q=q[n]||(q[n]={});return q},getRefs:function(w,x,s){var u=this.getEntry(w),v=u&&u.refs&&u.refs[x.role],t=s&&this.getParent(),q,z,y;if(t){q=t.getRefs(w,x);if(q){for(z in q){y=q[z];if((!v||!v[z])){this.getRecord(y.self,y.id)}}v=u&&u.refs&&u.refs[x.role]}}return v||null},getIdentifier:function(n){var o=this.getParent(),t,q,p,s;if(o){s=o.getIdentifier(n)}else{t=this.identifierCache;q=n.identifier;p=q.getId()||n.entityName;s=t[p];if(!s){if(q.clone){s=q.clone({id:null})}else{s=q}t[p]=s}}return s},getMatrix:function(q,m){var n=q.isManyToMany?q.name:q,o=this.matrices,p;p=o[n];if(!p&&!m){p=o[n]=new Ext.data.matrix.Matrix(this,q)}return p||null},getMatrixSlice:function(l,m){var o=this.getMatrix(l.association),n=o[l.side];return n.get(m)},getModelIdentifier:function(k,g){return g+"@"+k.entityName},onIdChanged:function(Q,I,O){var D=this,U=D.matrices,N=Q.entityName,H=Q.id,K=D.data[N],T=K[I],E=Q.associations,S=T.refs,V=D._setNoRefs,P,R,F,L,M,J,G,C;delete K[I];K[O]=T;for(C in U){U[C].updateId(Q,I,O)}if(S){for(J in S){G=S[J];M=E[J];P=M.association;if(!P.isManyToMany){R=P.field.name;for(L in G){G[L].set(R,H,V)}}}}D.registerReferences(Q,I)},processManyBlock:function(w,v,t,y){var s=this,z,u,x,q;if(t){for(z in t){u=s.peekRecord(w,z);if(u){x=s.getEntityList(v.cls,t[z]);q=v.getAssociatedItem(u);s[y](v,q,u,x)}else{s.onInvalidAssociationEntity(w,z)}}}},processManyCreate:function(l,m,o,n){if(m){m.add(n)}else{o[l.getterName](null,null,n)}},processManyDrop:function(l,m,o,n){if(m){m.remove(n)}},processManyRead:function(l,m,o,n){if(m){m.setRecords(n)}else{o[l.getterName](null,null,n)}},readEntities:function(q,t){var u=t.length,s,p,o,v;for(s=0;s<u;++s){p=t[s];v=q.getIdFromData(p);o=this.peekRecord(q,v);if(!o){o=this.createRecord(q,p)}else{this.onInvalidEntityRead(q,v)}o.phantom=false}},recordCreator:function(o,n){var p=this,m=n.getIdFromData(o),q=p.peekRecord(n,m,true);if(!q){q=new n(o,p)}else{q=p.getRecord(n,m)}return q},registerReferences:function(y,D){var J=y.entityName,E=y.id,F=y.data,z=D||D===0,I,A,G,x,C,H,w,B;x=(H=y.references).length;for(A=0;A<x;++A){C=H[A];G=F[C.name];if(G||G===0){C=C.reference;J=C.type;B=C.inverse.role;I=this.getEntry(C.cls,G);w=I.refs||(I.refs={});w=w[B]||(w[B]={});w[E]=y;if(z){delete w[D]}}}},updateEntities:function(q,u){var v=u.length,s,p,x,w,t;if(Ext.isArray(u)){for(s=0;s<v;++s){p=u[s];w=q.getIdFromData(p);x=this.peekRecord(q,w);if(x){x.set(p)}else{this.onInvalidEntityUpdate(q,w)}}}else{for(w in u){p=u[w];x=this.peekRecord(q,w);if(x&&!x.dropped){t=x.set(p)}else{this.onInvalidEntityUpdate(q,w,!!x)}}}},updateReference:function(w,u,z,B){var y=u.reference,t=y.type,x=y.inverse.role,A=w.id,s,v;if(B||B===0){v=this.getEntry(t,B).refs[x];delete v[A]}if(z||z===0){s=this.getEntry(t,z);v=s.refs||(s.refs={});v=v[x]||(v[x]={});v[A]=w}},visitData:function(A){var y=this,C=y.data,J=y.matrices,K,z,E,H,x,D,F,B,L,I,G;y.getSchema().processKeyChecks(true);for(F in C){K=C[F];for(E in K){B=K[E].record;if(B){if(B.phantom||B.dirty||B.dropped){if(A.onDirtyRecord){A.onDirtyRecord(B)}}else{if(A.onCleanRecord){A.onCleanRecord(B)}}}}}if(A.onMatrixChange){for(F in J){x=J[F].left;I=x.slices;z=x.role.association;for(E in I){L=I[E];D=L.members;for(H in D){G=(B=D[H])[2];if(G){A.onMatrixChange(z,B[0],B[1],G)}}}}}return A},_setNoRefs:{refs:false}}},1,0,0,0,0,[[Ext.mixin.Dirty.prototype.mixinId||Ext.mixin.Dirty.$className,Ext.mixin.Dirty],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data,"Session"],0));(Ext.cmd.derive("Ext.util.Schedulable",Ext.Base,{"abstract":true,isSchedulable:true,scheduled:false,constructor:function(){this.getScheduler().add(this)},destroy:function(){var g=this,k=g.getScheduler();if(k){k.remove(g)}g.scheduler=null;g.schedule=g.react=Ext.emptyFn;g.callParent()},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var g=this,k;if(!g.scheduled){k=g.getScheduler();if(k){g.scheduled=true;if(g.onSchedule){g.onSchedule()}k.scheduleItem(g)}}},unschedule:function(){var g=this,k;if(g.scheduled){k=g.getScheduler();if(k){k.unscheduleItem(g)}g.scheduled=false}},sort:function(){}}},1,0,0,0,0,0,[Ext.util,"Schedulable"],0));(Ext.cmd.derive("Ext.app.bind.BaseBinding",Ext.util.Schedulable,{calls:0,kind:20,defaultOptions:{},lastValue:undefined,constructor:function(q,m,o,p){var n=this;n.options=p;n.owner=q;n.scope=o;n.callback=m;n.lateBound=Ext.isString(m);if(p&&p.deep){n.deep=true}Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var g=this,k=g.owner;if(k){k.onBindDestroy(g)}Ext.util.Schedulable.prototype.destroy.call(this);g.scope=g.callback=g.owner=null},isReadOnly:function(){return true},privates:{getScheduler:function(){var f=this.owner;return f&&f.getScheduler()},getSession:function(){var f=this.owner;return f.isSession?f:f.getSession()},notify:function(l){var m=this,o=m.options||m.defaultOptions,n=m.lastValue;if(!m.calls||m.deep||m.valueChanged(l,n)){++m.calls;m.lastValue=l;if(m.lateBound){m.scope[m.callback](l,n,m)}else{m.callback.call(m.scope,l,n,m)}if(o.single){m.destroy()}}},valueChanged:function(k,l){var m=true;if(l!==k){if(k&&l&&k instanceof Date&&l instanceof Date){m=k.getTime()!==l.getTime()}}else{m=Ext.isArray(k)}return m}}},1,0,0,0,0,0,[Ext.app.bind,"BaseBinding"],0));(Ext.cmd.derive("Ext.app.bind.Binding",Ext.app.bind.BaseBinding,{constructor:function(n,m,p,q){var o=this;Ext.app.bind.BaseBinding.prototype.constructor.call(this,n.owner,m,p,q);o.stub=n;o.depth=n.depth;if(!n.isLoading()&&!n.scheduled){o.schedule()}},destroy:function(k){var m=this,l=m.stub;if(l&&!k){l.unbind(m);m.stub=null}Ext.app.bind.BaseBinding.prototype.destroy.call(this)},bindValidation:function(k,m){var l=this.stub;return l&&l.bindValidation(k,m)},bindValidationField:function(k,m){var l=this.stub;return l&&l.bindValidationField(k,m)},getFullName:function(){return this.fullName||(this.fullName="@("+this.stub.getFullName()+")")},getValue:function(){var k=this,g=k.stub;return g&&g.getValue()},isLoading:function(){var f=this.stub;return f&&f.isLoading()},isReadOnly:function(){var k=this.stub,l=this.options,m=true;if(!(l&&l.twoWay===false)){if(k){m=k.isReadOnly()}}return m},refresh:function(){},setValue:function(f){this.stub.set(f)},privates:{getDataObject:function(){var f=this.stub;return f&&f.getDataObject()},getRawValue:function(){var k=this,g=k.stub;return g&&g.getRawValue()},isDescendantOf:function(k){var g=this.stub;return g?(k===g)||g.isDescendantOf(k):false},react:function(){this.notify(this.getValue())},schedule:function(){if(!this.stub.scheduled){Ext.app.bind.BaseBinding.prototype.schedule.call(this)}},sort:function(){var f=this.stub;f.scheduler.sortItem(f)}}},1,0,0,0,0,0,[Ext.app.bind,"Binding"],0));(Ext.cmd.derive("Ext.app.bind.AbstractStub",Ext.util.Schedulable,{children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(m,l){var k=this;k.owner=m;k.name=l;Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var o=this,p=o.children,n=o.bindings,t,q,s;if(n){for(q=0,t=n.length;q<t;++q){n[q].destroy(true)}}for(s in p){p[s].destroy()}if(o.scheduled){o.unschedule()}Ext.util.Schedulable.prototype.destroy.call(this)},add:function(g){var k=this;(k.children||(k.children={}))[g.name]=g;g.depth=k.depth+1;g.parent=k},getChild:function(g){var k=Ext.isString(g)?g.split("."):g;if(k&&k.length){return this.descend(k,0)}return this},getFullName:function(){var l=this,o=l.fullName,m=l.parent,n;if(!o){o=l.name||l.id;if(m&&(n=m.getFullName())){o=((n.charAt(n.length-1)!==":")?n+".":n)+o}l.fullName=o}return o},getSession:function(){var f=this.owner;return f.isSession?f:f.getSession()},bind:function(n,s,t){var q=this,p=new Ext.app.bind.Binding(q,n,s,t),o=(q.bindings||(q.bindings=[]));p.depth=q.depth;o.push(p);return p},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(o){var n=this,m=n.bindings,q=n.name,p;n.parent=n.bindings=null;n.destroy();o.depth=n.depth;o.bindings=m;o.generation=n.generation+1;o.name=q;o.id=n.id;o.path=n.path;if(m){for(p=m.length;p-->0;){m[p].stub=o}}return o},isDescendantOf:function(g){for(var k=this;k=k.parent;){if(k===g){return true}}return false},onSchedule:function(){for(var p,q,n,m,o=this.parent;o;o=o.parent){m=o.bindings;if(m){for(p=0,q=m.length;p<q;++p){n=m[p];if(n.deep&&!n.scheduled){n.schedule()}}}}},react:function(){var l=this.bindings,m,n,o;if(l){for(n=0,o=l.length;n<o;++n){m=l[n];if(!m.scheduled){m.schedule()}}}},unbind:function(k){var g=this.bindings;if(g&&g.length){Ext.Array.remove(g,k)}},privates:{collect:function(){var q=this.children,n=this.bindings,t=0,p=0,o,s;if(q){for(s in q){o=q[s];p=o.collect();if(p===0){o.destroy();delete q[s]}t+=p}}if(n){t+=n.length}return t},getScheduler:function(){var f=this.owner;return f&&f.getScheduler()},sort:function(){var f=this.parent;if(f){this.scheduler.sortItem(f)}}}},1,0,0,0,0,0,[Ext.app.bind,"AbstractStub"],0));(Ext.cmd.derive("Ext.app.bind.Stub",Ext.app.bind.AbstractStub,{isStub:true,dirty:true,formula:null,validationKey:"validation",constructor:function(q,p,o){var n=this,m=p;Ext.app.bind.AbstractStub.prototype.constructor.call(this,q,p);n.boundValue=null;if(o){o.add(n);if(!o.isRootStub){m=o.path+"."+p}n.checkHadValue()}n.path=m},destroy:function(){var l=this,k=l.formula,m=l.storeBinding;if(k){k.destroy()}if(m){m.destroy()}l.detachBound();Ext.app.bind.AbstractStub.prototype.destroy.call(this)},bindValidation:function(k,l){var m=this.parent;return m&&m.descend([this.validationKey,this.name]).bind(k,l)},bindValidationField:function(n,p){var q=this.parent,s=this.name,o=typeof n==="string",t;if(q){t=q.bind(function(f){var e=null;if(f&&f.isModel){e=f.getField(s)}if(o){p[n](e,f,this)}else{n.call(p,e,f,this)}})}return t||null},descend:function(o,s){var p=this,q=p.children||(p.children={}),v=s||0,t=o[v++],u;if(!(u=q[t])){u=new Ext.app.bind.Stub(p.owner,t,p)}if(v<o.length){u=u.descend(o,v)}return u},getChildValue:function(o){var l=this,m=l.name,n;if(!o&&!Ext.isString(o)){n=l.hadValue?null:undefined}else{n=l.inspectValue(o);if(!n){if(o.isEntity){n=o.data[m]}else{n=o[m]}}}return n},getDataObject:function(){var m=this,q=m.parent.getDataObject(),o=m.name,p=q?q[o]:null,n;if(!p&&q&&q.isEntity){n=q.associations;if(n&&o in n){p=q[n[o].getterName]()}}if(!p||!(p.$className||Ext.isObject(p))){q[o]=p={};m.hadValue=true;m.invalidate(true,true)}return p},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(o){var n=this,p=n.parent,q=n.children,t=n.name,s;o.parent=p;o.children=q;if(p){p.children[t]=o}if(q){for(s in q){q[s].parent=o}}n.children=null;o.checkHadValue();return Ext.app.bind.AbstractStub.prototype.graft.call(this,o)},isLoading:function(){var q=this,s=q.parent,v=false,t,o,p,u;if(s&&!(v=s.isLoading())){o=q.getParentValue();p=q.inspectValue(o);if(p){v=p.isLoading()}else{if(o&&o.isModel){t=o.associations;if(!(t&&q.name in t)){v=false;u=true}}if(!u){v=!q.hadValue&&q.getRawValue()===undefined}}}return v},invalidate:function(p,q){var m=this,n=m.children,o;m.checkHadValue();m.dirty=true;if(!q&&!m.isLoading()){if(!m.scheduled){m.schedule()}}if(p&&n){for(o in n){n[o].invalidate(p,q)}}},isReadOnly:function(){var f=this.formula;return !!(f&&!f.set)},set:function(t){var u=this,s=u.parent,B=u.name,w=u.formula,v,z,A,y,x;if(w&&!w.settingValue&&w.set){w.setValue(t);return}else{if(u.isLinkStub){y=u.getLinkFormulaStub();w=y?y.formula:null;if(w){w.setValue(t);return}}}v=s.getDataObject();if(v.isEntity){z=v.associations;if(z&&(B in z)){A=z[B];x=A.setterName;if(x){v[x](t)}u.invalidate(true)}else{v.set(B,t)}}else{if((t&&t.constructor===Object)||t!==v[B]){if(!u.setByLink(t)){if(t===undefined){delete v[B]}else{v[B]=t}u.inspectValue(v);u.invalidate(true)}}}},onStoreLoad:function(){this.invalidate(true)},afterLoad:function(f){this.invalidate(true)},afterCommit:function(f){this.afterEdit(f,null)},afterEdit:function(u,x){var p=this.children,v=x&&x.length,q=u.associations,s,t,w;if(p){if(v){for(t=0;t<v;++t){w=p[x[t]];if(w){w.invalidate()}}}else{for(s in p){if(!(q&&s in q)){p[s].invalidate()}}}}this.invalidate()},afterReject:function(f){this.afterEdit(f,null)},afterAssociatedRecordSet:function(q,n,m){var o=this.children,p=m.role;if(o&&p in o){o[p].invalidate(true)}},setByLink:function(q){var s=this,v=0,u,t,n,p;for(p=s;p;p=p.parent){if(p.isLinkStub){t=p;if(v){for(n=[],u=0,p=s;p!==t;p=p.parent){++u;n[v-u]=p.name}}break}++v}if(!t||!(p=t.getTargetStub())){return false}if(n){p=p.descend(n)}p.set(q);return true},setFormula:function(k){var m=this,l=m.formula;if(l){l.destroy()}m.formula=new Ext.app.bind.Formula(m,k)},react:function(){var m=this,n=this.boundValue,o=m.children,l;if(n){if(n.isValidation){n.refresh();l=n.generation;if(m.lastValidationGeneration===l){return}m.lastValidationGeneration=l}else{if(n.isModel){if(o&&o[m.validationKey]){n.isValid()}}else{if(n.isStore){if(n.isLoading()&&!n.loadCount){return}}}}}Ext.app.bind.AbstractStub.prototype.react.call(this)},privates:{checkHadValue:function(){if(!this.hadValue){this.hadValue=this.getRawValue()!==undefined}},collect:function(){var m=this,o=Ext.app.bind.AbstractStub.prototype.collect.call(this),n=m.storeBinding?1:0,l=m.formula?1:0;return o+n+l},getLinkFormulaStub:function(){var f=this;while(f.isLinkStub){f=f.binding.stub}return f.formula?f:null},getParentValue:function(){var f=this;if(f.dirty){f.parentValue=f.parent.getValue();f.dirty=false}return f.parentValue},setStore:function(f){this.storeBinding=f},inspectValue:function(t){var s=this,z=s.name,v=s.boundValue,y=null,x,q,w,u;if(t&&t.isEntity){x=t.associations;if(x&&(z in x)){y=t[x[z].getterName]();if(y&&y.isStore){y.$associatedStore=true}}else{if(z===s.validationKey){y=t.getValidation();s.lastValidationGeneration=null}}}else{if(t){q=t[z];if(q&&(q.isModel||q.isStore)){y=q}}}w=v!==y;if(w){if(v){s.detachBound()}if(y){if(y.isModel){y.join(s)}else{u=y.associatedEntity;if(u&&y.autoLoad!==false&&!y.complete&&!y.hasPendingLoad()){y.load()}y.on({scope:s,load:{fn:"onStoreLoad",single:true},destroy:"onDestroyBound"})}}s.boundValue=y}return y},detachBound:function(){var k=this,g=k.boundValue;if(g){if(g.isModel){g.unjoin(k)}else{g.un({scope:k,load:"onStoreLoad",destroy:"onDestroyBound"})}}},onDestroyBound:function(){if(!this.owner.destroying){this.set(null)}},sort:function(){var m=this,l=m.formula,o=m.scheduler,n=m.storeBinding;Ext.app.bind.AbstractStub.prototype.sort.call(this);if(n){o.sortItem(n)}if(l){o.sortItem(l)}}}},1,0,0,0,0,0,[Ext.app.bind,"Stub"],0));(Ext.cmd.derive("Ext.app.bind.LinkStub",Ext.app.bind.Stub,{isLinkStub:true,binding:null,destroy:function(){var l=this,k=l.binding,m=l.owner;if(k){l.binding=null;k.destroy();if(m){delete m.linkData[l.name]}}l.target=null;Ext.app.bind.Stub.prototype.destroy.call(this)},getFullName:function(){var f=this;return f.fullName||(f.fullName="("+Ext.app.bind.Stub.prototype.getFullName.call(this)+" -> "+f.binding.getFullName()+")")},getDataObject:function(){var f=this.binding;return f&&f.getDataObject()},getRawValue:function(){var f=this.binding;return f&&f.getRawValue()},getValue:function(){var f=this.binding;return f&&f.getValue()},getTargetStub:function(){var f=this.binding;return f&&f.stub},isLoading:function(){var f=this.binding;return f?f.isLoading():false},link:function(l,n){var o=this,m=o.binding;if(m){m.destroy()}n=o.target=n||o.owner;o.linkDescriptor=l;o.binding=n.bind(l,o.onChange,o);o.binding.deep=true},onChange:function(){this.invalidate(true)},react:function(){var g=this,k=g.owner.linkData;k[g.name]=g.getValue();Ext.app.bind.Stub.prototype.react.call(this)},privates:{collect:function(){var l=this,m=Ext.app.bind.Stub.prototype.collect.call(this),k=l.binding?1:0;return m+k},sort:function(){var f=this.binding;if(f){this.scheduler.sortItem(f)}}}},0,0,0,0,0,0,[Ext.app.bind,"LinkStub"],0));(Ext.cmd.derive("Ext.app.bind.RootStub",Ext.app.bind.AbstractStub,{isRootStub:true,depth:0,createRootChild:function(B,x){var t=this,A=t.owner,w=A.getData(),z=t.children,u=z&&z[B],v=u?null:t,s,y;if(x||w.hasOwnProperty(B)||!(s=A.getParent())){y=new Ext.app.bind.Stub(A,B,v)}else{y=new Ext.app.bind.LinkStub(A,B,u?null:v);y.link("{"+B+"}",s)}if(u){u.graft(y)}return y},createStubChild:function(f){return this.createRootChild(f,true)},descend:function(o,s){var p=this,q=p.children,v=s||0,t=o[v++],u=(q&&q[t])||p.createRootChild(t);if(v<o.length){u=u.descend(o,v)}return u},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+":")},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return false},isLoading:function(){return false},set:function(v){var w=this,A=w.children||(w.children={}),B=w.owner,y=B.data,s=B.getParent(),x,z,t,u;for(u in v){if((t=v[u])!==undefined){if(!(z=A[u])){z=new Ext.app.bind.Stub(B,u,w)}else{if(z.isLinkStub){if(!z.getLinkFormulaStub()){x=z;z=new Ext.app.bind.Stub(B,u);x.graft(z)}}}z.set(t)}else{if(y.hasOwnProperty(u)){delete y[u];z=A[u];if(z){if(!z.isLinkStub&&s){z=w.createRootChild(u)}z.invalidate(true)}}}}},schedule:Ext.emptyFn,unschedule:Ext.emptyFn},0,0,0,0,0,0,[Ext.app.bind,"RootStub"],0));(Ext.cmd.derive("Ext.app.bind.Multi",Ext.app.bind.BaseBinding,{isMultiBinding:true,missing:1,deep:true,constructor:function(p,u,v,s,t){var q=this,o=t&&t.trackStatics;Ext.app.bind.BaseBinding.prototype.constructor.call(this,u,v,s,t);q.bindings=[];q.literal=p.$literal;if(p.constructor===Object){if(o){q.staticKeys=[]}q.addObject(p,q.lastValue={},q.staticKeys)}else{q.addArray(p,q.lastValue=[])}if(!--q.missing&&!q.scheduled){q.schedule()}},destroy:function(){var f=this;f.bindings=Ext.destroy(f.bindings);Ext.app.bind.BaseBinding.prototype.destroy.call(this)},add:function(y,u,q){var s=this,w=s.owner,x=s.bindings,z=s.literal?(y.reference?"bindEntity":"bindExpression"):"bind",t,v;++s.missing;t=w[z](y,function(e){u[q]=e;if(t.calls===1){--s.missing}if(!s.missing&&!s.scheduled){s.schedule()}},s,null);v=t.depth;if(!x.length||v<s.depth){s.depth=v}x.push(t);return !this.isBindingStatic(t)},addArray:function(u,w){var q=this,x=u.length,t=false,n,v,s;for(s=0;s<x;++s){v=u[s];if(v&&(v.reference||Ext.isString(v))){n=q.add(v,w,s)}else{if(Ext.isArray(v)){n=q.addArray(v,w[s]=[])}else{if(v&&v.constructor===Object){n=q.addObject(v,w[s]={})}else{w[s]=v;n=false}}}t=t||n}return t},addObject:function(u,q,x){var p=this,s=false,w,v,t;for(t in u){v=u[t];if(v&&(v.reference||Ext.isString(v))){w=p.add(v,q,t)}else{if(Ext.isArray(v)){w=p.addArray(v,q[t]=[])}else{if(v&&v.constructor===Object){w=p.addObject(v,q[t]={})}else{q[t]=v;w=false}}}if(x&&!w){x.push(t)}s=s||w}return s},getFullName:function(){var o=this,n=o.fullName,m=o.bindings,p=m.length,q;if(!n){n="@[";for(q=0;q<p;++q){if(q){n+=","}n+=m[q].getFullName()}n+="]";o.fullName=n}return n},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return false},isLoading:function(){for(var g=this.bindings,k=g.length;k-->0;){if(g[k].isLoading()){return true}}return false},isBindingStatic:function(f){return f.isTemplateBinding&&f.isStatic},isStatic:function(){var l=this.bindings,o=l.length,n,m;for(n=0;n<o;++n){m=l[n];if(!this.isBindingStatic(m)){return false}}return true},pruneStaticKeys:function(){var l=Ext.apply({},this.lastValue),m=this.staticKeys,o=m.length,n;for(n=0;n<o;++n){delete l[m[n]]}return l},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}},1,0,0,0,0,0,[Ext.app.bind,"Multi"],0));(Ext.cmd.derive("Ext.app.bind.Formula",Ext.util.Schedulable,{statics:{getFormulaParser:function(n){var o=this.formulaCache,l,m;if(!o){o=this.formulaCache=new Ext.util.LruCache({maxSize:20})}l=o.get(n);if(!l){m="[^\\.a-z0-9_]"+n+"\\(\\s*(['\"])(.*?)\\1\\s*\\)";l=new RegExp(m,"gi");o.add(n,l)}return l}},isFormula:true,calculation:null,explicit:false,set:null,single:false,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,constructor:function(x,w){var p=this,u=x.owner,s,q,v,t;p.owner=u;p.stub=x;Ext.util.Schedulable.prototype.constructor.call(this);if(w instanceof Function){p.get=v=w}else{p.get=v=w.get;p.set=w.set;q=w.bind;if(w.single){p.single=w.single}if(q){s=q.bindTo;if(s){t=Ext.apply({},q);delete t.bindTo;q=s}}}if(q){p.explicit=true}else{q=v.$expressions||p.parseFormula(v)}p.binding=u.bind(q,p.onChange,p,t)},destroy:function(){var m=this,k=m.binding,l=m.stub;if(k){k.destroy();m.binding=null}if(l){l.formula=null}Ext.util.Schedulable.prototype.destroy.call(this);m.getterFn=m.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+"="+Ext.util.Schedulable.prototype.getFullName.call(this)+")")},getRawValue:function(){return this.calculation},onChange:function(){if(!this.scheduled){this.schedule()}},parseFormula:function(v){var o=v.toString(),q={$literal:true},s,t,u,p;s=this.argumentNamesRe.exec(o);t=s?s[1]:"get";u=Ext.app.bind.Formula.getFormulaParser(t);while((s=u.exec(o))){p=s[2];q[p]=p}q.$literal=true;v.$expressions=q;return q},react:function(){var o=this,p=o.owner,n=o.binding.lastValue,m=o.getterFn,q;if(o.explicit){q=n}else{q=p.getFormulaFn(n)}o.settingValue=true;o.stub.set(o.calculation=o.get.call(p,q));o.settingValue=false;if(o.single){o.destroy()}},setValue:function(f){this.set.call(this.stub.owner,f)},privates:{getScheduler:function(){var f=this.owner;return f&&f.getScheduler()},sort:function(){var k=this,g=k.binding;if(!g.destroyed){k.scheduler.sortItem(g)}}}},1,0,0,0,0,0,[Ext.app.bind,"Formula"],0));(Ext.cmd.derive("Ext.util.Fly",Ext.Base,{inheritableStatics:{flyPoolSize:2,fly:function(){var k=this,l=k.flyweights||(k.flyweights=[]),m=l.length?l.pop():new k();m.reset.apply(m,arguments);return m}},release:function(){var k=this,l=k.self,m=l.flyweights||(l.flyweights=[]);k.reset();if(m.length<l.flyPoolSize){m.push(k)}},reset:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"Fly"],0));(Ext.cmd.derive("Ext.parse.Tokenizer",Ext.util.Fly,function(q){var s=(q.flyweights=[]),w={literal:true,"boolean":true},u={error:true},z={ident:true},y={literal:true},v={literal:true,nil:true},x={literal:true,number:true},t={literal:true,string:true};return{isTokenizer:true,statics:{BOOLEAN:w,ERROR:u,IDENT:z,LITERAL:y,NULL:v,NUMBER:x,STRING:t},config:{keywords:{"null":{type:"literal",is:v,value:null},"false":{type:"literal",is:w,value:false},"true":{type:"literal",is:w,value:true}},operators:{"+":"plus","-":"minus","*":"multiply","/":"divide","!":"bang",",":"comma",":":"colon","[":"arrayOpen","]":"arrayClose","{":"curlyOpen","}":"curlyClose","(":"parenOpen",")":"parenClose"}},error:null,index:-1,constructor:function(e){this.operators={};this.initConfig(e)},next:function(){var e=this.peek();this.head=undefined;return e},peek:function(){var e=this,g=e.error,f=e.head;if(g){return g}if(f===undefined){e.head=f=e.advance()}return f},release:function(){this.reset();if(s.length<q.flyPoolSize){s.push(this)}},reset:function(f,e,k){var g=this;g.error=null;g.head=undefined;g.index=-1;g.text=f||null;g.pos=e||0;g.end=(f&&k==null)?f.length:k;return g},privates:{digitRe:/[0-9]/,identFirstRe:/[a-z_$]/i,identRe:/[0-9a-z_$]/i,spaceRe:/[ \t]/,end:0,head:undefined,pos:0,text:null,applyOperators:function(o){var m=this.operators,n,f,p,l,g,e,k;for(k in o){n=m;e=o[k];g=k.length;for(l=0;l<g;++l){f=k.charAt(l);n=n[f]||(n[f]={})}if(e){n.token=p={type:"operator",value:k,is:{operator:true}};p.is[e]=true}else{n.token=null}}},advance:function(){var g=this,l=g.spaceRe,f=g.text,k=g.end,e;while(g.pos<k){e=f.charAt(g.pos);if(l.test(e)){++g.pos;continue}g.index=g.pos;return g.parse(e)}return null},parse:function(e){var g=this,l=g.digitRe,f=g.text,k=g.end,m;if(e==="."&&g.pos+1<k){if(l.test(f.charAt(g.pos+1))){m=g.parseNumber()}}if(!m&&g.operators[e]){m=g.parseOperator(e)}if(!m){if(e==='"'||e==="'"){m=g.parseString()}else{if(l.test(e)){m=g.parseNumber()}else{if(g.identFirstRe.test(e)){m=g.parseIdent()}else{m=g.syntaxError("Unexpected character")}}}}return m},parseIdent:function(){var k=this,o=k.identRe,n=k.getKeywords(),m=!k.operators["."],f=k.text,e=k.pos,p=e,D=k.end,C=0,l,g;while(p<D){l=f.charAt(p);if(m&&l==="."){if(C==="."){return k.syntaxError(p,"Unexpected dot operator")}++p}else{if(o.test(l)){++p}else{break}}C=l}if(C==="."){return k.syntaxError(p-1,"Unexpected dot operator")}g=f.substring(e,k.pos=p);return(n&&n[g])||{type:"ident",is:z,value:g}},parseNumber:function(){var g=this,m=g.digitRe,f=g.text,e=g.pos,p=g.end,k,l,n,o;while(g.pos<p){k=f.charAt(g.pos);if(k==="-"||k==="+"){if(g.pos!==e){return g.syntaxError(e,"Invalid number")}++g.pos}else{if(k==="."){if(l){break}l=true;++g.pos}else{if(k==="e"||k==="E"){if(n){break}l=n=true;k=f.charAt(++g.pos);if(k==="-"||k==="+"){++g.pos}}else{if(m.test(k)){++g.pos}else{break}}}}}o={type:"literal",is:x,value:+f.substring(e,g.pos)};if(!isFinite(o.value)){o=g.syntaxError(e,"Invalid number")}return o},parseOperator:function(k){var g=this,o=g.operators,f=g.text,e=g.end,n=g.pos,l,m,p;while(o[k]){o=o[k];p=o.token;++n;if(p){l=p;m=n}if(n<e){k=f.charAt(n)}else{break}}if(l){g.pos=m}return l},parseString:function(){var k=this,f=k.text,g=k.pos,p=g,o=k.end,l="",m,n,e;e=f.charAt(g++);while(g<o){m=f.charAt(g++);if(m===e){n=true;break}if(m==="\\"&&g<o){m=f.charAt(g++)}l+=m}k.pos=g;if(!n){return k.syntaxError(p,"Unterminated string")}return{type:"literal",is:t,value:l}},syntaxError:function(k,f){if(typeof k==="string"){f=k;k=this.pos}var e=(k==null)?"":(" (at index "+k+")"),g=new Error(f+e);g.type="error";g.is=u;if(e){g.at=k}return this.error=g}}}},1,0,0,0,0,0,[Ext.parse,"Tokenizer"],0));(Ext.cmd.derive("Ext.parse.Symbol",Ext.Base,{priority:0,constructor:function(l,o){var n=this,m=n.defaultProperty;if(o&&typeof o==="object"){Ext.apply(n,o)}else{if(o!==undefined&&m){n[m]=o}}n.id=l},led:function(){this.parser.syntaxError(this.at,"Missing operator")},nud:function(){this.parser.syntaxError(this.at,"Undefined")},update:function(p){if(p&&typeof p==="object"){var n=this,o=p.priority,m=p.led,q=p.nud;if(n.priority<=o){n.priority=o}if(m){n.led=m}if(q){n.nud=q}}}},1,0,0,0,0,0,[Ext.parse,"Symbol"],0));(Ext.cmd.derive("Ext.parse.symbol.Constant",Ext.parse.Symbol,{arity:"literal",isLiteral:true,defaultProperty:"value",constructor:function(g,k){Ext.parse.Symbol.prototype.constructor.call(this,g,k);this._value=this.value},nud:function(){var f=this;f.value=f._value;f.arity="literal";f.isLiteral=true;return f}},1,0,0,0,0,0,[Ext.parse.symbol,"Constant"],0));(Ext.cmd.derive("Ext.parse.symbol.Infix",Ext.parse.Symbol,{arity:"binary",isBinary:true,defaultProperty:"priority",led:function(g){var k=this;k.lhs=g;k.rhs=k.parser.parseExpression(k.priority);k.arity="binary";k.isBinary=true;return k}},0,0,0,0,0,0,[Ext.parse.symbol,"Infix"],0));(Ext.cmd.derive("Ext.parse.symbol.InfixRight",Ext.parse.symbol.Infix,{led:function(g){var k=this;k.lhs=g;k.rhs=k.parser.parseExpression(k.priority-1);k.arity="binary";k.isBinary=true;return k}},0,0,0,0,0,0,[Ext.parse.symbol,"InfixRight"],0));(Ext.cmd.derive("Ext.parse.symbol.Paren",Ext.parse.Symbol,{arity:"binary",isBinary:true,priority:80,led:function(p){var q=this,t=[],n=q.parser,o=p.id,s=p.arity;if(o!=="."&&o!=="["){if((s!=="unary"||o!=="function")&&s!=="ident"&&o!=="("&&o!=="&&"&&o!=="||"&&o!=="?"){n.syntaxError(p.at,"Expected a variable name.")}}q.arity="invoke";q.isInvoke=true;q.operand=p;q.args=t;while(n.token.id!==")"){if(t.length){n.advance(",")}t.push(n.parseExpression())}n.advance(")");return q},nud:function(){var g=this.parser,k=g.parseExpression();g.advance(")");return k}},0,0,0,0,0,0,[Ext.parse.symbol,"Paren"],0));(Ext.cmd.derive("Ext.parse.symbol.Prefix",Ext.parse.Symbol,{arity:"unary",isUnary:true,priority:70,nud:function(){var f=this;f.operand=f.parser.parseExpression(f.priority);f.arity="unary";f.isUnary=true;return f}},0,0,0,0,0,0,[Ext.parse.symbol,"Prefix"],0));(Ext.cmd.derive("Ext.parse.Parser",Ext.util.Fly,function(){var f=function(){return this};return{isParser:true,config:{constants:{"null":null,"false":false,"true":true},infix:{"+":50,"-":50,"*":60,"/":60},infixRight:{"&&":30,"||":30},prefix:{"!":0,"-":0,"+":0},symbols:{":":0,",":0,")":0,"[":0,"]":0,"{":0,"}":0,"(end)":0,"(ident)":{arity:"ident",isIdent:true,nud:f},"(literal)":{arity:"literal",isLiteral:true,nud:f},"(":{xclass:"Ext.parse.symbol.Paren"}},tokenizer:{keywords:null}},token:null,constructor:function(e){this.symbols={};this.initConfig(e)},advance:function(v){var t=this,e=t.tokenizer,x=e.peek(),z=t.symbols,u=e.index,w,y,s;if(t.error){throw t.error}if(v){t.expect(v)}if(!x){return t.token=z["(end)"]}e.next();w=x.is;s=x.value;if(w.ident){y=z[s]||z["(ident)"]}else{if(w.operator){if(!(y=z[s])){t.syntaxError(x.at,'Unknown operator "'+s+'"')}}else{if(w.literal){y=z["(literal)"]}else{t.syntaxError(x.at,"Unexpected token")}}}t.token=y=Ext.Object.chain(y);y.at=u;y.value=s;if(!y.arity){y.arity=x.type}return y},expect:function(e){var k=this.token;if(e!==k.id){this.syntaxError(k.at,'Expected "'+e+'"')}return this},parseExpression:function(o){var m=this,n=m.token,e;o=o||0;m.advance();e=n.nud();while(o<(n=m.token).priority){m.advance();e=n.led(e)}return e},reset:function(m,e,o){var n=this;n.error=n.token=null;n.tokenizer.reset(m,e,o);n.advance();return n},syntaxError:function(o,m){if(typeof o==="string"){m=o;o=this.pos}var e=(o==null)?"":(" (at index "+o+")"),n=new Error(m+e);n.type="error";if(e){n.at=o}throw this.error=n},privates:{error:null,addSymbol:function(z,w,e,u){var y=this.symbols,v=y[z],s,x,t;if(v){if(typeof w==="object"){s=w}else{if(u&&e){u=Ext.Array.from(u);x=u.length;s={};for(t=0;t<x;t++){s[u[t]]=e.prototype[u[t]]}}else{return v}}v.update(s)}else{if(w&&w.xclass){e=Ext.ClassManager.get(w.xclass)}else{e=e||Ext.parse.Symbol}y[z]=v=new e(z,w);v.parser=this}return v},addSymbols:function(o,n,e){for(var m in o){this.addSymbol(m,o[m],n,e)}},applyConstants:function(e){this.addSymbols(e,Ext.parse.symbol.Constant,"nud")},applyInfix:function(e){this.addSymbols(e,Ext.parse.symbol.Infix,"led")},applyInfixRight:function(e){this.addSymbols(e,Ext.parse.symbol.InfixRight,"led")},applyPrefix:function(e){this.addSymbols(e,Ext.parse.symbol.Prefix,"nud")},applySymbols:function(e){this.addSymbols(e)},applyTokenizer:function(e){var k=e;if(e&&!e.isTokenizer){k=new Ext.parse.Tokenizer(e)}this.tokenizer=k}}}},1,0,0,0,0,0,[Ext.parse,"Parser"],0));(Ext.cmd.derive("Ext.app.bind.Parser",Ext.parse.Parser,{infix:{":":{priority:70,led:function(g){var k=this;k.arity="formatter";k.operand=g;k.fmt=k.parser.parseFmt();return k}},"?":{priority:20,led:function(n){var p=this,m=p.parser,o=m.symbols[":"],q;p.condition=n;q=o.priority;o.priority=0;p.tv=m.parseExpression(0);p.parser.advance(":");o.priority=q;p.fv=m.parseExpression(0);p.arity="ternary";return p}},"===":40,"!==":40,"==":40,"!=":40,"<":40,"<=":40,">":40,">=":40},symbols:{"(":{nud:function(){var l=this.parser,m=l.symbols[":"],n,o;o=m.priority;m.priority=70;n=l.parseExpression();l.advance(")");m.priority=o;return n}}},prefix:{"@":0},tokenizer:{operators:{"@":"at","?":"qmark","===":"feq","!==":"fneq","==":"eq","!=":"neq","<":"lt","<=":"lte",">":"gt",">=":"gte","&&":"and","||":"or"}},compileExpression:function(m,n){var o=this,q,p;o.tokens=m;o.tokensMap=n;p=o.parseSlot(o.parseExpression(),q);o.tokens=o.tokensMap=null;return p},compileFormat:function(){var f;f=this.parseSlot({arity:"formatter",fmt:this.parseFmt(),operand:{arity:"ident",value:"dummy"}});this.expect("(end)");return f},privates:{useEval:Ext.isGecko,escapeRe:/("|'|\\)/g,parseFmt:function(){var m=this,o=[],n=m.symbols[":"].priority,l;do{if(o.length){m.advance()}l=m.parseExpression(n);if(l.isIdent||l.isInvoke){o.push(l)}else{m.syntaxError(l.at,"Expected formatter name")}}while(m.token.id===":");return o},parseSlot:function(t,C){var v=this,z=[],x=[],w=v.tokens||[],u,B,y,A,D;v.definitions=z;v.body=x;x.push("return "+v.compile(t)+";");A=w.length;B="var fm = Ext.util.Format,\nme,";D="var a = Ext.Array.from(values);\nme = scope;\n";if(w.length){for(y=0;y<A;y++){B+="v"+y+((y==A-1)?";":",");D+="v"+y+" = a["+y+"]; "}}else{B+="v0;";D+="v0 = a[0];"}z=Ext.Array.insert(z,0,[B]);x=Ext.Array.insert(x,0,[D]);x=x.join("\n");z.push((v.useEval?"$=":"return")+" function (values, scope) {",x,"}");B=z.join("\n");u=v.useEval?v.evalFn(B):(new Function("Ext",B))(Ext);v.definitions=v.body=null;return u},compile:function(k){var l=this,m;switch(k.arity){case"ident":return l.addToken(k.value);case"literal":m=k.value;return(typeof m==="string")?'"'+String(m).replace(l.escapeRe,"\\$1")+'"':m;case"unary":return l.compileUnary(k);case"binary":return l.compileBinary(k);case"ternary":return l.compileTernary(k);case"formatter":return l.compileFormatter(k)}return this.syntaxError(k.at,"Compile error! Unknown symbol")},compileUnary:function(l){var m=l.value,k=l.operand;if(m==="!"||m==="-"||m==="+"){return m+"("+this.compile(k)+")"}else{if(m==="@"){if(!k.isIdent){return this.syntaxError(l.at,"Compile error! Unexpected symbol")}return k.value}}return""},compileBinary:function(f){return"("+this.compile(f.lhs)+" "+f.value+" "+this.compile(f.rhs)+")"},compileTernary:function(f){return"("+this.compile(f.condition)+" ? "+this.compile(f.tv)+" : "+this.compile(f.fv)+")"},compileFormatter:function(n){var o=this,s=n.fmt,p=s.length,t=["var ret;"],q;if(s.length){t.push("ret = "+o.compileFormatFn(s[0],o.compile(n.operand))+";");for(q=1;q<p;q++){t.push("ret = "+o.compileFormatFn(s[q],"ret")+";")}}t.push("return ret;");return o.addFn(t.join("\n"))},compileFormatFn:function(v,o){var u,t=[],p="",q,s;if(v.isIdent){u=v.value}else{if(v.isInvoke){u=v.operand.value;t=v.args}}if(u.substring(0,5)==="this."){u="me."+u.substring(5)}else{if(!(u in Ext.util.Format)){return this.syntaxError(v.at,'Compile error! Invalid format specified "'+u+'"')}u="fm."+u}p+=o;q=t.length;for(s=0;s<q;s++){p+=", "+this.compile(t[s])}return u+"("+p+")"},addFn:function(l){var m=this.definitions,k="f"+m.length;m.push("function "+k+"() {",l,"}");return k+"()"},evalFn:function($){eval($);return $},addToken:function(o){var n=this.tokensMap,m=this.tokens,l=0;if(n&&m){if(o in n){l=n[o]}else{n[o]=l=m.length;m.push(o)}}return"v"+l}}},0,0,0,0,0,0,[Ext.app.bind,"Parser"],0));(Ext.cmd.derive("Ext.app.bind.Template",Ext.Base,{buffer:null,slots:null,tokens:null,constructor:function(l){var m=this,n=m._initters,o;m.text=l;for(o in n){m[o]=n[o]}},_initters:{apply:function(k,g){return this.parse().apply(k,g)},getTokens:function(){return this.parse().getTokens()}},apply:function(u,q){var x=this,s=x.slots,v=x.buffer,p=s.length,t,w;for(t=0;t<p;++t){w=s[t];if(w){v[t]=w(u,q)}}if(w&&x.single){return v[0]}return v.join("")},getTokens:function(){return this.tokens},isStatic:function(){var g=this.getTokens(),k=this.slots;return(g.length===0&&k.length===0)},privates:{parse:function(){var u=this,q=u.text,z=Ext.app.bind.Parser.fly(),x=(u.buffer=[]),v=(u.slots=[]),s=0,y=q.length,t=0,w;for(w in u._initters){delete u[w]}u.tokens=[];u.tokensMap={};for(w=0;w<y;){s=w;if((w=q.indexOf("{",s))<0){x[t++]=q.substring(s);break}if(s<w){x[t++]=q.substring(s,w)}z.reset(q,w+1);v[t++]=z.compileExpression(u.tokens,u.tokensMap);w=z.token.at+1;z.expect("}")}z.release();u.single=x.length===0&&v.length===1;return u}}},1,0,0,0,0,0,[Ext.app.bind,"Template"],0));(Ext.cmd.derive("Ext.app.bind.TemplateBinding",Ext.app.bind.BaseBinding,{isTemplateBinding:true,lastValue:undefined,value:undefined,constructor:function(q,v,w,s,t){var p=this,u=new Ext.app.bind.Template(q),x=u.getTokens();Ext.app.bind.BaseBinding.prototype.constructor.call(this,v,w,s,t);p.tpl=u;p.tokens=x;x.$literal=true;if(!u.isStatic()){p.multiBinding=new Ext.app.bind.Multi(x,v,p.onBindData,p)}else{p.isStatic=true;p.onData(u.text)}},destroy:function(){var f=this;Ext.destroy(f.multiBinding);f.tpl=f.multiBinding=null;Ext.app.bind.BaseBinding.prototype.destroy.call(this)},getFullName:function(){var f=this.multiBinding;return this.fullName||(this.fullName="$"+(f?f.getFullName():Ext.app.bind.BaseBinding.prototype.getFullName.call(this)))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return false},isLoading:function(){var f=this.multiBinding;return f?f.isLoading():false},onBindData:function(f){this.onData(this.tpl.apply(f,this.getTemplateScope()))},onData:function(k){var l=this,m=l.value;if(m!==(l.value=k)){l.lastValue=m;l.schedule()}},react:function(){this.notify(this.value)},refresh:function(){var f=this.multiBinding;if(f){f.refresh()}},privates:{sort:function(){var f=this.multiBinding;if(f){this.scheduler.sortItem(f)}}}},1,0,0,0,0,0,[Ext.app.bind,"TemplateBinding"],0));(Ext.cmd.derive("Ext.data.ChainedStore",Ext.data.AbstractStore,{config:{source:null,remoteFilter:false,remoteSort:false},remove:function(){var f=this.getSource();return f.remove.apply(f,arguments)},removeAll:function(){var f=this.getSource();return f.removeAll()},getData:function(){var k=this,g=k.data;if(!g){k.data=g=k.constructDataCollection()}return g},getTotalCount:function(){return this.getCount()},getSession:function(){return this.getSource().getSession()},applySource:function(f){if(f){f=Ext.data.StoreManager.lookup(f)}return f},updateSource:function(l,n){var o=this,m;if(n&&!n.destroyed){n.removeObserver(o)}if(l){m=o.getData();m.setSource(l.getData());if(!o.isInitializing){o.fireEvent("refresh",o);o.fireEvent("datachanged",o)}l.addObserver(o)}},getModel:function(){return this.getSource().getModel()},getProxy:function(){return null},onCollectionAdd:function(n,o){var p=this,q=o.items,m=!o.next;if(p.ignoreCollectionAdd){return}p.fireEvent("add",p,q,o.at);if(m){p.fireEvent("datachanged",p)}},onCollectionItemChange:function(n,o){var p=this,t=o.item,q=o.modified||null,s=o.meta;p.onUpdate(t,s,q,o);p.fireEvent("update",p,t,s,q,o)},onCollectionUpdateKey:function(g,k){this.fireEvent("idchanged",this,k.item,k.oldKey,k.newKey)},onUpdate:Ext.emptyFn,onCollectionRemove:function(n,o){var p=this,q=o.items,m=!o.next;if(p.ignoreCollectionRemove){return}p.fireEvent("remove",p,q,o.at,false);if(m){p.fireEvent("datachanged",p)}},onSourceBeforeLoad:function(g,k){this.fireEvent("beforeload",this,k)},onSourceAfterLoad:function(m,n,l,o){this.fireEvent("load",this,n,l,o)},onFilterEndUpdate:function(){Ext.data.AbstractStore.prototype.onFilterEndUpdate.apply(this,arguments);this.callObservers("Filter")},onSourceBeforePopulate:function(){this.ignoreCollectionAdd=true;this.callObservers("BeforePopulate")},onSourceAfterPopulate:function(){var f=this;f.ignoreCollectionAdd=false;f.fireEvent("datachanged",f);f.fireEvent("refresh",f);this.callObservers("AfterPopulate")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=true;this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=false;this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=true;this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(k,m){var l=this;l.ignoreCollectionRemove=false;if(!m){l.fireEvent("clear",l);l.fireEvent("datachanged",l)}this.callObservers("AfterRemoveAll",[m])},onSourceFilter:function(){var f=this;f.fireEvent("refresh",f);f.fireEvent("datachanged",f)},hasPendingLoad:function(){return this.getSource().hasPendingLoad()},isLoaded:function(){return this.getSource().isLoaded()},isLoading:function(){return this.getSource().isLoading()},doDestroy:function(){var f=this;f.observers=null;f.setSource(null);f.getData().destroy(true);f.data=null;Ext.data.AbstractStore.prototype.doDestroy.call(this)},privates:{isMoving:function(){var f=this.getSource();return f.isMoving?f.isMoving.apply(f,arguments):false},loadsSynchronously:function(){return this.getSource().loadsSynchronously()}}},0,0,0,0,["store.chained"],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,"ChainedStore"],0));(Ext.cmd.derive("Ext.app.ViewModel",Ext.Base,{isViewModel:true,factoryConfig:{name:"viewModel"},collectTimeout:100,expressionRe:/^(?:\{(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:false,config:{data:true,formulas:{$value:null,merge:function(l,o,m,n){return this.mergeNew(l,o,m,n)}},links:null,parent:null,root:true,scheduler:null,schema:"default",session:null,stores:null,view:null},constructor:function(f){this.bindings={};this.initConfig(f)},destroy:function(){var w=this,y=w._scheduler,s=w.storeInfo,u=w.getParent(),z=w.collectTask,A=w.children,B=w.bindings,t,v,x;w.destroying=true;if(z){z.cancel();w.collectTask=null}if(A){for(t in A){A[t].destroy()}}if(s){for(t in s){v=s[t];x=v.autoDestroy;if(x||(!v.$wasInstance&&x!==false)){v.destroy()}Ext.destroy(v.$binding)}}if(u){u.unregisterChild(w)}w.getRoot().destroy();for(t in B){B[t].destroy()}if(y&&y.$owner===w){y.$owner=null;y.destroy()}w.children=w.storeInfo=w._session=w._view=w._scheduler=w.bindings=w._root=w._parent=w.formulaFn=w.$formulaData=null;w.destroying=false;w.callParent()},bind:function(p,v,s,t){var q=this,u=true,o;s=s||q;if(!t&&p.bindTo!==undefined&&!Ext.isString(p)){t=p;p=t.bindTo}if(!Ext.isString(p)){o=new Ext.app.bind.Multi(p,q,v,s,t)}else{if(q.expressionRe.test(p)){p=p.substring(1,p.length-1);o=q.bindExpression(p,v,s,t);u=false}else{o=new Ext.app.bind.TemplateBinding(p,q,v,s,t)}}if(u){q.bindings[o.id]=o}return o},getSession:function(){var l=this,k=l._session,m;if(!k&&(m=l.getParent())){l.setSession(k=m.getSession())}return k||null},getStore:function(l){var k=this.storeInfo,m;if(k){m=k[l]}return m||null},linkTo:function(q,w){var s=this,x,u,z,y,t,v;if(w.isModel){w={type:w.entityName,id:w.id}}y=w.type||w.reference;u=w.create;if(y){z=w.id;if(u){z=undefined}v=s.getRecord(y,z);if(Ext.isObject(u)){v.set(u);v.commit();v.phantom=true}x=s.getRoot().createStubChild(q);x.set(v)}else{x=s.getStub(q);if(!x.isLinkStub){t=new Ext.app.bind.LinkStub(s,x.name);x.graft(t);x=t}x.link(w)}},notify:function(){var f=this.getScheduler();if(!f.firing){f.notify()}},get:function(f){return this.getStub(f).getValue()},set:function(m,p){var q=this,n,o;q.getData();if(p===undefined&&m&&m.constructor===Object){o=q.getRoot();p=m}else{if(m&&m.indexOf(".")<0){n={};n[m]=p;p=n;o=q.getRoot()}else{o=q.getStub(m)}}o.set(p)},privates:{registerChild:function(g){var k=this.children;if(!k){this.children=k={}}k[g.getId()]=g},unregisterChild:function(g){var k=this.children;if(!this.destroying&&k){delete k[g.getId()]}},getRecord:function(s,n){var p=this.getSession(),o=s,q=n!==undefined,t;if(p){if(q){t=p.getRecord(s,n)}else{t=p.createRecord(s)}}else{if(!o.$isClass){o=this.getSchema().getEntity(o)}if(q){t=o.createWithId(n);t.load()}else{t=new o()}}return t},bindExpression:function(n,m,p,q){var o=this.getStub(n);return o.bind(m,p,q)},applyScheduler:function(f){if(f&&!f.isInstance){f=new Ext.util.Scheduler(f);f.$owner=this}return f},getScheduler:function(){var k=this,m=k._scheduler,l;if(!m){if(!(l=k.getParent())){m=new Ext.util.Scheduler({preSort:"kind,-depth"});m.$owner=k}else{m=l.getScheduler()}k.setScheduler(m)}return m},getStub:function(g){var k=this.getRoot();return g?k.getChild(g):k},collect:function(){var k=this,l=k.getParent(),m=k.collectTask;if(l){l.collect();return}if(!m){m=k.collectTask=new Ext.util.DelayedTask(k.doCollect,k)}if(k.collectTimeout===0){k.doCollect()}else{m.delay(k.collectTimeout)}},doCollect:function(){var g=this.children,k;if(g){for(k in g){g[k].doCollect()}}this.getRoot().collect()},onBindDestroy:function(l,o){var m=this,n;if(m.destroying){return}if(!o){delete m.bindings[l.id]}n=m.getParent();if(n){n.onBindDestroy(l,true)}else{m.collect()}},applyData:function(o,m){var n=this,q,p;n.getSession();if(!m){p=n.getParent();n.linkData=q=p?Ext.Object.chain(p.getData()):{};n.data=n._data=Ext.Object.chain(q)}if(o&&o.constructor===Object){n.getRoot().set(o)}},applyParent:function(f){if(f){f.registerChild(this)}return f},applyStores:function(t){var p=this,u=p.getRoot(),s,v,w,x,q;p.storeInfo={};p.listenerScopeFn=function(){return p.getView().getInheritedConfig("defaultListenerScope")};for(s in t){v=t[s];if(v.isStore){v.$wasInstance=true;p.setupStore(v,s);continue}else{if(Ext.isString(v)){v={source:v}}else{v=Ext.apply({},v)}}q=v.listeners;delete v.listeners;w=p.bind(v,p.onStoreBind,p,{trackStatics:true});if(w.isStatic()){w.destroy();p.createStore(s,v,q)}else{w.$storeKey=s;w.$listeners=q;x=u.createStubChild(s);x.setStore(w)}}},onStoreBind:function(u,s,v){var o=this.storeInfo,p=v.$storeKey,t=o[p],q;if(!t){this.createStore(p,u,v.$listeners,v)}else{u=Ext.merge({},v.pruneStaticKeys());q=u.proxy;delete u.type;delete u.model;delete u.fields;delete u.proxy;delete u.listeners;if(q){delete q.reader;delete q.writer;t.getProxy().setConfig(q)}t.setConfig(u)}},createStore:function(q,t,p,n){var o=this.getSession(),s;t=Ext.apply({},t);if(t.session){t.session=o}if(t.source){t.type=t.type||"chained"}t.listeners=p;t.resolveListenerScope=this.listenerScopeFn;s=Ext.Factory.store(t);s.$binding=n;this.setupStore(s,q)},setupStore:function(k,g){k.resolveListenerScope=this.listenerScopeFn;this.storeInfo[g]=k;this.set(g,k)},applyFormulas:function(o){var n=this,q=n.getRoot(),p,m;n.getData();for(p in o){q.createStubChild(p);m=n.getStub(p);m.setFormula(o[p])}return o},applyLinks:function(k){for(var g in k){this.linkTo(g,k[g])}},applySchema:function(f){return Ext.data.schema.Schema.get(f)},applyRoot:function(){var k=new Ext.app.bind.RootStub(this),g=this.getParent();if(g){k.depth=g.getRoot().depth-1000}return k},getFormulaFn:function(k){var l=this,m=l.formulaFn;if(!m){m=l.formulaFn=function(e){return l.$formulaData[e]}}l.$formulaData=k;return m}}},1,0,0,0,["viewmodel.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.app,"ViewModel"],0));(Ext.cmd.derive("Ext.app.domain.Controller",Ext.app.EventDomain,{singleton:true,type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){var f=this;f.callParent();f.monitor(Ext.app.BaseController)},match:function(l,n){var o=false,m=l.alias;if(n==="*"){o=true}else{if(n==="#"){o=!!l.isApplication}else{if(this.idMatchRe.test(n)){o=l.getId()===n.substring(1)}else{if(m){o=Ext.Array.indexOf(m,this.prefix+n)>-1}}}}return o}},1,0,0,0,0,0,[Ext.app.domain,"Controller"],0));(Ext.cmd.derive("Ext.direct.Manager",Ext.Base,{singleton:true,exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},providerClasses:{},remotingMethods:{},config:{varName:"Ext.REMOTING_API"},apiNotFoundError:"Ext Direct API was not found at {0}",constructor:function(){var f=this;f.mixins.observable.constructor.call(f);f.transactions=new Ext.util.MixedCollection();f.providers=new Ext.util.MixedCollection()},addProvider:function(n){var p=this,s=arguments,o=p.relayers||(p.relayers={}),q,t;if(s.length>1){for(q=0,t=s.length;q<t;++q){p.addProvider(s[q])}return}if(!n.isProvider){n=Ext.create("direct."+n.type+"provider",n)}p.providers.add(n);n.on("data",p.onProviderData,p);if(n.relayedEvents){o[n.id]=p.relayEvents(n,n.relayedEvents)}if(!n.isConnected()){n.connect()}return n},loadProvider:function(B,t,D){var w=this,A=w.providerClasses,v,C,z,u,y,x;if(Ext.isArray(B)){for(y=0,x=B.length;y<x;y++){w.loadProvider(B[y],t,D)}return}v=B.type;C=B.url;if(A[v]&&A[v].checkConfig(B)){u=w.addProvider(B);w.fireEventArgs("providerload",[C,u]);Ext.callback(t,D,[C,u]);return}z=B.varName||w.getVarName();delete B.varName;delete B.url;Ext.Loader.loadScript({url:C,scope:w,onLoad:function(){this.onApiLoadSuccess({url:C,varName:z,config:B,callback:t,scope:D})},onError:function(){this.onApiLoadFailure({url:C,callback:t,scope:D})}})},getProvider:function(f){return f.isProvider?f:this.providers.get(f)},removeProvider:function(n){var p=this,q=p.providers,o=p.relayers,m;n=n.isProvider?n:q.get(n);if(n){n.un("data",p.onProviderData,p);m=n.id;if(o[m]){o[m].destroy();delete o[m]}q.remove(n);return n}return null},addTransaction:function(f){this.transactions.add(f);return f},removeTransaction:function(g){var k=this;g=k.getTransaction(g);k.transactions.remove(g);return g},getTransaction:function(f){return typeof f==="object"?f:this.transactions.get(f)},onProviderData:function(m,n){var o=this,p,q;if(Ext.isArray(n)){for(p=0,q=n.length;p<q;++p){o.onProviderData(m,n[p])}return}if(n.name&&n.name!=="event"&&n.name!=="exception"){o.fireEvent(n.name,n)}else{if(n.status===false){o.fireEvent("exception",n)}}o.fireEvent("event",n,m)},parseMethod:function(p){var n=Ext.global,q=0,s,o,t;if(Ext.isFunction(p)){s=p}else{if(Ext.isString(p)){s=this.remotingMethods[p];if(!s){o=p.split(".");t=o.length;while(n&&q<t){n=n[o[q]];++q}s=Ext.isFunction(n)?n:null}}}return s||null},resolveApi:function(s,u){var p,q,v,o,t;p=s&&s.prefix;if(p&&p.substr(p.length-1)!=="."){p+="."}for(q in s){v=s[q];if(q!=="prefix"&&typeof v!=="function"){o=(p||"")+v;t=this.parseMethod(o);if(typeof t==="function"){s[q]=t}}}return s},privates:{addProviderClass:function(g,k){this.providerClasses[g]=k},onApiLoadSuccess:function(options){var me=this,url=options.url,varName=options.varName,api,provider,error;try{api=Ext.apply(options.config,eval(varName));provider=me.addProvider(api)}catch(e){error=e+""}if(error){me.fireEventArgs("providerloaderror",[url,error]);Ext.callback(options.callback,options.scope,[url,error])}else{me.fireEventArgs("providerload",[url,provider]);Ext.callback(options.callback,options.scope,[url,provider])}},onApiLoadFailure:function(k){var l=k.url,m;m=Ext.String.format(this.apiNotFoundError,l);this.fireEventArgs("providerloaderror",[l,m]);Ext.callback(k.callback,k.scope,[l,m])},registerMethod:function(k,g){this.remotingMethods[k]=g},clearAllMethods:function(){this.remotingMethods={}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.direct,"Manager"],function(){Ext.Direct=Ext.direct.Manager}));(Ext.cmd.derive("Ext.data.PageMap",Ext.util.LruCache,{config:{store:null,pageSize:0,rootProperty:""},clear:function(k){var g=this;g.pageMapGeneration=(g.pageMapGeneration||0)+1;g.indexMap={};Ext.util.LruCache.prototype.clear.call(this,k)},forEach:function(u,D){var w=this,z=Ext.Object.getKeys(w.map),C=z.length,v=w.getPageSize(),A,B,t,x,y;for(A=0;A<C;A++){z[A]=+z[A]}Ext.Array.sort(z,Ext.Array.numericSortFn);D=D||w;for(A=0;A<C;A++){t=z[A];x=w.getPage(t);y=x.length;for(B=0;B<y;B++){if(u.call(D,x[B],(t-1)*v+B)===false){return}}}},findBy:function(m,n){var l=this,o=null;n=n||l;l.forEach(function(e,f){if(m.call(n,e,f)){o=e;return false}});return o},findIndexBy:function(m,n){var l=this,o=-1;n=n||l;l.forEach(function(e,f){if(m.call(n,e)){o=f;return false}});return o},find:function(x,p,w,s,t,u){if(Ext.isEmpty(p,false)){return null}var q=Ext.String.createRegex(p,s,t,u),v=this.getRootProperty();return this.findBy(function(e){return e&&q.test((v?e[v]:e)[x])},null,w)},findIndex:function(x,p,w,s,t,u){if(Ext.isEmpty(p,false)){return null}var q=Ext.String.createRegex(p,s,t,u),v=this.getRootProperty();return this.findIndexBy(function(e){return e&&q.test((v?e[v]:e)[x])},null,w)},getPageFromRecordIndex:function(f){return Math.floor(f/this.getPageSize())+1},addAll:function(f){this.addPage(1,f)},addPage:function(D,C){var u=this,t=u.getPageSize(),A=D+Math.floor((C.length-1)/t),v=(D-1)*t,x=u.indexMap,y,B,z,w;for(w=0;D<=A;D++,w+=t){y=Ext.Array.slice(C,w,w+t);for(B=0,z=y.length;B<z;B++){x[y[B].internalId]=v++}u.add(D,y);u.fireEvent("pageadd",u,D,y)}},getCount:function(){var f=Ext.util.LruCache.prototype.getCount.call(this);if(f){f=(f-1)*this.getPageSize()+this.last.value.length}return f},getByInternalId:function(k){var g=this.indexMap[k];if(g!=null){return this.getAt(g)}},indexOf:function(g){var k=-1;if(g){k=this.indexMap[g.internalId];if(k==null){k=-1}}return k},insert:function(){},remove:function(){},removeAt:function(){},removeAtKey:function(n){var o=this,q=o.getPage(n),s,p,t;if(q){if(o.fireEvent("beforepageremove",o,n,q)!==false){s=q.length;for(p=0;p<s;p++){delete o.indexMap[q[p].internalId]}t=Ext.util.LruCache.prototype.removeAtKey.apply(this,arguments);o.fireEvent("pageremove",o,n,q);q.length=0}}return t},getPage:function(f){return this.get(f)},hasRange:function(m,p){var o=this,q=o.getPageFromRecordIndex(m),n=o.getPageFromRecordIndex(p);for(;q<=n;q++){if(!o.hasPage(q)){return false}}return(n-1)*o._pageSize+o.getPage(n).length>p},hasPage:function(f){return !!this.get(f)},peekPage:function(f){return this.map[f]},getAt:function(f){return this.getRange(f,f+1)[0]},getRange:function(F,E){E--;if(!this.hasRange(F,E)){Ext.raise("PageMap asked for range which it does not have")}var z=this,C=Ext.Array,y=z.getPageSize(),J=z.getPageFromRecordIndex(F),B=z.getPageFromRecordIndex(E),D=(J-1)*y,H=(B*y)-1,x=J,G=[],I,A,w;for(;x<=B;x++){if(x===J){I=F-D;w=I>0}else{I=0;w=false}if(x===B){A=y-(H-E);w=w||A<y}if(w){C.push(G,C.slice(z.getPage(x),I,A))}else{C.push(G,z.getPage(x))}}return G}},0,0,0,0,0,0,[Ext.data,"PageMap"],0));(Ext.cmd.derive("Ext.data.BufferedStore",Ext.data.ProxyStore,{isBufferedStore:true,buffered:true,config:{data:0,pageSize:25,remoteSort:true,remoteFilter:true,sortOnLoad:false,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0,trackRemoved:false},applyData:function(g){var k=this.data||(this.data=this.createDataCollection());return k},applyProxy:function(f){f=Ext.data.ProxyStore.prototype.applyProxy.call(this,f);if(f&&f.setEnablePaging){f.setEnablePaging(true)}return f},applyAutoSort:function(){},createFiltersCollection:function(){return new Ext.util.FilterCollection()},createSortersCollection:function(){return new Ext.util.SorterCollection()},updateGroupField:function(f){this.group(f)},getGrouper:function(){return this.grouper},isGrouped:function(){return !!this.grouper},createDataCollection:function(){var g=this,k=new Ext.data.PageMap({store:g,rootProperty:"data",pageSize:g.getPageSize(),maxSize:g.getPurgePageCount(),listeners:{clear:g.onPageMapClear,scope:g}});g.relayEvents(k,["beforepageremove","pageadd","pageremove"]);g.pageRequests={};return k},removeAll:function(m){var l=this,k=l.getData();if(k){if(m){l.suspendEvent("clear")}k.clear();if(m){l.resumeEvent("clear")}}},flushLoad:function(){var g=this,k=g.pendingLoadOptions;g.clearLoadTask();if(!k){return}g.getData().clear();k.page=1;k.start=0;k.limit=g.getViewSize()||g.getDefaultViewSize();k.loadCallback=k.callback;k.callback=null;return g.loadToPrefetch(k)},reload:function(E){var x=this,z=x.getData(),v=Number.MAX_VALUE,w,C,y,F,A,D,u,B;if(!E){E={}}if(x.loading||x.fireEvent("beforeload",x,E)===false){return}D=function(){var e=x.totalCount,f=C-w;if(C>=e){C=e-1;w=Math.max(C-f,0)}if(x.rangeCached(w,C,false)){x.loadCount=(x.loadCount||0)+1;x.loading=false;z.un("pageadd",D);B=z.getRange(w,C);x.fireEvent("load",x,B,true);x.fireEvent("refresh",x)}};u=Math.ceil((x.getLeadingBufferZone()+x.getTrailingBufferZone())/2);if(x.lastRequestStart&&x.preserveScrollOnReload){w=x.lastRequestStart;C=x.lastRequestEnd;v=x.getTotalCount()}else{w=E.start||0;C=w+(E.count||x.getPageSize())-1}z.clear(true);delete x.totalCount;w=Math.max(w-u,0);C=Math.min(C+u,v);w=w===0?0:w-1;C=C===v?C:C+1;y=x.getPageFromRecordIndex(w);F=x.getPageFromRecordIndex(C);x.loading=true;E.waitForReload=D;z.on("pageadd",D);for(A=y;A<=F;A++){x.prefetchPage(A,E)}},filter:function(){Ext.data.ProxyStore.prototype.filter.apply(this,arguments)},filterBy:function(g,k){},loadData:function(g,k){},loadPage:function(k,m){var l=this;m=m||{};m.page=l.currentPage=k;m.start=(k-1)*l.getPageSize();m.limit=l.getViewSize()||l.getDefaultViewSize();m.loadCallback=m.callback;m.callback=null;return l.loadToPrefetch(m)},clearData:function(k){var m=this,l=m.getData();if(l){l.clear()}},getCount:function(){return this.totalCount||0},getRange:function(B,y,G){var H=this,A=H.totalCount-1,z=H.lastRequestStart,F=[],x=H.getData(),C,v,D,E,w;G=Ext.apply({prefetchStart:B,prefetchEnd:y},G);y=(y>=H.totalCount)?A:y;if(G.forRender!==false){v=B===0?0:B-1;D=y===A?y:y+1}else{v=B;D=y}H.lastRequestStart=B;H.lastRequestEnd=y;if(H.rangeCached(B,y,G.forRender)){H.onRangeAvailable(G);F=x.getRange(B,y+1)}else{H.fireEvent("cachemiss",H,B,y);E=H.getPageFromRecordIndex(v);w=H.getPageFromRecordIndex(D);C=function(g,e,f){if(e>=E&&e<=w&&H.rangeCached(B,y)){H.fireEvent("cachefilled",H,B,y);x.un("pageadd",C);H.onRangeAvailable(G)}};x.on("pageadd",C);H.prefetchRange(B,y)}H.primeCache(B,y,B<z?-1:1);return F},getById:function(g){var k=this.data.findBy(function(e){return e.getId()===g});return k},getAt:function(k){var g=this.getData();if(g.hasRange(k,k)){return g.getAt(k)}},getByInternalId:function(f){return this.data.getByInternalId(f)},contains:function(f){return this.indexOf(f)>-1},indexOf:function(f){return this.getData().indexOf(f)},indexOfId:function(f){return this.indexOf(this.getById(f))},group:function(n,l){var m=this,o;if(n&&typeof n==="string"){o=m.grouper;if(o&&l!==undefined){o.setDirection(l)}else{m.grouper=new Ext.util.Grouper({property:n,direction:l||"ASC",root:"data"})}}else{m.grouper=n?m.getSorters().decodeSorter(n,"Ext.util.Grouper"):null}m.getData().clear();m.loadPage(1,{callback:function(){m.fireEvent("groupchange",m,m.getGrouper())}})},getPageFromRecordIndex:function(f){return Math.floor(f/this.getPageSize())+1},calculatePageCacheSize:function(m){var k=this,l=k.getPurgePageCount();return l?Math.max(k.getData().getMaxSize()||0,Math.ceil((m+k.getTrailingBufferZone()+k.getLeadingBufferZone())/k.getPageSize())*2+l):0},loadToPrefetch:function(J){var P=this,G=J,C,H,N,O=J.start,I=J.start+J.limit-1,K=(P.getViewSize()||J.limit),B=Math.min(I,J.start+K-1),A=P.getPageFromRecordIndex(Math.max(O-P.getTrailingBufferZone(),0)),L=P.getPageFromRecordIndex(I+P.getLeadingBufferZone()),D=P.getData(),z=function(){H=H||[];if(J.loadCallback){J.loadCallback.call(J.scope||P,H,E,true)}if(J.callback){J.callback.call(J.scope||P,H,O||0,I||0,J)}},M=function(){P.loadCount=(P.loadCount||0)+1;P.fireEvent("datachanged",P);P.fireEvent("refresh",P);P.fireEvent("load",P,H,true)},F=function(){if(P.rangeCached(O,B)){P.loading=false;H=D.getRange(O,B+1);D.un("pageadd",F);if(P.hasListeners.guaranteedrange){P.guaranteeRange(O,B,J.callback,J.scope)}z();M()}},E;D.setMaxSize(P.calculatePageCacheSize(K));if(P.fireEvent("beforeload",P,J)!==false){delete P.totalCount;P.loading=true;if(J.callback){G=Ext.apply({},J);delete G.callback}P.on("prefetch",function(e,g,f,k){E=k;if(f){if((N=P.getTotalCount())){D.on("pageadd",F);B=Math.min(B,N-1);L=P.getPageFromRecordIndex(Math.min(B+P.getLeadingBufferZone(),N-1));for(C=A+1;C<=L;++C){P.prefetchPage(C,G)}}else{z();M()}}else{P.loading=false;z();P.fireEvent("load",P,g,false)}},null,{single:true});P.prefetchPage(A,G)}},prefetch:function(p){var o=this,s=o.getPageSize(),n=o.getData(),q,t;if(s){if(o.lastPageSize&&s!=o.lastPageSize){Ext.raise("pageSize cannot be dynamically altered")}if(!n.getPageSize()){n.setPageSize(s)}}else{o.pageSize=n.setPageSize(s=p.limit)}o.lastPageSize=s;if(!p.page){p.page=o.getPageFromRecordIndex(p.start);p.start=(p.page-1)*s;p.limit=Math.ceil(p.limit/s)*s}t=o.pageRequests[p.page];if(!t||t.getOperation().pageMapGeneration!==n.pageMapGeneration){p=Ext.apply({action:"read",filters:o.getFilters().items,sorters:o.getSorters().items,grouper:o.getGrouper(),internalCallback:o.onProxyPrefetch,internalScope:o},p);q=o.createOperation("read",p);q.pageMapGeneration=n.pageMapGeneration;if(o.fireEvent("beforeprefetch",o,q)!==false){o.pageRequests[p.page]=q.execute();if(o.getProxy().isSynchronous){delete o.pageRequests[p.page]}}}return o},onPageMapClear:function(){var o=this,p=o.wasLoading,q=o.pageRequests,m=o.getData(),n;m.clearListeners();m.on("clear",o.onPageMapClear,o);o.relayEvents(m,["beforepageremove","pageadd","pageremove"]);o.loading=true;o.totalCount=0;for(n in q){if(q.hasOwnProperty(n)){q[n].getOperation().abort()}}o.fireEvent("clear",o);o.loading=p},prefetchPage:function(o,s){var p=this,t=p.getPageSize(),n=(o-1)*t,q=p.totalCount;if(q!==undefined&&p.data.getCount()===q){return}p.prefetch(Ext.applyIf({page:o,start:n,limit:t},s))},onProxyPrefetch:function(z){if(this.destroying||this.destroyed){return}var v=this,u=z.getResultSet(),A=z.getRecords(),x=z.wasSuccessful(),w=z.getPage(),B=z.waitForReload,D=v.totalCount,C=v.pageRequests,t,y;if(z.pageMapGeneration===v.getData().pageMapGeneration){if(u){v.totalCount=u.getTotal();if(v.totalCount!==D){v.fireEvent("totalcountchange",v.totalCount)}}if(w!==undefined){delete v.pageRequests[w]}v.loading=false;v.fireEvent("prefetch",v,A,x,z);if(x){if(v.totalCount===0){if(B){for(t in C){y=C[t].getOperation();if(y.waitForReload===B){delete y.waitForReload}}v.getData().un("pageadd",B);v.fireEvent("load",v,[],true);v.fireEvent("refresh",v)}}else{v.cachePage(A,z.getPage())}}Ext.callback(z.getCallback(),z.getScope()||v,[A,z,x])}},cachePage:function(p,m){var n=this,q=p.length,o;if(!Ext.isDefined(n.totalCount)){n.totalCount=p.length;n.fireEvent("totalcountchange",n.totalCount)}for(o=0;o<q;o++){p[o].join(n)}n.getData().addPage(m,p)},rangeCached:function(m,q,n){var o=m,p=q;if(n!==false){o=m===0?0:m-1,p=q===this.totalCount-1?q:q+1}return this.getData().hasRange(o,p)},pageCached:function(f){return this.getData().hasPage(f)},pagePending:function(f){return !!this.pageRequests[f]},rangeSatisfied:function(g,k){return this.rangeCached(g,k)},onRangeAvailable:function(p){var o=this,s=o.getTotalCount(),n=p.prefetchStart,t=(p.prefetchEnd>s-1)?s-1:p.prefetchEnd,q;t=Math.max(0,t);q=o.getData().getRange(n,t+1);if(p.fireEvent!==false){o.fireEvent("guaranteedrange",q,n,t,p)}if(p.callback){p.callback.call(p.scope||o,q,n,t,p)}},guaranteeRange:function(m,q,n,o,p){p=Ext.apply({callback:n,scope:o},p);this.getRange(m,q+1,p)},prefetchRange:function(v,t){var q=this,s,u,o,p=q.getData();if(!q.rangeCached(v,t)){s=q.getPageFromRecordIndex(v);u=q.getPageFromRecordIndex(t);p.setMaxSize(q.calculatePageCacheSize(t-v+1));for(o=s;o<=u;o++){if(!q.pageCached(o)){q.prefetchPage(o)}}}},primeCache:function(w,t,x){var p=this,q=p.getLeadingBufferZone(),s=p.getTrailingBufferZone(),u=p.getPageSize(),v=p.totalCount;if(x===-1){w=Math.max(w-q,0);t=Math.min(t+s,v-1)}else{if(x===1){w=Math.max(Math.min(w-s,v-u),0);t=Math.min(t+q,v-1)}else{w=Math.min(Math.max(Math.floor(w-((q+s)/2)),0),v-p.pageSize);t=Math.min(Math.max(Math.ceil(t+((q+s)/2)),0),v-1)}}p.prefetchRange(w,t)},sort:function(l,m,k){if(arguments.length===0){this.clearAndLoad()}else{this.getSorters().addSort(l,m,k)}},onSorterEndUpdate:function(){var k=this,g=k.getSorters().getRange();if(g.length){k.fireEvent("beforesort",k,g);k.clearAndLoad({callback:function(){k.fireEvent("sort",k,g)}})}else{k.fireEvent("sort",k,g)}},clearAndLoad:function(k){var g=this;g.clearing=true;g.getData().clear();g.clearing=false;g.loadPage(1,k)},privates:{isLast:function(f){return this.indexOf(f)===this.getTotalCount()-1},isMoving:function(){return false}}},0,0,0,0,["store.buffered"],0,[Ext.data,"BufferedStore"],0));(Ext.cmd.derive("Ext.data.NodeInterface",Ext.Base,{statics:{decorate:function(s){var p=Ext.data.schema.Schema.lookupEntity(s),n=p.prototype,t,q,o;if(!p.prototype.isObservable){p.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable)}if(n.isNode){return}t=n.idProperty;q=p.getField(t);o=q.type;p.override(this.getPrototypeBody());p.addFields([{name:"parentId",type:o,defaultValue:null,allowNull:q.allowNull},{name:"index",type:"int",defaultValue:-1,persist:false,convert:null},{name:"depth",type:"int",defaultValue:0,persist:false,convert:null},{name:"expanded",type:"bool",defaultValue:false,persist:false,convert:null},{name:"expandable",type:"bool",defaultValue:true,persist:false,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:false,convert:null},{name:"leaf",type:"bool",defaultValue:false},{name:"cls",type:"string",defaultValue:"",persist:false,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:false,convert:null},{name:"icon",type:"string",defaultValue:"",persist:false,convert:null},{name:"glyph",type:"string",defaultValue:"",persist:false,convert:null},{name:"root",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isLast",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isFirst",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"allowDrop",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"allowDrag",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"loaded",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"loading",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"href",type:"string",defaultValue:"",persist:false,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:false,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:false,convert:null},{name:"children",type:"auto",defaultValue:null,persist:false,convert:null},{name:"visible",type:"boolean",defaultValue:true,persist:false},{name:"text",type:"string",persist:false}])},getPrototypeBody:function(){var k={idchanged:true,append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true,expand:true,collapse:true,beforeexpand:true,beforecollapse:true,sort:true},g={silent:true};return{isNode:true,firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,constructor:function(){var e=this;e.mixins.observable.constructor.call(e);e.callParent(arguments);e.childNodes=[];return e},createNode:function(z){var f=this,v=f.childType,A,e,x,B,u,w,y=f.self;if(!z.isModel){if(v){y=f.schema.getEntity(v)}else{A=f.getTreeStore();e=A&&A.getProxy().getReader();x=f.getProxy();B=x?x.getReader():null;u=!e||(B&&B.initialConfig.typeProperty)?B:e;if(u){w=u.getTypeProperty();if(w){y=u.getChildType(f.schema,z,w)}}}z=new y(z)}if(!z.childNodes){z.firstChild=z.lastChild=z.parentNode=z.previousSibling=z.nextSibling=null;z.childNodes=[]}return z},isLeaf:function(){return this.get("leaf")===true},setFirstChild:function(e){this.firstChild=e},setLastChild:function(e){this.lastChild=e},updateInfo:function(t,x){var f=this,w=f.phantom,z;t={silent:true,commit:t};if(x.depth!==f.data.depth){var e={depth:f.data.depth+1},y=f.childNodes,v=y.length,u;for(u=0;u<v;u++){y[u].set(e)}}z=f.set(x,t);f.phantom=w;return z},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var e=this;if(e.get("expandable")){return !(e.isLeaf()||(e.isLoaded()&&!e.phantom&&!e.hasChildNodes()))}return false},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(D,J,f){var M=this,e,N,O,K,H,C={isLast:true,parentId:M.getId(),depth:(M.data.depth||0)+1},I,E=M.getTreeStore(),F=E&&E.triStateCheckbox?1:false,G=E&&E.bulkUpdate,P,B,L;Ext.suspendLayouts();if(Ext.isArray(D)){N=D.length;I=new Array(N);M.callTreeStore("beginFill");for(e=0;e<N;e++){I[e]=M.appendChild(D[e],J,f)}M.callTreeStore("endFill",[I])}else{D=M.createNode(D);if(J!==true&&M.fireBubbledEvent("beforeappend",[M,D])===false){Ext.resumeLayouts(true);return false}O=M.childNodes.length;K=D.parentNode;if(K){if(J!==true&&D.fireBubbledEvent("beforemove",[D,K,M,O])===false){Ext.resumeLayouts(true);return false}if(K.removeChild(D,false,J,K.getTreeStore()===E)===false){Ext.resumeLayouts(true);return false}}E&&E.beginUpdate();O=M.childNodes.length;if(O===0){M.setFirstChild(D)}M.childNodes[O]=D;D.parentNode=M;D.nextSibling=null;M.setLastChild(D);H=M.childNodes[O-1];if(H){D.previousSibling=H;H.nextSibling=D;H.updateInfo(f,{isLast:false});if(!G){H.triggerUIUpdate()}}else{D.previousSibling=null}C.isFirst=O===0;C.index=O;L=D.updateInfo(f,C);if(M.isLeaf()){M.set("leaf",false)}if(!M.isLoaded()){if(G){M.data.loaded=true}else{M.set("loaded",true)}}else{if(M.childNodes.length===1&&!G){M.triggerUIUpdate()}}if(O&&M.childNodes[O-1].isExpanded()&&!G){M.childNodes[O-1].cascade(M.triggerUIUpdate)}if(E){E.registerNode(M,!G);if(G){E.registerNode(D)}}if(J!==true){M.fireBubbledEvent("append",[M,D,O]);if(K){D.fireBubbledEvent("move",[D,K,M,O])}}M.callTreeStore("onNodeAppend",[D,O]);if(L){D.callJoined("afterEdit",[L])}I=D;if(E){E.endUpdate()}}Ext.resumeLayouts(true);return I},getOwnerTree:function(){var e=this.getTreeStore();if(e){return e.ownerTree}},getTreeStore:function(){var e=this;while(e&&!e.treeStore){e=e.parentNode}return e&&e.treeStore},removeChild:function(x,z,D,E){var F=this,G=F.indexOf(x),e,f,B,y=F.getTreeStore(),A=y&&y.bulkUpdate,H,C=[];if(G===-1||(D!==true&&F.fireBubbledEvent("beforeremove",[F,x,!!E])===false)){return false}Ext.suspendLayouts();y&&y.beginUpdate();Ext.Array.erase(F.childNodes,G,1);if(F.firstChild===x){F.setFirstChild(x.nextSibling)}if(F.lastChild===x){F.setLastChild(x.previousSibling)}B=x.previousSibling;if(B){x.previousSibling.nextSibling=x.nextSibling}if(x.nextSibling){x.nextSibling.previousSibling=x.previousSibling;if(G===0){x.nextSibling.updateInfo(false,{isFirst:true})}for(e=G,f=F.childNodes.length;e<f;e++){F.childNodes[e].updateInfo(false,{index:e})}}else{if(B){B.updateInfo(false,{isLast:true});if(!A){if(B.isExpanded()){B.cascade(F.triggerUIUpdate)}else{B.triggerUIUpdate()}}}}if(!F.childNodes.length&&!A){F.triggerUIUpdate()}Ext.resumeLayouts(true);if(D!==true){H={parentNode:x.parentNode,previousSibling:x.previousSibling,nextSibling:x.nextSibling};F.callTreeStore("beforeNodeRemove",[[x],!!E,C]);x.previousSibling=x.nextSibling=x.parentNode=null;F.fireBubbledEvent("remove",[F,x,!!E,H]);F.callTreeStore("onNodeRemove",[[x],!!E,C])}if(z){x.erase(true)}else{x.clear()}if(!E){x.set({parentId:null,lastParentId:F.getId()},g)}if(y){y.endUpdate()}return x},copy:function(x,u,f){var v=this,s,e=[x],t=v.childNodes?v.childNodes.length:0,w;if(u&&u.isSession){e.push(u)}else{if(arguments.length<3){f=u}}s=v.callParent(e);if(f){for(w=0;w<t;w++){s.appendChild(v.childNodes[w].copy(undefined,true))}}return s},clear:function(n,o){var f=this,e;f.parentNode=f.previousSibling=f.nextSibling=null;if(n){f.firstChild=f.lastChild=f.childNodes=null}if(o){f.firstChild=f.lastChild=null;f.childNodes.length=0;if(f.data){f.data.children=null}}},drop:function(){var v=this,t=v.childNodes,q=v.parentNode,s,f,e,u=v.getTreeStore();v.callParent();if(q){q.removeChild(v)}else{if(v.get("root")){u.setRoot(null)}}u&&u.beginUpdate();for(f=0,s=t?t.length:0;f<s;f++){e=t[f];e.clear();e.drop()}u&&u.endUpdate()},erase:function(p){var t=this,s=t.childNodes,q=s&&s.length,f,e;t.remove();t.clear(true);t.callParent([p]);for(f=0;f<q;f++){e=s[f];e.parentNode=null;e.erase(p)}},insertBefore:function(A,L,F){var K=this,e=K.indexOf(L),I=A.parentNode,G=e,z,E,f,B=K.getTreeStore(),D=B&&B.bulkUpdate,J,H,C;if(!L){return K.appendChild(A)}if(A===L){return false}A=K.createNode(A);if(F!==true&&K.fireBubbledEvent("beforeinsert",[K,A,L])===false){return false}if(I===K&&K.indexOf(A)<e){G--}if(I){if(F!==true&&A.fireBubbledEvent("beforemove",[A,I,K,e,L])===false){return false}if(I.removeChild(A,false,F,I.getTreeStore()===B)===false){return false}}B&&B.beginUpdate();if(G===0){K.setFirstChild(A)}Ext.Array.splice(K.childNodes,G,0,A);A.parentNode=K;A.nextSibling=L;L.previousSibling=A;E=K.childNodes[G-1];if(E){A.previousSibling=E;E.nextSibling=A}else{A.previousSibling=null}J=A.updateInfo(false,{parentId:K.getId(),index:G,isFirst:G===0,isLast:false,depth:(K.data.depth||0)+1});for(f=G+1,z=K.childNodes.length;f<z;f++){H=K.childNodes[f];C=H.updateInfo(false,{index:f});if(C){H.callJoined("afterEdit",[C])}}if(!K.isLoaded()){if(D){K.data.loaded=true}else{K.set("loaded",true)}}else{if(K.childNodes.length===1&&!D){K.triggerUIUpdate()}}if(B){B.registerNode(K,!D)}if(F!==true){K.fireBubbledEvent("insert",[K,A,L]);if(I){A.fireBubbledEvent("move",[A,I,K,G,L])}}K.callTreeStore("onNodeInsert",[A,G]);if(J){A.callJoined("afterEdit",[J])}if(B){B.endUpdate()}return A},insertChild:function(m,e){var f=this.childNodes[m];if(f){return this.insertBefore(e,f)}else{return this.appendChild(e)}},isLastVisible:function(){var e=this,m=e.data.isLast,f=e.nextSibling;if(!m&&e.getTreeStore().isFiltered()){while(f){if(f.data.visible){return false}f=f.nextSibling}return true}return m},remove:function(n,f){var e=this,o=e.parentNode;if(o){o.removeChild(e,n,f)}else{if(n){e.erase(true)}}return e},removeAll:function(y,A,v){var e=this,B=e.childNodes,f=B.length,w,x,u,z=[];if(!f){return}if(!v){x=e.getTreeStore();if(x){x.beginUpdate();x.suspendEvent("remove");e.callTreeStore("beforeNodeRemove",[B,false,z])}}for(u=0;u<f;++u){w=B[u];w.previousSibling=w.nextSibling=w.parentNode=null;e.fireBubbledEvent("remove",[e,w,false]);if(y){w.erase(true)}else{w.removeAll(false,A,true)}}if(!v&&x){x.resumeEvent("remove");e.callTreeStore("onNodeRemove",[B,false,z]);x.endUpdate()}e.firstChild=e.lastChild=null;B.length=0;if(!v){e.triggerUIUpdate()}return e},getChildAt:function(e){return this.childNodes[e]},replaceChild:function(o,e,f){var n=e?e.nextSibling:null;this.removeChild(e,false,f);this.insertBefore(o,n,f);return e},indexOf:function(e){return Ext.Array.indexOf(this.childNodes,e)},indexOfId:function(e){var f=this.childNodes,o=f.length,n=0;for(;n<o;++n){if(f[n].getId()===e){return n}}return -1},getPath:function(e,f){e=e||this.idProperty;f=f||"/";var n=[this.get(e)],o=this.parentNode;while(o){n.unshift(o.get(e));o=o.parentNode}return f+n.join(f)},getDepth:function(){return this.get("depth")},bubble:function(f,n,o){var e=this;while(e){if(f.apply(n||e,o||[e])===false){break}e=e.parentNode}},cascade:function(w,f,t,u){var x=this;if(arguments.length===1&&!Ext.isFunction(w)){u=w.after;f=w.scope;t=w.args;w=w.before}if(!w||w.apply(f||x,t||[x])!==false){var v=x.childNodes,e=v.length,s;for(s=0;s<e;s++){v[s].cascade.call(v[s],w,f,t,u)}if(u){u.apply(f||x,t||[x])}}},cascadeBy:function(){return this.cascade.apply(this,arguments)},eachChild:function(e,f,q){var s=this.childNodes,t=s.length,p;for(p=0;p<t;p++){if(e.apply(f||this,q||[s[p]])===false){break}}},findChild:function(f,e,m){return this.findChildBy(function(){return this.get(f)==e},null,m)},findChildBy:function(v,w,n){var x=this.childNodes,u=x.length,e=0,t,f;for(;e<u;e++){t=x[e];if(v.call(w||t,t)===true){return t}else{if(n){f=t.findChildBy(v,w,n);if(f!==null){return f}}}}return null},contains:function(e){return e.isAncestor(this)},isAncestor:function(f){var e=this.parentNode;while(e){if(e===f){return true}e=e.parentNode}return false},sort:function(y,v,z){var f=this,e=f.childNodes,n=e.length,u,w,x={isFirst:true};if(n>0){if(!y){y=f.getTreeStore().getSortFn()}Ext.Array.sort(e,y);f.setFirstChild(e[0]);f.setLastChild(e[n-1]);for(u=0;u<n;u++){w=e[u];w.previousSibling=e[u-1];w.nextSibling=e[u+1];x.isLast=(u===n-1);x.index=u;w.updateInfo(false,x);x.isFirst=false;if(v&&!w.isLeaf()){w.sort(y,true,true)}}if(z!==true){f.fireBubbledEvent("sort",[f,e]);f.callTreeStore("onNodeSort",[e])}}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isBranchLoaded:function(){var e=!this.isLeaf()&&this.isLoaded();if(e){this.cascade(function(f){if(!f.isLeaf()){e=e||f.isBranchLoaded()}return e})}return e},isLoading:function(){return this.get("loading")},isRoot:function(){return !this.parentNode},isVisible:function(){var e=this.parentNode;while(e){if(!e.isExpanded()){return false}e=e.parentNode}return true},expand:function(q,s,p){var f=this,e,t;if(!f.isLeaf()){if(f.isLoading()){f.on("expand",function(){f.expand(q,s,p)},f,{single:true})}else{if(!f.isExpanded()){if(f.fireBubbledEvent("beforeexpand",[f])!==false){if(q){if(f.parentNode&&f.parentNode.isSynchronousRecursiveExpand){f.isSynchronousRecursiveExpand=true}else{e=f.getTreeStore();if(e.getProxy().isSynchronous||f.isBranchLoaded()){f.isSynchronousRecursiveExpand=true;e.suspendEvent("add","datachanged");t=true}}}f.callTreeStore("onBeforeNodeExpand",[f.onChildNodesAvailable,f,[q,s,p]]);if(t){e.resumeEvent("add","datachanged");e.fireEvent("datachanged",e);e.fireEvent("refresh",e)}f.isSynchronousRecursiveExpand=false}}else{if(q){f.expandChildren(true,s,p)}else{Ext.callback(s,p||f,[f.childNodes])}}}}else{Ext.callback(s,p||f)}},onChildNodesAvailable:function(w,x,B,A){var f=this,y=f.getTreeStore(),z=y&&y.bulkUpdate,u,v,e;Ext.suspendLayouts();for(u=f.parentNode;u;u=u.parentNode){if(!u.isExpanded()){(e||(e=[])).unshift(u)}}if(z||!y.isVisible(f)){f.data.expanded=true}else{f.set("expanded",true)}if(e){for(v=1;v<e.length;v++){u=e[v];if(z||!y.isVisible(u)){u.data.expanded=true}else{u.set("expanded",true)}}e[0].expand();for(v=1;v<e.length;v++){u=e[v];u.fireBubbledEvent("expand",[u,u.childNodes])}}else{f.callTreeStore("onNodeExpand",[w,false])}f.fireBubbledEvent("expand",[f,w]);if(x){f.expandChildren(true,B,A)}else{Ext.callback(B,A||f,[f.childNodes])}Ext.resumeLayouts(true)},expandChildren:function(x,D,C,w){var F=this,E,f,A,B,e,y,z;if(Ext.isBoolean(D)){E=D;D=C;C=w;w=E}if(w===undefined){z=F.getTreeStore();w=z&&z.singleExpand}A=F.childNodes;B=[];e=w?Math.min(A.length,1):A.length;for(f=0;f<e;++f){y=A[f];if(!y.isLeaf()){B[B.length]=y}}e=B.length;for(f=0;f<e;++f){B[f].expand(x)}if(D){Ext.callback(D,C||F,[F.childNodes])}},collapse:function(x,B,A){var e=this,u=e.isExpanded(),y=e.getTreeStore(),z=y&&y.bulkUpdate,f=e.childNodes.length,w,v;if(!e.isLeaf()&&((!u&&x)||e.fireBubbledEvent("beforecollapse",[e])!==false)){Ext.suspendLayouts();if(e.isExpanded()){if(x){v=function(){for(w=0;w<f;w++){e.childNodes[w].setCollapsed(true)}};if(B){B=Ext.Function.createSequence(v,Ext.Function.bind(B,A,[e.childNodes]))}else{B=v}}else{if(B){B=Ext.Function.bind(B,A,[e.childNodes])}}if(z||!y.contains(e)){e.data.expanded=false}else{e.set("expanded",false)}e.callTreeStore("onNodeCollapse",[e.childNodes,B,A]);e.fireBubbledEvent("collapse",[e,e.childNodes]);B=null}else{if(x){for(w=0;w<f;w++){e.childNodes[w].setCollapsed(true)}}}Ext.resumeLayouts(true)}Ext.callback(B,A||e,[e.childNodes])},setCollapsed:function(n){var e=this,o=e.childNodes.length,f;if(!e.isLeaf()&&e.fireBubbledEvent("beforecollapse",[e])!==false){e.data.expanded=false;e.fireBubbledEvent("collapse",[e,e.childNodes]);if(n){for(f=0;f<o;f++){e.childNodes[f].setCollapsed(true)}}}},collapseChildren:function(w,e,z){var f=this,u,y=f.childNodes,t=y.length,v=[],x;for(u=0;u<t;++u){x=y[u];if(!x.isLeaf()&&x.isLoaded()&&x.isExpanded()){v.push(x)}}t=v.length;if(t){for(u=0;u<t;++u){x=v[u];if(u===t-1){x.collapse(w,e,z)}else{x.collapse(w)}}}else{Ext.callback(e,z)}},fireEvent:function(e){return this.fireBubbledEvent(e,Ext.Array.slice(arguments,1))},fireBubbledEvent:function(o,e){var p,q,f;if(k[o]){for(q=this;p!==false&&q;q=(f=q).parentNode){p=q.fireEventArgs.call(q,o,e)}if(p!==false){q=f.getTreeStore();if(q&&q.hasListeners&&q.hasListeners[o="node"+o]){p=q.fireEventArgs(o,e)}}return p}else{return this.fireEventArgs.apply(this,arguments)}},serialize:function(f){var u=f||new Ext.data.writer.Json({writeAllFields:true}),q=u.getRecordData(this),t=this.childNodes,s=t.length,v,e;if(s>0){q.children=v=[];for(e=0;e<s;e++){v.push(t[e].serialize(u))}}return q},callTreeStore:function(q,p){var f=this,e=f.getTreeStore(),o=e&&e[q];if(e&&o){p=p||[];if(p[0]!==f){p.unshift(f)}o.apply(e,p)}},addCls:function(e){this.replaceCls(null,e)},removeCls:function(e){this.replaceCls(e)},replaceCls:function(o,f){var n=this._parseCls(this.data.cls),e=this._parseCls(o);if(e.length){n=Ext.Array.difference(n,e)}e=this._parseCls(f);if(e.length){n=Ext.Array.unique(n.concat(e))}this.set("cls",n.join(" "))},toggleCls:function(p,v){if(v===undefined){var e=this._parseCls(this.data.cls),t=this._parseCls(p),s=t.length,f,u;for(f=0;f<s;++f){u=t[f];if(Ext.Array.contains(e,u)){Ext.Array.remove(e,u)}else{e.push(u)}}this.set("cls",e.join(" "))}else{if(v){this.addCls(p)}else{this.removeCls(p)}}},privates:{_noCls:[],spacesRe:/\s+/,join:function(e){if(e.isTreeStore){if(this.isRoot()){this.treeStore=this.store=e}}else{this.callParent([e])}},callJoined:function(e,f){this.callParent([e,f]);this.callTreeStore(e,f)},_parseCls:function(e){if(!e){return this._noCls}if(typeof e==="string"){return e.split(this.spacesRe)}return e}}}}}},0,0,0,0,0,0,[Ext.data,"NodeInterface"],0));(Ext.cmd.derive("Ext.data.TreeModel",Ext.data.Model,{getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode},statics:{defaultProxy:"memory"}},0,0,0,0,0,[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.data,"TreeModel"],function(){Ext.data.NodeInterface.decorate(this)}));(Ext.cmd.derive("Ext.data.Request",Ext.Base,{isDataRequest:true,config:{action:undefined,params:undefined,method:"GET",url:null,operation:null,proxy:null,disableCaching:false,headers:{},callbackKey:null,rawRequest:null,jsonData:undefined,xmlData:undefined,withCredentials:false,username:null,password:null,binary:false,callback:null,scope:null,timeout:30000,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(f){this.initConfig(f)},getParam:function(m){var k=this.getParams(),l;if(k){return k[m]}return l},setParam:function(m,l){var k=this.getParams()||{};k[m]=l;this.setParams(k)}},1,0,0,0,0,0,[Ext.data,"Request"],0));(Ext.cmd.derive("Ext.data.TreeStore",Ext.data.Store,{isTreeStore:true,config:{root:null,rootVisible:false,defaultRootProperty:"children",parentIdProperty:null,clearOnLoad:true,clearRemovedOnLoad:true,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",folderSort:false,pageSize:null},filterer:"topdown",lazyFill:false,fillCount:0,bulkUpdate:0,nodesToUnregister:0,_silentOptions:{silent:true},implicitModel:"Ext.data.TreeModel",constructor:function(k){var g=this;g.byIdMap={};Ext.data.Store.prototype.constructor.call(this,k)},applyFields:function(m,k){var l=this;if(m){if(l.defaultRootProperty!==l.self.prototype.config.defaultRootProperty){m=m.concat({name:l.defaultRootProperty,type:"auto",defaultValue:null,persist:false})}}Ext.data.Store.prototype.applyFields.call(this,m,k)},onSorterEndUpdate:function(){var o=this,q=o.getSorters(),n=q.getRange(),p=o.getRoot(),m=o.getFolderSort();o.fireEvent("beforesort",o,n);if(p&&(m||n.length)){if(o.getRemoteSort()){if(n.length){o.load({callback:function(){o.fireEvent("sort",o,n)}})}}else{p.sort(this.getSortFn(),true);o.fireEvent("datachanged",o);o.fireEvent("refresh",o);o.fireEvent("sort",o,n)}}else{o.fireEvent("sort",o,n)}},updateFolderSort:function(f){this.needsFolderSort=f;this.onSorterEndUpdate()},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var k=this,g=this.sorters.getSortFn();return function(f,o){var e,q,p=0;if(k.needsFolderSort){e=f.data.leaf?1:0;q=o.data.leaf?1:0;p=e-q}if(k.needsIndexSort&&p===0){p=f.data.index-o.data.index}return p||g(f,o)}},getTotalCount:function(){return this.getCount()},afterEdit:function(B,A){var u=this,z=B.parentNode,t=u.getRootVisible(),x=!z&&!t,w,y=B.get("visible"),s,v;if(!x&&y!==u.contains(B)){if(y){if(!z||u.isVisible(B)){s=[B];if(B.isExpanded()){u.handleNodeExpand(B,B.childNodes,s)}w=B.previousSibling?u.indexOfPreviousVisibleNode(B.previousSibling):(z?u.indexOf(z):-1);u.insert(w+1,s)}}else{v=u.indexOf(B);u.removeAt(v,u.indexOfNextVisibleNode(B)-v)}}else{if(u.getRoot()&&u.needsLocalFilter()){u.onFilterEndUpdate(u.getFilters())}}Ext.data.Store.prototype.afterEdit.call(this,B,A)},afterReject:function(k){var g=this;if(g.contains(k)){g.onUpdate(k,Ext.data.Model.REJECT,null);g.fireEvent("update",g,k,Ext.data.Model.REJECT,null)}},afterCommit:function(m,k){var l=this;if(!k){k=null}if(l.contains(m)){l.onUpdate(m,Ext.data.Model.COMMIT,k);l.fireEvent("update",l,m,Ext.data.Model.COMMIT,k)}},updateRootVisible:function(l){var m=this.getRoot(),k;if(m){k=this.getData();if(l){k.insert(0,m)}else{k.remove(m)}}},updateTrackRemoved:function(f){Ext.data.Store.prototype.updateTrackRemoved.apply(this,arguments);this.removedNodes=this.removed;this.removed=null},onDestroyRecords:function(l,m,k){if(k){this.removedNodes.length=0}},updateProxy:function(g){var k;if(g){if(g.setIdParam){g.setIdParam(this.getNodeParam())}k=g.getReader();if(Ext.isEmpty(k.getRootProperty())){k.setRootProperty(this.getDefaultRootProperty())}}},setProxy:function(f){this.changingProxy=true;(arguments.callee.$previous||Ext.data.Store.prototype.setProxy).call(this,f);this.changingProxy=false},updateModel:function(k){if(k){var g=k.prototype.isNode;Ext.data.NodeInterface.decorate(k);if(!g&&!this.changingProxy){this.getProxy().getReader().buildExtractors(true)}}},onCollectionFilter:Ext.emptyFn,onFilterEndUpdate:function(p){var q=this,s=p.length,v=q.getRoot(),w,t,x,u;if(!q.getRemoteFilter()){if(s){q.doFilter(v)}else{v.cascade({after:function(e){e.set("visible",true,q._silentOptions)}})}if(s){x=[];w=v.childNodes;for(u=0,s=w.length;u<s;u++){t=w[u];if(t.get("visible")){x.push(t)}}}else{x=v.childNodes}q.onNodeFilter(v,x);v.fireEvent("filterchange",v,x);q.suppressNextFilter=true;Ext.data.Store.prototype.onFilterEndUpdate.call(this,p);q.suppressNextFilter=false}else{Ext.data.Store.prototype.onFilterEndUpdate.call(this,p)}},onNodeFilter:function(q,m){var o=this,n=o.getData(),p=[];if(o.getRootVisible()&&q.get("visible")){p.push(q)}o.handleNodeExpand(q,m,p);o.suspendEvents();n.splice(0,n.getCount(),p);o.resumeEvents();if(!o.suppressNextFilter){o.fireEvent("datachanged",o);o.fireEvent("refresh",o)}},onBeforeNodeExpand:function(B,t,D,x){var w=this,v,z,u,y,C,A;if(B.isLoaded()){A=[B.childNodes];if(x){A.push.apply(A,x)}Ext.callback(t,D||B,A)}else{if(B.isLoading()){w.on("load",function(){A=[B.childNodes];if(x){A.push.apply(A,x)}Ext.callback(t,D||B,A)},w,{single:true,priority:1001})}else{v=w.getProxy().getReader();z=B.getProxy();u=z?z.getReader():null;y=u&&u.initialConfig.rootProperty?u:v;C=y.getRoot(B.raw||B.data);if(C||(B.phantom&&!B.isRoot())){if(C){w.fillNode(B,y.extractData(C,{model:B.childType,recordCreator:w.recordCreator}))}A=[B.childNodes];if(x){A.push.apply(A,x)}Ext.callback(t,D||B,A)}else{w.read({node:B,onChildNodesAvailable:function(){delete w.lastOptions.onChildNodesAvailable;A=[B.childNodes];if(x){A.push.apply(A,x)}Ext.callback(t,D||B,A)}});w.flushLoad()}}}},onNodeExpand:function(n,p){var m=this,q=m.indexOf(n)+1,o=[];m.handleNodeExpand(n,p,o);if(!m.refreshCounter&&n.isRoot()&&!n.get("visible")){m.loadRecords(o)}else{m.insert(q,o)}},handleNodeExpand:function(p,t,q){var v=this,o=t?t.length:0,s,u;if(p!==this.getRoot()&&!v.isVisible(p)){return}if(o){for(s=0;s<o;s++){u=t[s];if(u.get("visible")){q.push(u);if(u.isExpanded()){if(u.isLoaded()){v.handleNodeExpand(u,u.childNodes,q)}else{u.set("expanded",false);u.expand()}}}}}},onNodeCollapse:function(q,u,v,s){var p=this,t=p.indexOf(q)+1,o;if(p.needsLocalFilter()){u=Ext.Array.filter(u,p.filterVisible)}if(u.length&&p.isVisible(q)){o=p.indexOfNextVisibleNode(q);p.removeAt(t,o-t)}Ext.callback(v,s)},indexOfNextVisibleNode:function(g){var k;while(g.parentNode){for(k=g.nextSibling;k&&!k.get("visible");k=k.nextSibling){}if(k){return this.indexOf(k)}g=g.parentNode}return this.getCount()},indexOfPreviousVisibleNode:function(g){var k;for(k=g;k&&!k.get("visible");k=k.previousSibling){}if(k){if(k.isExpanded()&&k.lastChild){return this.indexOfPreviousVisibleNode(k.lastChild)}}else{k=g.parentNode}return this.indexOf(k)},filterNew:function(f){return !f.get("root")&&Ext.data.Store.prototype.filterNew.call(this,f)},filterRejects:function(f){return !f.get("root")&&Ext.data.Store.prototype.filterRejects.call(this,f)},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew,this)},getRejectRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterRejects,this)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(w,q,s,z){if(!Ext.isArray(q)){q=[q]}var t=this,u=q.length,v=t.removedNodes,x,y;for(x=0;!y&&x<u;x++){if(q[x].get("visible")){y=q[x]}}if(y){z[0]=t.indexOf(q[0]);z[1]=t.indexOfNextVisibleNode(q[q.length-1])-z[0]}else{z[0]=-1;z[1]=0}for(x=0;x<u;x++){q[x].cascade(function(e){t.unregisterNode(e,true);if(v&&!s){if(!e.phantom&&!e.erasing&&!t.loading){e.removedFrom=t.indexOf(e);v.push(e);t.needsSync=true}}})}},afterDrop:Ext.emptyFn,onNodeRemove:function(q,m,p,o){var n=this;n.suspendAutoSync();if(o[0]!==-1){n.removeIsMove=p;n.removeAt.apply(n,o);n.removeIsMove=false}n.resumeAutoSync()},onNodeAppend:function(l,k,m){this.onNodeInsert(l,k,m)},onNodeInsert:function(E,D,y){var x=this,B=D.raw||D.data,z=x.removedNodes,w,C,v,A,F,u;if(E&&x.needsLocalFilter()){x.doFilter(E)}x.beginUpdate();if(x.isVisible(D)){if(y===0||!D.previousSibling){u=x.indexOf(E)}else{u=x.indexOfPreviousVisibleNode(D.previousSibling)}x.insert(u+1,D);if(!D.isLeaf()&&D.isExpanded()){if(D.isLoaded()){x.onNodeExpand(D,D.childNodes)}else{if(!x.fillCount){D.set("expanded",false);D.expand()}}}}Ext.Array.remove(z,D);x.needsSync=x.needsSync||D.phantom||D.dirty;if(!D.isLeaf()&&!D.isLoaded()&&!x.lazyFill){w=x.getProxy().getReader();C=D.getProxy();v=C?C.getReader():null;A=v&&v.initialConfig.rootProperty?v:w;F=A.getRoot(B);if(F){x.fillNode(D,A.extractData(F,{model:D.childType,recordCreator:x.recordCreator}))}}x.endUpdate()},registerNode:function(o,u){var p=this,v=p.byIdMap[o.id],s,q,t;p.byIdMap[o.id]=o;if(o.onRegisterTreeNode&&o!==v){o.onRegisterTreeNode(p)}if(o.onUnregisterTreeNode){p.nodesToUnregister++}if(u===true){s=o.childNodes;q=s.length;for(t=0;t<q;t++){p.registerNode(s[t],true)}}},unregisterNode:function(o,u){var p=this,v=p.byIdMap[o.id],s,q,t;delete p.byIdMap[o.id];if(u===true){s=o.childNodes;q=s.length;for(t=0;t<q;t++){p.unregisterNode(s[t],true)}}if(o.onUnregisterTreeNode&&o===v){o.onUnregisterTreeNode(p);p.nodesToUnregister--}},onNodeSort:function(l,k){var m=this;m.suspendAutoSync();if((m.indexOf(l)!==-1&&l.isExpanded())||(l===m.getRoot()&&!m.getRootVisible())){Ext.suspendLayouts();m.onNodeCollapse(l,k);m.onNodeExpand(l,k);Ext.resumeLayouts(true)}m.resumeAutoSync(m.autoSync)},applyRoot:function(m){var p=this,n=p.getModel(),q=n.prototype.idProperty,o=p.getDefaultRootId();if(m&&!m.isNode){m=Ext.apply({text:p.getDefaultRootText(),root:true,isFirst:true,isLast:true,depth:0,index:0,parentId:null,allowDrag:false},m);if(o&&m[q]===undefined){m[q]=o}m=new n(m)}return m},updateRoot:function(v,t){var p=this,o,u=!t,q,s=[];p.getTrackRemoved();p.suspendEvent("add","remove");if(t&&t.isModel){if(p.getRootVisible()){q=[t]}else{q=t.childNodes}p.beforeNodeRemove(null,q,false,s);t.set("root",false);p.onNodeRemove(null,q,false,s);t.fireEvent("remove",null,t,false);t.fireEvent("rootchange",null);t.clearListeners();t.store=t.treeStore=null;p.unregisterNode(t)}p.getData().clear();if(v){if(v.fireEventArgs("beforeappend",[null,v])===false){v=null}else{o=v.parentNode;if(o){if(!o.removeChild(v,false,false,o.getTreeStore()===p)){return}}else{if((o=v.getTreeStore())&&o!==p&&v===o.getRoot()){o.setRoot(null)}}v.store=v.treeStore=p;v.set("root",true);v.updateInfo(true,{isFirst:true,isLast:true,depth:0,index:0,parentId:null});p.registerNode(v,true);v.fireEvent("append",null,v,false);v.fireEvent("rootchange",v);p.onNodeAppend(null,v,0);v.phantom=true}}p.fireEvent("rootchange",v,t);if(v&&(p.getAutoLoad()||v.isExpanded())){if(v.isLoaded()){p.onNodeExpand(v,v.childNodes);p.fireEvent("datachanged",p);p.fireEvent("refresh",p)}else{v.data.expanded=false;v.expand(false);if(v.isLoaded&&!p.getProxy().isSynchronous){p.fireEvent("datachanged",p);p.fireEvent("refresh",p)}}}else{if(!u){p.fireEvent("datachanged",p);p.fireEvent("refresh",p)}}p.resumeEvent("add","remove")},doDestroy:function(){var g=this,k=g.getRoot();if(k&&g.nodesToUnregister){k.cascade(function(e){if(e.onUnregisterTreeNode){e.onUnregisterTreeNode(g)}})}Ext.data.Store.prototype.doDestroy.call(this)},each:function(n,o,m){var q,p=0;if(m&&typeof m==="object"){q=m.collapsed;m=m.filtered}if(q){this.getRoot().cascade(function(e){if(m===true||e.get("visible")){return n.call(o||e,e,p++)}})}else{return Ext.data.Store.prototype.each.call(this,n,o,m)}},collect:function(s,u,p){var t,x={},v=[],w,q;if(u&&typeof u==="object"){t=u.collapsed;p=u.filtered;u=u.allowNull}if(t||p){this.getRoot().cascade(function(e){if(p===true||e.get("visible")){q=e.get(s);w=String(q);if((u||!Ext.isEmpty(q))&&!x[w]){x[w]=1;v.push(q)}}if(!t&&!e.isExpanded()){return false}})}else{v=Ext.data.Store.prototype.collect.call(this,s,u,p)}return v},getNodeById:function(f){return this.byIdMap[f]||null},findNode:function(v,o,q,s,t){if(Ext.isEmpty(o,false)){return null}if(v===this.model.idProperty&&arguments.length<3){return this.byIdMap[o]}var p=Ext.String.createRegex(o,q,s,t),u=null;Ext.Object.eachValue(this.byIdMap,function(e){if(e&&p.test(e.get(v))){u=e;return false}});return u},load:function(k){var g=k&&k.node;if(!g&!(g=this.getRoot())){g=this.setRoot({expanded:true});return}if(g.isLoading()){return}return Ext.data.Store.prototype.load.call(this,k)},reload:function(k){var g=Ext.apply({},k,this.lastOptions);g.node=this.getRoot();return this.load(g)},flushLoad:function(){var u=this,q=u.pendingLoadOptions,z,t,s,w=u.getClearOnLoad(),v,y,x;u.clearLoadTask();if(!q){return}z=q.node||u.getRoot();v=z&&z.isRoot();t=q.callback;s=q.scope;q.params=q.params||{};if(z.data.expanded&&!v){z.data.loaded=false;if(w){z.data.expanded=false}q.callback=function(f,g,e){if(!w){z.collapse()}z.expand();Ext.callback(t,s,[f,g,e])}}q.id=z.getId();u.setLoadOptions(q);if(u.getRemoteSort()&&q.sorters){u.fireEvent("beforesort",u,q.sorters)}q=Ext.apply({node:q.node||z,internalScope:u,internalCallback:u.onProxyLoad},q);u.lastOptions=Ext.apply({},q);q.isRootLoad=v;y=u.createOperation("read",q);if(u.fireEvent("beforeload",u,y)!==false){u.loading=true;if(v){if(u.getClearRemovedOnLoad()){u.removedNodes.length=0}if(w){u.unregisterNode(z,true);z.clear(false,true);u.registerNode(z);x=true}}else{if(u.getTrackRemoved()&&u.getClearRemovedOnLoad()){u.clearRemoved(z)}if(w){z.removeAll(false)}}if(u.loading&&z){z.set("loading",true)}if(x){u.clearData(true);if(u.getRootVisible()){u.suspendEvents();u.add(z);u.resumeEvents()}}y.execute()}return u},onProxyLoad:function(x){var t=this,q=x.initialConfig,w=x.wasSuccessful(),y=x.getRecords(),z=q.node,v=q.isRootLoad,s=x.getScope()||t,u=[y,x,w];if(t.destroyed){return}t.loading=false;z.set("loading",false);if(w){++t.loadCount;if(!t.getClearOnLoad()){y=t.cleanRecords(z,y)}if(t.getParentIdProperty()){y=t.treeify(z,y)}if(v){t.suspendEvent("add","update")}y=t.fillNode(z,y)}Ext.callback(q.onChildNodesAvailable,s,u);if(v){t.resumeEvent("add","update");t.callObservers("BeforePopulate");t.fireEvent("datachanged",t);t.fireEvent("refresh",t);t.callObservers("AfterPopulate")}t.fireEvent("load",t,y,w,x,z)},clearRemoved:function(C){var v=this,z=v.removedNodes,D=C.getId(),A=z.length,B=A,E={},x=[],F={},w,y,u;if(C===v.getRoot()){v.removedNodes.length=0;return}for(;B--;){w=z[B];F[w.getId()]=w}for(B=A;B--;){w=z[B];y=w;while(y&&y.getId()!==D){u=y.get("parentId")||y.get("lastParentId");y=y.parentNode||v.getNodeById(u)||F[u]}if(y){E[w.getId()]=w}}for(B=0;B<A;B++){w=z[B];if(!E[w.getId()]){x.push(w)}}v.removedNodes=x},fillNode:function(m,o){var n=this,l=o?o.length:0;if(++n.bulkUpdate===1){n.suspendEvent("datachanged")}if(l){n.setupNodes(o)}if(n.bulkUpdate===1){m.set("loaded",true)}else{m.data.loaded=true}if(o.length){m.appendChild(o,undefined,true)}if(!--n.bulkUpdate){n.resumeEvent("datachanged")}return o},setupNodes:function(y){var v=this,w=v.getSorters(),u=false,A=y.length,B=v.sortOnLoad&&A>1&&!v.getRemoteSort()&&v.getFolderSort()||w.length,z=v.needsLocalFilter(),s,t,x;if(z){v.doFilter(y[0])}for(x=1;x<A;x++){s=y[x];t=y[x-1];if(z){v.doFilter(s)}u=s.data.index!==t.data.index}if(B){v.needsIndexSort=true;Ext.Array.sort(y,v.getSortFn());v.needsIndexSort=false}else{if(u){Ext.Array.sort(y,v.sortByIndex)}}},beginFill:function(){var f=this;if(!f.fillCount++){f.beginUpdate();f.suspendEvent("add","update");f.suspendAutoSync();f.fillArray=[]}},endFill:function(p,t){var o=this,v=o.fillArray,q,u,s;v.push(t);if(!--o.fillCount){o.resumeAutoSync();o.resumeEvent("add","update");for(q=0,u=v.length;q<u;q++){s=o.indexOf(v[q][0]);if(s!==-1){o.fireEvent("add",o,v[q],s)}}o.fillArray=null;o.endUpdate()}},sortByIndex:function(g,k){return g.data.index-k.data.index},onIdChanged:function(p,n,s){var o=p.childNodes,t=o&&o.length,q;Ext.data.Store.prototype.onIdChanged.apply(this,arguments);delete this.byIdMap[n];this.byIdMap[s]=p;for(q=0;q<t;q++){o[q].set("parentId",s)}},treeify:function(y,B){var J=this,H=y.getId(),D=J.getParentIdProperty(),x=B.length,G=[],w={},A,C,z,I,F,E;for(A=0;A<x;A++){C=B[A];C.data.depth=1;w[C.id]=C}for(A=0;A<x;A++){C=B[A];z=C.data[D];if(!(z||z===0)||z===H){G.push(C)}else{I=w[z];I.$children=I.$children||[];I.$children.push(C);C.data.depth=I.data.depth+1}}for(F in w){C=w[F];E=C.$children;if(E){delete C.$children;J.setupNodes(E);C.appendChild(E)}J.registerNode(C)}J.setupNodes(G);return G},cleanRecords:function(p,u){var q={},w=p.childNodes,s=0,v=w.length,t=[],x;for(;s<v;++s){q[w[s].getId()]=true}for(s=0,v=u.length;s<v;++s){x=u[s];if(!q[x.getId()]){t.push(x)}}return t},removeAll:function(){this.suspendEvents();this.setRoot(null);this.resumeEvents();Ext.data.Store.prototype.removeAll.call(this)},doSort:function(k){var g=this;if(g.getRemoteSort()){g.load()}else{g.tree.sort(k,true);g.fireEvent("datachanged",g);g.fireEvent("refresh",g)}g.fireEvent("sort",g,g.sorters.getRange())},filterVisible:function(f){return f.get("visible")},isVisible:function(m){var o=m.parentNode,l=m.data.visible,n=this.getRoot();while(l&&o){l=o.data.expanded&&o.data.visible;o=o.parentNode}return l&&!(m===n&&!this.getRootVisible())},commitChanges:function(){var f=this.removedNodes;if(f){f.length=0}Ext.data.Store.prototype.commitChanges.call(this)},getRootNode:function(){return this.getRoot()},setRootNode:function(f){this.setRoot(f);return this.getRoot()},privates:{fireChangeEvent:function(f){return !!this.byIdMap[f.id]},getRawRemovedRecords:function(){return this.removedNodes},createOperation:function(o,q){var m=this,n=q.node,p;if(m.useModelProxy&&n&&n!==m.getRootNode()){p=n.getProxy()}if(p&&p!==m.getProxy()){return p.createOperation(o,q)}else{return Ext.data.Store.prototype.createOperation.call(this,o,q)}},recordCreator:function(k,g){return new g(k)},doFilter:function(f){this.filterNodes(f,this.getFilters().getFilterFn(),true)},filterNodes:function(A,s,w){var v=this,B=v.filterer==="bottomup",y=s(A)&&w||(A.isRoot()&&!v.getRootVisible()),t=A.childNodes,x=t&&t.length,z,u;if(x){for(z=0;z<x;++z){u=v.filterNodes(t[z],s,y||B)||u}if(B){y=u||y}}A.set("visible",y,v._silentOptions);return y},needsLocalFilter:function(){return !this.getRemoteFilter()&&this.getFilters().length},onRemoteFilterSet:function(m,k){var l=this.getData();l.setFilters(null);if(m){m.on("endupdate",this.onFilterEndUpdate,this)}},onRemoteSortSet:function(l,k){var m=this.getData();m.setSorters(null);if(l){l.on("endupdate",this.onSorterEndUpdate,this)}}},deprecated:{5:{properties:{tree:null}}}},1,0,0,0,["store.tree"],0,[Ext.data,"TreeStore"],0));(Ext.cmd.derive("Ext.data.Validation",Ext.data.Model,{isValidation:true,syncGeneration:0,attach:function(f){this.record=f;this.isBase=f.self===Ext.data.Model;delete this.data.id},getValidation:function(){return null},isValid:function(){var f=this;if(f.syncGeneration!==f.record.generation){f.refresh()}return !f.dirty},refresh:function(W){if(this.isBase){return}var D=this,O=D.data,U=D.record,P=U.fields,J=U.generation,E=U.data,Q=U.validationSeparator,V=null,T,R,N,X,G,I,K,F,H,S,L,M;if(W||D.syncGeneration!==J){D.syncGeneration=J;for(I=0,H=P.length;I<H;++I){X=P[I];M=X.name;L=E[M];T=X.defaultInvalidMessage;N=0;if(!(M in O)){O[M]=R=true}else{R=O[M]}if(X.validate!==Ext.emptyFn){S=X.validate(L,Q,null,U);if(S!==true){N=S||T}}if(!N){N=true}if(N!==R){(V||(V={}))[M]=N}}if(V){D.set(V)}}}},0,0,0,0,0,0,[Ext.data,"Validation"],0));(Ext.cmd.derive("Ext.dom.Helper",Ext.Base,function(){var v="afterbegin",p="afterend",x="beforebegin",s="beforeend",w=["BeforeBegin","previousSibling"],q=["AfterEnd","nextSibling"],t={beforebegin:w,afterend:q},u={beforebegin:w,afterend:q,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:true,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){var e=/([a-z])([A-Z])/g,f={};function g(m,k,l){return k+"-"+l.toLowerCase()}return function(k){return f[k]||(f[k]=k.replace(e,g))}}(),generateMarkup:function(k,e){var l=this,m=typeof k,n,f,g,o,z;if(m==="string"||m==="number"){e.push(k)}else{if(Ext.isArray(k)){for(o=0;o<k.length;o++){if(k[o]){l.generateMarkup(k[o],e)}}}else{g=k.tag||"div";e.push("<",g);for(n in k){if(k.hasOwnProperty(n)){f=k[n];if(f!==undefined&&!l.confRe.test(n)){if(f&&f.join){f=f.join(" ")}if(typeof f==="object"){e.push(" ",n,'="');l.generateStyles(f,e,true).push('"')}else{e.push(" ",l.attributeTransform[n]||n,'="',f,'"')}}}}if(l.emptyTags.test(g)){e.push("/>")}else{e.push(">");if((f=k.tpl)){f.applyOut(k.tplData,e)}if((f=k.html)){e.push(f)}if((f=k.cn||k.children)){l.generateMarkup(f,e)}z=l.closeTags;e.push(z[g]||(z[g]="</"+g+">"))}}}return e},generateStyles:function(f,l,g){var m=l||[],k,e;for(k in f){if(f.hasOwnProperty(k)){e=f[k];k=this.decamelizeName(k);if(g&&Ext.String.hasHtmlCharacters(e)){e=Ext.String.htmlEncode(e)}m.push(k,":",e,";")}}return l||m.join("")},markup:function(f){if(typeof f==="string"){return f}var e=this.generateMarkup(f,[]);return e.join("")},applyStyles:function(f,e){Ext.fly(f).applyStyles(e)},createContextualFragment:function(k){var e=this.detachedDiv,l=document.createDocumentFragment(),g,f;e.innerHTML=k;f=e.childNodes;g=f.length;while(g--){l.appendChild(f[0])}return l},createDom:function(g,m){var k=this,l=k.markup(g),e=k.detachedDiv,f;e.innerHTML=l;f=e.firstChild;return Ext.supports.ChildContentClearedWhenSettingInnerHTML?f.cloneNode(true):f},insertHtml:function(A,f,o){var k=this,e,n,B,l,g;A=A.toLowerCase();if(f.insertAdjacentHTML){if(k.ieInsertHtml){g=k.ieInsertHtml(A,f,o);if(g){return g}}e=u[A];if(e){f.insertAdjacentHTML(e[0],o);return f[e[1]]}}else{if(f.nodeType===3){A=A===v?x:A;A=A===s?p:A}n=Ext.supports.CreateContextualFragment?f.ownerDocument.createRange():undefined;l="setStart"+(this.endRe.test(A)?"After":"Before");if(t[A]){if(n){n[l](f);g=n.createContextualFragment(o)}else{g=this.createContextualFragment(o)}f.parentNode.insertBefore(g,A===x?f:f.nextSibling);return f[(A===x?"previous":"next")+"Sibling"]}else{B=(A===v?"first":"last")+"Child";if(f.firstChild){if(n){try{n[l](f[B]);g=n.createContextualFragment(o)}catch(m){g=this.createContextualFragment(o)}}else{g=this.createContextualFragment(o)}if(A===v){f.insertBefore(g,f.firstChild)}else{f.appendChild(g)}}else{f.innerHTML=o}return f[B]}}},insertBefore:function(g,e,f){return this.doInsert(g,e,f,x)},insertAfter:function(g,e,f){return this.doInsert(g,e,f,p)},insertFirst:function(g,e,f){return this.doInsert(g,e,f,v)},append:function(g,e,f){return this.doInsert(g,e,f,s)},overwrite:function(g,k,e){var f=this,l;g=Ext.getDom(g);k=f.markup(k);if(f.ieOverwrite){l=f.ieOverwrite(g,k)}if(!l){g.innerHTML=k;l=g.firstChild}return e?Ext.get(l):l},doInsert:function(k,e,f,m){var g=this,l;k=k.dom||Ext.getDom(k);if("innerHTML" in k){l=g.insertHtml(m,k,g.markup(e))}else{l=g.createDom(e,null);if(k.nodeType===3){m=m===v?x:m;m=m===s?p:m}if(t[m]){k.parentNode.insertBefore(l,m===x?k:k.nextSibling)}else{if(k.firstChild&&m===v){k.insertBefore(l,k.firstChild)}else{k.appendChild(l)}}}return f?Ext.get(l):l},createTemplate:function(e){var f=this.markup(e);return new Ext.Template(f)},createHtml:function(e){return this.markup(e)}}},0,0,0,0,0,0,[Ext.dom,"Helper",Ext,"DomHelper",Ext.core,"DomHelper"],0));Ext.define("Ext.overrides.dom.Helper",(function(){var t=/^(?:table|thead|tbody|tr|td)$/i,x=/td|tr|tbody|thead/i,p="<table>",w="</table>",u=p+"<tbody>",q="</tbody>"+w,v=u+"<tr>",s="</tr>"+q;return{override:"Ext.dom.Helper",ieInsertHtml:function(k,f,g){var e=null;if(Ext.isIE9m&&t.test(f.tagName)){e=this.insertIntoTable(f.tagName.toLowerCase(),k,f,g)}return e},ieOverwrite:function(e,f){if(Ext.isIE9m&&t.test(e.tagName)){while(e.firstChild){e.removeChild(e.firstChild)}if(f){return this.insertHtml("afterbegin",e,f)}}},ieTable:function(f,n,e,g){var m=-1,k=this.detachedDiv,l,o;k.innerHTML=[n,e,g].join("");while(++m<f){k=k.firstChild}l=k.nextSibling;if(l){l=k;k=document.createDocumentFragment();while(l){o=l.nextSibling;k.appendChild(l);l=o}}return k},insertIntoTable:function(g,B,e,A){var f,m,n=B==="beforebegin",k=B==="afterbegin",o=B==="beforeend",l=B==="afterend";if(g==="td"&&(k||o)||!x.test(g)&&(n||l)){return null}m=n?e:l?e.nextSibling:k?e.firstChild:null;if(n||l){e=e.parentNode}if(g==="td"||(g==="tr"&&(o||k))){f=this.ieTable(4,v,A,s)}else{if(((g==="tbody"||g==="thead")&&(o||k))||(g==="tr"&&(n||l))){f=this.ieTable(3,u,A,q)}else{f=this.ieTable(2,p,A,w)}}e.insertBefore(f,m);return f}}})());(Ext.cmd.derive("Ext.data.proxy.Rest",Ext.data.proxy.Ajax,{alternateClassName:"Ext.data.RestProxy",defaultActionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:true,format:null,batchActions:false,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(u){var s=this,v=u.getOperation(),x=v.getRecords(),t=x?x[0]:null,q=s.getFormat(),z=s.getUrl(u),y,w;if(t&&!t.phantom){y=t.getId()}else{y=v.getId()}if(s.getAppendId()&&s.isValidId(y)){if(!z.match(s.slashRe)){z+="/"}z+=encodeURIComponent(y);w=u.getParams();if(w){delete w[s.getIdParam()]}}if(q){if(!z.match(s.periodRe)){z+="."}z+=q}u.setUrl(z);return Ext.data.proxy.Ajax.prototype.buildUrl.call(this,u)},isValidId:function(f){return f||f===0}},0,0,0,0,["proxy.rest"],0,[Ext.data.proxy,"Rest",Ext.data,"RestProxy"],0));(Ext.cmd.derive("Ext.dom.GarbageCollector",Ext.Base,{singleton:true,interval:30000,constructor:function(){var f=this;f.lastTime=Ext.now();f.onTick=f.onTick.bind(f);f.resume()},collect:function(){var s=this,z=Ext.cache,y,v,x,e,u,w;for(y in z){if(!z.hasOwnProperty(y)){continue}x=z[y];if(x.skipGarbageCollection){continue}v=x.dom;try{u=Ext.isGarbage(v)}catch(t){delete z[y];continue}if(u){if(x&&x.dom){x.collect()}}}if(Ext.isIE9m){e={};for(y in z){if(z.hasOwnProperty(y)){e[y]=z[y]}}Ext.cache=Ext.dom.Element.cache=e}s.lastTime=Ext.now()},onTick:function(){this.timerId=null;if(Ext.enableGarbageCollector){this.collect()}this.resume()},pause:function(){var f=this.timerId;if(f){this.timerId=null;clearTimeout(f)}},resume:function(){var k=this,g=k.lastTime;if(Ext.enableGarbageCollector&&(Ext.now()-g)>k.interval){k.collect()}if(!k.timerId){k.timerId=Ext.defer(k.onTick,k.interval)}}},1,0,0,0,0,0,[Ext.dom,"GarbageCollector"],0));(Ext.cmd.derive("Ext.dom.TouchAction",Ext.Base,{singleton:true,lastTouchStartTime:0,minMoveDistance:8,spaceRe:/\s+/,preventSingle:null,preventMulti:null,disabledOverflowDom:null,panXCls:"x-touch-action-pan-x",panYCls:"x-touch-action-pan-y",cssValues:["none","pan-x","pan-y","pan-x pan-y","pinch-zoom","pan-x pinch-zoom","pan-y pinch-zoom","manipulation","double-tap-zoom","pan-x double-tap-zoom","pan-y double-tap-zoom","pan-x pan-y double-tap-zoom","pinch-zoom double-tap-zoom","pan-x pinch-zoom double-tap-zoom","pan-y pinch-zoom double-tap-zoom",""],objectValues:[{panX:false,panY:false,pinchZoom:false,doubleTapZoom:false},{panX:true,panY:false,pinchZoom:false,doubleTapZoom:false},{panX:false,panY:true,pinchZoom:false,doubleTapZoom:false},{panX:true,panY:true,pinchZoom:false,doubleTapZoom:false},{panX:false,panY:false,pinchZoom:true,doubleTapZoom:false},{panX:true,panY:false,pinchZoom:true,doubleTapZoom:false},{panX:false,panY:true,pinchZoom:true,doubleTapZoom:false},{panX:true,panY:true,pinchZoom:true,doubleTapZoom:false},{panX:false,panY:false,pinchZoom:false,doubleTapZoom:true},{panX:true,panY:false,pinchZoom:false,doubleTapZoom:true},{panX:false,panY:true,pinchZoom:false,doubleTapZoom:true},{panX:true,panY:true,pinchZoom:false,doubleTapZoom:true},{panX:false,panY:false,pinchZoom:true,doubleTapZoom:true},{panX:true,panY:false,pinchZoom:true,doubleTapZoom:true},{panX:false,panY:true,pinchZoom:true,doubleTapZoom:true},{panX:true,panY:true,pinchZoom:true,doubleTapZoom:true}],attributeName:"data-extTouchAction",constructor:function(){var g=this,k=Ext.supports;if(k.PointerEvents){g.cssProp="touch-action"}else{if(k.MSPointerEvents){g.cssProp="-ms-touch-action"}else{if(k.TouchEvents){Ext.getWin().on({touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",scope:g,translate:false,capture:true,priority:5000});Ext.on({scroll:"onScroll",scope:g,destroyable:true})}}}},containsTargets:function(t,e){var q=true,o=e.type==="touchend"?e.changedTouches:e.touches,s,p;for(s=0,p=o.length;s<p;s++){if(!t.contains(o[s].target)){q=false;break}}return q},disableOverflow:function(o,q){var p=this,n=q?"overflow-y":"overflow-x",t,s;if(!p.disabledOverflowDom&&!Ext.isiOS&&!Ext.getScrollbarSize().width){p.disabledOverflowDom=o;s=q?p.panXCls:p.panYCls;while(o){t=Ext.fly(o).getStyle(n);if(t==="auto"||t==="scroll"){Ext.fly(o).addCls(s)}o=o.parentNode}}},get:function(k){var m=k.getAttribute(this.attributeName),l=null;if(m!=null){l=this.objectValues[m]}return l},getFlags:function(g){var k;if(typeof g==="number"){k=g}else{k=0;if(g.panX!==false){k|=1}if(g.panY!==false){k|=2}if(g.pinchZoom!==false){k|=4}if(g.doubleTapZoom!==false){k|=8}}return k},lookupFlags:function(f){return f.getAttribute&&f.getAttribute(this.attributeName)},onScroll:function(){this.scrollOccurred=true;this.isDoubleTap=false},onTouchEnd:function(e){var o=this,t=e.target,s,q,p;s=e.touches.length;if(s===0){if(o.isDoubleTap){while(t){q=o.lookupFlags(t);if(q!=null){p=q&8;if(!p){e.preventDefault()}}t=t.parentNode}}o.isDoubleTap=false;o.preventSingle=null;o.preventMulti=null;o.resetOverflow()}},onTouchMove:function(N){var M=this,K=null,z=N.target,E,L,I,J,H,F,C,G,A,B,e,D;e=M.preventSingle;D=M.preventMulti;L=N.touches.length;if((L===1&&(e===false))||(D===false)){return}if((L>1&&(D===true))||(L===1&&(e===true))){K=true}else{while(z){E=M.lookupFlags(z);if(E!=null){if(!E){K=true}else{if(L===1){I=!!(E&1);J=!!(E&2);if(I&&J){K=false}else{if(!I&&!J){K=true}else{H=N.getPoint();F=M.startPoint;C=Ext.Element.getViewportScale();G=Math.abs(H.getDistanceTo(M.startPoint)*C);if(G>=M.minMoveDistance){A=Math.abs(H.x-F.x);B=Math.abs(H.y-F.y);K=!!((I&&(B>A))||(J&&(A>B)))}}}}else{if(M.containsTargets(z,N)){K=!(E&4)}else{K=false}}}if(K){break}}z=z.parentNode}}if(L===1){M.preventSingle=K}else{if(L>1){M.preventMulti=K}}if(K){N.preventDefault()}},onTouchStart:function(v){var p=this,e,q,u,s,t;if(v.touches.length===1){e=v.time;if(!p.scrollOccurred&&((e-p.lastTouchStartTime)<=500)){p.isDoubleTap=true}p.lastTouchStartTime=e;p.scrollOccurred=false;p.startPoint=v.getPoint();u=v.target;while(u){q=p.lookupFlags(u);if(q!=null){s=!!(q&1);t=!!(q&2);if(s!==t){p.disableOverflow(u,s);break}}u=u.parentNode}}else{p.isDoubleTap=false}},resetOverflow:function(){var k=this,g=k.disabledOverflowDom;while(g){Ext.fly(g).removeCls([k.panXCls,k.panYCls]);g=g.parentNode}k.disabledOverflowDom=null},set:function(n,o){var p=this,q=p.cssProp,t=p.getFlags(o),s=p.attributeName;if(q){Ext.fly(n).setStyle(q,p.cssValues[t])}if(t===15){n.removeAttribute(s)}else{n.setAttribute(s,t)}}},1,0,0,0,0,0,[Ext.dom,"TouchAction"],0));(Ext.cmd.derive("Ext.event.gesture.Recognizer",Ext.Base,{priority:0,handledEvents:[],isStarted:false,config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(f){this.initConfig(f);Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:function(){return this.reset()},onTouchCancel:function(e){return this.cancel(e)},fire:function(o,e,m,n){this.getOnRecognized().call(this.getCallbackScope(),this,o,e,m,n)},cancel:function(e){if(this.isStarted){this.onCancel(e)}return this.reset()},onCancel:Ext.emptyFn,reset:function(){this.isStarted=false;return false}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.event.gesture,"Recognizer"],0));(Ext.cmd.derive("Ext.event.gesture.SingleTouch",Ext.event.gesture.Recognizer,{isSingleTouch:true,onTouchStart:function(e){if(e.touches.length>1){return this.cancel(e)}}},0,0,0,0,0,0,[Ext.event.gesture,"SingleTouch"],0));(Ext.cmd.derive("Ext.event.gesture.DoubleTap",Ext.event.gesture.SingleTouch,{priority:300,config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(e){var m=this,n=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,e),o;if(n!==false){m.isStarted=true;o=m.lastStartPoint=e.changedTouches[0].point;m.startPoint=m.startPoint||o;m.startTime=e.time;clearTimeout(m.singleTapTimer)}return n},onTouchMove:function(o){var p=this,q=o.changedTouches[0].point,n=Ext.Element.getViewportScale(),e=Math.round(Math.abs(q.getDistanceTo(p.lastStartPoint)*n));if(e>=p.getMoveDistance()){return p.cancel(o)}},onTouchEnd:function(v){var e=this,w=e.getMaxDuration(),A=v.time,u=v.target,D=e.lastTapTime,y=e.lastTarget,C=v.changedTouches[0].point,x,z,B;e.lastTapTime=A;e.lastTarget=u;if(D){x=A-D;if(x<=w){z=Ext.Element.getViewportScale();B=Math.round(Math.abs(C.getDistanceTo(e.startPoint)*z));if(B<=e.getTapDistance()){if(u!==y){return e.cancel(v)}e.lastTarget=null;e.lastTapTime=0;e.fire("doubletap",v,{touch:v.changedTouches[0],duration:x});return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,v)}}}if(A-e.startTime>w){e.fire("singletap",v);e.reset()}else{e.setSingleTapTimer(v)}},setSingleTapTimer:function(e){var k=this;k.singleTapTimer=Ext.defer(function(){k.fire("singletap",e);k.reset()},k.getMaxDuration())},reset:function(){var f=this;clearTimeout(f.singleTapTimer);f.startTime=f.lastTapTime=0;f.lastStartPoint=f.startPoint=f.singleTapTimer=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"DoubleTap"],function(k){var g=Ext.manifest.gestures;k.instance=new k(g&&g.doubleTap)}));(Ext.cmd.derive("Ext.event.gesture.Drag",Ext.event.gesture.SingleTouch,{priority:100,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){Ext.event.gesture.SingleTouch.prototype.constructor.apply(this,arguments);this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0},longpress:false}},onTouchStart:function(e){var l=this,m=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,e);if(m!==false){l.startTime=e.time;l.startPoint=e.changedTouches[0].point}return m},tryDragStart:function(p){var q=this,s=p.changedTouches[0].point,e=q.getMinDistance(),o=Ext.Element.getViewportScale(),t=Math.round(Math.abs(s.getDistanceTo(q.startPoint)*o));if(t>=e){q.doDragStart(p)}},doDragStart:function(v,s){var q=this,u=v.changedTouches[0],t=u.point,e=q.info,p;if(s){p=Ext.now();q.startTime=p;q.startPoint=t;e.longpress=true}else{p=v.time}q.isStarted=true;q.previousPoint=q.lastPoint=t;q.resetInfo("x",v,u);q.resetInfo("y",v,u);e.time=p;q.fire("dragstart",v,e)},onTouchMove:function(m){var n=this,e,o;if(!n.startPoint){return}if(!n.isStarted){n.tryDragStart(m)}if(!n.isStarted){return}e=m.changedTouches[0];o=e.point;if(n.lastPoint){n.previousPoint=n.lastPoint}n.lastPoint=o;n.lastMoveEvent=m;n.updateInfo("x",m,e);n.updateInfo("y",m,e);n.info.time=m.time;n.fire("drag",m,n.info)},onAxisDragEnd:function(m,k){var l=k.time-k.previousTime[m];if(l>0){k.flick.velocity[m]=(k[m]-k.previous[m])/l}},resetInfo:function(x,u,v){var t=this,s=t.lastPoint[x],z=t.startPoint[x],e=s-z,w=x.toUpperCase(),y=t.info;y.touch=v;y.delta[x]=e;y.absDelta[x]=Math.abs(e);y.previousTime[x]=t.startTime;y.previous[x]=z;y[x]=s;y.direction[x]=0;y["start"+w]=t.startPoint[x];y["previous"+w]=y.previous[x];y["page"+w]=y[x];y["delta"+w]=y.delta[x];y["absDelta"+w]=y.absDelta[x];y["previousDelta"+w]=0;y.startTime=t.startTime},updateInfo:function(z,v,w){var e=this,E=e.lastPoint[z],y=e.previousPoint[z],C=e.startPoint[z],D=E-C,A=e.info,F=A.direction,x=z.toUpperCase(),B=A.previous[z];A.touch=w;A.delta[z]=D;A.absDelta[z]=Math.abs(D);if(E!==B&&E!==A[z]){A.previous[z]=A[z];A.previousTime[z]=A.time}A[z]=E;if(E>y){F[z]=1}else{if(E<y){F[z]=-1}}A["start"+x]=C;A["previous"+x]=A.previous[z];A["page"+x]=A[z];A["delta"+x]=A.delta[z];A["absDelta"+x]=A.absDelta[z];A["previousDelta"+x]=A.previous[z]-C;A.startTime=e.startTime},onTouchEnd:function(n){var p=this,e,q,o;if(p.isStarted){e=n.changedTouches[0];q=e.point;o=p.info;p.lastPoint=q;p.updateInfo("x",n,e);p.updateInfo("y",n,e);o.time=n.time;p.onAxisDragEnd("x",o);p.onAxisDragEnd("y",o);p.fire("dragend",n,o)}return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,n)},onCancel:function(m){var o=this,e=m.changedTouches[0],n=o.info;if(!m.touches.length){o.lastPoint=e.point}o.updateInfo("x",m,e);o.updateInfo("y",m,e);n.time=m.time;o.fire("dragcancel",m,n,true)},reset:function(){var f=this;f.lastPoint=f.startPoint=f.previousPoint=f.lastPoint=f.lastMoveEvent=null;f.initInfo();return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},1,0,0,0,0,0,[Ext.event.gesture,"Drag"],function(k){var g=Ext.manifest.gestures;k.instance=new k(g&&g.drag)}));(Ext.cmd.derive("Ext.event.gesture.Swipe",Ext.event.gesture.SingleTouch,{priority:600,handledEvents:["swipestart","swipe","swipecancel"],config:{minDistance:80,maxOffset:35,maxDuration:1000},onTouchStart:function(m){var n=this,o=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,m),e;if(o!==false){e=m.changedTouches[0];n.startTime=m.time;n.isHorizontal=true;n.isVertical=true;n.startX=e.pageX;n.startY=e.pageY}return o},onTouchMove:function(w){var e=this,x=w.changedTouches[0],F=x.pageX,H=x.pageY,y=F-e.startX,z=H-e.startY,B=Math.abs(F-e.startX),C=Math.abs(H-e.startY),A=w.time-e.startTime,E,G,D;if((B===0&&C===0)||(A>e.getMaxDuration())){return e.cancel(w)}if(e.isHorizontal&&C>e.getMaxOffset()){e.isHorizontal=false}if(e.isVertical&&B>e.getMaxOffset()){e.isVertical=false}if(!e.isVertical||!e.isHorizontal){E=e.getMinDistance();if(e.isHorizontal&&B<E){G=(y<0)?"left":"right";D=B}else{if(e.isVertical&&C<E){G=(z<0)?"up":"down";D=C}}}if(!e.isHorizontal&&!e.isVertical){return e.cancel(w)}if(G&&!e.isStarted){e.isStarted=true;e.fire("swipestart",w,{touch:x,direction:G,distance:D,duration:A})}},onTouchEnd:function(w){var e=this,x,F,H,y,z,B,C,E,A,G,D;if(e.onTouchMove(w)!==false){x=w.changedTouches[0];F=x.pageX;H=x.pageY;y=F-e.startX;z=H-e.startY;B=Math.abs(y);C=Math.abs(z);E=e.getMinDistance();A=w.time-e.startTime;if(e.isVertical&&C<E){e.isVertical=false}if(e.isHorizontal&&B<E){e.isHorizontal=false}if(e.isHorizontal){G=(y<0)?"left":"right";D=B}else{if(e.isVertical){G=(z<0)?"up":"down";D=C}}e.fire("swipe",w,{touch:x,direction:G,distance:D,duration:A})}return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,w)},onCancel:function(e){this.fire("swipecancel",e,null,true)},reset:function(){var f=this;f.startTime=f.isHorizontal=f.isVertical=f.startX=f.startY=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Swipe"],function(k){var g=Ext.manifest.gestures;k.instance=new k(g&&g.swipe)}));(Ext.cmd.derive("Ext.event.gesture.EdgeSwipe",Ext.event.gesture.Swipe,{priority:500,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],config:{minDistance:60},onTouchStart:function(m){var n=this,o=Ext.event.gesture.Swipe.prototype.onTouchStart.call(this,m),e;if(o!==false){e=m.changedTouches[0];n.direction=null;n.isHorizontal=true;n.isVertical=true;n.startX=e.pageX;n.startY=e.pageY}return o},onTouchMove:function(N){var M=this,x=N.changedTouches[0],I=x.pageX,L=x.pageY,B=I-M.startX,C=L-M.startY,G=Math.abs(L-M.startY),F=Math.abs(I-M.startX),y=M.getMinDistance(),D=M.getMaxOffset(),E=N.time-M.startTime,J=Ext.Viewport&&Ext.Element.getViewportWidth(),e=Ext.Viewport&&Ext.Element.getViewportHeight(),K,H;if(M.isVertical&&F>D){M.isVertical=false}if(M.isHorizontal&&G>D){M.isHorizontal=false}if(M.isVertical&&M.isHorizontal){if(G>F){M.isHorizontal=false}else{M.isVertical=false}}if(M.isHorizontal){K=(B<0)?"left":"right";H=B}else{if(M.isVertical){K=(C<0)?"up":"down";H=C}}K=M.direction||(M.direction=K);if(K==="up"){H=C*-1}else{if(K==="left"){H=B*-1}}M.distance=H;if(!H){return M.cancel(N)}if(!M.isStarted){if((K==="right"&&M.startX>y)||(K==="down"&&M.startY>y)||(K==="left"&&(J-M.startX)>y)||(K==="up"&&(e-M.startY)>y)){return M.cancel(N)}M.isStarted=true;M.startTime=N.time;M.fire("edgeswipestart",N,{touch:x,direction:K,distance:H,duration:E})}else{M.fire("edgeswipe",N,{touch:x,direction:K,distance:H,duration:E})}},onTouchEnd:function(e){var m=this,l;if(m.onTouchMove(e)!==false){l=e.time-m.startTime;m.fire("edgeswipeend",e,{touch:e.changedTouches[0],direction:m.direction,distance:m.distance,duration:l})}return this.reset()},onCancel:function(e){this.fire("edgeswipecancel",e,{touch:e.changedTouches[0]},true)},reset:function(){var f=this;f.direction=f.isHorizontal=f.isVertical=f.startX=f.startY=f.startTime=f.distance=null;return Ext.event.gesture.Swipe.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"EdgeSwipe"],function(k){var g=Ext.manifest.gestures;k.instance=new k(g&&g.edgeSwipe)}));(Ext.cmd.derive("Ext.event.gesture.LongPress",Ext.event.gesture.SingleTouch,{priority:400,config:{moveDistance:8,minDuration:1000},handledEvents:["longpress","taphold"],onTouchStart:function(e){var l=this,m=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,e);if(m!==false){l.startPoint=e.changedTouches[0].point;l.setLongPressTimer(e)}return m},setLongPressTimer:function(e){var k=this;k.timer=Ext.defer(k.fireLongPress,k.getMinDuration(),k,[e])},onTouchMove:function(o){var p=this,q=o.changedTouches[0].point,n=Ext.Element.getViewportScale(),e=Math.round(Math.abs(q.getDistanceTo(p.startPoint)*n));if(e>=p.getMoveDistance()){return p.cancel(o)}},reset:function(){var f=this;clearTimeout(f.timer);f.timer=f.startPoint=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)},fireLongPress:function(e){var m=this,l={touch:e.changedTouches[0],duration:m.getMinDuration(),startDrag:m.startDrag};this.fire("taphold",e,l);this.fire("longpress",e,l);this.reset()},startDrag:function(){var g=Ext.event.gesture.Drag.instance,k=this.parentEvent;g.doDragStart(k,true);Ext.event.publisher.Gesture.instance.claimRecognizer(g,k)}},0,0,0,0,0,0,[Ext.event.gesture,"LongPress"],function(k){var g=Ext.manifest.gestures;k.instance=new k(g&&g.longPress)}));(Ext.cmd.derive("Ext.event.gesture.MultiTouch",Ext.event.gesture.Recognizer,{requiredTouchesCount:2,isTracking:false,isMultiTouch:true,onTouchStart:function(e){var p=this,q=p.requiredTouchesCount,n=e.touches,o=n.length;if(o===q){p.isTracking=true}else{if(o>q){return p.cancel(e)}}},reset:function(){this.isTracking=false;return Ext.event.gesture.Recognizer.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"MultiTouch"],0));(Ext.cmd.derive("Ext.event.gesture.Pinch",Ext.event.gesture.MultiTouch,{priority:700,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(o){var q=this,p,e,s,t;if(q.isTracking){p=o.touches;e=p[0].point;s=p[1].point;t=e.getDistanceTo(s);if(t===0){return}if(!q.isStarted){q.isStarted=true;q.startDistance=t;q.fire("pinchstart",o,{touches:p,distance:t,scale:1})}else{q.fire("pinch",o,{touches:p,distance:t,scale:t/q.startDistance})}}},onTouchEnd:function(e){if(this.isStarted){this.fire("pinchend",e)}return Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,e)},onCancel:function(e){this.fire("pinchcancel",e,null,true)},reset:function(){this.lastTouches=null;this.startDistance=0;return Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Pinch"],function(k){var g=Ext.manifest.gestures;k.instance=new k(g&&g.pinch)}));(Ext.cmd.derive("Ext.event.gesture.Rotate",Ext.event.gesture.MultiTouch,{priority:800,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(u){var t=this,v,z,x,w,y,A,e,B;if(t.isTracking){v=u.touches;z=t.lastAngle;x=v[0].point;w=v[1].point;y=x.getAngleTo(w);if(z!==null){B=Math.abs(z-y);A=y+360;e=y-360;if(Math.abs(A-z)<B){y=A}else{if(Math.abs(e-z)<B){y=e}}}t.lastAngle=y;if(!t.isStarted){t.isStarted=true;t.startAngle=y;t.fire("rotatestart",u,{touches:v,angle:y,rotation:0})}else{t.fire("rotate",u,{touches:v,angle:y,rotation:y-t.startAngle})}t.lastTouches=Ext.Array.clone(v)}},onTouchEnd:function(e){if(this.isStarted){this.fire("rotateend",e)}return Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,e)},onCancel:function(e){this.fire("rotatecancel",e,null,true)},reset:function(){var f=this;f.lastTouches=f.lastAngle=f.startAngle=null;return Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Rotate"],function(k){var g=Ext.manifest.gestures;k.instance=new k(g&&g.rotate)}));(Ext.cmd.derive("Ext.event.gesture.Tap",Ext.event.gesture.SingleTouch,{priority:200,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(e){var l=this,m=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,e);if(m!==false){l.isStarted=true;l.startPoint=e.changedTouches[0].point}return m},onTouchMove:function(o){var p=this,q=o.changedTouches[0].point,n=Ext.Element.getViewportScale(),e=Math.round(Math.abs(q.getDistanceTo(p.startPoint)*n));if(e>=p.getMoveDistance()){return p.cancel(o)}},onTouchEnd:function(e){this.fire("tap",e,{touch:e.changedTouches[0]});return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,e)},onCancel:function(e){this.fire("tapcancel",e,{touch:e.changedTouches[0]},true)},reset:function(){this.startPoint=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Tap"],function(g){var k=Ext.manifest.gestures;g.instance=new g(k&&k.tap)}));(Ext.cmd.derive("Ext.event.publisher.Focus",Ext.event.publisher.Dom,{type:"focus",handledEvents:["focusenter","focusleave","focusmove"],handledDomEvents:["focusin","focusout"],publishDelegatedDomEvent:function(e){var l=this,m=e.relatedTarget;if(e.type==="focusout"){if(m==null){l.processFocusIn(e,e.target,document.body)}}else{if(m==null||!m.tagName){m=document.body}l.processFocusIn(e,m,e.target)}},processFocusIn:function(u,e,z){var D=this,C,A,v=[],B,w,x,y;x=Ext.fly(e);y=Ext.fly(z);if((x&&x.isFocusSuspended())||(y&&y.isFocusSuspended())){return}for(A=e,C=Ext.dom.Element.getCommonAncestor(z,e,true);A&&A!==C;A=A.parentNode){v.push(A)}if(v.length){B=D.createSyntheticEvent("focusleave",u,e,z);D.publish(B,v);if(B.stopped){return}}v.length=0;for(A=z;A&&A!==C;A=A.parentNode){v.push(A)}w=D.createSyntheticEvent("focusenter",u,z,e);if(v.length){D.publish(w,v);if(w.stopped){return}}v=D.getPropagatingTargets(C);if(v.length){B=D.createSyntheticEvent("focusmove",u,z,e);D.publish(B,v);if(B.stopped){return}}Ext.GlobalEvents.fireEvent("focus",{event:w,toElement:z,fromElement:e})},createSyntheticEvent:function(p,m,n,q){var o=new Ext.event.Event(m);o.type=p;o.relatedTarget=q;o.target=n;return o}},0,0,0,0,0,0,[Ext.event.publisher,"Focus"],function(g){var k;g.instance=new g();if(!Ext.supports.FocusinFocusoutEvents){this.override({handledDomEvents:["focus","blur"],publishDelegatedDomEvent:function(f){var m=this,e;m.callSuper([f]);e=f.target!==window&&f.target!==document;if(f.type==="blur"){if(!e){if(f.explicitOriginalTarget===g.previousActiveElement){if(f.target===window){clearTimeout(k);k=0;m.processFocusIn(f,g.previousActiveElement,document.body);g.previousActiveElement=null}}}else{k=setTimeout(function(){k=0;m.processFocusIn(f,f.target,document.body);g.previousActiveElement=null},0)}g.previousActiveElement=e?f.target:null}else{clearTimeout(k);k=0;m.processFocusIn(f,g.previousActiveElement||document.body,e?f.target:document.body)}}})}}));(Ext.cmd.derive("Ext.fx.State",Ext.Base,{isAnimatable:{"background-color":true,"background-image":true,"background-position":true,"border-bottom-color":true,"border-bottom-width":true,"border-color":true,"border-left-color":true,"border-left-width":true,"border-right-color":true,"border-right-width":true,"border-spacing":true,"border-top-color":true,"border-top-width":true,"border-width":true,bottom:true,color:true,crop:true,"font-size":true,"font-weight":true,height:true,left:true,"letter-spacing":true,"line-height":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,opacity:true,"outline-color":true,"outline-offset":true,"outline-width":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,right:true,"text-indent":true,"text-shadow":true,top:true,"vertical-align":true,visibility:true,width:true,"word-spacing":true,"z-index":true,zoom:true,transform:true},constructor:function(f){this.data={};this.set(f)},setConfig:function(f){this.set(f);return this},setRaw:function(f){this.data=f;return this},clear:function(){return this.setRaw({})},setTransform:function(s,v){var o=this.data,u=Ext.isArray(v),t=o.transform,p,q;if(!t){t=o.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}}if(typeof s=="string"){switch(s){case"translate":if(u){p=v.length;if(p==0){break}t.translateX=v[0];if(p==1){break}t.translateY=v[1];if(p==2){break}t.translateZ=v[2]}else{t.translateX=v}break;case"rotate":if(u){p=v.length;if(p==0){break}t.rotateX=v[0];if(p==1){break}t.rotateY=v[1];if(p==2){break}t.rotateZ=v[2]}else{t.rotate=v}break;case"scale":if(u){p=v.length;if(p==0){break}t.scaleX=v[0];if(p==1){break}t.scaleY=v[1];if(p==2){break}t.scaleZ=v[2]}else{t.scaleX=v;t.scaleY=v}break;case"skew":if(u){p=v.length;if(p==0){break}t.skewX=v[0];if(p==1){break}t.skewY=v[1]}else{t.skewX=v}break;default:t[s]=v}}else{for(q in s){if(s.hasOwnProperty(q)){v=s[q];this.setTransform(q,v)}}}},set:function(o,l){var m=this.data,n;if(typeof o!="string"){for(n in o){l=o[n];if(n==="transform"){this.setTransform(l)}else{m[n]=l}}}else{if(o==="transform"){this.setTransform(l)}else{m[o]=l}}return this},unset:function(k){var g=this.data;if(g.hasOwnProperty(k)){delete g[k]}return this},getData:function(){return this.data}},1,0,0,0,0,0,[Ext.fx,"State"],0));(Ext.cmd.derive("Ext.fx.animation.Abstract",Ext.Evented,{isAnimation:true,config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,callback:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:false,replacePrevious:true},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){this.states={};Ext.Evented.prototype.constructor.apply(this,arguments);return this},applyElement:function(f){return Ext.get(f)},applyBefore:function(k,g){if(k){return Ext.factory(k,Ext.fx.State,g)}},applyAfter:function(g,k){if(g){return Ext.factory(g,Ext.fx.State,k)}},setFrom:function(f){return this.setState(this.STATE_FROM,f)},setTo:function(f){return this.setState(this.STATE_TO,f)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(m){var k=this.stateNameRegex,l;for(l in m){if(k.test(l)){this.setState(l,m[l])}}return this},getStates:function(){return this.states},updateCallback:function(f){if(f){this.setOnEnd(f)}},end:function(){this.stop()},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop();Ext.Evented.prototype.destroy.call(this)},setState:function(n,l){var o=this.getStates(),m;m=Ext.factory(l,Ext.fx.State,o[n]);if(m){o[n]=m}return this},getState:function(f){return this.getStates()[f]},getData:function(){var x=this,E=x.getStates(),z={},w=x.getBefore(),B=x.getAfter(),v=E[x.STATE_FROM],u=E[x.STATE_TO],F=v.getData(),y=u.getData(),A,C,D;for(C in E){if(E.hasOwnProperty(C)){D=E[C];A=D.getData();z[C]=A}}return{before:w?w.getData():{},after:B?B.getData():{},states:z,from:F,to:y,duration:x.getDuration(),iteration:x.getIteration(),direction:x.getDirection(),easing:x.getEasing(),delay:x.getDelay(),onEnd:x.getOnEnd(),onBeforeEnd:x.getOnBeforeEnd(),onBeforeStart:x.getOnBeforeStart(),scope:x.getScope(),preserveEndState:x.getPreserveEndState(),replacePrevious:x.getReplacePrevious()}}},1,0,0,0,0,0,[Ext.fx.animation,"Abstract"],0));(Ext.cmd.derive("Ext.fx.animation.Slide",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.SlideIn",config:{direction:"left",out:false,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:true,useCssTransform:true},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(f){if(f==="auto"){return"ease-"+((this.getOut())?"in":"out")}return f},getContainerBox:function(){var f=this._containerBox;if(f==="auto"){f=this.getElement().getParent().getBox()}return f},getElementBox:function(){var f=this._elementBox;if(this.getIsElementBoxFit()){return this.getContainerBox()}if(f==="auto"){f=this.getElement().getBox()}return f},getData:function(){var I=this.getElementBox(),F=this.getContainerBox(),B=I?I:F,K=this.getFrom(),J=this.getTo(),C=this.getOut(),D=this.getOffset(),L=this.getDirection(),G=this.getUseCssTransform(),A=this.getReverse(),E=0,H=0,M,y,N,z;if(A){L=this.reverseDirectionMap[L]}switch(L){case this.DIRECTION_UP:if(C){H=F.top-B.top-B.height-D}else{H=F.bottom-B.bottom+B.height+D}break;case this.DIRECTION_DOWN:if(C){H=F.bottom-B.bottom+B.height+D}else{H=F.top-B.height-B.top-D}break;case this.DIRECTION_RIGHT:if(C){E=F.right-B.right+B.width+D}else{E=F.left-B.left-B.width-D}break;case this.DIRECTION_LEFT:if(C){E=F.left-B.left-B.width-D}else{E=F.right-B.right+B.width+D}break}M=(C)?0:E;y=(C)?0:H;if(G){K.setTransform({translateX:M,translateY:y})}else{K.set("left",M);K.set("top",y)}N=(C)?E:0;z=(C)?H:0;if(G){J.setTransform({translateX:N,translateY:z})}else{J.set("left",N);J.set("top",z)}return Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.slide","animation.slideIn"],0,[Ext.fx.animation,"Slide",Ext.fx.animation,"SlideIn"],0));(Ext.cmd.derive("Ext.fx.animation.SlideOut",Ext.fx.animation.Slide,{config:{out:true}},0,0,0,0,["animation.slideOut"],0,[Ext.fx.animation,"SlideOut"],0));(Ext.cmd.derive("Ext.fx.animation.Fade",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.FadeIn",config:{out:false,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(m){var k=this.getTo(),l=this.getFrom();if(m){l.set("opacity",1);k.set("opacity",0)}else{l.set("opacity",0);k.set("opacity",1)}}},0,0,0,0,["animation.fade","animation.fadeIn"],0,[Ext.fx.animation,"Fade",Ext.fx.animation,"FadeIn"],0));(Ext.cmd.derive("Ext.fx.animation.FadeOut",Ext.fx.animation.Fade,{config:{out:true,before:{}}},0,0,0,0,["animation.fadeOut"],0,[Ext.fx.animation,"FadeOut"],0));(Ext.cmd.derive("Ext.fx.animation.Flip",Ext.fx.animation.Abstract,{config:{easing:"ease-in",direction:"right",half:false,out:null},getData:function(){var y=this,w=y.getFrom(),v=y.getTo(),x=y.getDirection(),D=y.getOut(),F=y.getHalf(),C=F?90:180,A=1,E=1,G=0,H=0,z=0,B=0;if(D){E=0.8}else{A=0.8}switch(x){case this.DIRECTION_UP:if(D){z=C}else{G=-C}break;case this.DIRECTION_DOWN:if(D){z=-C}else{G=C}break;case this.DIRECTION_RIGHT:if(D){B=C}else{H=-C}break;case this.DIRECTION_LEFT:if(D){B=-C}else{H=C}break}w.setTransform({rotateX:G,rotateY:H,scale:A});v.setTransform({rotateX:z,rotateY:B,scale:E});return Ext.fx.animation.Abstract.prototype.getData.call(this)}},0,0,0,0,["animation.flip"],0,[Ext.fx.animation,"Flip"],0));(Ext.cmd.derive("Ext.fx.animation.Pop",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.PopIn",config:{out:false,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var k=this.getTo(),l=this.getFrom(),m=this.getOut();if(m){l.set("opacity",1);l.setTransform({scale:1});k.set("opacity",0);k.setTransform({scale:0})}else{l.set("opacity",0);l.setTransform({scale:0});k.set("opacity",1);k.setTransform({scale:1})}return Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.pop","animation.popIn"],0,[Ext.fx.animation,"Pop",Ext.fx.animation,"PopIn"],0));(Ext.cmd.derive("Ext.fx.animation.PopOut",Ext.fx.animation.Pop,{config:{out:true,before:{}}},0,0,0,0,["animation.popOut"],0,[Ext.fx.animation,"PopOut"],0));(Ext.cmd.derive("Ext.fx.Animation",Ext.Base,{constructor:function(l){var m=Ext.fx.animation.Abstract,k;if(typeof l=="string"){k=l;l={}}else{if(l&&l.type){k=l.type}}if(k){m=Ext.ClassManager.getByAlias("animation."+k)}return Ext.factory(l,m)}},1,0,0,0,0,0,[Ext.fx,"Animation"],0));(Ext.cmd.derive("Ext.fx.runner.Css",Ext.Evented,{prefixedProperties:{transform:true,"transform-origin":true,perspective:true,"transform-style":true,transition:true,"transition-property":true,"transition-duration":true,"transition-timing-function":true,"transition-delay":true,animation:true,"animation-name":true,"animation-duration":true,"animation-iteration-count":true,"animation-direction":true,"animation-timing-function":true,"animation-delay":true},lengthProperties:{top:true,right:true,bottom:true,left:true,width:true,height:true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,"border-bottom-width":true,"border-left-width":true,"border-right-width":true,"border-spacing":true,"border-top-width":true,"border-width":true,"outline-width":true,"letter-spacing":true,"line-height":true,"text-indent":true,"word-spacing":true,"font-size":true,translate:true,translateX:true,translateY:true,translateZ:true,translate3d:true,x:true,y:true},durationProperties:{"transition-duration":true,"transition-delay":true,"animation-duration":true,"animation-delay":true},angleProperties:{rotate:true,rotateX:true,rotateY:true,rotateZ:true,skew:true,skewX:true,skewY:true},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",customProperties:{x:true,y:true},formattedNameCache:{x:"left",y:"top"},transformMethods3d:["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"],transformMethodsNo3d:["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],constructor:function(){var f=this;f.transformMethods=Ext.feature.has.Css3dTransforms?f.transformMethods3d:f.transformMethodsNo3d;f.vendorPrefix=Ext.browser.getStyleDashPrefix();f.ruleStylesCache={};Ext.Evented.prototype.constructor.call(this)},getStyleSheet:function(){var k=this.styleSheet,m,l;if(!k){m=document.createElement("style");m.type="text/css";(document.head||document.getElementsByTagName("head")[0]).appendChild(m);l=document.styleSheets;this.styleSheet=k=l[l.length-1]}return k},applyRules:function(u){var w=this.getStyleSheet(),D=this.ruleStylesCache,t=w.cssRules,A,y,v,B,z,C,x;for(A in u){y=u[A];v=D[A];if(v===undefined){z=t.length;w.insertRule(A+"{}",z);v=D[A]=t.item(z).style}B=v.$cache;if(!B){B=v.$cache={}}for(C in y){x=this.formatValue(y[C],C);C=this.formatName(C);if(B[C]!==x){B[C]=x;if(x===null){v.removeProperty(C)}else{v.setProperty(C,x,"important")}}}}return this},applyStyles:function(q){var v,s,o,t,u,p;for(v in q){if(q.hasOwnProperty(v)){this.activeElement=s=document.getElementById(v);if(!s){continue}o=s.style;t=q[v];for(u in t){if(t.hasOwnProperty(u)){p=this.formatValue(t[u],u);u=this.formatName(u);if(p===null){o.removeProperty(u)}else{o.setProperty(u,p,"important")}}}}}this.activeElement=null;return this},formatName:function(l){var m=this.formattedNameCache,k=m[l];if(!k){if((Ext.os.is.Tizen||!Ext.feature.has.CssTransformNoPrefix)&&this.prefixedProperties[l]){k=this.vendorPrefix+l}else{k=l}m[l]=k}return k},formatValue:function(u,C){var x=typeof u,E=this.DEFAULT_UNIT_LENGTH,w=this.customProperties[C],z,D,A,y,B,F,v;if(u===null){return""}if(x==="string"){if(this.lengthProperties[C]){v=u.match(this.lengthUnitRegex)[1];if(v.length>0){}else{u=u+E;if(w){u=this.getCustomValue(u,C)}return u}}return u}else{if(x==="number"){if(u==0){return"0"}if(this.lengthProperties[C]){u=u+E;if(w){u=this.getCustomValue(u,C)}return u}if(this.angleProperties[C]){return u+this.DEFAULT_UNIT_ANGLE}if(this.durationProperties[C]){return u+this.DEFAULT_UNIT_DURATION}}else{if(C==="transform"){z=this.transformMethods;B=[];for(A=0,y=z.length;A<y;A++){D=z[A];B.push(D+"("+this.formatValue(u[D],D)+")")}return B.join(" ")}else{if(Ext.isArray(u)){F=[];for(A=0,y=u.length;A<y;A++){F.push(this.formatValue(u[A],C))}return(F.length>0)?F.join(", "):"none"}}}}return u},getCustomValue:function(l,o){var n=Ext.fly(this.activeElement),m=l.match(this.lengthUnitRegex)[1];if(o==="x"){l=n.translateXY(parseInt(l,10)).x}else{if(o==="y"){l=n.translateXY(null,parseInt(l,10)).y}}return l+m}},1,0,0,0,0,0,[Ext.fx.runner,"Css"],0));(Ext.cmd.derive("Ext.fx.runner.CssTransition",Ext.fx.runner.Css,{alternateClassName:"Ext.Animator",singleton:true,listenersAttached:false,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=true;Ext.getWin().on("transitionend","onTransitionEnd",this)},onTransitionEnd:function(l){var m=l.target,e=m.id;if(e&&this.runningAnimationsData.hasOwnProperty(e)){this.refreshRunningAnimationsData(Ext.get(m),[l.browserEvent.propertyName])}},getElementId:function(f){return f.getId?f.getId():f.id},onAnimationEnd:function(z,A,C,x,H){var D=this.getElementId(z),w=this.runningAnimationsData[D],G={},I={},E,y,B,J,F;C.un("stop","onAnimationStop",this);if(w){E=w.nameMap}G[D]=I;if(A.onBeforeEnd){A.onBeforeEnd.call(A.scope||this,z,x)}C.fireEvent("animationbeforeend",C,z,x);this.fireEvent("animationbeforeend",this,C,z,x);if(H||(!x&&!A.preserveEndState)){y=A.toPropertyNames;for(B=0,J=y.length;B<J;B++){F=y[B];if(E&&!E.hasOwnProperty(F)){I[F]=null}}}if(A.after){Ext.merge(I,A.after)}this.applyStyles(G);if(A.onEnd){A.onEnd.call(A.scope||this,z,x)}C.fireEvent("animationend",C,z,x);this.fireEvent("animationend",this,C,z,x);Ext.AnimationQueue.stop(Ext.emptyFn,C)},onAllAnimationsEnd:function(l){var k=this.getElementId(l),m={};delete this.runningAnimationsData[k];m[k]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null};this.applyStyles(m);this.fireEvent("animationallend",this,l)},hasRunningAnimations:function(m){var k=this.getElementId(m),l=this.runningAnimationsData;return l.hasOwnProperty(k)&&l[k].sessions.length>0},refreshRunningAnimationsData:function(Q,L,B,F){var N=this.getElementId(Q),E=this.runningAnimationsData,T=E[N];if(!T){return}var I=T.nameMap,C=T.nameList,S=T.sessions,O,M,P,K,J,R,D,G,H=false;B=Boolean(B);F=Boolean(F);if(!S){return this}O=S.length;if(O===0){return this}if(F){T.nameMap={};C.length=0;for(J=0;J<O;J++){R=S[J];this.onAnimationEnd(Q,R.data,R.animation,B,F)}S.length=0}else{for(J=0;J<O;J++){R=S[J];D=R.map;G=R.list;for(M=0,P=L.length;M<P;M++){K=L[M];if(D[K]){delete D[K];Ext.Array.remove(G,K);R.length--;if(--I[K]==0){delete I[K];Ext.Array.remove(C,K)}}}if(R.length==0){S.splice(J,1);J--;O--;H=true;this.onAnimationEnd(Q,R.data,R.animation,B)}}}if(!F&&!B&&S.length==0&&H){this.onAllAnimationsEnd(Q)}},getRunningData:function(g){var k=this.runningAnimationsData;if(!k.hasOwnProperty(g)){k[g]={nameMap:{},nameList:[],sessions:[]}}return k[g]},getTestElement:function(){var o=this,n=o.testElement,p=o.iframe,m,q;if(n){if(n.ownerDocument.defaultView!==p.contentWindow){p.contentDocument.body.appendChild(n);o.testElementComputedStyle=m.defaultView.getComputedStyle(n)}}else{p=o.iframe=document.createElement("iframe");p.setAttribute("tabIndex",-1);q=p.style;q.setProperty("visibility","hidden","important");q.setProperty("width","0px","important");q.setProperty("height","0px","important");q.setProperty("position","absolute","important");q.setProperty("border","0px","important");q.setProperty("zIndex","-1000","important");document.body.appendChild(p);m=p.contentDocument;m.open();m.writeln("</body>");m.close();o.testElement=n=m.createElement("div");n.style.setProperty("position","absolute","important");m.body.appendChild(n);o.testElementComputedStyle=m.defaultView.getComputedStyle(n)}return n},getCssStyleValue:function(p,m){var n=this.getTestElement(),q=this.testElementComputedStyle,o=n.style;o.setProperty(p,m);if(Ext.browser.is.Firefox){n.offsetHeight}m=q.getPropertyValue(p);o.removeProperty(p);return m},run:function(U){var ao=this,aj=Ext.Function,ah=ao.lengthProperties,ai={},aw={},W={},ac={},au,aC,at,T,af,V,ak,ap,az,aA,aB,Y,Z,ag,S,X,ae,al,aq,ax,av,an,ab,am,ar,ay,aa,ad;if(!ao.listenersAttached){ao.attachListeners()}U=Ext.Array.from(U);for(Y=0,ag=U.length;Y<ag;Y++){S=U[Y];S=Ext.factory(S,Ext.fx.Animation);ao.activeElement=au=S.getElement();Ext.AnimationQueue.start(Ext.emptyFn,S);al=window.getComputedStyle(au.dom);aC=ao.getElementId(au);W[aC]=W=Ext.merge({},S.getData());if(S.onBeforeStart){S.onBeforeStart.call(S.scope||ao,au)}S.fireEvent("animationstart",S,W);ao.fireEvent("animationstart",ao,S,W);af=W.before;at=W.from;T=W.to;W.fromPropertyNames=V=[];W.toPropertyNames=ak=[];for(ax in T){if(T.hasOwnProperty(ax)){T[ax]=av=ao.formatValue(T[ax],ax);aq=ao.formatName(ax);am=ah.hasOwnProperty(ax);if(!am){av=ao.getCssStyleValue(aq,av)}if(at.hasOwnProperty(ax)){at[ax]=ab=ao.formatValue(at[ax],ax);if(!am){ab=ao.getCssStyleValue(aq,ab)}if(av!==ab){V.push(aq);ak.push(aq)}}else{an=al.getPropertyValue(aq);if(av!==an){ak.push(aq)}}}}X=ak.length;if(X===0){ao.onAnimationEnd(au,W,S);continue}aA=ao.getRunningData(aC);aa=aA.sessions;if(aa.length>0){ao.refreshRunningAnimationsData(au,Ext.Array.merge(V,ak),true,W.replacePrevious)}ar=aA.nameMap;ay=aA.nameList;ae={};for(Z=0;Z<X;Z++){ax=ak[Z];ae[ax]=true;if(!ar.hasOwnProperty(ax)){ar[ax]=1;ay.push(ax)}else{ar[ax]++}}ad={element:au,map:ae,list:ak.slice(),length:X,data:W,animation:S};aa.push(ad);S.on("stop","onAnimationStop",ao);aB=Ext.apply({},af);Ext.apply(aB,at);if(ay.length>0){V=Ext.Array.difference(ay,V);ak=Ext.Array.merge(V,ak);aB["transition-property"]=V}ai[aC]=aB;aw[aC]=Ext.apply({},T);ac[aC]={"transition-property":ak,"transition-duration":W.duration,"transition-timing-function":W.easing,"transition-delay":W.delay};S.startTime=Date.now()}ao.activeElement=null;az=ao.$className;ao.applyStyles(ai);ap=function(e){if(e.data===az&&e.source===window){window.removeEventListener("message",ap,false);ao.applyStyles(aw)}};aj.requestAnimationFrame(function(){if(Ext.isIE){ao.applyStyles(ac);aj.requestAnimationFrame(function(){window.addEventListener("message",ap,false);window.postMessage(az,"*")})}else{Ext.merge(aw,ac);window.addEventListener("message",ap,false);window.postMessage(az,"*")}})},onAnimationStop:function(s){var p=this.runningAnimationsData,w,v,x,u,t,q;for(w in p){if(p.hasOwnProperty(w)){v=p[w];x=v.sessions;for(u=0,t=x.length;u<t;u++){q=x[u];if(q.animation===s){this.refreshRunningAnimationsData(q.element,q.list.slice(),false)}}}}}},1,0,0,0,0,0,[Ext.fx.runner,"CssTransition",Ext,"Animator"],0));(Ext.cmd.derive("Ext.list.AbstractTreeItem",Ext.Widget,{isTreeListItem:true,cachedConfig:{expandable:false,expanded:false,iconCls:"",leaf:true,loading:false,selected:false,selectedParent:false},config:{iconClsProperty:"iconCls",indent:null,owner:null,node:null,over:null,parentItem:null,text:{lazy:true,$value:""},textProperty:"text"},updateNode:function(w){if(w){var t=this,z=t.itemMap,s,y,u,v,q,x;t.element.dom.setAttribute("data-recordId",w.internalId);if(!z){s=w.childNodes;y=t.getOwner();t.itemMap=z={};for(v=0,u=s.length;v<u;++v){x=s[v];if(x.data.visible){q=y.createItem(x,t);z[x.internalId]=q;t.insertItem(q,null)}}}t.setExpanded(w.isExpanded());t.doNodeUpdate(w)}},updateSelected:function(g){if(!this.isConfiguring){var k=this.getParentItem();while(k&&!k.isRootListItem){k.setSelectedParent(g);k=k.getParentItem()}}},collapse:function(){this.getNode().collapse()},expand:function(){this.getNode().expand()},getToolElement:Ext.emptyFn,insertItem:Ext.emptyFn,isExpanded:function(){return this.getExpanded()},isSelectionEvent:Ext.emptyFn,isToggleEvent:Ext.emptyFn,nodeCollapse:function(o,m){var p=this,q=p.getOwner(),n=p.preventAnimation?null:q.getAnimation();p.nodeCollapseBegin(n,m);if(!n){p.nodeCollapseEnd(m)}},nodeCollapseBegin:function(m,l){var n=this,o=n.getOwner();n.setExpanded(false);o.fireEvent("itemcollapse",o,n)},nodeCollapseEnd:function(f){if(!f){this.getOwner().updateLayout()}},nodeExpand:function(o){var p=this,q=p.getOwner(),m=p.getFloated(),n=!m&&q.getAnimation();p.nodeExpandBegin(n);if(!n){p.nodeExpandEnd()}},nodeExpandBegin:function(k){var l=this,m=l.getOwner();l.setExpanded(true);m.fireEvent("itemexpand",m,l)},nodeExpandEnd:function(){this.getOwner().updateLayout()},nodeInsert:function(w,u){var t=this,x=t.getOwner(),z=t.itemMap,y=w.internalId,q=x.getItem(w),v=null,s;if(q){s=q.getParentItem();s.removeItem(q);if(s!==t){s.doUpdateExpandable();q.setParentItem(t)}}else{q=t.getOwner().createItem(w,t)}z[y]=q;if(u){v=z[u.internalId]}t.insertItem(q,v);t.doUpdateExpandable();x.fireEvent("iteminsert",x,t,q,v);x.updateLayout()},nodeRemove:function(p){var q=this,o=q.itemMap,t=q.getOwner(),n=p.internalId,s=o[n];if(s){delete o[n];q.removeItem(s);s.destroy();q.doUpdateExpandable();t.fireEvent("itemremove",t,q,s);t.updateLayout()}},nodeUpdate:function(g,k){this.doNodeUpdate(g)},removeItem:Ext.emptyFn,destroy:function(){var m=this,l=m.itemMap,o=m.getOwner(),n;if(l){for(n in l){l[n].destroy()}m.itemMap=null}if(o){o.removeItem(m.getNode())}m.setNode(null);m.setParentItem(null);m.setOwner(null);Ext.Widget.prototype.destroy.call(this)},privates:{doNodeUpdate:function(l){var m=this,n=this.getTextProperty(),o=this.getIconClsProperty();if(n){m.setText(l.data[n])}if(o){m.setIconCls(l.data[o])}m.setLoading(l.isLoading());m.setLeaf(l.isLeaf());m.doUpdateExpandable()},doUpdateExpandable:function(){var f=this.getNode();this.setExpandable(f.isExpandable())},onClick:function(e){var o=this,q=o.getOwner(),p=o.getNode(),n={event:e,item:o,node:p,tree:q,select:p.get("selectable")!==false&&o.isSelectionEvent(e),toggle:o.isToggleEvent(e)};if(q.fireEvent("itemclick",q,n)!==false){if(n.toggle){o.toggleExpanded();e.preventDefault()}if(n.select){q.setSelection(o.getNode())}}},toggleExpanded:function(){if(this.isExpanded()){this.collapse()}else{this.expand()}},updateIndent:function(l){var m=this.itemMap,k;for(k in m){m[k].setIndent(l)}},updateOwner:function(f){this.parent=f}}},0,0,["widget"],{widget:true},0,0,[Ext.list,"AbstractTreeItem"],0));(Ext.cmd.derive("Ext.list.RootTreeItem",Ext.list.AbstractTreeItem,{isRootListItem:true,element:{reference:"element",tag:"ul",cls:"x-treelist-root-container"},insertItem:function(g,k){if(k){g.element.insertBefore(k.element)}else{this.element.appendChild(g.element)}},isToggleEvent:function(e){return false}},0,0,["widget"],{widget:true},0,0,[Ext.list,"RootTreeItem"],0));(Ext.cmd.derive("Ext.list.TreeItem",Ext.list.AbstractTreeItem,{collapsedCls:"x-treelist-item-collapsed",expandedCls:"x-treelist-item-expanded",floatedCls:[Ext.Widget.prototype.floatedCls,"x-treelist-item-floated"],floatedToolCls:"x-treelist-item-tool-floated",leafCls:"x-treelist-item-leaf",expandableCls:"x-treelist-item-expandable",hideIconCls:"x-treelist-item-hide-icon",loadingCls:"x-treelist-item-loading",selectedCls:"x-treelist-item-selected",selectedParentCls:"x-treelist-item-selected-parent",withIconCls:"x-treelist-item-with-icon",hoverCls:"x-treelist-item-over",rowHoverCls:"x-treelist-row-over",isTreeListItem:true,config:{rowCls:null},rowClsProperty:"rowCls",element:{reference:"element",tag:"li",cls:"x-treelist-item",children:[{reference:"rowElement",cls:"x-treelist-row",children:[{reference:"wrapElement",cls:"x-treelist-item-wrap",children:[{reference:"iconElement",cls:"x-treelist-item-icon"},{reference:"textElement",cls:"x-treelist-item-text"},{reference:"expanderElement",cls:"x-treelist-item-expander"}]}]},{reference:"itemContainer",tag:"ul",cls:"x-treelist-container"},{reference:"toolElement",cls:"x-treelist-item-tool"}]},constructor:function(k){Ext.list.AbstractTreeItem.prototype.constructor.call(this,k);var g=this.toolElement.dom;g.parentNode.removeChild(g)},getToolElement:function(){return this.toolElement},insertItem:function(g,k){if(k){g.element.insertBefore(k.element)}else{this.itemContainer.appendChild(g.element)}},isSelectionEvent:function(e){var k=this.getOwner();return(!this.isToggleEvent(e)||!k.getExpanderOnly()||k.getSelectOnExpander())},isToggleEvent:function(e){var k=false;if(this.getOwner().getExpanderOnly()){k=e.target===this.expanderElement.dom}else{k=!this.itemContainer.contains(e.target)}return k},nodeCollapseBegin:function(n,m){var o=this,p=o.itemContainer,q;if(o.expanding){o.stopAnimation(o.expanding)}q=n&&p.getHeight();Ext.list.AbstractTreeItem.prototype.nodeCollapseBegin.call(this,n,m);if(n){p.dom.style.display="block";o.collapsingForExpand=m;o.collapsing=this.runAnimation(Ext.merge({from:{height:q},to:{height:0},callback:o.nodeCollapseDone,scope:o},n))}},nodeCollapseDone:function(k){var l=this,m=l.itemContainer;l.collapsing=null;m.dom.style.display="";m.setHeight(null);l.nodeCollapseEnd(l.collapsingForExpand)},nodeExpandBegin:function(l){var m=this,n=m.itemContainer,o;if(m.collapsing){m.stopAnimation(m.collapsing)}Ext.list.AbstractTreeItem.prototype.nodeExpandBegin.call(this,l);if(l){o=n.getHeight();n.setHeight(0);m.expanding=m.runAnimation(Ext.merge({to:{height:o},callback:m.nodeExpandDone,scope:m},l))}},nodeExpandDone:function(){this.expanding=null;this.itemContainer.setHeight(null);this.nodeExpandEnd()},removeItem:function(f){this.itemContainer.removeChild(f.element)},updateNode:function(k,g){this.syncIndent();Ext.list.AbstractTreeItem.prototype.updateNode.call(this,k,g)},updateExpandable:function(){this.updateExpandCls()},updateExpanded:function(){this.updateExpandCls()},updateIconCls:function(n,o){var l=this,m=l.element;l.doIconCls(l.iconElement,n,o);l.doIconCls(l.toolElement,n,o);m.toggleCls(l.withIconCls,!!n);m.toggleCls(l.hideIconCls,n===null)},updateLeaf:function(f){this.element.toggleCls(this.leafCls,f)},updateLoading:function(f){this.element.toggleCls(this.loadingCls,f)},updateOver:function(g){var k=this;k.element.toggleCls(k.hoverCls,!!g);k.rowElement.toggleCls(k.rowHoverCls,g>1)},updateRowCls:function(g,k){this.rowElement.replaceCls(k,g)},updateSelected:function(o,m){var n=this,q=n.selectedCls,p=n.getToolElement();Ext.list.AbstractTreeItem.prototype.updateSelected.call(this,o,m);n.element.toggleCls(q,o);if(p){p.toggleCls(q,o)}},updateSelectedParent:function(l){var k=this;k.element.toggleCls(k.selectedParentCls,l);var m=k.getToolElement();if(m){m.toggleCls(k.selectedCls,l)}},updateText:function(f){this.textElement.update(f)},privates:{doNodeUpdate:function(f){Ext.list.AbstractTreeItem.prototype.doNodeUpdate.call(this,f);this.setRowCls(f&&f.data[this.rowClsProperty])},doIconCls:function(k,l,m){if(m){k.removeCls(m)}if(l){k.addCls(l)}},syncIndent:function(){var m=this,o=m.getIndent(),n=m.getNode(),l;if(n){l=n.data.depth-1;m.wrapElement.dom.style.marginLeft=(l*o)+"px"}},updateExpandCls:function(){if(!this.updatingExpandCls){var o=this,q=o.getExpandable(),p=o.element,s=o.getExpanded(),t=o.expandedCls,n=o.collapsedCls;o.updatingExpandCls=true;p.toggleCls(o.expandableCls,q);if(q){p.toggleCls(t,s);p.toggleCls(n,!s)}else{p.removeCls([t,n])}o.updatingExpandCls=false}},updateIndent:function(g,k){this.syncIndent();Ext.list.AbstractTreeItem.prototype.updateIndent.call(this,g,k)}}},1,["treelistitem"],["widget","treelistitem"],{widget:true,treelistitem:true},["widget.treelistitem"],0,[Ext.list,"TreeItem"],0));Ext.define("Ext.overrides.list.TreeItem",{override:"Ext.list.TreeItem",config:{floated:null},setFloated:function(o){var p=this,s=p.element,n=p.placeholder,q,t;if(p.treeItemFloated!==o){if(o){n=s.clone(false,true);n.id+="-placeholder";p.placeholder=Ext.get(n);p.wasExpanded=p.getExpanded();p.setExpanded(true);s.addCls(p.floatedCls);s.dom.parentNode.insertBefore(n,s.dom);p.floater=p.createFloater()}else{if(n){t=p.wasExpanded;q=p.getNode();p.setExpanded(t);if(!t&&q.isExpanded()){p.preventAnimation=true;q.collapse();p.preventAnimation=false}p.floater.remove(p,false);s.removeCls(p.floatedCls);n.dom.parentNode.insertBefore(s.dom,n.dom);n.destroy();p.floater.destroy();p.placeholder=p.floater=null}}p.treeItemFloated=o}},getFloated:function(){return this.treeItemFloated},runAnimation:function(f){return this.itemContainer.addAnimation(f)},stopAnimation:function(f){f.jumpToEnd()},privates:{createFloater:function(){var n=this,q=n.getOwner(),p=n.up("treelist"),o,m=n.getToolElement();n.floater=o=new Ext.container.Container({cls:p.self.prototype.element.cls+" "+p.uiPrefix+p.getUi()+" x-treelist-floater",floating:true,width:Ext.isIE8?200:(p.expandedWidth-m.getWidth()),shadow:false,renderTo:Ext.getBody(),listeners:{element:"el",click:function(e){return q.onClick(e)}}});o.add(n);o.show();o.el.alignTo(m,"tr?");return o}}});Ext.define("Ext.theme.triton.list.TreeItem",{override:"Ext.list.TreeItem",compatibility:Ext.isIE8,setFloated:function(g,k){arguments.callee.$previous.call(this,g,k);this.toolElement.syncRepaint()}});(Ext.cmd.derive("Ext.list.Tree",Ext.Widget,{expanderFirstCls:"x-treelist-expander-first",expanderOnlyCls:"x-treelist-expander-only",highlightPathCls:"x-treelist-highlight-path",microCls:"x-treelist-micro",uiPrefix:"x-treelist-",element:{reference:"element",cls:"x-treelist x-unselectable",listeners:{click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseover:"onMouseOver"},children:[{reference:"toolsElement",cls:"x-treelist-toolstrip",listeners:{click:"onToolStripClick",mouseover:"onToolStripMouseOver"}}]},cachedConfig:{animation:{duration:500,easing:"ease"},expanderFirst:true,expanderOnly:true},config:{defaults:{xtype:"treelistitem"},highlightPath:null,iconSize:null,indent:null,micro:false,overItem:null,selection:null,selectOnExpander:false,singleExpand:null,store:null,ui:null},twoWayBindable:{selection:1},publishes:{selection:1},defaultBindProperty:"store",constructor:function(k){var g=this;Ext.Widget.prototype.constructor.call(this,k);g.publishState("selection",g.getSelection());if(!Ext.isIE8){g.el.on({resize:g.onElResize,buffer:300,scope:g})}},beforeLayout:function(){this.syncIconSize()},destroy:function(){var f=this;f.destroying=true;f.unfloatAll();f.activeFloater=null;f.setSelection(null);f.setStore(null);Ext.Widget.prototype.destroy.call(this)},updateOverItem:function(o,t){var p={},q=2,n,s;for(n=o;n;n=this.getItem(s.parentNode)){s=n.getNode();p[s.internalId]=true;n.setOver(q);q=1}if(t){for(n=t;n;n=this.getItem(s.parentNode)){s=n.getNode();if(p[s.internalId]){break}n.setOver(0)}}},applyMicro:function(f){return Boolean(f)},applySelection:function(k,m){var l=this.getStore();if(!l){k=null}if(k&&k.get("selectable")===false){k=m}return k},updateSelection:function(n,o){var l=this,m;if(!l.destroying){m=l.getItem(o);if(m){m.setSelected(false)}m=l.getItem(n);if(m){m.setSelected(true)}l.fireEvent("selectionchange",l,n)}},applyStore:function(f){return f&&Ext.StoreManager.lookup(f,"tree")},updateStore:function(n,l){var m=this,o;if(l){if(!l.destroyed){if(l.getAutoDestroy()){l.destroy()}else{m.storeListeners.destroy()}}m.removeRoot();m.storeListeners=null}if(n){m.storeListeners=n.on({destroyable:true,scope:m,filterchange:"onFilterChange",nodeappend:"onNodeAppend",nodecollapse:"onNodeCollapse",nodeexpand:"onNodeExpand",nodeinsert:"onNodeInsert",noderemove:"onNodeRemove",rootchange:"onRootChange",update:"onNodeUpdate"});o=n.getRoot();if(o){m.createRootItem(o)}}if(!m.destroying){m.updateLayout()}},updateExpanderFirst:function(f){this.element.toggleCls(this.expanderFirstCls,f)},updateExpanderOnly:function(f){this.element.toggleCls(this.expanderOnlyCls,!f)},updateHighlightPath:function(f){this.element.toggleCls(this.highlightPathCls,f)},onElResize:function(g,k){if(!this.getMicro()){this.expandedWidth=k.width}},updateMicro:function(k){var g=this;if(!k){g.unfloatAll();g.activeFloater=null}g.element.toggleCls(g.microCls,k)},updateUi:function(l,o){var m=this.element,n=this.uiPrefix;if(o){m.removeCls(n+o)}if(l){m.addCls(n+l)}delete this.iconSize;this.syncIconSize()},getItem:function(l){var k=this.itemMap,m;if(l&&k){m=k[l.internalId]}return m||null},getItemConfig:function(g,k){return Ext.apply({parentItem:k.isRootListItem?null:k,owner:this,node:g,indent:this.getIndent()},this.getDefaults())},privates:{checkForOutsideClick:function(e){var k=this.activeFloater;if(!k.element.contains(e.target)){this.unfloatAll()}},collapsingForExpand:false,createItem:function(o,t){var p=this,q=Ext.create(p.getItemConfig(o,t)),v=p.toolsElement,u,s;if(t.isRootListItem){u=q.getToolElement();if(u){s=p.findVisiblePreviousSibling(o);if(!s){v.insertFirst(u)}else{s=p.getItem(s);u.insertAfter(s.getToolElement())}u.dom.setAttribute("data-recordId",o.internalId);u.isTool=true}}p.itemMap[o.internalId]=q;return q},createRootItem:function(m){var k=this,l;k.itemMap={};k.rootItem=l=new Ext.list.RootTreeItem({indent:k.getIndent(),node:m,owner:k});k.element.appendChild(l.element);k.itemMap[m.internalId]=l},findVisiblePreviousSibling:function(g){var k=g.previousSibling;while(k){if(k.data.visible){return k}k=k.previousSibling}return null},floatItem:function(l,n){var m=this,o;if(l.getFloated()){return}if(m.toolMouseListeners){m.toolMouseListeners.destroy();m.floaterMouseListeners.destroy()}m.unfloatAll();m.activeFloater=o=l;m.floatedByHover=n;l.setFloated(true);if(n){m.toolMouseListeners=l.getToolElement().monitorMouseLeave(300,m.checkForMouseLeave,m);m.floaterMouseListeners=(l.floater||l).el.monitorMouseLeave(300,m.checkForMouseLeave,m)}else{Ext.on("mousedown","checkForOutsideClick",m)}},onClick:function(l){var m=l.getTarget("[data-recordId]"),e;if(m){e=m.getAttribute("data-recordId");m=this.itemMap[e];if(m){m.onClick(l)}}},onMouseEnter:function(e){this.onMouseOver(e)},onMouseLeave:function(){this.setOverItem(null)},onMouseOver:function(e){var k=Ext.Component.fromElement(e.getTarget());this.setOverItem(k&&k.isTreeListItem&&k)},checkForMouseLeave:function(e){var l=this.activeFloater,m=e.getRelatedTarget();if(l){if(m!==l.getToolElement().dom&&!l.element.contains(m)){this.unfloatAll()}}},onFilterChange:function(f){this.onRootChange(f.getRoot())},onNodeAppend:function(m,k){if(m){var l=this.itemMap[m.internalId];if(l){l.nodeInsert(k,null)}}},onNodeCollapse:function(g){var k=this.itemMap[g.internalId];if(k){k.nodeCollapse(g,this.collapsingForExpand)}},onNodeExpand:function(p){var q=this,s=q.itemMap[p.internalId],x,u,t,v,w;if(s){if(!s.isRootItem&&q.getSingleExpand()){q.collapsingForExpand=true;v=(s.getParentItem()||q.rootItem).getNode();x=v.childNodes;for(t=0,u=x.length;t<u;++t){w=x[t];if(w!==p){w.collapse()}}q.collapsing=false}s.nodeExpand(p)}},onNodeInsert:function(o,l,n){var m=this.itemMap[o.internalId];if(m){m.nodeInsert(l,n)}},onNodeRemove:function(o,l,n){if(o&&!n){var m=this.itemMap[o.internalId];if(m){m.nodeRemove(l)}}},onNodeUpdate:function(q,m,p,n){var o=this.itemMap[m.internalId];if(o){o.nodeUpdate(m,n)}},onRootChange:function(k){var g=this;g.removeRoot();if(k){g.createRootItem(k)}g.updateLayout();g.fireEvent("refresh",g)},removeItem:function(o){var n=this.itemMap,m=o.internalId,p,q;if(n){p=n[m];if(p.getParentItem()===null){q=p.getToolElement();if(q){this.toolsElement.removeChild(q)}}delete n[m]}},removeRoot:function(){var g=this,k=g.rootItem;if(k){g.element.removeChild(k.element);g.rootItem=g.itemMap=Ext.destroy(k)}},onToolStripClick:function(l){var m=l.getTarget("[data-recordId]"),e;if(m){e=m.getAttribute("data-recordId");m=this.itemMap[e];if(m){if(m===this.activeFloater){this.unfloatAll()}else{this.floatItem(m,false)}}}},onToolStripMouseOver:function(l){var m=l.getTarget("[data-recordId]"),e;if(m){e=m.getAttribute("data-recordId");m=this.itemMap[e];if(m){this.floatItem(m,true)}}},syncIconSize:function(){var g=this,k=g.iconSize||(g.iconSize=parseInt(g.element.getStyle("background-position"),10));g.setIconSize(k)},unfloatAll:function(){var g=this,k=g.activeFloater;if(k){k.setFloated(false);g.activeFloater=null;if(g.floatedByHover){k.getToolElement().un("mouseleave","checkForMouseLeave",g);k.element.un({scope:g,mouseleave:"checkForMouseLeave",mouseover:"onMouseOver"})}else{Ext.un("mousedown","checkForOutsideClick",g)}}},defaultIconSize:22,updateIconSize:function(f){this.setIndent(f||this.defaultIconSize)},updateIndent:function(g){var k=this.rootItem;if(k){k.setIndent(g)}}}},1,["treelist"],["widget","treelist"],{widget:true,treelist:true},["widget.treelist"],0,[Ext.list,"Tree"],0));(Ext.cmd.derive("Ext.mixin.Responsive",Ext.Mixin,function(f){return{mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:undefined,merge:function(t,q,e,o){if(!t){return q}var s=q?Ext.Object.chain(q):{},p;for(p in t){if(!o||!(p in s)){s[p]={fn:null,config:t[p]}}}return s}},responsiveFormulas:{$value:0,merge:function(e,o,m,n){return this.mergeNew(e,o,m,n)}}},destroy:function(){f.unregister(this)},privates:{statics:{active:false,all:{},context:Ext.Object.chain(Ext.platformTags),count:0,nextId:0,activate:function(){f.active=true;f.updateContext();Ext.on("resize",f.onResize,f)},deactivate:function(){f.active=false;Ext.un("resize",f.onResize,f)},notify:function(){var o=f.all,p=f.context,q=Ext.GlobalEvents,e=f.timer,n;if(e){f.timer=null;Ext.asapCancel(e)}f.updateContext();Ext.suspendLayouts();q.fireEvent("beforeresponsiveupdate",p);for(n in o){o[n].setupResponsiveContext()}q.fireEvent("beginresponsiveupdate",p);for(n in o){o[n].updateResponsiveState()}q.fireEvent("responsiveupdate",p);Ext.resumeLayouts(true)},onResize:function(){if(!f.timer){f.timer=Ext.asap(f.onTimer)}},onTimer:function(){f.timer=null;f.notify()},processConfig:function(t,u,e){var v=u&&u[e],p=t.config,s,q;if(v){q=t.self.getConfigurator();s=q.configs[e];p[e]=s.merge(v,p[e],t)}},register:function(k){var e=k.$responsiveId;if(!e){k.$responsiveId=e=++f.nextId;f.all[e]=k;if(++f.count===1){f.activate()}}},unregister:function(k){var e=k.$responsiveId;if(e in f.all){k.$responsiveId=null;delete f.all[e];if(--f.count===0){f.deactivate()}}},updateContext:function(){var e=Ext.Element,m=e.getViewportWidth(),o=e.getViewportHeight(),n=f.context;n.width=m;n.height=o;n.tall=m<o;n.wide=!n.tall;n.landscape=n.portrait=false;if(!n.platform){n.platform=Ext.platformTags}n[Ext.dom.Element.getOrientation()]=true}},afterClassMixedIn:function(e){var n=e.prototype,q=n.responsiveConfig,o=n.responsiveFormulas,p;if(q||o){p={};if(q){delete n.responsiveConfig;p.responsiveConfig=q}if(o){delete n.responsiveFormulas;p.responsiveFormulas=o}e.getConfigurator().add(p)}},applyResponsiveConfig:function(e){for(var k in e){e[k].fn=Ext.createRuleFn(k)}return e},applyResponsiveFormulas:function(m){var n={},e,o;if(m){for(o in m){if(Ext.isString(e=m[o])){e=Ext.createRuleFn(e)}n[o]=e}}return n},getResponsiveState:function(){var p=f.context,e=this.getResponsiveConfig(),q={},o,n;if(e){for(n in e){o=e[n];if(o.fn.call(this,p)){Ext.merge(q,o.config)}}}return q},setupResponsiveContext:function(){var l=this.getResponsiveFormulas(),e=f.context,m;if(l){for(m in l){e[m]=l[m].call(this,e)}}},transformInstanceConfig:function(e){var l=this,m;f.register(l);if(e){f.processConfig(l,e,"responsiveConfig");f.processConfig(l,e,"responsiveFormulas")}l.setupResponsiveContext();m=l.getResponsiveState();if(e){m=Ext.merge({},e,m);delete m.responsiveConfig;delete m.responsiveFormulas}return m},updateResponsiveState:function(){var e=this.getResponsiveState();this.setConfig(e)}}}},0,0,0,0,0,0,[Ext.mixin,"Responsive"],0));(Ext.cmd.derive("Ext.mixin.StyleCacher",Ext.Mixin,{mixinConfig:{id:"stylecacher"},getCachedStyle:function(k,l){var m=this.$styleCache;if(!m){m=this.$styleCache={}}if(!(l in m)){m[l]=Ext.fly(k).getStyle(l)}return m[l]}},0,0,0,0,0,0,[Ext.mixin,"StyleCacher"],0));(Ext.cmd.derive("Ext.perf.Accumulator",Ext.Base,function(){var x=null,t=Ext.global.chrome,w,y=function(){y=Ext.now;var g,f;if(Ext.isChrome&&t&&t.Interval){g=new t.Interval();g.start();y=function(){return g.microseconds()/1000}}else{if(window.ActiveXObject){try{f=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=f;y=function(){return f.milliseconds}}catch(e){}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=y;return y()};function s(e,f){e.sum+=f;e.min=Math.min(e.min,f);e.max=Math.max(e.max,f)}function v(e){var g=e?e:(y()-this.time),f=this,k=f.accum;++k.count;if(!--k.depth){s(k.total,g)}s(k.pure,g-f.childTime);x=f.parent;if(x){++x.accum.childCount;x.childTime+=g}}function z(){return{min:Number.MAX_VALUE,max:0,sum:0}}function q(e,f){return function(){var g=e.enter(),k=f.apply(this,arguments);g.leave();return k}}function u(g,k,l,e){var f={avg:0,min:e.min,max:e.max,sum:0};if(g){l=l||0;f.sum=e.sum-k*l;f.avg=f.sum/g}return f}return{constructor:function(f){var e=this;e.count=e.childCount=e.depth=e.maxDepth=0;e.pure=z();e.total=z();e.name=f},statics:{getTimestamp:y},format:function(f){if(!w){w=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(g){return Math.round(g*100)/100}})}var e=this.getData(f);e.name=this.name;e.pure.type="Pure";e.total.type="Total";e.times=[e.pure,e.total];return w.apply(e)},getData:function(f){var e=this;return{count:e.count,childCount:e.childCount,depth:e.maxDepth,pure:u(e.count,e.childCount,f,e.pure),total:u(e.count,e.childCount,f,e.total)}},enter:function(){var f=this,e={accum:f,leave:v,childTime:0,parent:x};++f.depth;if(f.maxDepth<f.depth){f.maxDepth=f.depth}x=e;e.time=y();return e},monitor:function(f,g,k){var e=this.enter();if(k){f.apply(g,k)}else{f.call(g)}e.leave()},report:function(){Ext.log(this.format())},tap:function(l,g){var k=this,D=typeof g==="string"?[g]:g,m,f,o,p,E,F,e,n;n=function(){if(typeof l==="string"){m=Ext.global;p=l.split(".");for(o=0,E=p.length;o<E;++o){m=m[p[o]]}}else{m=l}for(o=0,E=D.length;o<E;++o){F=D[o];f=F.charAt(0)==="!";if(f){F=F.substring(1)}else{f=!(F in m.prototype)}e=f?m:m.prototype;e[F]=q(k,e[F])}};Ext.ClassManager.onCreated(n,k,l);return k}}},1,0,0,0,0,0,[Ext.perf,"Accumulator"],function(){Ext.perf.getTimestamp=this.getTimestamp}));(Ext.cmd.derive("Ext.perf.Monitor",Ext.Base,{singleton:true,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var t=new Ext.perf.Accumulator("$"),o=t.total,s=Ext.perf.Accumulator.getTimestamp,p=0,v,u,q;q=s();do{v=t.enter();v.leave();++p}while(o.sum<100);u=s();return(u-q)/p},get:function(l){var k=this,m=k.accumulatorsByName[l];if(!m){k.accumulatorsByName[l]=m=new Ext.perf.Accumulator(l);k.accumulators.push(m)}return m},enter:function(f){return this.get(f).enter()},monitor:function(m,k,l){this.get(m).monitor(k,l)},report:function(){var k=this,l=k.accumulators,m=k.calibrate();l.sort(function(e,f){return(e.name<f.name)?-1:((f.name<e.name)?1:0)});k.updateGC();Ext.log("Calibration: "+Math.round(m*100)/100+" msec/sample");Ext.each(l,function(e){Ext.log(e.format(m))})},getData:function(k){var l={},m=this.accumulators;Ext.each(m,function(e){if(k||e.count){l[e.name]=e.getData()}});return l},reset:function(){Ext.each(this.accumulators,function(k){var g=k;g.count=g.childCount=g.depth=g.maxDepth=0;g.pure={min:Number.MAX_VALUE,max:0,sum:0};g.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var m=this.accumulatorsByName.GC,l=Ext.senchaToolbox,k;if(m){m.count=l.garbageCollectionCounter||0;if(m.count){k=m.pure;m.total.sum=k.sum=l.garbageCollectionMilliseconds;k.min=k.max=k.sum/m.count;k=m.total;k.min=k.max=k.sum/m.count}}},watchGC:function(){Ext.perf.getTimestamp();var f=Ext.senchaToolbox;if(f){this.get("GC");f.watchGarbageCollector(false)}},setup:function(q){if(!q){q={render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}}}this.currentConfig=q;var p,n,s,o,t;for(p in q){if(q.hasOwnProperty(p)){n=q[p];s=Ext.Perf.get(p);for(o in n){if(n.hasOwnProperty(o)){t=n[o];s.tap(o,t)}}}}this.watchGC()},setupLog:function(q){var o,t,s,n,p;for(o in q){if(q.hasOwnProperty(o)){t=Ext.ClassManager.get(o);if(t){s=q[o];p={};for(n in s){p[n]=(function(f,e){return function(){var l,k,g,m,v;l=+Date.now();v=this.callParent(arguments);k=+Date.now()-l;if(window.console&&k>0){m=e==="this"?this:typeof e==="string"?this[e]:typeof e==="number"?arguments[e]:null;if(m){g=m.id}if(g!=null){console.log(f+" for "+g+": "+k+"ms")}else{console.log(f+" for unknown: "+k+"ms")}if(console.trace){console.trace()}}return v}})(n,s[n])}Ext.override(t,p)}}}}},1,0,0,0,0,0,[Ext.perf,"Monitor",Ext,"Perf"],0));(Ext.cmd.derive("Ext.plugin.Abstract",Ext.Base,{alternateClassName:"Ext.AbstractPlugin",isPlugin:true,constructor:function(f){if(f){this.pluginConfig=f;this.initConfig(f)}},clonePlugin:function(f){return new this.self(Ext.apply({},f,this.pluginConfig))},getCmp:function(){return this.cmp},setCmp:function(f){this.cmp=f},init:Ext.emptyFn,destroy:function(){this.cmp=this.pluginConfig=null;this.callParent()},onClassExtended:function(p,m,q){var n=m.alias,o=p.prototype;if(n&&!m.ptype){if(Ext.isArray(n)){n=n[0]}o.ptype=n.split("plugin.")[1]}},resolveListenerScope:function(l){var m=this,n=m.getCmp(),o;if(n){o=n.resolveSatelliteListenerScope(m,l)}return o||m.mixins.observable.resolveListenerScope.call(m,l)}},1,0,0,0,0,0,[Ext.plugin,"Abstract",Ext,"AbstractPlugin"],0));Ext.define("Ext.overrides.plugin.Abstract",{override:"Ext.plugin.Abstract",$configStrict:false,$configPrefixed:false,disabled:false,getState:null,applyState:null,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});(Ext.cmd.derive("Ext.util.Color",Ext.Base,{alternateClassName:"Ext.draw.Color",statics:{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbToHexRe:/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbaToHexRe:/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\.\d]+)\)/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,NONE:"none",RGBA_NONE:"rgba(0, 0, 0, 0)"},isColor:true,lightnessFactor:0.2,constructor:function(l,n,o,m){this.setRGB(l,n,o,m)},clone:function(){var f=this;return new this.self(f.r,f.g,f.b,f.a)},setRGB:function(m,o,q,n){var p=this;p.r=Math.min(255,Math.max(0,m));p.g=Math.min(255,Math.max(0,o));p.b=Math.min(255,Math.max(0,q));if(n===undefined){p.a=1}else{p.a=Math.min(1,Math.max(0,n))}},getBrightness:function(){var g=this.r/255*100,l=this.g/255*100,m=this.b/255*100;return((g*299)+(l*587)+(m*114))/1000},getGrayscale:function(){return this.r*0.3+this.g*0.59+this.b*0.11},getHSL:function(){var s=this,z=s.r/255,v=s.g/255,l=s.b/255,g=Math.max(z,v,l),x=Math.min(z,v,l),B=g-x,w,A=0,y=0.5*(g+x);if(x!==g){A=(y<=0.5)?B/(g+x):B/(2-g-x);if(z===g){w=60*(v-l)/B}else{if(v===g){w=120+60*(l-z)/B}else{w=240+60*(z-v)/B}}if(w<0){w+=360}if(w>=360){w-=360}}return[w,A,y]},getHSV:function(){var v=this,A=v.r/255,w=v.g/255,u=v.b/255,s=Math.max(A,w,u),y=Math.min(A,w,u),z=s-y,x,B=0,g=s;if(y!=s){B=g?z/g:0;if(A===s){x=60*(w-u)/z}else{if(w===s){x=60*(u-A)/z+120}else{x=60*(A-w)/z+240}}if(x<0){x+=360}if(x>=360){x-=360}}return[x,B,g]},setHSL:function(w,x,l){var v=this,m=Math.abs,t,s,u;w=(w%360+360)%360;x=x>1?1:x<0?0:x;l=l>1?1:l<0?0:l;if(x===0||w===null){l*=255;v.setRGB(l,l,l)}else{w/=60;t=x*(1-m(2*l-1));s=t*(1-m(w%2-1));u=l-t/2;u*=255;t*=255;s*=255;switch(Math.floor(w)){case 0:v.setRGB(t+u,s+u,u);break;case 1:v.setRGB(s+u,t+u,u);break;case 2:v.setRGB(u,t+u,s+u);break;case 3:v.setRGB(u,s+u,t+u);break;case 4:v.setRGB(s+u,u,t+u);break;case 5:v.setRGB(t+u,u,s+u);break}}return v},setHSV:function(m,p,q){var v=this,u,s,t;m=(m%360+360)%360;p=p>1?1:p<0?0:p;q=q>1?1:q<0?0:q;if(p===0||m===null){q*=255;v.setRGB(q,q,q)}else{m/=60;u=q*p;s=u*(1-Math.abs(m%2-1));t=q-u;t*=255;u*=255;s*=255;switch(Math.floor(m)){case 0:v.setRGB(u+t,s+t,t);break;case 1:v.setRGB(s+t,u+t,t);break;case 2:v.setRGB(t,u+t,s+t);break;case 3:v.setRGB(t,s+t,u+t);break;case 4:v.setRGB(s+t,t,u+t);break;case 5:v.setRGB(u+t,t,s+t);break}}return v},createLighter:function(g){var k=this.clone();k.lighten(g);return k},lighten:function(g){if(!g&&g!==0){g=this.lightnessFactor}var k=this.getHSL();this.setHSL(k[0],k[1],Ext.Number.constrain(k[2]+g,0,1))},createDarker:function(g){var k=this.clone();k.darken(g);return k},darken:function(f){if(!f&&f!==0){f=this.lightnessFactor}return this.lighten(-f)},toString:function(){var g=this,p=Math.round;if(g.a===1){var n=p(g.r).toString(16),o=p(g.g).toString(16),q=p(g.b).toString(16);n=(n.length===1)?"0"+n:n;o=(o.length===1)?"0"+o:o;q=(q.length===1)?"0"+q:q;return["#",n,o,q].join("")}else{return"rgba("+[p(g.r),p(g.g),p(g.b),g.a===0?0:g.a.toFixed(15)].join(", ")+")"}},toHex:function(p){var g=this.r,n=this.g,q=this.b,o=q|(n<<8)|(g<<16);return"#"+("000000"+o.toString(16)).slice(-6)},setFromString:function(u){var q,g,p,t,s=1,v=parseInt;if(u===Ext.util.Color.NONE){this.r=this.g=this.b=this.a=0;return this}if((u.length===4||u.length===7)&&u.substr(0,1)==="#"){q=u.match(Ext.util.Color.hexRe);if(q){g=v(q[1],16)>>0;p=v(q[2],16)>>0;t=v(q[3],16)>>0;if(u.length===4){g+=(g*16);p+=(p*16);t+=(t*16)}}}else{if((q=u.match(Ext.util.Color.rgbToHexRe))){g=+q[1];p=+q[2];t=+q[3]}else{if((q=u.match(Ext.util.Color.rgbaToHexRe))){g=+q[1];p=+q[2];t=+q[3];s=+q[4]}else{if(Ext.util.Color.ColorList.hasOwnProperty(u.toLowerCase())){return this.setFromString(Ext.util.Color.ColorList[u.toLowerCase()])}}}}if(typeof g==="undefined"){return this}this.r=g;this.g=p;this.b=t;this.a=s;return this}},3,0,0,0,0,0,[Ext.util,"Color",Ext.draw,"Color"],function(){var f=new this();this.addStatics({fly:function(e,n,o,m){switch(arguments.length){case 1:f.setFromString(e);break;case 3:case 4:f.setRGB(e,n,o,m);break;default:return null}return f},ColorList:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fromHSL:function(e,l,m){return(new this(0,0,0,0)).setHSL(e,l,m)},fromHSV:function(e,l,m){return(new this(0,0,0,0)).setHSL(e,l,m)},fromString:function(e){return(new this(0,0,0,0)).setFromString(e)},create:function(e){if(e instanceof this){return e}else{if(Ext.isArray(e)){return new Ext.util.Color(e[0],e[1],e[2],e[3])}else{if(Ext.isString(e)){return Ext.util.Color.fromString(e)}else{if(arguments.length>2){return new Ext.util.Color(arguments[0],arguments[1],arguments[2],arguments[3])}else{return new Ext.util.Color(0,0,0,0)}}}}}})}));(Ext.cmd.derive("Ext.util.Base64",Ext.Base,{singleton:true,_str:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(z){var A=this;var D="",E,u,w,F,v,x,y,C=0;z=A._utf8_encode(z);var B=z.length;while(C<B){E=z.charCodeAt(C++);u=z.charCodeAt(C++);w=z.charCodeAt(C++);F=E>>2;v=((E&3)<<4)|(u>>4);x=((u&15)<<2)|(w>>6);y=w&63;if(isNaN(u)){x=y=64}else{if(isNaN(w)){y=64}}D=D+A._str.charAt(F)+A._str.charAt(v)+A._str.charAt(x)+A._str.charAt(y)}return D},decode:function(z){var A=this;var D="",E,u,w,F,v,x,y,C=0;z=z.replace(/[^A-Za-z0-9\+\/\=]/g,"");var B=z.length;while(C<B){F=A._str.indexOf(z.charAt(C++));v=A._str.indexOf(z.charAt(C++));x=A._str.indexOf(z.charAt(C++));y=A._str.indexOf(z.charAt(C++));E=(F<<2)|(v>>4);u=((v&15)<<4)|(x>>2);w=((x&3)<<6)|y;D=D+String.fromCharCode(E);if(x!==64){D=D+String.fromCharCode(u)}if(y!==64){D=D+String.fromCharCode(w)}}D=A._utf8_decode(D);return D},_utf8_encode:function(o){o=o.replace(/\r\n/g,"\n");var p="",m=0,q=o.length;for(;m<q;m++){var n=o.charCodeAt(m);if(n<128){p+=String.fromCharCode(n)}else{if((n>127)&&(n<2048)){p+=String.fromCharCode((n>>6)|192);p+=String.fromCharCode((n&63)|128)}else{p+=String.fromCharCode((n>>12)|224);p+=String.fromCharCode(((n>>6)&63)|128);p+=String.fromCharCode((n&63)|128)}}}return p},_utf8_decode:function(t){var q="",o=0,v=0,s=0,p=0,u=t.length;while(o<u){v=t.charCodeAt(o);if(v<128){q+=String.fromCharCode(v);o++}else{if((v>191)&&(v<224)){p=t.charCodeAt(o+1);q+=String.fromCharCode(((v&31)<<6)|(p&63));o+=2}else{p=t.charCodeAt(o+1);s=t.charCodeAt(o+2);q+=String.fromCharCode(((v&15)<<12)|((p&63)<<6)|(s&63));o+=3}}}return q}},0,0,0,0,0,0,[Ext.util,"Base64"],0));(Ext.cmd.derive("Ext.util.DelimitedValue",Ext.Base,{dateFormat:"C",delimiter:"\t",lineBreak:"\n",quote:'"',parseREs:{},quoteREs:{},lineBreakRe:/\r?\n/g,lastLineBreakRe:/(\r?\n|\r)$/,constructor:function(f){if(f){Ext.apply(this,f)}},decode:function(w,E){if(!w){return[]}var y=this,D=E||y.delimiter,H=[],G=[H],F=y.quote,A=y.quoteREs,J=y.parseREs,w=w.replace(y.lastLineBreakRe,""),I=J[D]||(J[D]=new RegExp("(\\"+D+"|\\r?\\n|\\r|^)(?:\\"+F+"([^\\"+F+"]*(?:\\"+F+"\\"+F+"[^\\"+F+"]*)*)\\"+F+'|([^"\\'+D+"\\r\\n]*))","gi")),B=A[F]||(A[F]=new RegExp("\\"+F+"\\"+F,"g")),z,C,x;while(z=I.exec(w)){C=z[1];if(C.length&&C!==D){G.push(H=[])}if(z[2]){x=z[2].replace(B,'"')}else{x=z[3]}H.push(x)}return G},encode:function(I,D){var x=this,B=D||x.delimiter,C=x.dateFormat,E=x.quote,w=E+E,J=I.length,z=x.lineBreakRe,G=[],F=[],A,y,H;while(J-->0){H=I[J];F.length=y=H.length;while(y-->0){A=H[y];if(A==null){A=""}else{if(typeof A==="string"){if(A){if(A.indexOf(E)>-1){A=E+A.split(E).join(w)+E}else{if(A.indexOf(B)>-1||z.test(A)){A=E+A+E}}}}else{if(Ext.isDate(A)){A=Ext.Date.format(A,C)}}}F[y]=A}G[J]=F.join(B)}return G.join(x.lineBreak)}},1,0,0,0,0,0,[Ext.util,"DelimitedValue"],0));(Ext.cmd.derive("Ext.util.LocalStorage",Ext.Base,{id:null,destroyed:false,lazyKeys:true,prefix:"",session:false,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(m){var n=this,p=n.cache,o={_users:1},q;if(Ext.isString(m)){o.id=m}else{Ext.apply(o,m)}if(!(q=p[o.id])){q=new n(o)}else{++q._users}return q},supported:true},constructor:function(k){var g=this;Ext.apply(g,k);if(g._users){Ext.util.LocalStorage.cache[g.id]=g}g.init()},init:function(){var k=this,g=k.id;if(!k.prefix&&g){k.prefix=g+"-"}k._store=(k.session?window.sessionStorage:window.localStorage)},destroy:function(){var f=this;delete Ext.util.LocalStorage.cache[f.id];f._store=f._keys=null;f.callParent()},getKeys:function(){var p=this,u=p._store,n=p.prefix,q=p._keys,v=n.length,s,t;if(!q){p._keys=q=[];for(s=u.length;s--;){t=u.key(s);if(t.length>v){if(n===t.substring(0,v)){q.push(t.substring(v))}}}}return q},release:function(){if(!--this._users){this.destroy()}},save:Ext.emptyFn,clear:function(){var n=this,q=n._store,m=n.prefix,o=n._keys||n.getKeys(),p;for(p=o.length;p--;){q.removeItem(m+o[p])}o.length=0},key:function(k){var g=this._keys||this.getKeys();return(0<=k&&k<g.length)?g[k]:null},getItem:function(g){var k=this.prefix+g;return this._store.getItem(k)},removeItem:function(p){var t=this,q=t.prefix+p,s=t._store,k=t._keys,o=s.length;s.removeItem(q);if(k&&o!==s.length){if(t.lazyKeys){t._keys=null}else{Ext.Array.remove(k,p)}}},setItem:function(q,u){var v=this,s=v.prefix+q,t=v._store,k=t.length,p=v._keys;t.setItem(s,u);if(p&&k!==t.length){p.push(q)}}},1,0,0,0,0,0,[Ext.util,"LocalStorage"],function(){var f=this;if("localStorage" in window){return}if(!Ext.isIE){f.supported=false;return}f.override({data:null,flushDelay:1,init:function(){var l=this,e=l.data,m;l.el=m=document.createElement("div");m.id=(l.id||(l.id="extjs-localstore"));m.addBehavior("#default#userdata");Ext.getHead().dom.appendChild(m);m.load(l.id);e=m.getAttribute("xdata");l.data=e=(e?Ext.decode(e):{});l._flushFn=function(){l._timer=null;l.save(0)}},destroy:function(){var e=this,k=e.el;if(k){if(e._timer){e.save()}k.parentNode.removeChild(k);e.data=e.el=null;e.callParent()}},getKeys:function(){var e=this,k=e._keys;if(!k){e._keys=k=Ext.Object.getKeys(e.data)}return k},save:function(k){var e=this;if(!k){if(e._timer){clearTimeout(e._timer);e._timer=null}e.el.setAttribute("xdata",Ext.encode(e.data));e.el.save(e.id)}else{if(!e._timer){e._timer=Ext.defer(e._flushFn,k)}}},clear:function(){var e=this;e.data={};e._keys=null;e.save(e.flushDelay)},getItem:function(k){var e=this.data;return(k in e)?e[k]:null},removeItem:function(o){var m=this,n=m._keys,e=m.data;if(o in e){delete e[o];if(n){if(m.lazyKeys){m._keys=null}else{Ext.Array.remove(n,o)}}m.save(m.flushDelay)}},setItem:function(q,e){var o=this,n=o.data,p=o._keys;if(p&&!(q in n)){p.push(q)}n[q]=e;o.save(o.flushDelay)}})}));(Ext.cmd.derive("Ext.util.TSV",Ext.util.DelimitedValue,{singleton:true,delimiter:"\t"},0,0,0,0,0,0,[Ext.util,"TSV"],0));Ext.define(null,{override:"Ext.event.publisher.Focus",compatibility:Ext.isIE10m,publishDelegatedDomEvent:function(e){var m=document.body,l=Ext.synchronouslyFocusing;if(l&&((e.type==="focusout"&&(e.srcElement===l||e.srcElement===window)&&e.toElement===m)||(e.type==="focusin"&&(e.srcElement===m||e.srcElement===window)&&e.fromElement===l&&e.toElement===null))){return}this.callParent([e])}});Ext.define(null,{override:"Ext.form.field.Checkbox",compatibility:Ext.isIE8,changeEventName:"propertychange",onChangeEvent:function(e){if(this.duringSetRawValue||e.browserEvent.propertyName!=="checked"){return}this.callParent([e])},updateCheckedCls:function(l){var m=this,k=m.displayEl;m.callParent([l]);if(k&&l!==m.lastValue){k.repaint()}}});Ext.define(null,{override:"Ext.form.field.Radio",compatibility:Ext.isIE8,getSubTplData:function(k){var g=this.callParent([k]);delete g.checked;return g},afterRender:function(){this.callParent();if(this.checked){this.inputEl.dom.checked=true}},onChange:function(g,k){this.callSuper([g,k])}});Ext.define(null,{override:"Ext.scroll.Scroller",compatibility:Ext.isIE8,privates:{doScrollTo:function(u,v,B){var w=this,z=w.getElement(),y,A,t,s,x;if(z&&!z.destroyed){A=this.getElement().dom;s=(u===Infinity);x=(v===Infinity);if(s||x){y=w.getMaxPosition();if(s){u=y.x}if(x){v=y.y}}u=w.convertX(u);if(B){t={};if(v!=null){t.scrollTop=v}if(u!=null){t.scrollLeft=u}z.animate(Ext.mergeIf({to:{scrollTop:v,scrollLeft:u}},B))}else{if(u!=null&&v!=null){w.deferDomScroll=true}if(v!=null){A.scrollTop=v}if(u!=null){A.scrollLeft=u}if(w.deferDomScroll){w.deferDomScroll=false;+A.scrollLeft;A.scrollLeft=u}}w.positionDirty=true}},onDomScroll:function(){var f=this;if(f.deferDomScroll){return}f.callParent()}}});(Ext.cmd.derive("Ext.ElementLoader",Ext.Base,{statics:{Renderer:{Html:function(m,l,k){m.getTarget().setHtml(l.responseText,k.scripts===true,k.rendererScope);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(l){var k=this,m;k.mixins.observable.constructor.call(k,l);k.setTarget(k.target);if(k.autoLoad){m=k.autoLoad;if(m===true){m=null}k.load(m)}},setTarget:function(g){var k=this;g=Ext.get(g);if(k.target&&k.target!==g){k.abort()}k.target=g},getTarget:function(){return this.target||null},abort:function(){var f=this.active;if(f!==undefined){Ext.Ajax.abort(f.request);if(f.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(f){this.target.mask(f===true?null:f)},load:function(s){s=Ext.apply({},s);var p=this,u=Ext.isDefined(s.loadMask)?s.loadMask:p.loadMask,o=Ext.apply({},s.params),t=Ext.apply({},s.ajaxOptions),v=s.callback||p.callback,q=s.scope||p.scope||p;Ext.applyIf(t,p.ajaxOptions);Ext.applyIf(s,t);Ext.applyIf(o,p.params);Ext.apply(o,p.baseParams);Ext.applyIf(s,{url:p.url});Ext.apply(s,{scope:p,params:o,callback:p.onComplete});if(p.fireEvent("beforeload",p,s)===false){return}if(u){p.addMask(u)}p.active={options:s,mask:u,scope:q,callback:v,success:s.success||p.success,failure:s.failure||p.failure,renderer:s.renderer||p.renderer,scripts:Ext.isDefined(s.scripts)?s.scripts:p.scripts};p.active.request=Ext.Ajax.request(s);p.setOptions(p.active,s)},setOptions:function(g,k){g.rendererScope=k.rendererScope||this.rendererScope||this},onComplete:function(t,o,u){var q=this,p=q.active,v,s;if(p){s=p.scope;v=p.rendererScope;if(o){o=q.getRenderer(p.renderer).call(v,q,u,p)!==false}if(o){Ext.callback(p.success,s,[q,u,t]);q.fireEvent("load",q,u,t)}else{Ext.callback(p.failure,s,[q,u,t]);q.fireEvent("exception",q,u,t)}Ext.callback(p.callback,s,[q,o,u,t]);if(p.mask){q.removeMask()}}delete q.active},getRenderer:function(f){if(Ext.isFunction(f)){return f}return this.statics().Renderer.Html},startAutoRefresh:function(m,l){var k=this;k.stopAutoRefresh();k.autoRefresh=Ext.interval(function(){k.load(l)},m)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);this.autoRefresh=null},isAutoRefreshing:function(){return !!this.autoRefresh},destroy:function(){var f=this;f.stopAutoRefresh();f.abort();f.callParent()}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable]],[Ext,"ElementLoader"],0));(Ext.cmd.derive("Ext.ComponentLoader",Ext.ElementLoader,{statics:{Renderer:{Data:function(q,p,n){var e=true;try{q.getTarget().update(Ext.decode(p.responseText))}catch(o){e=false}return e},Component:function(t,q,v){var u=true,e=t.getTarget(),s=[];try{s=Ext.decode(q.responseText)}catch(p){u=false}if(u){e.suspendLayouts();if(v.removeAll){e.removeAll()}e.add(s);e.resumeLayouts(true)}return u}}},target:null,loadOnRender:false,loadMask:false,renderer:"html",setTarget:function(g){var k=this;if(Ext.isString(g)){g=Ext.getCmp(g)}if(k.target&&k.target!==g){k.abort()}k.target=g;if(g&&k.loadOnRender){if(g.rendered){k.doLoadOnRender()}else{k.mon(g,"render",k.doLoadOnRender,k)}}},doLoadOnRender:function(){var f=this.loadOnRender;this.load(Ext.isObject(f)?f:null)},removeMask:function(){this.target.setLoading(false)},addMask:function(f){this.target.setLoading(f)},setOptions:function(g,k){g.removeAll=Ext.isDefined(k.removeAll)?k.removeAll:this.removeAll;g.rendererScope=k.rendererScope||this.rendererScope||this.target},getRenderer:function(g){if(Ext.isFunction(g)){return g}var k=this.statics().Renderer;switch(g){case"component":return k.Component;case"data":return k.Data;default:return Ext.ElementLoader.Renderer.Html}}},0,0,0,0,0,0,[Ext,"ComponentLoader"],0));(Ext.cmd.derive("Ext.layout.container.Editor",Ext.layout.container.Container,{autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(n){var o=this,q=o.owner.autoSize,p=q&&q.width,m=o.sizePolicies;m=m[p]||m.$;p=q&&q.height;m=m[p]||m.$;return m},calculate:function(n){var o=this,s=o.owner,t=s.autoSize,p,q;if(t===true){t=o.autoSizeDefault}if(t){p=o.getDimension(s,t.width,"getWidth",s.width);q=o.getDimension(s,t.height,"getHeight",s.height)}n.childItems[0].setSize(p,q);n.setWidth(p);n.setHeight(q);n.setContentSize(p||s.field.getWidth(),q||s.field.getHeight())},getDimension:function(o,n,l,m){switch(n){case"boundEl":return o.boundEl[l]();case"field":return undefined;default:return m}}},0,0,0,0,["layout.editor"],0,[Ext.layout.container,"Editor"],0));(Ext.cmd.derive("Ext.Editor",Ext.container.Container,{layout:"editor",allowBlur:true,revertInvalid:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,focusOnToFront:false,baseCls:"x-editor",editing:false,preventDefaultAlign:true,useBoundValue:true,specialKeyDelay:1,initComponent:function(){var k=this,g=k.field=Ext.ComponentManager.create(k.field||{},"textfield");g.msgTarget=g.msgTarget||"qtip";k.mon(g,{scope:k,specialkey:k.onSpecialKey});if(g.grow){k.mon(g,"autosize",k.onFieldAutosize,k,{delay:1})}k.floating={constrain:k.constrain};k.items=g;Ext.container.Container.prototype.initComponent.call(this)},onAdded:function(f){this.ownerCmp=f},onFieldAutosize:function(){this.updateLayout()},afterRender:function(p,q){var o=this,m=o.field,n=m.inputEl;Ext.container.Container.prototype.afterRender.apply(this,arguments);if(n){n.dom.name="";if(o.swallowKeys){n.swallowEvent(["keypress","keydown"])}}},onSpecialKey:function(v,o){var p=this,s=o.getKey(),u=p.completeOnEnter&&s===o.ENTER,q=p.cancelOnEsc&&s===o.ESC,t=p.specialKeyTask;if(u||q){o.stopEvent();if(!t){p.specialKeyTask=t=new Ext.util.DelayedTask()}t.delay(p.specialKeyDelay,u?p.completeEdit:p.cancelEdit,p)}p.fireEvent("specialkey",p,v,o)},startEdit:function(t,q,v){var s=this,p=s.field,w,u,x;s.completeEdit(true);s.boundEl=Ext.get(t);w=s.boundEl.dom;if(s.useBoundValue&&!Ext.isDefined(q)){q=Ext.String.trim(w.textContent||w.innerText||w.innerHTML)}if(s.fireEvent("beforestartedit",s,s.boundEl,q)!==false){if(s.context){q=s.context.value}Ext.suspendLayouts();if(!s.rendered){u=s.ownerCt;x=s.renderTo||(u&&u.getEl())||Ext.getBody();Ext.fly(x).position();s.renderTo=x}s.startValue=q;s.show();s.realign(true);p.suspendEvents();p.setValue(q);p.resetOriginalValue();p.resumeEvents();if(v!==false){p.focus(p.selectOnFocus?true:[Number.MAX_VALUE])}if(p.autoSize){p.autoSize()}Ext.resumeLayouts(true);s.toggleBoundEl(false);s.editing=true}},realign:function(k){var g=this;if(k===true){g.updateLayout()}g.alignTo(g.boundEl,g.alignment,g.offsets)},completeEdit:function(t){var p=this,n=p.field,s=p.startValue,q=p.context&&p.context.cancel,o;if(!p.editing){return}if(n.assertValue){n.assertValue()}o=p.getValue();if(!n.isValid()){if(p.revertInvalid!==false){p.cancelEdit(t)}return}if(p.ignoreNoChange&&!n.didValueChange(o,s)){p.onEditComplete(t);return}if(p.fireEvent("beforecomplete",p,o,s)!==false){o=p.getValue();if(p.updateEl&&p.boundEl){p.boundEl.setHtml(o)}p.onEditComplete(t,q);p.fireEvent("complete",p,o,s)}},onShow:function(){var f=this;Ext.container.Container.prototype.onShow.apply(this,arguments);f.fireEvent("startedit",f,f.boundEl,f.startValue)},cancelEdit:function(q){var o=this,p=o.startValue,m=o.field,n;if(o.editing){if(m){n=o.editedValue=o.getValue();m.suspendEvents();o.setValue(p);m.resumeEvents()}o.onEditComplete(q,true);o.fireEvent("canceledit",o,n,p);delete o.editedValue}},onEditComplete:function(g,k){this.editing=false;if(g!==true){this.hide();this.toggleBoundEl(true)}},onFocusLeave:function(e){var k=this;if(k.allowBlur===true&&k.editing){k.completeEdit()}Ext.container.Container.prototype.onFocusLeave.call(this,e)},onHide:function(){var k=this,g=k.field;if(k.editing){k.completeEdit()}else{if(g.collapse){g.collapse()}}Ext.container.Container.prototype.onHide.apply(this,arguments)},getValue:function(){return this.field.getValue()},setValue:function(f){this.field.setValue(f)},toggleBoundEl:function(f){if(this.hideEl!==false){this.boundEl.setVisible(f)}},doDestroy:function(){var g=this,k=g.specialKeyTask;if(k){k.cancel()}Ext.destroy(g.field);Ext.container.Container.prototype.doDestroy.call(this)}},0,["editor"],["component","box","container","editor"],{component:true,box:true,container:true,editor:true},["widget.editor"],0,[Ext,"Editor"],0));(Ext.cmd.derive("Ext.Img",Ext.Component,{autoEl:"img",baseCls:"x-img",config:{src:null,glyph:null},alt:"",title:"",imgCls:"",maskOnDisable:false,applySrc:function(f){return f&&Ext.resolveResource(f)},getElConfig:function(){var n=this,m=n.autoEl,p=Ext.Component.prototype.getElConfig.call(this),o=n.glyph,q;if(o){p.tag="div";p.html=o.character;p.style=p.style||{};p.style.fontFamily=o.fontFamily;p.role="img"}else{if(m==="img"||(Ext.isObject(m)&&m.tag==="img")){q=p}else{p.cn=[q={tag:"img",id:n.id+"-img"}]}}if(q){if(n.imgCls){q.cls=(q.cls?q.cls+" ":"")+n.imgCls}q.src=n.src||Ext.BLANK_IMAGE_URL}if(n.alt){(q||p).alt=n.alt}else{(q||p).alt=""}if(n.title){(q||p).title=n.title}return p},onRender:function(){var l=this,k=l.autoEl,m;Ext.Component.prototype.onRender.apply(this,arguments);m=l.el;if(k==="img"||(Ext.isObject(k)&&k.tag==="img")){l.imgEl=m}else{l.imgEl=m.getById(l.id+"-img")}},doDestroy:function(){var k=this,g=k.imgEl;if(g&&k.el!==g){g.destroy()}k.imgEl=null;Ext.Component.prototype.doDestroy.call(this)},getTitle:function(){return this.title},setTitle:function(k){var m=this,l=m.imgEl;m.title=k||"";if(l){l.dom.title=k||""}},afterComponentLayout:function(o,t,q,n){var s=this.getSizeModel().height,p;if((s.calculated||s.configured)&&t&&this.glyph){p=t+"px";this.setStyle({"line-height":p,"font-size":p})}Ext.Component.prototype.afterComponentLayout.call(this,o,t,q,n)},getAlt:function(){return this.alt},setAlt:function(k){var m=this,l=m.imgEl;m.alt=k||"";if(l){l.dom.alt=k||""}},_naturalSize:null,getNaturalSize:function(){var o=this,s=o.imgEl,n=o._naturalSize,p,t,q;if(s&&!n){s=s.dom;o._naturalSize=n={width:t=s.naturalWidth,height:s.naturalHeight};if(!t){p=s.style;t=p.width;q=p.height;p.width=p.height="auto";n.width=s.width;n.height=s.height;p.width=t;p.height=q}n.aspect=n.width/n.height}return n},updateSrc:function(g){var k=this.imgEl;if(k){k.dom.src=g||Ext.BLANK_IMAGE_URL}},applyGlyph:function(g,k){if(g){if(!g.isGlyph){g=new Ext.Glyph(g)}if(g.isEqual(k)){g=undefined}}return g},updateGlyph:function(k,m){var l=this.el;if(l){l.dom.innerHTML=k.character;l.setStyle(k.getStyle())}}},0,["image","imagecomponent"],["component","box","image","imagecomponent"],{component:true,box:true,image:true,imagecomponent:true},["widget.image","widget.imagecomponent"],0,[Ext,"Img"],0));(Ext.cmd.derive("Ext.button.Split",Ext.button.Button,{alternateClassName:"Ext.SplitButton",isSplitButton:true,arrowCls:"split",split:true,getTemplateArgs:function(){var l=this,m,k;k=Ext.button.Button.prototype.getTemplateArgs.call(this);if(l.disabled){k.tabIndex=null}m=l.ariaArrowElAttributes||{};m["aria-hidden"]=!!l.hidden;m["aria-disabled"]=!!l.disabled;if(l.arrowTooltip){m["aria-label"]=l.arrowTooltip}else{m["aria-labelledby"]=l.id}k.arrowElAttributes=m;return k},onRender:function(){var g=this,k;Ext.button.Button.prototype.onRender.call(this);k=g.getFocusEl();if(k){k.on({scope:g,focus:g.onMainElFocus,blur:g.onMainElBlur})}k=g.arrowEl;if(k){k.dom.setAttribute("data-componentid",g.id);k.setVisibilityMode(Ext.dom.Element.DISPLAY);k.on({scope:g,focus:g.onArrowElFocus,blur:g.onArrowElBlur})}},setArrowHandler:function(g,k){this.arrowHandler=g;this.scope=k},onClick:function(e){var l=this,m=e.type==="keydown"&&e.target===l.arrowEl.dom;l.doPreventDefault(e);if(!l.disabled){if(m||l.isWithinTrigger(e)){e.preventDefault();l.maybeShowMenu(e);l.fireEvent("arrowclick",l,e);if(l.arrowHandler){l.arrowHandler.call(l.scope||l,l,e)}}else{l.doToggle();l.fireHandler(e)}}},enable:function(l){var k=this,m=k.arrowEl;Ext.button.Button.prototype.enable.call(this,l);if(m){m.dom.setAttribute("tabIndex",k.tabIndex);m.dom.setAttribute("aria-disabled","false")}},disable:function(l){var k=this,m=k.arrowEl;Ext.button.Button.prototype.disable.call(this,l);if(m){m.dom.removeAttribute("tabIndex");m.dom.setAttribute("aria-disabled","true")}},afterHide:function(k,g){Ext.button.Button.prototype.afterHide.call(this,k,g);this.arrowEl.dom.setAttribute("aria-hidden","true")},afterShow:function(k,m,l){Ext.button.Button.prototype.afterShow.call(this,k,m,l);this.arrowEl.dom.setAttribute("aria-hidden","false")},privates:{isFocusing:function(o){var p=this,t=o.fromElement,e=o.toElement,q=p.focusEl&&p.focusEl.dom,s=p.arrowEl&&p.arrowEl.dom;if(p.focusable){if(e===q){return t===s?false:true}else{if(e===s){return t===q?false:true}}return true}return false},isBlurring:function(o){var p=this,t=o.fromElement,e=o.toElement,q=p.focusEl&&p.focusEl.dom,s=p.arrowEl&&p.arrowEl.dom;if(p.focusable){if(t===q){return e===s?false:true}else{if(t===s){return e===q?false:true}}return true}return false},getFocusClsEl:Ext.privateFn,onMainElFocus:function(e){this.el.addCls(this._focusCls)},onMainElBlur:function(e){this.el.removeCls(this._focusCls)},onArrowElFocus:function(e){this.el.addCls(this._arrowFocusCls)},onArrowElBlur:function(){this.el.removeCls(this._arrowFocusCls)},setTabIndex:function(f){Ext.button.Button.prototype.setTabIndex.call(this,f);if(this.arrowEl){this.arrowEl.set({tabIndex:f})}},_addSplitCls:function(){var f=this.arrowEl;Ext.button.Button.prototype._addSplitCls.call(this);f.dom.setAttribute("tabIndex",this.tabIndex);f.setVisible(true)},_removeSplitCls:function(){var f=this.arrowEl;Ext.button.Button.prototype._removeSplitCls.call(this);f.dom.removeAttribute("tabIndex");f.setVisible(false)}}},0,["splitbutton"],["component","box","button","splitbutton"],{component:true,box:true,button:true,splitbutton:true},["widget.splitbutton"],0,[Ext.button,"Split",Ext,"SplitButton"],0));(Ext.cmd.derive("Ext.layout.container.SegmentedButton",Ext.layout.container.Container,{needsItemSize:false,setsItemSize:false,_btnRowCls:"x-segmented-button-row",getRenderTree:function(){var l=this,o=Ext.layout.container.Container.prototype.getRenderTree.call(this),n,m;if(l.owner.getVertical()){for(n=0,m=o.length;n<m;n++){o[n]={cls:l._btnRowCls,cn:o[n]}}}return o},getItemLayoutEl:function(k){var g=k.el.dom;return this.owner.getVertical()?g.parentNode:g},onDestroy:function(){if(this.rendered){var g=this.getRenderTarget(),k;while((k=g.last())){k.destroy()}}}},0,0,0,0,["layout.segmentedbutton"],0,[Ext.layout.container,"SegmentedButton"],0));(Ext.cmd.derive("Ext.button.Segmented",Ext.container.Container,{config:{allowDepress:false,allowMultiple:false,forceSelection:false,allowToggle:true,vertical:false,defaultUI:"default"},beforeRenderConfig:{value:undefined},defaultBindProperty:"value",publishes:["value"],twoWayBindable:["value"],layout:"segmentedbutton",defaultType:"button",maskOnDisable:false,isSegmentedButton:true,baseCls:"x-segmented-button",itemCls:"x-segmented-button-item",_firstCls:"x-segmented-button-first",_lastCls:"x-segmented-button-last",_middleCls:"x-segmented-button-middle",applyValue:function(v,D){var w=this,E=w.getAllowMultiple(),A,z,u,F,x,B,y,C;u=(v instanceof Array)?v:(v==null)?[]:[v];F=(D instanceof Array)?D:(D==null)?[]:[D];w._isApplyingValue=true;if(!w.rendered){x=w.items.items;for(B=x.length-1;B>=0;B--){z=x[B];if(w.forceSelection&&!B&&!C){z.pressed=true}if(z.pressed){C=true;A=z.value;if(A==null){A=w.items.indexOf(z)}if(!Ext.Array.contains(u,A)){u.unshift(A)}}}}y=u.length;for(B=0;B<y;B++){v=u[B];z=w._lookupButtonByValue(v);if(z){A=z.value;if((A!=null)&&A!==v){u[B]=A}if(!z.pressed){z.setPressed(true)}}}v=E?u:y?u[0]:null;for(B=0,y=F.length;B<y;B++){D=F[B];if(!Ext.Array.contains(u,D)){w._lookupButtonByValue(D).setPressed(false)}}w._isApplyingValue=false;return v},updateValue:function(m,o){var n=this,l;if(n.hasListeners.change){if(m&&o&&n.getAllowMultiple()){l=Ext.Array.equals(m,o)}if(!l){n.fireEvent("change",n,m,o)}}},beforeRender:function(){var f=this;f.addCls(f.baseCls+f._getClsSuffix());f._syncItemClasses(true);Ext.container.Container.prototype.beforeRender.call(this)},onAdd:function(k){var l=this,m="_syncItemClasses";l.mon(k,{hide:m,show:m,beforetoggle:"_onBeforeItemToggle",toggle:"_onItemToggle",scope:l});if(l.getAllowToggle()){k.enableToggle=true;if(!l.getAllowMultiple()){k.toggleGroup=l.getId();k.allowDepress=l.getAllowDepress()}}k.addCls(l.itemCls+l._getClsSuffix());l._syncItemClasses();Ext.container.Container.prototype.onAdd.call(this,k)},onRemove:function(g){var k=this;g.removeCls(k.itemCls+k._getClsSuffix());k._syncItemClasses();Ext.container.Container.prototype.onRemove.call(this,g)},beforeLayout:function(){if(Ext.isChrome){this.el.dom.offsetWidth}Ext.container.Container.prototype.beforeLayout.call(this)},updateDefaultUI:function(m){var q=this.items,n,p,o;if(this.rendered){Ext.raise("Changing the ui config of a segmented button after render is not supported.")}else{if(q){if(q.items){q=q.items}for(p=0,o=q.length;p<o;p++){n=q[p];if(n.ui==="default"&&m!=="default"&&!n.hasOwnProperty("ui")){q[p].ui=m}}}}},privates:{_getClsSuffix:function(){return this.getVertical()?"-vertical":"-horizontal"},_getFirstCls:function(){return this._firstCls},_getLastCls:function(){return this._lastCls},_lookupButtonByValue:function(v){var t=this.items.items,o=t.length,p=0,q=null,u,s;for(;p<o;p++){s=t[p];u=s.value;if((u!=null)&&u===v){q=s;break}}if(!q&&typeof v==="number"){q=t[v]}return q},_onBeforeItemToggle:function(k,g){if(this.allowMultiple&&this.forceSelection&&!g&&this.getValue().length===1){return false}},_onItemToggle:function(t,x){if(this._isApplyingValue){return}var q=this,s=Ext.Array,u=q.allowMultiple,v=(t.value!=null)?t.value:q.items.indexOf(t),p=q.getValue(),w;if(u){w=s.indexOf(p,v)}if(x){if(u){if(w===-1){p=s.slice(p);p.push(v)}}else{p=v}}else{if(u){if(w>-1){p=s.slice(p);p.splice(w,1)}}else{if(p===v){p=null}}}q.setValue(p);q.fireEvent("toggle",q,t,x)},_syncItemClasses:function(B){var v=this,A,y,t,w,x,s,u,z;if(!B&&!v.rendered){return}A=v._getFirstCls();y=v._middleCls;t=v._getLastCls();w=v.items.items;x=w.length;s=[];for(z=0;z<x;z++){u=w[z];if(!u.hidden){s.push(u)}}x=s.length;for(z=0;z<x;z++){s[z].removeCls([A,y,t])}if(x>1){s[0].addCls(A);for(z=1;z<x-1;z++){s[z].addCls(y)}s[x-1].addCls(t)}}}},0,["segmentedbutton"],["component","box","container","segmentedbutton"],{component:true,box:true,container:true,segmentedbutton:true},["widget.segmentedbutton"],0,[Ext.button,"Segmented"],0));(Ext.cmd.derive("Ext.plugin.Responsive",Ext.mixin.Responsive,{id:"responsive",isPlugin:true,constructor:function(o){var m=this,n=o.cmp,l=Ext.apply({responsiveConfig:n.responsiveConfig,responsiveFormulas:n.responsiveFormulas},o);delete l.cmp;m.cmp=n;m.initConfig(l);if(m.transformed){n.setConfig(m.transformed);m.transformed=null}},init:Ext.emptyFn,privates:{transformInstanceConfig:function(k){var l=Ext.mixin.Responsive.prototype.transformInstanceConfig.call(this,k);if(l.ptype){l=Ext.apply({},l);delete l.ptype}this.transformed=l;var m=Ext.apply({},k);delete m.ptype;delete m.responsiveConfig;delete m.responsiveFormulas;return m},updateResponsiveState:function(){var f=this.getResponsiveState();this.cmp.setConfig(f)}}},1,0,0,0,["plugin.responsive"],0,[Ext.plugin,"Responsive"],0));(Ext.cmd.derive("Ext.plugin.Viewport",Ext.plugin.Responsive,{setCmp:function(f){this.cmp=f;if(f&&!f.isViewport){this.decorate(f);if(f.renderConfigs){f.flushRenderConfigs()}f.setupViewport()}},statics:{decorate:function(f){Ext.applyIf(f.prototype||f,{ariaRole:"application",viewportCls:"x-viewport"});Ext.override(f,{isViewport:true,preserveElOnDestroy:true,initComponent:function(){this.callParent();this.setupViewport()},getSizeModel:function(){var e=Ext.layout.SizeModel.configured;return e.pairsByHeightOrdinal[e.ordinal]},handleViewportResize:function(){var e=this,n=Ext.dom.Element,m=n.getViewportWidth(),o=n.getViewportHeight();if(m!==e.width||o!==e.height){e.setSize(m,o)}},setupViewport:function(){var e=this,k=document.body;if(!k.id){k.id=e.id}k.setAttribute("data-componentid",e.id);if(!e.ariaStaticRoles[e.ariaRole]){k.setAttribute("role",e.ariaRole)}k=e.el=Ext.getBody();Ext.fly(document.documentElement).addCls(e.viewportCls);k.setHeight=k.setWidth=Ext.emptyFn;k.dom.scroll="no";e.allowDomMove=false;e.renderTo=k;if(Ext.supports.Touch){e.addMeta("apple-mobile-web-app-capable","yes")}Ext.getScrollbarSize();e.width=e.height=undefined;e.initialViewportHeight=Ext.Element.getViewportHeight();e.initialViewportWidth=Ext.Element.getViewportWidth()},afterLayout:function(e){if(Ext.supports.Touch){document.body.scrollTop=0}this.callParent([e])},onRender:function(){var l=this,e=l.getOverflowEl(),m=Ext.getBody();l.callParent(arguments);Ext.setViewportScroller(l.getScrollable()||{x:false,y:false,element:m});if(l.getOverflowEl()!==m){m.setStyle("overflow","hidden")}l.width=l.initialViewportWidth;l.height=l.initialViewportHeight;l.initialViewportWidth=l.initialViewportHeight=null},initInheritedState:function(m,n){var e=this,o=Ext.rootInheritedState;if(m!==o){e.initInheritedState(e.inheritedState=o,e.inheritedStateInner=Ext.Object.chain(o))}else{e.callParent([m,n])}},doDestroy:function(){var e=this,m=Ext.rootInheritedState,l;for(l in m){if(l!=="rtl"){delete m[l]}}e.removeUIFromElement();e.el.removeCls(e.baseCls);Ext.fly(document.body.parentNode).removeCls(e.viewportCls);e.callParent()},addMeta:function(m,l){var e=document.createElement("meta");e.setAttribute("name",m);e.setAttribute("content",l);Ext.getHead().appendChild(e)},privates:{applyTargetCls:function(e){var k=this.el;if(k===this.getTargetEl()){this.el.addCls(e)}else{this.callParent([e])}},disableTabbing:function(){var e=this.el;if(e){e.saveTabbableState({skipSelf:true})}},enableTabbing:function(){var e=this.el;if(e){e.restoreTabbableState(true)}}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize();Ext.plugin.Responsive.prototype.updateResponsiveState.call(this)}}},0,0,0,0,["plugin.viewport"],0,[Ext.plugin,"Viewport"],function(f){f.prototype.decorate=f.decorate}));(Ext.cmd.derive("Ext.resizer.SplitterTracker",Ext.dd.DragTracker,{enabled:true,overlayCls:"x-resizable-overlay",createDragOverlay:function(){var k,g=Ext.dom.Element;k=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"});k.unselectable();k.setSize(g.getDocumentWidth(),g.getDocumentHeight());k.show()},getPrevCmp:function(){var f=this.getSplitter();return f.previousSibling(":not([hidden])")},getNextCmp:function(){var f=this.getSplitter();return f.nextSibling(":not([hidden])")},onBeforeStart:function(u){var p=this,e=p.getPrevCmp(),t=p.getNextCmp(),q=p.getSplitter().collapseEl,v=u.getTarget(),s;if(!e||!t){return false}if(q&&v===q.dom){return false}if(t.collapsed||e.collapsed){return false}p.prevBox=e.getEl().getBox();p.nextBox=t.getEl().getBox();p.constrainTo=s=p.calculateConstrainRegion();if(!s){return false}return s},onMouseDown:function(e,k){Ext.dd.DragTracker.prototype.onMouseDown.call(this,e,k);if(this.mouseIsDown&&this.getSplitter().el.dom===k){Ext.dom.Element.maskIframes()}},onMouseUp:function(e){Ext.dd.DragTracker.prototype.onMouseUp.call(this,e);Ext.dom.Element.unmaskIframes()},onStart:function(e){var k=this.getSplitter();this.createDragOverlay();k.addCls(k.baseCls+"-active")},onResizeKeyDown:function(e){var s=this,p=s.getSplitter(),t=e.getKey(),q=p.orientation==="vertical"?0:1,u=t===e.UP||t===e.LEFT?-1:1,v;if(!s.active&&s.onBeforeStart(e)){Ext.fly(e.target).on("keyup",s.onResizeKeyUp,s);s.triggerStart(e);s.onMouseDown(e);s.startXY=p.getXY();s.lastKeyDownXY=Ext.Array.slice(s.startXY);v=s.easing=new Ext.fx.easing.Linear();v.setStartTime(Ext.Date.now());v.setStartValue(1);v.setEndValue(4);v.setDuration(2000)}if(s.active){s.lastKeyDownXY[q]=Math.round(s.lastKeyDownXY[q]+(u*s.easing.getValue()));s.lastXY=s.lastKeyDownXY;p.setXY(s.getXY("dragTarget"))}},onResizeKeyUp:function(e){this.onMouseUp(e)},calculateConstrainRegion:function(){var x=this,D=x.getSplitter(),w=D.getWidth(),v=D.defaultSplitMin,C=D.orientation,z=x.prevBox,u=x.getPrevCmp(),B=x.nextBox,y=x.getNextCmp(),E,F,A;if(C==="vertical"){A={prevCmp:u,nextCmp:y,prevBox:z,nextBox:B,defaultMin:v,splitWidth:w};E=new Ext.util.Region(z.y,x.getVertPrevConstrainRight(A),z.bottom,x.getVertPrevConstrainLeft(A));F=new Ext.util.Region(B.y,x.getVertNextConstrainRight(A),B.bottom,x.getVertNextConstrainLeft(A))}else{E=new Ext.util.Region(z.y+(u.minHeight||v),z.right,(u.maxHeight?z.y+u.maxHeight:B.bottom-(y.minHeight||v))+w,z.x);F=new Ext.util.Region((y.maxHeight?B.bottom-y.maxHeight:z.y+(u.minHeight||v))-w,B.right,B.bottom-(y.minHeight||v),B.x)}return E.intersect(F)},performResize:function(M,B){var K=this,G=K.getSplitter(),A=G.orientation,J=K.getPrevCmp(),L=K.getNextCmp(),F=G.ownerCt,e=F.query(">[flex]"),N=e.length,E=A==="vertical",z=0,C=E?"width":"height",D=0,I,H;for(;z<N;z++){I=e[z];H=E?I.getWidth():I.getHeight();D+=H;I.flex=H}B=E?B[0]:B[1];if(J){H=K.prevBox[C]+B;if(J.flex){J.flex=H}else{J[C]=H}}if(L){H=K.nextBox[C]-B;if(L.flex){L.flex=H}else{L[C]=H}}F.updateLayout()},endDrag:function(){var f=this;if(f.overlay){f.overlay.destroy();delete f.overlay}Ext.dd.DragTracker.prototype.endDrag.apply(this,arguments)},onEnd:function(e){var m=this,l=m.getSplitter();l.removeCls(l.baseCls+"-active");m.performResize(e,m.getResizeOffset())},onDrag:function(e){var p=this,t=p.getOffset("dragTarget"),o=p.getSplitter(),q=o.getEl(),s=o.orientation;if(s==="vertical"){q.setX(p.startRegion.left+t[0])}else{q.setY(p.startRegion.top+t[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(f){return(f.prevCmp.maxWidth?f.prevBox.x+f.prevCmp.maxWidth:f.nextBox.right-(f.nextCmp.minWidth||f.defaultMin))+f.splitWidth},getVertPrevConstrainLeft:function(f){return f.prevBox.x+(f.prevCmp.minWidth||f.defaultMin)},getVertNextConstrainRight:function(f){return f.nextBox.right-(f.nextCmp.minWidth||f.defaultMin)},getVertNextConstrainLeft:function(f){return(f.nextCmp.maxWidth?f.nextBox.right-f.nextCmp.maxWidth:f.prevBox.x+(f.prevBox.minWidth||f.defaultMin))-f.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}},0,0,0,0,0,0,[Ext.resizer,"SplitterTracker"],0));(Ext.cmd.derive("Ext.dd.DDTarget",Ext.dd.DragDrop,{constructor:function(k,m,l){if(k){this.initTarget(k,m,l)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DDTarget"],0));(Ext.cmd.derive("Ext.dd.ScrollManager",Ext.Base,{singleton:true,dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var f=Ext.dd.DragDropManager;f.fireEvents=Ext.Function.createSequence(f.fireEvents,this.onFire,this);f.stopDrag=Ext.Function.createSequence(f.stopDrag,this.onStop,this);this.doScroll=this.doScroll.bind(this);this.ddmInstance=f;this.els={};this.dragEl=null;this.proc={}},onStop:function(k){var e=Ext.dd.ScrollManager;e.dragEl=null;e.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){var p=this;if(p.ddmInstance.dragCurrent){var v=p.proc,q=v.el,t=v.component,x=v.el.ddScrollConfig,w=x&&x.increment?x.increment:p.increment,u=x&&"animate" in x?x.animate:p.animate,s=function(){p.triggerRefresh()};if(u){if(u===true){u={callback:s}}else{u.callback=u.callback?Ext.Function.createSequence(u.callback,s):s}}if(t){w=w*p.dirTrans[v.dir];if(v.dir==="up"||v.dir==="down"){t.scrollBy(0,w,u)}else{t.scrollBy(w,0,u)}}else{q.scroll(v.dir,w,u)}if(!u){s()}}},clearProc:function(){var f=this.proc;if(f.id){clearInterval(f.id)}f.id=0;f.el=null;f.dir=""},startProc:function(q,s){var p=this,t=p.proc,n,o;p.clearProc();t.el=q;t.dir=s;n=q.ddScrollConfig?q.ddScrollConfig.ddGroup:undefined;o=(q.ddScrollConfig&&q.ddScrollConfig.frequency)?q.ddScrollConfig.frequency:p.frequency;if(n===undefined||p.ddmInstance.dragCurrent.ddGroup===n){t.id=Ext.interval(p.doScroll,o)}},onFire:function(v,e){var t=this,B,u,x,A,z,w,y;if(e||!t.ddmInstance.dragCurrent){return}if(!t.dragEl||t.dragEl!==t.ddmInstance.dragCurrent){t.dragEl=t.ddmInstance.dragCurrent;t.refreshCache()}B=v.getPoint();u=t.proc;x=t.els;for(A in x){z=x[A];w=z._region;y=z.ddScrollConfig||t;if(w&&w.contains(B)&&z.isScrollable()){if(w.bottom-B.y<=y.vthresh){if(u.el!==z){t.startProc(z,"down")}return}else{if(w.right-B.x<=y.hthresh){if(u.el!==z){t.startProc(z,"right")}return}else{if(B.y-w.top<=y.vthresh){if(u.el!==z){t.startProc(z,"up")}return}else{if(B.x-w.left<=y.hthresh){if(u.el!==z){t.startProc(z,"left")}return}}}}}}t.clearProc()},register:function(k){if(Ext.isArray(k)){for(var l=0,m=k.length;l<m;l++){this.register(k[l])}}else{k=Ext.get(k);this.els[k.id]=k}},unregister:function(k){if(Ext.isArray(k)){for(var l=0,m=k.length;l<m;l++){this.unregister(k[l])}}else{k=Ext.get(k);delete this.els[k.id]}},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){var k=this.els,g;for(g in k){if(typeof k[g]==="object"){k[g]._region=k[g].getRegion()}}}},1,0,0,0,0,0,[Ext.dd,"ScrollManager"],0));(Ext.cmd.derive("Ext.dd.DropTarget",Ext.dd.DDTarget,{constructor:function(g,k){this.el=Ext.get(g);Ext.apply(this,k);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DDTarget.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true})},containerScroll:false,dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(m,e,l){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(m,e,l){return this.dropAllowed},notifyOut:function(m,e,l){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(m,e,l){if(this.overClass){this.el.removeCls(this.overClass)}return false},destroy:function(){if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}Ext.dd.DDTarget.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DropTarget"],0));(Ext.cmd.derive("Ext.dd.DragZone",Ext.dd.DragSource,{constructor:function(m,n){var l=this,o;Ext.dd.DragSource.prototype.constructor.call(this,m,n);o=l.containerScroll;if(o){m=l.scrollEl||m;m=Ext.get(m);if(Ext.isObject(o)){m.ddScrollConfig=o}Ext.dd.ScrollManager.register(m)}},getDragData:function(e){return Ext.dd.Registry.getHandleFromEvent(e)},onInitDrag:function(k,g){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(k,g);return true},getRepairXY:function(e){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}Ext.dd.DragSource.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,"DragZone"],0));(Ext.cmd.derive("Ext.dd.Registry",Ext.Base,{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(l,m){if(typeof l==="string"){return l}var k=l.id;if(!k&&m!==false){k="extdd-"+(++this.autoIdSeed);l.id=k}return k},register:function(n,m){m=m||{};if(typeof n==="string"){n=document.getElementById(n)}m.ddel=n;this.elements[this.getId(n)]=m;if(m.isHandle!==false){this.handles[m.ddel.id]=m}if(m.handles){var o=m.handles,p,q;for(p=0,q=o.length;p<q;p++){this.handles[this.getId(o[p])]=m}}},unregister:function(p){var n=this.getId(p,false),o=this.elements[n],q,s,t;if(o){delete this.elements[n];if(o.handles){q=o.handles;for(s=0,t=q.length;s<t;s++){delete this.handles[this.getId(q[s],false)]}}}},getHandle:function(f){if(typeof f!=="string"){f=f.id}return this.handles[f]},getHandleFromEvent:function(e){var k=e.getTarget();return k?this.handles[k.id]:null},getTarget:function(f){if(typeof f!=="string"){f=f.id}return this.elements[f]},getTargetFromEvent:function(e){var k=e.getTarget();return k?this.elements[k.id]||this.handles[k.id]:null}},1,0,0,0,0,0,[Ext.dd,"Registry"],0));(Ext.cmd.derive("Ext.dd.DropZone",Ext.dd.DropTarget,{getTargetFromEvent:function(e){return Ext.dd.Registry.getTargetFromEvent(e)},onNodeEnter:function(e,o,m,n){},onNodeOver:function(e,o,m,n){return this.dropAllowed},onNodeOut:function(e,o,m,n){},onNodeDrop:function(e,o,m,n){return false},onContainerOver:function(m,e,l){return this.dropNotAllowed},onContainerDrop:function(m,e,l){return false},notifyEnter:function(m,e,l){Ext.dd.DropTarget.prototype.notifyEnter.call(this,m,e,l);return this.dropNotAllowed},notifyOver:function(q,n,o){var p=this,e=p.getTargetFromEvent(n);if(!e){if(p.lastOverNode){p.onNodeOut(p.lastOverNode,q,n,o);p.lastOverNode=null}return p.onContainerOver(q,n,o)}if(p.lastOverNode!==e){if(p.lastOverNode){p.onNodeOut(p.lastOverNode,q,n,o)}p.onNodeEnter(e,q,n,o);p.lastOverNode=e}return p.onNodeOver(e,q,n,o)},notifyOut:function(m,e,l){Ext.dd.DropTarget.prototype.notifyOut.call(this,m,e,l);if(this.lastOverNode){this.onNodeOut(this.lastOverNode,m,e,l);this.lastOverNode=null}},notifyDrop:function(q,e,n){var p=this,t=p.getTargetFromEvent(e),s=t?p.onNodeDrop(t,q,e,n):p.onContainerDrop(q,e,n);if(p.lastOverNode){p.onNodeOut(p.lastOverNode,q,e,n);p.lastOverNode=null}return s},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,"DropZone"],0));(Ext.cmd.derive("Ext.event.publisher.MouseEnterLeave",Ext.event.publisher.Dom,{type:"mouseEnterLeave"},0,0,0,0,0,0,[Ext.event.publisher,"MouseEnterLeave"],function(k){var g={mouseover:"mouseenter",mouseout:"mouseleave"};if(!Ext.supports.MouseEnterLeave){k.override({handledDomEvents:["mouseover","mouseout"],handledEvents:["mouseenter","mouseleave"],publishDelegatedDomEvent:function(u){var v,s,t,f,q,e;u=this.callParent([u]);v=u.getTarget();s=u.getRelatedTarget();if(s&&Ext.fly(v).contains(s)){return}t=v.id;if(t){f=Ext.cache[t];if(f){q=g[u.type];u=u.chain({type:q});if(f.hasListeners[q]){e=f.events[q];if(e){e=e.directs;if(e){u.setCurrentTarget(f.dom);e.fire(u,u.target)}}}}}}})}k.instance=new k()}));(Ext.cmd.derive("Ext.form.action.Action",Ext.Base,{alternateClassName:"Ext.form.Action",submitEmptyText:true,constructor:function(k){if(k){Ext.apply(this,k)}var g=k.params;if(Ext.isString(g)){this.params=Ext.Object.fromQueryString(g)}},run:Ext.emptyFn,onFailure:function(m){var k=this.form,l=k&&!k.destroying&&!k.destroyed;this.response=m;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;if(l){k.afterAction(this,false)}},processResponse:function(f){this.response=f;if(!f.responseText&&!f.responseXML){return true}return(this.result=this.handleResponse(f))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var f=this;return{success:f.onSuccess,failure:f.onFailure,scope:f,timeout:(f.timeout||f.form.timeout)*1000}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}},1,0,0,0,0,0,[Ext.form.action,"Action",Ext.form,"Action"],0));(Ext.cmd.derive("Ext.form.action.Load",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(n){var o=this.processResponse(n),l=this.form,m=l&&!l.destroying&&!l.destroyed;if(o===true||!o.success||!o.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;if(m){l.afterAction(this,false)}return}if(m){l.clearInvalid();l.setValues(o.data);l.afterAction(this,true)}},handleResponse:function(m){var o=this.form.reader,n,l;if(o){n=o.read(m);l=n.records&&n.records[0]?n.records[0].data:null;return{success:n.success,data:l}}return Ext.decode(m.responseText)}},0,0,0,0,["formaction.load"],0,[Ext.form.action,"Load",Ext.form.Action,"Load"],0));(Ext.cmd.derive("Ext.form.action.Submit",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Submit",type:"submit",run:function(){var g=this,k=g.form;if(g.clientValidation===false||k.isValid()){g.doSubmit()}else{g.failureType=Ext.form.action.Action.CLIENT_INVALID;k.afterAction(g,false)}},doSubmit:function(){var p=this,s=Ext.apply(p.createCallback(),{url:p.getUrl(),method:p.getMethod(),headers:p.headers}),q=p.form,o=p.jsonSubmit||q.jsonSubmit,t=o?"jsonData":"params",n;if(q.hasUpload()){n=p.buildForm();s.form=n.formEl;s.isUpload=true}else{s[t]=p.getParams(o)}Ext.Ajax.request(s);if(n){p.cleanup(n)}},cleanup:function(v){var p=v.formEl,q=v.uploadEls,t=v.uploadFields,u=t.length,s,o;for(s=0;s<u;++s){o=t[s];if(!o.clearOnSubmit){o.restoreInput(q[s])}}if(p){Ext.removeNode(p)}},getParams:function(l){var m=false,n=Ext.form.action.Action.prototype.getParams.call(this),o=this.form.getValues(m,m,this.submitEmptyText!==m,l,true);return Ext.apply({},o,n)},buildForm:function(){var A=this,O=[],v,J,C=A.form,F=A.getParams(),G=[],I=[],D=C.getFields().items,E,B=D.length,P,K,M,L,N,H;for(E=0;E<B;++E){P=D[E];if(P.isFileUpload()){G.push(P)}}for(K in F){if(F.hasOwnProperty(K)){M=F[K];if(Ext.isArray(M)){N=M.length;for(L=0;L<N;L++){O.push(A.getFieldConfig(K,M[L]))}}else{O.push(A.getFieldConfig(K,M))}}}v={tag:"form",role:"presentation",action:A.getUrl(),method:A.getMethod(),target:A.target?(Ext.isString(A.target)?A.target:Ext.fly(A.target).dom.name):"_self",style:"display:none",cn:O};if(G.length){v.encoding=v.enctype="multipart/form-data"}J=Ext.DomHelper.append(Ext.getBody(),v);B=G.length;for(E=0;E<B;++E){H=G[E].extractFileInput();J.appendChild(H);I.push(H)}return{formEl:J,uploadFields:G,uploadEls:I}},getFieldConfig:function(k,g){return{tag:"input",type:"hidden",name:k,value:Ext.String.htmlEncode(g)}},onSuccess:function(p){var n=this.form,o=n&&!n.destroying&&!n.destroyed,m=true,q=this.processResponse(p);if(q!==true&&!q.success){if(q.errors&&o){n.markInvalid(q.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;m=false}if(o){n.afterAction(this,m)}},handleResponse:function(x){var A=this.form,y=A.errorReader,w,e,v,u,z,B;if(y){w=y.read(x);z=w.records;e=[];if(z){for(v=0,u=z.length;v<u;v++){e[v]=z[v].data}}if(e.length<1){e=null}B={success:w.success,errors:e}}else{try{B=Ext.decode(x.responseText)}catch(t){B={success:false,errors:[]}}}return B}},0,0,0,0,["formaction.submit"],0,[Ext.form.action,"Submit",Ext.form.Action,"Submit"],0));(Ext.cmd.derive("Ext.form.action.StandardSubmit",Ext.form.action.Submit,{doSubmit:function(){var f=this.buildForm();f.formEl.submit();this.cleanup(f)}},0,0,0,0,["formaction.standardsubmit"],0,[Ext.form.action,"StandardSubmit"],0));(Ext.cmd.derive("Ext.form.Basic",Ext.util.Observable,{alternateClassName:"Ext.form.BasicForm",taskDelay:10,constructor:function(n,m){var l=this,o;l.owner=n;l.fieldMonitors={validitychange:l.checkValidityDelay,enable:l.checkValidityDelay,disable:l.checkValidityDelay,dirtychange:l.checkDirtyDelay,errorchange:l.checkErrorDelay,scope:l};l.checkValidityTask=new Ext.util.DelayedTask(l.checkValidity,l);l.checkDirtyTask=new Ext.util.DelayedTask(l.checkDirty,l);l.checkErrorTask=new Ext.util.DelayedTask(l.checkError,l);l.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:l,addHandler:l.onFieldAdd,removeHandler:l.onFieldRemove,invalidateHandler:l.onMonitorInvalidate});l.monitor.bind(n);Ext.apply(l,m);if(Ext.isString(l.paramOrder)){l.paramOrder=l.paramOrder.split(/[\s,|]/)}o=l.reader;if(o&&!o.isReader){if(typeof o==="string"){o={type:o}}l.reader=Ext.createByAlias("reader."+o.type,o)}o=l.errorReader;if(o&&!o.isReader){if(typeof o==="string"){o={type:o}}l.errorReader=Ext.createByAlias("reader."+o.type,o)}Ext.util.Observable.prototype.constructor.call(this)},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){var g=this,k=g.monitor;if(k){k.unbind();g.monitor=null}g.clearListeners();g.checkValidityTask.cancel();g.checkDirtyTask.cancel();g.checkErrorTask.cancel();g.checkValidityTask=g.checkDirtyTask=g.checkErrorTask=null;Ext.util.Observable.prototype.destroy.call(this)},onFieldAdd:function(f){f.on(this.fieldMonitors);this.onMonitorInvalidate()},onFieldRemove:function(f){f.un(this.fieldMonitors);this.onMonitorInvalidate()},onMonitorInvalidate:function(){if(this.initialized){this.checkValidityDelay()}},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var f=this._boundItems;if(!f||f.getCount()===0){f=this._boundItems=new Ext.util.MixedCollection();f.addAll(this.owner.query("[formBind]"))}return f},hasInvalidField:function(){return !!this.getFields().findBy(function(k){var m=k.preventMark,l;k.preventMark=true;l=k.isValid();k.preventMark=m;return !l})},isValid:function(){var k=this,g;Ext.suspendLayouts();g=k.getFields().filterBy(function(e){return !e.validate()});Ext.resumeLayouts(true);return g.length<1},checkValidity:function(){var g=this,k;if(g.destroyed){return}k=!g.hasInvalidField();if(k!==g.wasValid){g.onValidityChange(k);g.fireEvent("validitychange",g,k);g.wasValid=k}},checkValidityDelay:function(){var f=this.taskDelay;if(f){this.checkValidityTask.delay(f)}else{this.checkValidity()}},checkError:function(){this.fireEvent("errorchange",this)},checkErrorDelay:function(){var f=this.taskDelay;if(f){this.checkErrorTask.delay(f)}else{this.checkError()}},onValidityChange:function(n){var p=this.getBoundItems(),s,q,t,o;if(p){s=p.items;t=s.length;for(q=0;q<t;q++){o=s[q];if(o.disabled===n){o.setDisabled(!n)}}}},isDirty:function(){return !!this.getFields().findBy(function(f){return f.isDirty()})},checkDirtyDelay:function(){var f=this.taskDelay;if(f){this.checkDirtyTask.delay(f)}else{this.checkDirty()}},checkDirty:function(){var g=this,k;if(g.destroyed){return}k=this.isDirty();if(k!==this.wasDirty){this.fireEvent("dirtychange",this,k);this.wasDirty=k}},hasUpload:function(){return !!this.getFields().findBy(function(f){return f.isFileUpload()})},doAction:function(g,k){if(Ext.isString(g)){g=Ext.ClassManager.instantiateByAlias("formaction."+g,Ext.apply({},k,{form:this}))}if(this.fireEvent("beforeaction",this,g)!==false){this.beforeAction(g);Ext.defer(g.run,100,g)}return this},submit:function(m){m=m||{};var l=this,k;if(m.standardSubmit||l.standardSubmit){k="standardsubmit"}else{k=l.api?"directsubmit":"submit"}return l.doAction(k,m)},load:function(f){return this.doAction(this.api?"directload":"load",f)},updateRecord:function(s){s=s||this._record;if(!s){return this}var t=s.self.fields,q=this.getFieldValues(),v={},o=0,u=t.length,p;for(;o<u;++o){p=t[o].name;if(q.hasOwnProperty(p)){v[p]=q[p]}}s.beginEdit();s.set(v);s.endEdit();return this},loadRecord:function(f){this._record=f;return this.setValues(f.getData())},getRecord:function(){return this._record},beforeAction:function(x){var u=this,y=x.waitMsg,f="x-mask-loading",w=u.getFields().items,v,s=w.length,t,z;for(v=0;v<s;v++){t=w[v];if(t.isFormField&&t.syncValue){t.syncValue()}}if(y){z=u.waitMsgTarget;if(z===true){u.owner.el.mask(y,f)}else{if(z){z=u.waitMsgTarget=Ext.get(z);z.mask(y,f)}else{u.floatingAncestor=u.owner.up("[floating]");if(u.floatingAncestor){u.savePreventFocusOnActivate=u.floatingAncestor.preventFocusOnActivate;u.floatingAncestor.preventFocusOnActivate=true}Ext.MessageBox.wait(y,x.waitTitle||u.waitTitle)}}}},afterAction:function(o,m){var q=this;if(o.waitMsg){var p=Ext.MessageBox,n=q.waitMsgTarget;if(n===true){q.owner.el.unmask()}else{if(n){n.unmask()}else{p.hide()}}}if(q.floatingAncestor){q.floatingAncestor.preventFocusOnActivate=q.savePreventFocusOnActivate}if(m){if(o.reset){q.reset()}Ext.callback(o.success,o.scope||o,[q,o]);q.fireEvent("actioncomplete",q,o)}else{Ext.callback(o.failure,o.scope||o,[q,o]);q.fireEvent("actionfailed",q,o)}},findField:function(f){return this.getFields().findBy(function(e){return e.id===f||e.name===f||e.dataIndex===f})},markInvalid:function(v){var q=this,x,u,t,e,s;function w(k,f){var g=q.findField(k);if(g){g.markInvalid(f)}}if(Ext.isArray(v)){u=v.length;for(x=0;x<u;x++){t=v[x];w(t.id||t.field,t.msg||t.message)}}else{if(v instanceof Ext.data.ErrorCollection){u=v.items.length;for(x=0;x<u;x++){t=v.items[x];w(t.field,t.message)}}else{for(s in v){if(v.hasOwnProperty(s)){e=v[s];w(s,e,v)}}}}return this},setValues:function(s){var p=this,t,q,n;function o(g,e){var f=p.findField(g);if(f){f.setValue(e);if(p.trackResetOnLoad){f.resetOriginalValue()}}}Ext.suspendLayouts();if(Ext.isArray(s)){q=s.length;for(t=0;t<q;t++){n=s[t];o(n.id,n.value)}}else{Ext.iterate(s,o)}Ext.resumeLayouts(true);return this},getValues:function(f,L,H,J,D){var I={},z=this.getFields().items,G=z.length,A=Ext.isArray,K,B,C,E,F,y;for(y=0;y<G;y++){K=z[y];if(!L||K.isDirty()){B=K[J?"getModelData":"getSubmitData"](H,D);if(Ext.isObject(B)){for(F in B){if(B.hasOwnProperty(F)){C=B[F];if(H&&C===""){C=K.emptyText||""}if(!K.isRadio){if(K.isCheckbox&&C===null){continue}if(I.hasOwnProperty(F)){E=I[F];if(!A(E)){E=I[F]=[E]}if(A(C)){I[F]=E.concat(C)}else{E.push(C)}}else{I[F]=C}}else{I[F]=I[F]||C}}}}}}if(f){I=Ext.Object.toQueryString(I)}return I},getFieldValues:function(f){return this.getValues(false,f,false,true)},clearInvalid:function(){Ext.suspendLayouts();var n=this,o=n.getFields().items,m,f=o.length;for(m=0;m<f;m++){o[m].clearInvalid()}Ext.resumeLayouts(true);return n},reset:function(p){Ext.suspendLayouts();var o=this,q=o.getFields().items,n,f=q.length;for(n=0;n<f;n++){q[n].reset()}Ext.resumeLayouts(true);if(p===true){delete o._record}return o},applyToFields:function(m){var o=this.getFields().items,n,f=o.length;for(n=0;n<f;n++){Ext.apply(o[n],m)}return this},applyIfToFields:function(m){var o=this.getFields().items,n,f=o.length;for(n=0;n<f;n++){Ext.applyIf(o[n],m)}return this}},1,0,0,0,0,0,[Ext.form,"Basic",Ext.form,"BasicForm"],0));(Ext.cmd.derive("Ext.layout.container.CheckboxGroup",Ext.layout.container.Container,{autoFlex:true,type:"checkboxgroup",createsInnerCt:true,childEls:["innerCt"],renderTpl:'<table id="{ownerId}-innerCt" data-ref="innerCt" class="x-table-plain" cellpadding="0"role="presentation" style="{tableStyle}"><tbody role="presentation"><tr role="presentation"><tpl for="columns"><td class="{parent.colCls}" valign="top" style="{style}" role="presentation">{% this.renderColumn(out,parent,xindex-1) %}</td></tpl></tr></tbody></table>',lastOwnerItemsGeneration:null,initLayout:function(){var g=this,k=g.owner;g.columnsArray=Ext.isArray(k.columns);g.autoColumns=!k.columns||k.columns==="auto";if(!g.autoColumns){g.vertical=k.vertical||(k.columns===1||k.columns.length===1)}Ext.layout.container.Container.prototype.initLayout.call(this)},beginLayout:function(B){var u=this,y,z,w,C,v,x=0,D=0,t=u.autoFlex,A=u.innerCt.dom.style;Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);y=u.rowNodes[0].children;B.innerCtContext=B.getEl("innerCt",u);if(!B.widthModel.shrinkWrap){z=y.length;if(u.columnsArray){for(w=0;w<z;w++){C=u.owner.columns[w];if(C<1){x+=C;D++}}for(w=0;w<z;w++){C=u.owner.columns[w];if(C<1){v=((C/x)*100)+"%"}else{v=C+"px"}y[w].style.width=v}}else{for(w=0;w<z;w++){v=t?(1/z*100)+"%":"";y[w].style.width=v;D++}}if(!D){A.tableLayout="fixed";A.width=""}else{if(D<z){A.tableLayout="fixed";A.width="100%"}else{A.tableLayout="auto";if(t){A.width="100%"}else{A.width=""}}}}else{A.tableLayout="auto";A.width=""}},cacheElements:function(){var f=this;Ext.layout.container.Container.prototype.cacheElements.call(this);f.rowNodes=f.innerCt.query("tr",true);f.tBodyNode=f.rowNodes[0].parentNode},calculate:function(x){var q=this,t,u,v,w,s,p;if(!x.getDomProp("containerChildrenSizeDone")){q.done=false}else{t=x.innerCtContext;u=x.widthModel.shrinkWrap;v=x.heightModel.shrinkWrap;w=v||u;s=t.el.dom;p=w&&t.getPaddingInfo();if(u){x.setContentWidth(s.offsetWidth+p.width,true)}if(v){x.setContentHeight(s.offsetHeight+p.height,true)}}},doRenderColumn:function(B,H,z){var x=H.$layout,C=x.owner,A=H.columnCount,y=C.items.items,D=y.length,G,E,w,v,F;if(C.vertical){w=Math.ceil(D/A);E=z*w;D=Math.min(D,E+w);v=1}else{E=z;v=A}for(;E<D;E+=v){G=y[E];x.configureItem(G);F=G.getRenderTree();Ext.DomHelper.generateMarkup(F,B)}},getColumnCount:function(){var l=this,m=l.owner,k=m.columns;if(l.columnsArray){return k.length}if(Ext.isNumber(k)){return k}return m.items.length},getItemSizePolicy:function(f){return this.autoSizePolicy},getRenderData:function(){var u=this,x=Ext.layout.container.Container.prototype.getRenderData.call(this),B=u.owner,w,z=u.getColumnCount(),C,A,v,t=u.autoFlex,y=0,D=0;if(u.columnsArray){for(w=0;w<z;w++){C=u.owner.columns[w];if(C<1){y+=C;D++}}}x.colCls=B.groupCls;x.columnCount=z;x.columns=[];for(w=0;w<z;w++){A=(x.columns[w]={});if(u.columnsArray){C=u.owner.columns[w];if(C<1){v=((C/y)*100)+"%"}else{v=C+"px"}A.style="width:"+v}else{A.style="width:"+(1/z*100)+"%";D++}}x.tableStyle=!D?"table-layout:fixed;":(D<z)?"table-layout:fixed;width:100%":(t)?"table-layout:auto;width:100%":"table-layout:auto;";return x},isValidParent:Ext.returnTrue,setupRenderTpl:function(f){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);f.renderColumn=this.doRenderColumn},renderChildren:function(){var k=this,g=k.owner.items.generation;if(k.lastOwnerItemsGeneration!==g){k.lastOwnerItemsGeneration=g;k.renderItems(k.getLayoutItems())}},renderItems:function(v){var u=this,z=v.length,q,s,x,t,w,y;if(z){Ext.suspendLayouts();if(u.autoColumns){x=z;s=1}else{x=u.columnsArray?u.owner.columns.length:u.owner.columns;s=Math.ceil(z/x)}for(y=0;y<z;y++){q=v[y];t=u.getRenderRowIndex(y,s,x);w=u.getRenderColumnIndex(y,s,x);if(!q.rendered){u.renderItem(q,t,w)}else{if(!u.isItemAtPosition(q,t,w)){u.moveItem(q,t,w)}}}u.pruneRows(s,x);Ext.resumeLayouts(true)}},isItemAtPosition:function(l,k,m){return l.el.dom===this.getItemNodeAt(k,m)},getRenderColumnIndex:function(l,m,k){if(this.vertical){return Math.floor(l/m)}else{return l%k}},getRenderRowIndex:function(l,m,k){if(this.vertical){return l%m}else{return Math.floor(l/k)}},getItemNodeAt:function(k,l){var m=this.getColumnNodeAt(k,l);return this.vertical?m.children[k]:m.children[0]},getRowNodeAt:function(k){var m=this,l;k=m.vertical?0:k;l=m.rowNodes[k];if(!l){l=m.rowNodes[k]=document.createElement("tr");l.role="presentation";m.tBodyNode.appendChild(l)}return l},getColumnNodeAt:function(l,n,m){var o;m=m||this.getRowNodeAt(l);o=m.children[n];if(!o){o=Ext.fly(m).appendChild({tag:"td",cls:this.owner.groupCls,vAlign:"top",role:"presentation"},true)}return o},pruneRows:function(t,v){var u=this,q=u.tBodyNode.children,y,s,z,w,x;t=u.vertical?1:t;while(q.length>t){s=q[q.length-1];s.parentNode.removeChild(s)}for(w=t-1;w>=0;w--){s=q[w];y=s.children;while(y.length>v){z=y[y.length-1];s.removeChild(z)}if(w>0){for(x=y.length-1;x>=0;x--){z=y[x];if(z.children.length===0){s.removeChild(z)}else{break}}}}},renderItem:function(o,n,q){var p=this,s,t;p.configureItem(o);t=p.vertical?n:0;s=Ext.get(p.getColumnNodeAt(n,q));o.render(s,t)},moveItem:function(p,v,s){var q=this,t,u,o;u=q.vertical?v:0;t=q.getColumnNodeAt(v,s);o=t.children[u];t.insertBefore(p.el.dom,o||null)}},0,0,0,0,["layout.checkboxgroup"],0,[Ext.layout.container,"CheckboxGroup"],0));(Ext.cmd.derive("Ext.form.CheckboxManager",Ext.util.MixedCollection,{singleton:true,getByName:function(k,g){return this.filterBy(function(e){return e.name===k&&e.getFormId()===g})}},0,0,0,0,0,0,[Ext.form,"CheckboxManager"],0));(Ext.cmd.derive("Ext.form.field.Checkbox",Ext.form.field.Base,{alternateClassName:"Ext.form.Checkbox",stretchInputElFixed:false,childEls:["boxLabelEl","innerWrapEl","displayEl"],fieldSubTpl:['<div id="{cmpId}-innerWrapEl" data-ref="innerWrapEl" role="presentation"',' class="{wrapInnerCls}">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<span id="{cmpId}-displayEl" data-ref="displayEl" role="presentation" class="{fieldCls} {typeCls} ','{typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}">','<input type="{inputType}" id="{id}" name="{inputName}" data-ref="inputEl" {inputAttrTpl}','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="checked"> checked="checked"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{checkboxCls}" autocomplete="off" hidefocus="true" ','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',"/>","</span>",'<tpl if="!labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>","</div>",{disableFormats:true,compiled:true}],publishes:{checked:1},subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:true,focusCls:"form-checkbox-focus",fieldBodyCls:"x-form-cb-wrap",checked:false,checkedCls:"x-form-cb-checked",boxLabelCls:"x-form-cb-label",boxLabelAlign:"after",afterLabelCls:"x-form-cb-after",wrapInnerCls:"x-form-cb-wrap-inner",noBoxLabelCls:"x-form-cb-no-box-label",inputValue:"on",checkChangeEvents:[],changeEventName:"change",inputType:"checkbox",isTextInput:false,ariaRole:"native",onRe:/^on$/i,inputCls:"x-form-cb",_checkboxCls:"x-form-cb-input",initComponent:function(){var k=this,g=k.value;if(g!==undefined){k.checked=k.isChecked(g,k.inputValue)}Ext.form.field.Base.prototype.initComponent.call(this);k.getManager().add(k)},initDefaultName:Ext.emptyFn,initValue:function(){var g=this,k=!!g.checked;g.originalValue=g.initialValue=g.lastValue=k;g.setValue(k)},getElConfig:function(){var f=this;if(f.isChecked(f.rawValue,f.inputValue)){f.addCls(f.checkedCls)}if(!f.fieldLabel){f.skipLabelForAttribute=true}return Ext.form.field.Base.prototype.getElConfig.call(this)},getModelData:function(){var f=Ext.form.field.Base.prototype.getModelData.apply(this,arguments);if(f){f[this.getName()]=this.getSubmitValue()}return f},getSubTplData:function(t){var q=this,s=q.boxLabel,v=q.boxLabelAlign,o=v==="before",p,u;p=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,t),{inputType:q.inputType,checkboxCls:q._checkboxCls,disabled:q.readOnly||q.disabled,checked:!!q.checked,wrapInnerCls:q.wrapInnerCls,boxLabel:s,boxLabelCls:q.boxLabelCls,boxLabelAlign:v,labelAlignedBefore:o,afterLabelCls:o?q.afterLabelCls:"",noBoxLabelCls:!s?q.noBoxLabelCls:"",inputName:q.name||q.id});u=p.inputElAriaAttributes;if(u){delete u["aria-readonly"]}return p},initEvents:function(){var f=this;Ext.form.field.Base.prototype.initEvents.call(this);f.inputEl.on(f.changeEventName,f.onChangeEvent,f,{delegated:false});if(Ext.isIE){f.bodyEl.on("mousedown",f.onBodyElMousedown,f)}else{if(Ext.isMac&&(Ext.isGecko||Ext.isSafari)){f.boxLabelEl.on("mousedown",f.onBoxLabelOrInputMousedown,f);f.inputEl.on("mousedown",f.onBoxLabelOrInputMousedown,f)}}},setBoxLabel:function(k){var g=this;g.boxLabel=k;if(g.rendered){g.boxLabelEl.setHtml(k);g.boxLabelEl[k?"removeCls":"addCls"](g.noBoxLabelCls);g.updateLayout()}},onBodyElMousedown:function(e){if(e.target!==this.inputEl.dom){e.preventDefault()}},onBoxLabelOrInputMousedown:function(e){this.inputEl.focus();e.preventDefault()},onChangeEvent:function(e){this.updateValueFromDom()},updateValueFromDom:function(){var k=this,g=k.inputEl&&k.inputEl.dom;if(g){k.checked=k.rawValue=k.value=g.checked;k.checkChange()}},updateCheckedCls:function(g){var k=this;g=g!=null?g:k.getValue();k[g?"addCls":"removeCls"](k.checkedCls)},getRawValue:function(){var f=this.inputEl&&this.inputEl.dom;return f?f.checked:this.checked},getValue:function(){var f=this.inputEl&&this.inputEl.dom;return f?f.checked:this.checked},getSubmitValue:function(){var k=this.uncheckedValue,g=Ext.isDefined(k)?k:null;return this.getValue()?this.inputValue:g},isChecked:function(k,m){var l=false;if(k===true||k==="true"){l=true}else{if(m!=="on"&&(m||m===0)&&(Ext.isString(k)||Ext.isNumber(k))){l=k==m}else{l=k==="1"||k===1||this.onRe.test(k)}}return l},setRawValue:function(m){var n=this,l=n.inputEl&&n.inputEl.dom,o=n.isChecked(m,n.inputValue);if(l){n.duringSetRawValue=true;l.checked=o;n.duringSetRawValue=false;n.updateCheckedCls(o)}n.checked=n.rawValue=o;if(!n.duringSetValue){n.lastValue=o}return o},setValue:function(n){var o=this,q,s,t,p;if(Ext.isArray(n)){q=o.getManager().getByName(o.name,o.getFormId()).items;t=q.length;for(s=0;s<t;++s){p=q[s];p.setValue(Ext.Array.contains(n,p.inputValue))}}else{o.duringSetValue=true;Ext.form.field.Base.prototype.setValue.apply(this,arguments);delete o.duringSetValue}return o},valueToRaw:Ext.identityFn,onChange:function(n,o){var l=this,m=l.handler;l.updateCheckedCls(n);if(m){Ext.callback(m,l.scope,[l,n],0,l)}Ext.form.field.Base.prototype.onChange.apply(this,arguments);if(l.reference&&l.publishState){l.publishState("checked",n)}},resetOriginalValue:function(s){var n=this,p,o,t,q;if(!s){p=n.getManager().getByName(n.name,n.getFormId()).items;t=p.length;for(q=0;q<t;++q){o=p[q];if(o!==n){p[q].resetOriginalValue(true)}}}Ext.form.field.Base.prototype.resetOriginalValue.call(this)},doDestroy:function(){this.getManager().removeAtKey(this.id);Ext.form.field.Base.prototype.doDestroy.call(this)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var k=this,g=k.inputEl&&k.inputEl.dom;Ext.form.field.Base.prototype.onEnable.call(this);if(g){g.disabled=k.readOnly}},setReadOnly:function(k){var m=this,l=m.inputEl&&m.inputEl.dom;if(l){l.disabled=!!k||m.disabled}Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments)},getFormId:function(){var g=this,k;if(!g.formId){k=g.up("form");if(k){g.formId=k.id}}return g.formId},getFocusClsEl:function(){return this.displayEl}},0,["checkbox","checkboxfield"],["component","box","field","checkboxfield","checkbox"],{component:true,box:true,field:true,checkboxfield:true,checkbox:true},["widget.checkbox","widget.checkboxfield"],0,[Ext.form.field,"Checkbox",Ext.form,"Checkbox"],0));Ext.define("Ext.theme.triton.form.field.Checkbox",{override:"Ext.form.field.Checkbox",compatibility:Ext.isIE8,initComponent:function(){(arguments.callee.$previous||Ext.form.field.Base.prototype.initComponent).call(this);Ext.on({show:"onGlobalShow",scope:this})},onFocus:function(e){var k;(arguments.callee.$previous||Ext.form.field.Base.prototype.onFocus).call(this,e);k=this.getFocusClsEl();if(k){k.syncRepaint()}},onBlur:function(e){var k;(arguments.callee.$previous||Ext.form.field.Base.prototype.onBlur).call(this,e);k=this.getFocusClsEl();if(k){k.syncRepaint()}},onGlobalShow:function(f){if(f.isAncestor(this)){this.getFocusClsEl().syncRepaint()}}});(Ext.cmd.derive("Ext.form.CheckboxGroup",Ext.form.FieldContainer,{isCheckboxGroup:true,columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",defaultBindProperty:"value",groupCls:"x-form-check-group",extraFieldBodyCls:"x-form-checkboxgroup-body",layout:"checkboxgroup",componentCls:"x-form-checkboxgroup",ariaRole:"group",ariaEl:"containerEl",skipLabelForAttribute:true,ariaRenderAttributes:{"aria-invalid":false},initComponent:function(){var f=this;f.name=f.name||f.id;Ext.form.FieldContainer.prototype.initComponent.call(this);f.initField()},initRenderData:function(){var o=this,v,t,q,s,u,p;v=Ext.form.FieldContainer.prototype.initRenderData.call(this);v.inputId=o.id+"-"+o.ariaEl;t=v.ariaAttributes;if(t){if(!t["aria-labelledby"]){t["aria-labelledby"]=o.id+"-labelTextEl"}}return v},initValue:function(){var g=this,k=g.value;g.originalValue=g.lastValue=k||g.getValue();if(k){g.setValue(k)}},onAdd:function(m){var n=this,p,q,o;if(m.isCheckbox){if(m.name==null){m.name=n.name}n.mon(m,"change",n.checkChange,n)}else{if(m.isContainer){p=m.items.items;for(o=0,q=p.length;o<q;o++){n.onAdd(p[o])}}}Ext.form.FieldContainer.prototype.onAdd.apply(this,arguments)},onRemove:function(m){var n=this,p,q,o;if(m.isCheckbox){n.mun(m,"change",n.checkChange,n)}else{if(m.isContainer){p=m.items.items;for(o=0,q=p.length;o<q;o++){n.onRemove(p[o])}}}Ext.form.FieldContainer.prototype.onRemove.apply(this,arguments)},isEqual:function(l,m){var k=Ext.Object.toQueryString;return k(l)===k(m)},getErrors:function(){var f=[];if(!this.allowBlank&&Ext.isEmpty(this.getChecked())){f.push(this.blankText)}return f},getBoxes:function(f){return this.query("[isCheckbox]"+(f||""))},eachBox:function(g,k){Ext.Array.forEach(this.getBoxes(),g,k||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var l=this.getBoxes(),m,k=l.length;for(m=0;m<k;m++){if(l[m].isDirty()){return true}}},setReadOnly:function(l){var n=this.getBoxes(),o,m=n.length;for(o=0;o<m;o++){n[o].setReadOnly(l)}this.readOnly=l},reset:function(){var k=this,l=k.hasActiveError(),m=k.preventMark;k.preventMark=true;k.batchChanges(function(){var f=k.getBoxes(),g,e=f.length;for(g=0;g<e;g++){f[g].reset()}});k.preventMark=m;k.unsetActiveError();if(l){k.updateLayout()}},resetOriginalValue:function(){var m=this,n=m.getBoxes(),o,l=n.length;for(o=0;o<l;o++){n[o].resetOriginalValue()}m.originalValue=m.getValue();m.checkDirty()},setValue:function(p){var q=this,t=q.getBoxes(),v,w=t.length,s,u,x;q.batchChanges(function(){Ext.suspendLayouts();for(v=0;v<w;v++){s=t[v];u=s.getName();x=false;if(p){if(Ext.isArray(p[u])){x=Ext.Array.contains(p[u],s.inputValue)}else{x=p[u]}}s.setValue(x)}Ext.resumeLayouts(true)});return q},getValue:function(){var t={},q=this.getBoxes(),u,w=q.length,p,s,v,x;for(u=0;u<w;u++){p=q[u];s=p.getName();v=p.inputValue;if(p.getValue()){if(t.hasOwnProperty(s)){x=t[s];if(!Ext.isArray(x)){x=t[s]=[x]}x.push(v)}else{t[s]=v}}}return t},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var o=this,l,m,n;if(o.disabled){m=true}else{l=o.getErrors();m=Ext.isEmpty(l);n=o.wasValid;if(m){o.unsetActiveError()}else{o.setActiveError(l)}}if(m!==n){o.wasValid=m;o.fireEvent("validitychange",o,m);o.updateLayout()}return m}},0,["checkboxgroup"],["component","box","container","fieldcontainer","checkboxgroup"],{component:true,box:true,container:true,fieldcontainer:true,checkboxgroup:true},["widget.checkboxgroup"],[["field",Ext.form.field.Field]],[Ext.form,"CheckboxGroup"],function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])}));(Ext.cmd.derive("Ext.form.FieldSet",Ext.container.Container,{checkboxUI:"default",collapsed:false,toggleOnTitleClick:true,baseCls:"x-fieldset",layout:"anchor",descriptionText:"{0} field set",expandText:"Expand field set",componentLayout:"fieldset",ariaRole:"group",focusable:false,autoEl:"fieldset",checkbox:null,childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:false,initComponent:function(){var g=this,k=g.baseCls;if(g.ariaRole&&!g.ariaLabel){g.ariaLabel=Ext.String.formatEncode(g.descriptionText,g.title||"")}g.ariaRenderAttributes=g.ariaRenderAttributes||{};g.ariaRenderAttributes["aria-expanded"]=!g.collapsed;g.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);g.layout.managePadding=g.layout.manageOverflow=false;if(g.collapsed){g.addCls(k+"-collapsed");g.collapse()}if(g.title||g.checkboxToggle||g.collapsible){g.addTitleClasses();g.legend=g.createLegendCt()}g.initMonitor()},initRenderData:function(){var k=this,g=Ext.container.Container.prototype.initRenderData.call(this);g.bodyTargetCls=k.bodyTargetCls;k.protoBody.writeTo(g);delete k.protoBody;return g},doDestroy:function(){var g=this,k=g.legend;if(k){delete k.ownerCt;k.destroy();g.legend=null}Ext.container.Container.prototype.doDestroy.call(this)},getState:function(){var f=Ext.container.Container.prototype.getState.call(this);f=this.addPropertyToState(f,"collapsed");return f},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return true},collapsedVertical:function(){return true},createLegendCt:function(){var m=this,o=[],l={baseCls:m.baseCls+"-header",layout:"container",ui:m.ui,id:m.id+"-legend",autoEl:"legend",ariaRole:null,items:o,ownerCt:m,shrinkWrap:true,ownerLayout:m.componentLayout},n;if(m.checkboxToggle){o.push(m.createCheckboxCmp())}else{if(m.collapsible){o.push(m.createToggleCmp())}}o.push(m.createTitleCmp());n=new Ext.container.Container(l);return n},createTitleCmp:function(){var g=this,k={html:g.title,ui:g.ui,cls:g.baseCls+"-header-text",id:g.id+"-legendTitle",ariaRole:"presentation"};if(g.collapsible&&g.toggleOnTitleClick){k.listeners={click:{element:"el",scope:g,fn:g.toggle}};k.cls+=" "+g.baseCls+"-header-text-collapsible"}g.titleCmp=new Ext.Component(k);return g.titleCmp},createCheckboxCmp:function(){var n=this,l="-checkbox",o=n.baseCls+"-header"+l,m;o+=" "+o+"-"+n.ui;n.checkboxCmp=m=new Ext.form.field.Checkbox(Ext.apply({hideEmptyLabel:true,name:n.checkboxName||n.id+l,cls:o,id:n.id+"-legendChk",ui:n.checkboxUI,checked:!n.collapsed,msgTarget:"none",listeners:{change:n.onCheckChange,scope:n},ariaLabel:n.expandText},n.checkbox));return m},createToggleCmp:function(){var k=this,g;k.toggleCmp=g=new Ext.panel.Tool({cacheHeight:false,cls:k.baseCls+"-header-tool-"+k.ui,type:"toggle",handler:k.toggle,id:k.id+"-legendToggle",scope:k,ariaRole:"checkbox",ariaLabel:k.expandText,ariaRenderAttributes:{"aria-checked":!k.collapsed}});return g},doRenderLegend:function(p,m){var n=m.$comp,o=n.legend,q;if(o){o.ownerLayout.configureItem(o);n.setLegendCollapseImmunity(o);q=o.getRenderTree();Ext.DomHelper.generateMarkup(q,p)}},getCollapsed:function(){return this.collapsed?"top":false},getCollapsedDockedItems:function(){var f=this.legend;return f?[f]:[]},setTitle:function(k){var l=this,m=l.legend;l.title=k;l.ariaLabel=Ext.String.formatEncode(l.descriptionText,k||"");if(l.rendered){if(!m){l.legend=m=l.createLegendCt();l.addTitleClasses();m.ownerLayout.configureItem(m);l.setLegendCollapseImmunity(m);m.render(l.el,0)}l.titleCmp.update(k);l.ariaEl.dom.setAttribute("aria-label",l.ariaLabel)}else{if(m){l.titleCmp.update(k)}else{l.addTitleClasses();l.legend=l.createLegendCt()}}return l},addTitleClasses:function(){var l=this,k=l.title,m=l.baseCls;if(k){l.addCls(m+"-with-title")}if(k||l.checkboxToggle||l.collapsible){l.addCls(m+"-with-legend")}},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setCollapsed:function(f){this.setExpanded(!f)},setExpanded:function(p){var o=this,n=o.checkboxCmp,m=o.toggleCmp,q=p?"expand":"collapse";if(!o.rendered||o.fireEvent("before"+q,o)!==false){p=!!p;if(n){n.setValue(p)}else{if(m&&m.ariaEl.dom){m.ariaEl.dom.setAttribute("aria-checked",p)}}if(p){o.removeCls(o.baseCls+"-collapsed")}else{o.addCls(o.baseCls+"-collapsed")}if(o.ariaEl.dom){o.ariaEl.dom.setAttribute("aria-expanded",!!p)}o.collapsed=!p;if(p){delete o.getInherited().collapsed}else{o.getInherited().collapsed=true}if(o.rendered){o.updateLayout({isRoot:false});o.fireEvent(q,o)}}return o},getRefItems:function(m){var k=Ext.container.Container.prototype.getRefItems.apply(this,arguments),l=this.legend;if(l){k.unshift(l);if(m){k.unshift.apply(k,l.getRefItems(true))}}return k},toggle:function(){this.setExpanded(!!this.collapsed)},privates:{applyTargetCls:function(f){this.bodyTargetCls=f},finishRender:function(){var f=this.legend;Ext.container.Container.prototype.finishRender.call(this);if(f){f.finishRender()}},getProtoBody:function(){var g=this,k=g.protoBody;if(!k){g.protoBody=k=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:true})}return k},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},initPadding:function(m){var o=this,q=o.getProtoBody(),n=o.padding,p;if(n!==undefined){if(Ext.isIE8){n=o.parseBox(n);p=Ext.Element.parseBox(0);p.top=n.top;n.top=0;q.setStyle("padding",o.unitizeBox(p))}m.setStyle("padding",o.unitizeBox(n))}},onCheckChange:function(g,k){this.setExpanded(k)},setLegendCollapseImmunity:function(f){f.collapseImmune=true;f.getInherited().collapseImmune=true},setupRenderTpl:function(f){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);f.renderLegend=this.doRenderLegend}}},0,["fieldset"],["component","box","container","fieldset"],{component:true,box:true,container:true,fieldset:true},["widget.fieldset"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldSet"],0));(Ext.cmd.derive("Ext.form.Label",Ext.Component,{autoEl:"label",maskOnDisable:false,getElConfig:function(){var f=this;f.html=f.text?Ext.util.Format.htmlEncode(f.text):(f.html||"");return Ext.apply(Ext.Component.prototype.getElConfig.call(this),{htmlFor:f.forId||""})},setText:function(k,l){var m=this;l=l!==false;if(l){m.text=k;delete m.html}else{m.html=k;delete m.text}if(m.rendered){m.el.dom.innerHTML=l!==false?Ext.util.Format.htmlEncode(k):k;m.updateLayout()}return m}},0,["label"],["component","box","label"],{component:true,box:true,label:true},["widget.label"],0,[Ext.form,"Label"],0));(Ext.cmd.derive("Ext.form.Panel",Ext.panel.Panel,{alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",bodyAriaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var f=this;if(f.frame){f.border=false}f.initFieldAncestor();Ext.panel.Panel.prototype.initComponent.call(this);f.relayEvents(f.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);if(f.pollForChanges){f.startPolling(f.pollInterval||500)}},initItems:function(){Ext.panel.Panel.prototype.initItems.call(this);this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){Ext.panel.Panel.prototype.afterFirstLayout.apply(this,arguments);this.form.initialize()},createForm:function(){var p={},n=this.basicFormConfigs,q=n.length,o=0,m;for(;o<q;++o){m=n[o];p[m]=this[m]}return new Ext.form.Basic(this,p)},getForm:function(){return this.form},loadRecord:function(f){return this.getForm().loadRecord(f)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(f){return this.getForm().updateRecord(f)},getValues:function(l,n,m,o){return this.getForm().getValues(l,n,m,o)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(f){return this.form.reset(f)},hasInvalidField:function(){return this.form.hasInvalidField()},doDestroy:function(){this.stopPolling();this.form.destroy();Ext.panel.Panel.prototype.doDestroy.call(this)},load:function(f){this.form.load(f)},submit:function(f){this.form.submit(f)},startPolling:function(g){this.stopPolling();var k=new Ext.util.TaskRunner(g);k.start({interval:0,run:this.checkChange,scope:this});this.pollTask=k},stopPolling:function(){var f=this.pollTask;if(f){f.stopAll();delete this.pollTask}},checkChange:function(){var m=this.form.getFields().items,l,f=m.length;for(l=0;l<f;l++){m[l].checkChange()}}},0,["form"],["component","box","container","panel","form"],{component:true,box:true,container:true,panel:true,form:true},["widget.form"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"Panel",Ext,"FormPanel",Ext.form,"FormPanel"],0));(Ext.cmd.derive("Ext.form.RadioManager",Ext.util.MixedCollection,{singleton:true,getByName:function(k,g){return this.filterBy(function(e){return e.name===k&&e.getFormId()===g})},getWithValue:function(m,l,k){return this.filterBy(function(e){return e.name===m&&e.inputValue==l&&e.getFormId()===k})},getChecked:function(k,g){return this.findBy(function(e){return e.name===k&&e.checked&&e.getFormId()===g})}},0,0,0,0,0,0,[Ext.form,"RadioManager"],0));(Ext.cmd.derive("Ext.form.field.Radio",Ext.form.field.Checkbox,{alternateClassName:"Ext.form.Radio",isRadio:true,inputType:"radio",formId:null,getGroupValue:function(){var f=this.getManager().getChecked(this.name,this.getFormId());return f?f.inputValue:null},onRemoved:function(){Ext.form.field.Checkbox.prototype.onRemoved.apply(this,arguments);this.formId=null},setValue:function(l){var m=this,k;if(Ext.isBoolean(l)){Ext.form.field.Checkbox.prototype.setValue.apply(this,arguments)}else{k=m.getManager().getWithValue(m.name,l,m.getFormId()).getAt(0);if(k){k.setValue(true)}}return m},getSubmitValue:function(){return this.checked?this.inputValue:null},onChange:function(t,v){var x=this,s=x.ownerCt,p,q,u,w;Ext.form.field.Checkbox.prototype.onChange.apply(this,arguments);if(t){w=x.getManager().getByName(x.name,x.getFormId()).items;q=w.length;for(p=0;p<q;p++){u=w[p];if(u!==x){u.updateValueFromDom()}}}if(s&&s.isRadioGroup&&s.simpleValue){s.checkChange()}},getManager:function(){return Ext.form.RadioManager}},0,["radiofield","radio"],["component","box","field","checkboxfield","checkbox","radiofield","radio"],{component:true,box:true,field:true,checkboxfield:true,checkbox:true,radiofield:true,radio:true},["widget.radio","widget.radiofield"],0,[Ext.form.field,"Radio",Ext.form,"Radio"],0));(Ext.cmd.derive("Ext.form.RadioGroup",Ext.form.CheckboxGroup,{isRadioGroup:true,allowBlank:true,blankText:"You must select one item in this group",defaultType:"radiofield",local:false,simpleValue:false,defaultBindProperty:"value",groupCls:"x-form-radio-group",ariaRole:"radiogroup",initRenderData:function(){var l=this,k,m;k=Ext.form.CheckboxGroup.prototype.initRenderData.call(this);m=k.ariaAttributes;if(m){m["aria-required"]=!l.allowBlank;m["aria-invalid"]=false}return k},lookupComponent:function(g){var k=Ext.form.CheckboxGroup.prototype.lookupComponent.call(this,g);if(this.local){k.formId=this.getId()}return k},getBoxes:function(g,k){return(k||this).query("[isRadio]"+(g||""))},checkChange:function(){var l=this,k,m;k=l.getValue();m=typeof k==="object"&&Ext.Object.getKeys(k)[0];if(l.simpleValue||(m&&!Ext.isArray(k[m]))){Ext.form.CheckboxGroup.prototype.checkChange.apply(this,arguments)}},isEqual:function(g,k){if(this.simpleValue){return g===k}return Ext.form.CheckboxGroup.prototype.isEqual.call(this,g,k)},getValue:function(){var m=this,q=m.items.items,o,n,p;if(m.simpleValue){for(o=q.length;o-->0;){n=q[o];if(n.checked){p=n.inputValue;break}}}else{p=Ext.form.CheckboxGroup.prototype.getValue.call(this)}return p},setValue:function(s){var u=this.items,y,t,q,v,x,w,z;Ext.suspendLayouts();if(this.simpleValue){for(x=0,w=u.length;x<w;++x){t=u.items[x];if(t.inputValue===s){t.setValue(true);break}}}else{if(Ext.isObject(s)){t=u.first();q=t?t.getFormId():null;for(z in s){y=s[z];v=Ext.form.RadioManager.getWithValue(z,y,q).items;w=v.length;for(x=0;x<w;++x){v[x].setValue(true)}}}}Ext.resumeLayouts(true);return this},markInvalid:function(g){var k=this.ariaEl.dom;Ext.form.CheckboxGroup.prototype.markInvalid.call(this,g);if(k){k.setAttribute("aria-invalid",true)}},clearInvalid:function(){var f=this.ariaEl.dom;Ext.form.CheckboxGroup.prototype.clearInvalid.call(this);if(f){f.setAttribute("aria-invalid",false)}}},0,["radiogroup"],["component","box","container","fieldcontainer","checkboxgroup","radiogroup"],{component:true,box:true,container:true,fieldcontainer:true,checkboxgroup:true,radiogroup:true},["widget.radiogroup"],0,[Ext.form,"RadioGroup"],function(){if(Ext.isGecko){this.override({onFocusEnter:function(n){var o=n.toComponent,e,p,q;if(o.isRadio){e=o.getManager().getByName(o.name,o.getFormId()).items;for(p=0,q=e.length;p<q;p++){e[p].disableTabbing()}}},onFocusLeave:function(n){var o=n.fromComponent,e,p,q;if(o.isRadio){e=o.getManager().getByName(o.name,o.getFormId()).items;for(p=0,q=e.length;p<q;p++){e[p].enableTabbing()}}}})}}));(Ext.cmd.derive("Ext.form.action.DirectAction",Ext.Mixin,{mixinConfig:{id:"directaction"},resolveMethod:function(o){var m=this,n=m.form,p,q;p=Ext.direct.Manager.resolveApi(n.api,m);q=p[o];if(!q){Ext.raise("Cannot resolve Ext Direct API method "+fnName+" for "+o+" action")}return q}},0,0,0,0,0,0,[Ext.form.action,"DirectAction"],0));(Ext.cmd.derive("Ext.form.action.DirectLoad",Ext.form.action.Load,{alternateClassName:"Ext.form.Action.DirectLoad",type:"directload",run:function(){var o=this,p=o.form,s=o.metadata||p.metadata,n=o.timeout||p.timeout,t,q;q=o.resolveMethod("load");t=q.directCfg.method.getArgs({params:o.getParams(),paramOrder:p.paramOrder,paramsAsHash:p.paramsAsHash,options:n!=null?{timeout:n*1000}:null,metadata:s,callback:o.onComplete,scope:o});q.apply(window,t)},processResponse:function(f){return(this.result=f)},onComplete:function(f){if(f){this.onSuccess(f)}else{this.onFailure(null)}}},0,0,0,0,["formaction.directload"],[[Ext.form.action.DirectAction.prototype.mixinId||Ext.form.action.DirectAction.$className,Ext.form.action.DirectAction]],[Ext.form.action,"DirectLoad",Ext.form.Action,"DirectLoad"],0));(Ext.cmd.derive("Ext.form.action.DirectSubmit",Ext.form.action.Submit,{alternateClassName:"Ext.form.Action.DirectSubmit",type:"directsubmit",doSubmit:function(){var p=this,q=p.form,t=p.metadata||q.metadata,o=p.timeout||q.timeout,s,v,u;s=p.resolveMethod("submit");v=p.buildForm();u=s.directCfg.method.getArgs({params:v.formEl,options:o!=null?{timeout:o*1000}:null,metadata:t,callback:p.onComplete,scope:p});s.apply(window,u);p.cleanup(v)},processResponse:function(f){return(this.result=f)},onComplete:function(f){if(f){this.onSuccess(f)}else{this.onFailure(null)}}},0,0,0,0,["formaction.directsubmit"],[[Ext.form.action.DirectAction.prototype.mixinId||Ext.form.action.DirectAction.$className,Ext.form.action.DirectAction]],[Ext.form.action,"DirectSubmit",Ext.form.Action,"DirectSubmit"],0));(Ext.cmd.derive("Ext.picker.Month",Ext.Component,{alternateClassName:"Ext.MonthPicker",isMonthPicker:true,focusable:true,childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>',"</div>","</tpl>","</div>",'<div class="x-clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:"x-monthpicker",showButtons:true,footerButtonUI:"default",measureWidth:35,measureMaxHeight:20,smallCls:"x-monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,alignOnScroll:false,initComponent:function(){var f=this;f.selectedCls=f.baseCls+"-selected";if(f.small){f.addCls(f.smallCls)}f.setValue(f.value);f.activeYear=f.getYear(new Date().getFullYear()-4,-4);if(f.showButtons){f.okBtn=new Ext.button.Button({ui:f.footerButtonUI,text:f.okText,handler:f.onOkClick,scope:f});f.cancelBtn=new Ext.button.Button({ui:f.footerButtonUI,text:f.cancelText,handler:f.onCancelClick,scope:f})}Ext.Component.prototype.initComponent.call(this)},beforeRender:function(){var o=this,s=0,t=[],u=Ext.Date.getShortMonthName,p=o.monthOffset,v=o.monthMargin,q="";if(o.padding&&!o.width){o.cacheWidth()}Ext.Component.prototype.beforeRender.call(this);for(;s<p;++s){t.push(u(s),u(s+p))}if(Ext.isDefined(v)){q="margin: 0 "+v+"px;"}Ext.apply(o.renderData,{months:t,years:o.getYears(),showButtons:o.showButtons,monthStyle:q})},cacheWidth:function(){var m=this,l=m.parseBox(m.padding),k=Ext.getBody().createChild({cls:m.baseCls+" "+m.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});m.self.prototype.width=k.getWidth()+l.left+l.right;k.destroy()},afterRender:function(){var g=this,k=g.bodyEl;Ext.Component.prototype.afterRender.call(this);if(g.up("[floating=true]")){g.el.on("mousedown",g.onElClick,g,{translate:false})}k.on({scope:g,click:"onBodyClick",dblclick:"onBodyClick"});g.years=k.select("."+g.baseCls+"-year a");g.months=k.select("."+g.baseCls+"-month a");g.backRepeater=new Ext.util.ClickRepeater(g.prevEl,{handler:Ext.Function.bind(g.adjustYear,g,[-g.totalYears])});g.prevEl.addClsOnOver(g.baseCls+"-yearnav-prev-over");g.nextRepeater=new Ext.util.ClickRepeater(g.nextEl,{handler:Ext.Function.bind(g.adjustYear,g,[g.totalYears])});g.nextEl.addClsOnOver(g.baseCls+"-yearnav-next-over");g.updateBody();if(!Ext.isDefined(g.monthMargin)){Ext.picker.Month.prototype.monthMargin=g.calculateMonthMargin()}},calculateMonthMargin:function(){var m=this,o=m.months,l=o.first(),n=l.getMargin("l");while(n&&m.getLargest()>m.measureMaxHeight){--n;o.setStyle("margin","0 "+n+"px")}return n},getLargest:function(k){var g=0;this.months.each(function(e){var f=e.getHeight();if(f>g){g=f}});return g},setValue:function(m){var n=this,l=n.activeYear,o;if(!m){n.value=[null,null]}else{if(Ext.isDate(m)){n.value=[m.getMonth(),m.getFullYear()]}else{n.value=[m[0],m[1]]}}if(n.rendered){o=n.value[1];if(o!==null){if((o<l||o>l+n.yearOffset)){n.activeYear=o-n.yearOffset+1}}n.updateBody()}return n},getValue:function(){return this.value},hasSelection:function(){var f=this.value;return f[0]!==null&&f[1]!==null},getYears:function(){var p=this,o=p.yearOffset,n=p.activeYear,t=n+o,q=n,s=[];for(;q<t;++q){s.push(q,q+o)}return s},updateBody:function(){var x=this,A=x.years,D=x.months,G=x.getYears(),F=x.selectedCls,v=x.getYear(null),z=x.value[0],H=x.monthOffset,y,B,w,E,C;if(x.rendered){A.removeCls(F);D.removeCls(F);B=A.elements;E=B.length;for(w=0;w<E;w++){C=Ext.fly(B[w]);y=G[w];C.dom.innerHTML=y;if(y===v){C.addCls(F)}}if(z!==null){if(z<H){z=z*2}else{z=(z-H)*2+1}D.item(z).addCls(F)}}},getYear:function(m,k){var l=this.value[1];k=k||0;return l===null?m:l+k},onElClick:function(e){e.stopEvent()},onBodyClick:function(e,n){var m=this,o=e.type==="dblclick";if(e.getTarget("."+m.baseCls+"-month")){e.stopEvent();m.onMonthClick(n,o)}else{if(e.getTarget("."+m.baseCls+"-year")){e.stopEvent();m.onYearClick(n,o)}}},adjustYear:function(f){if(typeof f!=="number"){f=this.totalYears}this.activeYear+=f;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(k,m){var l=this;l.value[0]=l.resolveOffset(l.months.indexOf(k),l.monthOffset);l.updateBody();l.fireEvent("month"+(m?"dbl":"")+"click",l,l.value);l.fireEvent("select",l,l.value)},onYearClick:function(k,m){var l=this;l.value[1]=l.activeYear+l.resolveOffset(l.years.indexOf(k),l.yearOffset);l.updateBody();l.fireEvent("year"+(m?"dbl":"")+"click",l,l.value);l.fireEvent("select",l,l.value)},resolveOffset:function(k,g){if(k%2===0){return(k/2)}else{return g+Math.floor(k/2)}},doDestroy:function(){Ext.destroy(this.backRepeater,this.nextRepeater,this.okBtn,this.cancelBtn);Ext.Component.prototype.doDestroy.call(this)},privates:{finishRenderChildren:function(){var f=this;Ext.Component.prototype.finishRenderChildren.apply(this,arguments);if(this.showButtons){f.okBtn.finishRender();f.cancelBtn.finishRender()}}}},0,["monthpicker"],["component","box","monthpicker"],{component:true,box:true,monthpicker:true},["widget.monthpicker"],0,[Ext.picker,"Month",Ext,"MonthPicker"],0));Ext.define("Ext.theme.neptune.picker.Month",{override:"Ext.picker.Month",measureMaxHeight:36});Ext.define("Ext.theme.triton.picker.Month",{override:"Ext.picker.Month",footerButtonUI:"default-toolbar",calculateMonthMargin:Ext.emptyFn});(Ext.cmd.derive("Ext.picker.Date",Ext.Component,{alternateClassName:"Ext.DatePicker",todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",ariaMinText:"This date is before the minimum date",maxText:"This date is after the maximum date",ariaMaxText:"This date is after the maximum date",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date is disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:true,disableAnim:false,baseCls:"x-datepicker",longDayFormat:"F d, Y",footerButtonUI:"default",isDatePicker:true,alignOnScroll:false,ariaRole:"region",focusable:true,childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:true,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl" role="presentation">','<div class="{baseCls}-header">','<div id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="presentation" title="{prevText}"></div>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month" role="heading">{%this.renderMonthBtn(values, out)%}</div>','<div id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="presentation" title="{nextText}"></div>',"</div>",'<table role="grid" id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" cellspacing="0" tabindex="0" aria-readonly="true">',"<thead>",'<tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" aria-label="{.}">','<div role="presentation" class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr>","</thead>","<tbody>",'<tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell">','<div hidefocus="on" class="{parent.baseCls}-date"></div>',"</td>","</tpl>","</tr>","</tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>",'<div id="{id}-todayText" class="x-hidden-clip">{todayText}.</div>','<div id="{id}-ariaMinText" class="x-hidden-clip">{ariaMinText}.</div>','<div id="{id}-ariaMaxText" class="x-hidden-clip">{ariaMaxText}.</div>','<div id="{id}-ariaDisabledDaysText" class="x-hidden-clip">{ariaDisabledDaysText}.</div>','<div id="{id}-ariaDisabledDatesText" class="x-hidden-clip">{ariaDisabledDatesText}.</div>',"</div>",{firstInitial:function(f){return Ext.picker.Date.prototype.getDayInitial(f)},isEndOfWeek:function(g){g--;var k=g%7===0&&g!==0;return k?'</tr><tr role="row">':""},renderTodayBtn:function(k,g){Ext.DomHelper.generateMarkup(k.$comp.todayBtn.getRenderTree(),g)},renderMonthBtn:function(k,g){Ext.DomHelper.generateMarkup(k.$comp.monthBtn.getRenderTree(),g)}}],initHour:12,numDays:42,initComponent:function(){var g=this,k=Ext.Date.clearTime;g.selectedCls=g.baseCls+"-selected";g.disabledCellCls=g.baseCls+"-disabled";g.prevCls=g.baseCls+"-prevday";g.activeCls=g.baseCls+"-active";g.cellCls=g.baseCls+"-cell";g.nextCls=g.baseCls+"-prevday";g.todayCls=g.baseCls+"-today";if(!g.format){g.format=Ext.Date.defaultFormat}if(!g.dayNames){g.dayNames=Ext.Date.dayNames}g.dayNames=g.dayNames.slice(g.startDay).concat(g.dayNames.slice(0,g.startDay));Ext.Component.prototype.initComponent.call(this);g.value=g.value?k(g.value,true):k(new Date());g.initDisabledDays()},getRefOwner:function(){return this.pickerField||Ext.Component.prototype.getRefOwner.call(this)},getRefItems:function(){var m=[],k=this.monthBtn,l=this.todayBtn;if(k){m.push(k)}if(l){m.push(l)}return m},beforeRender:function(){var m=this,n=Ext.String.htmlEncode,l=new Array(m.numDays),o=Ext.Date.format(new Date(),m.format);if(m.padding&&!m.width){m.cacheWidth()}m.monthBtn=new Ext.button.Split({ownerCt:m,ownerLayout:m.getComponentLayout(),text:"",tooltip:m.monthYearText,tabIndex:-1,ariaRole:"presentation",listeners:{click:m.doShowMonthPicker,arrowclick:m.doShowMonthPicker,scope:m}});if(m.showToday){m.todayBtn=new Ext.button.Button({ui:m.footerButtonUI,ownerCt:m,ownerLayout:m.getComponentLayout(),text:Ext.String.format(m.todayText,o),tooltip:Ext.String.format(m.todayTip,o),tooltipType:"title",tabIndex:-1,ariaRole:"presentation",handler:m.selectToday,scope:m})}Ext.Component.prototype.beforeRender.call(this);Ext.applyIf(m,{renderData:{}});Ext.apply(m.renderData,{dayNames:m.dayNames,showToday:m.showToday,prevText:n(m.prevText),nextText:n(m.nextText),todayText:n(m.todayText),ariaMinText:n(m.ariaMinText),ariaMaxText:n(m.ariaMaxText),ariaDisabledDaysText:n(m.ariaDisabledDaysText),ariaDisabledDatesText:n(m.ariaDisabledDatesText),days:l});m.protoEl.unselectable()},cacheWidth:function(){var m=this,l=m.parseBox(m.padding),k=Ext.getBody().createChild({cls:m.baseCls+" "+m.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});m.self.prototype.width=k.getWidth()+l.left+l.right;k.destroy()},onRender:function(n,o){var m=this,l="div."+m.baseCls+"-date";Ext.Component.prototype.onRender.apply(this,arguments);m.cells=m.eventEl.select("tbody td");m.textNodes=m.eventEl.query(l);m.eventEl.set({"aria-labelledby":m.monthBtn.id});m.mon(m.eventEl,{scope:m,mousewheel:m.handleMouseWheel,click:{fn:m.handleDateClick,delegate:l}})},initEvents:function(){var f=this;Ext.Component.prototype.initEvents.call(this);if(f.pickerField){f.el.on("mousedown",f.onMouseDown,f)}f.monthBtn.el.on("mousedown",f.onMouseDown,f);f.prevRepeater=new Ext.util.ClickRepeater(f.prevEl,{handler:f.showPrevMonth,scope:f,mousedownStopEvent:true});f.nextRepeater=new Ext.util.ClickRepeater(f.nextEl,{handler:f.showNextMonth,scope:f,mousedownStopEvent:true});f.keyNav=new Ext.util.KeyNav(f.eventEl,Ext.apply({scope:f,left:function(e){if(e.ctrlKey){this.showPrevMonth()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-1))}e.preventDefault()},right:function(e){if(e.ctrlKey){this.showNextMonth()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,1))}e.preventDefault()},up:function(e){if(e.ctrlKey){this.showNextYear()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-7))}e.preventDefault()},down:function(e){if(e.ctrlKey){this.showPrevYear()}else{this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,7))}e.preventDefault()},pageUp:function(e){if(e.ctrlKey){this.showPrevYear()}else{this.showPrevMonth()}e.preventDefault()},pageDown:function(e){if(e.ctrlKey){this.showNextYear()}else{this.showNextMonth()}e.preventDefault()},home:function(e){this.update(Ext.Date.getFirstDateOfMonth(this.activeDate));e.preventDefault()},end:function(e){this.update(Ext.Date.getLastDateOfMonth(this.activeDate));e.preventDefault()},tab:function(e){this.handleTabKey(e);return true},enter:function(e){this.handleDateClick(e,this.activeCell.firstChild)},space:function(o){var q=this,t=q.pickerField,s,p,e;q.setValue(new Date(q.activeCell.firstChild.dateValue));if(t){s=q.startValue;p=q.value;e=t.getValue();if(e&&s&&e.getTime()===p.getTime()){t.setValue(s)}else{t.setValue(p)}}o.preventDefault()}},f.keyNavConfig));if(f.disabled){f.syncDisabled(true,true)}f.update(f.value)},onMouseDown:function(e){e.preventDefault()},handleTabKey:function(e){var m=this,o=m.getSelectedDate(m.activeDate),n=m.handler;if(!m.disabled&&o.dateValue&&!Ext.fly(o.parentNode).hasCls(m.disabledCellCls)){m.setValue(new Date(o.dateValue));m.fireEvent("select",m,m.value);if(n){Ext.callback(n,m.scope,[m,m.value],null,m,m)}m.onSelect()}else{m.fireEventArgs("tabout",[m])}},getSelectedDate:function(z){var x=this,t=z.getTime(),s=x.cells,q=x.selectedCls,v=s.elements,w=v.length,u,y;s.removeCls(q);for(y=0;y<w;y++){u=v[y].firstChild;if(u.dateValue===t){return u}}return null},initDisabledDays:function(){var o=this,t=o.disabledDates,p="(?:",u,v,s,q;if(!o.disabledDatesRE&&t){u=t.length-1;s=t.length;for(v=0;v<s;v++){q=t[v];p+=Ext.isDate(q)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(q,o.format))+"$":q;if(v!==u){p+="|"}}o.disabledDatesRE=new RegExp(p+")")}},setDisabledDates:function(k){var g=this;if(Ext.isArray(k)){g.disabledDates=k;g.disabledDatesRE=null}else{g.disabledDatesRE=k}g.initDisabledDays();g.update(g.value,true);return g},setDisabledDays:function(f){this.disabledDays=f;return this.update(this.value,true)},setMinDate:function(f){this.minDate=f;return this.update(this.value,true)},setMaxDate:function(f){this.maxDate=f;return this.update(this.value,true)},setValue:function(f){this.value=Ext.Date.clearTime(f||new Date(),true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(f){return f.substr(0,1)},onEnable:function(){var f=this;Ext.Component.prototype.onEnable.call(this);f.syncDisabled(false,true);f.update(f.activeDate)},onShow:function(){var f=this;Ext.Component.prototype.onShow.call(this);f.syncDisabled(false);if(f.pickerField){f.startValue=f.pickerField.getValue()}},onHide:function(){Ext.Component.prototype.onHide.call(this);this.syncDisabled(true)},onDisable:function(){Ext.Component.prototype.onDisable.call(this);this.syncDisabled(true,true)},getActive:function(){return this.activeDate||this.value},runAnimation:function(k){var l=this.monthPicker,m={duration:200,callback:function(){l.setVisible(!k)}};if(k){l.el.slideOut("t",m)}else{l.el.slideIn("t",m)}},hideMonthPicker:function(m){var k=this,l=k.monthPicker;if(l&&l.isVisible()){if(k.shouldAnimate(m)){k.runAnimation(true)}else{l.hide()}}return k},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(o){var l=this,m=l.el,n;if(l.rendered&&!l.disabled){n=l.createMonthPicker();if(!n.isVisible()){n.setValue(l.getActive());n.setSize(m.getSize());n.floatParent=null;n.setPosition(-m.getBorderWidth("l"),-m.getBorderWidth("t"));if(l.shouldAnimate(o)){l.runAnimation(false)}else{n.show()}}}return l},shouldAnimate:function(f){return Ext.isDefined(f)?f:!this.disableAnim},createMonthPicker:function(){var g=this,k=g.monthPicker;if(!k){g.monthPicker=k=new Ext.picker.Month({renderTo:g.el,ownerCmp:g,floating:true,padding:g.padding,shadow:false,small:g.showToday===false,footerButtonUI:g.footerButtonUI,listeners:{scope:g,cancelclick:g.onCancelClick,okclick:g.onOkClick,yeardblclick:g.onOkClick,monthdblclick:g.onOkClick}});if(!g.disableAnim){k.el.setStyle("display","none")}k.hide();g.on("beforehide",g.doHideMonthPicker,g)}return k},onOkClick:function(s,o){var p=this,n=o[0],q=o[1],t=new Date(q,n,p.getActive().getDate());if(t.getMonth()!==n){t=Ext.Date.getLastDateOfMonth(new Date(q,n,1))}p.setValue(t);p.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(k){var e;k.stopEvent();if(!this.disabled){e=k.getWheelDelta();if(e>0){this.showPrevMonth()}else{if(e<0){this.showNextMonth()}}}},handleDateClick:function(e,o){var m=this,n=m.handler;e.stopEvent();if(!m.disabled&&o.dateValue&&!Ext.fly(o.parentNode).hasCls(m.disabledCellCls)){m.setValue(new Date(o.dateValue));m.fireEvent("select",m,m.value);if(n){Ext.callback(n,m.scope,[m,m.value],null,m,m)}m.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var k=this,m=k.todayBtn,l=k.handler;if(m&&!m.disabled){k.setValue(Ext.Date.clearTime(new Date()));k.fireEvent("select",k,k.value);if(l){Ext.callback(l,k.scope,[k,k.value],null,k,k)}k.onSelect()}return k},selectedUpdate:function(s){var p=this,q=s.getTime(),t=p.cells,u=p.selectedCls,w,x=t.getCount(),v;p.eventEl.dom.setAttribute("aria-busy","true");v=p.activeCell;if(v){Ext.fly(v).removeCls(u);v.setAttribute("aria-selected",false)}for(w=0;w<x;w++){v=t.item(w);if(p.textNodes[w].dateValue===q){p.activeCell=v.dom;p.eventEl.dom.setAttribute("aria-activedescendant",v.dom.id);v.dom.setAttribute("aria-selected",true);v.addCls(u);p.fireEvent("highlightitem",p,v);break}}p.eventEl.dom.removeAttribute("aria-busy")},fullUpdate:function(aa){var R=this,ao=R.cells.elements,ap=R.textNodes,O=R.disabledCellCls,ae=Ext.Date,ah=0,U=0,aj=+ae.clearTime(aa,true),ac=+ae.clearTime(new Date()),Q=R.minDate?ae.clearTime(R.minDate,true):Number.NEGATIVE_INFINITY,ai=R.maxDate?ae.clearTime(R.maxDate,true):Number.POSITIVE_INFINITY,W=R.disabledDatesRE,S=R.disabledDatesText,N=R.disabledDays?R.disabledDays.join(""):false,Y=R.disabledDaysText,af=R.format,ak=ae.getDaysInMonth(aa),X=ae.getFirstDateOfMonth(aa),an=X.getDay()-R.startDay,ad=ae.add(aa,ae.MONTH,-1),Z=R.ariaTitleDateFormat,al,V,ar,P,ag,ab,aq,am,T;if(an<0){an+=7}ak+=an;al=ae.getDaysInMonth(ad)-an;V=new Date(ad.getFullYear(),ad.getMonth(),al,R.initHour);if(R.showToday){P=ae.clearTime(new Date());ar=(P<Q||P>ai||(W&&af&&W.test(ae.dateFormat(P,af)))||(N&&N.indexOf(P.getDay())!==-1));R.todayDisabled=ar;if(!R.disabled){R.todayBtn.setDisabled(ar)}}ag=function(f,g){var k=ao[f],e=[];if(!k.hasAttribute("id")){k.setAttribute("id",R.id+"-cell-"+f)}T=+ae.clearTime(V,true);k.firstChild.dateValue=T;k.setAttribute("aria-label",ae.format(V,Z));k.removeAttribute("aria-describedby");k.removeAttribute("data-qtip");if(T===ac){g+=" "+R.todayCls;e.push(R.id+"-todayText")}if(T===aj){R.activeCell=k;R.eventEl.dom.setAttribute("aria-activedescendant",k.id);k.setAttribute("aria-selected",true);g+=" "+R.selectedCls;R.fireEvent("highlightitem",R,k)}else{k.setAttribute("aria-selected",false)}if(T<Q){g+=" "+O;e.push(R.id+"-ariaMinText");k.setAttribute("data-qtip",R.minText)}else{if(T>ai){g+=" "+O;e.push(R.id+"-ariaMaxText");k.setAttribute("data-qtip",R.maxText)}else{if(N&&N.indexOf(V.getDay())!==-1){k.setAttribute("data-qtip",Y);e.push(R.id+"-ariaDisabledDaysText");g+=" "+O}else{if(W&&af){am=ae.dateFormat(V,af);if(W.test(am)){k.setAttribute("data-qtip",S.replace("%0",am));e.push(R.id+"-ariaDisabledDatesText");g+=" "+O}}}}}if(e.length){k.setAttribute("aria-describedby",e.join(" "))}k.className=g+" "+R.cellCls};R.eventEl.dom.setAttribute("aria-busy","true");for(;ah<R.numDays;++ah){if(ah<an){ab=(++al);aq=R.prevCls}else{if(ah>=ak){ab=(++U);aq=R.nextCls}else{ab=ah-an+1;aq=R.activeCls}}ap[ah].innerHTML=ab;V.setDate(V.getDate()+1);ag(ah,aq)}R.eventEl.dom.removeAttribute("aria-busy");R.monthBtn.setText(Ext.Date.format(aa,R.monthYearFormat))},update:function(o,l){var n=this,m=n.activeDate;if(n.rendered){n.activeDate=o;if(!l&&m&&n.el&&m.getMonth()===o.getMonth()&&m.getFullYear()===o.getFullYear()){n.selectedUpdate(o,m)}else{n.fullUpdate(o,m)}}return n},doDestroy:function(){var f=this;if(f.rendered){Ext.destroy(f.keyNav,f.monthPicker,f.monthBtn,f.nextRepeater,f.prevRepeater,f.todayBtn,f.todayElSpan)}Ext.Component.prototype.doDestroy.call(this)},privates:{finishRenderChildren:function(){var f=this;Ext.Component.prototype.finishRenderChildren.call(this);f.monthBtn.finishRender();if(f.showToday){f.todayBtn.finishRender()}},getFocusEl:function(){return this.eventEl},syncDisabled:function(o,p){var m=this,q=m.keyNav,n=m.todayBtn;if(q){q.setDisabled(o);m.prevRepeater.setDisabled(o);m.nextRepeater.setDisabled(o)}if(p&&n){n.setDisabled(m.todayDisabled||o)}}}},0,["datepicker"],["component","box","datepicker"],{component:true,box:true,datepicker:true},["widget.datepicker"],0,[Ext.picker,"Date",Ext,"DatePicker"],0));Ext.define("Ext.theme.triton.picker.Date",{override:"Ext.picker.Date",footerButtonUI:"default-toolbar"});(Ext.cmd.derive("Ext.form.field.Date",Ext.form.field.Picker,{alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",ariaFormat:"M j Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date cannot be selected",minText:"The date in this field must be equal to or after {0}",ariaMinText:"The date must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",ariaMaxText:"The date must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",formatText:"Expected date format {0}.",triggerCls:"x-form-date-trigger",showToday:true,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,valuePublishEvent:["select","blur"],componentCls:"x-form-field-date",ariaRole:"combobox",rawDate:null,rawDateText:"",initComponent:function(){var l=this,n=Ext.isString,m,o;m=l.minValue;o=l.maxValue;if(n(m)){l.minValue=l.parseDate(m)}if(n(o)){l.maxValue=l.parseDate(o)}l.disabledDatesRE=null;l.initDisabledDays();Ext.form.field.Picker.prototype.initComponent.call(this)},getSubTplData:function(n){var m=this,l,o;l=Ext.form.field.Picker.prototype.getSubTplData.call(this,n);if(!m.ariaStaticRoles[m.ariaRole]){o=l.ariaElAttributes;if(o){o["aria-owns"]=m.id+"-inputEl "+m.id+"-picker-eventEl";o["aria-autocomplete"]="none"}}return l},initValue:function(){var k=this,g=k.value;if(Ext.isString(g)){k.value=k.rawToValue(g);k.rawDate=k.value;k.rawDateText=k.parseDate(k.value)}else{k.value=g||null;k.rawDate=k.value;k.rawDateText=k.value?k.parseDate(k.value):""}Ext.form.field.Picker.prototype.initValue.call(this)},initDisabledDays:function(){if(this.disabledDates){var s=this.disabledDates,t=s.length-1,o="(?:",n,p=s.length,q;for(n=0;n<p;n++){q=s[n];o+=Ext.isDate(q)?"^"+Ext.String.escapeRegex(q.dateFormat(this.format))+"$":q;if(n!==t){o+="|"}}this.disabledDatesRE=new RegExp(o+")")}},setDisabledDates:function(k){var l=this,m=l.picker;l.disabledDates=k;l.initDisabledDays();if(m){m.setDisabledDates(l.disabledDatesRE)}},setDisabledDays:function(g){var k=this.picker;this.disabledDays=g;if(k){k.setDisabledDays(g)}},setMinValue:function(l){var n=this,o=n.picker,m=(Ext.isString(l)?n.parseDate(l):l);n.minValue=m;if(o){o.minText=Ext.String.format(n.minText,n.formatDate(n.minValue));o.setMinDate(m)}},setMaxValue:function(m){var n=this,o=n.picker,l=(Ext.isString(m)?n.parseDate(m):m);n.maxValue=l;if(o){o.maxText=Ext.String.format(n.maxText,n.formatDate(n.maxValue));o.setMaxDate(l)}},getErrors:function(H){H=arguments.length>0?H:this.formatDate(this.processRawValue(this.getRawValue()));var z=this,I=Ext.String.format,y=Ext.Date.clearTime,J=Ext.form.field.Picker.prototype.getErrors.call(this,H),K=z.disabledDays,D=z.disabledDatesRE,L=z.minValue,A=z.maxValue,B=K?K.length:0,C=0,G,F,x,E;if(H===null||H.length<1){return J}G=H;H=z.parseDate(H);if(!H){J.push(I(z.invalidText,G,Ext.Date.unescapeFormat(z.format)));return J}E=H.getTime();if(L&&E<y(L).getTime()){J.push(I(z.minText,z.formatDate(L)))}if(A&&E>y(A).getTime()){J.push(I(z.maxText,z.formatDate(A)))}if(K){x=H.getDay();for(;C<B;C++){if(x===K[C]){J.push(z.disabledDaysText);break}}}F=z.formatDate(H);if(D&&D.test(F)){J.push(I(z.disabledDatesText,F))}return J},rawToValue:function(g){var k=this;if(g===k.rawDateText){return k.rawDate}return k.parseDate(g)||g||null},valueToRaw:function(f){return this.formatDate(this.parseDate(f))},setValue:function(k){var g=this;g.lastValue=g.rawDateText;g.lastDate=g.rawDate;if(Ext.isDate(k)){g.rawDate=k;g.rawDateText=g.formatDate(k)}else{g.rawDate=g.rawToValue(k);g.rawDateText=g.formatDate(k);if(g.rawDate===k){g.rawDate=null;g.rawDateText=""}}Ext.form.field.Picker.prototype.setValue.apply(this,arguments)},checkChange:function(){var l=this,m,o,n;if(!l.suspendCheckChange){m=l.getRawValue();o=l.lastValue;n=l.lastDate;if(!l.destroyed&&l.didValueChange(m,o)){l.rawDate=l.rawToValue(m);l.rawDateText=l.formatDate(m);l.lastValue=m;l.lastDate=l.rawDate;l.fireEvent("change",l,l.getValue(),n);l.onChange(m,o)}}},safeParse:function(o,v){var p=this,s=Ext.Date,u=null,t=p.useStrict,q;if(s.formatContainsHourInfo(v)){u=s.parse(o,v,t)}else{q=s.parse(o+" "+p.initTime,v+" "+p.initTimeFormat,t);if(q){u=s.clearTime(q)}}return u},getSubmitValue:function(){var g=this.submitFormat||this.format,k=this.rawDate;return k?Ext.Date.format(k,g):""},getValue:function(){return this.rawDate||null},setRawValue:function(g){var k=this;Ext.form.field.Picker.prototype.setRawValue.call(this,g);k.rawDate=Ext.isDate(g)?g:k.rawToValue(g);k.rawDateText=this.formatDate(g)},parseDate:function(p){if(!p||Ext.isDate(p)){return p}var q=this,v=q.safeParse(p,q.format),t=q.altFormats,o=q.altFormatsArray,s=0,u;if(!v&&t){o=o||t.split("|");u=o.length;for(;s<u&&!v;++s){v=q.safeParse(p,o[s])}}return v},formatDate:function(k,g){return Ext.isDate(k)?Ext.Date.dateFormat(k,g||this.format):k},createPicker:function(){var k=this,g=Ext.String.format;return new Ext.picker.Date({id:k.id+"-picker",pickerField:k,floating:true,preventRefocus:true,hidden:true,minDate:k.minValue,maxDate:k.maxValue,disabledDatesRE:k.disabledDatesRE,disabledDatesText:k.disabledDatesText,ariaDisabledDatesText:k.ariaDisabledDatesText,disabledDays:k.disabledDays,disabledDaysText:k.disabledDaysText,ariaDisabledDaysText:k.ariaDisabledDaysText,format:k.format,showToday:k.showToday,startDay:k.startDay,minText:g(k.minText,k.formatDate(k.minValue)),ariaMinText:g(k.ariaMinText,k.formatDate(k.minValue,k.ariaFormat)),maxText:g(k.maxText,k.formatDate(k.maxValue)),ariaMaxText:g(k.ariaMaxText,k.formatDate(k.maxValue,k.ariaFormat)),listeners:{scope:k,select:k.onSelect,tabout:k.onTabOut},keyNavConfig:{esc:function(){k.inputEl.focus();k.collapse()}}})},onSelect:function(m,k){var l=this;l.setValue(k);l.rawDate=k;l.fireEvent("select",l,k);l.onTabOut(m)},onTabOut:function(f){this.inputEl.focus();this.collapse()},onExpand:function(){var f=this.rawDate;this.picker.setValue(Ext.isDate(f)?f:new Date())},onBlur:function(e){var l=this,m=l.rawToValue(l.getRawValue());if(m===""||Ext.isDate(m)){l.setValue(m)}Ext.form.field.Picker.prototype.onBlur.call(this,e)}},0,["datefield"],["component","box","field","textfield","pickerfield","datefield"],{component:true,box:true,field:true,textfield:true,pickerfield:true,datefield:true},["widget.datefield"],0,[Ext.form.field,"Date",Ext.form,"DateField",Ext.form,"Date"],0));(Ext.cmd.derive("Ext.form.field.Display",Ext.form.field.Base,{alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" data-ref="inputEl" role="textbox" aria-readonly="true"',' aria-labelledby="{cmpId}-labelEl" {inputAttrTpl}',' tabindex="<tpl if="tabIdx != null">{tabIdx}<tpl else>-1</tpl>"','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {fieldCls}-{ui}">{value}</div>',{compiled:true,disableFormats:true}],ariaRole:undefined,focusable:false,skipLabelForAttribute:true,readOnly:true,fieldCls:"x-form-display-field",fieldBodyCls:"x-form-display-field-body",htmlEncode:false,noWrap:false,validateOnChange:false,initEvents:Ext.emptyFn,submitValue:false,getValue:function(){return this.value},valueToRaw:function(f){if(f||f===0||f===false){return f}else{return""}},isDirty:function(){return false},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(g){var k=this;g=Ext.valueFrom(g,"");k.rawValue=g;if(k.rendered){k.inputEl.dom.innerHTML=k.getDisplayValue();k.updateLayout()}return g},getDisplayValue:function(){var m=this,l=this.getRawValue(),k;if(m.renderer){k=m.renderer.call(m.scope||m,l,m)}else{k=m.htmlEncode?Ext.util.Format.htmlEncode(l):l}return k},getSubTplData:function(g){var k=Ext.form.field.Base.prototype.getSubTplData.apply(this,arguments);k.value=this.getDisplayValue();return k}},0,["displayfield"],["component","box","field","displayfield"],{component:true,box:true,field:true,displayfield:true},["widget.displayfield"],0,[Ext.form.field,"Display",Ext.form,"DisplayField",Ext.form,"Display"],0));(Ext.cmd.derive("Ext.form.field.FileButton",Ext.button.Button,{childEls:["fileInputEl"],inputCls:"x-form-file-input",cls:"x-form-file-btn",preventDefault:false,tabIndex:undefined,useTabGuards:Ext.isIE||Ext.isEdge,promptCalled:false,autoEl:{tag:"div",unselectable:"on"},afterTpl:['<input id="{id}-fileInputEl" data-ref="fileInputEl" class="{childElCls} {inputCls}" ','type="file" size="1" name="{inputName}" unselectable="on" ','<tpl if="accept != null">accept="{accept}"</tpl>','<tpl if="tabIndex != null">tabindex="{tabIndex}"</tpl>',">"],keyMap:null,ariaEl:"fileInputEl",getAfterMarkup:function(f){return this.lookupTpl("afterTpl").apply(f)},getTemplateArgs:function(){var g=this,k;k=Ext.button.Button.prototype.getTemplateArgs.call(this);k.inputCls=g.inputCls;k.inputName=g.inputName||g.id;k.tabIndex=g.tabIndex!=null?g.tabIndex:null;k.accept=g.accept||null;k.role=g.ariaRole;return k},afterRender:function(){var k=this,l,m;Ext.button.Button.prototype.afterRender.apply(this,arguments);l={scope:k,mousedown:k.handlePrompt,keydown:k.handlePrompt,change:k.fireChange,focus:k.onFileFocus,blur:k.onFileBlur};if(k.useTabGuards){m={tag:"span",role:"button","aria-hidden":"true","data-tabguard":"true",style:{height:0,width:0}};m.tabIndex=k.tabIndex!=null?k.tabIndex:0;k.beforeInputGuard=k.el.createChild(m,k.fileInputEl);k.afterInputGuard=k.el.createChild(m);k.afterInputGuard.insertAfter(k.fileInputEl);k.beforeInputGuard.on("focus",k.onInputGuardFocus,k);k.afterInputGuard.on("focus",k.onInputGuardFocus,k);l.keydown=k.onFileInputKeydown}k.fileInputEl.on(l)},fireChange:function(e){this.fireEvent("change",this,e,this.fileInputEl.dom.value)},createFileInput:function(m){var l=this,o,n;o=l.fileInputEl=l.el.createChild({name:l.inputName||l.id,id:!m?l.id+"-fileInputEl":undefined,cls:l.inputCls+(l.getInherited().rtl?" x-rtl":""),tag:"input",type:"file",size:1,unselectable:"on"},l.afterInputGuard);o.dom.setAttribute("data-componentid",l.id);if(l.tabIndex!=null){l.setTabIndex(l.tabIndex)}if(l.accept){o.dom.setAttribute("accept",l.accept)}n={scope:l,change:l.fireChange,mousedown:l.handlePrompt,keydown:l.handlePrompt,focus:l.onFileFocus,blur:l.onFileBlur};if(l.useTabGuards){n.keydown=l.onFileInputKeydown}o.on(n)},handlePrompt:function(e){var k;if(e.type=="keydown"){k=e.getKey();this.promptCalled=((!Ext.isIE&&k===e.ENTER)||k===e.SPACE)?true:false}else{this.promptCalled=true}},onFileFocus:function(e){var k=this.ownerCt;if(!this.hasFocus){this.onFocus(e)}if(k&&!k.hasFocus){k.onFocus(e)}},onFileBlur:function(e){var k=this.ownerCt;if(this.promptCalled){this.promptCalled=false;e.preventDefault();return}if(this.hasFocus){this.onBlur(e)}if(k&&k.hasFocus){k.onBlur(e)}},onInputGuardFocus:function(e){this.fileInputEl.focus()},onFileInputKeydown:function(e){var m=e.getKey(),l;if(m===e.TAB){l=e.shiftKey?this.beforeInputGuard:this.afterInputGuard;if(l){l.suspendEvent("focus");l.focus();setTimeout(function(){l.resumeEvent("focus")},0)}}else{if(m===e.ENTER||m===e.SPACE){this.handlePrompt(e)}}return true},reset:function(k){var g=this;if(k){g.fileInputEl.destroy()}g.createFileInput(!k);if(k){g.ariaEl=g.fileInputEl}},restoreInput:function(k){var g=this;g.fileInputEl.destroy();k=Ext.get(k);if(g.useTabGuards){k.insertBefore(g.afterInputGuard)}else{g.el.appendChild(k)}g.fileInputEl=k},onDisable:function(){Ext.button.Button.prototype.onDisable.call(this);this.fileInputEl.dom.disabled=true},onEnable:function(){Ext.button.Button.prototype.onEnable.call(this);this.fileInputEl.dom.disabled=false},privates:{getFocusEl:function(){return this.fileInputEl},getFocusClsEl:function(){return this.el},setTabIndex:function(k){var g=this;if(!g.focusable){return}g.tabIndex=k;if(!g.rendered||g.destroying||g.destroyed){return}if(g.useTabGuards){g.fileInputEl.dom.setAttribute("tabIndex",-1);g.beforeInputGuard.dom.setAttribute("tabIndex",k);g.afterInputGuard.dom.setAttribute("tabIndex",k)}else{g.fileInputEl.dom.setAttribute("tabIndex",k)}}}},0,["filebutton"],["component","box","button","filebutton"],{component:true,box:true,button:true,filebutton:true},["widget.filebutton"],0,[Ext.form.field,"FileButton"],0));(Ext.cmd.derive("Ext.form.trigger.Component",Ext.form.trigger.Trigger,{cls:"x-form-trigger-cmp",onFieldRender:function(){var g=this,k=g.component;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this);if(!k.isComponent&&!k.isWidget){k=Ext.widget(k)}g.component=k;k.render(g.el)},destroy:function(){var f=this.component;if(f.isComponent||f.isWidget){f.destroy()}this.component=null;Ext.form.trigger.Trigger.prototype.destroy.call(this)}},0,0,0,0,["trigger.component"],0,[Ext.form.trigger,"Component"],0));(Ext.cmd.derive("Ext.form.field.File",Ext.form.field.Text,{alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],emptyText:undefined,needArrowKeys:false,triggers:{filebutton:{type:"component",hideOnReadOnly:false,preventMouseDown:false}},buttonText:"Browse...",buttonOnly:false,buttonMargin:3,clearOnSubmit:true,extraFieldBodyCls:"x-form-file-wrap",inputCls:"x-form-text-file",readOnly:true,editable:false,submitValue:false,triggerNoEditCls:"",childEls:["browseButtonWrap"],applyTriggers:function(m){var l=this,k=(m||{}).filebutton;if(k){k.component=Ext.apply({xtype:"filebutton",ownerCt:l,id:l.id+"-button",ui:l.ui,disabled:l.disabled,tabIndex:l.tabIndex,text:l.buttonText,style:l.buttonOnly?"":l.getButtonMarginProp()+l.buttonMargin+"px",accept:l.accept,inputName:l.getName(),listeners:{scope:l,change:l.onFileChange}},l.buttonConfig);return Ext.form.field.Text.prototype.applyTriggers.call(this,m)}},getSubTplData:function(k){var g=Ext.form.field.Text.prototype.getSubTplData.call(this,k);g.tabIdx=-1;return g},onRender:function(){var n=this,m,o,q,p;(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).apply(this,arguments);m=n.inputEl;m.dom.name="";m.on("focus",n.onInputFocus,n);m.on("mousedown",n.onInputMouseDown,n);p=n.getTrigger("filebutton");o=n.button=p.component;n.fileInputEl=o.fileInputEl;q=o.el;if(n.buttonOnly){n.inputWrap.setDisplayed(false);n.shrinkWrap=3}p.el.setWidth(q.getWidth()+q.getMargin("lr"));if(Ext.isIE){n.button.getEl().repaint()}},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap" data-ref="browseButtonWrap" role="presentation"></td>'},onFileChange:function(m,e,l){this.duringFileSelect=true;Ext.form.field.File.superclass.setValue.call(this,l);delete this.duringFileSelect},didValueChange:function(){return !!this.duringFileSelect},setEmptyText:Ext.emptyFn,setValue:Ext.emptyFn,reset:function(){var g=this,k=g.clearOnSubmit;if(g.rendered){g.button.reset(k);g.fileInputEl=g.button.fileInputEl;if(k){g.inputEl.dom.value="";Ext.form.field.File.superclass.setValue.call(this,null)}}Ext.form.field.Text.prototype.reset.call(this)},onShow:function(){Ext.form.field.Text.prototype.onShow.call(this);this.button.updateLayout()},onDisable:function(){Ext.form.field.Text.prototype.onDisable.call(this);this.button.disable()},onEnable:function(){Ext.form.field.Text.prototype.onEnable.call(this);this.button.enable()},isFileUpload:Ext.returnTrue,extractFileInput:function(){var g=this,k;if(g.rendered){k=g.button.fileInputEl.dom;g.reset()}else{k=document.createElement("input");k.type="file";k.className="x-hidden-display";k.name=g.getName()}return k},restoreInput:function(g){if(this.rendered){var k=this.button;k.restoreInput(g);this.fileInputEl=k.fileInputEl}},doDestroy:function(){this.fileInputEl=this.button=null;Ext.form.field.Text.prototype.doDestroy.call(this)},getButtonMarginProp:function(){return this.getInherited().rtl?"margin-right:":"margin-left:"},onInputFocus:function(e){var k=this;if(k.selectOnFocus&&document.activeElement===k.inputEl.dom){k.inputEl.dom.select()}k.focus();if(Ext.isIE9m){k.fileInputEl.addCls("x-position-relative");k.fileInputEl.removeCls("x-position-relative")}},onInputMouseDown:function(e){e.preventDefault();this.focus()},privates:{getFocusEl:function(){return this.button},getFocusClsEl:Ext.privateFn}},0,["fileuploadfield","filefield"],["component","box","field","textfield","filefield","fileuploadfield"],{component:true,box:true,field:true,textfield:true,filefield:true,fileuploadfield:true},["widget.filefield","widget.fileuploadfield"],0,[Ext.form.field,"File",Ext.form,"FileUploadField",Ext.ux.form,"FileUploadField",Ext.form,"File"],0));(Ext.cmd.derive("Ext.form.field.Hidden",Ext.form.field.Base,{alternateClassName:"Ext.form.Hidden",focusable:false,inputType:"hidden",isTextInput:false,hideLabel:true,hidden:true,ariaRole:"presentation",initComponent:function(){this.formItemCls+="-hidden";Ext.form.field.Base.prototype.initComponent.call(this)},isEqual:function(g,k){return this.isEqualAsString(g,k)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn},0,["hiddenfield","hidden"],["component","box","field","hiddenfield","hidden"],{component:true,box:true,field:true,hiddenfield:true,hidden:true},["widget.hidden","widget.hiddenfield"],0,[Ext.form.field,"Hidden",Ext.form,"Hidden"],0));(Ext.cmd.derive("Ext.view.TagKeyNav",Ext.view.BoundListKeyNav,{onKeySpace:function(e){var m=this,l=m.view.pickerField;if(l.isExpanded&&l.inputEl.dom.value===""){l.preventKeyUpEvent=true;m.navigateOnSpace=true;Ext.view.BoundListKeyNav.prototype.onKeySpace.call(this,e);e.stopEvent();return false}return true}},0,0,0,0,["view.navigation.tagfield"],0,[Ext.view,"TagKeyNav"],0));(Ext.cmd.derive("Ext.form.field.Tag",Ext.form.field.ComboBox,{noWrap:false,multiSelect:true,delimiter:",",tipTpl:undefined,forceSelection:true,createNewOnEnter:false,createNewOnBlur:false,encodeSubmitValue:false,triggerOnClick:true,stacked:false,filterPickList:false,clearOnBackspace:true,grow:true,growMin:false,growMax:false,simulatePlaceholder:true,selectOnFocus:true,ariaHelpText:"Use Up and Down arrows to view available values, Enter to select. Use Left and Right arrows to view selected values, Delete key to deselect.",ariaHelpTextEditable:"Use Up and Down arrows to view available values, Enter to select. Type and press Enter to create a new value. Use Left and Right arrows to view selected values, Delete key to deselect.",ariaSelectedText:"Selected {0}.",ariaDeselectedText:"{0} removed from selection.",ariaNoneSelectedText:"No value selected.",ariaSelectedListLabel:"Selected values",ariaAvailableListLabel:"Available values",fieldSubTpl:['<div id="{cmpId}-listWrapper" data-ref="listWrapper"'+(Ext.isGecko?' tabindex="-1"':""),'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',' class="x-tagfield {fieldCls} {typeCls} {typeCls}-{ui}"<tpl if="wrapperStyle"> style="{wrapperStyle}"</tpl>>','<span id="{cmpId}-selectedText" data-ref="selectedText" aria-hidden="true" class="x-hidden-clip"></span>','<ul id="{cmpId}-itemList" data-ref="itemList" role="presentation" class="x-tagfield-list{itemListCls}">','<li id="{cmpId}-inputElCt" data-ref="inputElCt" role="presentation" class="x-tagfield-input">','<input id="{cmpId}-inputEl" data-ref="inputEl" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx != null">tabindex="{tabIdx}" </tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>','class="x-tagfield-input-field {inputElCls} {emptyCls}" autocomplete="off">',"</li>","</ul>",'<ul id="{cmpId}-ariaList" data-ref="ariaList" role="listbox"','<tpl if="ariaSelectedListLabel"> aria-label="{ariaSelectedListLabel}"</tpl>','<tpl if="multiSelect"> aria-multiselectable="true"</tpl>',' class="x-tagfield-arialist">',"</ul>","</div>",{disableFormats:true}],postSubTpl:['<label id="{cmpId}-placeholderLabel" data-ref="placeholderLabel" for="{cmpId}-inputEl" class="{placeholderCoverCls} {placeholderCoverCls}-{ui} {emptyCls}">{emptyText}</label>',"</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],extraFieldBodyCls:"x-tagfield-body",childEls:["listWrapper","itemList","inputEl","inputElCt","selectedText","ariaList"],clearValueOnEmpty:false,ariaSelectable:true,ariaEl:"listWrapper",tagItemCls:"x-tagfield-item",tagItemTextCls:"x-tagfield-item-text",tagItemCloseCls:"x-tagfield-item-close",tagItemSelector:".x-tagfield-item",tagItemCloseSelector:".x-tagfield-item-close",tagSelectedCls:"x-tagfield-item-selected",initComponent:function(){var k=this,l=k.typeAhead,m=k.delimiter;if(k.createNewOnEnter||k.createNewOnBlur){k.forceSelection=false}k.typeAhead=false;if(k.value==null){k.value=[]}k.selectionModel=new Ext.selection.Model({mode:"MULTI",onSelectChange:function(g,e,f,o){o()},listeners:{scope:k,selectionchange:k.onSelectionChange,focuschange:k.onFocusChange}});if(!k.ariaHelp){k.ariaHelp=k.createNewOnEnter?k.ariaHelpTextEditable:k.ariaHelpText}Ext.form.field.ComboBox.prototype.initComponent.call(this);k.typeAhead=l;if(m&&k.multiSelect){k.delimiterRegexp=new RegExp(Ext.String.escapeRegex(m))}},initEvents:function(){var k=this,g=k.inputEl;Ext.form.field.ComboBox.prototype.initEvents.apply(this,arguments);if(!k.enableKeyEvents){g.on("keydown",k.onKeyDown,k);g.on("keyup",k.onKeyUp,k)}k.listWrapper.on({scope:k,click:k.onItemListClick,mousedown:k.onItemMouseDown})},createPicker:function(){var g=this,k;k=Ext.apply({navigationModel:"tagfield"},g.defaultListConfig);if(g.ariaAvailableListLabel){k.ariaRenderAttributes={"aria-label":Ext.String.htmlEncode(g.ariaAvailableListLabel)}}g.defaultListConfig=k;return Ext.form.field.ComboBox.prototype.createPicker.call(this)},isValid:function(){var l=this,m=l.disabled,k=l.forceValidation||!m;return k?l.validateValue(l.getValue()):m},onBindStore:function(k){var g=this;Ext.form.field.ComboBox.prototype.onBindStore.call(this,k);if(k){g.valueStore=new Ext.data.Store({model:k.getModel(),proxy:"memory",useModelWarning:false});g.selectionModel.bindStore(g.valueStore);if(g.filterPickList){g.listFilter=new Ext.util.Filter({scope:g,filterFn:g.filterPicked});g.changingFilters=true;k.filter(g.listFilter);g.changingFilters=false}}},filterPicked:function(f){return !this.valueCollection.contains(f)},onUnbindStore:function(o){var m=this,l=m.valueStore,n=m.picker;if(n){n.bindStore(null)}if(l){l.destroy();m.valueStore=null}if(m.filterPickList&&!o.destroyed){m.changingFilters=true;o.removeFilter(m.listFilter);m.changingFilters=false}Ext.form.field.ComboBox.prototype.onUnbindStore.apply(this,arguments)},clearInput:function(){var m=this,l=m.getValueRecords(),o=m.inputEl&&m.inputEl.dom.value,n;if(l.length&&o){n=l[l.length-1].get(m.displayField);if(!Ext.String.startsWith(n,o,true)){return}m.inputEl.dom.value="";if(m.queryMode=="local"){m.clearLocalFilter();m.getPicker().refresh()}}},onValueCollectionEndUpdate:function(){var m=this,k=m.valueCollection.items,l=m.valueStore;if(m.isSelectionUpdating()){return}if(m.filterPickList){m.changingFilters=true;m.store.filter(m.listFilter);m.changingFilters=false}Ext.form.field.ComboBox.prototype.onValueCollectionEndUpdate.call(this);Ext.suspendLayouts();if(l){l.suspendEvents();l.loadRecords(k);l.resumeEvents()}m.refreshEmptyText();m.clearInput();Ext.resumeLayouts(true);m.alignPicker()},checkValueOnDataChange:Ext.emptyFn,onSelectionChange:function(q,m){var o=this,n=o.inputEl,p;o.applyMultiselectItemMarkup();o.applyAriaListMarkup();o.applyAriaSelectedText();if(n){if(m.length===0){n.dom.removeAttribute("aria-activedescendant")}else{p=o.getAriaListNode(m[0]);if(p){n.dom.setAttribute("aria-activedescendant",p.id)}}}o.fireEvent("valueselectionchange",o,m)},onFocusChange:function(o,l,n){var m=this;Ext.form.field.ComboBox.prototype.onFocusChange.call(this,o,l,n);m.fireEvent("valuefocuschange",m,l,n)},getAriaListNode:function(m){var k=this.ariaList,l;if(k&&m){l=k.selectNode('[data-recordid="'+m.internalId+'"]')}return l},doDestroy:function(){Ext.destroy(this.selectionModel);Ext.form.field.ComboBox.prototype.doDestroy.call(this)},getSubTplData:function(y){var t=this,A=t.id,v=Ext.form.field.ComboBox.prototype.getSubTplData.apply(this,arguments),x=t.emptyText,w=x&&v.value.length<1,s=t.growMin,B=t.growMax,z="",u;v.value="";v.emptyText=w?x:"";v.itemListCls="";v.emptyCls=w?t.emptyUICls:"";if(t.grow){if(Ext.isNumber(s)&&s>0){z+="min-height:"+s+"px;"}if(Ext.isNumber(B)&&B>0){z+="max-height:"+B+"px;"}}else{z+="max-height: 1px;"}v.wrapperStyle=z;if(t.stacked===true){v.itemListCls+=" x-tagfield-stacked"}if(!t.multiSelect){v.itemListCls+=" x-tagfield-singleselect"}if(!t.ariaStaticRoles[t.ariaRole]){v.multiSelect=t.multiSelect;v.ariaSelectedListLabel=Ext.String.htmlEncode(t.ariaSelectedListLabel);u=v.ariaElAttributes;if(u){u["aria-owns"]=A+"-inputEl "+A+"-picker "+A+"-ariaList"}u=v.inputElAriaAttributes;if(u){u.role="textbox";u["aria-describedby"]=A+"-selectedText "+(u["aria-describedby"]||"")}}return v},afterRender:function(){var l=this,k=l.inputEl,m=l.emptyText;if(m){if(Ext.supports.Placeholder&&k){k.dom.removeAttribute("placeholder")}}l.applyMultiselectItemMarkup();l.applyAriaListMarkup();l.applyAriaSelectedText();Ext.form.field.ComboBox.prototype.afterRender.apply(this,arguments);l.emptyClsElements.push(l.listWrapper,l.placeholderLabel)},findRecord:function(k,l){var m=this.getStore().queryRecords(k,l);return m.length?m[0]:false},getCursorPosition:function(){var f;if(document.selection){f=document.selection.createRange();f.collapse(true);f.moveStart("character",-this.inputEl.dom.value.length);f=f.text.length}else{f=this.inputEl.dom.selectionStart}return f},hasSelectedText:function(){var k=this.inputEl.dom,l,m;if(document.selection){l=document.selection;m=l.createRange();return(m.parentElement()===k)}else{return k.selectionStart!==k.selectionEnd}},onKeyDown:function(x){var e=this,G=x.getKey(),H=e.inputEl,B=H&&H.dom.value,E=e.valueCollection,z=e.selectionModel,C=false,J,I,D,F,A,y;if(e.destroyed||e.readOnly||e.disabled||!e.editable){return}J=E.getCount();if(J>0&&B===""){I=(z.getCount()>0)?E.indexOf(z.getLastSelected()):-1;if((G===x.BACKSPACE&&e.clearOnBackspace)||(G===x.DELETE&&I>-1)){if(I>-1){if(z.getCount()>1){I=-1}D=z.getSelection();F=[];for(A=0,y=D.length;A<y;A++){F.push(D[A].get(e.displayField))}F=F.join(", ")}else{D=E.last();F=D.get(e.displayField)}E.remove(D);if(F){e.ariaErrorEl.dom.innerHTML=Ext.String.formatEncode(e.ariaDeselectedText,F)}z.clearSelections();if(I===(J-1)){z.select(E.last())}else{if(I>-1){z.select(I)}else{if(E.getCount()){z.select(E.last())}}}C=true}else{if(G===x.RIGHT||G===x.LEFT){if(I===-1&&G===x.LEFT){z.select(E.last());C=true}else{if(I>-1){if(G===x.RIGHT){if(I<(J-1)){z.select(I+1,x.shiftKey);C=true}else{if(!x.shiftKey){z.deselectAll();C=true}}}else{if(G===x.LEFT&&(I>0)){z.select(I-1,x.shiftKey);C=true}}}}}else{if(G===x.A&&x.ctrlKey){z.selectAll();C=x.A}}}}if(C){e.preventKeyUpEvent=C;x.stopEvent();return}if(e.isExpanded&&G===x.ENTER&&e.picker.highlightedItem){e.preventKeyUpEvent=true}if(e.enableKeyEvents){Ext.form.field.ComboBox.prototype.onKeyDown.apply(this,arguments)}if(!x.isSpecialKey()&&!x.hasModifier()){z.deselectAll()}},onKeyUp:function(t,q){var p=this,e=p.inputEl,o=e.dom.value,s=p.preventKeyUpEvent;if(p.preventKeyUpEvent){t.stopEvent();if(s===true||t.getKey()===s){delete p.preventKeyUpEvent}return}if(p.multiSelect&&p.delimiterRegexp&&p.delimiterRegexp.test(o)||(p.createNewOnEnter&&t.getKey()===t.ENTER)){if(p.createNewOnEnter&&o){p.ariaErrorEl.dom.innerHTML=Ext.String.formatEncode(p.ariaSelectedText,o)}o=Ext.Array.clean(o.split(p.delimiterRegexp));e.dom.value="";p.setValue(p.valueStore.getRange().concat(o));e.focus()}Ext.form.field.ComboBox.prototype.onKeyUp.call(this,t,q)},onEsc:function(m){var n=this,o=n.selectionModel,e=n.isExpanded;Ext.form.field.ComboBox.prototype.onEsc.call(this,m);if(!e&&o.getCount()>0){o.deselectAll()}m.stopEvent()},onTypeAhead:function(){var p=this,q=p.displayField,s=p.inputEl.dom,t=p.getStore().findRecord(q,s.value),o,u,v;if(t){o=t.get(q);u=o.length;v=s.value.length;if(v!==0&&v!==u){p.lastMutatedValue=o;s.value=o;p.selectText(v,o.length)}}},onItemListClick:function(n){var o=this,q=o.selectionModel,p=n.getTarget(o.tagItemSelector),e=p?n.getTarget(o.tagItemCloseSelector):false;if(o.readOnly||o.disabled){return}n.stopPropagation();if(p){if(e){o.removeByListItemNode(p);if(o.valueStore.getCount()>0){o.fireEvent("select",o,o.valueStore.getRange())}}else{o.toggleSelectionByListItemNode(p,n.shiftKey)}if(!Ext.supports.TouchEvents){o.inputEl.focus()}}else{if(q.getCount()>0){q.deselectAll()}o.inputEl.focus();if(o.triggerOnClick){o.onTriggerClick()}}},onItemMouseDown:function(e){e.preventDefault()},getMultiSelectItemMarkup:function(){var g=this,k=(g._getChildElCls&&g._getChildElCls())||"";if(!g.multiSelectItemTpl){if(!g.labelTpl){g.labelTpl="{"+g.displayField+"}"}g.labelTpl=g.lookupTpl("labelTpl");if(g.tipTpl){g.tipTpl=g.lookupTpl("tipTpl")}g.multiSelectItemTpl=new Ext.XTemplate(['<tpl for=".">','<li data-selectionIndex="{[xindex - 1]}" data-recordId="{internalId}" role="presentation" class="'+g.tagItemCls+k,'<tpl if="this.isSelected(values)">'," "+g.tagSelectedCls,"</tpl>","{%","values = values.data;","%}",g.tipTpl?'" data-qtip="{[this.getTip(values)]}">':'">','<div role="presentation" class="'+g.tagItemTextCls+'">{[this.getItemLabel(values)]}</div>','<div role="presentation" class="'+g.tagItemCloseCls+k+'"></div>',"</li>","</tpl>",{isSelected:function(e){return g.selectionModel.isSelected(e)},getItemLabel:function(e){return Ext.String.htmlEncode(g.labelTpl.apply(e))},getTip:function(e){return Ext.String.htmlEncode(g.tipTpl.apply(e))},strict:true}])}if(!g.multiSelectItemTpl.isTemplate){g.multiSelectItemTpl=this.lookupTpl("multiSelectItemTpl")}return g.multiSelectItemTpl.apply(g.valueCollection.getRange())},applyMultiselectItemMarkup:function(){var g=this,k=g.itemList;if(k){k.select(".x-tagfield-item").destroy();g.inputElCt.insertHtml("beforeBegin",g.getMultiSelectItemMarkup());g.autoSize()}},getAriaListMarkup:function(){var k=this,l,m;if(!k.ariaListItemTpl){k.ariaListItemTpl=new Ext.XTemplate(['<tpl for=".">','<li id="'+k.id+'-{internalId}" role="option"',' class="x-tagfield-arialist-item"',' aria-selected="{[this.isPicked(values)]}"','  data-recordId="{internalId}"',">","{[this.getItemLabel(values.data)]}","</li>","</tpl>",{isPicked:function(e){return k.filterPicked(e)?"false":"true"},isSelected:function(e){return k.selectionModel.isSelected(e)?"true":"false"},getItemLabel:function(e){return Ext.String.htmlEncode(k.labelTpl.apply(e))},strict:true}])}if(!k.ariaListItemTpl.isTemplate){k.ariaListtemTpl=k.lookupTpl("ariaListItemTpl")}m=k.valueCollection.getRange();return k.ariaListItemTpl.apply(m)},applyAriaListMarkup:function(){var k=this,g=k.ariaList;if(g){g.select("*").destroy();g.insertHtml("afterBegin",k.getAriaListMarkup())}},getAriaSelectedText:function(k){var g=this;if(!g.ariaSelectedItemTpl){g.ariaSelectedItemTpl=new Ext.XTemplate(['<tpl for="." between=", ">',"{[this.getItemLabel(values.data)]}","</tpl>",{getItemLabel:function(e){return Ext.String.htmlEncode(g.labelTpl.apply(e))},strict:true}])}if(!g.ariaSelectedItemTpl.isTemplate){g.ariaSelectedItemTpl=g.lookupTpl("ariaSelectedItemTpl")}return Ext.String.format(g.ariaSelectedText,g.ariaSelectedItemTpl.apply(k))},applyAriaSelectedText:function(){var n=this,l=n.selectedText,o,m;if(l){o=n.valueCollection.getRange();m=o.length?n.getAriaSelectedText(o):n.ariaNoneSelectedText;l.dom.innerHTML=Ext.String.htmlEncode(m)}},getRecordByListItemNode:function(f){return this.valueCollection.items[Number(f.getAttribute("data-selectionIndex"))]},toggleSelectionByListItemNode:function(p,n){var o=this,m=o.getRecordByListItemNode(p),q=o.selectionModel;if(m){if(q.isSelected(m)){q.deselect(m)}else{q.select(m,n)}}},removeByListItemNode:function(m){var l=this,k=l.getRecordByListItemNode(m);if(k){l.pickerSelectionModel.deselect(k)}},getDisplayValue:function(){return this.getRawValue()},getRawValue:function(){var m=this,o=m.getValueRecords(),p=[],n,q;for(n=0,q=o.length;n<q;n++){p.push(o[n].data[m.displayField])}return p.join(",")},setRawValue:function(f){return},removeValue:function(v){var o=this,t=o.valueCollection,u,s,p,q=[];if(v){v=Ext.Array.from(v);for(s=0,u=v.length;s<u;++s){p=v[s];if(!p.isModel){p=t.byValue.get(p)}if(p){q.push(p)}}o.valueCollection.beginUpdate();o.pickerSelectionModel.deselect(q);o.valueCollection.endUpdate()}},setValue:function(G,J,Q){var K=this,N=K.valueStore,T=K.valueField,L=[],M=K.store,E=K.autoLoadOnValue,O=M.getCount()>0||M.isLoaded(),S=M.hasPendingLoad(),I=E&&!O&&!S,P,C,D,F,R,B,H;if(Ext.isEmpty(G)){G=null;H=true}else{if(Ext.isString(G)&&K.multiSelect){G=G.split(K.delimiter)}else{G=Ext.Array.from(G,true)}}if(!H&&K.queryMode==="remote"&&!M.isEmptyStore&&Q!==true&&I){for(D=0,C=G.length;D<C;D++){P=G[D];if(!P||!P.isModel){F=N.findExact(T,P);if(F>-1){G[D]=N.getAt(F)}else{F=K.findRecord(T,P);if(!F){if(K.forceSelection){L.push(P)}else{F={};F[K.valueField]=P;F[K.displayField]=P;R=K.valueStore.getModel();F=new R(F)}}if(F){G[D]=F}}}}if(L.length){B={};B[K.valueParam||K.valueField]=L.join(K.delimiter);M.load({params:B,callback:function(){K.setValue(G,J,true);K.autoSize();K.lastQuery=false}});return false}}if(!H&&!K.multiSelect&&G.length>0){for(D=G.length-1;D>=0;D--){if(G[D].isModel){G=G[D];break}}if(Ext.isArray(G)){G=G[G.length-1]}}return Ext.form.field.ComboBox.prototype.setValue.call(this,G,J)},updateValue:function(){var l=this,m=l.valueCollection.getRange(),o=m.length,n;for(n=0;n<o;n++){m[n]=m[n].get(l.valueField)}l.setHiddenValue(m);l.value=l.multiSelect?m:m[0];if(!Ext.isDefined(l.value)){l.value=undefined}l.applyMultiselectItemMarkup();l.applyAriaListMarkup();l.applyAriaSelectedText();l.checkChange()},getValueRecords:function(){return this.valueCollection.getRange()},getSubmitData:function(){var k=this,g=Ext.form.field.ComboBox.prototype.getSubmitData.apply(this,arguments);if(k.multiSelect&&k.encodeSubmitValue&&g&&g[k.name]){g[k.name]=Ext.encode(g[k.name])}return g},assertValue:function(){var o=this,m=o.inputEl.dom.value,l=!Ext.isEmpty(m)?o.findRecordByDisplay(m):false,n=false;if(!l&&!o.forceSelection&&o.createNewOnBlur&&!Ext.isEmpty(m)){n=m}else{if(l){n=l}}if(n){o.addValue(n)}o.inputEl.dom.value="";o.collapse();o.refreshEmptyText()},isEqual:function(w,x){var u=Ext.Array.from,t=this.valueField,s,v,p,q;w=u(w);x=u(x);v=w.length;if(v!==x.length){return false}for(s=0;s<v;s++){p=w[s].isModel?w[s].get(t):w[s];q=x[s].isModel?x[s].get(t):x[s];if(p!==q){return false}}return true},onFocus:function(){var k=this,l=k.focusCls,m=k.itemList;if(l&&m){m.addCls(l)}Ext.form.field.ComboBox.prototype.onFocus.apply(this,arguments)},onBlur:function(){var k=this,l=k.focusCls,m=k.itemList;if(l&&m){m.removeCls(l)}Ext.form.field.ComboBox.prototype.onBlur.apply(this,arguments)},renderActiveError:function(){var l=this,m=l.invalidCls,n=l.itemList,o=l.hasActiveError();if(m&&n){n[o?"addCls":"removeCls"](l.invalidCls+"-field")}Ext.form.field.ComboBox.prototype.renderActiveError.apply(this,arguments)},autoSize:function(){var f=this;if(f.grow&&f.rendered){f.autoSizing=true;f.updateLayout()}return f},afterComponentLayout:function(){var g=this,k;if(g.autoSizing){k=g.getHeight();if(k!==g.lastInputHeight){if(g.isExpanded){g.alignPicker()}g.fireEvent("autosize",g,k);g.lastInputHeight=k;g.autoSizing=false}}}},0,["tagfield"],["component","box","field","textfield","pickerfield","combobox","combo","tagfield"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,tagfield:true},["widget.tagfield"],0,[Ext.form.field,"Tag"],0));(Ext.cmd.derive("Ext.picker.Time",Ext.view.BoundList,{config:{store:true},statics:{createStore:function(x,t){var u=Ext.Date,s=u.clearTime,p=this.prototype.initDate,w=[],q=s(new Date(p[0],p[1],p[2])),v=u.add(s(new Date(p[0],p[1],p[2])),"mi",(24*60)-1);while(q<=v){w.push({disp:u.dateFormat(q,x),date:q});q=u.add(q,"mi",t)}return new Ext.data.Store({model:Ext.picker.Time.prototype.modelType,data:w})}},increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:"x-timepicker",alignOnScroll:false,loadMask:false,initComponent:function(){var m=this,o=Ext.Date,n=o.clearTime,l=m.initDate;m.absMin=n(new Date(l[0],l[1],l[2]));m.absMax=o.add(n(new Date(l[0],l[1],l[2])),"mi",(24*60)-1);m.updateList();Ext.view.BoundList.prototype.initComponent.call(this)},setStore:function(f){this.store=(f===true)?Ext.picker.Time.createStore(this.format,this.increment):f},setMinValue:function(f){this.minValue=f;this.updateList()},setMaxValue:function(f){this.maxValue=f;this.updateList()},normalizeDate:function(k){var g=this.initDate;k.setFullYear(g[0],g[1],g[2]);return k},updateList:function(){var m=this,p=m.normalizeDate(m.minValue||m.absMin),q=m.normalizeDate(m.maxValue||m.absMax),n=m.getStore().getFilters(),o=m.rangeFilter;n.beginUpdate();if(o){n.remove(o)}o=m.rangeFilter=new Ext.util.Filter({filterFn:function(e){var f=e.get("date");return f>=p&&f<=q}});n.add(o);n.endUpdate()}},0,["timepicker"],["component","box","dataview","boundlist","timepicker"],{component:true,box:true,dataview:true,boundlist:true,timepicker:true},["widget.timepicker"],0,[Ext.picker,"Time"],function(){this.prototype.modelType=Ext.define(null,{extend:"Ext.data.Model",fields:["disp","date"]})}));(Ext.cmd.derive("Ext.form.field.Time",Ext.form.field.ComboBox,{alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:"x-form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",formatText:"Expected time format HH:MM space AM or PM",increment:15,pickerMaxHeight:300,selectOnTab:true,snapToIncrement:false,valuePublishEvent:["select","blur"],initDate:"1/1/2008",initDateParts:[2008,0,1],initDateFormat:"j/n/Y",queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var k=this,l=k.minValue,m=k.maxValue;if(l){k.setMinValue(l)}if(m){k.setMaxValue(m)}k.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+k.displayField+'"])]}<tpl if="xindex < xcount">'+k.delimiter+"</tpl></tpl>",{formatDate:k.formatDate.bind(k)});k.store=Ext.picker.Time.createStore(k.format,k.increment);Ext.form.field.ComboBox.prototype.initComponent.call(this);k.getPicker()},afterQuery:function(k){var g=this;Ext.form.field.ComboBox.prototype.afterQuery.call(this,k);if(g.value===null&&g.getRawValue()&&g.validateOnChange){g.validate()}},isEqual:function(n,o){var s=Ext.Array.from,p=Ext.Date.isEqual,q,t;n=s(n);o=s(o);t=n.length;if(t!==o.length){return false}for(q=0;q<t;q++){if(!(o[q] instanceof Date)||!(n[q] instanceof Date)||!p(o[q],n[q])){return false}}return true},setMinValue:function(k){var l=this,m=l.picker;l.setLimit(k,true);if(m){m.setMinValue(l.minValue)}},setMaxValue:function(k){var l=this,m=l.picker;l.setLimit(k,false);if(m){m.setMaxValue(l.maxValue)}},setLimit:function(p,m){var q=this,n,o;if(Ext.isString(p)){n=q.parseDate(p)}else{if(Ext.isDate(p)){n=p}}if(n){o=q.getInitDate();o.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else{o=null}q[m?"minValue":"maxValue"]=o},getInitDate:function(o,n,l){var m=this.initDateParts;return new Date(m[0],m[1],m[2],o||0,n||0,l||0,0)},valueToRaw:function(f){return this.formatDate(this.parseDate(f))},getErrors:function(u){u=arguments.length>0?u:this.getRawValue();var y=this,v=Ext.String.format,w=Ext.form.field.ComboBox.prototype.getErrors.call(this,u),x=y.minValue,z=y.maxValue,B=y.displayTplData,F=y.getRawValue(),C,A,D,E;if(B&&B.length>0){for(C=0,A=B.length;C<A;C++){E=B[C];E=E.date||E.disp;D=y.parseDate(E);if(!D){w.push(v(y.invalidText,E,Ext.Date.unescapeFormat(y.format)));continue}}}else{if(F.length){D=y.parseDate(F);if(!D){w.push(v(y.invalidText,F,Ext.Date.unescapeFormat(y.format)))}}}if(!w.length){if(x&&D<x){w.push(v(y.minText,y.formatDate(x)))}if(z&&D>z){w.push(v(y.maxText,y.formatDate(z)))}}return w},formatDate:function(n){var l=[],m,o;n=Ext.Array.from(n);for(m=0,o=n.length;m<o;m++){l.push(Ext.form.field.Date.prototype.formatDate.call(this,n[m]))}return l.join(this.delimiter)},parseDate:function(p){var q=this,v=p,t=q.altFormats,o=q.altFormatsArray,s=0,u;if(p&&!Ext.isDate(p)){v=q.safeParse(p,q.format);if(!v&&t){o=o||t.split("|");u=o.length;for(;s<u&&!v;++s){v=q.safeParse(p,o[s])}}}if(v&&q.snapToIncrement){v=new Date(Ext.Number.snap(v.getTime(),q.increment*60*1000))}return v},safeParse:function(o,n){var p=this,s=Ext.Date,q,t=null;if(s.formatContainsDateInfo(n)){t=s.parse(o,n)}else{q=s.parse(p.initDate+" "+o,p.initDateFormat+" "+n);if(q){t=q}}return t},getSubmitValue:function(){var m=this,k=m.submitFormat||m.format,l=m.getValue();return l?Ext.Date.format(l,k):null},createPicker:function(){var f=this;f.listConfig=Ext.apply({xtype:"timepicker",pickerField:f,cls:undefined,minValue:f.minValue,maxValue:f.maxValue,increment:f.increment,format:f.format,maxHeight:f.pickerMaxHeight},f.listConfig);return Ext.form.field.ComboBox.prototype.createPicker.call(this)},completeEdit:function(){var k=this,g=k.getValue();Ext.form.field.ComboBox.prototype.completeEdit.apply(this,arguments);if(k.validateValue(g)){k.setValue(g)}},findRecordByValue:function(f){if(typeof f==="string"){f=this.parseDate(f)}return Ext.form.field.ComboBox.prototype.findRecordByValue.call(this,f)},rawToValue:function(n){var o=this,q,s,p,t;if(o.multiSelect){s=[];q=Ext.Array.from(n);for(p=0,t=q.length;p<t;p++){s.push(o.parseDate(q[p]))}return s}return o.parseDate(n)},setValue:function(k){var g=this;if(g.creatingPicker){return}g.getPicker();if(Ext.isDate(k)){k=g.getInitDate(k.getHours(),k.getMinutes(),k.getSeconds())}return Ext.form.field.ComboBox.prototype.setValue.call(this,k)},getValue:function(){return this.rawToValue(Ext.form.field.ComboBox.prototype.getValue.apply(this,arguments))}},0,["timefield"],["component","box","field","textfield","pickerfield","combobox","combo","timefield"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,timefield:true},["widget.timefield"],0,[Ext.form.field,"Time",Ext.form,"TimeField",Ext.form,"Time"],0));(Ext.cmd.derive("Ext.form.field.Trigger",Ext.form.field.Text,{alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],triggerCls:"x-form-arrow-trigger",inheritableStatics:{warnDeprecated:function(){}},onClassExtended:function(){this.warnDeprecated()},constructor:function(f){this.self.warnDeprecated();Ext.form.field.Text.prototype.constructor.call(this,f)}},1,["triggerfield","trigger"],["component","box","field","textfield","triggerfield","trigger"],{component:true,box:true,field:true,textfield:true,triggerfield:true,trigger:true},["widget.trigger","widget.triggerfield"],0,[Ext.form.field,"Trigger",Ext.form,"TriggerField",Ext.form,"TwinTriggerField",Ext.form,"Trigger"],0));(Ext.cmd.derive("Ext.grid.CellContext",Ext.Base,{isCellContext:true,generation:0,constructor:function(f){this.view=f},setPosition:function(k,m){var l=this;if(arguments.length===1){if(k.length){m=k[0];k=k[1]}else{if(k.isCellContext){return l.setAll(k.view,k.rowIdx,k.colIdx,k.record,k.column)}else{if(k.view){l.view=k.view}m=k.column;k=k.row}}}l.setRow(k);l.setColumn(m);return l},setAll:function(s,q,p,t,n){var o=this;o.view=s;o.rowIdx=q;o.colIdx=p;o.record=t;o.column=n;o.generation++;return o},setRow:function(m){var o=this,n=o.view.dataSource,q=o.record,p;if(m!==undefined){if(typeof m==="number"){p=n.getCount();m=m<0?Math.max(p+m,0):Math.max(Math.min(m,p-1),0);o.rowIdx=m;o.record=n.getAt(m)}else{if(m.isModel){o.record=m;o.rowIdx=n.indexOf(m)}else{if(m.tagName||m.isElement){o.record=o.view.getRecord(m);o.rowIdx=n.indexOf(o.record)}}}}if(o.record!==q){o.generation++}return o},setColumn:function(o){var l=this,m=l.view.getVisibleColumnManager(),n=l.column;if(o!==undefined){if(typeof o==="number"){l.colIdx=o;l.column=m.getHeaderAtIndex(o)}else{if(o.isHeader){l.column=o;l.colIdx=m.indexOf(o)}}}if(l.column!==n){l.generation++}return l},getCell:function(f){return this.view.getCellByPosition(this,f)},getRow:function(g){var k=this.view.getRow(this.record);return g?k:Ext.get(k)},getNode:function(g){var k=this.view.getNode(this.record);return g?k:Ext.get(k)},isEqual:function(f){return(f&&f.isCellContext&&f.record===this.record&&f.column===this.column)},clone:function(){var g=this,k=new g.self(g.view);k.rowIdx=g.rowIdx;k.colIdx=g.colIdx;k.record=g.record;k.column=g.column;return k},privates:{isFirstColumn:function(){var f=this.getCell(true);if(f){return !f.previousSibling}},isLastColumn:function(){var f=this.getCell(true);if(f){return !f.nextSibling}},isLastRenderedRow:function(){return this.view.all.endIndex===this.rowIdx},getLastColumnIndex:function(){var f=this.getRow(true);if(f){return f.lastChild.cellIndex}return -1},refresh:function(){var l=this,k=l.view.dataSource.indexOf(l.record),m=l.view.getVisibleColumnManager().indexOf(l.column);l.setRow(k===-1?l.rowIdx:l.record);l.setColumn(m===-1?l.colIdx:l.column)},navigate:function(k){var l=this,m=l.view.getVisibleColumnManager().getColumns();switch(k){case -1:do{if(!l.colIdx){l.colIdx=m.length-1}else{l.colIdx--}l.setColumn(l.colIdx)}while(!l.getCell(true));break;case 1:do{if(l.colIdx>=m.length){l.colIdx=0}else{l.colIdx++}l.setColumn(l.colIdx)}while(!l.getCell(true));break}}},statics:{compare:function(g,k){return g.rowIdx-k.rowIdx||g.colIdx-k.colIdx}}},1,0,0,0,0,0,[Ext.grid,"CellContext"],0));(Ext.cmd.derive("Ext.grid.CellEditor",Ext.Editor,{isCellEditor:true,alignment:"l-l!",hideEl:false,cls:"x-small-editor x-grid-editor x-grid-cell-editor",treeNodeSelector:".x-tree-node-text",shim:false,shadow:false,floating:true,alignOnScroll:false,useBoundValue:false,focusLeaveAction:"completeEdit",setGrid:function(f){this.grid=f},startEdit:function(l,k,m){this.context=this.editingPlugin.context;Ext.Editor.prototype.startEdit.call(this,l,k,m)},onShow:function(){var k=this,g=k.boundEl.down(k.context.view.innerSelector);if(g){if(k.isForTree){g=g.child(k.treeNodeSelector)}g.hide()}Ext.Editor.prototype.onShow.apply(this,arguments)},onFocusEnter:function(){var k=this,l=k.context,m=l.view;l.node=m.getNode(l.record);l.row=m.getRow(l.record);l.cell=l.getCell(true);l.rowIdx=m.indexOf(l.row);k.realign(true);Ext.Editor.prototype.onFocusEnter.apply(this,arguments);k.focusEnterEvent=null},onFocusLeave:function(e){var n=this,o=n.context.view,m=Ext.fly(e.relatedTarget);if(n[n.focusLeaveAction]()===false){e.event.stopEvent();return}delete n.focusLeaveAction;if(!o.destroyed&&o.el.contains(m)&&(!m.isAncestor(e.target)||m===o.el)&&!m.up(o.getCellSelector(),o.el)){n.context.grid.setActionableMode(false,o.actionPosition)}n.cacheElement();Ext.container.Container.prototype.onFocusLeave.apply(n,arguments)},completeEdit:function(m){var k=this,l=k.context;if(k.editing){l.value=k.field.value;if(k.editingPlugin.validateEdit(l)===false){if(l.cancel){l.value=k.originalValue;k.editingPlugin.cancelEdit()}return !!l.cancel}}Ext.Editor.prototype.completeEdit.call(this,m)},onEditComplete:function(p,q){var m=this,n=Ext.Element.getActiveElement(),o;m.editing=false;o=m.boundEl=m.context.getCell();if(o){m.restoreCell();if(o.contains(n)&&o.dom!==n){o.focus()}}Ext.Editor.prototype.onEditComplete.apply(this,arguments);if(q){m.editingPlugin.cancelEdit(m)}else{m.editingPlugin.onEditComplete(m,m.getValue(),m.startValue)}},cacheElement:function(){if(!this.editing&&!this.destroyed){Ext.getDetachedBody().dom.appendChild(this.el.dom)}},onHide:function(){Ext.Editor.superclass.onHide.apply(this,arguments)},onSpecialKey:function(w,x,s){var p=this,t=x.getKey(),u=p.completeOnEnter&&t===x.ENTER&&(!s||!s.fromBoundList),q=p.cancelOnEsc&&t===x.ESC,v=p.editingPlugin.view;if(u||q){x.stopEvent();if(q){p.focusLeaveAction="cancelEdit"}v.ownerGrid.setActionableMode(false)}},getRefOwner:function(){return this.column&&this.column.getView()},restoreCell:function(){var k=this,g=k.boundEl.down(k.context.view.innerSelector);if(g){if(k.isForTree){g=g.child(k.treeNodeSelector)}g.show()}},afterRender:function(){var k=this,g=k.field;Ext.Editor.prototype.afterRender.apply(this,arguments);if(g.isCheckbox){g.mon(g.inputEl,{mousedown:k.onCheckBoxMouseDown,click:k.onCheckBoxClick,scope:k})}},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(false,10)},realign:function(z){var u=this,x=u.boundEl,w=x.down(u.context.view.innerSelector),D=w.dom.firstChild,B=x.getWidth(),A=Ext.Array.clone(u.offsets),C=u.grid,v,t="",y=!D||(D.nodeType===3&&!(Ext.String.trim(t=D.data).length));if(u.isForTree){v=u.getTreeNodeOffset(w);B-=Math.abs(v);A[0]+=v}if(C.columnLines){B-=x.getBorderWidth("rl")}if(z===true){u.field.setWidth(B)}if(y){w.dom.innerHTML="X"}u.alignTo(x,u.alignment,A);if(y){w.dom.firstChild.data=t}},getTreeNodeOffset:function(f){return f.child(this.treeNodeSelector).getOffsetsTo(f)[0]}},0,0,["component","box","container","editor"],{component:true,box:true,container:true,editor:true},0,0,[Ext.grid,"CellEditor"],0));(Ext.cmd.derive("Ext.grid.ColumnComponentLayout",Ext.layout.component.Auto,{type:"columncomponent",setWidthInDom:true,_paddingReset:{paddingTop:"",paddingBottom:""},columnAutoCls:"x-column-header-text-container-auto",beginLayout:function(f){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);f.titleContext=f.getEl("titleEl")},beginLayoutCycle:function(m){var n=this,o=n.owner,l=m.widthModel.shrinkWrap;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(l){o.el.setWidth("")}o.textContainerEl[l&&!o.isGroupHeader?"addCls":"removeCls"](n.columnAutoCls);o.titleEl.setStyle(n._paddingReset)},publishInnerHeight:function(n,o){var p=this,q=p.owner,m;if(q.getRootHeaderCt().hiddenHeaders){n.setProp("innerHeight",0);return}if(!n.hasRawContent){if(q.headerWrap&&!n.hasDomProp("width")){p.done=false;return}m=o-n.getBorderInfo().height;n.setProp("innerHeight",m-q.titleEl.getHeight(),false)}},measureContentHeight:function(f){return f.el.dom.offsetHeight},publishInnerWidth:function(k,g){if(!k.hasRawContent){k.setProp("innerWidth",g-k.getBorderInfo().width,false)}},calculateOwnerHeightFromContentHeight:function(l,m){var n=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),o=this.owner;if(!l.hasRawContent){if(!o.headerWrap||l.hasDomProp("width")){return m+o.titleEl.getHeight()+l.getBorderInfo().height}return null}return n},calculateOwnerWidthFromContentWidth:function(n,s){var t=this.owner,o=n.getPaddingInfo().width,p=this.getTriggerOffset(t,n),q;if(t.isGroupHeader){q=s}else{q=Math.max(s,t.textEl.getWidth()+n.titleContext.getPaddingInfo().width)}return q+o+p},getTriggerOffset:function(m,k){var l=0;if(k.widthModel.shrinkWrap&&!m.menuDisabled){if(m.query(">:not([hidden])").length===0){l=m.getTriggerElWidth()}}return l}},0,0,0,0,["layout.columncomponent"],0,[Ext.grid,"ColumnComponentLayout"],0));(Ext.cmd.derive("Ext.layout.container.Fit",Ext.layout.container.Container,{alternateClassName:"Ext.layout.FitLayout",itemCls:"x-fit-item",type:"fit",manageMargins:true,sizePolicies:[{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}],getItemSizePolicy:function(n,m){var o=m||this.owner.getSizeModel(),l=(o.width.shrinkWrap?0:1)|(o.height.shrinkWrap?0:2);return this.sizePolicies[l]},beginLayoutCycle:function(K,N){var B=this,A=B.lastHeightModel&&B.lastHeightModel.calculated,M=B.lastWidthModel&&B.lastWidthModel.calculated,G=M||A,J=0,I=0,C,Q,F,D,O,R,L,H,E,P;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);if(G&&K.targetContext.el.dom.tagName.toUpperCase()!=="TD"){G=M=A=false}Q=K.childItems;O=Q.length;for(F=0;F<O;++F){D=Q[F];if(N){C=D.target;L=C.minHeight;H=C.minWidth;if(H||L){R=D.marginInfo||D.getMarginInfo();L+=R.height;H+=R.height;if(J<L){J=L}if(I<H){I=H}}}if(G){E=D.el.dom.style;if(A){E.height=""}if(M){E.width=""}}}if(N){K.maxChildMinHeight=J;K.maxChildMinWidth=I}C=K.target;K.overflowX=(!K.widthModel.shrinkWrap&&K.maxChildMinWidth&&C.scrollFlags.x)||P;K.overflowY=(!K.heightModel.shrinkWrap&&K.maxChildMinHeight&&C.scrollFlags.y)||P},calculate:function(C){var L=this,y=C.childItems,E=y.length,F=L.getContainerSize(C),D={length:E,ownerContext:C,targetSize:F},I=C.widthModel.shrinkWrap,N=C.heightModel.shrinkWrap,z=C.overflowX,B=C.overflowY,M,G,K,A,H,J;C.state.info=D;if(z||B){M=L.getScrollbarsNeeded(z&&F.width,B&&F.height,C.maxChildMinWidth,C.maxChildMinHeight);if(M){G=Ext.getScrollbarSize();if(M&1){F.height-=G.height}if(M&2){F.width-=G.width}}}if(E>0){for(A=0;A<E;++A){D.index=A;L.fitItem(y[A],D)}}else{D.contentWidth=D.contentHeight=0}if(N||I){K=C.targetContext.getPaddingInfo();if(I){if(B&&!F.gotHeight){L.done=false}else{H=D.contentWidth+K.width;if(M&2){H+=G.width}if(!C.setContentWidth(H)){L.done=false}}}if(N){if(z&&!F.gotWidth){L.done=false}else{J=D.contentHeight+K.height;if(M&1){J+=G.height}if(!C.setContentHeight(J)){L.done=false}}}}},fitItem:function(l,k){var m=this;if(l.invalid){m.done=false;return}k.margins=l.getMarginInfo();k.needed=k.got=0;m.fitItemWidth(l,k);m.fitItemHeight(l,k);if(k.got!==k.needed){m.done=false}},fitItemWidth:function(m,l){var o,n;if(l.ownerContext.widthModel.shrinkWrap){n=m.getProp("width")+l.margins.width;o=l.contentWidth;if(o===undefined){l.contentWidth=n}else{l.contentWidth=Math.max(o,n)}}else{if(m.widthModel.calculated){++l.needed;if(l.targetSize.gotWidth){++l.got;this.setItemWidth(m,l)}else{return}}}this.positionItemX(m,l)},fitItemHeight:function(m,l){var n,o;if(l.ownerContext.heightModel.shrinkWrap){o=m.getProp("height")+l.margins.height;n=l.contentHeight;if(n===undefined){l.contentHeight=o}else{l.contentHeight=Math.max(n,o)}}else{if(m.heightModel.calculated){++l.needed;if(l.targetSize.gotHeight){++l.got;this.setItemHeight(m,l)}else{return}}}this.positionItemY(m,l)},positionItemX:function(m,k){var l=k.margins;if(k.index||l.left){m.setProp("x",l.left)}if(l.width&&k.ownerContext.widthModel.shrinkWrap){m.setProp("margin-right",l.width)}},positionItemY:function(m,k){var l=k.margins;if(k.index||l.top){m.setProp("y",l.top)}if(l.height&&k.ownerContext.heightModel.shrinkWrap){m.setProp("margin-bottom",l.height)}},setItemHeight:function(k,g){k.setHeight(g.targetSize.height-g.margins.height)},setItemWidth:function(k,g){k.setWidth(g.targetSize.width-g.margins.width)}},0,0,0,0,["layout.fit"],0,[Ext.layout.container,"Fit",Ext.layout,"FitLayout"],0));(Ext.cmd.derive("Ext.panel.Table",Ext.panel.Panel,{extraBaseCls:"x-grid",extraBodyCls:"x-grid-body",actionableModeCls:"x-grid-actionable",noHeaderBordersCls:"x-no-header-borders",defaultBindProperty:"store",layout:"fit",manageLayoutScroll:false,ariaRole:"presentation",config:{selection:null,focused:null,headerBorders:true,hideHeaders:null},publishes:["selection"],twoWayBindable:["selection"],autoLoad:false,variableRowHeight:false,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:false,viewType:null,deferRowRender:false,sortableColumns:true,multiColumnSort:false,enableLocking:false,scrollerOwner:true,enableColumnMove:true,sealedColumns:false,enableColumnResize:true,rowLines:true,bufferedRenderer:true,ownerGrid:null,colLinesCls:"x-grid-with-col-lines",rowLinesCls:"x-grid-with-row-lines",noRowLinesCls:"x-grid-no-row-lines",hiddenHeaderCtCls:"x-grid-header-ct-hidden",hiddenHeaderCls:"x-grid-header-hidden",resizeMarkerCls:"x-grid-resize-marker",emptyCls:"x-grid-empty",focusable:true,constructor:function(m){var l=this,o=m&&m.ownerGrid,n;l.ownerGrid=o||l;l.actionables=o?o.actionables:[];Ext.panel.Panel.prototype.constructor.call(this,m);n=l.store;n.trackStateChanges=true;if(l.autoLoad){if(!n.isEmptyStore){n.load()}}},registerActionable:function(f){Ext.Array.include(this.actionables,f)},initComponent:function(){var v=this,x=v.columns||v.colModel||[],t,u,y,w,D,z,A,B,C;t=v.store=Ext.data.StoreManager.lookup(v.store||"ext-empty-store");v.enableLocking=v.enableLocking||v.hasLockedColumns(x);if(v.plugins){v.plugins=v.constructPlugins()}if(v.columnLines){v.addBodyCls(v.colLinesCls)}v.addBodyCls(v.rowLines?v.rowLinesCls:v.noRowLinesCls);v.addBodyCls(v.extraBodyCls);if(v.enableLocking){v.self.mixin("lockable",Ext.grid.locking.Lockable);v.injectLockable();B=v.headerCt}else{if(x.isRootHeader){v.headerCt=B=x;B.grid=v;B.forceFit=!!v.forceFit;B.$initParent=v;v.columnManager=B.columnManager;v.visibleColumnManager=B.visibleColumnManager}else{if(Ext.isArray(x)){x={items:x}}v.headerCt=B=new Ext.grid.header.Container(Ext.apply(x,{grid:v,$initParent:v,forceFit:v.forceFit,sortable:v.sortableColumns,enableColumnMove:v.enableColumnMove,enableColumnResize:v.enableColumnResize,columnLines:v.columnLines,sealed:v.sealedColumns}))}if(Ext.isDefined(v.enableColumnHide)){B.enableColumnHide=v.enableColumnHide}}v.columns=z=B.getGridColumns();v.scrollTask=new Ext.util.DelayedTask(v.syncHorizontalScroll,v);v.cls=(v.cls||"")+(" "+v.extraBaseCls);delete v.autoScroll;D=v.plugins&&Ext.Array.findBy(v.plugins,function(e){return e.isBufferedRenderer});if(D){v.bufferedRenderer=D}if(!v.hasView){if(t.isBufferedStore&&!t.getRemoteSort()){for(y=0,w=z.length;y<w;y++){z[y].sortable=false}}v.relayHeaderCtEvents(B);v.features=v.features||[];if(!Ext.isArray(v.features)){v.features=[v.features]}v.dockedItems=[].concat(v.dockedItems||[]);v.dockedItems.unshift(B);v.viewConfig=v.viewConfig||{};u=v.getView();v.items=[u];v.hasView=true;v.bindStore(t,true);v.mon(u,{viewready:v.onViewReady,refresh:v.onRestoreHorzScroll,scope:v});v.syncHeaderVisibility()}v.selModel=v.view.getSelectionModel();v.selModel.on({scope:v,lastselectedchanged:v.updateBindSelection,selectionchange:v.updateBindSelection});v.relayEvents(v.view,["beforeitemlongpress","beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemlongpress","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","rowclick","rowdblclick","rowcontextmenu","rowmousedown","rowmouseup","rowkeydown","beforeitemkeydown","itemkeydown","beforeitemkeyup","itemkeyup","beforeitemkeypress","itemkeypress","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","beforecontainerkeyup","beforecontainerkeypress","containermouseup","containermousedown","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","containerkeyup","containerkeypress","beforeselect","select","beforedeselect","deselect","beforerowexit"]);if(!v.selModel.isSpreadsheetModel){v.relayEvents(v.view,["selectionchange"])}Ext.panel.Panel.prototype.initComponent.call(this);if(v.enableLocking){v.afterInjectLockable()}else{delete B.$initParent}v.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange","groupchange"])},syncHeaderVisibility:function(){var t=this,A=t.headerCt,y=A.items.items,v=y.length,w=A.height===0,s=!!v,z,u,x,B;if(t.hideHeaders!=null){s=t.hideHeaders}else{for(x=0;s&&x<v;x++){z=y[x];u=z.text;if((u&&u!=="\xa0")||z.columns||(z.isGroupHeader&&z.items.items.length)){s=false}}}if(!A.rendered||s!==w){A.setHeight(s?0:null);A.hiddenHeaders=s;t.headerCt.toggleCls(t.hiddenHeaderCtCls,s);t.toggleCls(t.hiddenHeaderCls,s);if(!s){A.setScrollable({x:false,y:false});B=t.view.getScrollable();if(B){A.getScrollable().addPartner(B,"x")}}}},updateHideHeaders:function(f){if(!this.isConfiguring){this.syncHeaderVisibility()}},beforeRender:function(){var l=this,k=l.bufferedRenderer,m;if(l.lockable){l.getProtoBody().addCls(l.lockingBodyCls)}else{if(k&&l.getSizeModel().height.auto){l.bufferedRenderer=k=false}if(k&&!k.isBufferedRenderer){k={xclass:"Ext.grid.plugin.BufferedRenderer"};Ext.copy(k,l,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer",true);l.bufferedRenderer=l.addPlugin(k)}m=l.ariaRenderAttributes||(l.ariaRenderAttributes={});m["aria-readonly"]=!l.isEditable;m["aria-multiselectable"]=l.selModel.selectionMode!=="SINGLE"}Ext.panel.Panel.prototype.beforeRender.apply(this,arguments)},beforeLayout:function(){var f=this.mixins.lockable;if(f){f.beforeLayout.call(this)}Ext.panel.Panel.prototype.beforeLayout.call(this)},afterLayout:function(g){var k=this.mixins.lockable;if(k){k.syncLockableLayout.call(this,g)}Ext.panel.Panel.prototype.afterLayout.call(this,g)},onHide:function(k,m,l){this.getView().onOwnerGridHide();Ext.panel.Panel.prototype.onHide.call(this,k,m,l)},onShow:function(){Ext.panel.Panel.prototype.onShow.call(this);this.getView().onOwnerGridShow()},getHeaderContainer:function(){return this.getView().getHeaderCt()},getColumns:function(){return this.getColumnManager().getColumns()},getVisibleColumns:function(){return this.getVisibleColumnManager().getColumns()},getScrollable:function(){return this.scrollable||this.view.getScrollable()},focus:function(){this.getView().focus()},disableColumnHeaders:function(){this.headerCt.disable()},enableColumnHeaders:function(){this.headerCt.enable()},hasLockedColumns:function(m){var n,o,l;if(m.isRootHeader){m=m.items.items}else{if(Ext.isObject(m)){m=m.items}}for(n=0,o=m.length;n<o;n++){l=m[n];if(!l.processed&&l.locked){return true}}},relayHeaderCtEvents:function(f){this.relayEvents(f,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var l=this,k=Ext.panel.Panel.prototype.getState.call(this),m=l.store.getState();k=l.addPropertyToState(k,"columns",l.headerCt.getColumnsState());if(m){k.storeState=m}return k},applyState:function(o){var p=this,n=o.sort,t=o.storeState,s=p.store,q=o.columns=p.buildColumnHash(o.columns);Ext.panel.Panel.prototype.applyState.apply(this,arguments);if(q){p.headerCt.applyColumnsState(q,t)}if(n){if(s.getRemoteSort()){s.sort({property:n.property,direction:n.direction,root:n.root},null,false)}else{s.sort(n.property,n.direction)}}else{if(t){s.applyState(t)}}},buildColumnHash:function(n){var p=n.length,m,o,q;if(n){q={};for(o=0,p=n.length;o<p;o++){m=n[o];m.index=o;if(m.columns){m.columns=this.buildColumnHash(m.columns)}q[m.id]=m}return q}},getStore:function(){return this.store},onViewRefresh:function(k,g){this.onItemAdd(g,0)},onItemAdd:function(A,w,C,t){var u=this,D=A.length,x=u.freeRowContexts,v=u.liveRowContexts||(u.liveRowContexts={}),B,z,y;for(z=0;z<D;z++){y=A[z];if(!v[y.internalId]){B=x&&x.shift();if(!B){B=new Ext.grid.RowContext({ownerGrid:u})}u.liveRowContexts[y.internalId]=B;B.setRecord(y,w++)}}},onItemRemove:function(z,w,C,D){var t=this,x=t.freeRowContexts||(t.freeRowContexts=[]),u=t.liveRowContexts,v=C.length,y,A,B;for(y=0;y<v;y++){A=C[y].getAttribute("data-recordId");B=u[A];if(B){B.free();x.push(B);delete u[A]}}},createManagedWidget:function(m,k,l){return this.liveRowContexts[l.internalId].getWidget(m,k)},destroyManagedWidgets:function(t){var p=this,w=p.liveRowContexts,u=p.freeRowContexts,v=u&&u.length,q,s,x;for(s in w){x=w[s].widgets;if(x){Ext.destroy(x[t]);delete x[t]}}for(q=0;q<v;q++){x=u[q].widgets;if(x){Ext.destroy(x[t]);delete x[t]}}},getManagedWidgets:function(p){var n=this,m=n.liveRowContexts,o,q=[];for(o in m){q.push(m[o].widgets[p])}return q},getView:function(){var m=this,o,l,n;if(!m.view){n=m.viewConfig;o=n.scroll||m.scroll;l=m.scrollable;if(l==null&&n.scrollable==null&&o!==null){if(o===true||o==="both"){l=true}else{if(o===false||o==="none"){l=false}else{if(o==="vertical"){l={x:false,y:true}}else{if(o==="horizontal"){l={x:true,y:false}}}}}}n=Ext.apply({grid:m,ownerGrid:m.ownerGrid,deferInitialRefresh:m.deferRowRender,variableRowHeight:m.variableRowHeight,preserveScrollOnRefresh:true,trackOver:m.trackMouseOver!==false,throttledUpdate:m.throttledUpdate===true,xtype:m.viewType,store:m.store,headerCt:m.headerCt,columnLines:m.columnLines,rowLines:m.rowLines,navigationModel:"grid",features:m.features,panel:m,emptyText:m.emptyText||""},m.viewConfig);if(!("scrollable" in n||"scroll" in n||"autoScroll" in n)&&l!=null){n.scrollable=l}Ext.create(n);if(m.view.emptyText){m.view.emptyText='<div class="'+m.emptyCls+'">'+m.view.emptyText+"</div>"}m.view.getComponentLayout().headerCt=m.headerCt;m.mon(m.view,{uievent:m.processEvent,scope:m});m.headerCt.view=m.view;if(m.hasListeners.viewcreated){m.fireEvent("viewcreated",m,m.view)}}return m.view},getEmptyText:function(){return this.view.emptyText},setEmptyText:function(f){this.emptyText=f;this.view.setEmptyText('<div class="'+this.emptyCls+'">'+f+"</div>");return this},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,applyScrollable:function(g){var k=this.view;k=k&&(k.normalView||k);if(k){k.setScrollable(g)}return g},processEvent:function(v,t,s,z,u,w,x,e){var y=w.position.column;if(y){return y.processEvent.apply(y,arguments)}},ensureVisible:function(k,g){this.doEnsureVisible(k,g)},scrollByDeltaY:function(g,k){this.getView().scrollBy(null,g,k)},scrollByDeltaX:function(g,k){this.getView().scrollBy(g,null,k)},afterCollapse:function(){this.saveScrollPos();Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){Ext.panel.Panel.prototype.afterExpand.apply(this,arguments);this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:Ext.emptyFn,onHeaderMove:function(o,n,t,s,p){var q=this;if(q.optimizedColumnMove===false){q.view.refreshView()}else{q.view.moveColumn(s,p,t)}q.delayScroll()},onHeaderHide:function(l,k){var m=this.view;if(!l.childHideCount&&m.refreshCounter){m.refreshView()}},onHeaderShow:function(l,k){var m=this.view;if(m.refreshCounter){m.refreshView()}},onHeadersChanged:function(l,k){var m=this;if(m.rendered&&!m.reconfiguring){m.view.refreshView();m.delayScroll()}},delayScroll:function(){var f=this.view;if(f){this.scrollTask.delay(10,null,null,[f])}},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var g=this,k=g.scrollXPos;if(k){g.syncHorizontalScroll(g,true)}},getScrollerOwner:function(){var f=this;if(!this.scrollerOwner){f=this.up("[scrollerOwner]")}return f},getLhsMarker:function(){var f=this;return f.lhsMarker||(f.lhsMarker=Ext.DomHelper.append(f.el,{role:"presentation",cls:f.resizeMarkerCls},true))},getRhsMarker:function(){var f=this;return f.rhsMarker||(f.rhsMarker=Ext.DomHelper.append(f.el,{role:"presentation",cls:f.resizeMarkerCls},true))},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(m){var l=this,k;if(!l.ignoreNextSelection){l.ignoreNextSelection=true;k=l.getSelectionModel();if(m){k.select(m)}else{k.deselectAll()}l.ignoreNextSelection=false}},updateBindSelection:function(o,m){var l=this,n=null;if(!l.ignoreNextSelection){l.ignoreNextSelection=true;if(m.length){n=o.getLastSelected();l.hasHadSelection=true}if(l.hasHadSelection){l.setSelection(n)}l.ignoreNextSelection=false}},updateFocused:function(f){this.getNavigationModel().setPosition(f)},updateHeaderBorders:function(f){this[f?"removeCls":"addCls"](this.noHeaderBordersCls)},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){return this.getView().getSelectionModel()},getScrollTarget:function(){var f=this.getScrollerOwner().query("tableview");return f[f.length-1]},syncHorizontalScroll:function(m,o){var n=this,q=n.view.getScrollX(),p;o=o===true;if(n.rendered&&(o||q!==n.scrollXPos)){if(o){p=n.getScrollTarget();p.setScrollX(q)}n.headerCt.setScrollX(q);n.scrollXPos=q}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(p,o){var n=this,q=n.getView(),m=n.getStore();if(p){n.store=p;if(q.store!==p){q.bindStore(p,false)}n.mon(p,{load:n.onStoreLoad,scope:n});n.storeRelayers=n.relayEvents(p,["filterchange","groupchange"]);if(!n.reconfiguring&&n.hasListeners.storechange&&p!==m){n.fireEvent("storechange",n,p,m)}}else{n.unbindStore()}},unbindStore:function(){var k=this,l=k.store,m;if(l){l.trackStateChanges=false;k.store=null;k.mun(l,{load:k.onStoreLoad,scope:k});Ext.destroy(k.storeRelayers);m=k.view;if(m.store){m.bindStore(null)}if(!k.reconfiguring&&k.hasListeners.storechange){k.fireEvent("storechange",k,null,l)}}},setColumns:function(f){if(f.length||this.getColumnManager().getColumns().length){this.reconfigure(undefined,f)}},setStore:function(k){var g=this;g.reconfigure(k,undefined,true);if(g.isVisible(true)){if(k&&g.autoLoad&&!k.isEmptyStore&&!(k.loading||k.isLoaded())){k.load()}}else{if(!g.globalShowListener){g.globalShowListener=Ext.GlobalEvents.on({show:g.onGlobalShow,scope:g,destroyable:true})}}},onGlobalShow:function(l){var k=this,m=k.store;if(l===k||(l.isAncestor(k)&&k.isVisible(true))){if(m&&k.autoLoad&&!m.isEmptyStore&&!(m.loading||m.isLoaded())){m.load()}Ext.destroy(k.globalShowListener)}},reconfigure:function(G,C,y){var J=this,F=J.store,D=J.headerCt,H=J.lockable,A=D?D.items.getRange():J.columns,I=J.getView(),B,w,E,z,x;if(arguments.length===1&&Ext.isArray(G)){C=G;G=null}if(C){C=Ext.Array.slice(C)}J.reconfiguring=true;if(G){G=Ext.StoreManager.lookup(G);E=G&&G!==F}else{if(y){G=Ext.StoreManager.lookup("ext-empty-store");E=G!==F}}J.fireEvent("beforereconfigure",J,G,C,F,A);Ext.suspendLayouts();if(H){J.reconfigureLockable(G,C,y)}else{B=I.blockRefresh;I.blockRefresh=true;x=I.saveFocusState();if(E){J.unbindStore();J.bindStore(G)}if(C){delete J.scrollXPos;D.removeAll();D.add(C);z=true}D.onOwnerGridReconfigure(E,z);w=I.refreshCounter}Ext.resumeLayouts(true);J.reconfiguring=false;if(H){J.afterReconfigureLockable()}else{I.blockRefresh=B;if(I.refreshCounter===w){I.refreshView();x()}}J.fireEvent("reconfigure",J,G,C,F,A);delete J.reconfiguring;if(E){J.fireEvent("storechange",J,G,F)}},doDestroy:function(){var g=this,k=g.scrollTask;if(g.lockable){g.destroyLockable()}if(k){k.cancel()}Ext.destroy(g.plugins,g.focusEnterLeaveListeners,g.freeRowContexts,Ext.Object.getValues(g.liveRowContexts));Ext.panel.Panel.prototype.doDestroy.call(this);g.unbindStore()},privates:{initFocusableElement:function(){},doEnsureVisible:function(B,G){if(this.lockable){return this.ensureLockedVisible(B,G)}if(typeof B!=="number"&&!B.isEntity){B=this.store.getById(B)}var A=this,y=A.getView(),C=y.getNode(B),J,I,F,E,x,H,z,D,w;if(G){J=G.callback;I=G.scope;F=G.animate;E=G.highlight;x=G.select;H=G.focus;D=G.column}if(A.deferredEnsureVisible){A.deferredEnsureVisible.destroy()}if(!y.componentLayoutCounter){A.deferredEnsureVisible=y.on({resize:A.doEnsureVisible,args:Ext.Array.slice(arguments),scope:A,single:true,destroyable:true});return}if(typeof D==="number"){D=A.ownerGrid.getVisibleColumnManager().getColumns()[D]}if(C){z=y.getScrollable();if(D){w=Ext.fly(C).selectNode(D.getCellSelector())}if(z){z.scrollIntoView(w||C,!!D,F,E)}if(!B.isEntity){B=y.getRecord(C)}if(x){y.getSelectionModel().select(B)}if(H){y.getNavigationModel().setPosition(B,0)}Ext.callback(J,I||A,[true,B,C])}else{if(y.bufferedRenderer){y.bufferedRenderer.scrollTo(B,{animate:F,highlight:E,select:x,focus:H,column:D,callback:function(g,f,e){Ext.callback(J,I||A,[true,f,e])}})}else{Ext.callback(J,I||A,[false,null])}}},getFocusEl:function(){return this.getView().getFocusEl()},setActionableMode:function(l,m){var k=this.ownerGrid;if(!k.destroying&&k.view.setActionableMode(l,m)!==false){k.fireEvent("actionablemodechange",l);k[l?"addCls":"removeCls"](k.actionableModeCls);return true}},getOverflowStyle:function(){this.scrollFlags=this._scrollFlags["false"]["false"];return{overflowX:"hidden",overflowY:"hidden"}},getOverflowEl:function(){return null}}},1,["tablepanel"],["component","box","container","panel","tablepanel"],{component:true,box:true,container:true,panel:true,tablepanel:true},["widget.tablepanel"],0,[Ext.panel,"Table"],0));Ext.define("Ext.theme.neptune.panel.Table",{override:"Ext.panel.Table",lockableBodyBorder:true,initComponent:function(){var f=this;(arguments.callee.$previous||Ext.panel.Panel.prototype.initComponent).call(this);if(!f.hasOwnProperty("bodyBorder")&&!f.hideHeaders&&(f.lockableBodyBorder||!f.lockable)){f.bodyBorder=true}}});(Ext.cmd.derive("Ext.grid.ColumnLayout",Ext.layout.container.HBox,{type:"gridcolumn",firstHeaderCls:"x-column-header-first",lastHeaderCls:"x-column-header-last",initLayout:function(){Ext.layout.container.HBox.prototype.initLayout.call(this);if(this.scrollbarWidth===undefined){this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width}},beginLayout:function(z){var u=this,B=u.owner,y=u.firstHeaderCls,s=u.lastHeaderCls,A=[y,s],v=u.getVisibleItems(),w=v.length,x,t;Ext.layout.container.HBox.prototype.beginLayout.call(this,z);for(x=0;x<w;x++){t=v[x];if(w===1){t.addCls(A)}else{if(x===0){t.addCls(y);t.removeCls(s)}else{if(x===w-1){t.removeCls(y);t.addCls(s)}else{t.removeCls(A)}}}}u.scrollbarWidth=0;if(B.isRootHeader&&!B.grid.isLocked){u.determineScrollbarWidth(z)}if(!u.scrollbarWidth){z.manageScrollbar=false}},moveItemBefore:function(n,l){var o=n.ownerCt,m=l&&l.nextSibling();if(n!==l&&o){o.remove(n,{destroy:false,detach:false});if(l&&l.destroyed){l=m}}return Ext.layout.container.HBox.prototype.moveItemBefore.call(this,n,l)},determineScrollbarWidth:function(v){var p=this,u=p.owner,q=u.grid,t=q.reserveScrollbar,o=q.view.getScrollable(),s=!t&&o&&o.getY();v.manageScrollbar=s;if(!q.ownerGrid.collapsed&&(t||s)){delete p.scrollbarWidth}},calculate:function(C){var H=this,D=H.owner,G=D.grid,L=C.viewContext,F=C.state,E=C.context,x,K,z,I,J,A,y,B;Ext.layout.container.HBox.prototype.calculate.call(this,C);if(G&&D.isRootHeader&&F.parallelDone){x=L.lockingPartnerContext;if(G.forceFit&&!F.reflexed){if(H.convertWidthsToFlexes(C)){H.cacheFlexes(C);H.done=false;C.invalidate({state:{reflexed:true,scrollbarAdjustment:H.getScrollbarAdjustment(C)}});return}}if((K=F.columnsChanged)===undefined){z=C.target.getVisibleGridColumns();K=false;for(J=0,I=z.length;J<I;J++){A=E.getCmp(z[J]);if(!A.lastBox||A.props.width!==A.lastBox.width){(K||(K=[]))[J]=A}}F.columnsChanged=K;C.setProp("columnsChanged",K)}if(C.manageScrollbar){y=H.getScrollbarAdjustment(C);if(y){B=L.getProp("viewOverflowY");if(B===undefined){H.done=false;return}if(!B){if(x){x.invalidate();x.headerContext.invalidate()}L.invalidate();C.invalidate({state:{scrollbarAdjustment:0}})}}}}},finishedLayout:function(f){Ext.layout.container.HBox.prototype.finishedLayout.call(this,f);if(this.owner.ariaRole==="rowgroup"){this.innerCt.dom.setAttribute("role","row")}f.props.columnsChanged=null},convertWidthsToFlexes:function(z){var u=this,w=0,t=u.sizeModels.calculated,x,v,y,q,s;x=z.childItems;v=x.length;for(y=0;y<v;y++){q=x[y];s=q.target;w+=q.props.width;if(!(s.fixed||s.resizable===false)){s.flex=z.childItems[y].flex=q.props.width;s.width=null;q.widthModel=t}}return w!==z.props.width},getScrollbarAdjustment:function(n){var p=this,o=n.state,q=p.owner.grid,m=o.scrollbarAdjustment;if(m===undefined){m=0;if(q.reserveScrollbar||(n.manageScrollbar&&!q.ownerGrid.getSizeModel().height.shrinkWrap)){m=p.scrollbarWidth}o.scrollbarAdjustment=m}return m},getContainerSize:function(A){var x=this,w,u,v,z,y,B,t,s;if(x.owner.isRootHeader){s=Ext.layout.container.HBox.prototype.getContainerSize.call(this,A);if(s.gotWidth){s.width-=x.getScrollbarAdjustment(A)}}else{v=A.paddingContext.getPaddingInfo();w=u=0;if(!A.widthModel.shrinkWrap){++u;B=A.getProp("innerWidth");z=(typeof B==="number");if(z){++w;B-=v.width;if(B<0){B=0}}}if(!A.heightModel.shrinkWrap){++u;t=A.getProp("innerHeight");y=(typeof t==="number");if(y){++w;t-=v.height;if(t<0){t=0}}}return{width:B,height:t,needed:u,got:w,gotAll:w===u,gotWidth:z,gotHeight:y}}return s},publishInnerCtSize:function(m){var n=this,q=n.owner,p=m.peek("contentWidth"),o=0;if(p!=null&&q.isRootHeader){o=-m.state.scrollbarAdjustment}return Ext.layout.container.HBox.prototype.publishInnerCtSize.call(this,m,o)}},0,0,0,0,["layout.gridcolumn"],0,[Ext.grid,"ColumnLayout"],0));(Ext.cmd.derive("Ext.grid.ColumnManager",Ext.Base,{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(l,k,m){this.headerCt=k;if(m){this.secondHeaderCt=m}this.visibleOnly=!!l},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},hasVariableRowHeight:function(){var l=this,m=l.getColumns(),o=m.length,n;if(l.variableRowHeight==null){l.variableRowHeight=false;for(n=0;!l.variableRowHeight&&n<o;n++){l.variableRowHeight=!!m[n].variableRowHeight}}return l.variableRowHeight},getHeaderIndex:function(f){if(f.isGroupHeader){f=this.getHeaderColumns(f)[0]}return Ext.Array.indexOf(this.getColumns(),f)},getHeaderAtIndex:function(l){var k=this.getColumns(),m=k[l];return m||null},getPreviousSibling:function(k){var l=this.getHeaderIndex(k),m=null;if(l>0){m=this.getColumns()[l-1]}return m},getNextSibling:function(k){var l=this.getHeaderIndex(k),m;if(l!==-1){m=this.getColumns()[l+1]}return m||null},getFirst:function(){var f=this.getColumns();return f.length>0?f[0]:null},getLast:function(){var g=this.getColumns(),k=g.length;return k>0?g[k-1]:null},getHeaderByDataIndex:function(n){var o=this.getColumns(),q=o.length,p,m;if(Ext.isEmpty(n)){return null}for(p=0;p<q;++p){m=o[p];if(m.dataIndex===n){return m}}return null},getHeaderById:function(m){var o=this.getColumns(),q=o.length,p,n;for(p=0;p<q;++p){n=o[p];if(n.getItemId()===m){return n}}return null},getVisibleHeaderClosestToIndex:function(g){var k=this.getHeaderAtIndex(g);if(k&&k.hidden){k=k.next(":not([hidden])")||k.prev(":not([hidden])")}return k},cacheColumns:function(){var g=this.getHeaderColumns(this.headerCt),k=this.secondHeaderCt;if(k){g=g.concat(this.getHeaderColumns(k))}this.columns=g},getHeaderColumns:function(g){var k=this.visibleOnly?g.getVisibleGridColumns():g.getGridColumns();return Ext.Array.clone(k)},invalidate:function(){var f=this.rootColumns;this.columns=this.variableRowHeight=null;if(f){f.invalidate()}},destroy:function(){this.columns=this.rootColumns=null;this.callParent()}},1,0,0,0,0,0,[Ext.grid,"ColumnManager",Ext.grid,"ColumnModel"],function(){this.createAlias("indexOf","getHeaderIndex")}));(Ext.cmd.derive("Ext.grid.NavigationModel",Ext.view.NavigationModel,{focusCls:"x-grid-item-focused",getViewListeners:function(){var f=this;return{focusmove:{element:"el",fn:f.onFocusMove},containermousedown:f.onContainerMouseDown,cellmousedown:f.onCellMouseDown,cellclick:f.onCellClick,itemmousedown:f.onItemMouseDown,itemclick:f.onItemClick,itemcontextmenu:f.onItemClick,scope:f}},initKeyNav:function(m){var l=this,k;if(!l.keyNav){l.keyNav=[];l.position=new Ext.grid.CellContext(m)}k=new Ext.util.KeyNav({target:m,ignoreInputFields:true,eventName:Ext.supports.SpecialKeyDownRepeat?"itemkeydown":"itemkeypress",defaultEventAction:"stopEvent",processEvent:l.processViewEvent,up:l.onKeyUp,down:l.onKeyDown,right:l.onKeyRight,left:l.onKeyLeft,pageDown:l.onKeyPageDown,pageUp:l.onKeyPageUp,home:l.onKeyHome,end:l.onKeyEnd,space:l.onKeySpace,enter:l.onKeyEnter,esc:l.onKeyEsc,113:l.onKeyF2,tab:l.onKeyTab,A:{ctrl:true,handler:l.onSelectAllKeyPress},scope:l});l.keyNav.push(k);l.onKeyNavCreate(k)},onKeyNavCreate:Ext.emptyFn,addKeyBindings:function(k){var m=this.keyNav.length,l;for(l=0;l<m;l++){this.keyNav[l].addBindings(k)}},enable:function(){var k=this.keyNav.length,g;for(g=0;g<k;g++){this.keyNav[g].enable()}this.disabled=false},disable:function(){var k=this.keyNav.length,g;for(g=0;g<k;g++){this.keyNav[g].disable()}this.disabled=true},processViewEvent:function(s,t,n,q,o){var p=o.getKey();if(s.actionableMode){this.map.ignoreInputFields=false;if(p===o.TAB||p===o.ESC||p===o.F2){return o}}else{this.map.ignoreInputFields=true;return p===o.TAB?null:o}},onCellMouseDown:function(w,v,x,z,D,A,B){var C=Ext.Component.fromElement(B.target,v),u=B.getTarget(null,null,true),y=u.isFocusable()&&!u.is(w.getCellSelector()),t;if(w.actionableMode){if(!y){y=(t=Ext.ComponentManager.getActiveComponent())&&t!==w&&t.owns(B)}if(y){w.setActionableMode(true,B.position)}else{w.setActionableMode(false,B.position)}return}if(B.pointerType!=="touch"){if(B.position.column.cellFocusable!==false){if(y){if(!w.containsFocus){w.containsFocus=true;w.toggleChildrenTabbability(false)}w.setActionableMode(true,B.position)}else{v.focus()}if(B.button===2){this.fireNavigateEvent(B)}}else{B.preventDefault(true)}if(C&&C.isFocusable&&C.isFocusable()){w.setActionableMode(true,B.position);C.focus()}}},onCellClick:function(w,v,x,z,s,A,u){var y=this,B=Ext.Component.fromElement(u.target,v),t=B&&B.isFocusable&&B.isFocusable();if(!Ext.isIE10m&&!w.el.contains(Ext.Element.getActiveElement())&&u.pointerType!=="touch"){return}if(w.actionableMode){if(!u.position.isEqual(w.actionPosition)){if(!t){w.setActionableMode(false,u.position)}}y.fireEvent("navigate",{view:w,navigationModel:y,keyEvent:u,previousPosition:y.previousPosition,previousRecordIndex:y.previousRecordIndex,previousRecord:y.previousRecord,previousItem:y.previousItem,previousCell:y.previousCell,previousColumnIndex:y.previousColumnIndex,previousColumn:y.previousColumn,position:u.position,recordIndex:u.position.rowIdx,record:u.position.record,selectionStart:y.selectionStart,item:u.item,cell:u.position.cellElement,columnIndex:u.position.colIdx,column:u.position.column})}else{if(y.position.isEqual(u.position)||t){if(Ext.isIE10m&&!y.record){return}y.fireNavigateEvent(u)}else{if(u.position.column.cellFocusable!==false){y.setPosition(u.position,null,u)}else{u.preventDefault()}}}},onFocusMove:function(u){var p=Ext.Component.fromElement(u.delegatedTarget,null,"tableview"),t=u.target,q=Ext.fly(t).is(p.cellSelector),s,v,e;if(p){if(!p.actionableMode&&q){s=p.getRecord(t);v=p.getHeaderByCell(t);if(s&&v){e=new Ext.grid.CellContext(p).setPosition(s,v);if(!e.isEqual(this.position)){this.setPosition(e)}}}else{if((p.actionableMode||p.activating)&&!q&&p.el.contains(u.target)&&p.el.dom!==u.target){p.ownerGrid.fireEvent("cellactivate",p.ownerGrid,p.actionPosition)}}}},onItemMouseDown:function(s,t,n,p,q){var o=this;if(!q.position.cellElement&&(q.pointerType!=="touch")){q.preventDefault();o.getClosestCell(q);if(!o.position.isEqual(q.position)){o.setPosition(q.position,null,q)}s.getScrollable().restoreState()}},onItemClick:function(o,p,m,n,q){if(!q.position.cellElement){this.getClosestCell(q);if(q.pointerType==="touch"){this.setPosition(q.position,null,q)}this.fireNavigateEvent(q)}},getClosestCell:function(z){var u=z.position,y=u.cellElement,q,w,t,v,x,s;if(!y){q=z.getX();w=u.view.getVisibleColumnManager().getColumns();t=w.length;for(v=0;v<t;v++){x=w[v];s=w[v].getBox();if(q>=s.left&&q<s.right){u.setColumn(w[v]);u.rowElement=u.getRow(true);u.cellElement=u.getCell(true);return}}}},deferSetPosition:function(s,t,q,o,u,v){var p=this.view.getFocusTask();p.delay(s,this.setPosition,this,[t,q,o,u,v]);return p},setPosition:function(P,C,F,O,H){var B=this,A=P==null&&C==null,G=B.record==null&&B.recordIndex==null&&B.item==null,J,E,I,D,N,K,Q,M,L,R;if(P&&P.isCellContext){J=P.view}else{if(F&&F.view){J=F.view}else{if(B.lastFocused){J=B.lastFocused.view}else{J=B.view}}}J.getFocusTask().cancel();if(J.destroyed||!J.refreshCounter||!J.ownerCt||A&&G||!J.all.getCount()){return}I=J.getSelectionModel();D=J.dataSource;N=J.getVisibleColumnManager();R=N.getColumns();if(P&&P.isCellContext){M=P.record;K=P.rowIdx;Q=Math.min(P.colIdx,R.length-1);L=R[Q];if(D.indexOf(M)===-1){E=J.getScrollable();B.recordIndex=-1;if(E&&(E.getPosition().y>=E.getMaxPosition().y-J.all.last(true).offsetHeight)){P.rowIdx--}K=Math.min(P.rowIdx,D.getCount()-1);M=D.getAt(K)}}else{if(A){M=K=null}else{if(C==null){C=B.lastFocused?B.lastFocused.column:0}if(typeof P==="number"){K=Math.max(Math.min(P,D.getCount()-1),0);M=D.getAt(P)}else{if(P.isEntity){M=P;K=D.indexOf(M)}else{if(P.tagName){M=J.getRecord(P);K=D.indexOf(M);if(K===-1){M=null}}else{if(G){return}A=true;M=K=null}}}}if(M){if(K===-1){B.recordIndex=-1;M=D.getAt(0);K=0;C=null}if(C==null){if(!(L=B.column)){Q=0;L=R[0]}}else{if(typeof C==="number"){L=R[C];Q=C}else{L=C;Q=N.indexOf(C)}}}else{A=true;L=Q=null}}if(L&&N.indexOf(L)===-1){if(Q===-1){Q=0}else{Q=Math.min(Q,R.length-1)}L=R[Q]}if(J.actionableMode&&!A){return J.ownerGrid.setActionableMode(false,new Ext.grid.CellContext(J).setPosition(M,L))}if(K===B.recordIndex&&Q===B.columnIndex&&J===B.position.view){return B.focusPosition(B.position)}if(B.cell){B.cell.removeCls(B.focusCls)}B.previousRecordIndex=B.recordIndex;B.previousRecord=B.record;B.previousItem=B.item;B.previousCell=B.cell;B.previousColumn=B.column;B.previousColumnIndex=B.columnIndex;B.previousPosition=B.position.clone();B.selectionStart=I.selectionStart;B.position.setAll(J,B.recordIndex=K,B.columnIndex=Q,B.record=M,B.column=L);if(A){B.item=B.cell=null}else{B.focusPosition(B.position,H)}if(!O){I.fireEvent("focuschange",I,B.previousRecord,B.record);J.fireEvent("rowfocus",B.record,B.item,B.recordIndex);J.fireEvent("cellfocus",B.record,B.cell,B.position)}if(F&&!H&&B.cell!==B.previousCell){B.fireNavigateEvent(F)}},focusPosition:function(p){var n=this,o,m,q;n.item=n.cell=null;if(p&&p.record&&p.column){o=p.view;if(p.rowElement){m=n.item=p.rowElement}else{m=o.getRowByRecord(p.record)}if(m){n.cell=p.cellElement||Ext.fly(m).down(p.column.getCellSelector(),true);if(n.cell){n.cell=new Ext.dom.Fly(n.cell);o.lastFocused=n.lastFocused=n.position.clone();q=o.getScrollable();if(q){q.scrollIntoView(n.cell)}n.focusItem(n.cell);o.focusEl=n.cell}else{n.position.setAll();n.record=n.column=n.recordIndex=n.columnIndex=null}}else{m=o.dataSource.indexOf(p.record);n.position.setAll();n.record=n.column=n.recordIndex=n.columnIndex=null;if(m!==-1&&o.bufferedRenderer){n.lastKeyEvent=null;o.bufferedRenderer.scrollTo(m,false,n.afterBufferedScrollTo,n)}}}},focusItem:function(f){f.addCls(this.focusCls);f.focus()},getCell:function(){return this.cell},getPosition:function(q){var o=this,t=o.position,p,s,n;if(t.record&&t.column){if(q){return t}s=t.view;n=s.dataSource;p=n.indexOf(t.record);if(p===-1){p=t.rowIdx;if(!(t.record=n.getAt(p))){p=-1}}if(p===-1||s.getVisibleColumnManager().indexOf(t.column)===-1){t.setAll();o.record=o.column=o.recordIndex=o.columnIndex=null}else{return t}}return null},getLastFocused:function(){var k=this,m,l=k.lastFocused;if(l&&l.record&&l.column){m=l.view;if(m.dataSource.indexOf(l.record)!==-1&&m.getVisibleColumnManager().indexOf(l.column)!==-1){return l}}},onKeyTab:function(n){var o=!n.shiftKey,q=n.position.view,p,s,t;p=q.findFocusPosition(n.target,n.position,o,n);s=p.target;t=p.position;if(s){this.actionPosition=t.view.actionPosition=t;Ext.fly(s).focus()}else{q.onRowExit(n,n.item,n.item[o?"nextSibling":"previousSibling"],o)}n.preventDefault()},onKeyUp:function(l){var m=l.view.walkRecs(l.record,-1),k=this.getPosition();if(m){k.setRow(m);if(!k.getCell(true)){k.navigate(-1)}this.setPosition(k,null,l)}},onKeyDown:function(l){var m=l.record.isExpandingOrCollapsing?null:l.view.walkRecs(l.record,1),k=this.getPosition();if(m){k.setRow(m);if(!k.getCell(true)){k.navigate(-1)}this.setPosition(k,null,l)}},onKeyRight:function(g){var k=this.move("right",g);if(k){this.setPosition(k,null,g)}},onKeyLeft:function(g){var k=this.move("left",g);if(k){this.setPosition(k,null,g)}},onKeyEnter:function(l){var m=["cellclick",l.view,l.position.cellElement,l.position.colIdx,l.record,l.position.rowElement,l.recordIndex,l],k=l.position.getCell();if(k){if(!k.query('[tabIndex="-1"]').length){l.stopEvent();l.view.fireEvent.apply(l.view,m);m[0]="celldblclick";l.view.fireEvent.apply(l.view,m)}if(!this.view.actionableMode){this.view.ownerGrid.setActionableMode(true,this.getPosition())}}},onKeyF2:function(l){var m=this.view.ownerGrid,k=m.actionableMode;m.setActionableMode(!k,k?null:this.getPosition())},onKeyEsc:function(g){var k=this.view.ownerGrid;if(k.actionableMode){k.setActionableMode(false)}else{return true}},move:function(o,m){var n=this,p=n.getPosition(),q=p;if(p&&p.record){while(q){q=p.view.walkCells(q,o,m.shiftKey&&(o==="right"||o==="left")?n.vetoRowChange:null,n);if(q&&q.column.cellFocusable!==false){return q}}}},vetoRowChange:function(f){return this.getPosition().record===f.record},onKeyPageDown:function(o){var p=this,t=o.view,n=p.getRowsVisible(),q,s;if(n){if(t.bufferedRenderer){q=Math.min(o.recordIndex+n,t.dataSource.getCount()-1);p.lastKeyEvent=o;t.bufferedRenderer.scrollTo(q,false,p.afterBufferedScrollTo,p)}else{s=t.walkRecs(o.record,n);p.setPosition(s,null,o)}}},onKeyPageUp:function(o){var p=this,t=o.view,n=p.getRowsVisible(),q,s;if(n){if(t.bufferedRenderer){q=Math.max(o.recordIndex-n,0);p.lastKeyEvent=o;t.bufferedRenderer.scrollTo(q,false,p.afterBufferedScrollTo,p)}else{s=t.walkRecs(o.record,-n);p.setPosition(s,null,o)}}},onKeyHome:function(k){var l=this,m=k.view;if(k.altKey){if(m.bufferedRenderer){l.lastKeyEvent=k;m.bufferedRenderer.scrollTo(0,false,l.afterBufferedScrollTo,l)}else{l.setPosition(m.walkRecs(k.record,-m.dataSource.indexOf(k.record)),null,k)}}else{l.setPosition(k.record,0,k)}},afterBufferedScrollTo:function(g,k){this.setPosition(k,null,this.lastKeyEvent,null,!this.lastKeyEvent)},onKeyEnd:function(k){var l=this,m=k.view;if(k.altKey){if(m.bufferedRenderer){l.lastKeyEvent=k;m.bufferedRenderer.scrollTo(m.store.getCount()-1,false,l.afterBufferedScrollTo,l)}else{l.setPosition(m.walkRecs(k.record,m.dataSource.getCount()-1-m.dataSource.indexOf(k.record)),null,k)}}else{l.setPosition(k.record,k.view.getVisibleColumnManager().getColumns().length-1,k)}},getRowsVisible:function(){var m=false,q=this.view,n=q.all.first(),p,o;if(n){p=n.getHeight();o=q.el.getHeight();m=Math.floor(o/p)}return m},fireNavigateEvent:function(g){var k=this;k.fireEvent("navigate",{view:k.position.view,navigationModel:k,keyEvent:g||new Ext.event.Event({}),previousPosition:k.previousPosition,previousRecordIndex:k.previousRecordIndex,previousRecord:k.previousRecord,previousItem:k.previousItem,previousCell:k.previousCell,previousColumnIndex:k.previousColumnIndex,previousColumn:k.previousColumn,position:k.position,recordIndex:k.recordIndex,record:k.record,selectionStart:k.selectionStart,item:k.item,cell:k.cell,columnIndex:k.columnIndex,column:k.column})}},0,0,0,0,["view.navigation.grid"],0,[Ext.grid,"NavigationModel"],0));(Ext.cmd.derive("Ext.view.TableLayout",Ext.layout.component.Auto,{type:"tableview",beginLayout:function(x){var q=this,v=q.owner,p=v.ownerGrid,s=v.lockingPartner,t=x.lockingPartnerContext,w=s&&s.grid.isVisible()&&!s.grid.collapsed,u=x.context;x.doSyncRowHeights=w&&(p.syncRowHeight||p.syncRowHeightOnNextLayout);if(!q.columnFlusherId){q.columnFlusherId=q.id+"-columns";q.rowHeightFlusherId=q.id+"-rows"}Ext.layout.component.Auto.prototype.beginLayout.call(this,x);if(w){if(!t&&s.componentLayout.isRunning()){(t=x.lockingPartnerContext=u.getCmp(s)).lockingPartnerContext=x;if(!t.lockingPartnerContext){t.lockingPartnerContext=x}}if(x.doSyncRowHeights){if(t&&!t.rowHeightSynchronizer){t.rowHeightSynchronizer=t.target.syncRowHeightBegin()}x.rowHeightSynchronizer=q.owner.syncRowHeightBegin()}}(x.headerContext=u.getCmp(q.headerCt)).viewContext=x},beginLayoutCycle:function(g,k){Ext.layout.component.Auto.prototype.beginLayoutCycle.call(this,g,k);if(g.syncRowHeights){g.target.syncRowHeightClear(g.rowHeightSynchronizer);g.syncRowHeights=false}},calculate:function(E){var N=this,H=E.context,C=E.lockingPartnerContext,F=E.headerContext,z=E.ownerCtContext,G=N.owner,A=F.getProp("columnsChanged"),I=E.state,M,D,K,L,P=G.body.dom,J,O,B;if(!G.all.getCount()&&(!P||!G.body.child("table"))){E.setProp("viewOverflowY",false);Ext.layout.component.Auto.prototype.calculate.call(this,E);return}if(N.calcCount===1&&N.owner.bufferedRenderer){N.owner.bufferedRenderer.beforeTableLayout(E)}if(A===undefined){N.done=false;return}if(A){if(!(M=I.columnFlusher)){H.queueFlush(I.columnFlusher=M={ownerContext:E,columnsChanged:A,layout:N,id:N.columnFlusherId,flush:N.flushColumnWidths},true)}if(!M.flushed){N.done=false;return}}if(E.doSyncRowHeights){if(!(L=I.rowHeightFlusher)){if(!(K=I.rowHeights)){I.rowHeights=K=E.rowHeightSynchronizer;N.owner.syncRowHeightMeasure(K);E.setProp("rowHeights",K)}if(!(D=C.getProp("rowHeights"))){N.done=false;return}H.queueFlush(I.rowHeightFlusher=L={ownerContext:E,synchronizer:K,otherSynchronizer:D,layout:N,id:N.rowHeightFlusherId,flush:N.flushRowHeights},true)}if(!L.flushed){N.done=false;return}}Ext.layout.component.Auto.prototype.calculate.call(this,E);if(!E.heightModel.shrinkWrap){B=false;if(!z.heightModel.shrinkWrap){O=z.target.layout.getContainerSize(z);if(!O.gotHeight){N.done=false;return}J=P.offsetHeight;B=J>O.height}E.setProp("viewOverflowY",B)}if(N.done&&Ext.getScrollbarSize().height){if(!G.lockingPartner){E.setProp("overflowX",!!E.headerContext.state.boxPlan.tooNarrow)}}},measureContentHeight:function(n){var q=this.owner,o=q.body.dom,p=q.emptyEl,m=0;if(p){m+=p.offsetHeight}if(o){m+=o.offsetHeight}if(n.headerContext.state.boxPlan.tooNarrow){m+=Ext.getScrollbarSize().height}return m},flushColumnWidths:function(){var s=this,t=s.layout,A=s.ownerContext,y=s.columnsChanged,B=A.target,u=y.length,z,w,x,v;if(A.state.columnFlusher!==s){return}for(w=0;w<u;w++){if(!(z=y[w])){continue}x=z.props.width;B.body.select(B.getColumnSizerSelector(z.target)).setWidth(x);if(z.target.onCellsResized){z.target.onCellsResized(x)}v=z.lastBox;if(v){v.width=x}}s.flushed=true;if(!t.pending){A.context.queueLayout(t)}},flushRowHeights:function(){var m=this,l=m.layout,k=m.ownerContext;if(k.state.rowHeightFlusher!==m){return}k.target.syncRowHeightFinish(m.synchronizer,m.otherSynchronizer);m.flushed=true;k.syncRowHeights=true;if(!l.pending){k.context.queueLayout(l)}},finishedLayout:function(m){var o=this,n=o.owner.ownerGrid,l=Ext.fly(o.owner.getNodeContainer());Ext.layout.component.Auto.prototype.finishedLayout.call(this,m);if(l){l.setWidth(m.headerContext.props.contentWidth)}if(o.owner.bufferedRenderer){o.owner.bufferedRenderer.afterTableLayout(m)}if(n){n.syncRowHeightOnNextLayout=false}},getLayoutItems:function(){return this.owner.getRefItems()},isValidParent:function(){return true}},0,0,0,0,["layout.tableview"],0,[Ext.view,"TableLayout"],0));(Ext.cmd.derive("Ext.grid.locking.RowSynchronizer",Ext.Base,{constructor:function(o,n){var m=this,l;m.view=o;m.rowEl=n;m.els={};m.add("data",o.rowSelector);for(l=o.rowTpl;l;l=l.nextTpl){if(l.beginRowSync){l.beginRowSync(m)}}},add:function(l,m){var k=Ext.fly(this.rowEl).down(m,true);if(k){this.els[l]={el:k}}},finish:function(w){var v=this,z=v.els,t=w.els,x,u=0,A=0,s,B,y;for(B in z){x=t[B];y=x?x.height:0;s=y-z[B].height;if(s>0){u+=s;Ext.fly(z[B].el).setHeight(y)}else{A-=s}}y=w.rowHeight+A;if(Ext.isIE9&&v.view.ownerGrid.rowLines){y--}if(v.rowHeight+u<y){Ext.fly(v.rowEl).setHeight(y)}},measure:function(){var k=this,l=k.els,m;k.rowHeight=k.rowEl.offsetHeight;for(m in l){l[m].height=l[m].el.offsetHeight}},reset:function(){var g=this.els,k;this.rowEl.style.height="";for(k in g){g[k].el.style.height=""}}},1,0,0,0,0,0,[Ext.grid.locking,"RowSynchronizer"],0));(Ext.cmd.derive("Ext.view.NodeCache",Ext.Base,{statics:{range:document.createRange&&document.createRange()},constructor:function(f){this.view=f;this.clear();this.el=new Ext.dom.Fly()},destroy:function(){var f=this;if(!f.destroyed){f.el.destroy();f.el=f.view=null;f.destroyed=true}f.callParent()},clear:function(m){var o=this,n=o.elements,q=o.statics().range,p;if(o.count&&m){if(q&&Ext.getBody().contains(n[0])){q.setStartBefore(n[o.startIndex]);q.setEndAfter(n[o.endIndex]);q.deleteContents()}else{for(p in n){Ext.removeNode(n[p])}}}o.elements={};o.count=o.startIndex=0;o.endIndex=-1},fill:function(t,v,o){o=o||0;var q=this,p=q.elements={},s,u=t.length-o;if(!v){v=0}for(s=0;s<u;s++){p[v+s]=t[s+o]}q.startIndex=v;q.endIndex=v+u-1;q.count=u;return this},insert:function(n,s){var p=this,o=p.elements,q,t=s.length;if(p.count){if(n<p.count){for(q=p.endIndex+t;q>=n+t;q--){o[q]=o[q-t];o[q].setAttribute("data-recordIndex",q)}}p.endIndex=p.endIndex+t}else{p.startIndex=n;p.endIndex=n+t-1}for(q=0;q<t;q++,n++){o[n]=s[q];o[n].setAttribute("data-recordIndex",n)}p.count+=t},invoke:function(n,q){var m=this,o,p;n=Ext.dom.Element.prototype[n];for(p=m.startIndex;p<=m.endIndex;p++){o=m.item(p);if(o){n.apply(o,q)}}return m},item:function(m,n){var l=this.elements[m],o=null;if(l){o=n?this.elements[m]:this.el.attach(this.elements[m])}return o},first:function(f){return this.item(this.startIndex,f)},last:function(f){return this.item(this.endIndex,f)},moveBlock:function(u){var o=this,v=o.elements,p,t,q,s;if(!u){return}if(u<0){s=o.startIndex-1;t=o.endIndex;q=1}else{s=o.endIndex+1;t=o.startIndex;q=-1}o.startIndex+=u;o.endIndex+=u;do{s+=q;p=v[s+u]=v[s];p.setAttribute("data-recordIndex",s+u);if(s<o.startIndex||s>o.endIndex){delete v[s]}}while(s!==t);delete v[s]},getCount:function(){return this.count},slice:function(m,p){var n=this.elements,q=[],o;if(!p){p=this.endIndex}else{p=Math.min(this.endIndex,p-1)}for(o=m||this.startIndex;o<=p;o++){q.push(n[o])}return q},replaceElement:function(n,o,q){var m=this.elements,p=(typeof n==="number")?n:this.indexOf(n);if(p>-1){o=Ext.getDom(o);if(q){n=m[p];n.parentNode.insertBefore(o,n);Ext.removeNode(n);o.setAttribute("data-recordIndex",p)}this.elements[p]=o}return this},indexOf:function(l){var k=this.elements,m;l=Ext.getDom(l);for(m=this.startIndex;m<=this.endIndex;m++){if(k[m]===l){return m}}return -1},clip:function(w,x){var q=this,z=q.elements,s=[],y,u,v,t;if(w===1){y=q.startIndex;q.startIndex+=x}else{q.endIndex-=x;y=q.endIndex+1}for(t=y,u=y+x-1;t<=u;t++){v=z[t];s.push(v);Ext.removeNode(v);delete z[t]}q.count-=x;q.view.fireItemMutationEvent("itemremove",q.view.dataSource.getRange(y,u),y,s,q.view)},removeRange:function(z,w,y){var t=this,B=t.elements,u=[],x,v,A,s;if(w==null){w=t.endIndex+1}else{w=Math.min(t.endIndex+1,w+1)}if(z==null){z=t.startIndex}A=w-z;for(v=z,s=w;v<=t.endIndex;v++,s++){x=B[v];if(v<w){u.push(x);if(y){Ext.removeNode(x)}}if(s<=t.endIndex){x=B[v]=B[s];x.setAttribute("data-recordIndex",v)}else{delete B[v]}}t.count-=A;t.endIndex-=A;return u},removeElement:function(D,A){var w=this,t,u,C=w.elements,z,y,B=0,x,v;if(Ext.isArray(D)){t=D;D=[];y=t.length;for(B=0;B<y;B++){u=t[B];if(typeof u!=="number"){u=w.indexOf(u)}if(u>=w.startIndex&&u<=w.endIndex){D[D.length]=u}}Ext.Array.sort(D);y=D.length}else{if(D<w.startIndex||D>w.endIndex){return}y=1;D=[D]}for(x=v=D[0],B=0;x<=w.endIndex;x++,v++){if(B<y&&x===D[B]){v++;B++;if(A){Ext.removeNode(C[x])}}if(v<=w.endIndex&&v>=w.startIndex){z=C[x]=C[v];z.setAttribute("data-recordIndex",x)}else{delete C[x]}}w.endIndex-=y;w.count-=y},scroll:function(E,C,N){var B=this,L=B.view,D=L.lookupViewModel(),O=L.store,J=B.elements,T=E.length,G=L.getNodeContainer(),I=B.statics().range,F,S,R,Q,M,P,H,K;if(!(E.length||N)){return}if(C===-1){if(N){H=[];K=[];P=(B.endIndex-N)+1;if(I){I.setStartBefore(J[P]);I.setEndAfter(J[B.endIndex]);I.deleteContents();for(F=P;F<=B.endIndex;F++){S=J[F];delete J[F];H.push(O.getByInternalId(S.getAttribute("data-recordId")));K.push(S)}}else{for(F=P;F<=B.endIndex;F++){S=J[F];delete J[F];Ext.removeNode(S);H.push(O.getByInternalId(S.getAttribute("data-recordId")));K.push(S)}}L.fireItemMutationEvent("itemremove",H,P,K,L);B.endIndex-=N}if(E.length){M=L.bufferRender(E,B.startIndex-=T);Q=M.children;for(F=0;F<T;F++){J[B.startIndex+F]=Q[F]}G.insertBefore(M.fragment,G.firstChild);L.fireItemMutationEvent("itemadd",E,B.startIndex,Q,L)}}else{if(N){H=[];K=[];R=B.startIndex+N;if(I){I.setStartBefore(J[B.startIndex]);I.setEndAfter(J[R-1]);I.deleteContents();for(F=B.startIndex;F<R;F++){S=J[F];delete J[F];H.push(O.getByInternalId(S.getAttribute("data-recordId")));K.push(S)}}else{for(F=B.startIndex;F<R;F++){S=J[F];delete J[F];Ext.removeNode(S);H.push(O.getByInternalId(S.getAttribute("data-recordId")));K.push(S)}}L.fireItemMutationEvent("itemremove",H,B.startIndex,K,L);B.startIndex=R}M=L.bufferRender(E,B.endIndex+1);Q=M.children;for(F=0;F<T;F++){J[B.endIndex+=1]=Q[F]}G.appendChild(M.fragment);L.fireItemMutationEvent("itemadd",E,B.endIndex+1,Q,L)}B.count=B.endIndex-B.startIndex+1;if(D){D.notify()}return Q},sumHeights:function(){var m=0,k=this.elements,l;for(l=this.startIndex;l<=this.endIndex;l++){m+=k[l].offsetHeight}return m}},1,0,0,0,0,0,[Ext.view,"NodeCache"],function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)}));(Ext.cmd.derive("Ext.scroll.TableScroller",Ext.scroll.Scroller,{config:{lockingScroller:null},"private":{doScrollTo:function(o,l,m){var n;if(l!=null){n=this.getLockingScroller();if(n){n.doScrollTo(null,l,m);l=null}}this.callParent([o,l,m])}}},0,0,0,0,["scroller.table"],0,[Ext.scroll,"TableScroller"],0));(Ext.cmd.derive("Ext.view.Table",Ext.view.View,{alternateClassName:"Ext.grid.View",isTableView:true,config:{selectionModel:{type:"rowmodel"}},inheritableStatics:{normalSideEvents:["deselect","select","beforedeselect","beforeselect","selectionchange"],events:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","cellkeydown","beforecellkeydown","cellmouseup","beforecellmouseup","cellmousedown","beforecellmousedown","cellcontextmenu","beforecellcontextmenu","celldblclick","beforecelldblclick","cellclick","beforecellclick","refresh","itemremove","itemadd","beforeitemupdate","itemupdate","viewready","beforerefresh","unhighlightitem","highlightitem","focuschange","containerkeydown","containercontextmenu","containerdblclick","containerclick","containermouseout","containermouseover","containermouseup","containermousedown","beforecontainerkeydown","beforecontainercontextmenu","beforecontainerdblclick","beforecontainerclick","beforecontainermouseout","beforecontainermouseover","beforecontainermouseup","beforecontainermousedown","itemkeydown","itemcontextmenu","itemdblclick","itemclick","itemmouseleave","itemmouseenter","itemmouseup","itemmousedown","rowclick","rowcontextmenu","rowdblclick","rowkeydown","rowmouseup","rowmousedown","rowkeydown","beforeitemkeydown","beforeitemcontextmenu","beforeitemdblclick","beforeitemclick","beforeitemmouseleave","beforeitemmouseenter","beforeitemmouseup","beforeitemmousedown","statesave","beforestatesave","staterestore","beforestaterestore","uievent","groupcollapse","groupexpand","scroll"]},scrollable:true,componentLayout:"tableview",baseCls:"x-grid-view",unselectableCls:"x-unselectable",firstCls:"x-grid-cell-first",lastCls:"x-grid-cell-last",itemCls:"x-grid-item",selectedItemCls:"x-grid-item-selected",selectedCellCls:"x-grid-cell-selected",focusedItemCls:"x-grid-item-focused",overItemCls:"x-grid-item-over",altRowCls:"x-grid-item-alt",dirtyCls:"x-grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)x-grid-item-alt(?:\\s+|$)","g"),cellRe:new RegExp("x-grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:true,positionCells:false,stripeOnUpdate:null,actionableMode:false,trackOver:true,getRowClass:null,stripeRows:true,markDirty:true,ariaRole:"rowgroup",rowAriaRole:"row",cellAriaRole:"gridcell",tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="x-grid-item-container" role="presentation" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}","</div>","{% ","view = columns = column = null;","%}",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['<table id="{rowId}" role="presentation" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellpadding="0" cellspacing="0" style="{itemStyle};width:0">',"{%","this.nextTpl.applyOut(values, out, parent)","%}","</table>",{priority:9999}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " x-grid-row";',"%}",'<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}"',' role="{rowRole}" {rowAttr:attributes}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr} {cellAttr:attributes}',' style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>"','<tpl if="column.cellFocusable === false">',' role="presentation"',"<tpl else>",' role="{cellRole}" tabindex="-1"',"</tpl>",'  data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="x-grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" ',"{cellInnerAttr:attributes}>{value}</div>","</td>",{priority:0}],refreshSelmodelOnRefresh:false,scrollableType:"table",tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:["x-grid-cell x-grid-td"]},constructor:function(f){if(f.grid.isTree){f.baseCls="x-tree-view"}Ext.view.View.prototype.constructor.call(this,f)},hasVariableRowHeight:function(k){var g=this;return g.variableRowHeight||g.store.isGrouped()||g.getVisibleColumnManager().hasVariableRowHeight()||(!k&&g.lockingPartner&&g.lockingPartner.hasVariableRowHeight(true))},initComponent:function(){var f=this;if(f.columnLines){f.addCls(f.grid.colLinesCls)}if(f.rowLines){f.addCls(f.grid.rowLinesCls)}f.body=new Ext.dom.Fly();f.body.id=f.id+"gridBody";if(!f.trackOver){f.overItemCls=null}f.headerCt.view=f;f.grid.view=f;f.initFeatures(f.grid);f.itemSelector=f.getItemSelector();f.all=new Ext.view.NodeCache(f);Ext.view.View.prototype.initComponent.call(this)},applySelectionModel:function(s,o){var p=this,q=p.ownerGrid,n=s.type,t=p.disableSelection||q.disableSelection;if(!o){if(!(s&&s.isSelectionModel)){s=q.selModel||s}}if(s){if(s.isSelectionModel){s.allowDeselect=q.allowDeselect||s.selectionMode!=="SINGLE";s.locked=t}else{if(typeof s==="string"){s={type:s}}else{s.type=q.selType||s.selType||s.type||n}if(!s.mode){if(q.simpleSelect){s.mode="SIMPLE"}else{if(q.multiSelect){s.mode="MULTI"}}}s=Ext.Factory.selection(Ext.apply({allowDeselect:q.allowDeselect,locked:t},s))}}return s},updateSelectionModel:function(m,k){var l=this;if(k){k.un({scope:l,lastselectedchanged:l.updateBindSelection,selectionchange:l.updateBindSelection});Ext.destroy(l.selModelRelayer)}l.selModelRelayer=l.relayEvents(m,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);m.on({scope:l,lastselectedchanged:l.updateBindSelection,selectionchange:l.updateBindSelection});l.selModel=m},getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},moveColumn:function(R,A,K){var B=this,D=K>1,I=D&&document.createRange?document.createRange():null,Q=D&&!I?document.createDocumentFragment():null,J=A,H=B.getGridColumns().length,C=H-1,N=(B.firstCls||B.lastCls)&&(A===0||A===H||R===0||R===C),F,G,L,E,P,O,M;if(B.rendered&&A!==R){L=B.el.query(B.rowSelector);for(F=0,E=L.length;F<E;F++){P=L[F];O=P.childNodes;if(N){if(O.length===1){Ext.fly(O[0]).addCls(B.firstCls);Ext.fly(O[0]).addCls(B.lastCls);continue}if(R===0){Ext.fly(O[0]).removeCls(B.firstCls);Ext.fly(O[1]).addCls(B.firstCls)}else{if(R===C){Ext.fly(O[C]).removeCls(B.lastCls);Ext.fly(O[C-1]).addCls(B.lastCls)}}if(A===0){Ext.fly(O[0]).removeCls(B.firstCls);Ext.fly(O[R]).addCls(B.firstCls)}else{if(A===H){Ext.fly(O[C]).removeCls(B.lastCls);Ext.fly(O[R]).addCls(B.lastCls)}}}if(D){if(I){I.setStartBefore(O[R]);I.setEndAfter(O[R+K-1]);Q=I.extractContents()}else{for(G=0;G<K;G++){Q.appendChild(O[R])}}P.insertBefore(Q,O[J]||null)}else{P.insertBefore(O[R],O[J]||null)}}M=B.el.query("colgroup");for(F=0,E=M.length;F<E;F++){P=M[F];if(D){if(I){I.setStartBefore(P.childNodes[R]);I.setEndAfter(P.childNodes[R+K-1]);Q=I.extractContents()}else{for(G=0;G<K;G++){Q.appendChild(P.childNodes[R])}}P.insertBefore(Q,P.childNodes[J]||null)}else{P.insertBefore(P.childNodes[R],P.childNodes[J]||null)}}}},scrollToTop:Ext.emptyFn,addElListener:function(m,k,l){this.mon(this,m,k,l,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(f){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(f)},getCell:function(m,l){var k=this.getRow(m);if(k){if(typeof l==="number"){l=this.getHeaderAtIndex(l)}return Ext.fly(k).down(l.getCellSelector())}},getFeature:function(g){var k=this.featuresMC;if(k){return k.get(g)}},findFeature:function(f){if(this.features){return Ext.Array.findBy(this.features,function(e){if(e.ftype===f){return true}})}},initFeatures:function(p){var n=this,q,o,s,t;n.tpl=this.lookupTpl("tpl");n.rowTpl=n.lookupTpl("rowTpl");n.addRowTpl(n.lookupTpl("outerRowTpl"));n.cellTpl=n.lookupTpl("cellTpl");n.featuresMC=new Ext.util.MixedCollection();o=n.features=n.constructFeatures();t=o?o.length:0;for(q=0;q<t;q++){s=o[q];s.view=n;s.grid=p;n.featuresMC.add(s);s.init(p)}},renderTHead:function(s,q,o){var n=s.view.headerFns,t,p;if(n){for(p=0,t=n.length;p<t;++p){n[p].call(this,s,q,o)}}},addHeaderFn:function(k){var g=this.headerFns;if(!g){g=this.headerFns=[]}g.push(k)},renderTFoot:function(s,q,o){var n=s.view.footerFns,t,p;if(n){for(p=0,t=n.length;p<t;++p){n[p].call(this,s,q,o)}}},addFooterFn:function(k){var g=this.footerFns;if(!g){g=this.footerFns=[]}g.push(k)},addTpl:function(f){return this.insertTpl("tpl",f)},addRowTpl:function(f){return this.insertTpl("rowTpl",f)},addCellTpl:function(f){return this.insertTpl("cellTpl",f)},insertTpl:function(m,n){var o=this,q,p;if(n.isTemplate){n=Ext.Object.chain(n)}else{n=new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",n)}for(q=o[m];n.priority<q.priority;q=q.nextTpl){p=q}if(p){p.nextTpl=n}else{o[m]=n}n.nextTpl=q;return n},tplApplyOut:function(m,l,k){if(this.before){if(this.before(m,l,k)===false){return}}this.nextTpl.applyOut(m,l,k);if(this.after){this.after(m,l,k)}},constructFeatures:function(){var n=this,o=n.features,p,s,q=0,t;if(o){s=[];t=o.length;for(;q<t;q++){p=o[q];if(!p.isFeature){p=Ext.create("feature."+p.ftype,p)}s[q]=p}}return s},beforeRender:function(){Ext.view.View.prototype.beforeRender.call(this);if(!this.enableTextSelection){this.protoEl.unselectable()}},getElConfig:function(){var f=Ext.view.View.prototype.getElConfig.call(this);delete f["aria-hidden"];delete f["aria-disabled"];return f},onBindStore:function(m){var l=this,k=l.bufferedRenderer;if(k&&k.store!==m){k.bindStore(m)}if(l.all&&l.all.getCount()&&!l.grid.reconfiguring){l.clearViewEl()}Ext.view.View.prototype.onBindStore.apply(this,arguments)},onOwnerGridHide:function(){var k=this.getScrollable(),g=this.bufferedRederer;if(k){k.suspendPartnerSync()}if(g){g.disable()}},onOwnerGridShow:function(){var k=this.getScrollable(),g=this.bufferedRederer;if(k){k.resumePartnerSync()}if(g){g.enable()}},getStoreListeners:function(n){var m=this,o=Ext.view.View.prototype.getStoreListeners.call(this,n),l=m.dataSource;if(l&&l.isFeatureStore){delete o.add;delete o.remove}if(m.bufferedRenderer){delete o.clear}o.beforepageremove=m.beforePageRemove;return o},beforePageRemove:function(m,n){var l=this.all,o=m.getPageSize();if(l.startIndex>=(n-1)*o&&l.endIndex<=(n*o-1)){m.get(n);return false}},onViewScroll:function(l,m,k){if(!this.ignoreScroll){Ext.view.View.prototype.onViewScroll.call(this,l,m,k)}},createRowElement:function(s,q,p){var o=this,n=o.renderBuffer,t=o.collectData([s],q);t.columns=p;o.tpl.overwrite(n,t);o.cleanupData();return Ext.fly(n).down(o.getNodeContainerSelector(),true).firstChild},bufferRender:function(q,p){var o=this,n=o.renderBuffer,t,s=document.createRange?document.createRange():null;o.tpl.overwrite(n,o.collectData(q,p));o.cleanupData();Ext.fly(n).saveTabbableState({skipSelf:true,includeHidden:true});n=Ext.fly(n).down(o.getNodeContainerSelector(),true);if(s){s.selectNodeContents(n);t=s.extractContents()}else{t=document.createDocumentFragment();while(n.firstChild){t.appendChild(n.firstChild)}}return{fragment:t,children:Ext.Array.toArray(t.childNodes)}},collectData:function(o,l){var m=this,n=m.tableValues;m.rowValues.view=m;n.view=m;n.rows=o;n.columns=null;n.viewStartIndex=l;n.tableStyle="width:"+m.headerCt.getTableWidth()+"px";return n},cleanupData:function(){var f=this.tableValues;f.view=f.columns=f.rows=this.rowValues.view=null},refreshSize:function(m){var o=this,q=o.getBodySelector(),p=o.lockingPartner,n=o.saveFocusState();if(q){o.body.attach(o.el.down(q,true))}if(!o.hasLoadingHeight){Ext.suspendLayouts();Ext.view.View.prototype.refreshSize.apply(this,arguments);if(m||(o.hasVariableRowHeight()&&o.dataSource.getCount())){o.grid.updateLayout()}Ext.resumeLayouts(!p||!p.grid.isVisible()||(p.all.getCount()===o.all.getCount()));n()}},isLayoutRoot:function(){return false},clearViewEl:function(k){var m=this,l;if(m.rendered){Ext.view.View.prototype.clearViewEl.call(this);if(!k){l=Ext.get(m.getNodeContainer());if(l&&l.dom!==m.getTargetEl().dom){l.destroy()}}}},getRefItems:function(s){var u=this,v=u.ownerGrid.liveRowContexts,x,y,t,w,z,q=Ext.view.View.prototype.getRefItems.apply(this,arguments);for(z in v){t=v[z].getWidgets();x=t.length;for(y=0;y<x;y++){w=t[y];if(u.isAncestor(w)){q[q.length]=w;if(s&&w.getRefItems){q.push.apply(q,w.getRefItems(true))}}}}return q},getMaskTarget:function(){return this.ownerCt.body},statics:{getBoundView:function(f){return Ext.getCmp(f.getAttribute("data-boundView"))}},getRecord:function(f){if(this.store.destroyed){return}if(f.isModel){return f}f=this.getNode(f);if(f){return this.dataSource.getByInternalId(f.getAttribute("data-recordId"))}},indexOf:function(f){f=this.getNode(f);if(!f&&f!==0){return -1}return this.all.indexOf(f)},indexInStore:function(f){return f?this.dataSource.indexOf(this.getRecord(f)):-1},indexOfRow:function(l){var k=this.dataSource,m;if(l.isCollapsedPlaceholder){m=k.indexOfPlaceholder(l)}else{m=k.indexOf(l)}return m},renderRows:function(x,q,s,u){var p=this,w=p.rowValues,v=x.length,t;w.view=p;w.columns=q;w.rowRole=p.rowAriaRole;p.cellValues.cellRole=p.cellAriaRole;for(t=0;t<v;t++,s++){w.itemClasses.length=w.rowClasses.length=0;p.renderRow(x[t],s,u)}w.view=w.columns=w.record=null},renderColumnSizer:function(t,s){var p=t.columns||this.getGridColumns(),u=p.length,q,v,o;s.push('<colgroup role="presentation">');for(q=0;q<u;q++){v=p[q];o=v.cellWidth?v.cellWidth:Ext.grid.header.Container.prototype.defaultWidth;s.push('<col role="presentation" class="',"x-","grid-cell-",p[q].getItemId(),'" style="width:'+o+'px">')}s.push("</colgroup>")},renderRow:function(x,D,y){var v=this,z=D===-1,w=v.selectionModel,E=v.rowValues,A=E.itemClasses,B=E.rowClasses,C=v.itemCls,F,u=v.rowTpl;E.rowAttr={};E.record=x;E.recordId=x.internalId;E.recordIndex=v.store.indexOf(x);E.rowIndex=D;E.rowId=v.getRowId(x);E.itemCls=E.rowCls="";if(!E.columns){E.columns=v.ownerCt.getVisibleColumnManager().getColumns()}A.length=B.length=0;if(!z){A[0]=C;if(!v.ownerCt.disableSelection&&w.isRowSelected){if(w.isRowSelected(x)){A.push(v.selectedItemCls)}}if(v.stripeRows&&D%2!==0){A.push(v.altRowCls)}if(v.getRowClass){F=v.getRowClass(x,D,null,v.dataSource);if(F){B.push(F)}}}if(y){u.applyOut(E,y,v.tableValues)}else{return u.apply(E,v.tableValues)}},renderCell:function(E,B,C,M,z,D){var O=this,G,A=O.selectionModel,P=O.cellValues,F=P.classes,I=B.data[E.dataIndex],L=O.cellTpl,H=E.enableTextSelection,K,N,J=O.navigationModel.getPosition();if(H==null){H=O.enableTextSelection}P.record=B;P.column=E;P.recordIndex=C;P.rowIndex=M;P.columnIndex=P.cellIndex=z;P.align=E.textAlign;P.innerCls=E.innerCls;P.tdCls=P.tdStyle=P.tdAttr=P.style="";P.unselectableAttr=H?"":'unselectable="on"';F[1]=E.getCellId();N=2;if(E.renderer&&E.renderer.call){G=O.ownerCt.columnManager.getHeaderIndex(E);K=E.renderer.call(E.usingDefaultRenderer?E:E.scope||O.ownerCt,I,P,B,C,G,O.dataSource,O);if(P.css){B.cssWarning=true;P.tdCls+=" "+P.css;P.css=null}if(P.tdCls){F[N++]=P.tdCls}}else{K=I}P.value=(K==null||K.length===0)?E.emptyCellText:K;if(E.tdCls){F[N++]=E.tdCls}if(O.markDirty&&B.dirty&&B.isModified(E.dataIndex)){F[N++]=O.dirtyCls;if(E.dirtyTextElementId){P.tdAttr=(P.tdAttr?P.tdAttr+" ":"")+'aria-describedby="'+E.dirtyTextElementId+'"'}}if(E.isFirstVisible){F[N++]=O.firstCls}if(E.isLastVisible){F[N++]=O.lastCls}if(!H){F[N++]=O.unselectableCls}if(A&&(A.isCellModel||A.isSpreadsheetModel)&&A.isCellSelected(O,C,E)){F[N++]=O.selectedCellCls}if(J&&J.record.id===B.id&&J.column===E){F[N++]=O.focusedItemCls}F.length=N;P.tdCls=F.join(" ");L.applyOut(P,D);P.column=P.record=null},getRow:function(k){var g;if((!k&&k!==0)||!this.rendered){return null}if(k.target){k=k.target}if(Ext.isString(k)){return Ext.fly(k).down(this.rowSelector,true)}if(Ext.isNumber(k)){g=this.all.item(k);return g&&g.down(this.rowSelector,true)}if(k.isModel){return this.getRowByRecord(k)}g=Ext.fly(k);if(g.is(this.itemSelector)){return this.getRowFromItem(g)}return g.findParent(this.rowSelector,this.getTargetEl())},getRowId:function(f){return this.id+"-record-"+f.internalId},constructRowId:function(f){return this.id+"-record-"+f},getNodeById:function(f){f=this.constructRowId(f);return this.retrieveNode(f,false)},getRowById:function(f){f=this.constructRowId(f);return this.retrieveNode(f,true)},getNodeByRecord:function(f){return this.retrieveNode(this.getRowId(f),false)},getRowByRecord:function(f){return this.retrieveNode(this.getRowId(f),true)},getRowFromItem:function(m){var l=Ext.getDom(m).tBodies[0].childNodes,o=l.length,n;for(n=0;n<o;n++){if(Ext.fly(l[n]).is(this.rowSelector)){return l[n]}}},retrieveNode:function(k,l){var m=this.el.getById(k,true);if(l&&m){return Ext.fly(m).down(this.rowSelector,true)}return m},updateIndexes:Ext.emptyFn,bodySelector:"div.x-grid-item-container",nodeContainerSelector:"div.x-grid-item-container",itemSelector:"table.x-grid-item",rowSelector:"tr.x-grid-row",cellSelector:"td.x-grid-cell",sizerSelector:".x-grid-cell",innerSelector:"div.x-grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(g){var k=this.sizerSelector+"-"+g.getItemId();return"td"+k+",col"+k},getItemSelector:function(){return this.itemSelector},getCellSelector:function(f){return f?f.getCellSelector():this.cellSelector},getCellInnerSelector:function(f){return this.getCellSelector(f)+" "+this.innerSelector},addRowCls:function(l,m){var k=this.getRow(l);if(k){Ext.fly(k).addCls(m)}},removeRowCls:function(l,m){var k=this.getRow(l);if(k){Ext.fly(k).removeCls(m)}},onRowSelect:function(k){var l=this,m;l.addItemCls(k,l.selectedItemCls);m=l.getRow(k);if(m){m.setAttribute("aria-selected",true)}if(Ext.isIE8){l.repaintBorder(k+1)}},onRowDeselect:function(k){var l=this,m;l.removeItemCls(k,l.selectedItemCls);m=l.getRow(k);if(m){m.removeAttribute("aria-selected")}if(Ext.isIE8){l.repaintBorder(k+1)}},onCellSelect:function(g){var k=this.getCellByPosition(g);if(k){k.addCls(this.selectedCellCls);k.dom.setAttribute("aria-selected",true)}},onCellDeselect:function(g){var k=this.getCellByPosition(g,true);if(k){Ext.fly(k).removeCls(this.selectedCellCls);k.removeAttribute("aria-selected")}},getCellInclusive:function(o,n){if(o){var m=this.getRow(o.row),l=this.ownerCt.getColumnManager().getHeaderAtIndex(o.column);if(l&&m){return Ext.fly(m).down(this.getCellSelector(l),n)}}return false},getColumnByPosition:function(m){var l,k;if(m){k=m.column;if(k&&!k.destroyed&&k.isColumn){return k}else{l=m.view||this;k=typeof k==="number"?k:m.colIdx;return l.getVisibleColumnManager().getHeaderAtIndex(k)}}return false},getCellByPosition:function(q,o){if(q){var p=q.view||this,n=p.getRow(q.record||q.row),m;m=p.getColumnByPosition(q);if(m&&n){return Ext.fly(n).down(p.getCellSelector(m),o)}}return false},onFocusEnter:function(u){var v=this,q=u.fromComponent,e=v.getNavigationModel(),p,s,t;if(v.containsFocus){return Ext.Component.prototype.onFocusEnter.call(v,u)}if(v.actionableMode){if(v.actionPosition){v.el.dom.setAttribute("tabIndex","-1");v.cellFocused=true;return}v.ownerGrid.setActionableMode(false)}u=u.event;if(!v.cellFocused&&v.all.getCount()&&v.dataSource.getCount()){t=u.getTarget();if(t===v.el.dom){if(v.lastFocused==="scrollbar"){u.relatedTarget.focus();return}p=v.getDefaultFocusPosition(q);if(!p){u.stopEvent();v.el.focus();return}t=null}else{if(t===v.tabGuardEl){p=new Ext.grid.CellContext(v).setPosition(v.all.endIndex,v.getVisibleColumnManager().getColumns().length-1);t=null}else{if(s=u.getTarget(v.getCellSelector())){if(t===s){p=new Ext.grid.CellContext(v).setPosition(v.getRecord(t),v.getHeaderByCell(s));t=null}else{if(t&&Ext.fly(t).isFocusable()&&v.el.contains(t)){p=new Ext.grid.CellContext(v).setPosition(v.getRecord(t),v.getHeaderByCell(s))}}}}}}if(p){v.toggleChildrenTabbability(false);if(t){if(v.ownerGrid.setActionableMode(true,p)){p=null;Ext.fly(t).focus()}}if(p){e.setPosition(p,null,u,null,true)}v.cellFocused=v.el.contains(Ext.Element.getActiveElement());if(v.cellFocused){v.el.dom.setAttribute("tabIndex","-1")}}Ext.Component.prototype.onFocusEnter.call(v,u)},onFocusLeave:function(e){var l=this,m=!l.lockingPartner||!e.toComponent||(e.toComponent!==l.lockingPartner&&!l.lockingPartner.isAncestor(e.toComponent));if(!l.refreshing){if(l.cellFocused){if(m){l.getNavigationModel().setPosition(null,null,e.event,null,true)}l.cellFocused=false;l.focusEl=l.el;l.focusEl.dom.setAttribute("tabIndex",0)}if(m){if(l.ownerGrid.actionableMode){l.lastFocused=l.actionPosition;l.ownerGrid.setActionableMode(false)}}else{l.actionPosition=null}Ext.Component.prototype.onFocusLeave.call(l,e)}},onRowFocus:function(l,n,o){var m=this;if(n){m.addItemCls(l,m.focusedItemCls);if(!o){m.focusRow(l)}}else{m.removeItemCls(l,m.focusedItemCls)}if(Ext.isIE8){m.repaintBorder(l+1)}},focusRow:function(l,o){var m=this,n=m.getFocusTask();if(o){n.delay(Ext.isNumber(o)?o:10,m.focusRow,m,[l,false]);return}n.cancel();if(m.isVisible(true)){m.getNavigationModel().setPosition(m.getRecord(l))}},focusNode:function(g,k){this.focusRow(g,k)},scrollRowIntoView:function(g,k){g=this.getRow(g);if(g){this.scrollElIntoView(g,false,k)}},focusCell:function(p,o){var m=this,q,n=m.getFocusTask();if(o){n.delay(Ext.isNumber(o)?o:10,m.focusCell,m,[p,false]);return}n.cancel();if(m.isVisible(true)&&(q=m.getCellByPosition(p))){m.getNavigationModel().setPosition(p)}},findFocusPosition:function(u,D,A,y){var x=this,E=D.cellElement,F=x.ownerGrid.actionables,z=F.length,B,v,w,C;B=D.clone();v=Ext.fly(E).findTabbableElements();w=v[Ext.Array.indexOf(v,u)+(A?1:-1)];while(!w&&(E=E[A?"nextSibling":"previousSibling"])){B.setColumn(x.getHeaderByCell(E));for(C=0;C<z;C++){F[C].activateCell(B)}E=B.getCell(true);if(E&&(v=Ext.fly(E).findTabbableElements()).length){w=v[A?0:v.length-1]}}return{target:w,position:B}},getDefaultFocusPosition:function(t){var v=this,q=v.dataSource,o=v.lastFocused,p=new Ext.grid.CellContext((v.isNormalView&&v.lockingPartner.grid.isVisible()&&!v.lockingPartner.grid.collapsed)?v.lockingPartner:v).setPosition(0,0),s,u;if(t){if(t.isColumn&&t.cellFocusable!==false&&t.getView()===v){if(!o){o=p}o.setColumn(t)}else{if(t.isTableView){o=new Ext.grid.CellContext(v).setPosition(t.lastFocused.record,0)}}}if(o){u=v.getScrollable();if(!q.contains(o.record)||(u&&!u.isInView(o.getRow()).y)){o.setRow(q.getAt(Math.min(o.rowIdx,q.getCount()-1)))}}else{o=p;s=v.ownerGrid.view.el.down(v.getCellSelector()+'[tabIndex="-1"]');if(s){o.setPosition(v.getRecord(s),v.getHeaderByCell(s))}else{o=null}}return o},getLastFocused:function(){var g=this,k=g.lastFocused;if(k&&k.record&&k.column){if(g.dataSource.indexOf(k.record)!==-1&&g.getVisibleColumnManager().indexOf(k.column)!==-1&&g.getNode(k.record)){return k}}},scrollCellIntoView:function(k,g){if(k.isCellContext){k=this.getCellByPosition(k)}if(k){this.scrollElIntoView(k,null,g)}},scrollElIntoView:function(m,l,n){var o=this.getScrollable();if(o){o.scrollIntoView(m,l,n)}},syncRowHeightBegin:function(){var p=this,w=p.all,q=w.count,t=[],x=Ext.grid.locking.RowSynchronizer,u,v,s;for(u=0,v=w.startIndex;u<q;u++,v++){t[u]=s=new x(p,w.elements[v]);s.reset()}return t},syncRowHeightClear:function(p){var n=this,m=n.all,o=m.count,q;for(q=0;q<o;q++){p[q].reset()}},syncRowHeightMeasure:function(l){var k=l.length,m;for(m=0;m<k;m++){l[m].measure()}},syncRowHeightFinish:function(p,n){var o=p.length,m=this.bufferedRenderer,q;for(q=0;q<o;q++){p[q].finish(n[q])}if(m){m.syncRowHeightsFinish()}},refreshNode:function(f){if(Ext.isNumber(f)){f=this.store.getAt(f)}this.handleUpdate(this.dataSource,f,null,null,null,true)},handleUpdate:function(aC,ae,aj,an,T,Z){aj=aj||Ext.data.Model.EDIT;var ax=this,U=ax.store.indexOf(ae),W=ax.rowTpl,ah=ax.markDirty,al=ax.dirtyCls,af=aj!==Ext.data.Model.EDIT,ak=[],ar=ax.variableRowHeight,aD=0,ad=ax.ownerCt,ao=ax.cellFly||(ax.self.prototype.cellFly=new Ext.dom.Fly()),aa,aA,aB,az,aE,ap,V,Y,ay,ab,av,X,aq,am,at,ac,ai,ag,aw,au;if(ax.viewReady){ax.updatingRows=true;aa=ax.getNodeByRecord(ae);if(aa){if(ae.isCollapsedPlaceholder){Ext.fly(aa).syncContent(ax.createRowElement(ae,ax.indexOfRow(ae)));return}Y=ax.overItemCls;ay=ax.ownerCt.getVisibleColumnManager().getColumns();if(Z){ak=ay;aD=1}else{for(X=0,av=ay.length;X<av;X++){ab=ay[X];if(ab.preventUpdate){am=Ext.fly(aa).down(ab.getCellSelector(),true);if(am&&!af&&ah){ao.attach(am);if(ae.isModified(ab.dataIndex)){ao.addCls(al);if(ab.dirtyTextElementId){am.setAttribute("aria-describedby",ab.dirtyTextElementId)}}else{ao.removeCls(al);am.removeAttribute("aria-describedby")}}}else{aq=ax.shouldUpdateCell(ae,ab,an);if(aq){aD=aD|aq;ak[ak.length]=ab;ar=ar||ab.variableRowHeight}}}}ax.fireEvent("beforeitemupdate",ae,U,aa,ak);if(ax.getRowClass||!ax.getRowFromItem(aa)||(aD&1)||(aa.tBodies[0].childNodes.length>1)){aw=aa._extData;aB=ax.createRowElement(ae,ax.indexOfRow(ae),ak);if(Ext.fly(aa,"_internal").hasCls(Y)){Ext.fly(aB).addCls(Y)}if(Ext.isIE9m&&aa.mergeAttributes){aa.mergeAttributes(aB,true)}else{az=aB.attributes;aE=az.length;for(V=0;V<aE;V++){ap=az[V].name;if(ap!=="id"){aa.setAttribute(ap,az[V].value)}}}if(aw){aw.isSynchronized=false}if(ay.length&&(aA=ax.getRow(aa))){ax.updateColumns(aA,Ext.fly(aB).down(ax.rowSelector,true),ak)}while(W){if(W.syncContent){if(W.syncContent(aa,aB,an?ak:null)===false){break}}W=W.nextTpl}}else{for(X=0,av=ak.length;X<av;X++){ab=ak[X];at=ab.dataIndex;ac=ae.get(at);am=Ext.fly(aa).down(ab.getCellSelector(),true);ao.attach(am);if(!af&&ah){if(ae.isModified(ab.dataIndex)){ao.addCls(al);if(ab.dirtyTextElementId){am.setAttribute("aria-describedby",ab.dirtyTextElementId)}}else{ao.removeCls(al);am.removeAttribute("aria-describedby")}}ai=ab.usingDefaultRenderer;ag=ai?ab:ab.scope;if(ab.updater){Ext.callback(ab.updater,ag,[am,ac,ae,ax,ax.dataSource],0,ab,ad)}else{if(ab.renderer){ac=Ext.callback(ab.renderer,ag,[ac,null,ae,0,0,ax.dataSource,ax],0,ab,ad)}au=ac==null||ac.length===0;ac=au?ab.emptyCellText:ac;if(ab.producesHTML||au){ao.down(ax.innerSelector,true).innerHTML=ac}else{ao.down(ax.innerSelector,true).childNodes[0].data=ac}}if(ax.highlightClass){Ext.fly(am).addCls(ax.highlightClass);if(!ax.changedCells){ax.self.prototype.changedCells=[];ax.prototype.clearChangedTask=new Ext.util.DelayedTask(ax.clearChangedCells,ax.prototype);ax.clearChangedTask.delay(ax.unhighlightDelay)}ax.changedCells.push({cell:am,cls:ax.highlightClass,expires:Ext.Date.now()+1000})}}}if(af&&ah&&!ae.dirty){Ext.fly(aa,"_internal").select("."+al).removeCls(al).set({"aria-describedby":undefined})}if(ar){Ext.suspendLayouts()}ax.fireEvent("itemupdate",ae,U,aa,ax);if(ar){ax.ownerGrid.updateLayout();Ext.resumeLayouts(true)}}ax.updatingRows=false}},clearChangedCells:function(){var n=this,p=Ext.Date.now(),m;for(var o=0,q=n.changedCells.length;o<q;){m=n.changedCells[o];if(m.expires<=p){Ext.fly(m.cell).removeCls(m.highlightClass);Ext.Array.erase(n.changedCells,o,1);q--}else{break}}if(q){n.clearChangedTask.delay(n.unhighlightDelay)}},updateColumns:function(y,H,L){var x=this,F,G,z,E,J=L.length,K,D,I,A,B=x.getCellSelector(),C;if(y.mergeAttributes){y.mergeAttributes(H,true)}else{F=H.attributes;G=F.length;for(E=0;E<G;E++){z=F[E].name;if(z!=="id"){y.setAttribute(z,F[E].value)}}}C=y._extData;if(C){C.isSynchronized=false}y=Ext.get(y);H=Ext.get(H);for(K=0;K<J;K++){D=L[K];B=x.getCellSelector(D);I=y.selectNode(B);A=H.selectNode(B);F=A.attributes;G=F.length;for(E=0;E<G;E++){z=F[E].name;if(z!=="id"){I.setAttribute(z,F[E].value)}}C=I._extData;if(C){C.isSynchronized=false}I=Ext.fly(I).selectNode(x.innerSelector);A=Ext.fly(A).selectNode(x.innerSelector);Ext.fly(I).syncContent(A)}},shouldUpdateCell:function(m,k,l){return k.shouldUpdateCell(m,l)},refresh:function(){var g=this,k;if(g.destroying){return}if(g.getVisibleColumnManager().getColumns().length){Ext.view.View.prototype.refresh.apply(this,arguments);g.headerCt.setSortState()}else{if(g.refreshCounter){g.clearViewEl(true)}}},processContainerEvent:function(e){var k=Ext.Component.fromElement(e.target.parentNode);if(k&&k.up(this.ownerCt)){return false}},processItemEvent:function(Q,C,I,D){var J=this,G=J.self,e=G.EventMap,O=D.type,M=J.features,E=M.length,F,K,H,N,P,B=D.position=J.eventPosition||(J.eventPosition=new Ext.grid.CellContext()),L,R;if(Ext.isIE&&O==="mouseup"&&!D.within(J.el)){return false}if(J.indexInStore(C)!==-1){L=B.rowElement=Ext.fly(C).down(J.rowSelector,true);R=D.getTarget(J.getCellSelector(),L);O=G.TouchEventMap[O]||O;if(R){if(!R.parentNode){return false}P=J.getHeaderByCell(R);if(P){K=J.ownerCt.getColumnManager().getHeaderIndex(P)}else{P=R=null;K=-1}}else{K=-1}B.setAll(J,I,P?J.getVisibleColumnManager().getHeaderIndex(P):-1,Q,P);B.cellElement=R;H=J.fireEvent("uievent",O,J,R,I,K,D,Q,L);if((H===false||Ext.view.View.prototype.processItemEvent.apply(this,arguments)===false)){return false}for(F=0;F<E;++F){N=M[F];if(N.wrapsItem){if(N.vetoEvent(Q,L,I,D)===false){J.processSpecialEvent(D);return false}}}if(R&&O!=="mouseover"&&O!=="mouseout"){H=!((J["onBeforeCell"+e[O]](R,K,Q,L,I,D)===false)||(J.fireEvent("beforecell"+O,J,R,K,Q,L,I,D)===false)||(J["onCell"+e[O]](R,K,Q,L,I,D)===false)||(J.fireEvent("cell"+O,J,R,K,Q,L,I,D)===false))}if(H!==false){H=J.fireEvent("row"+O,J,Q,L,I,D)}return H}else{J.processSpecialEvent(D);if(D.pointerType==="mouse"){D.preventDefault()}return false}},processSpecialEvent:function(w){var F=this,A=F.features,e=A.length,E=w.type,z,D,y,x,B,v,C=F.ownerCt;Ext.view.View.prototype.processSpecialEvent.apply(this,arguments);if(E==="mouseover"||E==="mouseout"){return}E=F.self.TouchEventMap[E]||E;for(z=0;z<e;z++){D=A[z];if(D.hasFeatureEvent){x=w.getTarget(D.eventSelector,F.getTargetEl());if(x){y=D.eventPrefix;B=D.getFireEventArgs("before"+y+E,F,x,w);v=D.getFireEventArgs(y+E,F,x,w);if((F.fireEvent.apply(F,B)===false)||(C.fireEvent.apply(C,B)===false)||(F.fireEvent.apply(F,v)===false)||(C.fireEvent.apply(C,v)===false)){return false}}}}return true},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onCellKeyUp:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyUp:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(f){this.autoSizeColumn(f)},autoSizeColumn:function(f){if(Ext.isNumber(f)){f=this.getGridColumns()[f]}if(f){if(f.isGroupHeader){f.autoSize();return}delete f.flex;f.setWidth(this.getMaxContentWidth(f))}},getMaxContentWidth:function(y){var w=this,s=w.el.query(y.getCellInnerSelector()),A=y.getWidth(),z=0,x=s.length,B=w.body.select(w.getColumnSizerSelector(y)),u=Math.max,v=0,t;if(x>0){if(Ext.supports.ScrollWidthInlinePaddingBug){v+=w.getCellPaddingAfter(s[0])}if(w.columnLines){v+=Ext.fly(s[0].parentNode).getBorderWidth("lr")}}B.setWidth(1);y.textEl.setStyle({"text-overflow":"clip",display:"table-cell"});t=y.textEl.dom.offsetWidth+y.titleEl.getPadding("lr");y.textEl.setStyle({"text-overflow":"",display:""});for(;z<x;z++){t=u(t,s[z].scrollWidth)}t+=v;t=u(t+1,40);B.setWidth(A);return t},getPositionByEvent:function(e){var o=this,q=e.getTarget(o.cellSelector),p=e.getTarget(o.itemSelector),s=o.getRecord(p),t=o.getHeaderByCell(q);return o.getPosition(s,t)},getHeaderByCell:function(f){if(f){return this.ownerGrid.getVisibleColumnManager().getHeaderById(Ext.getDom(f).getAttribute("data-columnId"))}return false},walkCells:function(v,u,z,t){var w=this,s=v.clone(),x=w.lockingPartner&&w.lockingPartner.grid.isVisible()?w.lockingPartner:null,A=v.rowIdx,B=w.dataSource.getCount()-1,y=w.ownerCt.getVisibleColumnManager().getColumns();switch(u.toLowerCase()){case"right":if(v.isLastColumn()){A=x&&w.isLockedView?A:A+1;if(A>B){return false}if(x){s.view=x}s.setPosition(A,0)}else{s.navigate(+1)}break;case"left":if(v.isFirstColumn()){A=x&&w.isNormalView?A:A-1;if(A<0){return false}if(x){s.view=x;y=x.getVisibleColumnManager().getColumns()}s.setPosition(A,y[y.length-1])}else{s.navigate(-1)}break;case"up":if(A===0){return false}else{s.setRow(A-1)}break;case"down":if(A===B){return false}else{s.setRow(A+1)}break}if(z&&z.call(t||w,s)!==true){return false}return s},walkRows:function(u,B){var y=this,v=y.dataSource,x=0,s=u,A,z=(B<0)?0:v.getCount()-1,w=z?1:-1,t=u;do{if(z?t>=z:t<=z){return s||z}t+=w;if((A=Ext.fly(y.getRow(t)))&&A.isVisible(true)){x+=w;s=t}}while(x!==B);return t},walkRecs:function(B,C){var w=this,t=w.dataSource,v=0,D=B,A,y=(C<0)?0:(t.isBufferedStore?t.getTotalCount():t.getCount())-1,u=y?1:-1,x=t.indexOf(B),z;do{if(y?x>=y:x<=y){return D}x+=u;z=t.getAt(x);if(!z.isCollapsedPlaceholder&&(A=Ext.fly(w.getNodeByRecord(z)))&&A.isVisible(true)){v+=u;D=z}}while(v!==C);return D},getFirstVisibleRowIndex:function(){var k=this,l=(k.dataSource.isBufferedStore?k.dataSource.getTotalCount():k.dataSource.getCount()),m=k.indexOf(k.all.first())-1;do{m+=1;if(m===l){return}}while(!Ext.fly(k.getRow(m)).isVisible(true));return m},getLastVisibleRowIndex:function(){var g=this,k=g.indexOf(g.all.last());do{k-=1;if(k===-1){return}}while(!Ext.fly(g.getRow(k)).isVisible(true));return k},getHeaderCt:function(){return this.headerCt},getPosition:function(k,g){return new Ext.grid.CellContext(this).setPosition(k,g)},doDestroy:function(){var m=this,n=m.featuresMC,o,p,q;m.bindStore(null);if(n){for(p=0,q=n.getCount();p<q;++p){o=n.getAt(p);if(o&&!o.destroyed){o.destroy()}}}m.all.destroy();m.body.destroy();Ext.view.View.prototype.doDestroy.call(this)},onReplace:function(t,o,u,p){var s=this,v=s.bufferedRenderer,q;if(s.rendered&&v){q=s.saveFocusState();v.onReplace(t,o,u,p);q()}else{Ext.view.View.prototype.onReplace.apply(this,arguments)}s.setPendingStripe(o)},onResize:function(q,t,s,n){var p=this,o=p.bufferedRenderer;if(o){o.onViewResize(p,q,t,s,n)}Ext.view.View.prototype.onResize.call(this,q,t,s,n)},onAdd:function(p,q,o){var n=this,m=n.bufferedRenderer;n.addingRows=true;if(n.rendered&&m&&(m.bodyTop||n.dataSource.getCount()+q.length>=m.viewSize)){m.onReplace(p,o,[],q)}else{Ext.view.View.prototype.onAdd.apply(this,arguments)}n.setPendingStripe(o);n.addingRows=false},onRemove:function(s,t,q){var p=this,n=p.bufferedRenderer,o;if(p.rendered&&n&&p.dataSource.getCount()+t.length>=n.viewSize){o=p.saveFocusState();n.onReplace(s,q,t,[]);o()}else{Ext.view.View.prototype.onRemove.apply(this,arguments)}if(p.actionPosition&&Ext.Array.indexOf(t,p.actionPosition.record)!==-1){p.actionPosition=null}p.setPendingStripe(q)},saveFocusState:function(){var u=this,t=u.dataSource,z=u.actionableMode,x=u.getNavigationModel(),w=z?u.actionPosition:x.getPosition(true),y=Ext.Element.getActiveElement(true),q=w&&w.view===u&&w.getCell(),v,s;if(q&&q.contains(y)){w=w.clone();y.suspendFocusEvents();if(z&&q!==y){u.suspendActionableMode()}else{z=false;x.setPosition()}y.resumeFocusEvents();return function(){t=u.dataSource;if(t.getCount()){v=Math.min(w.rowIdx,u.all.getCount()-1);s=Math.min(w.colIdx,u.getVisibleColumnManager().getColumns().length-1);w=new Ext.grid.CellContext(u).setPosition(t.contains(w.record)?w.record:v,s);if(z){u.resumeActionableMode(w)}else{x.setPosition(w,null,null,null,true)}}else{w.column.focus()}}}return Ext.emptyFn},onDataRefresh:function(l){var k=this,m=k.ownerCt;if(m&&m.isCollapsingOrExpanding===2){m.on("expand",k.onDataRefresh,k,{single:true});return}Ext.view.View.prototype.onDataRefresh.call(this,l)},getViewRange:function(){var f=this;if(f.bufferedRenderer){return f.bufferedRenderer.getViewRange()}return Ext.view.View.prototype.getViewRange.call(this)},setPendingStripe:function(k){var g=this.stripeOnUpdate;if(g===null){g=k}else{g=Math.min(g,k)}this.stripeOnUpdate=g},onEndUpdate:function(){var m=this,k=m.stripeOnUpdate,l=m.all.startIndex;if(m.rendered&&(k||k===0)){if(k<l){k=l}m.doStripeRows(k);m.stripeOnUpdate=null}Ext.view.View.prototype.onEndUpdate.apply(this,arguments)},doStripeRows:function(t,u){var q=this,p,v,s,o;if(q.rendered&&q.stripeRows){p=q.getNodes(t,u);for(s=0,v=p.length;s<v;s++){o=p[s];o.className=o.className.replace(q.rowClsRe," ");t++;if(t%2===0){o.className+=(" "+q.altRowCls)}}}},hasActiveFeature:function(){return(this.isGrouping&&this.store.isGrouped())||this.isRowWrapped},getCellPaddingAfter:function(f){return Ext.fly(f).getPadding("r")},privates:{collectNodes:function(f){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},setActionableMode:function(x,z){var v=this,E=v.getNavigationModel(),C,G=v.grid.actionables,y=G.length,B,A,D,F=false,w,H;if(v.actionableMode===x){if(!x||z.isEqual(v.actionPosition)){return false}}if(x){if(z&&(z.view===v||(z.view===(w=v.lockingPartner)&&w.actionableMode))){F=v.activateCell(z)}return F}else{C=Ext.fly(Ext.Element.getActiveElement());if(v.el.contains(C)&&!Ext.fly(C).is(v.getCellSelector())){A=(v.actionPosition&&v.actionPosition.record)||v.getRecord(C);D=v.getHeaderByCell(C.findParent(v.getCellSelector()));H=z&&z.getCell();if(!z||!H){z=new Ext.grid.CellContext(v).setPosition(A||0,D||0);H=z.getCell()}H.focus();C=Ext.fly(Ext.Element.getActiveElement());if(!(v.el.contains(C)&&C.is(v.getCellSelector()))){z=null}}for(B=0;B<y;B++){if(G[B].deactivate){G[B].deactivate()}}if(v.actionRow){v.actionRow.saveTabbableState({skipSelf:true,includeSaved:false})}if(v.destroyed){return false}v.actionableMode=v.ownerGrid.actionableMode=false;v.actionPosition=E.actionPosition=v.actionRow=null;if(z){E.setPosition(z)}}},activateCell:function(z){var w=this,x=z.view!==w?w.lockingPartner:null,H=w.grid.actionables,y=H.length,D=w.getNavigationModel(),A,E,C,F,B,G,v;z=z.clone();A=z.record;z.view.grid.ensureVisible(A,{column:z.column});C=w.all.item(z.rowIdx);if(w.actionPosition){E=Ext.get(w.all.item(w.actionPosition.rowIdx,true));if(E&&C!==E){E.saveTabbableState({skipSelf:true,includeSaved:false})}}w.activating=true;if(!x){F=z.getCell();w.actionPosition=z;for(B=0;B<y;B++){G=G||H[B].activateCell(z,null,true)}}if(x||(F&&(F.restoreTabbableState(true).length|(v=F.findTabbableElements()).length))||G){for(B=0;B<y;B++){if(H[B].activateRow){H[B].activateRow(C)}}if(x||v.length){C.restoreTabbableState(true);if(x){w.actionableMode=true;w.actionPosition=null;w.activating=false;return true}if(v){w.actionRow=C;w.actionableMode=w.ownerGrid.actionableMode=true;D.setPosition();D.actionPosition=w.actionPosition=z;Ext.fly(v[0]).focus();w.activating=false;return true}}}w.activating=false},suspendActionableMode:function(){var l=this,n=l.grid.actionables,o=n.length,m;for(m=0;m<o;m++){n[m].suspend()}},resumeActionableMode:function(q){var n=this,p=n.grid.actionables,s=p.length,o,t;n.toggleChildrenTabbability(false);for(o=0;o<s;o++){t=t||p[o].resume(q)}if(!t){n.activateCell(q)}},onRowExit:function(w,z,s,x,y){var u=this,t=x?"nextSibling":"previousSibling",v=u.lockingPartner,A,B;if(v&&v.grid.isVisible()){A=u.all.indexOf(z);if(x){B=0;if(u.isNormalView){A++}}else{B=v.getVisibleColumnManager().getColumns().length-1;if(u.isLockedView){A--}}u.actionPosition=null;u=v;s=u.all.item(A,true)}if(!u.hasListeners.beforerowexit||u.fireEvent("beforerowexit",u,w,z,s,x)!==false){u.findFirstActionableElement(w,s,t,x,y)}else{return false}},findFirstActionableElement:function(F,Q,D,L,N){var B=this,T=B.getVisibleColumnManager().getColumns(),C=T.length,M=B.grid.actionables,O=M.length,K=new Ext.grid.CellContext(B),H,S,G,I,R,J,E,P;if(Q){K.setRow(Q);for(G=0;G<O;G++){if(M[G].activateRow){M[G].activateRow(Q)}}for(G=(L?0:C-1);(L?G<C:G>-1)&&!S;G=G+(L?1:-1)){R=T[G];K.setColumn(R);H=Ext.fly(Q).down(K.column.getCellSelector());for(I=0;I<O;I++){J=J||M[I].activateCell(K)}H=K.getCell();if(H){Q=K.getNode(true);H.restoreTabbableState(true);if((E=H.findTabbableElements()).length||J){P=B.actionRow;B.actionRow=Ext.get(Q);B.actionRow.restoreTabbableState(true);S=E[L?0:E.length-1]}}}if(S){B.actionPosition=B.getNavigationModel().actionPosition=K;Ext.fly(S).focus(Ext.asyncFocus?1:0);if(P&&Q!==P.dom){P.saveTabbableState({skipSelf:true,includeSaved:false})}}else{B.onRowExit(F,Q,B.all.item(K.rowIdx+(L?1:-1)),L,N)}}else{if(!N){B.grid.ensureVisible(L?0:B.dataSource.getCount()-1,{callback:function(e,g,f){if(e){B.findFirstActionableElement(F,f,D,L,true)}else{B.ownerGrid.setActionableMode(false)}}})}else{B.ownerGrid.setActionableMode(false)}}},stretchHeight:function(p){var n=this,q=n.getScrollable(),o=n.stretchers,m;if(p&&n.tabGuardEl){if(o){o[0].style.marginTop=o[1].style.marginTop=n.el.dom.style.height=0}n.el.dom.style.height=q.constrainScrollRange(p)+"px";m=p-n.el.dom.offsetHeight;if(m>0){n.el.dom.style.height="";o=n.getStretchers();m=p-n.el.dom.offsetHeight;if(m>0){o[0].style.marginTop=q.constrainScrollRange(m)+"px";m=p-n.el.dom.offsetHeight;if(m>0){o[1].style.marginTop=Math.min(m,q.maxSpacerMargin||0)+"px"}}}}},getStretchers:function(){var k=this,m=k.stretchers,l;if(m){k.el.appendChild(m)}else{l={cls:"x-scroller-spacer",style:"position:relative"};m=k.stretchers=k.el.appendChild([l,l],true)}return m}}},1,["tableview","gridview"],["component","box","dataview","tableview","gridview"],{component:true,box:true,dataview:true,tableview:true,gridview:true},["widget.gridview","widget.tableview"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.view,"Table",Ext.grid,"View"],0));(Ext.cmd.derive("Ext.grid.Panel",Ext.panel.Table,{alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"tableview",ariaRole:"grid",lockable:false,rowLines:true},0,["grid","gridpanel"],["component","box","container","panel","tablepanel","gridpanel","grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true},["widget.grid","widget.gridpanel"],0,[Ext.grid,"Panel",Ext.list,"ListView",Ext,"ListView",Ext.grid,"GridPanel"],0));(Ext.cmd.derive("Ext.grid.RowContext",Ext.Base,{constructor:function(f){Ext.apply(this,f);this.widgets={}},setRecord:function(m,l){var k=this.viewModel;this.record=m;this.recordIndex=l;if(k){k.set("record",m);k.set("recordIndex",l)}},free:function(){var o=this,q=o.widgets,p,n,t,s=o.viewModel;o.record=null;if(s){s.set("record");s.set("recordIndex")}for(p in q){n=q[p];t=n.getFocusEl();if(t){if(t.isTabbable(true)){t.saveTabbableState({includeHidden:true})}t.blur()}n.detachFromBody();n.hidden=true}},getWidget:function(p,m){var n=this,o=n.widgets||(n.widgets={}),q;if(m.bind&&!n.viewModel){n.viewModel=Ext.Factory.viewModel({parent:n.ownerGrid.lookupViewModel(),data:{record:n.record,recordIndex:n.recordIndex}},n.ownerGrid.rowViewModel)}if(!(q=o[p])){q=o[p]=Ext.widget(Ext.apply({viewModel:n.viewModel,_rowContext:n},m));if(q.isWidget){q.initBindable()}}else{q.hidden=false}return q},getWidgets:function(){var l=this.widgets,k,m=[];for(k in l){m.push(l[k])}return m},destroy:function(){var m=this,o=m.widgets,n,l;for(n in o){l=o[n];l._rowContext=null;l.destroy()}Ext.destroy(m.viewModel);m.callParent()}},1,0,0,0,0,0,[Ext.grid,"RowContext"],0));(Ext.cmd.derive("Ext.grid.RowEditorButtons",Ext.container.Container,{frame:true,shrinkWrap:true,position:"bottom",ariaRole:"toolbar",constructor:function(p){var n=this,q=p.rowEditor,m="x-",o=q.editingPlugin;p=Ext.apply({baseCls:m+"grid-row-editor-buttons",defaults:{xtype:"button",ui:q.buttonUI,scope:o,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:m+"row-editor-update-button",itemId:"update",handler:o.completeEdit,text:q.saveBtnText,disabled:q.updateButtonDisabled,listeners:{element:"el",keydown:n.onUpdateKeyDown,scope:n}},{cls:m+"row-editor-cancel-button",itemId:"cancel",handler:o.cancelEdit,text:q.cancelBtnText,listeners:{element:"el",keydown:n.onCancelKeyDown,scope:n}}]},p);Ext.container.Container.prototype.constructor.call(this,p);n.addClsWithUI(n.position)},onUpdateKeyDown:function(e){if(e.shiftKey&&e.getKey()===e.TAB){e.stopEvent();this.rowEditor.child(":focusable:not([isButton]):last").focus(false,true)}},onCancelKeyDown:function(e){if(!e.shiftKey&&e.getKey()===e.TAB){e.stopEvent();this.rowEditor.child(":focusable").focus(false,true)}},setButtonPosition:function(t){var p=this,u=this.rowEditor,v=u.getHeight(),q=u.body,s="",o="";p.removeClsWithUI(p.position);p.position=t;p.addClsWithUI(t);if(t==="top"){s=(v-q.getBorderWidth("t"))+"px"}else{o=(v-q.getBorderWidth("b"))+"px"}p.el.setStyle({top:o,bottom:s})},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var f=Ext.container.Container.prototype.getFrameInfo.call(this);f.top=true;return f}}},1,["roweditorbuttons"],["component","box","container","roweditorbuttons"],{component:true,box:true,container:true,roweditorbuttons:true},["widget.roweditorbuttons"],0,[Ext.grid,"RowEditorButtons"],0));(Ext.cmd.derive("Ext.grid.RowEditor",Ext.form.Panel,{saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:false,tabGuard:true,_wrapCls:"x-grid-row-editor-wrap",errorCls:"x-grid-row-editor-errors-item",buttonUI:"default",hideMode:"offsets",_cachedNode:false,initComponent:function(){var p=this,s=p.editingPlugin.grid,t=Ext.container.Container,q,o,n;p.cls="x-grid-editor x-grid-row-editor";p.layout={type:"hbox",align:"middle"};p.lockable=s.lockable;if(p.lockable){p.items=[n=p.lockedColumnContainer=new t({id:s.id+"-locked-editor-cells",scrollable:{x:false,y:false},layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),o=p.normalColumnContainer=new t({scrollable:{x:false,y:false},flex:1,id:s.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})];n.getScrollable().addPartner(s.lockedGrid.view.getScrollable(),"x");o.getScrollable().addPartner(s.normalGrid.view.getScrollable(),"x");s.lockedGrid.on({collapse:p.onGridResize,expand:p.onGridResize,beginfloat:p.onBeginFloat,scope:p})}else{p.setScrollable({x:false,y:false});p.getScrollable().addPartner(s.view.getScrollable(),"x");p.lockedColumnContainer=p.normalColumnContainer=p}Ext.form.Panel.prototype.initComponent.call(this);if(p.fields){p.addFieldsForColumn(p.fields,true);p.insertColumnEditor(p.fields);delete p.fields}p.mon(Ext.GlobalEvents,{scope:p,show:p.repositionIfVisible});q=p.getForm();q.trackResetOnLoad=true;q.on("validitychange",p.onValidityChange,p);q.on("errorchange",p.onErrorChange,p)},onGridResize:function(){if(this.rendered){var o=this,m=o.getClientWidth(),q=o.editingPlugin.grid,n=q.body,p=o.getFloatingButtons();o.wrapEl.setLocalX(n.getOffsetsTo(q)[0]+n.getBorderWidth("l")-q.el.getBorderWidth("l"));o.setWidth(m);p.setLocalX((m-p.getWidth())/2);if(o.lockable){o.lockedColumnContainer.setWidth(q.normalGrid.el.getLeft(true))}}},onBeginFloat:function(f){if(f.isSliding&&this.isVisible()){return false}},syncAllFieldWidths:function(){var m=this,n=m.query("[isEditorComponent]"),q=n.length,o,p;m.preventReposition=true;for(p=0;p<q;++p){o=n[p].column;if(o.isVisible()){m.onColumnShow(o)}}m.preventReposition=false},syncFieldWidth:function(l){var k=l.getEditor(),m;k._marginWidth=(k._marginWidth||k.el.getMargin("lr"));m=l.getWidth()-k._marginWidth;k.setWidth(m);if(k.xtype==="displayfield"){k.inputWidth=m}},onValidityChange:function(g,k){this.updateButton(k)},onErrorChange:function(){var g=this,k;if(g.errorSummary&&g.isVisible()){k=g.getForm().isValid();g[k?"hideToolTip":"showToolTip"]()}},updateButton:function(g){var k=this.floatingButtons;if(k){k.child("#update").setDisabled(!g)}else{this.updateButtonDisabled=!g}},afterRender:function(){var k=this,l=k.editingPlugin,m=l.grid;k.scroller=m.getScrollable();Ext.form.Panel.prototype.afterRender.apply(this,arguments);k.scrollingView=m.lockable?m.normalGrid.view:m.view;k.scrollingViewEl=k.scrollingView.el;k.scroller.on("scroll",k.onViewScroll,k);k.mon(k.el,{click:Ext.emptyFn,stopPropagation:true});k.mon(m,"resize",k.onGridResize,k);if(k.lockable){m.lockedGrid.view.on("resize","onGridResize",k)}k.el.swallowEvent(["keypress","keydown"]);k.initKeyNav();k.mon(l.view,{beforerefresh:k.onBeforeViewRefresh,refresh:k.onViewRefresh,itemremove:k.onViewItemRemove,scope:k});k.syncAllFieldWidths();if(k.floatingButtons){k.body.dom.setAttribute("aria-owns",k.floatingButtons.id)}},initKeyNav:function(){var g=this,k=g.editingPlugin;g.keyNav=new Ext.util.KeyNav(g.el,{tab:{fn:g.onFieldTab,scope:g},enter:k.onEnterKey,esc:k.onEscKey,scope:k})},onBeforeViewRefresh:function(l){var k=this,m=l.el.dom;if(k.el.dom.parentNode===m){m.removeChild(k.el.dom)}},onViewRefresh:function(o){var m=this,n=m.context,l;if(!m.completing){if(n&&(l=o.getRow(n.record))){n.row=l;m.reposition();if(m.tooltip&&m.tooltip.isVisible()){m.tooltip.setTarget(n.row)}}else{m.editingPlugin.cancelEdit()}}},onViewItemRemove:function(y,w,v,t){var u=this,z=u.context,A,s,B,x;if(!t.refreshing&&z){x=u.editingPlugin;A=x.grid;s=A.getStore();B=u.editingPlugin.view;if(s.getById(u.getRecord().getId())&&!u._cachedNode){if(x.editing){u._cachedNode=true;u.mon(B,{itemadd:u.onViewItemAdd,scope:u})}}else{if(!u._cachedNode){u.activeField=null;u.editingPlugin.cancelEdit()}}}},onViewItemAdd:function(y,v,u,s){var t=this,w=t.editingPlugin,z,q,x;if(t._cachedNode&&t.context){z=w.view;if((q=Ext.Array.indexOf(y,t.context.record))!==-1){x=y[q];t.context.node=x;t.context.row=z.getRow(x);t.context.cell=z.getCellByPosition(t.context,true);t.clearCache()}}},onViewScroll:function(){var s=this,t=s.editingPlugin.view.el,v=s.scrollingView,q=s.scroller.getPosition().y,o=v.getScrollX(),u=q!==s.lastScrollTop,p;s.lastScrollTop=q;s.lastScrollLeft=o;if(s.isVisible()){p=Ext.getDom(s.context.row);if(p&&t.contains(p)){if(s.getLocalY()){s.setLocalY(0)}if(u){s.context.row=p;s.reposition(null,true);if((s.tooltip&&s.tooltip.isVisible())){s.repositionTip()}}}else{s.setLocalY(-400);s.floatingButtons.hide()}}},onColumnResize:function(l,m){var k=this;if(k.rendered&&!k.editingPlugin.reconfiguring){k.onGridResize();k.onViewScroll();if(k.lockable){k.lockedColumnContainer.getScrollable().syncWithPartners();k.normalColumnContainer.getScrollable().syncWithPartners()}else{k.getScrollable().syncWithPartners()}if(!l.isGroupHeader){k.syncFieldWidth(l);k.repositionIfVisible()}}},onColumnHide:function(f){if(!this.editingPlugin.reconfiguring&&!f.isGroupHeader){f.getEditor().hide();this.repositionIfVisible()}},onColumnShow:function(k){var g=this;if(g.rendered&&!g.editingPlugin.reconfiguring&&!k.isGroupHeader&&k.getEditor){k.getEditor().show();g.syncFieldWidth(k);if(!g.preventReposition){g.repositionIfVisible()}}},onColumnMove:function(A,C,D){var t=this,w=A.isLocked(),v=w?t.lockedColumnContainer:t.normalColumnContainer,z,x,u,B,y;if(A.isGroupHeader){Ext.suspendLayouts();B=D>C;y=B?1:0;z=A.getGridColumns();for(x=0,u=z.length;x<u;++x){A=z[x];D=A.getIndex();if(B){++y}t.setColumnEditor(A,D+y,v)}Ext.resumeLayouts(true)}else{t.setColumnEditor(A,A.getIndex(),v)}},setColumnEditor:function(l,m,k){this.addFieldsForColumn(l);k.insert(m,l.getEditor())},onColumnAdd:function(f){if(f.isGroupHeader){f=f.getGridColumns()}this.addFieldsForColumn(f);this.insertColumnEditor(f);this.preventReposition=false},insertColumnEditor:function(q){var p=this,o,n,t,s;if(Ext.isArray(q)){for(s=0,t=q.length;s<t;s++){p.insertColumnEditor(q[s])}return}if(!q.getEditor){return}n=q.isLocked()?p.lockedColumnContainer:p.normalColumnContainer;n.insert(q.getIndex(),o=q.getEditor());o.on("focus",p.onFieldFocus,p);p.needsSyncFieldWidths=true},onFieldFocus:function(f){if((Ext.isIE||Ext.isEdge)&&f.selectText){f.selectText(f.inputEl.dom.value.length)}this.activeField=f;this.context.setColumn(f.column);if(!this.skipFocusScroll){f.column.getView().getScrollable().scrollIntoView(f.el)}else{this.skipFocusScroll=null}},onFieldTab:function(u){var e=this,t=e.activeField,p=e.context.rowIdx,q=!u.shiftKey,v=t[q?"nextNode":"previousNode"](":focusable"),s;u.stopEvent();if(!v||!v.isDescendant(e)){if(e.isDirty()&&!e.autoUpdate){e.floatingButtons.child("#update").focus()}else{s=e.view.dataSource.getCount();p=p+(q?1:-1);if(p<0){p=s-1}else{if(p>=s){p=0}}if(q){v=e.down(":focusable:not([isButton]):first");t.column.getView().getScrollable().scrollIntoView(t.ownerCt.child(":focusable").el)}else{v=e.down(":focusable:not([isButton]):last")}e.tabGuardBeforeEl.focus();e.editingPlugin.startEdit(p,v.column)}}else{v.focus()}},destroyColumnEditor:function(k){var g;if(k.hasEditor()&&(g=k.getEditor())){g.destroy()}},getFloatingButtons:function(){var g=this,k=g.floatingButtons;if(!k&&!g.destroying&&!g.destroyed){g.floatingButtons=k=new Ext.grid.RowEditorButtons({ownerCmp:g,rowEditor:g})}return k},repositionIfVisible:function(k){var l=this,m=l.view;if(k&&(k===l||!k.el.isAncestor(m.el))){return}if(l.isVisible()&&m.isVisible(true)){l.reposition()}},isLayoutChild:function(f){return false},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(n){var l=this,o,m;if(l.lockable){o=[l.lockedColumnContainer];o.push.apply(o,l.lockedColumnContainer.getRefItems(n));o.push(l.normalColumnContainer);o.push.apply(o,l.normalColumnContainer.getRefItems(n))}else{o=Ext.form.Panel.prototype.getRefItems.apply(this,arguments)}m=l.getFloatingButtons();if(m){o.push.apply(o,m.getRefItems(n))}return o},reposition:function(u,x){var w=this,A=w.context,s=A&&A.row,t=w.wrapEl,B,z,y,v;if(s&&Ext.isElement(s)){y=w.syncButtonPosition(A);B=w.calculateLocalRowTop(s);z=w.calculateEditorTop(B);v=function(){w.syncEditorClip();w.wrapAnim=null;if(!x){if(y){w.scroller.scrollBy(0,y,true)}w.focusColumnField(A.column)}};if(u){w.wrapAnim=t.addAnimation(Ext.applyIf({to:{top:z},duration:u.duration||125,callback:v},u))}else{t.setLocalY(z);v()}}},getScrollDelta:function(){var w=this,x=w.scroller.getElement().dom,q=w.context,t=w.body,u=0,s,p,v;if(q){u=Ext.fly(q.row).getOffsetsTo(x)[1];if(u<0){u-=t.getBorderPadding().beforeY}else{if(u>0){s=x.clientHeight;p=x.scrollHeight;v=w.getHeight()+w.floatingButtons.getHeight();if(s===p&&v>s){return 0}u=Math.max(u+v-s-t.getBorderWidth("b"),0);if(u>0){u-=t.getBorderPadding().afterY}}}}return u},calculateLocalRowTop:function(g){var k=this.editingPlugin.grid;return Ext.fly(g).getOffsetsTo(k)[1]-k.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(g){var k=g-this.lastScrollTop;if(this._buttonsOnTop){k-=(this.body.dom.offsetHeight-this.context.row.offsetHeight-this.body.getBorderPadding().afterY)}else{k-=this.body.getBorderPadding().beforeY}return k},getClientWidth:function(){var l=this,m=l.editingPlugin.grid,n,o;if(l.lockable){n=(m.lockedGrid.collapsed&&m.lockedGrid.placeholder)||m.lockedGrid;o=n.getRegion().union(m.scrollBody.el.getClientRegion()).width}else{o=m.view.el.dom.clientWidth}return o},getEditor:function(k){var g=this;if(Ext.isNumber(k)){return g.query("[isEditorComponent]")[k]}else{if(k.isHeader&&!k.isGroupHeader){return k.getEditor()}}},addFieldsForColumn:function(p,t){var o=this,s,u,v,q;if(Ext.isArray(p)){for(s=0,u=p.length;s<u;s++){o.addFieldsForColumn(p[s],t)}return}if(p.getEditor){v=p.getEditor(null,o.getDefaultFieldCfg());if(p.align==="right"){q=v.fieldStyle;if(q){if(Ext.isObject(q)){q=Ext.apply({},q)}else{q=Ext.dom.Element.parseStyles(q)}if(!q.textAlign&&!q["text-align"]){q.textAlign="right"}}else{q="text-align:right"}v.fieldStyle=q}if(p.xtype==="actioncolumn"){v.fieldCls+=" x-form-action-col-field"}if(o.isVisible()&&o.context){if(v.is("displayfield")){o.renderColumnData(v,o.context.record,p)}else{v.suspendEvents();v.setValue(o.context.record.get(p.dataIndex));v.resumeEvents()}}if(p.hidden){o.onColumnHide(p)}else{if(p.rendered&&!t){o.onColumnShow(p)}}}},getDefaultFieldCfg:function(){return{xtype:"displayfield",skipLabelForAttribute:true,getModelData:function(){return null}}},loadRecord:function(y){var u=this,B=u.getForm(),x=B.getFields(),v=x.items,A=v.length,z,w,s,t;for(z=0;z<A;z++){t=v[z];t.suspendEvents();t.resetToInitialValue()}B.loadRecord(y);for(z=0;z<A;z++){v[z].resumeEvents()}if(B.hasInvalidField()===B.wasValid){delete B.wasValid}s=B.isValid();if(u.errorSummary){if(s){u.hideToolTip()}else{u.showToolTip()}}u.updateButton(s);w=u.query(">displayfield");A=w.length;for(z=0;z<A;z++){u.renderColumnData(w[z],y)}},renderColumnData:function(K,z,E){var x=this,G=x.editingPlugin.grid,C=G.headerCt,L=x.scrollingView,I=L.dataSource,B=E||K.column,J=z.get(B.dataIndex),y=B.editRenderer||B.renderer,F,D,A,H=(B.usingDefaultRenderer&&!B.scope)?B:B.scope;if(y){F={tdCls:"",style:""};D=I.indexOf(z);A=C.getHeaderIndex(B);J=y.call(H||C.ownerCt,J,F,z,D,A,I,L)}K.setRawValue(J)},beforeEdit:function(){var k=this,g;if(k.lockable&&k.editingPlugin.grid.lockedGrid.floatedFromCollapse){return false}if(k.isVisible()&&(k.isDirty()||k.context.record.phantom)){if(k.autoUpdate){k.editingPlugin.completeEdit()}else{if(k.autoCancel){k.editingPlugin.cancelEdit()}else{if(k.errorSummary){g=k.getScrollDelta();if(g){k.scrollingViewEl.scrollBy(0,g,true)}k.showToolTip();return false}}}}},startEdit:function(x,z){var v=this,u=v.editingPlugin,B=u.grid,A=v.context=u.context,y=v.isVisible(),s=v.wrapEl,w=v.rendered,t;if(v._cachedNode){v.clearCache()}Ext.suspendLayouts();if(!w){v.width=v.getClientWidth();v.render(B.el,B.el.dom.firstChild);s=v.wrapEl=v.el.wrap();s.setVisibilityMode(3);s.addCls(v._wrapCls);v.getFloatingButtons().render(s);v.onViewScroll()}v.setLocalY(0);A.grid.getSelectionModel().selectByPosition({row:x,column:z});if(v.rendered&&v.formAriaLabel){t=Ext.String.formatEncode(v.formAriaLabel,v.formAriaLabelRowBase+A.rowIdx);v.body.dom.setAttribute("aria-label",t)}v.onGridResize();Ext.resumeLayouts(y);if(y){v.reposition(true)}else{v.skipFocusScroll=true;v.show()}v.loadRecord(x);if(!w){if(v.lockable){v.lockedColumnContainer.getScrollable().syncWithPartners();v.normalColumnContainer.getScrollable().syncWithPartners()}else{v.getScrollable().syncWithPartners()}}},syncButtonPosition:function(t){var q=this,p=q.getScrollDelta(),u=q.getFloatingButtons(),v=q.scrollingView,s=Math.max(0,q.scroller.getSize().y-q.scroller.getClientSize().y),o=p-(s-q.scroller.getPosition().y);u.show();if(o>0||(t.rowIdx>0&&t.isLastRenderedRow())){if(!q._buttonsOnTop){u.setButtonPosition("top");q._buttonsOnTop=true;q.layout.setAlign("bottom");q.updateLayout()}p=0}else{if(q._buttonsOnTop!==false){u.setButtonPosition("bottom");q._buttonsOnTop=false;q.layout.setAlign("top");q.updateLayout()}else{u.setButtonPosition(u.position)}}return p},syncEditorClip:function(){var l=this,k=l.tooltip,m=l.scroller.getElement().getConstrainRegion();l.clipTo(m);l.floatingButtons.clipTo(m);if(k&&k.isVisible()){k.clipTo(m,5)}},focusColumnField:function(l){var k,m;if(l&&!l.destroyed){if(l.isVisible()){k=this.getEditor(l);if(k&&k.isFocusable(true)){m=true;k.focus()}}if(!m){this.focusColumnField(l.next())}}},cancelEdit:function(){var v=this,o=v.getForm(),u=o.getFields(),s=u.items,p=s.length,q,t=v.context.record;if(v._cachedNode){v.clearCache()}v.hide();if(t&&t.phantom&&!t.modified&&v.removeUnmodified){v.editingPlugin.grid.store.remove(t)}o.clearInvalid();for(q=0;q<p;q++){s[q].suspendEvents()}o.reset();for(q=0;q<p;q++){s[q].resumeEvents()}},clearCache:function(){var f=this;f.mun(f.editingPlugin.view,{itemadd:f.onViewItemAdd,scope:f});f._cachedNode=false},completeEdit:function(){var g=this,k=g.getForm();if(!k.isValid()){return false}g.completing=true;k.updateRecord(g.context.record);g.hide();g.completing=false;return true},onShow:function(){var f=this;f.wrapEl.show();Ext.form.Panel.prototype.onShow.apply(this,arguments);if(f.needsSyncFieldWidths){f.suspendLayouts();f.preventReposition=true;f.syncAllFieldWidths();f.preventReposition=false;f.resumeLayouts(true)}delete f.needsSyncFieldWidths;if(f.rendered){f.initTabGuards(true)}f.reposition()},onHide:function(){var n=this,p=n.context,o,q,m=Ext.Element.getActiveElement();n.context=null;if(n.el.contains(m)&&n.activeField){o=n.activeField.column}else{o=p.column}q=new Ext.grid.CellContext(o.getView()).setPosition(p.record,o);q.view.getNavigationModel().setPosition(q);n.activeField=null;n.wrapEl.hide();Ext.form.Panel.prototype.onHide.apply(this,arguments);if(n.rendered){n.initTabGuards(false)}if(n.tooltip){n.hideToolTip()}},onResize:function(g,k){this.wrapEl.setSize(g,k)},isDirty:function(){return this.getForm().isDirty()},getToolTip:function(){var l=this,k=l.tooltip,m=l.editingPlugin.grid;if(!k){l.tooltip=k=new Ext.tip.ToolTip({cls:"x-grid-row-editor-errors",title:l.errorsText,autoHide:false,closable:true,closeAction:"disable",anchor:"left",anchorToTarget:true,targetOffset:[Ext.getScrollbarSize().width,0],constrainPosition:true,constrainTo:document.body});m.add(k);l.mon(m,{afterlayout:l.onGridLayout,scope:l})}return k},hideToolTip:function(){var k=this,g=k.getToolTip();if(g.rendered){g.disable()}},showToolTip:function(m){var l=this,k=l.getToolTip();if(!m&&l.wrapAnim){return l.wrapAnim.on({afteranimate:l.showToolTip,scope:l,single:true})}k.update(l.getErrors());l.repositionTip();k.enable()},onGridLayout:function(){if(this.tooltip&&this.tooltip.isVisible()){this.repositionTip()}},repositionTip:function(){var k=this,g=k.getToolTip();if(g.isVisible()){g.handleAfterShow()}else{g.showBy(k.el)}k.syncEditorClip()},getErrors:function(){var p=this,v=[],t=p.query(">[isFormField]"),q=t.length,s,u,o;for(s=0;s<q;s++){o=t[s];u=o.getErrors();if(u.length){v.push(p.createErrorListItem(u[0],o.column.text))}}if(!v.length&&!p.autoCancel&&p.isDirty()){v[0]=p.createErrorListItem(p.dirtyText)}return'<ul class="x-list-plain">'+v.join("")+"</ul>"},createErrorListItem:function(e,k){e=k?k+": "+e:e;return'<li class="'+this.errorCls+'">'+e+"</li>"},doDestroy:function(){var f=this;if(f.wrapAnim){Ext.fx.Manager.removeAnim(f.wrapAnim);f.wrapAnim=null}f.floatingButtons=f.tooltip=Ext.destroy(f.floatingButtons,f.tooltip);Ext.form.Panel.prototype.doDestroy.call(this)}},0,["roweditor"],["component","box","container","panel","form","roweditor"],{component:true,box:true,container:true,panel:true,form:true,roweditor:true},["widget.roweditor"],0,[Ext.grid,"RowEditor"],0));Ext.define("Ext.theme.neptune.grid.RowEditor",{override:"Ext.grid.RowEditor",buttonUI:"default-toolbar"});(Ext.cmd.derive("Ext.view.DropZone",Ext.dd.DropZone,{indicatorCls:"x-grid-drop-indicator",indicatorHtml:['<div class="',"x-",'grid-drop-indicator-left" role="presentation"></div>','<div class="x-grid-drop-indicator-right" role="presentation"></div>'].join(""),constructor:function(k){var g=this;Ext.apply(g,k);if(!g.ddGroup){g.ddGroup="view-dd-zone-"+g.view.id}Ext.dd.DropZone.prototype.constructor.call(this,g.view.el)},fireViewEvent:function(){var g=this,k;g.lock();k=g.view.fireEvent.apply(g.view,arguments);g.unlock();return k},getTargetFromEvent:function(v){var w=v.getTarget(this.view.getItemSelector()),q,s,t,e,u,x;if(!w){q=v.getY();for(e=0,s=this.view.getNodes(),u=s.length;e<u;e++){t=s[e];x=Ext.fly(t).getBox();if(q<=x.bottom){return t}}}return w},getIndicator:function(){var f=this;if(!f.indicator){f.indicator=new Ext.Component({ariaRole:"presentation",html:f.indicatorHtml,cls:f.indicatorCls,ownerCt:f.view,floating:true,alignOnScroll:false,shadow:false})}return f.indicator},getPosition:function(o,q){var e=o.getXY()[1],p=Ext.fly(q).getRegion(),n;if((p.bottom-e)>=(p.bottom-p.top)/2){n="before"}else{n="after"}return n},containsRecordAtOffset:function(q,t,o){if(!t){return false}var u=this.view,s=u.indexOf(t),p=u.getNode(s+o),v=p?u.getRecord(p):null;return v&&Ext.Array.contains(q,v)},positionIndicator:function(y,x,w){var v=this,t=v.view,u=v.getPosition(w,y),e=t.getRecord(y),z=x.records,s;if(!Ext.Array.contains(z,e)&&(u==="before"&&!v.containsRecordAtOffset(z,e,-1)||u==="after"&&!v.containsRecordAtOffset(z,e,1))){v.valid=true;if(v.overRecord!==e||v.currentPosition!==u){s=Ext.fly(y).getY()-t.el.getY()-1;if(u==="after"){s+=Ext.fly(y).getHeight()}v.getIndicator().setWidth(Ext.fly(t.el).getWidth()).showAt(0,s);v.overRecord=e;v.currentPosition=u}}else{v.invalidateDrop()}},invalidateDrop:function(){if(this.valid){this.valid=false;this.getIndicator().hide()}},onNodeOver:function(o,q,e,n){var p=this;if(!Ext.Array.contains(n.records,p.view.getRecord(o))){p.positionIndicator(o,n,e)}return p.valid?p.dropAllowed:p.dropNotAllowed},notifyOut:function(o,q,e,n){var p=this;Ext.dd.DropZone.prototype.notifyOut.apply(this,arguments);p.overRecord=p.currentPosition=null;p.valid=false;if(p.indicator){p.indicator.hide()}},onContainerOver:function(s,t,e){var o=this,q=o.view,p=q.dataSource.getCount();if(p){o.positionIndicator(q.all.last(),e,t)}else{o.overRecord=o.currentPosition=null;o.getIndicator().setWidth(Ext.fly(q.el).getWidth()).showAt(0,0);o.valid=true}return o.dropAllowed},onContainerDrop:function(m,e,l){return this.onNodeDrop(m,null,e,l)},onNodeDrop:function(w,u,x,e){var q=this,s=false,t={wait:false,processDrop:function(){q.invalidateDrop();q.handleNodeDrop(e,q.overRecord,q.currentPosition);s=true;q.fireViewEvent("drop",w,e,q.overRecord,q.currentPosition)},cancelDrop:function(){q.invalidateDrop();s=true}},v=false;if(q.valid){v=q.fireViewEvent("beforedrop",w,e,q.overRecord,q.currentPosition,t);if(t.wait){return}if(v!==false){if(!s){t.processDrop()}}}return v},destroy:function(){this.indicator=Ext.destroy(this.indicator);Ext.dd.DropZone.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.view,"DropZone"],0));(Ext.cmd.derive("Ext.grid.ViewDropZone",Ext.view.DropZone,{indicatorHtml:'<div class="x-grid-drop-indicator-left" role="presentation"></div><div class="x-grid-drop-indicator-right" role="presentation"></div>',indicatorCls:"x-grid-drop-indicator",handleNodeDrop:function(z,y,x){var u=this.view,t=u.getStore(),s=u!==z.view,v,B,A,w;if(z.copy){B=z.records;for(A=0,w=B.length;A<w;A++){B[A]=B[A].copy()}}else{if(s){z.view.store.remove(z.records)}}if(y&&x){v=t.indexOf(y);if(x!=="before"){v++}t.insert(v,z.records)}else{t.add(z.records)}if(s){u.getSelectionModel().select(z.records)}u.getNavigationModel().setPosition(z.records[0])}},0,0,0,0,0,0,[Ext.grid,"ViewDropZone"],0));(Ext.cmd.derive("Ext.grid.plugin.HeaderResizer",Ext.plugin.Abstract,{disabled:false,config:{dynamic:false},colHeaderCls:"x-column-header",minColWidth:40,maxColWidth:1000,eResizeCursor:"col-resize",init:function(g){var k=this;k.headerCt=g;g.on("render",k.afterHeaderRender,k,{single:k});if(!k.minColWidth){k.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth}},destroy:function(){var g=this,k=g.tracker;if(k){k.destroy();g.tracker=null}g.headerCt.un("render",g.afterHeaderRender,g);g.headerCt=null;Ext.plugin.Abstract.prototype.destroy.call(this)},afterHeaderRender:function(){var l=this,k=l.headerCt,m=k.el;k.mon(m,"mousemove",l.onHeaderCtMouseMove,l);l.markerOwner=l.ownerGrid=l.headerCt.up("tablepanel").ownerGrid;l.tracker=new Ext.dd.DragTracker({disabled:l.disabled,onBeforeStart:l.onBeforeStart.bind(l),onStart:l.onStart.bind(l),onDrag:l.onDrag.bind(l),onEnd:l.onEnd.bind(l),onCancel:l.onCancel.bind(l),tolerance:3,autoStart:300,el:m});k.setTouchAction({panX:false})},onHeaderCtMouseMove:function(e){var k=this;if(k.headerCt.dragging||k.disabled){if(k.activeHd){k.activeHd.el.dom.style.cursor="";delete k.activeHd}}else{if(e.pointerType!=="touch"){k.findActiveHeader(e)}}},findActiveHeader:function(w){var v=this,y=v.headerCt,t=w.getTarget("."+v.colHeaderCls,y.el,true),e=v.ownerGrid,A=e.ownerLockable,B,u,z,x;v.activeHd=null;if(t){B=Ext.getCmp(t.id);if(B.isAtEndEdge(w)){if(y.visibleColumnManager.getColumns().length===1&&y.forceFit){return}u=B}else{if(B.isAtStartEdge(w)){z=y.visibleColumnManager.getColumns();x=B.isGroupHeader?B.getGridColumns()[0]:B;u=z[Ext.Array.indexOf(z,x)-1];if(!u&&A&&!e.isLocked){z=A.lockedGrid.headerCt.visibleColumnManager.getColumns();u=z[z.length-1]}}}if(u){if(u.isGroupHeader){z=u.getGridColumns();u=z[z.length-1]}if(u&&!(u.fixed||(u.resizable===false))){v.activeHd=u;B.el.dom.style.cursor=v.eResizeCursor;if(B.triggerEl){B.triggerEl.dom.style.cursor=v.eResizeCursor}}}else{B.el.dom.style.cursor="";if(B.triggerEl){B.triggerEl.dom.style.cursor=""}}}return v.activeHd},onBeforeStart:function(e){var k=this;k.dragHd=k.activeHd||e.pointerType==="touch"&&k.findActiveHeader(e);if(k.dragHd&&!k.headerCt.dragging){e.claimGesture();k.xDelta=k.dragHd.getX()+k.dragHd.getWidth()-k.tracker.getXY()[0];k.tracker.constrainTo=k.getConstrainRegion();return true}else{k.headerCt.dragging=false;return false}},onCancel:function(e){this.dragHd=this.activeHd=null;this.headerCt.dragging=false},getConstrainRegion:function(){var o=this,t=o.dragHd.el,p,v=o.ownerGrid,q=v.getSizeModel().width,s=q.shrinkWrap?o.headerCt.getWidth()-o.headerCt.visibleColumnManager.getColumns().length*o.minColWidth:o.maxColWidth,u;if(o.headerCt.forceFit){p=o.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(p&&o.headerInSameGrid(p)){s=t.getWidth()+(p.getWidth()-o.minColWidth)}}else{if(v.isLocked&&q.shrinkWrap){s=o.dragHd.up("[scrollerOwner]").getTargetEl().getWidth(true)-v.getWidth()-(v.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*o.minColWidth+Ext.getScrollbarSize().width)}}u=o.adjustConstrainRegion(t.getRegion(),0,0,0,o.minColWidth);u.right=t.getX()+s;return u},onStart:function(w){var v=this,x=v.dragHd,A=x.el.getWidth(),y=x.getRootHeaderCt(),D,e,z,B,u,C;v.headerCt.dragging=true;v.origWidth=A;if(!v.dynamic){z=v.markerOwner;if(z.frame&&z.resizable){v.gridOverflowSetting=z.el.dom.style.overflow;z.el.dom.style.overflow="hidden"}D=v.getLeftMarkerX(z);B=z.getLhsMarker();u=z.getRhsMarker();C=v.ownerGrid.body.getHeight()+y.getHeight();e=y.getOffsetsTo(z)[1]-z.el.getBorderWidth("t");B.dom.style.cursor=v.eResizeCursor;u.dom.style.cursor=v.eResizeCursor;B.setLocalY(e);u.setLocalY(e);B.setHeight(C);u.setHeight(C);v.setMarkerX(B,D);v.setMarkerX(u,D+A)}},onDrag:function(e){var k=this;if(k.dynamic){k.doResize()}else{k.setMarkerX(k.getMovingMarker(k.markerOwner),k.calculateDragX(k.markerOwner))}},getMovingMarker:function(f){return f.getRhsMarker()},onEnd:function(l){var m=this,e=m.markerOwner;m.headerCt.dragging=false;if(m.dragHd){if(!m.dynamic){if("gridOverflowSetting" in m){e.el.dom.style.overflow=m.gridOverflowSetting}m.setMarkerX(e.getLhsMarker(),-9999);m.setMarkerX(e.getRhsMarker(),-9999)}m.doResize();if(l.pointerType!=="touch"){m.dragHd=null;m.activeHd.el.dom.style.cursor=m.eResizeCursor}else{m.dragHd=m.activeHd=null}}m.headerCt.blockNextEvent()},doResize:function(){var m=this,n=m.dragHd,o,l=m.tracker.getOffset("point");if(n&&l[0]){if(n.flex){delete n.flex}Ext.suspendLayouts();m.adjustColumnWidth(l[0]-m.xDelta);if(m.headerCt.forceFit){o=n.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(o&&!m.headerInSameGrid(o)){o=null}if(o){delete o.flex;o.setWidth(o.getWidth()-l[0])}}Ext.resumeLayouts(true)}},headerInSameGrid:function(g){var k=this.dragHd.up("tablepanel");return !!g.up(k)},disable:function(){var f=this.tracker;this.disabled=true;if(f){f.disable()}},enable:function(){var f=this.tracker;this.disabled=false;if(f){f.enable()}},calculateDragX:function(f){return this.tracker.getXY("point")[0]+this.xDelta-f.getX()-f.el.getBorderWidth("l")},getLeftMarkerX:function(f){return this.dragHd.getX()-f.getX()-f.el.getBorderWidth("l")-1},setMarkerX:function(g,k){g.setLocalX(k)},adjustConstrainRegion:function(l,o,n,q,p){return l.adjust(o,n,q,p)},adjustColumnWidth:function(f){this.dragHd.setWidth(this.origWidth+f)}},0,0,0,0,["plugin.gridheaderresizer"],0,[Ext.grid.plugin,"HeaderResizer"],0));(Ext.cmd.derive("Ext.grid.header.DragZone",Ext.dd.DragZone,{colHeaderSelector:".x-column-header",colInnerSelector:".x-column-header-inner",maxProxyWidth:120,constructor:function(g){var k=this;k.headerCt=g;k.ddGroup=k.getDDGroup();k.autoGroup=true;Ext.dd.DragZone.prototype.constructor.call(this,g.el);k.proxy.el.addCls("x-grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(n){if(n.getTarget(this.colInnerSelector)){var e=n.getTarget(this.colHeaderSelector),o,m;if(e){o=Ext.getCmp(e.id);if(!this.headerCt.dragging&&o.draggable&&!(o.isAtStartEdge(n)||o.isAtEndEdge(n))){m=document.createElement("div");m.role="presentation";m.innerHTML=o.text;return{ddel:m,header:o}}}}return false},onBeforeDrag:function(){return !(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.headerCt.hideMenu();Ext.dd.DragZone.prototype.onInitDrag.apply(this,arguments)},onDragDrop:function(){this.headerCt.dragging=false;Ext.dd.DragZone.prototype.onDragDrop.apply(this,arguments)},afterRepair:function(){Ext.dd.DragZone.prototype.afterRepair.call(this);this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}},1,0,0,0,0,0,[Ext.grid.header,"DragZone"],0));(Ext.cmd.derive("Ext.grid.header.DropZone",Ext.dd.DropZone,{colHeaderCls:"x-column-header",proxyOffsets:[-4,-9],constructor:function(g){var k=this;k.headerCt=g;k.ddGroup=k.getDDGroup();k.autoGroup=true;Ext.dd.DropZone.prototype.constructor.call(this,g.el)},destroy:function(){Ext.destroy(this.topIndicator,this.bottomIndicator);Ext.dd.DropZone.prototype.destroy.call(this)},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(e){return e.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-top",html:"&#160;"});this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-bottom",html:"&#160;"})}return this.bottomIndicator},getLocation:function(n,p){var q=n.getXY()[0],o=Ext.fly(p).getRegion(),e;if((o.right-q)<=(o.right-o.left)/2){e="after"}else{e="before"}return{pos:e,header:Ext.getCmp(p.id),node:p}},positionIndicator:function(L,J,R){var M=this,I=L.header,X=M.getLocation(R,J),U=X.header,Y=X.pos,Z,T,P,G,e,ab,aa,S,N,O,Q,K,V,H,W;if(U===M.lastTargetHeader&&Y===M.lastDropPos){return}Z=I.nextSibling("gridcolumn:not([hidden])");T=I.previousSibling("gridcolumn:not([hidden])");M.lastTargetHeader=U;M.lastDropPos=Y;if(!U.draggable&&Y==="before"&&U.getIndex()===0){return false}L.dropLocation=X;if((I!==U)&&((Y==="before"&&Z!==U)||(Y==="after"&&T!==U))&&!U.isDescendantOf(I)){K=Ext.dd.DragDropManager.getRelated(M);V=K.length;H=0;for(;H<V;H++){W=K[H];if(W!==M&&W.invalidateDrop){W.invalidateDrop()}}M.valid=true;P=M.getTopIndicator();G=M.getBottomIndicator();if(Y==="before"){e="bc-tl";ab="tc-bl"}else{e="bc-tr";ab="tc-br"}aa=P.getAlignToXY(U.el,e);S=G.getAlignToXY(U.el,ab);N=M.headerCt.el;O=N.getX()-M.indicatorXOffset;Q=N.getX()+N.getWidth();aa[0]=Ext.Number.constrain(aa[0],O,Q);S[0]=Ext.Number.constrain(S[0],O,Q);P.setXY(aa);G.setXY(S);P.show();G.show()}else{M.invalidateDrop()}},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(y,v,w,x){var u=this,e=x.header,A,B,z,t;if(x.header.el.dom===y){A=false}else{x.isLock=x.isUnlock=x.crossPanel=false;B=u.getLocation(w,y).header;A=(e.ownerCt===B.ownerCt);if(!A&&(!e.ownerCt.sealed&&!B.ownerCt.sealed)){A=true;z=e.up("tablepanel");t=B.up("tablepanel");if(z!==t){x.crossPanel=true;x.isLock=t.isLocked&&!z.isLocked;x.isUnlock=!t.isLocked&&z.isLocked;if((x.isUnlock&&e.lockable===false)||(x.isLock&&!e.isLockable())){A=false}}}}if(A){u.positionIndicator(x,y,w)}else{u.valid=false}return u.valid?u.dropAllowed:u.dropNotAllowed},hideIndicators:function(){var f=this;f.getTopIndicator().hide();f.getBottomIndicator().hide();f.lastTargetHeader=f.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},getNestedHeader:function(l,n){var o=l.items,m;if(l.isGroupHeader&&o.length){m=!n?"first":"last";l=this.getNestedHeader(o[m](),n)}return l},onNodeDrop:function(G,P,C,J){this.headerCt.blockNextEvent();if(!this.valid){return}var B=this,F=J.header,M=J.dropLocation,D=M.pos,K=M.header,e=F.ownerCt,H=e.getRootHeaderCt(),R=K.ownerCt,O=B.headerCt.visibleColumnManager,E=O.getHeaderIndex(F),Q,I,L,N;if(J.isLock||J.isUnlock){L=e.up("[scrollerOwner]");Q=R.items.indexOf(K);if(D==="after"){Q++}if(J.isLock){L.lock(F,Q,R)}else{L.unlock(F,Q,R)}}else{Q=D==="after"?O.getHeaderIndex(B.getNestedHeader(K,1))+1:O.getHeaderIndex(B.getNestedHeader(K,0));B.invalidateDrop();N=F.getWidth();Ext.suspendLayouts();H.isDDMoveInGrid=!J.crossPanel;if(F.isGroupHeader&&K.isGroupHeader){F.setNestedParent(K)}if(D==="before"){R.moveBefore(F,K)}else{R.moveAfter(F,K)}if(Q>=0&&!(K.isGroupHeader&&(!K.items||!K.items.length))&&E!==Q){I=F.isGroupHeader?F.query(":not([hidden]):not([isGroupHeader])").length:1;if((E<=Q)&&I>1){Q-=I}R.getRootHeaderCt().grid.view.moveColumn(E,Q,I)}H.fireEvent("columnmove",e,F,E,Q);H.isDDMoveInGrid=false;if(R.isGroupHeader&&!e.isGroupHeader){if(e!==R){F.savedFlex=F.flex;delete F.flex;F.width=N}}else{if(!e.isGroupHeader){if(F.savedFlex){F.flex=F.savedFlex;delete F.width}}}Ext.resumeLayouts(true);if(B.headerCt.grid.floated){B.headerCt.grid.updateLayout()}}}},1,0,0,0,0,0,[Ext.grid.header,"DropZone"],0));(Ext.cmd.derive("Ext.grid.plugin.HeaderReorderer",Ext.plugin.Abstract,{init:function(f){this.headerCt=f;f.on({boxready:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){var f=this;f.headerCt.un("boxready",f.onHeaderCtRender,f);Ext.destroy(f.dragZone,f.dropZone);f.headerCt=f.dragZone=f.dropZone=null;Ext.plugin.Abstract.prototype.destroy.call(this)},onHeaderCtRender:function(g){var k=this;k.dragZone=new Ext.grid.header.DragZone(k.headerCt);k.dropZone=new Ext.grid.header.DropZone(k.headerCt);if(k.disabled){k.dragZone.disable()}g.setTouchAction({panX:false})},enable:function(){this.disabled=false;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=true;if(this.dragZone){this.dragZone.disable()}}},0,0,0,0,["plugin.gridheaderreorderer"],0,[Ext.grid.plugin,"HeaderReorderer"],0));(Ext.cmd.derive("Ext.grid.header.Container",Ext.container.Container,{border:true,baseCls:"x-grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:"x-column-header-open",menuSortAscCls:"x-hmenu-sort-asc",menuSortDescCls:"x-hmenu-sort-desc",menuColsIcon:"x-cols-icon",blockEvents:false,dragging:false,sortOnClick:true,enableFocusableContainer:false,childHideCount:0,sortable:true,enableColumnHide:true,initComponent:function(){var f=this;f.plugins=f.plugins||[];f.defaults=f.defaults||{};if(!f.isColumn){f.isRootHeader=true;if(f.enableColumnResize){f.resizer=new Ext.grid.plugin.HeaderResizer();f.plugins.push(f.resizer)}if(f.enableColumnMove){f.reorderer=new Ext.grid.plugin.HeaderReorderer();f.plugins.push(f.reorderer)}}if(f.isColumn&&!f.isGroupHeader){if(!f.items||f.items.length===0){f.isContainer=f.isFocusableContainer=false;if(!f.hasOwnProperty("focusable")){f.focusable=true}f.layout={type:"container",calculate:Ext.emptyFn}}}else{f.layout=Ext.apply({type:"gridcolumn",align:"stretch"},f.initialConfig.layout);f.defaults.columnLines=f.columnLines;if(f.isRootHeader){if(!f.hiddenHeaders){f.enableFocusableContainer=true;f.ariaRole="rowgroup"}f.columnManager=new Ext.grid.ColumnManager(false,f);f.visibleColumnManager=new Ext.grid.ColumnManager(true,f);if(f.grid){f.grid.columnManager=f.columnManager;f.grid.visibleColumnManager=f.visibleColumnManager}}else{f.visibleColumnManager=new Ext.grid.ColumnManager(true,f);f.columnManager=new Ext.grid.ColumnManager(false,f)}}f.menuTask=new Ext.util.DelayedTask(f.updateMenuDisabledState,f);Ext.container.Container.prototype.initComponent.call(this)},isNested:function(){return !!this.getRootHeaderCt().down("[isNestedParent]")},isNestedGroupHeader:function(){var g=this,k=g.getRefOwner().query(">:not([hidden])");return(k.length===1&&k[0]===g)},maybeShowNestedGroupHeader:function(){var k=this.items,g;if(k&&k.length===1&&(g=k.getAt(0))&&g.hidden){g.show()}},setNestedParent:function(f){f.isNestedParent=false;f.ownerCt.isNestedParent=!!(this.ownerCt.items.length===1&&f.ownerCt.items.length===1)},initEvents:function(){var k=this,m,l;Ext.container.Container.prototype.initEvents.call(this);if(!k.isColumn&&!k.isGroupHeader){m=k.onHeaderCtEvent;l={click:m,dblclick:m,contextmenu:m,mousedown:k.onHeaderCtMouseDown,mouseover:k.onHeaderCtMouseOver,mouseout:k.onHeaderCtMouseOut,scope:k};if(Ext.supports.Touch){l.longpress=k.onHeaderCtLongPress}k.mon(k.el,l)}},onHeaderCtEvent:function(p,s){var q=this,u=q.getHeaderElByEvent(p),v,e,t;if(q.longPressFired){q.longPressFired=false;return}if(u&&!q.blockEvents){v=Ext.getCmp(u.id);if(v){e=v[v.clickTargetName];if((!v.isGroupHeader&&!v.isContainer)||p.within(e)){if(p.type==="click"||p.type==="tap"){t=v.onTitleElClick(p,e,q.sortOnClick);if(t){q.onHeaderTriggerClick(t,p,p.pointerType==="touch"?t.el:t.triggerEl)}else{q.onHeaderClick(v,p,s)}}else{if(p.type==="contextmenu"){q.onHeaderContextMenu(v,p,s)}else{if(p.type==="dblclick"&&v.resizable){v.onTitleElDblClick(p,e.dom)}}}}}}},blockNextEvent:function(){this.blockEvents=true;Ext.asap(this.unblockEvents,this)},unblockEvents:function(){this.blockEvents=false},onHeaderCtMouseDown:function(v,w){var t=Ext.Component.fromElement(w),x,q,u,e,s;if(t!==this){if(t.isGroupHeader){x=t.getVisibleGridColumns();e=this.getScrollable();for(q=0,u=x.length;q<u;++q){s=x[q];if(e.doIsInView(s.el,true).x){t=s;break}}}t.focus()}},onHeaderCtMouseOver:function(p,q){var e,n,o;if(!p.within(this.el,true)){e=p.getTarget("."+Ext.grid.column.Column.prototype.baseCls);n=e&&Ext.getCmp(e.id);if(n){o=n[n.clickTargetName];if(p.within(o)){n.onTitleMouseOver(p,o.dom)}}}},onHeaderCtMouseOut:function(e,q){var p="."+Ext.grid.column.Column.prototype.baseCls,s=e.getTarget(p),t=e.getRelatedTarget(p),u,v;if(s!==t){if(s){u=Ext.getCmp(s.id);if(u){v=u[u.clickTargetName];u.onTitleMouseOut(e,v.dom)}}if(t){u=Ext.getCmp(t.id);if(u){v=u[u.clickTargetName];u.onTitleMouseOver(e,v.dom)}}}},onHeaderCtLongPress:function(n){var o=this,e=o.getHeaderElByEvent(n),m;if(e){m=Ext.getCmp(e.id);if(m&&!m.menuDisabled){o.longPressFired=true;o.showMenuBy(n,e,m)}}},getHeaderElByEvent:function(e){return e.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){if(this.hiddenHeaders){return false}return Ext.container.Container.prototype.isLayoutRoot.call(this)},getRootHeaderCt:function(){var f=this;return f.isRootHeader?f:f.up("[isRootHeader]")},doDestroy:function(){var f=this;if(f.menu){f.menu.un("hide",f.onMenuHide,f)}f.menuTask.cancel();Ext.destroy(f.visibleColumnManager,f.columnManager,f.menu);Ext.container.Container.prototype.doDestroy.call(this)},applyColumnsState:function(G,C){if(!G){return}var I=this,w=I.items.items,x=w.length,A=0,E,J,D,F,y,H=false,z=[],B=[];for(A=0;A<x;A++){D=w[A];F=G[D.getStateId()];if(F){y=F.index;z[y]=D;if(A!==y){H=true}if(D.applyColumnState){D.applyColumnState(F,C)}}else{B.push({index:A,column:D})}}z=Ext.Array.clean(z);E=B.length;if(E){for(A=0;A<E;A++){F=B[A];y=F.index;if(y<z.length){H=true;Ext.Array.splice(z,y,0,F.column)}else{z.push(F.column)}}}if(H){I.applyingState=true;I.removeAll(false);delete I.applyingState;I.add(z);I.purgeCache()}},getColumnsState:function(){var l=this,m=[],k;l.items.each(function(e){k=e.getColumnState&&e.getColumnState();if(k){m.push(k)}});return m},onAdd:function(k){var l=this,m;Ext.container.Container.prototype.onAdd.apply(this,arguments);m=l.getRootHeaderCt();l.onHeadersChanged(k,m&&m.isDDMoveInGrid)},move:function(o,m){var n=this,p=n.items,q;if(o.isComponent){q=o;o=p.indexOf(q)}else{q=p.getAt(o)}q.visibleFromIdx=n.getRootHeaderCt().visibleColumnManager.indexOf(q);Ext.container.Container.prototype.move.apply(this,arguments)},onMove:function(v,s,x){var p=this,q=p.getRootHeaderCt(),u=q.visibleColumnManager,w=1,t;p.onHeadersChanged(v,true);t=u.indexOf(v);if(t>=v.visibleFromIdx){t++}Ext.container.Container.prototype.onMove.apply(this,arguments);if(v.isGroupHeader){w=v.visibleColumnManager.getColumns().length}q.onHeaderMoved(v,w,v.visibleFromIdx,t)},maybeContinueRemove:function(){var f=this;return(f.isGroupHeader&&!f.applyingState)&&!f.isNestedParent&&f.ownerCt&&!f.items.getCount()},onRemove:function(l,n){var m=this,o=m.ownerCt;Ext.container.Container.prototype.onRemove.call(this,l,n);if(!m.destroying){if(!m.getRootHeaderCt().isDDMoveInGrid){m.onHeadersChanged(l,false)}if(m.maybeContinueRemove()){if(l.rendered){m.detachComponent(l)}m.destroyAfterRemoving=true;Ext.suspendLayouts();o.remove(m,false);Ext.resumeLayouts(true)}}},onHeadersChanged:function(l,o){var n,m=this.getRootHeaderCt();this.purgeHeaderCtCache(this);if(m){m.onColumnsChanged();n=m.ownerCt;if(n&&!o){n.onHeadersChanged(m,l)}}},onHeaderMoved:function(n,t,q,o){var p=this,s=p.ownerCt;if(p.rendered){if(s&&s.onHeaderMove){s.onHeaderMove(p,n,t,q,o)}p.fireEvent("columnmove",p,n,q,o)}},onColumnsChanged:function(){var m=this,l=m.menu,o,n;if(m.rendered){m.fireEvent("columnschanged",m);if(l){o=l.child("#columnItemSeparator");n=l.child("#columnItem");if(o){o.destroy()}if(n){n.destroy()}}}},lookupComponent:function(g){var k=Ext.container.Container.prototype.lookupComponent.apply(this,arguments);if(!k.isGroupHeader&&k.width===undefined&&!k.flex){k.width=this.defaultWidth}return k},setSortState:function(){var s=this.up("[store]").store,p=this.visibleColumnManager.getColumns(),t=p.length,q,n,o;for(q=0;q<t;q++){n=p[q];o=n.getSorter();if(o){if(!s.getSorters().contains(o)){o=null}}else{o=s.getSorters().get(n.getSortParam())}n.setSortState(o)}},getHeaderMenu:function(){var g=this.getMenu(),k;if(g){k=g.child("#columnItem");if(k){return k.menu}}return null},onHeaderVisibilityChange:function(m,n){var p=this,o=p.getHeaderMenu(),q;p.purgeHeaderCtCache(m.ownerCt);if(o){q=p.getMenuItemForHeader(o,m);if(q){q.setChecked(n,true)}if(o.isVisible()){p.menuTask.delay(50)}}},updateMenuDisabledState:function(x){var p=this,s=p.query("gridcolumn:not([hidden])"),t,v=s.length,q,u,w;if(!x){x=p.getMenu()}for(t=0;t<v;++t){q=s[t];u=p.getMenuItemForHeader(x,q);if(u){w=q.isHideable()?"enable":"disable";if(u.menu){w+="CheckChange"}u[w]()}}},getMenuItemForHeader:function(k,g){return g?k.down("menucheckitem[headerId="+g.id+"]"):null},onHeaderShow:function(l){var m=this,n=m.ownerCt,o=l.lastHiddenHeader;if(!n){return}if(m.forceFit){delete m.flex}if(o&&!l.query("[hidden=false]").length){o.show();l.lastHiddenHeader=null}m.onHeaderVisibilityChange(l,true);n.onHeaderShow(m,l);m.fireEvent("columnshow",m,l);m.fireEvent("columnschanged",this)},onHeaderHide:function(k){var l=this,m=l.ownerCt;if(!m){return}l.onHeaderVisibilityChange(k,false);m.onHeaderHide(l,k);l.fireEvent("columnhide",l,k);l.fireEvent("columnschanged",this)},onHeaderResize:function(l,o){var m=this,n=m.ownerCt;if(n){n.onHeaderResize(m,l,o)}m.fireEvent("columnresize",m,l,o)},onHeaderClick:function(t,e,p){var o=this,s=t.getView().getSelectionModel(),q;t.fireEvent("headerclick",o,t,e,p);q=o.fireEvent("headerclick",o,t,e,p);if(q!==false){if(s.onHeaderClick){s.onHeaderClick(o,t,e)}}return q},onHeaderContextMenu:function(e,l,m){e.fireEvent("headercontextmenu",this,e,l,m);this.fireEvent("headercontextmenu",this,e,l,m)},onHeaderTriggerClick:function(e,m,o){var n=this;if(e.fireEvent("headertriggerclick",n,e,m,o)!==false&&n.fireEvent("headertriggerclick",n,e,m,o)!==false){if(e.activeMenu){if(m.pointerType){e.activeMenu.hide()}else{e.activeMenu.focus()}}else{n.showMenuBy(m,o,e)}}},showMenuBy:function(v,s,w){var p=this.getMenu(),x=p.down("#ascItem"),q=p.down("#descItem"),t,u=v&&v.pointerType==="touch";p.activeHeader=p.ownerCmp=w;w.setMenuActive(p);t=w.sortable?"enable":"disable";if(x){x[t]()}if(q){q[t]()}p.autoFocus=!v||v.keyCode;p.showBy(s,"tl-bl?");if(!p.isVisible()){this.onMenuHide(p)}},hideMenu:function(){if(this.menu){this.menu.hide()}},onMenuHide:function(f){f.activeHeader.setMenuActive(false)},purgeHeaderCtCache:function(f){while(f){f.purgeCache();if(f.isRootHeader){return}f=f.ownerCt}},purgeCache:function(){var k=this,l=k.visibleColumnManager,m=k.columnManager;k.gridVisibleColumns=k.gridDataColumns=k.hideableColumns=null;if(l){l.invalidate();m.invalidate()}},getMenu:function(){var g=this,k=g.view&&g.view.ownerGrid;if(!g.menu){g.menu=new Ext.menu.Menu({hideOnParentHide:false,items:g.getMenuItems(),listeners:{beforeshow:g.beforeMenuShow,hide:g.onMenuHide,scope:g}});g.fireEvent("menucreate",g,g.menu);if(k){k.fireEvent("headermenucreate",k,g.menu,g)}}return g.menu},beforeMenuShow:function(m){var o=this,p=m.child("#columnItem"),q,n;if(!p){q=o.enableColumnHide?o.getColumnMenu(o):null;n=o.sortable?2:0;if(q&&q.length){m.insert(n,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",text:o.columnsText,iconCls:o.menuColsIcon,menu:{items:q},hideOnClick:false}])}}o.updateMenuDisabledState(o.menu)},getMenuItems:function(){var k=this,l=[],m=k.enableColumnHide?k.getColumnMenu(k):null;if(k.sortable){l=[{itemId:"ascItem",text:k.sortAscText,iconCls:k.menuSortAscCls,handler:k.onSortAscClick,scope:k},{itemId:"descItem",text:k.sortDescText,iconCls:k.menuSortDescCls,handler:k.onSortDescClick,scope:k}]}if(m&&m.length){if(k.sortable){l.push({itemId:"columnItemSeparator",xtype:"menuseparator"})}l.push({itemId:"columnItem",text:k.columnsText,iconCls:k.menuColsIcon,menu:m,hideOnClick:false})}return l},onSortAscClick:function(){var g=this.getMenu(),k=g.activeHeader;k.sort("ASC")},onSortDescClick:function(){var g=this.getMenu(),k=g.activeHeader;k.sort("DESC")},getColumnMenu:function(o){var s=[],t=0,p,u=o.query(">gridcolumn[hideable]"),v=u.length,q;for(;t<v;t++){p=u[t];q=new Ext.menu.CheckItem({text:p.menuText||p.text,checked:!p.hidden,hideOnClick:false,headerId:p.id,menu:p.isGroupHeader?this.getColumnMenu(p):undefined,checkHandler:this.onColumnCheckChange,scope:this});s.push(q)}return s.length?s:null},onColumnCheckChange:function(m,l){var k=Ext.getCmp(m.headerId);if(k.rendered){k[l?"show":"hide"]()}else{k.hidden=!l}},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var m=0,n=this.getVisibleGridColumns(),l=n.length,o;for(o=0;o<l;o++){m+=n[o].getCellWidth()||0}return m},getVisibleGridColumns:function(){var v=this,s,p,t,u,q,o;if(v.gridVisibleColumns){return v.gridVisibleColumns}s=v.getGridColumns();p=v.getRootHeaderCt();t=[];u=s.length;for(q=0;q<u;q++){o=s[q];if(!o.hidden&&!o.isColumnHidden(p)){t[t.length]=o}}v.gridVisibleColumns=t;return t},isColumnHidden:function(g){var k=this.getRefOwner();while(k&&k!==g){if(k.hidden){return true}k=k.getRefOwner()}return false},getGridColumns:function(t,z){if(!t&&this.gridDataColumns){return this.gridDataColumns}var u=this,q=t||[],v,y,w,s,x;z=z||u.hidden;if(u.items){v=u.items.items;if(v){for(y=0,w=v.length;y<w;y++){s=v[y];if(s.isGroupHeader){s.visibleIndex=q.length;s.getGridColumns(q,z)}else{s.hiddenAncestor=z;q.push(s)}}}}if(!t){u.gridDataColumns=q}if(!t&&w){for(y=0,w=q.length;y<w;y++){s=q[y];s.fullColumnIndex=y;s.isFirstVisible=s.isLastVisible=false;if(!(s.hidden||s.hiddenAncestor)){if(!x){s.isFirstVisible=true}x=s}}if(x){x.isLastVisible=true}}return q},getHideableColumns:function(){var g=this,k=g.hideableColumns;if(!k){k=g.hideableColumns=g.query("[hideable]")}return k},getHeaderIndex:function(f){if(!this.columnManager){this.columnManager=this.getRootHeaderCt().columnManager}return this.columnManager.getHeaderIndex(f)},getHeaderAtIndex:function(f){if(!this.columnManager){this.columnManager=this.getRootHeaderCt().columnManager}return this.columnManager.getHeaderAtIndex(f)},getVisibleHeaderClosestToIndex:function(f){if(!this.visibleColumnManager){this.visibleColumnManager=this.getRootHeaderCt().visibleColumnManager}return this.visibleColumnManager.getVisibleHeaderClosestToIndex(f)},applyForceFit:function(C){var O=this,N=O.view,H=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,F=false,J=Ext.grid.header.Container.prototype.defaultWidth,I=O.el.dom.clientWidth-(N.el.dom.scrollHeight>N.el.dom.clientHeight?Ext.getScrollbarSize().width:0),E=0,P=O.getVisibleGridColumns(),B=C.hidden,z,D,K,A,G;function M(){for(D=0,z=P.length;D<z;D++){K=P[D];if(K===C){continue}K.flex=K.flex||K.width||K.getWidth();E+=K.flex;K.width=null}}function L(){var e;for(D=0,z=P.length;D<z;D++){K=P[D];e=(K===C);if(F&&!e){K.flex=H;K.width=null}else{if(!e){G=K.flex||J;K.flex=Math.max(Math.ceil((G/E)*I),H);K.width=null}}K.setWidth(K.width||K.flex)}}Ext.suspendLayouts();A=(I-((P.length+1)*H));C.flex=null;if(B){G=C.width||C.savedWidth||Math.floor(A/(P.length+1));C.savedWidth=null}else{G=N.getMaxContentWidth(C)}if(G>A){C.width=A;F=true}else{C.width=G;I-=G+J;M()}L();Ext.resumeLayouts(true)},autoSizeColumn:function(g){var k=this.view;if(k){k.autoSizeColumn(g);if(this.forceFit){this.applyForceFit(g)}}},getRefItems:function(g){var k=Ext.container.Container.prototype.getRefItems.call(this,g);if(this.menu){k.push(this.menu)}return k},privates:{beginChildHide:function(){++this.childHideCount},endChildHide:function(){--this.childHideCount},getFocusables:function(){return this.isRootHeader?this.getVisibleGridColumns():this.items.items},createFocusableContainerKeyNav:function(k){var g=this;return new Ext.util.KeyNav(k,{scope:g,down:g.showHeaderMenu,left:g.onFocusableContainerLeftKey,right:g.onFocusableContainerRightKey,home:g.onHomeKey,end:g.onEndKey,space:g.onHeaderActivate,enter:g.onHeaderActivate})},onHomeKey:function(e){return this.focusChild(null,true,e)},onEndKey:function(e){return this.focusChild(null,false,e)},showHeaderMenu:function(e){var k=this.getFocusableFromEvent(e);if(k&&k.isColumn&&k.triggerEl){this.onHeaderTriggerClick(k,e,k.triggerEl)}},onHeaderActivate:function(e){var m=this.getFocusableFromEvent(e),o,n;if(m&&m.isColumn){o=m.getView();if(m.sortable&&this.sortOnClick){n=o.getNavigationModel().getLastFocused();m.toggleSortState();if(n){o.ownerCt.ensureVisible(n.record)}}else{if(e.getKey()===e.SPACE){m.onTitleElClick(e,e.target,this.sortOnClick)}}return this.onHeaderClick(m,e,m.el)}},onOwnerGridReconfigure:function(m,l){var k=this;if(!k.rendered||k.destroying||k.destroyed){return}if(m||l){k.initFocusableContainer()}}}},0,["headercontainer"],["component","box","container","headercontainer"],{component:true,box:true,container:true,headercontainer:true},["widget.headercontainer"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.grid.header,"Container"],0));(Ext.cmd.derive("Ext.grid.column.Column",Ext.grid.header.Container,{alternateClassName:"Ext.grid.Column",config:{triggerVisible:false,sorter:null,align:"start"},baseCls:"x-column-header",hoverCls:"x-column-header-over",ariaRole:"columnheader",enableFocusableContainer:false,sortState:null,possibleSortStates:["ASC","DESC"],ariaSortStates:{ASC:"ascending",DESC:"descending"},childEls:["titleEl","triggerEl","textEl","textContainerEl","textInnerEl"],headerWrap:false,renderTpl:['<div id="{id}-titleEl" data-ref="titleEl" role="presentation"','{tipMarkup}class="',"x-",'column-header-inner<tpl if="!$comp.isContainer"> ',"x-","leaf-column-header</tpl>",'<tpl if="empty"> ',"x-",'column-header-inner-empty</tpl>">','<div id="{id}-textContainerEl" data-ref="textContainerEl" role="presentation" class="',"x-",'column-header-text-container">','<div role="presentation" class="',"x-",'column-header-text-wrapper">','<div id="{id}-textEl" data-ref="textEl" role="presentation" class="',"x-","column-header-text",'{childElCls}">','<span id="{id}-textInnerEl" data-ref="textInnerEl" role="presentation" class="',"x-",'column-header-text-inner">{text}</span>',"</div>","{%","values.$comp.afterText(out, values);","%}","</div>","</div>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" data-ref="triggerEl" role="presentation" unselectable="on" class="',"x-","column-header-trigger",'{childElCls}" style="{triggerStyle}"></div>',"</tpl>","</div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:"\xa0",menuText:null,emptyCellText:"\xa0",sortable:true,resizable:true,hideable:true,menuDisabled:false,renderer:false,draggable:true,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",dirtyText:"Cell value has been edited",producesHTML:true,ignoreExport:false,exportStyle:null,isHeader:true,isColumn:true,scrollable:false,requiresMenu:false,tabIndex:-1,ascSortCls:"x-column-header-sort-ASC",descSortCls:"x-column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:"x-group-sub-header",groupHeaderCls:"x-group-header",clickTargetName:"titleEl",detachOnRemove:true,initResizable:Ext.emptyFn,rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){var f=this;if(!f.rendererScope){f.rendererScope=f.scope}if(f.header!=null){f.text=f.header;f.header=null}if(f.cellWrap){f.tdCls=(f.tdCls||"")+" x-wrap-cell"}if(f.columns!=null){f.isGroupHeader=true;f.ariaRole="presentation";f.items=f.columns;f.columns=null;f.cls=(f.cls||"")+" "+f.groupHeaderCls;f.sortable=f.resizable=false;f.align="center"}else{if(f.flex){f.minWidth=f.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}}f.addCls("x-column-header-align-"+f.align);f.setupRenderer();f.setupRenderer("edit");f.setupRenderer("summary");Ext.grid.header.Container.prototype.initComponent.apply(this,arguments)},beforeLayout:function(){var m=this.items,n,l,o;if(!Ext.isArray(m)){m=m.items}n=m.length;if(n){for(l=0;!o&&l<n;l++){o=m[l].flex}if(!o){this.flex=null}}Ext.grid.header.Container.prototype.beforeLayout.call(this)},onAdded:function(n,l,o){var m=this;Ext.grid.header.Container.prototype.onAdded.call(this,n,l,o);if(!m.headerId){m.calculateHeaderId()}m.configureStateInfo()},_initSorterFn:function(u,v){var w=this,x=w.column,p=x.resolveListenerScope(),s=w.methodName,q=p&&p[s],t=0;if(q){w.setSorterFn(q);w.column=null;t=q.call(p,u,v)}return t},applySorter:function(l){var m=this,n=l?l.sorterFn:null,o;if(typeof n==="string"){o=new Ext.util.Sorter(Ext.applyIf({sorterFn:m._initSorterFn},l));o.methodName=n;o.column=m}else{o=m.getRootHeaderCt().up("tablepanel").store.getData().getSorters().decodeSorter(l)}return o},updateAlign:function(f){this.textAlign=this._alignMap[f]||f},bindFormatter:function(g){var k=this;return function(e){return g(e,k.rendererScope||k.resolveListenerScope())}},bindRenderer:function(g){var k=this;k.hasCustomRenderer=true;return function(){return Ext.callback(g,k.rendererScope,arguments,0,k)}},setupRenderer:function(t){t=t||"column";var s=this,o=s[s.formatterNames[t]],q=s[s.rendererNames[t]],u=t==="column",v,p;if(!o){if(q){if(typeof q==="string"){q=s[s.rendererNames[t]]=s.bindRenderer(q);p=true}if(u){s.hasCustomRenderer=p||q.length>1}}else{if(u&&s.defaultRenderer){s.renderer=s.defaultRenderer;s.usingDefaultRenderer=true}}}else{v=Ext.app.bind.Parser.fly(o);o=v.compileFormat();v.release();s[s.formatterNames[t]]=null;s[s.rendererNames[t]]=s.bindFormatter(o)}},getView:function(){var f=this.getRootHeaderCt();if(f){return f.view}},onFocusLeave:function(e){Ext.grid.header.Container.prototype.onFocusLeave.call(this,e);if(this.activeMenu){this.activeMenu.hide()}},initItems:function(){var f=this;Ext.grid.header.Container.prototype.initItems.apply(this,arguments);if(f.isGroupHeader){if(f.config.hidden||!f.hasVisibleChildColumns()){f.hide()}}},hasVisibleChildColumns:function(){var n=this.items.items,o=n.length,m,l;for(m=0;m<o;++m){l=n[m];if(l.isColumn&&!l.hidden){return true}}return false},onAdd:function(g){var k=this;if(g.isColumn){g.isSubHeader=true;g.addCls(k.groupSubHeaderCls)}if(k.isGroupHeader&&k.hidden&&k.hasVisibleChildColumns()){k.show()}Ext.grid.header.Container.prototype.onAdd.call(this,g)},onRemove:function(k,m){var l=this;if(k.isSubHeader){k.isSubHeader=false;k.removeCls(l.groupSubHeaderCls)}Ext.grid.header.Container.prototype.onRemove.call(this,k,m);if(!(l.destroyed||l.destroying)&&!l.hasVisibleChildColumns()&&(l.ownerCt&&!l.ownerCt.isNested())){l.hide()}},initRenderData:function(){var p=this,m="",o=p.tooltip,n=p.text,q=p.tooltipType==="qtip"?"data-qtip":"title";if(!Ext.isEmpty(o)){m=q+'="'+o+'" '}return Ext.applyIf(Ext.grid.header.Container.prototype.initRenderData.apply(this,arguments),{text:n,empty:p.isEmptyText(n),menuDisabled:p.menuDisabled,tipMarkup:m,triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(z,x){var t=this,q=t.getSorter(),u=x&&x.sorters,v,w,y,s;if(q&&u&&(v=u.length)){s=q.getId();for(w=0;!y&&w<v;w++){if(u[w].id===s){q.setDirection(u[w].direction);u[w]=q;break}}}t.applyColumnsState(z.columns);if(z.hidden!=null){t.hidden=z.hidden}if(z.locked!=null){t.locked=z.locked}if(z.sortable!=null){t.sortable=z.sortable}if(z.width!=null){t.flex=null;t.width=z.width}else{if(z.flex!=null){t.width=null;t.flex=z.flex}}},getColumnState:function(){var l=this,m=l.items.items,k={id:l.getStateId()};l.savePropsToState(["hidden","sortable","locked","flex","width"],k);if(l.isGroupHeader&&m&&m.length){k.columns=l.getColumnsState()}if("width" in k){delete k.flex}return k},setText:function(k){var l=this,m;l.text=k;if(l.rendered){m=l.getView().ownerGrid;l.textInnerEl.setHtml(k);l.titleEl.toggleCls("x-column-header-inner-empty",l.isEmptyText(k));m.syncHeaderVisibility()}},getIndex:function(){return this.isGroupColumn?false:this.getRootHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.visibleIndex!=null?this.visibleIndex:this.isGroupColumn?false:Ext.Array.indexOf(this.getRootHeaderCt().getVisibleGridColumns(),this)},getLabelChain:function(){var k=this,l=[],m;while((m=k.up("headercontainer"))){if(m.text){l.unshift(Ext.util.Format.stripTags(m.text))}k=m}return l},beforeRender:function(){var o=this,q=o.getRootHeaderCt(),n=o.isSortable(),m=[],p;Ext.grid.header.Container.prototype.beforeRender.call(this);if(!o.requiresMenu&&!n&&!o.groupable&&!o.lockable&&(q.grid.enableColumnHide===false||!q.getHideableColumns().length)){o.menuDisabled=true}if(o.cellWrap){o.variableRowHeight=true}p=o.ariaRenderAttributes||(o.ariaRenderAttributes={});p["aria-readonly"]=true;if(n){p["aria-sort"]=o.ariaSortStates[o.sortState]}if(o.isSubHeader){m=o.getLabelChain();if(o.text){m.push(Ext.util.Format.stripTags(o.text))}if(m.length){p["aria-label"]=m.join(" ")}}o.protoEl.unselectable()},getTriggerElWidth:function(){var k=this,l=k.triggerEl,m=k.self.triggerElWidth;if(l&&m===undefined){l.setStyle("display","block");m=k.self.triggerElWidth=l.getWidth();l.setStyle("display","")}return m},afterComponentLayout:function(p,t,s,n){var o=this,q=o.getRootHeaderCt();Ext.grid.header.Container.prototype.afterComponentLayout.apply(this,arguments);if(q&&(s!=null||o.flex)&&p!==s){q.onHeaderResize(o,p)}},doDestroy:function(){Ext.destroy(this.field,this.editor);Ext.grid.header.Container.prototype.doDestroy.call(this)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(e){if(this.triggerEl){this.onTitleElClick(e,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(e){this.onTitleElClick(e,this.el.dom)},onTitleElDblClick:function(n){var p=this,q,o,e;if(p.isAtStartEdge(n)){q=p.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(q&&q.getRootHeaderCt()===p.getRootHeaderCt()){q.autoSize()}}else{if(p.isAtEndEdge(n)){if(p.isGroupHeader&&n.getPoint().isContainedBy(p.layout.innerCt)){o=p.query("gridcolumn:not([hidden]):not([isGroupHeader])");p.getRootHeaderCt().autoSizeColumn(o[o.length-1]);return}else{e=p.getRootHeaderCt();if(e.visibleColumnManager.getColumns().length===1&&e.forceFit){return}}p.autoSize()}}},autoSize:function(){var p=this,o,m,q,n;if(p.isGroupHeader){o=p.query("gridcolumn:not([hidden]):not([isGroupHeader])");m=o.length;n=p.getRootHeaderCt();Ext.suspendLayouts();for(q=0;q<m;q++){n.autoSizeColumn(o[q])}Ext.resumeLayouts(true);if(grid.ownerGrid.lockable&&grid.isLayoutRoot()){grid.ownerGrid.syncLockableLayout()}return}p.getRootHeaderCt().autoSizeColumn(p)},isEmptyText:function(f){return f==null||f==="&#160;"||f===" "||f===""},onTitleElClick:function(u,q,p){var e=this,t,s,v;if(u.pointerType==="touch"){s=e.previousSibling(":not([hidden])");if(!e.menuDisabled){v=parseInt(e.triggerEl.getStyle("width"),10);if(isNaN(v)){v=e.getHandleWidth(u)*3}if(e.isAtEndEdge(u,v)){t=e}}if(!t&&s&&!s.menuDisabled&&e.isAtStartEdge(u)){t=s}}else{t=e.triggerEl&&(u.target===e.triggerEl.dom||q===e.triggerEl||u.within(e.triggerEl))?e:null}if(p!==false&&(!t&&!e.isAtStartEdge(u)&&!e.isAtEndEdge(u)||u.getKey())){e.toggleSortState()}return t},processEvent:function(e,q,s,p,o,t){return this.fireEvent.apply(this,arguments)},isSortable:function(){var l=this.getRootHeaderCt(),m=l?l.grid:null,k=this.sortable;if(m&&m.sortableColumns===false){k=false}return k},toggleSortState:function(){if(this.isSortable()){this.sort()}},sort:function(n){var o=this,p=o.up("tablepanel"),q=p.store,m=o.getSorter();Ext.suspendLayouts();if(m){if(n){m.setDirection(n)}q.sort(m,p.multiColumnSort?"multi":"replace")}else{q.sort(o.getSortParam(),n,p.multiColumnSort?"multi":"replace")}Ext.resumeLayouts(true);if(p.ownerGrid.lockable&&p.isLayoutRoot()){p.ownerGrid.syncLockableLayout()}},getSortParam:function(){return this.dataIndex},setSortState:function(w){var s=this,q=w&&w.getDirection(),x=s.ascSortCls,u=s.descSortCls,t=s.getRootHeaderCt(),v=s.ariaEl.dom,p;switch(q){case"DESC":if(!s.hasCls(u)){s.addCls(u);s.sortState="DESC";p=true}s.removeCls(x);break;case"ASC":if(!s.hasCls(x)){s.addCls(x);s.sortState="ASC";p=true}s.removeCls(u);break;default:s.removeCls([x,u]);s.sortState=null;break}if(v){if(s.sortState){v.setAttribute("aria-sort",s.ariaSortStates[s.sortState])}else{v.removeAttribute("aria-sort")}}if(p){t.fireEvent("sortchange",t,s,q)}},isHideable:function(){var f={hideCandidate:this,result:this.hideable};if(f.result){this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[f])}return f.result},hasOtherMenuEnabledChildren:function(m){var l,k;if(!this.isXType("headercontainer")){m.result=false;return false}l=this.query(">gridcolumn:not([hidden]):not([menuDisabled])");k=l.length;if(Ext.Array.contains(l,m.hideCandidate)){k--}if(k){return false}m.hideCandidate=this},isLockable:function(){var f={result:this.lockable!==false};if(f.result){this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[f])}return f.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(f){if(!this.isXType("headercontainer")){f.result=false;return false}if(this.query(">gridcolumn:not([hidden])").length>1){return false}},hide:function(){var k=this,l=k.getRootHeaderCt(),m=k.getRefOwner();if(m.constructing){Ext.grid.header.Container.prototype.hide.call(this);return k}if(k.rendered&&!k.isVisible()){return k}if(l.forceFit){k.visibleSiblingCount=l.getVisibleGridColumns().length-1;if(k.flex){k.savedWidth=k.getWidth();k.flex=null}}l.beginChildHide();Ext.suspendLayouts();if(m.isGroupHeader){if(k.isNestedGroupHeader()){m.hide()}if(k.isSubHeader&&!k.isGroupHeader&&m.query(">gridcolumn:not([hidden])").length===1){m.lastHiddenHeader=k}}Ext.grid.header.Container.prototype.hide.call(this);l.endChildHide();l.onHeaderHide(k);Ext.resumeLayouts(true);if(l.grid.ownerGrid.lockable&&l.grid.isLayoutRoot()){l.grid.ownerGrid.syncLockableLayout()}return k},show:function(){var k=this,m=k.getRootHeaderCt(),l=k.getRefOwner();if(k.isVisible()){return k}if(l.isGroupHeader){l.lastHiddenHeader=null}if(k.rendered){if(m.forceFit){m.applyForceFit(k)}}Ext.suspendLayouts();if(k.isSubHeader&&l.hidden){l.show(false,true)}Ext.grid.header.Container.prototype.show.apply(this,arguments);if(k.isGroupHeader){k.maybeShowNestedGroupHeader()}l=k.getRootHeaderCt();if(l){l.onHeaderShow(k)}Ext.resumeLayouts(true);if(m.grid.ownerGrid.lockable&&m.grid.isLayoutRoot()){m.grid.ownerGrid.syncLockableLayout()}return k},shouldUpdateCell:function(p,n){if(!this.preventUpdate){if(this.hasCustomRenderer){return 1}if(n){var q=n.length,o,m;for(o=0;o<q;++o){m=n[o];if(m===this.dataIndex||m===p.idProperty){return 2}}}else{return 2}}},getCellWidth:function(){var g=this,k;if(g.rendered&&g.componentLayout&&g.componentLayout.lastComponentSize){k=g.componentLayout.lastComponentSize.width}else{if(g.width){k=g.width}else{if(!g.isColumn){k=g.getTableWidth()}}}return k},getCellId:function(){return"x-grid-cell-"+this.getItemId()},getCellSelector:function(){var f=this.getView();return(f?f.getCellSelector():"")+"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" .x-grid-cell-inner"},isAtStartEdge:function(k){var e=k.getXY()[0]-this.getX();if(e<0&&this.getIndex()===0){return false}return(e<this.getHandleWidth(k))},isAtEndEdge:function(e,k){return(this.getX()+this.getWidth()-e.getXY()[0]<=(k||this.getHandleWidth(e)))},getHandleWidth:function(e){return e.pointerType==="touch"?10:4},setMenuActive:function(f){this.activeMenu=f;this.titleEl[f?"addCls":"removeCls"](this.headerOpenCls)},privates:{_alignMap:{start:"left",end:"right"},afterText:function(g,k){if(this.dirtyText){this.dirtyTextElementId=this.id+"-dirty-cell-text";g.push('<span id="'+this.dirtyTextElementId+'" class="x-hidden-offsets">'+this.dirtyText+"</span>")}},calculateHeaderId:function(){var p=this,o,v,t,q,s,u;if(!p.headerId){o=p.up("tablepanel");if(!o){return}t=p.items.items;if(t){for(s=0,u=t.length;s<u;++s){q=t[s];if(q.isColumn){q.calculateHeaderId()}}}v=o?o.ownerGrid:p.getRootHeaderCt();v.headerCounter=(v.headerCounter||0)+1;p.headerId="h"+v.headerCounter}p.configureStateInfo()},configureStateInfo:function(){var k=this,g;if(!k.stateId){k.stateId=k.initialConfig.id||k.headerId}g=k.getSorter();if(!k.hasSetSorter&&g&&!g.initialConfig.id){if(k.dataIndex||k.stateId){g.setId((k.dataIndex||k.stateId)+"-sorter");k.hasSetSorter=true}}}},deprecated:{5:{methods:{bindRenderer:function(f){return function(e){return Ext.util.Format[f](e)}}}}}},0,["gridcolumn"],["component","box","container","headercontainer","gridcolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true},["widget.gridcolumn"],0,[Ext.grid.column,"Column",Ext.grid,"Column"],0));Ext.define("Ext.theme.triton.grid.column.Column",{override:"Ext.grid.column.Column",compatibility:Ext.isIE8,onTitleMouseOver:function(){var f=this.triggerEl;arguments.callee.$previous.apply(this,arguments);if(f){f.syncRepaint()}}});(Ext.cmd.derive("Ext.grid.column.ActionProxy",Ext.Base,{constructor:function(l,k,m){this.column=l;this.item=k;this.itemIndex=m},setHandler:function(f){this.item.handler=f},setDisabled:function(f){if(f){this.column.disableAction(this.itemIndex)}else{this.column.enableAction(this.itemIndex)}},setIconCls:function(f){this.item.iconCls=f;this.column.getView().refreshView()},setIconGlyph:function(f){this.item.glyph=f;this.column.getView().refreshView()},setHidden:function(f){this.item.hidden=f;this.column.getView().refreshView()},setVisible:function(f){this.setHidden(!f)},on:function(){return this.column.on.apply(this.column,arguments)}},1,0,0,0,0,0,[Ext.grid.column,"ActionProxy"],0));(Ext.cmd.derive("Ext.grid.column.Action",Ext.grid.column.Column,{alternateClassName:"Ext.grid.ActionColumn",stopSelection:true,actionIdRe:new RegExp("x-action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",itemTabIndex:0,itemAriaRole:"button",maskOnDisable:false,ignoreExport:true,sortable:false,innerCls:"x-grid-cell-inner-action-col",actionIconCls:"x-action-col-icon",constructor:function(s){var x=this,u=Ext.apply({},s),t=u.items||x.items||[x],w,q,v,p;x.origRenderer=u.renderer||x.renderer;x.origScope=u.scope||x.scope;x.renderer=x.scope=u.renderer=u.scope=null;u.items=null;Ext.grid.column.Column.prototype.constructor.call(this,u);x.items=t;for(q=0,v=t.length;q<v;++q){p=t[q];if(p.substr&&p[0]==="@"){p=x.getAction(p.substr(1))}if(p.isAction){t[q]=p.initialConfig;p.addComponent(new Ext.grid.column.ActionProxy(x,t[q],q))}if(p.getClass){w=true}}if(x.origRenderer||w){x.hasCustomRenderer=true}},initComponent:function(){var f=this;Ext.grid.column.Column.prototype.initComponent.call(this);if(f.sortable&&!f.dataIndex){f.sortable=false}},defaultRenderer:function(N,G,V,W,H,R,I){var L=this,X=L.origScope||L,F=L.items,v=F.length,E,M,K,T,S,Q,P,O,U,J;K=Ext.isFunction(L.origRenderer)?L.origRenderer.apply(X,arguments)||"":"";G.tdCls+=" x-action-col-cell";for(E=0;E<v;E++){M=F[E];P=M.icon;O=M.glyph;T=M.disabled||(M.isDisabled?Ext.callback(M.isDisabled,M.scope||L.origScope,[I,W,H,M,V],0,L):false);S=M.tooltip||(M.getTip?Ext.callback(M.getTip,M.scope||L.origScope,arguments,0,L):null);Q=M.getAltText?Ext.callback(M.getAltText,M.scope||L.origScope,arguments,0,L):M.altText||L.altText;if(!M.hasActionConfiguration){M.stopSelection=L.stopSelection;M.disable=Ext.Function.bind(L.disableAction,L,[E],0);M.enable=Ext.Function.bind(L.enableAction,L,[E],0);M.hasActionConfiguration=true}if(O){O=Ext.Glyph.fly(O)}U=(M!==L&&M.tabIndex!==undefined)?M.tabIndex:L.itemTabIndex;J=(M!==L&&M.ariaRole!==undefined)?M.ariaRole:L.itemAriaRole;K+="<"+(P?"img":"div")+(typeof U==="number"?' tabIndex="'+U+'"':"")+(J?' role="'+J+'"':' role="presentation"')+(P?(' alt="'+Q+'" src="'+M.icon+'"'):"")+' class="'+L.actionIconCls+" x-action-col-"+String(E)+" "+(T?L.disabledCls+" ":" ")+(M.hidden?"x-hidden-display ":"")+(M.getClass?Ext.callback(M.getClass,M.scope||L.origScope,arguments,undefined,L):(M.iconCls||L.iconCls||""))+'"'+(S?' data-qtip="'+S+'"':"")+(P?"/>":O?(' style="font-family:'+O.fontFamily+'">'+O.character+"</div>"):"></div>")}return K},updater:function(t,o,q,s,n){var p={};Ext.fly(t).addCls(p.tdCls).down(this.getView().innerSelector,true).innerHTML=this.defaultRenderer(o,p,q,null,null,n,s)},enableAction:function(l,m){var k=this;if(!l){l=0}else{if(!Ext.isNumber(l)){l=Ext.Array.indexOf(k.items,l)}}k.items[l].disabled=false;k.up("tablepanel").el.select(".x-action-col-"+l).removeCls(k.disabledCls);if(!m){k.fireEvent("enable",k)}},disableAction:function(l,m){var k=this;if(!l){l=0}else{if(!Ext.isNumber(l)){l=Ext.Array.indexOf(k.items,l)}}k.items[l].disabled=true;k.up("tablepanel").el.select(".x-action-col-"+l).addCls(k.disabledCls);if(!m){k.fireEvent("disable",k)}},doDestroy:function(){this.renderer=this.items=null;return Ext.grid.column.Column.prototype.doDestroy.call(this)},processEvent:function(e,K,I,E,L,z,C,G){var y=this,A=z.getTarget(),J=e==="keydown"&&z.getKey(),D,H,F,B=Ext.fly(I);z.stopSelection=!J&&y.stopSelection;if(J&&(A===I||!B.contains(A))){A=B.query("."+y.actionIconCls,true);if(A.length===1){A=A[0]}else{return}}if(A&&(D=A.className.match(y.actionIdRe))){H=y.items[parseInt(D[1],10)];F=H.disabled||(H.isDisabled?Ext.callback(H.isDisabled,H.scope||y.origScope,[K,E,L,H,C],0,y):false);if(H&&!F){if(e==="mousedown"&&!y.getView().actionableMode){z.preventDefault()}else{if(e==="click"||(J===z.ENTER||J===z.SPACE)){Ext.callback(H.handler||y.handler,H.scope||y.origScope,[K,E,L,H,z,C,G],undefined,y);if(K.destroyed){return false}else{if(!z.position.getNode()){z.position.refresh()}if(!K.el.contains(Ext.Element.getActiveElement())){return false}}}}}}return Ext.grid.column.Column.prototype.processEvent.apply(this,arguments)},cascade:function(g,k){g.call(k||this,this)},getRefItems:function(){return[]},privates:{getFocusables:function(){return[]},shouldUpdateCell:function(){return 2}}},1,["actioncolumn"],["component","box","container","headercontainer","gridcolumn","actioncolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,actioncolumn:true},["widget.actioncolumn"],0,[Ext.grid.column,"Action",Ext.grid,"ActionColumn"],0));(Ext.cmd.derive("Ext.grid.column.Boolean",Ext.grid.column.Column,{alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultFilterType:"boolean",producesHTML:false,defaultRenderer:function(f){if(f===undefined){return this.undefinedText}if(!f||f==="false"){return this.falseText}return this.trueText},updater:function(k,g){Ext.fly(k).down(this.getView().innerSelector,true).innerHTML=Ext.grid.column.Boolean.prototype.defaultRenderer.call(this,g)}},0,["booleancolumn"],["component","box","container","headercontainer","gridcolumn","booleancolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,booleancolumn:true},["widget.booleancolumn"],0,[Ext.grid.column,"Boolean",Ext.grid,"BooleanColumn"],0));(Ext.cmd.derive("Ext.grid.column.Check",Ext.grid.column.Column,{alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],isCheckColumn:true,config:{headerCheckbox:false},align:"center",triggerEvent:"click",invert:false,ignoreExport:true,stopSelection:true,headerCheckedCls:"x-grid-hd-checker-on",headerCheckboxCls:"x-column-header-checkbox",checkboxCls:"x-grid-checkcolumn",checkboxCheckedCls:"x-grid-checkcolumn-checked",innerCls:"x-grid-checkcolumn-cell-inner",clickTargetName:"el",defaultFilterType:"boolean",checkboxAriaRole:"button",constructor:function(f){this.updateHeaderState=Ext.Function.createAnimationFrame(f.updateHeaderState||this.updateHeaderState);this.scope=this;Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},afterComponentLayout:function(){var f=this;Ext.grid.column.Column.prototype.afterComponentLayout.apply(this,arguments);if(f.useAriaElements&&f.headerCheckbox){f.updateHeaderAriaDescription(f.areAllChecked())}if(!f.storeListeners){f.updateHeaderState();f.storeListeners=f.getView().dataSource.on({datachanged:f.onDataChanged,scope:f,destroyable:true})}},onRemoved:function(){Ext.grid.column.Column.prototype.onRemoved.apply(this,arguments);this.storeListeners=Ext.destroy(this.storeListeners)},onDataChanged:function(g,k){this.updateHeaderState()},updateHeaderCheckbox:function(l){var k=this,m="x-column-header-checkbox";if(l){k.addCls(m);k.sortable=false;if(k.useAriaElements){k.updateHeaderAriaDescription(k.areAllChecked())}}else{k.removeCls(m);if(k.useAriaElements&&k.ariaEl.dom){k.ariaEl.dom.removeAttribute("aria-describedby")}}k.updateHeaderState()},processEvent:function(y,e,G,D,x,A,C,F){var z=this,H=y==="keydown"&&A.getKey(),I=y===z.triggerEvent,E=z.disabled,B,J;A.stopSelection=!H&&z.stopSelection;if(!E&&(I||(H===A.ENTER||H===A.SPACE))){J=!z.isRecordChecked(C);if(z.fireEvent("beforecheckchange",z,D,J,C,A)!==false){z.setRecordCheck(C,D,J,G,A);if(I&&!e.actionableMode){A.preventDefault()}if(z.hasListeners.checkchange){z.fireEvent("checkchange",z,D,J,C,A)}}}else{B=Ext.grid.column.Column.prototype.processEvent.apply(this,arguments)}return B},onTitleElClick:function(e,o,n){var m=this;if(!m.disabled&&(e.keyCode||!m.text||(Ext.fly(e.target).hasCls(m.headerCheckboxCls)))){m.toggleAll(e)}else{return Ext.grid.column.Column.prototype.onTitleElClick.call(this,e,o,n)}},toggleAll:function(w){var x=this,s=x.getView(),q=s.getStore(),e=!x.allChecked,t,v,u;if(x.fireEvent("beforeheadercheckchange",x,e,w)!==false){if(x.hasListeners.checkchange||x.hasListeners.beforecheckchange){t=w.position=new Ext.grid.CellContext(s)}q.each(function(g,f){x.setRecordCheck(g,f,e,s.getCell(g,x))});x.setHeaderStatus(e,w);x.fireEvent("headercheckchange",x,e,w)}},setHeaderStatus:function(l,e){var m=this;if(m.allChecked!==l){m.allChecked=l;if(m.headerCheckbox){m[l?"addCls":"removeCls"](m.headerCheckedCls);if(m.useAriaElements){m.updateHeaderAriaDescription(l)}}}},updateHeaderState:function(e){if(!this.destroyed&&this.headerCheckbox){this.setHeaderStatus(this.areAllChecked(),e)}},onEnable:function(){Ext.grid.column.Column.prototype.onEnable.apply(this,arguments);this._setDisabled(false)},onDisable:function(){this._setDisabled(true)},_setDisabled:function(m){var l=this,o=l.disabledCls,n;n=l.up("tablepanel").el.select(l.getCellSelector());if(m){n.addCls(o)}else{n.removeCls(o)}},defaultRenderer:function(m,p){var o=this,q=o.checkboxCls,n=o.tooltip;if(o.invert){m=!m}if(o.disabled){p.tdCls+=" "+o.disabledCls}if(m){q+=" "+o.checkboxCheckedCls;n=o.checkedTooltip||n}if(o.useAriaElements){p.tdAttr+=' aria-describedby="'+o.id+"-cell-description"+(!m?"-not":"")+'-selected"'}o.updateHeaderState();return"<span "+(n||"")+' class="'+q+'" role="'+o.checkboxAriaRole+'"'+(!o.ariaStaticRoles[o.checkboxAriaRole]?' tabIndex="0"':"")+"></span>"},isRecordChecked:function(k){var g=this.property;if(g){return k[g]}return k.get(this.dataIndex)},areAllChecked:function(){var m=this,o=m.getView().getStore(),p,q,n;if(!o.isBufferedStore&&o.getCount()>0){p=o.getData().items;q=p.length;for(n=0;n<q;++n){if(!m.isRecordChecked(p[n])){return false}}return true}},setRecordCheck:function(s,q,o,t){var p=this,v=p.property,u;if(v?s[v]:s.get(p.dataIndex)!=o){if(v){s[v]=o;p.updater(t,o)}else{s.set(p.dataIndex,o)}}},updater:function(o,l){var n=this,m=n.tooltip;if(n.invert){l=!l}if(l){m=n.checkedTooltip||m}if(m){o.setAttribute("data-qtip",m)}else{o.removeAttribute("data-qtip")}o=Ext.fly(o);if(n.useAriaElements){n.updateCellAriaDescription(null,l,o)}o[n.disabled?"addCls":"removeCls"](n.disabledCls);Ext.fly(o.down(n.getView().innerSelector,true).firstChild)[l?"addCls":"removeCls"]("x-grid-checkcolumn-checked");n.updateHeaderState()},updateHeaderAriaDescription:function(k){var g=this;if(g.useAriaElements&&g.ariaEl.dom){g.ariaEl.dom.setAttribute("aria-describedby",g.id+"-header-description"+(!k?"-not":"")+"-selected")}},updateCellAriaDescription:function(n,m,o){var l=this;if(l.useAriaElements){o=o||l.getView().getCell(n,l);if(o){o.dom.setAttribute("aria-describedby",l.id+"-cell-description"+(!m?"-not":"")+"-selected")}}},privates:{afterText:function(n,o){var m=this,l=m.id;n.push('<span role="presentation" class="',m.headerCheckboxCls,'"></span>');if(m.useAriaElements){n.push('<span id="'+l+'-header-description-selected" class="x-hidden-offsets">'+m.headerDeselectText+'</span><span id="'+l+'-header-description-not-selected" class="x-hidden-offsets">'+m.headerSelectText+'</span><span id="'+l+'-cell-description-selected" class="x-hidden-offsets">'+m.rowDeselectText+'</span><span id="'+l+'-cell-description-not-selected" class="x-hidden-offsets">'+m.rowSelectText+"</span>")}}}},1,["checkcolumn"],["component","box","container","headercontainer","gridcolumn","checkcolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,checkcolumn:true},["widget.checkcolumn"],0,[Ext.grid.column,"Check",Ext.ux,"CheckColumn",Ext.grid.column,"CheckColumn"],0));Ext.define("Ext.theme.triton.grid.column.Check",{override:"Ext.grid.column.Check",compatibility:Ext.isIE8,setRecordCheck:function(l,k,m){arguments.callee.$previous.call(this,l,k,m);m.syncRepaint()}});(Ext.cmd.derive("Ext.grid.column.Date",Ext.grid.column.Column,{alternateClassName:"Ext.grid.DateColumn",isDateColumn:true,defaultFilterType:"date",producesHTML:false,initComponent:function(){if(!this.format){this.format=Ext.Date.defaultFormat}Ext.grid.column.Column.prototype.initComponent.apply(this,arguments)},defaultRenderer:function(f){return Ext.util.Format.date(f,this.format)},updater:function(k,g){Ext.fly(k).down(this.getView().innerSelector,true).innerHTML=Ext.grid.column.Date.prototype.defaultRenderer.call(this,g)}},0,["datecolumn"],["component","box","container","headercontainer","gridcolumn","datecolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,datecolumn:true},["widget.datecolumn"],0,[Ext.grid.column,"Date",Ext.grid,"DateColumn"],0));(Ext.cmd.derive("Ext.grid.column.Number",Ext.grid.column.Column,{alternateClassName:"Ext.grid.NumberColumn",defaultFilterType:"number",format:"0,000.00",producesHTML:false,defaultRenderer:function(f){return Ext.util.Format.number(f,this.format)},updater:function(k,g){Ext.fly(k).down(this.getView().innerSelector,true).innerHTML=Ext.grid.column.Number.prototype.defaultRenderer.call(this,g)}},0,["numbercolumn"],["component","box","container","headercontainer","gridcolumn","numbercolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,numbercolumn:true},["widget.numbercolumn"],0,[Ext.grid.column,"Number",Ext.grid,"NumberColumn"],0));(Ext.cmd.derive("Ext.grid.column.RowNumberer",Ext.grid.column.Column,{alternateClassName:"Ext.grid.RowNumberer",isRowNumberer:true,text:"&#160;",width:23,sortable:false,draggable:false,autoLock:true,lockable:false,align:"right",producesHTML:false,ignoreExport:true,constructor:function(k){var g=this;g.width=g.width;Ext.grid.column.Column.prototype.constructor.apply(this,arguments);g.sortable=false;g.scope=g},resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:"x-row-numberer",tdCls:"x-grid-cell-row-numberer x-grid-cell-special",innerCls:"x-grid-cell-inner-row-numberer",rowspan:undefined,defaultRenderer:function(t,A,w,z,x,B,u){var y=this.rowspan,v=B.currentPage,s=u.store.indexOf(w);if(A&&y){A.tdAttr='rowspan="'+y+'"'}if(v>1){s+=(v-1)*B.pageSize}return s+1},updater:function(q,n,o,p,m){Ext.fly(q).down(this.getView().innerSelector,true).innerHTML=this.defaultRenderer(n,null,o,null,null,m,p)}},1,["rownumberer"],["component","box","container","headercontainer","gridcolumn","rownumberer"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,rownumberer:true},["widget.rownumberer"],0,[Ext.grid.column,"RowNumberer",Ext.grid,"RowNumberer"],0));Ext.define("Ext.theme.neptune.grid.column.RowNumberer",{override:"Ext.grid.column.RowNumberer",width:25});Ext.define("Ext.theme.triton.grid.column.RowNumberer",{override:"Ext.grid.column.RowNumberer",width:32});(Ext.cmd.derive("Ext.grid.column.Template",Ext.grid.column.Column,{alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var f=this;f.tpl=(!Ext.isPrimitive(f.tpl)&&f.tpl.compile)?f.tpl:new Ext.XTemplate(f.tpl);f.hasCustomRenderer=true;Ext.grid.column.Column.prototype.initComponent.apply(this,arguments)},defaultRenderer:function(m,l,o){var n=Ext.apply({},o.data,o.getAssociatedData());return this.tpl.apply(n)},updater:function(k,g){Ext.fly(k).down(this.getView().innerSelector,true).innerHTML=Ext.grid.column.CheckColumn.prototype.defaultRenderer.call(this,g)}},0,["templatecolumn"],["component","box","container","headercontainer","gridcolumn","templatecolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,templatecolumn:true},["widget.templatecolumn"],0,[Ext.grid.column,"Template",Ext.grid,"TemplateColumn"],0));(Ext.cmd.derive("Ext.grid.column.Widget",Ext.grid.column.Column,{config:{defaultWidgetUI:{}},ignoreExport:true,sortable:false,onWidgetAttach:null,preventUpdate:true,innerCls:"x-grid-widgetcolumn-cell-inner",stopSelection:true,initComponent:function(){var k=this,g;Ext.grid.column.Column.prototype.initComponent.apply(this,arguments);g=k.widget;k.widget=g=Ext.apply({},g);if(!g.ui){g.ui=k.getDefaultWidgetUI()[g.xtype]||"default"}k.isFixedSize=Ext.isNumber(g.width)},processEvent:function(v,t,s,z,u,w,y,e){var x;if(this.stopSelection&&v==="click"){x=w.getTarget(t.innerSelector);if(x&&x!==w.target){w.stopSelection=true}}},beforeRender:function(){var m=this,k=m.tdCls,l;m.listenerScopeFn=function(e){if(e==="this"){return this}return m.resolveListenerScope(e)};l=Ext.widget(m.widget);m.bindDataIndex=m.dataIndex&&l.defaultBindProperty&&!l.bind;k=k?k+" ":"";m.tdCls=k+l.getTdCls();m.setupViewListeners(m.getView());Ext.grid.column.Column.prototype.beforeRender.call(this);l.destroy()},afterRender:function(){var f=this.getView();Ext.grid.column.Column.prototype.afterRender.call(this);if(f&&f.viewReady&&!f.ownerGrid.reconfiguring){this.onViewRefresh(f,f.getViewRange())}},defaultRenderer:Ext.emptyFn,updater:function(m,k,l){this.updateWidget(l)},onCellsResized:function(v){var o=this,s=o.ownerGrid.getManagedWidgets(o.getId()),t=s.length,q=o.getView(),p,u;if(!o.isFixedSize&&o.rendered&&q&&q.viewReady){u=q.getEl().down(o.getCellInnerSelector());if(u){v-=parseInt(o.getCachedStyle(u,"padding-left"),10)+parseInt(o.getCachedStyle(u,"padding-right"),10);for(p=0;p<t;++p){s[p].ownerLayout=null;s[p].setWidth(v);s[p].ownerLayout=q.componentLayout}}}},onAdded:function(){var g=this,k;Ext.grid.column.Column.prototype.onAdded.apply(this,arguments);g.ownerGrid=g.up("tablepanel").ownerGrid;k=g.getView();if(k){g.setupViewListeners(k)}},onRemoved:function(g){var k=this.viewListeners;if(k){Ext.destroy(k)}if(g){this.ownerGrid.destroyManagedWidgets(this.getId())}Ext.grid.column.Column.prototype.onRemoved.apply(this,arguments)},doDestroy:function(){this.ownerGrid.destroyManagedWidgets(this.getId());Ext.grid.column.Column.prototype.doDestroy.call(this)},privates:{getWidget:function(l){var k=this,m=null;if(l){m=k.ownerGrid.createManagedWidget(k.getId(),k.widget,l);m.resolveListenerScope=k.listenerScopeFn;m.getWidgetRecord=k.widgetRecordDecorator;m.getWidgetColumn=k.widgetColumnDecorator;m.measurer=k;m.ownerCmp=k.getView();m.isLayoutChild=k.returnFalse}return m},onItemAdd:function(D){var w=this,J=w.getView(),x=!!w.onWidgetAttach,I=w.dataIndex,H=w.isFixedSize,y=D.length,C,A,G,B,E,z,F;if(w.isVisible(true)){for(C=0;C<y;C++){A=D[C];if(A.isNonData){continue}G=J.getCell(A,w);if(G){G=G.dom.firstChild;if(!H&&!F&&w.lastBox){F=w.lastBox.width-parseInt(w.getCachedStyle(G,"padding-left"),10)-parseInt(w.getCachedStyle(G,"padding-right"),10)}B=w.getWidget(A);B.$widgetColumn=w;B.$widgetRecord=A;Ext.fly(G).empty();if(B.defaultBindProperty&&I){B.setConfig(B.defaultBindProperty,A.get(I))}E=B.el||B.element;if(E){G.appendChild(E.dom);if(!H){B.setWidth(F)}B.reattachToBody()}else{if(!H){B.width=F||100}B.render(G)}if(x){Ext.callback(w.onWidgetAttach,w.scope,[w,B,A],0,w)}z=B.getFocusEl();if(z){if(J.actionableMode){if(!z.isTabbable()){z.restoreTabbableState()}}else{if(z.isTabbable()){z.saveTabbableState()}}}}}}else{J.refreshNeeded=true}},onItemUpdate:function(m,l,k){this.updateWidget(m)},onViewRefresh:function(k,g){Ext.suspendLayouts();this.onItemAdd(g);Ext.resumeLayouts(true)},returnFalse:function(){return false},setupViewListeners:function(m){var k=this,l={refresh:k.onViewRefresh,itemadd:k.onItemAdd,scope:k,destroyable:true};if(k.bindDataIndex){l.itemUpdate=k.onItemUpdate}k.viewListeners=m.on(l)},updateWidget:function(m){var l=this.dataIndex,k;if(this.rendered&&this.bindDataIndex){k=this.getWidget(m);if(k){k.setConfig(k.defaultBindProperty,m.get(l))}}},widgetRecordDecorator:function(){return this.$widgetRecord},widgetColumnDecorator:function(){return this.$widgetColumn}}},0,["widgetcolumn"],["component","box","container","headercontainer","gridcolumn","widgetcolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,widgetcolumn:true},["widget.widgetcolumn"],[[Ext.mixin.StyleCacher.prototype.mixinId||Ext.mixin.StyleCacher.$className,Ext.mixin.StyleCacher]],[Ext.grid.column,"Widget"],0));(Ext.cmd.derive("Ext.grid.feature.Feature",Ext.util.Observable,{wrapsItem:false,isFeature:true,disabled:false,hasFeatureEvent:true,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(f){this.initialConfig=f;Ext.util.Observable.prototype.constructor.apply(this,arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,getFireEventArgs:function(n,o,m,e){return[n,o,m,e]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true}},1,0,0,0,["feature.feature"],0,[Ext.grid.feature,"Feature"],0));(Ext.cmd.derive("Ext.grid.feature.AbstractSummary",Ext.grid.feature.Feature,{summaryRowCls:"x-grid-row-summary",readDataOptions:{recordCreator:Ext.identityFn},summaryRowTpl:{fn:function(l,m,k){if(m.record.isSummary&&this.summaryFeature.showSummaryRow){this.summaryFeature.outputSummaryRecord(m.record,m,l,k)}else{this.nextTpl.applyOut(m,l,k)}},priority:1000},showSummaryRow:true,init:function(){var f=this;f.view.summaryFeature=f;f.rowTpl=f.view.self.prototype.rowTpl;f.view.addRowTpl(f.summaryRowTpl).summaryFeature=f;f.summaryData={};f.groupInfo={};if(!f.summaryTableCls){f.summaryTableCls="x-grid-item"}f.summaryRowSelector="."+f.summaryRowCls},bindStore:function(l,m){var k=this;Ext.destroy(k.readerListeners);if(k.remoteRoot){k.readerListeners=m.getProxy().getReader().on({scope:k,destroyable:true,rawdata:k.onReaderRawData})}},onReaderRawData:function(f){this.summaryRows=null;this.readerRawData=f},toggleSummaryRow:function(m,q){var n=this,o=n.showSummaryRow,p;m=m!=null?!!m:!n.showSummaryRow;n.showSummaryRow=m;if(m&&m!==o){n.updateSummaryRow=true}if(n.lockingPartner){if(!q){n.lockingPartner.toggleSummaryRow(m,true);p=true}}else{p=true}if(p){n.grid.ownerGrid.getView().refresh()}},createRenderer:function(o,s){var n=this,q=s.ownerGroup,t=q?n.summaryData[q]:n.summaryData,p=o.dataIndex||o.getItemId();return function(e,f){return o.summaryRenderer?o.summaryRenderer(s.data[p],t,p,f):s.data[p]}},outputSummaryRecord:function(w,s,y){var v=s.view,B=v.rowValues,z=s.columns||v.headerCt.getVisibleGridColumns(),t=z.length,x,A,u={view:v,record:w,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:v.getRowId(w),columns:z};for(x=0;x<t;x++){A=z[x];A.savedRenderer=A.renderer;if(A.summaryType||A.summaryRenderer){A.renderer=this.createRenderer(A,w)}else{A.renderer=Ext.emptyFn}}v.rowValues=u;v.self.prototype.rowTpl.applyOut(u,y,parent);v.rowValues=B;for(x=0;x<t;x++){A=z[x];A.renderer=A.savedRenderer;A.savedRenderer=null}},getSummary:function(t,s,n,o){var p=!!o,q=p?o:t;if(s){if(Ext.isFunction(s)){if(p){return q.aggregate(n,s)}else{return q.aggregate(s,null,false,[n])}}switch(s){case"count":return q.count();case"min":return q.min(n);case"max":return q.max(n);case"sum":return q.sum(n);case"average":return q.average(n);default:return""}}},getRawData:function(){var f=this.readerRawData;if(f){return f}return this.view.getStore().getProxy().getReader().rawData},generateSummaryData:function(C){var y=this,E=y.summaryRows,v={},w={},x,A,D,B,z,E,F,u;if(!E){D=y.getRawData();if(!D){return}x=y.view.store.getProxy().getReader();A=Ext.create("reader."+x.type,x.getConfig());A.setRootProperty(y.remoteRoot);E=A.getRoot(D);if(E){F=[];if(!Ext.isArray(E)){E=[E]}z=E.length;for(B=0;B<z;++B){u=A.extractRecordData(E[B],y.readDataOptions);F.push(u)}y.summaryRows=E=F}A.destroy();y.readerRawData=null}if(E){for(B=0,z=E.length;B<z;B++){v=E[B];if(C){w[v[C]]=v}}}return C?w:v},setSummaryData:function(o,n,p,m){var q=this.summaryData;if(m){if(!q[m]){q[m]={}}q[m][n]=p}else{q[n]=p}},destroy:function(){Ext.destroy(this.readerListeners);this.readerRawData=this.summaryRows=null;Ext.grid.feature.Feature.prototype.destroy.call(this)}},0,0,0,0,["feature.abstractsummary"],0,[Ext.grid.feature,"AbstractSummary"],0));(Ext.cmd.derive("Ext.grid.feature.GroupStore",Ext.util.Observable,{isStore:true,defaultViewSize:100,isFeatureStore:true,badGrouperKey:"[object Object]",constructor:function(k,m){var l=this;Ext.util.Observable.prototype.constructor.call(this);l.groupingFeature=k;l.bindStore(m);if(!k.grid.isLocked){l.bindViewStoreListeners()}},bindStore:function(k){var g=this;if(!k||g.store!==k){Ext.destroy(g.storeListeners);g.store=null}if(k){g.storeListeners=k.on({datachanged:g.onDataChanged,groupchange:g.onGroupChange,idchanged:g.onIdChanged,update:g.onUpdate,scope:g,destroyable:true});g.store=k;g.processStore(k)}},bindViewStoreListeners:function(){var k=this.groupingFeature.view,g=k.getStoreListeners(this);g.scope=k;this.on(g)},processStore:function(Y){var P=this,N=P.groupingFeature,J=N.startCollapsed,O=P.data,F=Y.getGroups(),Z=F?F.length:0,R=Y.getGroupField(),V=F&&Ext.Array.unique(Ext.Object.getValues(F.itemGroupKeys)),aa=false,T=N.getCache(),G,H,ab,K,I,W,X,S,M,L,Q,U;N.invalidateCache();ab=N.getCache();if(O){O.clear()}else{O=P.data=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}})}if(Y.getCount()){N.startCollapsed=false;if(Z>0){U=Y.getModel();for(K=0;K<Z;K++){X=F.getAt(K);L=X.getGroupKey();if(P.badGrouperKey===L&&(W=N.getGrouper(R))){N.startCollapsed=J;Y.group(W);return}G=T[L];H=ab[L]=N.getMetaGroup(L);if(G){H.isCollapsed=G.isCollapsed}Ext.Array.splice(V,Ext.Array.indexOf(V,L),1);aa=H.isCollapsed=J||H.isCollapsed;if(aa){Q={};Q[R]=L;H.placeholder=M=new U(Q);M.isNonData=M.isCollapsedPlaceholder=true;M.groupKey=L;O.add(M)}else{O.insert(P.data.length,X.items)}}if(V.length){for(K=0,I=V.length;K<I;K++){S=V[K];ab[S]=T[S]}}T=null}else{O.add(Y.getRange())}}},isCollapsed:function(f){return this.groupingFeature.getCache()[f].isCollapsed},isLoading:function(){return false},getData:function(){return this.data},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(g,k){return k<this.getCount()},getRange:function(l,n,m){var o=this.data.getRange(l,Ext.isNumber(n)?n+1:n);if(m&&m.callback){m.callback.call(m.scope||this,o,l,n,m)}return o},getAt:function(f){return this.data.getAt(f)},getById:function(f){return this.store.getById(f)},getByInternalId:function(f){return this.store.getByInternalId(f)||this.data.byInternalId.get(f)},expandGroup:function(o){var q=this,p=q.groupingFeature,t,v,s,u;if(typeof o==="string"){o=p.getGroup(o)}if(o){u=o.items;t=p.getMetaGroup(o);v=t.placeholder}if(u.length&&(s=q.data.indexOf(v))!==-1){t.isCollapsed=false;q.isExpandingOrCollapsing=1;q.data.removeAt(s);q.data.insert(s,o.items);q.fireEvent("replace",q,s,[v],o.items);q.fireEvent("groupexpand",q,o);q.isExpandingOrCollapsing=0}},collapseGroup:function(o){var q=this,p=q.groupingFeature,s,v,u,t;if(typeof o==="string"){o=p.getGroup(o)}if(o){t=o.items}if(t&&(u=t.length)&&(s=q.data.indexOf(t[0]))!==-1){p.getMetaGroup(o).isCollapsed=true;q.isExpandingOrCollapsing=2;q.data.removeAt(s,u);q.data.insert(s,v=q.getGroupPlaceholder(o));q.fireEvent("replace",q,s,t,[v]);q.fireEvent("groupcollapse",q,o);q.isExpandingOrCollapsing=0}},getGroupPlaceholder:function(p){var t=this.groupingFeature.getMetaGroup(p);if(!t.placeholder){var u=this.store,v=u.getModel(),q={},s=p.getGroupKey(),o;q[u.getGroupField()]=s;o=t.placeholder=new v(q);o.isNonData=o.isCollapsedPlaceholder=true;o.groupKey=s}return t.placeholder},indexOf:function(k){var g=-1;if(!k.isCollapsedPlaceholder){g=this.data.indexOf(k)}return g},contains:function(f){return this.indexOf(f)>-1},indexOfPlaceholder:function(f){return this.data.indexOf(f)},indexOfId:function(f){return this.data.indexOfKey(f)},indexOfTotal:function(f){return this.store.indexOf(f)},onIdChanged:function(o,l,m,n){this.data.updateKey(l,m)},onUpdate:function(t,x,A,y){var u=this,C=u.groupingFeature,D,z,v,B,w;if(t.isGrouped()){D=x.group=C.getGroup(x);if(D){z=C.getMetaGroup(x);if(y&&Ext.Array.contains(y,C.getGroupField())){return u.onDataChanged()}if(z.isCollapsed){u.fireEvent("update",u,z.placeholder)}else{Ext.suspendLayouts();u.fireEvent("update",u,x,A,y);w=D.items;v=w[0];B=w[w.length-1];if(v!==x){v.group=D;u.fireEvent("update",u,v,"edit",y);delete v.group}if(B!==x&&B!==v&&C.showSummaryRow){B.group=D;u.fireEvent("update",u,B,"edit",y);delete B.group}Ext.resumeLayouts(true)}}delete x.group}else{u.fireEvent("update",u,x,A,y)}},onGroupChange:function(g,k){if(!k){this.processStore(g)}this.fireEvent("groupchange",g,k)},onDataChanged:function(){this.processStore(this.store);this.fireEvent("refresh",this)},destroy:function(){var f=this;f.bindStore(null);Ext.destroy(f.data);f.groupingFeature=null;Ext.util.Observable.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.grid.feature,"GroupStore"],0));(Ext.cmd.derive("Ext.grid.feature.Grouping",Ext.grid.feature.Feature,{eventPrefix:"group",eventSelector:".x-grid-group-hd",refreshData:{},wrapsItem:true,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:"x-grid-group-collapsed",hdCollapsedCls:"x-grid-group-hd-collapsed",hdNotCollapsibleCls:"x-grid-group-hd-not-collapsible",collapsibleCls:"x-grid-group-hd-collapsible",ctCls:"x-group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:false,startCollapsed:false,enableGroupingMenu:true,enableNoGroups:true,collapsible:true,groupers:null,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:false,outerTpl:["{%","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.setup(values.rows, values.view.rowValues);","}","this.nextTpl.applyOut(values, out, parent);","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.cleanup(values.rows, values.view.rowValues);","}","%}",{priority:200}],groupRowTpl:["{%","var me = this.groupingFeature,",'colspan = "colspan=" + values.columns.length;',"if (me.disabled || parent.rows.length === 1 && parent.rows[0].isSummary) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.rowIndex, values);","}","%}",'<tpl if="needsWrap">','<tpl if="isFirstRow">',"{% values.view.renderColumnSizer(values, out); %}",'<tr data-boundView="{view.id}" data-recordId="{record.internalId:htmlEncode}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}" class="{groupHeaderCls}">','<td class="{[me.ctCls]}" {[colspan]}>',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div data-groupname="{groupName:htmlEncode}" class="',"x-",'grid-group-hd {collapsibleCls}" nottabindex="0" hidefocus="on" {ariaCellInnerAttr}>','<div class="',"x-",'grid-group-title" style="{[groupTitleStyle]}" {ariaGroupTitleAttr} data-qtip="{[values.isCollapsedGroup ? me.expandTip : me.collapseTip]}">','{[values.groupHeaderTpl.apply(values.groupRenderInfo, parent) || "&#160;"]}',"</div>","</div>","</td>","</tr>","</tpl>",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out, parent);%}","</tpl>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,beginRowSync:function(k){var g=this.groupingFeature;k.add("header",g.eventSelector);k.add("summary",g.summaryRowSelector)},syncContent:function(u,w,v){u=Ext.fly(u,"syncDest");w=Ext.fly(w,"syncSrc");var q=this.groupingFeature,s=u.down(q.eventSelector,true),t=w.down(q.eventSelector,true),x=u.down(q.summaryRowSelector,true),p=w.down(q.summaryRowSelector,true);if(s&&t){Ext.fly(s).syncContent(t)}if(x&&p){if(v){this.groupingFeature.view.updateColumns(x,p,v)}else{Ext.fly(x).syncContent(p)}}}}],relayedEvents:["groupcollapse","groupexpand"],init:function(q){var o=this,t=o.view,s=o.getGridStore(),p,n;t.isGrouping=s.isGrouped();o.mixins.summary.init.call(o);Ext.grid.feature.Feature.prototype.init.call(this,q);t.headerCt.on({columnhide:o.onColumnHideShow,columnshow:o.onColumnHideShow,columnmove:o.onColumnMove,scope:o});t.addTpl(Ext.XTemplate.getTpl(o,"outerTpl")).groupingFeature=o;t.addRowTpl(Ext.XTemplate.getTpl(o,"groupRowTpl")).groupingFeature=o;t.preserveScrollOnRefresh=true;if(s.isBufferedStore){o.collapsible=false}else{p=o.lockingPartner;if(p&&p.dataSource){o.dataSource=t.dataSource=n=p.dataSource}else{o.dataSource=t.dataSource=n=new Ext.grid.feature.GroupStore(o,s)}}q=q.ownerLockable||q;q.on("beforereconfigure",o.beforeReconfigure,o);if(!t.isLockedView){o.gridEventRelayers=q.relayEvents(t,o.relayedEvents)}t.on({afterrender:o.afterViewRender,scope:o,single:true});o.groupRenderInfo={};if(n){n.on("groupchange",o.onGroupChange,o)}else{o.setupStoreListeners(s)}o.mixins.summary.bindStore.call(o,q,q.getStore())},getGridStore:function(){return this.view.getStore()},indexOf:function(f){if(f.isCollapsedPlaceholder){return this.dataSource.indexOfPlaceholder(f)}return this.dataSource.indexOf(f)},indexOfPlaceholder:function(f){return this.dataSource.indexOfPlaceholder(f)},isInCollapsedGroup:function(p){var m=this,n=m.getGridStore(),q=false,o;if(n.isGrouped()&&(o=m.getMetaGroup(p))){q=!!(o&&o.isCollapsed)}return q},createCache:function(){var k=this.metaGroupCache={},g=this.lockingPartner;if(g){g.metaGroupCache=k}return k},getCache:function(){return this.metaGroupCache||this.createCache()},invalidateCache:function(){var f=this.lockingPartner;this.metaGroupCache=null;if(f){f.metaGroupCache=null}},vetoEvent:function(o,m,e,n){if(n.type!=="mouseover"&&n.type!=="mouseout"&&n.type!=="mouseenter"&&n.type!=="mouseleave"&&n.getTarget(this.eventSelector)){return false}},enable:function(){var o=this,q=o.view,p=o.getGridStore(),m=o.hideGroupedHeader&&o.getGroupedHeader(),n;q.isGrouping=true;if(q.lockingPartner){q.lockingPartner.isGrouping=true}Ext.grid.feature.Feature.prototype.enable.call(this);if(o.lastGrouper){p.group(o.lastGrouper);o.lastGrouper=null}if(m){m.hide()}n=o.view.headerCt.getMenu().down("#groupToggleMenuItem");if(n){n.setChecked(true,true)}},disable:function(){var q=this,t=q.view,s=q.getGridStore(),n=q.hideGroupedHeader&&q.getGroupedHeader(),o=s.getGrouper(),p;t.isGrouping=false;if(t.lockingPartner){t.lockingPartner.isGrouping=false}Ext.grid.feature.Feature.prototype.disable.call(this);if(o){q.lastGrouper=o;s.clearGrouping()}if(n){n.show()}p=q.view.headerCt.getMenu().down("#groupToggleMenuItem");if(p){p.setChecked(false,true);p.disable()}},afterViewRender:function(){var g=this,k=g.view;k.on({scope:g,groupmousedown:g.onGroupMousedown,groupclick:g.onGroupClick});if(g.enableGroupingMenu){g.injectGroupingMenu()}g.pruneGroupedHeader();g.lastGrouper=g.getGridStore().getGrouper();if(g.disabled){g.disable()}},injectGroupingMenu:function(){var k=this,g=k.view.headerCt;g.showMenuBy=k.showMenuBy;g.getMenuItems=k.getMenuItems()},onColumnHideShow:function(B,y){var v=this,H=v.view,D=H.headerCt,E=D.getMenu(),C=E.activeHeader,G=E.down("#groupMenuItem"),z,F=v.grid.getVisibleColumnManager().getColumns().length,w,x,A;if(C&&G){z=C.groupable===false||!C.dataIndex||v.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable";G[z]()}if(H.rendered&&F){w=H.el.query("."+v.ctCls);for(A=0,x=w.length;A<x;++A){w[A].colSpan=F}}},onColumnMove:function(){var q=this,u=q.view,w,v,p,x,s,t;if(u.getStore().isGrouped()){v=q.getCache();Ext.suspendLayouts();for(w in v){p=q.getGroup(w);if(p){x=p.first();s=p.last();t=q.getMetaGroup(w);if(t.isCollapsed){x=s=q.dataSource.getGroupPlaceholder(w)}u.refreshNode(x);if(q.showSummaryRow&&s!==x){u.refreshNode(s)}}}Ext.resumeLayouts(true)}},showMenuBy:function(s,q,x){var v=this,z=v.getMenu(),u=z.down("#groupMenuItem"),w=x.groupable===false||!x.dataIndex||v.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",y=z.down("#groupToggleMenuItem"),t=v.grid.getStore().isGrouped();u[w]();if(y){y.setChecked(t,true);y[t?"enable":"disable"]()}Ext.grid.header.Container.prototype.showMenuBy.apply(v,arguments)},getMenuItems:function(){var n=this,q=n.groupByText,o=n.disabled||!n.getGroupField(),t=n.showGroupsText,p=n.enableNoGroups,s=n.view.headerCt.getMenuItems;return function(){var e=s.call(this);e.push("-",{iconCls:"x-group-by-icon",itemId:"groupMenuItem",text:q,handler:n.onGroupMenuItemClick,scope:n});if(p){e.push({itemId:"groupToggleMenuItem",text:t,checked:!o,checkHandler:n.onGroupToggleMenuItemClick,scope:n})}return e}},onGroupMenuItemClick:function(q,e){var p=this,v=q.parentMenu,u=v.activeHeader,t=p.view,s=p.getGridStore();if(p.disabled){p.lastGrouper=null;p.block();p.enable();p.unblock()}t.isGrouping=true;s.group(p.getGrouper(u.dataIndex)||u.dataIndex);p.pruneGroupedHeader()},block:function(k){var g=this;g.blockRefresh=g.view.blockRefresh=true;if(g.lockingPartner&&!k){g.lockingPartner.block(true)}},unblock:function(k){var g=this;g.blockRefresh=g.view.blockRefresh=false;if(g.lockingPartner&&!k){g.lockingPartner.unblock(true)}},onGroupToggleMenuItemClick:function(k,g){this[g?"enable":"disable"]()},pruneGroupedHeader:function(){var k=this,g=k.getGroupedHeader();if(k.hideGroupedHeader&&g){Ext.suspendLayouts();if(k.prunedHeader&&k.prunedHeader!==g){k.prunedHeader.show()}k.prunedHeader=g;if(g.rendered){g.hide()}Ext.resumeLayouts(true)}},getHeaderNode:function(n){var p=this.view.getEl(),s,q,t,o;if(p){s=p.query(this.eventSelector);for(q=0,t=s.length;q<t;++q){o=s[q];if(o.getAttribute("data-groupName")===n){return o}}}},getGroup:function(n){var o=this.getGridStore(),m=n,l;if(o.isGrouped()){if(n.isModel){n=n.get(o.getGroupField())}if(typeof n!=="string"){n=o.getGrouper().getGroupString(m)}l=o.getGroups().getByKey(n)}return l},getGrouper:function(k){var g=this.groupers;if(!g){return null}return Ext.Array.findBy(g,function(e){return e.property===k})},getGroupField:function(){return this.getGridStore().getGroupField()},getMetaGroup:function(l){var o=this.metaGroupCache||this.createCache(),m,n;if(l.isModel){l=this.getGroup(l)}if(l!=null){m=(typeof l==="string")?l:l.getGroupKey();n=o[m];if(!n){n=o[m]={isCollapsed:false,lastGroup:null,lastGroupGeneration:null,lastFilterGeneration:null,aggregateRecord:new Ext.data.Model()}}}return n},isExpanded:function(f){return !this.getMetaGroup(f).isCollapsed},expand:function(g,k){this.doCollapseExpand(false,g,k)},expandAll:function(){var m=this,o=m.getCache(),n=m.lockingPartner,l;for(l in o){if(o.hasOwnProperty(l)){o[l].isCollapsed=false}}Ext.suspendLayouts();m.dataSource.onDataChanged();Ext.resumeLayouts(true);for(l in o){if(o.hasOwnProperty(l)){m.afterCollapseExpand(false,l);if(n){n.afterCollapseExpand(false,l)}}}},collapse:function(g,k){this.doCollapseExpand(true,g,k)},isAllCollapsed:function(){var l=this,m=l.getCache(),k;for(k in m){if(m.hasOwnProperty(k)){if(!m[k].isCollapsed){return false}}}return true},isAllExpanded:function(){var l=this,m=l.getCache(),k;for(k in m){if(m.hasOwnProperty(k)){if(m[k].isCollapsed){return false}}}return true},collapseAll:function(){var m=this,o=m.getCache(),l,n=m.lockingPartner;for(l in o){if(o.hasOwnProperty(l)){o[l].isCollapsed=true}}Ext.suspendLayouts();m.dataSource.onDataChanged();Ext.resumeLayouts(true);for(l in o){if(o.hasOwnProperty(l)){m.afterCollapseExpand(true,l);if(n){n.afterCollapseExpand(true,l)}}}},doCollapseExpand:function(o,n,t){var q=this,s=q.lockingPartner,p=q.getGroup(n);if(t===true){t={focus:true}}if(q.getMetaGroup(p).isCollapsed!==o){q.isExpandingOrCollapsing=true;Ext.suspendLayouts();if(o){q.dataSource.collapseGroup(p)}else{q.dataSource.expandGroup(p)}Ext.resumeLayouts(true);q.afterCollapseExpand(o,n,t);if(s){if(t&&t.focus){t=Ext.Object.chain(t);t.focus=false}s.afterCollapseExpand(o,n,t)}q.isExpandingOrCollapsing=false}},afterCollapseExpand:function(p,v,s){var q=this,t=q.view,o,u;o=q.getHeaderNode(v);t.fireEvent(p?"groupcollapse":"groupexpand",t,o,v);if(s){if(p){s.focus=false;u=q.metaGroupCache[v].placeholder}else{u=q.getGroup(v).getAt(0)}q.grid.ensureVisible(u,s)}},onGroupChange:function(g,k){if(!k){this.view.ownerGrid.getView().refreshView()}else{this.lastGrouper=k}},getMenuItem:function(n){var o=this.view,l=o.headerCt.down("gridcolumn[dataIndex="+n+"]"),m=o.headerCt.getMenu();return l?m.down("menuitem[headerId="+l.id+"]"):null},onGroupKey:function(m,n){var o=this,l=o.getGroupName(n.target);if(l){o.onGroupClick(o.view,n.target,l,n)}},onGroupMousedown:function(o,n,e,m){if(m.pointerType==="mouse"){m.preventDefault()}},onGroupClick:function(s,w,u,v){var x=this,t=x.getCache(),g=!x.isExpanded(u),e;if(x.collapsible){if(v.ctrlKey){Ext.suspendLayouts();for(e in t){if(e===u){if(g){x.expand(u)}}else{if(!t[e].isCollapsed){x.doCollapseExpand(true,e,false)}}}Ext.resumeLayouts(true);return}if(g){x.expand(u)}else{x.collapse(u)}}},setupRowData:function(Y,P,J){var N=this,X=J.recordIndex,M=N.refreshData,Z=N.getCache(),U=N.groupRenderInfo,F=M.header,O=M.groupField,T=N.getGridStore(),E=N.view.dataSource,G=E.isBufferedStore,W=N.grid.columnManager.getHeaderByDataIndex(O),V=!!(W&&W.renderer),R=Y.groupKey,S=Y.isCollapsedPlaceholder&&Ext.isDefined(R)?N.getGroup(R):Y.group,H,Q,K,I,L;J.isCollapsedGroup=false;J.summaryRecord=J.groupHeaderCls=null;if(M.doGrouping){H=T.getGrouper();if(Y.isCollapsedPlaceholder){Q=S.getGroupKey();L=S.items;J.isFirstRow=J.isLastRow=true;J.groupHeaderCls=N.hdCollapsedCls;J.isCollapsedGroup=J.needsWrap=true;J.groupName=Q;J.groupRenderInfo=U;U.groupField=O;U.name=U.renderedGroupValue=V?W.renderer(S.getAt(0).get(O),{},Y):Q;U.groupValue=L[0].get(O);U.columnName=F?F.text:O;J.collapsibleCls=N.collapsible?N.collapsibleCls:N.hdNotCollapsibleCls;U.rows=U.children=L;if(N.showSummaryRow){J.summaryRecord=M.summaryData[Q]}return}Q=H.getGroupString(Y);if(S){L=S.items;J.isFirstRow=Y===L[0];J.isLastRow=Y===L[L.length-1]}else{J.isFirstRow=X===0;if(!J.isFirstRow){K=T.getAt(X-1);if(K){J.isFirstRow=!K.isEqual(H.getGroupString(K),Q)}}J.isLastRow=X===(G?T.getTotalCount():T.getCount())-1;if(!J.isLastRow){I=T.getAt(X+1);if(I){J.isLastRow=!I.isEqual(H.getGroupString(I),Q)}}}if(J.isFirstRow){U.groupField=O;U.name=U.renderedGroupValue=V?W.renderer(Y.get(O),{},Y):Q;U.groupValue=Y.get(O);U.columnName=F?F.text:O;J.collapsibleCls=N.collapsible?N.collapsibleCls:N.hdNotCollapsibleCls;J.groupName=Q;if(!N.isExpanded(Q)){J.itemClasses.push(N.hdCollapsedCls);J.isCollapsedGroup=true}if(G){U.rows=U.children=[]}else{U.rows=U.children=N.getRecordGroup(Y).items}J.groupRenderInfo=U}if(J.isLastRow){if(N.showSummaryRow){J.summaryRecord=M.summaryData[Q];J.itemClasses.push("x-grid-group-last")}}J.needsWrap=(J.isFirstRow||J.summaryRecord)}},setup:function(p,o){var s=this,q=s.refreshData,u=o.view,t=u.isGrouping=!s.disabled&&s.getGridStore().isGrouped(),v=u.bufferedRenderer;s.skippedRows=0;if(v){v.variableRowHeight=u.hasVariableRowHeight()||t}q.groupField=s.getGroupField();q.header=s.getGroupedHeader(q.groupField);q.doGrouping=t;o.groupHeaderTpl=Ext.XTemplate.getTpl(s,"groupHeaderTpl");if(t&&s.showSummaryRow){q.summaryData=s.generateSummaryData()}},cleanup:function(l,k){var m=this.refreshData;k.groupRenderInfo=k.groupHeaderTpl=k.isFirstRow=null;m.groupField=m.header=m.summaryData=null},getAggregateRecord:function(m,l){var k;if(l===true||!m.aggregateRecord){k=new Ext.data.Model();m.aggregateRecord=k;k.isNonData=k.isSummary=true}return m.aggregateRecord},generateSummaryData:function(){var B=this,N=B.getGridStore(),K=N.getFilters(),D=N.getGroups().items,Q=N.getProxy().getReader(),C=B.getGroupField(),L=B.lockingPartner,R=B.updateSummaryRow,A={},G=B.view.ownerCt,P=B.didColumnsChange(),I,H,M,E,O,F,J;if(B.remoteRoot){J=B.mixins.summary.generateSummaryData.call(B,C);F=!!J}for(I=0,H=D.length;I<H;++I){M=D[I];E=B.getMetaGroup(M);if(R||F||N.updating||B.grid.reconfiguring||P||B.didGroupChange(M,E,K)){O=B.populateRecord(M,E,J);if(!L||(G===G.ownerLockable.normalGrid)){E.lastGroup=M;E.lastGroupGeneration=M.generation;E.lastFilterGeneration=K.generation}}else{O=B.getAggregateRecord(E)}A[M.getGroupKey()]=O}B.updateSummaryRow=false;return A},getGroupName:function(s){var p=this,t=p.view,q=p.eventSelector,n,o;n=Ext.fly(s).findParent(q);if(!n){o=Ext.fly(s).findParent(t.itemSelector);if(o){n=o.down(q,true)}}if(n){return n.getAttribute("data-groupname")}},getRecordGroup:function(m){var k=this.getGridStore(),l=k.getGrouper();if(l){return k.getGroups().getByKey(l.getGroupString(m))}},getGroupedHeader:function(s){var p=this,o=p.view.headerCt,q=p.lockingPartner,t,n;s=s||p.getGroupField();if(s){t="[dataIndex="+s+"]";n=o.down(t);if(!n&&q){n=q.view.headerCt.down(t)}}return n||null},getFireEventArgs:function(n,o,e,m){return[n,o,e,this.getGroupName(e),m]},destroy:function(){var k=this,g=k.dataSource;Ext.destroy(k.gridEventRelayers);k.gridEventRelayers=null;k.storeListeners=Ext.destroy(k.storeListeners);k.view=k.prunedHeader=k.grid=k.dataSource=k.groupers=null;k.invalidateCache();if(g&&!g.destroyed){g.bindStore(null);Ext.destroy(g)}Ext.grid.feature.Feature.prototype.destroy.call(this)},beforeReconfigure:function(x,q,w,z,v){var t=this,s=t.view,y=t.dataSource,u;if(q&&q!==z){u=q.isBufferedStore;if(!y){Ext.destroy(t.storeListeners);t.setupStoreListeners(q)}if(u!==z.isBufferedStore){Ext.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores")}s.isGrouping=!!q.getGrouper();y.bindStore(q)}},populateRecord:function(K,D,M){var z=this,y=z.grid.ownerLockable?z.grid.ownerLockable.view:z.view,L=z.getGridStore(),B=z.getAggregateRecord(D),E=y.headerCt.getGridColumns(),A=E.length,I=K.getGroupKey(),F,N,C,G,J,H;B.beginEdit();if(M){F=M[I];for(N in F){if(F.hasOwnProperty(N)){if(N!==B.idProperty){B.set(N,F[N])}}}}for(C=0;C<A;++C){G=E[C];J=G.dataIndex||G.getItemId();if(!M){H=z.getSummary(L,G.summaryType,J,K);B.set(J,H)}else{H=B.get(G.dataIndex)}z.setSummaryData(B,G.getItemId(),H,I)}B.ownerGroup=I;B.endEdit(true);B.commit();return B},privates:{didGroupChange:function(l,o,m){var n=true;if(l===o.lastGroup){n=o.lastGroupGeneration!==l.generation||o.lastFilterGeneration!==m.generation}return n},didColumnsChange:function(){var g=this,k=(g.view.headerCt.items.generation!==g.lastHeaderCtGeneration);g.lastHeaderCtGeneration=g.view.headerCt.items.generation;return k},setupStoreListeners:function(k){var g=this;g.storeListeners=k.on({groupchange:g.onGroupChange,scope:g,destroyable:true})}}},0,0,0,0,["feature.grouping"],[["summary",Ext.grid.feature.AbstractSummary]],[Ext.grid.feature,"Grouping"],0));(Ext.cmd.derive("Ext.grid.feature.GroupingSummary",Ext.grid.feature.Grouping,{showSummaryRow:true,vetoEvent:function(p,n,e,o){var q=Ext.grid.feature.Grouping.prototype.vetoEvent.apply(this,arguments);if(q!==false&&o.getTarget(this.summaryRowSelector)){q=false}return q}},0,0,0,0,["feature.groupingsummary"],0,[Ext.grid.feature,"GroupingSummary"],0));(Ext.cmd.derive("Ext.grid.feature.RowBody",Ext.grid.feature.Feature,{rowBodyCls:"x-grid-row-body",innerSelector:".x-grid-rowbody",rowBodyHiddenCls:"x-grid-row-body-hidden",rowBodyTdSelector:"td.x-grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr.x-grid-rowbody-tr",bodyBefore:false,outerTpl:{fn:function(s,u,p){var x=this.rowBody,v=u.view,q=v.getVisibleColumnManager().getColumns(),w=v.rowValues,t=x.rowExpander&&x.rowExpander.expanderColumn;w.rowBodyColspan=q.length;w.rowBodyCls=x.rowBodyCls;w.rowIdCls=x.rowIdCls;if(t&&t.getView()===v){v.grid.removeCls("x-grid-hide-row-expander-spacer");w.addSpacerCell=true;w.rowBodyColspan-=1;w.spacerCellCls="x-grid-cell x-grid-row-expander-spacer x-grid-cell-special"}else{v.grid.addCls("x-grid-hide-row-expander-spacer");w.addSpacerCell=false}this.nextTpl.applyOut(u,s,p);w.rowBodyCls=w.rowBodyColspan=w.rowBody=null},priority:100},extraRowTpl:["{%","if(this.rowBody.bodyBefore) {","values.view.renderColumnSizer(values, out);","} else {","this.nextTpl.applyOut(values, out, parent);","}","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","%}",'<tr class="x-grid-rowbody-tr {rowBodyCls} {rowIdCls}" {ariaRowAttr}>','<tpl if="addSpacerCell">','<td class="{spacerCellCls}"></td>',"</tpl>",'<td class="x-grid-td x-grid-cell-rowbody" colspan="{rowBodyColspan}" {ariaCellAttr}>','<div class="x-grid-rowbody {rowBodyDivCls}" {ariaCellInnerAttr}>{rowBody}</div>',"</td>","</tr>","{%","if(this.rowBody.bodyBefore) {","this.nextTpl.applyOut(values, out, parent);","}","%}",{priority:100,beginRowSync:function(f){f.add("rowBody",this.owner.eventSelector)},syncContent:function(q,n,s){var t=this.owner,p=Ext.fly(q).down(t.eventSelector,true),o;if(p&&(o=Ext.fly(n).down(t.eventSelector,true))){Ext.fly(p).syncContent(o)}}}],init:function(l){var k=this,m=k.view=l.getView();l.variableRowHeight=m.variableRowHeight=true;m.rowBodyFeature=k;m.headerCt.on({columnschanged:k.onColumnsChanged,scope:k});m.addTpl(k.outerTpl).rowBody=k;m.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")).rowBody=k;Ext.grid.feature.Feature.prototype.init.apply(this,arguments)},getSelectedRow:function(m,k){var l=m.getNode(k);if(l){return Ext.fly(l).down(this.eventSelector)}return null},onColumnsChanged:function(n){var p=this.view.el.query(this.rowBodyTdSelector),m=n.getVisibleGridColumns().length,q=p.length,o;for(o=0;o<q;++o){p[o].setAttribute("colSpan",m)}},setupRowData:function(m,k,l){if(this.getAdditionalData){Ext.apply(l,this.getAdditionalData(m.data,k,m,l))}}},0,0,0,0,["feature.rowbody"],0,[Ext.grid.feature,"RowBody"],0));(Ext.cmd.derive("Ext.grid.feature.Summary",Ext.grid.feature.AbstractSummary,{dock:undefined,summaryItemCls:"x-grid-row-summary-item",dockedSummaryCls:"x-docked-summary",panelBodyCls:"x-summary-",hasFeatureEvent:false,fullSummaryTpl:["{%","var me = this.summaryFeature,","    record = me.summaryRecord,","    view = values.view,","    bufferedRenderer = view.bufferedRenderer;","this.nextTpl.applyOut(values, out, parent);","if (!me.disabled && me.showSummaryRow &&","!view.addingRows && view.store.isLast(values.record)) {","if (bufferedRenderer) {","    bufferedRenderer.variableRowHeight = true;","}","me.outputSummaryRecord((record && record.isModel) ? record : me.createSummaryRecord(view), values, out, parent);","}","%}",{priority:300,beginRowSync:function(f){f.add("fullSummary",this.summaryFeature.summaryRowSelector)},syncContent:function(s,v,t){s=Ext.fly(s,"syncDest");v=Ext.fly(v,"sycSrc");var q=this.summaryFeature,u=q.summaryRowSelector,o=s.down(u,true),p=v.down(u,true);if(o&&p){if(t){this.summaryFeature.view.updateColumns(o,p,t)}else{Ext.fly(o).syncContent(p)}}}}],init:function(n){var l=this,o=l.view,m=l.dock;Ext.grid.feature.AbstractSummary.prototype.init.apply(this,arguments);if(m){n.addBodyCls(l.panelBodyCls+m);n.headerCt.on({add:l.onStoreUpdate,afterlayout:l.onStoreUpdate,scope:l});n.on({beforerender:function(){var e=[l.summaryTableCls];if(o.columnLines){e[e.length]=o.ownerCt.colLinesCls}l.summaryBar=n.addDocked({childEls:["innerCt","item"],renderTpl:['<div id="{id}-innerCt" data-ref="innerCt" role="presentation">','<table id="{id}-item" data-ref="item" cellPadding="0" cellSpacing="0" class="'+e.join(" ")+'">','<tr class="'+l.summaryRowCls+'"></tr>',"</table>","</div>"],scrollable:{x:false,y:false},hidden:!l.showSummaryRow,itemId:"summaryBar",cls:[l.dockedSummaryCls,l.dockedSummaryCls+"-"+m],xtype:"component",dock:m,weight:10000000})[0]},afterrender:function(){n.getView().getScrollable().addPartner(l.summaryBar.getScrollable(),"x");l.onStoreUpdate()},single:true});n.headerCt.afterComponentLayout=Ext.Function.createSequence(n.headerCt.afterComponentLayout,function(){var f=this.getTableWidth(),e=l.summaryBar.innerCt;l.summaryBar.item.setWidth(f);if(this.tooNarrow){f+=Ext.getScrollbarSize().width}e.setWidth(f)})}else{if(n.bufferedRenderer){l.wrapsItem=true;o.addRowTpl(Ext.XTemplate.getTpl(l,"fullSummaryTpl")).summaryFeature=l;o.on("refresh",l.onViewRefresh,l)}else{l.wrapsItem=false;l.view.addFooterFn(l.renderSummaryRow)}}n.ownerGrid.on({beforereconfigure:l.onBeforeReconfigure,columnmove:l.onStoreUpdate,scope:l});l.bindStore(n,n.getStore())},onBeforeReconfigure:function(g,k){this.summaryRecord=null;if(k){this.bindStore(g,k)}},bindStore:function(l,m){var k=this;Ext.destroy(k.storeListeners);k.storeListeners=m.on({scope:k,destroyable:true,update:k.onStoreUpdate,datachanged:k.onStoreUpdate});Ext.grid.feature.AbstractSummary.prototype.bindStore.call(this,l,m)},renderSummaryRow:function(s,q,p){var t=s.view,o=t.findFeature("summary"),u,v;if(!o.disabled&&o.showSummaryRow&&!t.addingRows&&!t.updatingRows){u=o.summaryRecord;q.push('<table cellpadding="0" cellspacing="0" class="'+o.summaryItemCls+'" style="table-layout: fixed; width: 100%;">');o.outputSummaryRecord((u&&u.isModel)?u:o.createSummaryRecord(t),s,q,p);q.push("</table>")}},toggleSummaryRow:function(l,o){var m=this,n=m.summaryBar;Ext.grid.feature.AbstractSummary.prototype.toggleSummaryRow.call(this,l,o);if(n){n.setVisible(m.showSummaryRow);m.onViewScroll()}},getSummaryBar:function(){return this.summaryBar},getSummaryRowPlaceholder:function(o){var n=this.summaryItemCls,m,l;m=Ext.fly(o.getNodeContainer());if(!m){return null}l=m.down("."+n,true);if(!l){l=m.createChild({tag:"table",cellpadding:0,cellspacing:0,cls:n,style:"table-layout: fixed; width: 100%",children:[{tag:"tbody"}]},false,true)}return l},vetoEvent:function(o,m,e,n){return !n.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.setScrollX(this.view.getScrollX())},onViewRefresh:function(n){var m=this,o,l;if(!m.disabled&&m.showSummaryRow&&!n.all.getCount()){o=m.createSummaryRecord(n);l=m.getSummaryRowPlaceholder(n);l.appendChild(Ext.fly(n.createRowElement(o,-1)).down(m.summaryRowSelector,true))}},createSummaryRecord:function(v){var w=this,z=v.headerCt.getGridColumns(),C=w.remoteRoot,x=w.summaryRecord,t=z.length,y,A,u,B,D;if(!x){D={id:v.id+"-summary-record"};x=w.summaryRecord=new Ext.data.Model(D)}x.beginEdit();if(C){B=w.generateSummaryData();if(B){x.set(B)}}else{for(y=0;y<t;y++){A=z[y];u=A.dataIndex||A.getItemId();B=w.getSummary(v.store,A.summaryType,u);x.set(u,B);w.setSummaryData(x,A.getItemId(),B)}}x.endEdit(true);x.commit(true);x.isSummary=true;return x},onStoreUpdate:function(){var x=this,t=x.view,v=x.summaryRowSelector,p=x.dock,u,q,s,w;if(!t.rendered){return}u=x.createSummaryRecord(t);q=Ext.fly(t.createRowElement(u,-1)).down(v,true);if(!q){return}if(p){w=x.summaryBar.item.dom.firstChild;s=w.firstChild;w.insertBefore(q,s);w.removeChild(s);x.onColumnHeaderLayout()}else{s=t.el.down(v,true);w=s&&s.parentNode;if(w){w.removeChild(s)}w=t.getRow(t.all.last());if(w){w=w.parentElement}else{w=x.getSummaryRowPlaceholder(t);w=w&&w.tBodies&&w.tBodies[0]}if(w){w.appendChild(q)}}},onColumnHeaderLayout:function(){var t=this.view,q=t.headerCt.getVisibleGridColumns(),o,u=q.length,s,v=this.summaryBar.el,p;for(s=0;s<u;s++){o=q[s];p=v.down(t.getCellSelector(o),true);if(p){Ext.fly(p).setWidth(o.width||(o.lastBox?o.lastBox.width:100))}}},destroy:function(){var f=this;f.summaryRecord=f.storeListeners=Ext.destroy(f.storeListeners);Ext.grid.feature.AbstractSummary.prototype.destroy.call(this)}},0,0,0,0,["feature.summary"],0,[Ext.grid.feature,"Summary"],0));(Ext.cmd.derive("Ext.menu.Item",Ext.Component,{alternateClassName:"Ext.menu.TextItem",isMenuItem:true,config:{glyph:null},activated:false,activeCls:"x-menu-item-active",clickHideDelay:0,destroyMenu:true,disabledCls:"x-menu-item-disabled",hideOnClick:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:true,ariaRole:"menuitem",ariaEl:"itemEl",baseCls:"x-menu-item",arrowCls:"x-menu-item-arrow",baseIconCls:"x-menu-item-icon",textCls:"x-menu-item-text",indentCls:"x-menu-item-indent",indentNoSeparatorCls:"x-menu-item-indent-no-separator",indentRightIconCls:"x-menu-item-indent-right-icon",indentRightArrowCls:"x-menu-item-indent-right-arrow",linkCls:"x-menu-item-link",linkHrefCls:"x-menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}" href="{href}" <tpl if="hrefTarget"> target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="ariaAttributes"> {$}="{.}"</tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on" role="presentation">{text}</span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></div></tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"></div></tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div></tpl></a></tpl>',autoEl:{role:"presentation"},maskOnDisable:false,iconAlign:"left",initComponent:function(){var l=this,m=l.cls?[l.cls]:[],k;if(l.hasOwnProperty("canActivate")){l.focusable=l.canActivate}if(l.plain){m.push("x-menu-item-plain")}if(m.length){l.cls=m.join(" ")}if(l.menu){k=l.menu;l.menu=null;l.setMenu(k)}Ext.Component.prototype.initComponent.apply(this,arguments)},canFocus:function(){var f=this;return f.focusable&&f.rendered&&f.canActivate!==false&&!f.destroying&&!f.destroyed&&f.isVisible(true)},onFocus:function(e){var k=this;Ext.Component.prototype.onFocus.call(this,e);if(!k.plain){k.addCls(k.activeCls)}k.activated=true;if(k.hasListeners.activate){k.fireEvent("activate",k)}},onFocusLeave:function(e){var k=this;Ext.Component.prototype.onFocusLeave.call(this,e);if(!k.plain){k.removeCls(k.activeCls)}k.doHideMenu();k.activated=false;if(k.hasListeners.deactivate){k.fireEvent("deactivate",k)}},doHideMenu:function(){var f=this.menu;this.cancelDeferExpand();if(f&&f.isVisible()){f.hide()}},deferHideParentMenus:function(){for(var f=this.getRefOwner();f&&((f.isMenu&&f.floating)||f.isMenuItem);f=f.getRefOwner()){if(f.isMenu){f.hide()}}},expandMenu:function(k,m){var l=this;if(!l.disabled&&l.activated&&l.menu){l.hideOnClick=false;l.cancelDeferHide();m=m==null?l.menuExpandDelay:m;if(m===0){l.doExpandMenu(k)}else{l.cancelDeferExpand();l.expandMenuTimer=Ext.defer(l.doExpandMenu,m,l,[k])}}},doExpandMenu:function(m){var l=this,k=l.menu;if(!k.isVisible()){l.parentMenu.activeChild=k;k.ownerCmp=l;k.parentMenu=l.parentMenu;k.constrainTo=document.body;k.autoFocus=!m||!m.pointerType;k.showBy(l,l.menuAlign)}else{if(m&&m.type==="keydown"){k.focus()}}},getRefItems:function(m){var k=this.menu,l;if(k){l=k.getRefItems(m);l.unshift(k)}return l||[]},getValue:function(){return this.value},hideMenu:function(k){var g=this;if(g.menu){g.cancelDeferExpand();g.hideMenuTimer=Ext.defer(g.doHideMenu,Ext.isNumber(k)?k:g.menuHideDelay,g)}},onClick:function(e){var o=this,p=o.clickHideDelay,t=e.browserEvent,q,s;if(!o.href||o.disabled){e.stopEvent();if(o.disabled){return false}}if(o.disabled||o.handlingClick){return}if(o.hideOnClick&&!o.menu){if(!p){o.deferHideParentMenus()}else{o.deferHideParentMenusTimer=Ext.defer(o.deferHideParentMenus,p,o)}}q=o.fireEvent("click",o,e);if(o.destroyed){return}if(q!==false&&o.handler){Ext.callback(o.handler,o.scope,[o,e],0,o)}if(o.destroyed){return}if(Ext.isIE9m){s=t.returnValue===false?true:false}else{s=!!t.defaultPrevented}if(o.href&&e.type!=="click"&&!s){o.handlingClick=true;o.itemEl.dom.click();o.handlingClick=false}if(!o.hideOnClick&&!o.hasFocus){o.focus()}return q},onRemoved:function(){var f=this;if(f.activated&&f.parentMenu.activeItem===f){f.parentMenu.deactivateActiveItem()}Ext.Component.prototype.onRemoved.apply(this,arguments);f.parentMenu=f.ownerCmp=null},doDestroy:function(){var f=this;if(f.rendered){f.clearTip()}f.cancelDeferExpand();f.cancelDeferHide();clearTimeout(f.deferHideParentMenusTimer);f.setMenu(null);Ext.Component.prototype.doDestroy.call(this)},beforeRender:function(){var u=this,t=u.glyph,v,y=!!(u.icon||u.iconCls||t),s=!!u.menu,x=((u.iconAlign==="right")&&!s),A=u.isMenuCheckItem,B=[],z=u.ownerCt,w=z.plain;if(u.plain){u.ariaEl="el"}Ext.Component.prototype.beforeRender.call(this);if(y){if(s&&u.showCheckbox){y=false}}if(t){v=t.fontFamily;t=t.character}if(!w||(y&&!x)||A){if(z.showSeparator&&!w){B.push(u.indentCls)}else{B.push(u.indentNoSeparatorCls)}}if(s){B.push(u.indentRightArrowCls)}else{if(y&&(x||A)){B.push(u.indentRightIconCls)}}Ext.applyIf(u.renderData,{hasHref:!!u.href,href:u.href||"#",hrefTarget:u.hrefTarget,icon:u.icon,iconCls:u.iconCls,glyph:t,glyphCls:t?"x-menu-item-glyph":undefined,glyphFontFamily:v,hasIcon:y,hasMenu:s,indent:!w||y||A,isCheckItem:A,rightIcon:x,plain:u.plain,text:u.text,arrowCls:u.arrowCls,baseIconCls:u.baseIconCls,textCls:u.textCls,indentCls:B.join(" "),linkCls:u.linkCls,linkHrefCls:u.linkHrefCls,groupCls:u.group?u.groupCls:"",tabIndex:u.tabIndex})},onRender:function(){var f=this;Ext.Component.prototype.onRender.apply(this,arguments);if(f.tooltip){f.setTooltip(f.tooltip,true)}},getMenu:function(){return this.menu||null},setMenu:function(w,x){var p=this,t=p.menu,u=p.arrowEl,v=p.ariaEl.dom,q,s;if(t){t.ownerCmp=t.parentMenu=null;if(x===true||(x!==false&&p.destroyMenu)){Ext.destroy(t)}if(v){v.removeAttribute("aria-haspopup");v.removeAttribute("aria-owns")}else{q=(p.ariaRenderAttributes||(p.ariaRenderAttributes={}));delete q["aria-haspopup"];delete q["aria-owns"]}}if(w){s=w.isMenu;w=p.menu=Ext.menu.Manager.get(w,{ownerCmp:p,focusOnToFront:false});w.setOwnerCmp(p,s);if(v){v.setAttribute("aria-haspopup",true);v.setAttribute("aria-owns",w.id)}else{q=(p.ariaRenderAttributes||(p.ariaRenderAttributes={}));q["aria-haspopup"]=true;q["aria-owns"]=w.id}}else{w=p.menu=null}if(w&&p.rendered&&!p.destroying&&u){u[w?"addCls":"removeCls"](p.arrowCls)}},setHandler:function(g,k){this.handler=g||null;this.scope=k},setIcon:function(n){var m=this,o=m.iconEl,l=m.icon;if(m.glyph){m.setGlyph(null)}if(o){o.setStyle("background-image",n?"url("+n+")":"")}m.icon=n;m.fireEvent("iconchange",m,l,n)},setIconCls:function(n){var l=this,o=l.iconEl,m=l.iconCls;if(l.glyph){l.setGlyph(null)}if(o){o.setStyle("background-image","");if(l.iconCls){o.removeCls(l.iconCls)}if(n){o.addCls(n)}}l.iconCls=n;l.fireEvent("iconchange",l,m,n)},setText:function(l){var m=this,n=m.textEl||m.el,o=m.text;m.text=l;if(m.rendered){n.setHtml(l||"");m.updateLayout()}m.fireEvent("textchange",m,o,l)},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(k,m){var l=this;if(l.rendered){if(!m){l.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(k)){Ext.tip.QuickTipManager.register(Ext.apply({target:l.itemEl.id},k));l.tooltip=k}else{l.itemEl.dom.setAttribute(l.getTipAttr(),k)}}else{l.tooltip=k}return l},getFocusEl:function(){return this.plain?this.el:this.itemEl},getFocusClsEl:function(){return this.el},privates:{cancelDeferExpand:function(){window.clearTimeout(this.expandMenuTimer)},cancelDeferHide:function(){window.clearTimeout(this.hideMenuTimer)}},applyGlyph:function(g,k){if(g){if(!g.isGlyph){g=new Ext.Glyph(g)}if(g.isEqual(k)){g=undefined}}return g},updateGlyph:function(k,l){var m=this.iconEl;if(m){m.setStyle("background-image","none");this.icon=null;if(k){m.dom.innerHTML=k.character;m.setStyle(k.getStyle())}else{m.dom.innerHTML=""}}}},0,["menuitem"],["component","box","menuitem"],{component:true,box:true,menuitem:true},["widget.menuitem"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.menu,"Item",Ext.menu,"TextItem"],0));Ext.define("Ext.theme.triton.menu.Item",{override:"Ext.menu.Item",compatibility:Ext.isIE8,onFocus:function(e){(arguments.callee.$previous||Ext.Component.prototype.onFocus).call(this,e);this.repaintIcons()},onFocusLeave:function(e){(arguments.callee.$previous||Ext.Component.prototype.onFocusLeave).call(this,e);this.repaintIcons()},privates:{repaintIcons:function(){var k=this.iconEl,l=this.arrowEl,m=this.checkEl;if(k){k.syncRepaint()}if(l){l.syncRepaint()}if(m){m.syncRepaint()}}}});(Ext.cmd.derive("Ext.menu.CheckItem",Ext.menu.Item,{checkedCls:"x-menu-item-checked",uncheckedCls:"x-menu-item-unchecked",groupCls:"x-menu-group-icon",hideOnClick:false,checkChangeDisabled:false,submenuText:"{0} submenu",ariaRole:"menuitemcheckbox",childEls:["checkEl"],defaultBindProperty:"checked",showCheckbox:true,isMenuCheckItem:true,checkboxCls:"x-menu-item-checkbox",initComponent:function(){var f=this;f.checked=!!f.checked;Ext.menu.Item.prototype.initComponent.apply(this,arguments);if(f.group){Ext.menu.Manager.registerCheckable(f);if(f.initialConfig.hideOnClick!==false){f.hideOnClick=true}}},beforeRender:function(){var g=this,k;Ext.menu.Item.prototype.beforeRender.call(this);Ext.apply(g.renderData,{checkboxCls:g.checkboxCls,showCheckbox:g.showCheckbox});k=(g.ariaRenderAttributes||(g.ariaRenderAttributes={}));k["aria-checked"]=g.menu?"mixed":g.checked;if(g.menu){k["aria-label"]=Ext.String.formatEncode(g.submenuText,g.text)}},afterRender:function(){var f=this;Ext.menu.Item.prototype.afterRender.call(this);f.checked=!f.checked;f.setChecked(!f.checked,true);if(f.checkChangeDisabled){f.disableCheckChange()}if(Ext.isGecko&&f.checkEl){f.checkEl.on("mousedown",f.onMouseDownCheck)}},disableCheckChange:function(){var g=this,k=g.checkEl;if(k){k.addCls(g.disabledCls)}if(Ext.isIE8&&g.rendered){g.el.repaint()}g.checkChangeDisabled=true},enableCheckChange:function(){var g=this,k=g.checkEl;if(k){k.removeCls(g.disabledCls)}g.checkChangeDisabled=false},onMouseDownCheck:function(e){e.preventDefault()},onClick:function(e){var k=this;if(!(k.disabled||k.checkChangeDisabled||k.checked&&k.group||k.menu&&"touch"===e.pointerType&&!k.checkEl.contains(e.target))){k.setChecked(!k.checked);if(e.type==="keydown"&&k.menu){return false}}Ext.menu.Item.prototype.onClick.call(this,e)},doDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);Ext.menu.Item.prototype.doDestroy.call(this)},setText:function(k){var l=this,m=l.ariaEl.dom;Ext.menu.Item.prototype.setText.call(this,k);if(m&&l.menu){m.setAttribute("aria-label",Ext.String.formatEncode(l.submenuText,k))}},setChecked:function(p,s){var q=this,o=q.checkedCls,v=q.uncheckedCls,t=q.el,u=q.ariaEl.dom;if(q.checked!==p&&(s||q.fireEvent("beforecheckchange",q,p)!==false)){if(t){if(p){t.addCls(o);t.removeCls(v)}else{t.addCls(v);t.removeCls(o)}}if(u){u.setAttribute("aria-checked",q.menu?"mixed":!!p)}q.checked=p;Ext.menu.Manager.onCheckChange(q,p);q.publishState("checked",p);if(!s){Ext.callback(q.checkHandler,q.scope,[q,p],0,q);q.fireEvent("checkchange",q,p)}}}},0,["menucheckitem"],["component","box","menuitem","menucheckitem"],{component:true,box:true,menuitem:true,menucheckitem:true},["widget.menucheckitem"],0,[Ext.menu,"CheckItem"],0));(Ext.cmd.derive("Ext.menu.Separator",Ext.menu.Item,{focusable:false,canActivate:false,hideOnClick:false,plain:true,separatorCls:"x-menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(){this.addCls(this.separatorCls);Ext.menu.Item.prototype.beforeRender.call(this)}},0,["menuseparator"],["component","box","menuitem","menuseparator"],{component:true,box:true,menuitem:true,menuseparator:true},["widget.menuseparator"],0,[Ext.menu,"Separator"],0));Ext.define("Ext.theme.neptune.menu.Separator",{override:"Ext.menu.Separator",border:true});(Ext.cmd.derive("Ext.menu.Menu",Ext.panel.Panel,{defaultType:"menuitem",enableKeyNav:true,allowOtherMenus:false,ariaRole:"menu",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,mouseLeaveDelay:100,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,defaultAlign:"tl-bl?",focusOnToFront:false,bringParentToFront:false,alignOnScroll:false,focusable:true,tabIndex:-1,defaultFocus:":focusable",allowFocusingDisabledChildren:true,menuClickBuffer:0,baseCls:"x-menu",_iconSeparatorCls:"x-menu-icon-separator",_itemCmpCls:"x-menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var o=this,q=["x-menu"],n=o.bodyCls?[o.bodyCls]:[],m=o.floating!==false,p={element:"el",click:o.onClick,mouseover:o.onMouseOver,scope:o};if(Ext.supports.Touch){p.pointerdown=o.onMouseOver}o.on(p);o.on({beforeshow:o.onBeforeShow,scope:o});if(o.plain){q.push("x-menu-plain")}o.cls=q.join(" ");n.push("x-menu-body",Ext.dom.Element.unselectableCls);o.bodyCls=n.join(" ");if(m){if(o.minWidth===undefined){o.minWidth=o.defaultMinWidth}}else{o.hidden=!!o.initialConfig.hidden;o.constrain=false}Ext.panel.Panel.prototype.initComponent.apply(this,arguments);Ext.override(o.getLayout(),{configureItem:o.configureItem});o.itemOverTask=new Ext.util.DelayedTask(o.handleItemOver,o)},initFloatConstrain:Ext.emptyFn,getInherited:function(){var f=Ext.panel.Panel.prototype.getInherited.call(this);if(this.floating){f.hidden=this.hidden}return f},beforeRender:function(){var f=this;Ext.panel.Panel.prototype.beforeRender.apply(this,arguments);if(!f.getSizeModel().width.shrinkWrap){f.layout.align="stretch"}if(f.floating){f.ariaRenderAttributes=f.ariaRenderAttributes||{};f.ariaRenderAttributes["aria-expanded"]=!!f.autoShow}},onBoxReady:function(){var l=this,k=l._iconSeparatorCls,m=l.focusableKeyNav;if(m){m.map.processEventScope=l;m.map.processEvent=function(e){if(e.keyCode===e.ESC){e.target=this.el.dom}return e};m.map.addBinding([{key:Ext.event.Event.ESC,handler:l.onEscapeKey,scope:l},{key:/[\w]/,handler:l.onShortcutKey,scope:l,shift:false,ctrl:false,alt:false}])}else{l.escapeKeyNav=new Ext.util.KeyNav(l.el,{eventName:"keydown",scope:l,esc:l.onEscapeKey})}Ext.panel.Panel.prototype.onBoxReady.apply(this,arguments);if(l.showSeparator){l.iconSepEl=l.body.insertFirst({role:"presentation",cls:k+" "+k+"-"+l.ui,html:"&#160;"})}if(Ext.supports.Touch||Ext.supports.MSPointerEvents||Ext.supports.PointerEvents){l.el.on({scope:l,click:l.preventClick,translate:false})}l.mouseMonitor=l.el.monitorMouseLeave(l.mouseLeaveDelay,l.onMouseLeave,l)},onFocusEnter:function(l){var m=this,e;Ext.panel.Panel.prototype.onFocusEnter.call(this,l);m.mixins.focusablecontainer.onFocusEnter.call(m,l);if(m.floating){e=m.getInherited();if(!e.topmostFocusEvent){e.topmostFocusEvent=l}}},onFocusLeave:function(e){var k=this;Ext.panel.Panel.prototype.onFocusLeave.call(this,e);k.lastFocusedChild=null;k.mixins.focusablecontainer.onFocusLeave.call(k,e);if(k.floating){k.hide()}},handleItemOver:function(e,k){if(!k.containsFocus&&(e.pointerType==="mouse"||k.isMenuItem)){k.focus()}if(k.expandMenu){k.expandMenu(e)}},canActivateItem:function(f){return f&&f.isFocusable()},deactivateActiveItem:function(){var k=this,g=k.lastFocusedChild;if(g){g.blur()}},getItemFromEvent:function(e){var o=this,m=o.layout.getRenderTarget().dom,n=e.getTarget();while(n.parentNode!==m){n=n.parentNode;if(!n){return}}return Ext.getCmp(n.id)},lookupComponent:function(g){var k=this;if(typeof g==="string"){if(g[0]==="@"){g=Ext.panel.Panel.prototype.lookupComponent.call(this,g)}else{g=k.lookupItemFromString(g)}}else{if(Ext.isObject(g)){g=k.lookupItemFromObject(g)}}if(!g.dock){g.minWidth=g.minWidth||k.minWidth}return g},lookupItemFromObject:function(g){var k=this.defaultType;if(!g.isComponent){if(!g.xtype&&Ext.isBoolean(g.checked)){k="menucheckitem"}g=Ext.ComponentManager.create(g,k)}if(g.isMenuItem){g.parentMenu=this}return g},lookupItemFromString:function(f){return(f==="separator"||f==="-")?new Ext.menu.Separator():new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:f})},configureItem:function(q){var s=this.owner,o="x-",p=s.ui,t,n;if(q.isMenuItem){q.setUI(p)}else{if(s.items.getCount()>1&&!q.rendered&&!q.dock){n=s._itemCmpCls;t=[n+" "+n+"-"+p];if(!s.plain&&(q.indent!==false||q.iconCls==="no-icon")){t.push(o+"menu-item-indent-"+p)}if(q.rendered){q.el.addCls(t)}else{q.cls=(q.cls||"")+" "+t.join(" ")}q.$extraMenuCls=t}}this.callParent(arguments)},onRemove:function(f){Ext.panel.Panel.prototype.onRemove.call(this,f);if(!f.destroyed&&f.$extraMenuCls){f.el.removeCls(f.$extraMenuCls)}},onClick:function(t){var e=this,p=t.type,o,q,s=p==="keydown";if(e.disabled){t.stopEvent();return}o=e.getItemFromEvent(t);if(o&&o.isMenuItem){if(!o.menu||!e.ignoreParentClicks){q=o.onClick(t)}else{t.stopEvent()}if(e.destroyed){return}if(o.menu&&q!==false&&s){o.expandMenu(t,0)}}if(!o||o.disabled){o=undefined}e.fireEvent("click",e,o,t)},doDestroy:function(){var f=this;if(f.escapeKeyNav){f.escapeKeyNav.destroy()}f.parentMenu=f.ownerCmp=f.escapeKeyNav=null;if(f.rendered){f.el.un(f.mouseMonitor);Ext.destroy(f.iconSepEl)}Ext.menu.Manager.onHide(f);Ext.panel.Panel.prototype.doDestroy.call(this)},onMouseLeave:function(e){var k=this;if(k.itemOverTask){k.itemOverTask.cancel()}if(k.disabled){return}k.fireEvent("mouseleave",k,e)},onMouseOver:function(v){var e=this,u=v.getRelatedTarget(),s=!e.el.contains(u),p=e.getItemFromEvent(v),q=e.parentMenu,t=e.ownerCmp;if(s&&q){q.setActiveItem(t);t.cancelDeferHide();q.mouseMonitor.mouseenter();q.itemOverTask.cancel()}if(e.disabled){return}if(p){e.itemOverTask.delay(e.mouseLeaveDelay,null,null,[v,p])}if(s){e.fireEvent("mouseenter",e,v)}e.fireEvent("mouseover",e,p,v)},setActiveItem:function(g){var k=this;if(g&&(g!==k.lastFocusedChild)){k.focusChild(g,1)}},onEscapeKey:function(){if(this.floating){this.hide()}},onShortcutKey:function(w,x){var t=String.fromCharCode(x.getCharCode()),s=this.query(">[text]"),u=s.length,e=this.lastFocusedChild,v=Ext.Array.indexOf(s,e),q=v;if(u===0){return}for(;;){if(++q===u){q=0}e=s[q];if(q===v){return}if(e.text&&e.text[0].toUpperCase()===t){e.focus();return}}},onBeforeShow:function(){if(Ext.Date.getElapsed(this.lastHide)<this.menuClickBuffer){return false}},beforeShow:function(){var g=this,k;if(g.floating){k=g.hasFloatMenuParent();if(!k&&!g.allowOtherMenus){Ext.menu.Manager.hideAll()}}Ext.panel.Panel.prototype.beforeShow.apply(this,arguments)},afterShow:function(){var g=this,k=g.ariaEl.dom;Ext.panel.Panel.prototype.afterShow.apply(this,arguments);Ext.menu.Manager.onShow(g);if(g.floating&&k){k.setAttribute("aria-expanded",true)}if(g.floating){g.maxHeight=g.savedMaxHeight}if(g.autoFocus){g.focus()}},onHide:function(m,p,o){var n=this,q=n.ariaEl.dom;Ext.panel.Panel.prototype.onHide.call(this,m,p,o);n.lastHide=Ext.Date.now();Ext.menu.Manager.onHide(n);if(n.floating&&q){q.setAttribute("aria-expanded",false)}},afterHide:function(k,g){Ext.panel.Panel.prototype.afterHide.call(this,k,g);delete this.getInherited().topmostFocusEvent},preventClick:function(e){var k=this.getItemFromEvent(e);if(k&&k.isMenuItem&&!k.href){e.preventDefault()}},privates:{applyDefaults:function(f){if(!Ext.isString(f)){f=Ext.panel.Panel.prototype.applyDefaults.apply(this,arguments)}return f},initFocusableElement:function(){var k=this,m=k.tabIndex,l=k.el;if(k.floating&&m!=null&&l&&l.dom){l.dom.setAttribute("tabIndex",m);l.dom.setAttribute("data-componentid",k.id)}},onFocusableContainerTabKey:function(e){var k=this;if(k.floating){if(e.shiftKey){e.preventDefault()}else{k.focusEnterEvent=k.getInherited().topmostFocusEvent}k.hide()}},onFocusableContainerEnterKey:function(e){this.onClick(e)},onFocusableContainerSpaceKey:function(e){this.onClick(e)},onFocusableContainerLeftKey:function(e){e.preventDefault();if(this.parentMenu){this.ownerCmp.focus();this.hide()}},onFocusableContainerRightKey:function(l){var m=this,e=m.lastFocusedChild;l.preventDefault();if(e&&e.expandMenu){e.expandMenu(l,0)}},hasFloatMenuParent:function(){return this.parentMenu||this.up("menu[floating=true]")},setOwnerCmp:function(l,m){var k=this;k.parentMenu=l.isMenuItem?l:null;k.ownerCmp=l;k.registerWithOwnerCt();delete k.hierarchicallyHidden;k.onInheritedAdd(l,m);k.containerOnAdded(l,m)}}},0,["menu"],["component","box","container","panel","menu"],{component:true,box:true,container:true,panel:true,menu:true},["widget.menu"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.menu,"Menu"],0));Ext.define("Ext.theme.neptune.menu.Menu",{override:"Ext.menu.Menu",showSeparator:false});Ext.define("Ext.theme.triton.menu.Menu",{override:"Ext.menu.Menu",compatibility:Ext.isIE8,afterShow:function(){var m=this,p,n,o,q;(arguments.callee.$previous||Ext.panel.Panel.prototype.afterShow).apply(this,arguments);p=m.items.getRange();for(o=0,q=p.length;o<q;o++){n=p[o];if(n&&n.repaintIcons){n.repaintIcons()}}}});(Ext.cmd.derive("Ext.grid.filters.filter.Base",Ext.Base,{factoryConfig:{type:"grid.filter"},$configPrefixed:false,$configStrict:false,config:{itemDefaults:null,menuDefaults:{xtype:"menu"},updateBuffer:500,serializer:null},active:false,type:"string",dataIndex:null,menu:null,isGridFilter:true,defaultRoot:"data",filterIdPrefix:"x-gridfilter",constructor:function(m){var k=this,l;k.initConfig(m);l=k.column;k.columnListeners=l.on("destroy",k.destroy,k,{destroyable:true});k.dataIndex=k.dataIndex||l.dataIndex;k.task=new Ext.util.DelayedTask(k.setValue,k)},destroy:function(){var f=this;if(f.task){f.task.cancel();f.task=null}f.columnListeners=f.columnListeners.destroy();f.grid=f.menu=Ext.destroy(f.menu);f.callParent()},addStoreFilter:function(n){var l=this.getGridStore().getFilters(),o=l.indexOf(n),m=o!==-1?l.getAt(o):null;if(!m||!Ext.util.Filter.isEqual(m,n)){l.add(n)}},createFilter:function(m,l){var k=new Ext.util.Filter(this.getFilterConfig(m,l));k.isGridFilter=true;return k},getFilterConfig:function(k,g){k.id=this.getBaseIdPrefix();if(!k.property){k.property=this.dataIndex}if(!k.root){k.root=this.defaultRoot}if(g){k.id+="-"+g}k.serializer=this.getSerializer();return k},createMenu:function(){this.menu=Ext.widget(this.getMenuConfig())},getActiveState:function(m,l){var k=m.active;return(k!==undefined)?k:l!==undefined},getBaseIdPrefix:function(){return this.filterIdPrefix+"-"+this.dataIndex},getMenuConfig:function(){return Ext.apply({},this.getMenuDefaults())},getGridStore:function(){return this.grid.getStore()},getStoreFilter:function(k){var g=this.getBaseIdPrefix();if(k){g+="-"+k}return this.getGridStore().getFilters().get(g)},onValueChange:function(t,e){var q=this,o=e.getKey(),s=q.updateBuffer,p;if(o===e.TAB){return}if(t.isValid()){if(o===e.RETURN){q.menu.hide();return}p=q.getValue(t);if(p===q.value){return}if(s){q.task.delay(s,null,null,[p])}else{q.setValue(p)}}},preprocess:Ext.emptyFn,removeStoreFilter:function(f){this.getGridStore().getFilters().remove(f)},getValue:Ext.emptyFn,setActive:function(m){var n=this,o=n.owner.activeFilterMenuItem,l;if(n.active!==m){n.active=m;l=n.getGridStore().getFilters();l.beginUpdate();if(m){n.activate()}else{n.deactivate()}l.endUpdate();if(o&&o.activeFilter===n){o.setChecked(m)}n.setColumnActive(m)}},setColumnActive:function(f){this.column[f?"addCls":"removeCls"](this.owner.filterCls)},showMenu:function(k){var g=this;if(!g.menu){g.createMenu()}k.activeFilter=g;k.setMenu(g.menu,false);k.setChecked(g.active);k.setDisabled(g.disabled===true);g.activate(true)},updateStoreFilter:function(){this.getGridStore().getFilters().notify("endupdate")}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.grid.filters.filter,"Base"],0));(Ext.cmd.derive("Ext.grid.filters.filter.SingleFilter",Ext.grid.filters.filter.Base,{constructor:function(o){var m=this,n,l;Ext.grid.filters.filter.Base.prototype.constructor.call(this,o);l=m.value;n=m.getStoreFilter();if(n){m.active=true}else{if(m.grid.stateful&&m.getGridStore().saveStatefulFilters){l=undefined}m.active=m.getActiveState(o,l);n=m.createFilter({operator:m.operator,value:l});if(m.active){m.addStoreFilter(n)}}if(m.active){m.setColumnActive(true)}m.filter=n},activate:function(f){if(f){this.activateMenu()}else{this.addStoreFilter(this.filter)}},deactivate:function(){this.removeStoreFilter(this.filter)},getValue:function(f){return f.getValue()},onFilterRemove:function(){if(!this.menu||this.active){this.active=false}}},1,0,0,0,0,0,[Ext.grid.filters.filter,"SingleFilter"],0));(Ext.cmd.derive("Ext.grid.filters.filter.Boolean",Ext.grid.filters.filter.SingleFilter,{type:"boolean",operator:"==",defaultValue:false,yesText:"Yes",noText:"No",updateBuffer:0,createMenu:function(q){var o=this,n=Ext.id(),p={scope:o,click:o.onClick},m=o.getItemDefaults();Ext.grid.filters.filter.SingleFilter.prototype.createMenu.apply(this,arguments);o.menu.add([Ext.apply({text:o.yesText,filterKey:1,group:n,checked:!!o.defaultValue,hideOnClick:false,listeners:p},m),Ext.apply({text:o.noText,filterKey:0,group:n,checked:!o.defaultValue,hideOnClick:false,listeners:p},m)])},onClick:function(f){this.setValue(!!f.filterKey)},setValue:function(g){var k=this;k.filter.setValue(g);if(g!==undefined&&k.active){k.value=g;k.updateStoreFilter()}else{k.setActive(true)}},activateMenu:Ext.emptyFn},0,0,0,0,["grid.filter.boolean"],0,[Ext.grid.filters.filter,"Boolean"],0));(Ext.cmd.derive("Ext.grid.filters.filter.TriFilter",Ext.grid.filters.filter.Base,{menuItems:["lt","gt","-","eq"],constructor:function(w){var s=this,u=false,z={},v,t,x,q,y;Ext.grid.filters.filter.Base.prototype.constructor.call(this,w);q=s.value;t=s.getStoreFilter("lt");v=s.getStoreFilter("gt");x=s.getStoreFilter("eq");if(t||v||x){u=s.active=true;if(t){s.onStateRestore(t)}if(v){s.onStateRestore(v)}if(x){s.onStateRestore(x)}}else{if(s.grid.stateful&&s.getGridStore().saveStatefulFilters){q=undefined}s.active=s.getActiveState(w,q)}z.lt=t||s.createFilter({operator:"lt",value:(!u&&q&&Ext.isDefined(q.lt))?q.lt:null},"lt");z.gt=v||s.createFilter({operator:"gt",value:(!u&&q&&Ext.isDefined(q.gt))?q.gt:null},"gt");z.eq=x||s.createFilter({operator:"eq",value:(!u&&q&&Ext.isDefined(q.eq))?q.eq:null},"eq");s.filter=z;if(s.active){s.setColumnActive(true);if(!u){for(y in q){s.addStoreFilter(s.filter[y])}}}},activate:function(v){var u=this,y=u.filter,w=u.fields,z,s,x,q,t;if(u.preventFilterRemoval){return}for(x in y){z=y[x];s=w[x];q=z.getValue();if(q||q===0){if(s.isComponent){s.setValue(q);if(t===undefined){t=u.owner.activeFilterMenuItem===s.up("menuitem")}if(!t){s.up("menuitem").setChecked(true,true)}}else{s.value=q}if(!v){u.addStoreFilter(z)}}}},deactivate:function(){var o=this,p=o.filter,f,q,n;if(!o.countActiveFilters()||o.preventFilterRemoval){return}o.preventFilterRemoval=true;for(f in p){q=p[f];n=q.getValue();if(n||n===0){o.removeStoreFilter(q)}}o.preventFilterRemoval=false},countActiveFilters:function(){var o=this.filter,m=this.getGridStore().getFilters(),n=this.getBaseIdPrefix(),q=0,p;if(m.length){for(p in o){if(m.get(n+"-"+p)){q++}}}return q},onFilterRemove:function(m){var l=this,k;if(!l.menu&&l.countActiveFilters()){l.active=false}else{if(l.menu){k={};k[m]=null;l.setValue(k)}}},onStateRestore:Ext.emptyFn,setValue:function(v){var w=this,C=w.filter,E=[],x=[],A=false,y=w.getGridStore().getFilters(),D,F,z,u,B;if(w.preventFilterRemoval){return}w.preventFilterRemoval=true;if("eq" in v){F=C.lt.getValue();if(F||F===0){x.push(C.lt)}F=C.gt.getValue();if(F||F===0){x.push(C.gt)}F=v.eq;if(F||F===0){E.push(C.eq);C.eq.setValue(F)}else{x.push(C.eq)}}else{F=C.eq.getValue();if(F||F===0){x.push(C.eq)}if("lt" in v){F=v.lt;if(F||F===0){E.push(C.lt);C.lt.setValue(F)}else{x.push(C.lt)}}if("gt" in v){F=v.gt;if(F||F===0){E.push(C.gt);C.gt.setValue(F)}else{x.push(C.gt)}}}u=x.length;B=E.length;A=!!(w.countActiveFilters()+B-u);if(u||B||A!==w.active){y.beginUpdate();if(u){for(z=0;z<u;z++){D=x[z];w.fields[D.getOperator()].setValue(null);D.setValue(null);w.removeStoreFilter(D)}}if(B){for(z=0;z<B;z++){w.addStoreFilter(E[z])}}w.setActive(A);y.endUpdate()}w.preventFilterRemoval=false}},1,0,0,0,0,0,[Ext.grid.filters.filter,"TriFilter"],0));(Ext.cmd.derive("Ext.grid.filters.filter.Date",Ext.grid.filters.filter.TriFilter,{type:"date",config:{fields:{lt:{text:"Before"},gt:{text:"After"},eq:{text:"On"}},pickerDefaults:{xtype:"datepicker",border:0},updateBuffer:0,dateFormat:undefined},itemDefaults:{xtype:"menucheckitem",selectOnFocus:true,width:125,menu:{layout:"auto",plain:true}},applyDateFormat:function(f){return f||Ext.Date.defaultFormat},createMenu:function(D){var w=this,v={scope:w,checkchange:w.onCheckChange},E=w.menuItems,z,C,B,A,x,G,F,y,H;Ext.grid.filters.filter.TriFilter.prototype.createMenu.apply(this,arguments);C=w.getItemDefaults();z=w.getFields();B=Ext.apply({minDate:w.minDate,maxDate:w.maxDate,format:w.dateFormat,listeners:{scope:w,select:w.onMenuSelect}},w.getPickerDefaults());w.fields={};for(A=0,x=E.length;A<x;A++){G=E[A];if(G!=="-"){y={menu:{xtype:"datemenu",hideOnClick:false,pickerCfg:Ext.apply({itemId:G},B)}};if(C){Ext.merge(y,C)}if(z){Ext.merge(y,z[G])}F=w.menu.add(y);H=w.fields[G]=F.down("datepicker");H.filter=w.filter[G];H.filterKey=G;F.on(v)}else{w.menu.add(G)}}},getPicker:function(f){return this.fields[f]},onCheckChange:function(l,m){var n=l.down("datepicker").filter,o;if(!m&&n.getValue()){o={};o[n.getOperator()]=null;this.setValue(o)}},onFilterRemove:function(g){var k={};k[g]=null;this.setValue(k);this.fields[g].up("menuitem").setChecked(false,true)},onStateRestore:function(f){f.setSerializer(this.getSerializer());f.setConvert(this.convertDateOnly)},getFilterConfig:function(k,g){k=Ext.grid.filters.filter.TriFilter.prototype.getFilterConfig.call(this,k,g);k.serializer=this.getSerializer();k.convert=this.convertDateOnly;return k},convertDateOnly:function(g){var k=null;if(g){k=Ext.Date.clearTime(g,true).getTime()}return k},getSerializer:function(){var f=this;return function(e){var k=e.value;if(k){e.value=Ext.Date.format(k,f.getDateFormat())}}},onMenuSelect:function(w,z){var v=this,x=v.fields,A=v.filter,u=x[w.itemId],B=x.gt,y=x.lt,s=x.eq,t={};u.up("menuitem").setChecked(true,true);if(u===s){y.up("menuitem").setChecked(false,true);B.up("menuitem").setChecked(false,true)}else{s.up("menuitem").setChecked(false,true);if(u===B&&(+y.value<+z)){y.up("menuitem").setChecked(false,true);if(A.lt.getValue()!=null){t.lt=null}}else{if(u===y&&(+B.value>+z)){B.up("menuitem").setChecked(false,true);if(A.gt.getValue()!=null){t.gt=null}}}}t[u.filterKey]=z;v.setValue(t);w.up("menu").hide()}},0,0,0,0,["grid.filter.date"],0,[Ext.grid.filters.filter,"Date"],0));(Ext.cmd.derive("Ext.grid.filters.filter.List",Ext.grid.filters.filter.SingleFilter,{type:"list",operator:"in",itemDefaults:{checked:false,hideOnClick:false},idField:"id",labelField:"text",labelIndex:null,loadingText:"Loading...",loadOnShow:true,single:false,plain:true,gridStoreListenersCfg:{add:"onDataChanged",refresh:"onDataChanged",remove:"onDataChanged",update:"onDataChanged"},constructor:function(m){var k=this,l;Ext.grid.filters.filter.SingleFilter.prototype.constructor.call(this,m);k.labelIndex=k.labelIndex||k.column.dataIndex;if(k.store){k.store=Ext.StoreManager.lookup(k.store)}if(!k.store&&!k.options){l=k.getGridStore();if(k.value!=null&&k.active&&!l.isEmptyStore){k.gridStoreListeners=l.on(Ext.apply({scope:k,destroyable:true},k.gridStoreListenersCfg))}k.gridListeners=k.grid.on({reconfigure:k.onReconfigure,scope:k,destroyable:true});k.inferOptionsFromGridStore=true}},destroy:function(){var k=this,m=k.store,l=k.autoStore;if(m&&m.isStore){if(l||m.autoDestroy){m.destroy()}else{m.un("load",k.bindMenuStore,k)}k.store=null}Ext.destroy(k.gridStoreListeners,k.gridListeners);Ext.grid.filters.filter.SingleFilter.prototype.destroy.call(this)},activateMenu:function(){var o=this,n=o.filter.getValue(),q,p,t,s;if(!n||!n.length){return}q=o.menu.items;for(p=0,t=q.length;p<t;p++){s=q.getAt(p);if(Ext.Array.indexOf(n,s.value)>-1){s.setChecked(true,true)}}},bindMenuStore:function(k){var g=this;if(g.grid.destroyed||g.preventFilterRemoval){return}g.createListStore(k);g.createMenuItems(g.store);g.loaded=true},createListStore:function(D){var w=this,E=w.store,v=D.isStore,B=w.idField,z=w.labelField,o=false,C,A,y,x,F;if(v){if(D!==w.getGridStore()){o=true;E=w.store=D}else{w.autoStore=true;C=w.getOptionsFromStore(D)}}else{C=[];for(y=0,x=D.length;y<x;y++){F=D[y];switch(Ext.typeOf(F)){case"array":C.push(F);break;case"object":C.push(F);break;default:if(F!=null){A={};A[B]=F;A[z]=F;C.push(A)}}}}if(!o){if(E){E.destroy()}E=w.store=new Ext.data.Store({fields:[B,z],data:C});if(w.inferOptionsFromGridStore&!w.gridStoreListeners){w.gridStoreListeners=w.getGridStore().on(Ext.apply({scope:w,destroyable:true},w.gridStoreListenersCfg))}w.loaded=true}w.setStoreFilter(E)},createMenu:function(q){var o=this,p=o.getGridStore(),t=o.store,s=o.options,n;if(t){o.store=t=Ext.StoreManager.lookup(t)}Ext.grid.filters.filter.SingleFilter.prototype.createMenu.call(this,q);n=o.menu;if(t){if(!t.getCount()){n.add({text:o.loadingText,iconCls:"x-mask-msg-text"});n.on({show:o.show,scope:o});t.on("load",o.bindMenuStore,o,{single:true})}else{o.createMenuItems(t)}}else{if(s){o.bindMenuStore(s)}else{if(p.getCount()||p.isFiltered()){o.bindMenuStore(p)}else{p.on("load",o.bindMenuStore,o,{single:true})}}}},createMenuItems:function(J){var L=this,F=L.menu,M=J.getCount(),B=Ext.Array.contains,K,E,y,N,G,H,A,C,z,I,D;if(M&&F){E=L.getItemDefaults();F.suspendLayouts();F.removeAll(true);N=L.single?Ext.id():null;H=L.idField;C=L.labelField;D=[];for(z=0;z<M;z++){y=J.getAt(z);G=y.get(H);A=y.get(C);if(A==null||B(D,G)){continue}D.push(A);I=F.add(Ext.apply({text:A,group:N,value:G,checkHandler:L.onCheckChange,scope:L},E))}F.resumeLayouts(true)}},getFilterConfig:function(k,g){k.value=k.value||[];return Ext.grid.filters.filter.SingleFilter.prototype.getFilterConfig.call(this,k,g)},getOptionsFromStore:function(t){var v=this,x=t.getData(),A={},w=[],u=v.dataIndex,B=v.labelIndex,s,z,y;if(t.isFiltered()&&!t.remoteFilter){x=x.getSource()}t.each(function(e){s=e.data;z=s[u];y=s[B];if(y===undefined){y=z}if(!A[z]){A[z]=1;w.push([z,y])}},null,{filtered:true,collapsed:true});return w},onCheckChange:function(){var g=this,k=g.updateBuffer;if(k){g.task.delay(k)}else{g.setValue()}},onDataChanged:function(f){if(this.preventDefault){this.preventDefault=false}else{this.bindMenuStore(f)}},onReconfigure:function(g,k){if(k){this.bindMenuStore(k)}},setActive:function(f){if(this.active!==f){this.preventDefault=true;Ext.grid.filters.filter.SingleFilter.prototype.setActive.call(this,f)}},setStoreFilter:function(o){var m=this,l=m.value,n=m.filter;if(l){if(!Ext.isArray(l)){l=[l]}n.setValue(l)}if(m.active){m.preventFilterRemoval=true;m.addStoreFilter(n);m.preventFilterRemoval=false}},setValue:function(){var o=this,q=o.menu.items,n=[],p,t,s;o.preventDefault=true;for(p=0,t=q.length;p<t;p++){s=q.getAt(p);if(s.checked){n.push(s.value)}}if(!Ext.Array.equals(n,o.filter.getValue())){o.filter.setValue(n);t=n.length;if(t&&o.active){o.updateStoreFilter()}else{o.setActive(!!t)}}},show:function(){var f=this.store;if(this.loadOnShow&&!this.loaded&&!f.hasPendingLoad()){f.load()}}},1,0,0,0,["grid.filter.list"],0,[Ext.grid.filters.filter,"List"],0));(Ext.cmd.derive("Ext.grid.filters.filter.Number",Ext.grid.filters.filter.TriFilter,{type:"number",config:{fields:{gt:{iconCls:"x-grid-filters-gt",margin:"0 0 3px 0"},lt:{iconCls:"x-grid-filters-lt",margin:"0 0 3px 0"},eq:{iconCls:"x-grid-filters-eq",margin:0}}},emptyText:"Enter Number...",itemDefaults:{xtype:"numberfield",enableKeyEvents:true,hideEmptyLabel:false,labelSeparator:"",labelWidth:29,selectOnFocus:false},menuDefaults:{bodyPadding:3,showSeparator:false},createMenu:function(){var w=this,v={scope:w,keyup:w.onValueChange,spin:{fn:w.onInputSpin,buffer:200},el:{click:w.stopFn}},B=w.getItemDefaults(),C=w.menuItems,z=w.getFields(),u,A,x,t,D,y;Ext.grid.filters.filter.TriFilter.prototype.createMenu.call(this);w.fields={};for(A=0,x=C.length;A<x;A++){t=C[A];if(t!=="-"){u=z[t];y={labelClsExtra:"x-grid-filters-icon "+u.iconCls};if(B){Ext.merge(y,B)}Ext.merge(y,u);y.emptyText=y.emptyText||w.emptyText;delete y.iconCls;w.fields[t]=D=w.menu.add(y);D.filter=w.filter[t];D.filterKey=t;D.on(v)}else{w.menu.add(t)}}},getValue:function(g){var k={};k[g.filterKey]=g.getValue();return k},onInputSpin:function(k,l){var m={};m[k.filterKey]=k.getValue();this.setValue(m)},stopFn:function(e){e.stopPropagation()}},0,0,0,0,["grid.filter.number","grid.filter.numeric"],0,[Ext.grid.filters.filter,"Number"],0));(Ext.cmd.derive("Ext.grid.filters.filter.String",Ext.grid.filters.filter.SingleFilter,{type:"string",operator:"like",emptyText:"Enter Filter Text...",itemDefaults:{xtype:"textfield",enableKeyEvents:true,hideEmptyLabel:false,iconCls:"x-grid-filters-find",labelSeparator:"",labelWidth:29,margin:0,selectOnFocus:true},menuDefaults:{bodyPadding:3,showSeparator:false},createMenu:function(){var g=this,k;Ext.grid.filters.filter.SingleFilter.prototype.createMenu.call(this);k=Ext.apply({},g.getItemDefaults());if(k.iconCls&&!("labelClsExtra" in k)){k.labelClsExtra="x-grid-filters-icon "+k.iconCls}delete k.iconCls;k.emptyText=k.emptyText||g.emptyText;g.inputItem=g.menu.add(k);g.inputItem.on({scope:g,keyup:g.onValueChange,el:{click:function(e){e.stopPropagation()}}})},setValue:function(g){var k=this;if(k.inputItem){k.inputItem.setValue(g)}k.filter.setValue(g);if(g&&k.active){k.value=g;k.updateStoreFilter()}else{k.setActive(!!g)}},activateMenu:function(){this.inputItem.setValue(this.filter.getValue())},createFilter:function(m,l){var k=this;if(k.filterFn){return new Ext.util.Filter({filterFn:function(e){return Ext.callback(k.filterFn,k.scope,[e,k.inputItem.getValue()])}})}else{return Ext.grid.filters.filter.SingleFilter.prototype.createFilter.call(this,m,l)}}},0,0,0,0,["grid.filter.string"],0,[Ext.grid.filters.filter,"String"],0));(Ext.cmd.derive("Ext.grid.filters.Filters",Ext.plugin.Abstract,{id:"gridfilters",defaultFilterTypes:{"boolean":"boolean","int":"number",date:"date",number:"number"},filterCls:"x-grid-filters-filtered-column",menuFilterText:"Filters",showMenu:true,stateId:undefined,init:function(n){var m=this,o,l;m.grid=n;n.filters=m;if(m.grid.normalGrid){m.isLocked=true}n.clearFilters=m.clearFilters.bind(m);o=n.store;l=n.headerCt;m.headerCtListeners=l.on({destroyable:true,scope:m,add:m.onAdd,menucreate:m.onMenuCreate});m.gridListeners=n.on({destroyable:true,scope:m,reconfigure:m.onReconfigure});m.bindStore(o);if(n.stateful){o.statefulFilters=true}m.initColumns()},initColumns:function(){var q=this.grid,u=q.getStore(),s=q.columnManager.getColumns(),v=s.length,t,x,p,w;for(t=0;t<v;t++){x=s[t];p=x.filter;if(p&&!p.isGridFilter){if(!w){w=u.getFilters();w.beginUpdate()}this.createColumnFilter(x)}}if(w){w.endUpdate()}},createColumnFilter:function(p){var o=this,u=p.filter,q={column:p,grid:o.grid,owner:o},v,t,s;if(Ext.isString(u)){q.type=u}else{Ext.apply(q,u)}if(!q.type){t=o.store.getModel();v=t&&t.getField(p.dataIndex);s=v&&v.type;q.type=(s&&o.defaultFilterTypes[s])||p.defaultFilterType||"string"}p.filter=Ext.Factory.gridFilter(q);if(!p.menuDisabled){p.requiresMenu=true}},onAdd:function(l,m,o){var n=m.filter;if(n&&!n.isGridFilter){this.createColumnFilter(m)}},onMenuCreate:function(g,k){k.on({beforeshow:this.onMenuBeforeShow,scope:this})},onMenuBeforeShow:function(n){var o=this,q,s,p,t;if(o.showMenu){if(!o.filterMenuItem){o.filterMenuItem={}}p=n.up("tablepanel");t=p.id;q=o.filterMenuItem[t];if(!q||q.destroyed){q=o.createMenuItem(n,t)}o.activeFilterMenuItem=q;s=o.getMenuFilter(p.headerCt);if(s){s.showMenu(q)}q.setVisible(!!s);if(o.sep){o.sep.setVisible(!!s)}}},createMenuItem:function(l,o){var m=this,n;if(l.items.length){m.sep=l.add("-")}n=l.add({checked:false,itemId:"filters",text:m.menuFilterText,listeners:{scope:m,checkchange:m.onCheckChange}});return(m.filterMenuItem[o]=n)},destroy:function(){var k=this,m=k.filterMenuItem,l;Ext.destroy(k.headerCtListeners,k.gridListeners);k.bindStore(null);k.sep=Ext.destroy(k.sep);for(l in m){m[l].destroy()}Ext.plugin.Abstract.prototype.destroy.call(this)},onUnbindStore:function(f){if(f&&!f.destroyed){f.getFilters().un("remove",this.onFilterRemove,this)}},onBindStore:function(m,l,k){this.local=!m.getRemoteFilter();m.getFilters().on("remove",this.onFilterRemove,this)},onFilterRemove:function(w,p){var u=p.items.length,v=this.grid.columnManager,t,q,x,s;for(t=0;t<u;t++){q=p.items[t];x=v.getHeaderByDataIndex(q.getProperty());if(x){s=x.filter;if(!s||!s.menu||q.getId().indexOf(s.getBaseIdPrefix())===-1){continue}if(!s.preventFilterRemoval){s.onFilterRemove(q.getOperator())}}}},getMenuFilter:function(f){return f.getMenu().activeHeader.filter},onCheckChange:function(m,l){var n=this.isLocked?m.up("tablepanel"):this.grid,o=this.getMenuFilter(n.headerCt);o.setActive(l)},getHeaders:function(){return this.grid.view.headerCt.columnManager.getColumns()},isStateful:function(){return this.grid.stateful},addFilter:function(B){var w=this,D=w.grid,u=w.store,A=false,F=true,v,z,y,x,C,E;if(!Ext.isArray(B)){B=[B]}for(y=0,x=B.length;y<x;y++){C=B[y];v=C.dataIndex;z=D.columnManager.getHeaderByDataIndex(v);if(z){A=true;if(C.value){F=false}E=z.filter;if(E&&E.isGridFilter){E.deactivate();E.destroy();if(w.activeFilterMenuItem){w.activeFilterMenuItem.menu=null}}z.filter=C}}if(A){u.suppressNextFilter=F;w.initColumns();u.suppressNextFilter=false}},addFilters:function(f){if(f){this.addFilter(f)}},clearFilters:function(){var q=this.grid,s=q.columnManager.getColumns(),u=q.store,x,p,t,v,w;for(t=0,v=s.length;t<v;t++){x=s[t];p=x.filter;if(p&&p.isGridFilter){if(!w){w=u.getFilters();w.beginUpdate()}p.setActive(false)}}if(w){w.endUpdate()}},onReconfigure:function(q,v,s,w){var p=this,t=p.filterMenuItem,x=w!==v,u;if(s){for(u in t){t[u].setMenu(null)}}if(v){if(w&&!w.destroyed&&x){p.resetFilters(w)}if(x){p.bindStore(v);p.applyFilters(v)}}p.initColumns()},privates:{applyFilters:function(t){var q=this.grid.columnManager.getColumns(),u=q.length,s,o,p,v;for(s=0;s<u;s++){o=q[s];p=o.filter;if(p&&p.isGridFilter){if(!v){v=t.getFilters();v.beginUpdate()}if(p.active){p.activate()}}}if(v){v.endUpdate()}},resetFilters:function(q){var m=q.getFilters(),p,n,o;if(m){for(p=m.getCount()-1;p>=0;--p){o=m.getAt(p);if(o.isGridFilter){if(!n){m.beginUpdate()}m.remove(o);n=true}}if(n){m.endUpdate()}}}}},0,0,0,0,["plugin.gridfilters"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.grid.filters,"Filters"],0));(Ext.cmd.derive("Ext.grid.locking.HeaderContainer",Ext.grid.header.Container,{headerCtRelayEvents:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","remove","add","beforeremove","beforeadd","afterlayout","menucreate","sortchange","columnschanged","columnshow","columnhide","columnmove","headertriggerclick","headercontextmenu","headerclick","columnresize","statesave","beforestatesave","staterestore","beforestaterestore"],constructor:function(n){var o=this,l=n.lockedGrid,m=n.normalGrid;o.lockable=n;Ext.grid.header.Container.prototype.constructor.call(this);l.visibleColumnManager.rootColumns=m.visibleColumnManager.rootColumns=n.visibleColumnManager=o.visibleColumnManager=new Ext.grid.ColumnManager(true,l.headerCt,m.headerCt);l.columnManager.rootColumns=m.columnManager.rootColumns=n.columnManager=o.columnManager=new Ext.grid.ColumnManager(false,l.headerCt,m.headerCt);o.lockedEventRelayers=o.relayEvents(l.headerCt,o.headerCtRelayEvents);o.normalEventRelayers=o.relayEvents(m.headerCt,o.headerCtRelayEvents)},destroy:function(){var f=this;Ext.destroy(f.lockedEventRelayers,f.normalEventRelayers);f.lockedEventRelayers=f.normalEventRelayers=null;Ext.grid.header.Container.prototype.destroy.call(this)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var l=this,m=l.lockable.lockedGrid.headerCt.getColumnsState(),k=l.lockable.normalGrid.headerCt.getColumnsState();return m.concat(k)},applyColumnsState:function(F,D){var v=this,B=v.lockable.lockedGrid,A=B.headerCt,w=v.lockable.normalGrid.headerCt,z=A.items.items.concat(w.items.items),E=z.length,x,C,G,y,H;for(x=0;x<E;x++){C=z[x];y=F[C.getStateId()];if(y){G=y.locked!=null&&Boolean(C.locked)!==y.locked;if(C.applyColumnState){C.applyColumnState(y,D)}if(G){(C.locked?A:w).add(C)}}}H=A.items.items.length;for(x=0;x<E;x++){C=z[x];y=F[C.getStateId()];if(y&&!C.locked){y.index-=H}}A.applyColumnsState(F,D);w.applyColumnsState(F,D)},disable:function(){var f=this.lockable;f.lockedGrid.headerCt.disable();f.normalGrid.headerCt.disable()},enable:function(){var f=this.lockable;f.lockedGrid.headerCt.enable();f.normalGrid.headerCt.enable()}},1,0,["component","box","container","headercontainer"],{component:true,box:true,container:true,headercontainer:true},0,0,[Ext.grid.locking,"HeaderContainer"],0));(Ext.cmd.derive("Ext.grid.locking.View",Ext.Base,{alternateClassName:"Ext.grid.LockingView",isLockingView:true,loadMask:true,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(q){var o=Ext,m=this,n,p;m.ownerGrid=q.ownerGrid;m.ownerGrid.view=m;m.navigationModel=q.locked.xtype==="treepanel"?new o.tree.NavigationModel(m):new o.grid.NavigationModel(m);q.locked.viewConfig.bindStore=o.emptyFn;q.normal.viewConfig.bindStore=m.subViewBindStore;q.normal.viewConfig.isNormalView=q.locked.viewConfig.isLockedView=true;q.locked.viewConfig.navigationModel=q.normal.viewConfig.navigationModel=m.navigationModel;m.lockedGrid=m.ownerGrid.lockedGrid=o.ComponentManager.create(q.locked);m.lockedView=n=m.lockedGrid.getView();m.selModel=q.normal.viewConfig.selModel=n.getSelectionModel();if(m.lockedGrid.isTree){m.lockedView.animate=false;q.normal.store=n.store;q.normal.viewConfig.stripeRows=m.lockedView.stripeRows;q.normal.rowLines=m.lockedGrid.rowLines}m.normalGrid=m.ownerGrid.normalGrid=o.ComponentManager.create(q.normal);n.lockingPartner=p=m.normalView=m.normalGrid.getView();p.lockingPartner=n;Ext.override(m.normalGrid,{beforeRender:m.beforeNormalGridRender});m.loadMask=(q.loadMask!==undefined)?q.loadMask:m.loadMask;m.mixins.observable.constructor.call(m);m.lockedViewEventRelayers=m.relayEvents(n,o.view.Table.events);m.normalViewEventRelayers=m.relayEvents(p,o.view.Table.events.concat(o.view.Table.normalSideEvents));p.on({scope:m,itemmouseleave:m.onItemMouseLeave,itemmouseenter:m.onItemMouseEnter});n.on({scope:m,itemmouseleave:m.onItemMouseLeave,itemmouseenter:m.onItemMouseEnter});m.loadingText=p.loadingText;m.loadingCls=p.loadingCls;m.loadingUseMsg=p.loadingUseMsg;m.itemSelector=m.getItemSelector();m.all=p.all;m.bindStore(p.dataSource,true,"dataSource")},subViewBindStore:function(p,o){var m=this,n=m.ownerGrid,q;if(m.destroying||m.destroyed||n.destroying||n.destroyed){return}q=m.getSelectionModel();q.bindStore(p,o);q.bindComponent(m)},beforeNormalGridRender:function(){if(this.ownerGrid.lockedGrid.getHeader()&&!this.title){this.title="\xa0"}this.callParent()},onPanelRender:function(m){var l=this,n=l.loadMask,o={target:l.ownerGrid,msg:l.loadingText,msgCls:l.loadingCls,useMsg:l.loadingUseMsg,store:l.ownerGrid.store};l.el=m;l.rendered=true;l.fireEvent("render",l);if(n){if(Ext.isObject(n)){o=Ext.apply(o,n)}l.loadMask=new Ext.LoadMask(o)}},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(f){return this.getViewForColumn(f).getEl()},getCellSelector:function(){return this.normalView.getCellSelector()},getItemSelector:function(){return this.normalView.getItemSelector()},getViewForColumn:function(l){var m=this.lockedView,k;m.headerCt.cascade(function(e){if(e===l){k=true;return false}});return k?m:this.normalView},onItemMouseEnter:function(q,s){var n=this,p=n.lockedView,t=n.normalView,o;if(q.trackOver){if(q!==p){t=p}o=t.getNode(s);t.highlightItem(o)}},onItemMouseLeave:function(o,p){var m=this,n=m.lockedView,q=m.normalView;if(o.trackOver){if(o!==n){q=n}q.clearHighlight()}},relayFn:function(m,n){n=n||[];var l=this,o=l.lockedView;l.relayingOperation=true;o[m].apply(o,n);o=l.normalView;o[m].apply(o,n);l.relayingOperation=false},getSelectionModel:function(){return this.normalView.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(t,s,n){var o=this,p=o.lockedView,q=o.normalView;if(q.componentLayoutCounter&&!(p.blockRefresh&&q.blockRefresh)){Ext.suspendLayouts();p.doFirstRefresh(t);q.doFirstRefresh(t);Ext.resumeLayouts(true)}},getStoreListeners:function(){var f=this;return{priority:1000,refresh:f.onDataRefresh,replace:f.onReplace,add:f.onAdd,remove:f.onRemove,update:f.onUpdate,clear:f.onDataRefresh,beginupdate:f.onBeginUpdate,endupdate:f.onEndUpdate}},onOwnerGridHide:function(){Ext.suspendLayouts();this.relayFn("onOwnerGridHide",arguments);Ext.resumeLayouts(true)},onOwnerGridShow:function(){Ext.suspendLayouts();this.relayFn("onOwnerGridShow",arguments);Ext.resumeLayouts(true)},onBeginUpdate:function(){Ext.suspendLayouts();this.relayFn("onBeginUpdate",arguments);Ext.resumeLayouts(true)},onEndUpdate:function(){Ext.suspendLayouts();this.relayFn("onEndUpdate",arguments);Ext.resumeLayouts(true)},onDataRefresh:function(){Ext.suspendLayouts();this.relayFn("onDataRefresh",arguments);Ext.resumeLayouts(true)},onReplace:function(){Ext.suspendLayouts();this.relayFn("onReplace",arguments);Ext.resumeLayouts(true)},onAdd:function(){Ext.suspendLayouts();this.relayFn("onAdd",arguments);Ext.resumeLayouts(true)},onRemove:function(){Ext.suspendLayouts();this.relayFn("onRemove",arguments);Ext.resumeLayouts(true)},setActionableMode:function(l,n){var o,m;if(l){if(!n){n=this.getNavigationModel().getPosition()}if(n){n=n.clone();n.view=m=n.column.getView();o=m.setActionableMode(l,n);if(o!==false&&m.lockingPartner.grid.isVisible()){m.lockingPartner.setActionableMode(l,n);if(!m.lockingPartner.actionableMode){m.setActionableMode(false);o=false}}return o}else{return false}}else{this.relayFn("setActionableMode",[false])}},onUpdate:function(){Ext.suspendLayouts();this.relayFn("onUpdate",arguments);Ext.resumeLayouts(true)},refresh:function(){var g=this.lockedView,k=this.normalView;Ext.suspendLayouts();g.clearViewEl(true);k.clearViewEl(true);k.refresh();g.refresh();Ext.resumeLayouts(true)},refreshView:function(){var l=this.lockedView,m=this.normalView,k=m.all.startIndex;Ext.suspendLayouts();l.clearViewEl(true);m.clearViewEl(true);m.refreshView(k);l.refreshView(k);Ext.resumeLayouts(true)},setScrollable:function(f){Ext.suspendLayouts();this.lockedView.setScrollable(f);if(f.isScroller){f=new Ext.scroll.Scroller(f.initialConfig)}this.normalView.setScrollable(f);Ext.resumeLayouts(true)},getNode:function(f){return this.normalView.getNode(f)},getRow:function(f){return this.normalView.getRow(f)},getCell:function(n,m){var o=this.getViewForColumn(m),l=o.getRow(n);return Ext.fly(l).down(m.getCellSelector())},indexOf:function(g){var k=this.lockedView.indexOf(g);if(!k){k=this.normalView.indexOf(g)}return k},focus:function(){var f=this.ownerGrid.down(">tablepanel:not(hidden)>tableview");if(f){f.focus()}},focusRow:function(k){var m,l=this.getNavigationModel().lastFocused;m=l?l.view:this.normalView;m.focusRow(k)},focusCell:function(f){f.view.focusCell(f)},onRowFocus:function(){this.relayFn("onRowFocus",arguments)},isVisible:function(f){return this.ownerGrid.isVisible(f)},getCellInclusive:function(l,n){var o=l.column,m=this.lockedGrid.getColumnManager().getColumns().length;if(o>=m){l=Ext.apply({},l);l.column-=m;return this.normalView.getCellInclusive(l,n)}else{return this.lockedView.getCellInclusive(l,n)}},getHeaderByCell:function(f){if(f){return this.getVisibleColumnManager().getHeaderById(f.getAttribute("data-columnId"))}return false},onRowSelect:function(){this.relayFn("onRowSelect",arguments)},onRowDeselect:function(){this.relayFn("onRowDeselect",arguments)},onCellSelect:function(f){f.column.getView().onCellSelect({record:f.record,column:f.column})},onCellDeselect:function(f){f.column.getView().onCellDeselect({record:f.record,column:f.column})},getCellByPosition:function(m,o){var n=this,q=m.view,p=m.column;if(q===n){m=new Ext.grid.CellContext(p.getView()).setPosition(m.record,m.column)}return q.getCellByPosition(m,o)},getRecord:function(g){var k=this.lockedView.getRecord(g);if(!k){k=this.normalView.getRecord(g)}return k},scrollBy:function(){var f=this.ownerGrid.getScrollable();f.scrollBy.apply(f,arguments)},ensureVisible:function(){var f=this.normalView;f.ensureVisible.apply(f,arguments)},disable:function(){this.relayFn("disable",arguments)},enable:function(){this.relayFn("enable",arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var f=this;f.rendered=false;f.bindStore(null,false,"dataSource");Ext.destroy(f.selModel,f.navigationModel,f.loadMask,f.lockedViewEventRelayers,f.normalViewEventRelayers);f.lockedView.lockingPartner=f.normalView.lockingPartner=null;f.callParent()}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable]],[Ext.grid.locking,"View",Ext.grid,"LockingView"],function(){this.borrow(Ext.Component,["up"]);this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"]);this.borrow(Ext.view.Table,["cellSelector","selectedCellCls","selectedItemCls"])}));(Ext.cmd.derive("Ext.scroll.LockingScroller",Ext.scroll.Scroller,{config:{lockedScroller:null,normalScroller:null},scrollTo:function(o,l,m){var n;if(Ext.isObject(o)){n=o.lockedX;if(n){this.getLockedScroller().scrollTo(n,null,m)}}Ext.scroll.Scroller.prototype.scrollTo.call(this,o,l,m)},updateLockedScroller:function(f){f.on("scroll","onLockedScroll",this);f.setLockingScroller(this)},updateNormalScroller:function(f){f.on("scroll","onNormalScroll",this);f.setLockingScroller(this)},getPosition:function(){var g=this,k=Ext.scroll.Scroller.prototype.getPosition.call(this);k.x=g.getNormalScroller().getPosition().x;k.lockedX=g.getLockedScroller().getPosition().x;return k},privates:{updateSpacerXY:function(v){var o=this,t=o.getLockedScroller(),q=o.getNormalScroller(),p=t.component,s=q.component,u=v.y+((s.headerCt.tooNarrow||p.headerCt.tooNarrow)?Ext.getScrollbarSize().height:0);s.stretchHeight(u);p.stretchHeight(u);Ext.scroll.Scroller.prototype.updateSpacerXY.call(this,v)},doScrollTo:function(m,k,l){if(m!=null){this.getNormalScroller().scrollTo(m,null,l);m=null}Ext.scroll.Scroller.prototype.doScrollTo.call(this,m,k,l)},onLockedScroll:function(l,m,k){this.position.lockedX=m},onNormalScroll:function(l,m,k){this.position.x=m}}},0,0,0,0,["scroller.locking"],0,[Ext.scroll,"LockingScroller"],0));(Ext.cmd.derive("Ext.grid.locking.Lockable",Ext.Base,{alternateClassName:"Ext.grid.Lockable",syncRowHeight:true,headerCounter:0,lockedGridCls:"x-grid-inner-locked",normalGridCls:"x-grid-inner-normal",lockingBodyCls:"x-grid-locking-body",scrollContainerCls:"x-grid-scroll-container",scrollBodyCls:"x-grid-scroll-body",scrollbarClipperCls:"x-grid-scrollbar-clipper",scrollbarCls:"x-grid-scrollbar",scrollbarVisibleCls:"x-grid-scrollbar-visible",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","multiColumnSort","columnLines","rowLines","variableRowHeight","numFromEdge","trailingBufferZone","leadingBufferZone","scrollToLoadBuffer","syncRowHeight"],normalCfgCopy:["scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(p){var s=this,v,q,t,o,u;if(s.subGridXType){v=s.subGridXType}else{if(!p){return"gridpanel"}q=s.getXTypes().split("/");t=q.length;o=q[t-1];u=q[t-2];if(u!=="tablepanel"){v=u}else{v=o}}return v},injectLockable:function(){this.focusable=false;this.lockable=true;this.hasView=true;var M=this,K=M.store=Ext.StoreManager.lookup(M.store),A=M.lockedViewConfig,L=M.normalViewConfig,B=Ext.Object,P,H,E,N,D,F,G,C,z=M.viewConfig,O=z&&z.loadMask,I=(O!==undefined)?O:M.loadMask,J=M.bufferedRenderer;P=M.constructLockableFeatures();M.scrollable=new Ext.scroll.LockingScroller({component:M,x:false,y:true});M.features=null;H=M.constructLockablePlugins();M.plugins=H.topPlugins;E={id:M.id+"-locked",$initParent:M,isLocked:true,bufferedRenderer:J,ownerGrid:M,ownerLockable:M,xtype:M.determineXTypeToCreate(true),store:K,scrollerOwner:false,animate:false,border:false,cls:M.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.normalGrid.floatedFromCollapse},features:P.lockedFeatures,plugins:H.lockedPlugins};N={id:M.id+"-normal",$initParent:M,isLocked:false,bufferedRenderer:J,ownerGrid:M,ownerLockable:M,xtype:M.determineXTypeToCreate(),store:K,reserveScrollbar:M.reserveScrollbar,scrollerOwner:false,border:false,cls:M.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.lockedGrid.floatedFromCollapse},features:P.normalFeatures,plugins:H.normalPlugins};M.addCls("x-grid-locked");Ext.copy(N,M,M.bothCfgCopy,true);Ext.copy(E,M,M.bothCfgCopy,true);Ext.copy(N,M,M.normalCfgCopy,true);Ext.copy(E,M,M.lockedCfgCopy,true);Ext.apply(N,M.normalGridConfig);Ext.apply(E,M.lockedGridConfig);for(D=0;D<M.normalCfgCopy.length;D++){delete M[M.normalCfgCopy[D]]}for(D=0;D<M.lockedCfgCopy.length;D++){delete M[M.lockedCfgCopy[D]]}M.addStateEvents(["lockcolumn","unlockcolumn"]);F=M.processColumns(M.columns||[],E);E.columns=F.locked;if(!E.columns.items.length){E.hidden=true}N.columns=F.normal;if(!N.columns.items.length){N.hidden=true}N.flex=1;E.viewConfig=A=(A?B.chain(A):{});N.viewConfig=L=(L?B.chain(L):{});A.loadingUseMsg=false;A.loadMask=false;L.loadMask=false;Ext.applyIf(A,z);Ext.applyIf(L,z);if(M.layout===Ext.panel.Table.prototype.layout){M.layout={type:"hbox",align:"stretch"}}M.getLayout();if(M.layout.type==="border"){if(M.split){E.split=M.split}if(!E.region){E.region="west"}if(!N.region){N.region="center"}M.addCls("x-grid-locked-split")}if(!(M.layout instanceof Ext.layout.container.Box)){M.split=false}M.view=new Ext.grid.locking.View({loadMask:I,locked:E,normal:N,ownerGrid:M});E=M.lockedGrid;N=M.normalGrid;E.on({beginfloat:M.onBeginLockedFloat,endfloat:M.onEndLockedFloat,scope:M});if(!E.getVisibleColumnManager().getColumns().length){E.hide()}if(!N.getVisibleColumnManager().getColumns().length){N.hide()}G=E.headerCt;C=N.headerCt;M.headerCt=M.view.headerCt=new Ext.grid.locking.HeaderContainer(M);G.lockedCt=true;G.lockableInjected=true;C.lockableInjected=true;G.on({add:M.delaySyncLockedWidth,remove:M.delaySyncLockedWidth,columnshow:M.delaySyncLockedWidth,columnhide:M.delaySyncLockedWidth,sortchange:M.onLockedHeaderSortChange,columnresize:M.delaySyncLockedWidth,scope:M});C.on({add:M.delaySyncLockedWidth,remove:M.delaySyncLockedWidth,columnshow:M.delaySyncLockedWidth,columnhide:M.delaySyncLockedWidth,sortchange:M.onNormalHeaderSortChange,scope:M});M.modifyHeaderCt();M.items=[E];if(M.split){M.addCls("x-grid-locked-split");M.items[1]=Ext.apply({xtype:"splitter"},M.split)}M.items.push(N);M.relayHeaderCtEvents(G);M.relayHeaderCtEvents(C);M.storeRelayers=M.relayEvents(K,["filterchange","groupchange","beforeload","load"]);M.gridRelayers=M.relayEvents(N,["viewready"])},afterInjectLockable:function(){delete this.lockedGrid.$initParent;delete this.normalGrid.$initParent},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},onBeginLockedFloat:function(q){var o=q.getContentTarget().dom,m=this.lockedGrid.headerCt,p=this.normalGrid.headerCt,n=Math.max(p.getHeight(),m.getHeight());m.minHeight=n;p.minHeight=n;q.el.addCls(Ext.panel.Panel.floatCls);if(o.firstChild!==q.view.el.dom){o.appendChild(q.view.el.dom)}q.body.dom.style.overflowX=this.normalGrid.headerCt.tooNarrow?"scroll":"";q.body.dom.scrollTop=this.getScrollable().getPosition().y},onEndLockedFloat:function(){var k=this.lockedGrid,g=k.getContentTarget().dom;if(k.collapsed){k.el.removeCls(Ext.panel.Panel.floatCls)}else{this.lockedGrid.headerCt.minHeight=this.normalGrid.headerCt.minHeight=null}this.lockedScrollbarClipper.appendChild(k.view.el.dom);this.syncLockableLayout()},beforeLayout:function(){var o=this,m=o.lockedGrid,n=o.normalGrid,l;if(m&&n){if(!m.layoutCounter&&m.getSizeModel().width.shrinkWrap){m.gridPanelBorderWidth=m.el.getBorderWidth("lr");m.shrinkWrapColumns=true}if(m.shrinkWrapColumns){l=m.headerCt.getTableWidth();m.setWidth(l+m.gridPanelBorderWidth)}if(!o.scrollContainer){o.initScrollContainer()}o.lastScrollPos=o.getScrollable().getPosition();m.view.el.setStyle("margin-bottom","");n.view.el.setStyle("margin-bottom","")}},syncLockableLayout:function(){var N=this,T=N.lockedGrid,U=N.normalGrid,S,X,al,M,ab,ak,ad,Y,ae,af,O,W,ai,ag,ac,aa,Q,P,V,Z,R,aj,K,L,ah;if(!N.isCollapsingOrExpanding&&T&&U){R=T.isVisible(true)&&!T.collapsed;aj=U.isVisible(true);S=T.view.el;X=U.view.el;al=S.dom;M=X.dom;K=N.scrollBody.dom;ab=R?T.body.getRegion(true):new Ext.util.Region(0,0,0,0);ak=aj?U.body.getRegion(true):new Ext.util.Region(0,0,0,0);ad=Ext.getScrollbarSize();Y=ad.width;ae=ad.height;af=aj?ak.width:0;O=R?ab.width:0;W=R?ak.x-ab.x:0;ag=(U.headerCt.tooNarrow||T.headerCt.tooNarrow)?ae:0;ac=ak.height;aa=ac;Q=N.lockedScrollbar;P=N.normalScrollbar;V=N.scrollbarVisibleCls,ah=X._rtlScrollbarOnRight;if(ag){S.setStyle("margin-bottom",-ae+"px");X.setStyle("margin-bottom",-ae+"px");aa-=ae;if(R&&T.view.body.dom){N.lockedScrollbarScroller.setSize({x:T.headerCt.getTableWidth()})}if(U.view.body.dom){N.normalScrollbarScroller.setSize({x:U.headerCt.getTableWidth()})}}N.scrollBody.setHeight(aa);S.dom.style.height=X.dom.style.height="";Z=(N.scrollable.getSize().y+ag);U.view.stretchHeight(Z);T.view.stretchHeight(Z);ai=Y&&K.scrollHeight>K.clientHeight;if(ai&&af){af-=Y;X.setStyle("width",af+"px")}Q.toggleCls(V,R&&!!ag);P.toggleCls(V,!!ag);N.normalScrollbarClipper.toggleCls(N.scrollbarClipperCls+"-floated",!!N.normalGrid.floatedFromCollapse);N.normalScrollbar.toggleCls(N.scrollbarCls+"-floated",!!N.normalGrid.floatedFromCollapse);N.lockedScrollbarClipper.toggleCls(N.scrollbarClipperCls+"-floated",!!N.lockedGrid.floatedFromCollapse);N.lockedScrollbar.toggleCls(N.scrollbarCls+"-floated",!!N.lockedGrid.floatedFromCollapse);Q.setSize(N.lockedScrollbarClipper.dom.offsetWidth,ae);P.setSize(af,ae);if(N.getInherited().rtl){P.rtlSetLocalX(W);N.normalScrollbarClipper.rtlSetLocalX(W)}else{P.setLocalX(W);N.normalScrollbarClipper.setLocalX(W)}N.scrollContainer.setBox(L=R?ab.union(ak):ak);if(ah){if(ai){K.style.width=(L+Y)+"px";K.style.right=-Y+"px";U.headerCt.layout.innerCt.setWidth(U.headerCt.layout.innerCt.getWidth()+Y);N.verticalScrollbarScroller.setSize({y:N.scrollable.getSize().y});N.verticalScrollbar.show()}else{N.verticalScrollbar.hide()}}N.getScrollable().scrollTo(N.lastScrollPos)}},initScrollContainer:function(){var z=this,L=z.scrollContainer=z.body.insertFirst({cls:[z.scrollContainerCls,z._rtlCls]}),A=z.scrollBody=L.appendChild({cls:z.scrollBodyCls}),H=z.lockedScrollbar=L.appendChild({cls:[z.scrollbarCls,z.scrollbarCls+"-locked",z._rtlCls]}),E=z.normalScrollbar=L.appendChild({cls:[z.scrollbarCls,z._rtlCls]}),I=z.lockedGrid.view,F=z.normalGrid.view,K=I.getScrollable(),x=F.getScrollable(),G=Ext.scroll.Scroller,C,D,J,B,y;I.stretchHeight(0);F.stretchHeight(0);z.scrollable.setConfig({element:A,lockedScroller:K,normalScroller:x});J=z.lockedScrollbarClipper=A.appendChild({cls:[z.scrollbarClipperCls,z.scrollbarClipperCls+"-locked",z._rtlCls]});B=z.normalScrollbarClipper=A.appendChild({cls:[z.scrollbarClipperCls,z._rtlCls]});J.appendChild(I.el);B.appendChild(F.el);I.ignoreDomPosition=true;F.ignoreDomPosition=true;C=z.lockedScrollbarScroller=new G({element:H,x:"scroll",y:false,rtl:K.getRtl&&K.getRtl()});D=z.normalScrollbarScroller=new G({element:E,x:"scroll",y:false,rtl:x.getRtl&&x.getRtl()});if(F.el._rtlScrollbarOnRight){z.verticalScrollbar=L.appendChild({cls:z.scrollbarCls,style:{top:0,left:0,bottom:0,width:Ext.getScrollbarSize().width+"px"}});z.verticalScrollbarScroller=new G({element:z.verticalScrollbar,x:false,y:true});z.verticalScrollbarScroller.addPartner(z.scrollable,"y")}C.addPartner(K,"x");D.addPartner(x,"x");y=z.lockedGrid.headerCt.getScrollable();if(y){C.addPartner(y,"x")}y=z.normalGrid.headerCt.getScrollable();if(y){D.addPartner(y,"x")}z.view.onPanelRender(A)},processColumns:function(z,B){var G=this,y,w,A,H=new Ext.grid.header.Container({"$initParent":G}),v=[],C=[],D={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:v},x={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:C},F={locked:D,normal:x},E;if(Ext.isObject(z)){Ext.applyIf(D,z);Ext.applyIf(x,z);E=Ext.apply({},z);delete E.items;Ext.apply(H,E);z=z.items}H.constructing=true;for(y=0,w=z.length;y<w;++y){A=z[y];if(!A.isComponent){A=H.applyDefaults(A);A.$initParent=H;A=H.lookupComponent(A);delete A.$initParent}A.processed=true;if(A.locked||A.autoLock){v.push(A)}else{C.push(A)}}G.fireEvent("processcolumns",G,v,C);H.destroy();return F},ensureLockedVisible:function(){this.lockedGrid.ensureVisible.apply(this.lockedGrid,arguments);this.normalGrid.ensureVisible.apply(this.normalGrid,arguments)},syncRowHeights:function(){if(!this.destroyed){var p=this,s=p.normalGrid.getView(),q=p.lockedGrid.getView(),n=s.syncRowHeightBegin(),t=q.syncRowHeightBegin(),o;s.syncRowHeightMeasure(n);q.syncRowHeightMeasure(t);s.syncRowHeightFinish(n,t);q.syncRowHeightFinish(t,n);o=s.getScrollY();q.setScrollY(o)}},modifyHeaderCt:function(){var f=this;f.lockedGrid.headerCt.getMenuItems=f.getMenuItems(f.lockedGrid.headerCt.getMenuItems,true);f.normalGrid.headerCt.getMenuItems=f.getMenuItems(f.normalGrid.headerCt.getMenuItems,false);f.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(f.lockedGrid.headerCt.showMenuBy,f.showMenuBy);f.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(f.normalGrid.headerCt.showMenuBy,f.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(u,s,v){var o=this.getMenu(),q=o.down("#unlockItem"),p=o.down("#lockItem"),t=q.prev();if(v.lockable===false){t.hide();q.hide();p.hide()}else{t.show();q.show();p.show();if(!q.initialConfig.disabled){q.setDisabled(v.lockable===false)}if(!p.initialConfig.disabled){p.setDisabled(!v.isLockable())}}},getMenuItems:function(u,x){var t=this,s=t.unlockText,z=t.lockText,q="x-hmenu-unlock",y="x-hmenu-lock",v=t.onUnlockMenuClick.bind(t),w=t.onLockMenuClick.bind(t);return function(){var e=u.call(this);e.push("-",{itemId:"unlockItem",iconCls:q,text:s,handler:v,disabled:!x});e.push({itemId:"lockItem",iconCls:y,text:z,handler:w,disabled:x});return e}},delaySyncLockedWidth:function(){var g=this,k=g.syncLockedWidthTask||(g.syncLockedWidthTask=new Ext.util.DelayedTask(g.syncLockedWidth,g));if(g.reconfiguring){return}if(!Ext.Component.layoutSuspendCount||g.syncTaskDelay===0){g.syncLockedWidth()}else{k.delay(1)}},syncLockedWidth:function(){var t=this,w=t.rendered,v=t.lockedGrid,q=v.view,s=q.getScrollable(),u=t.normalGrid,x=v.getVisibleColumnManager().getColumns().length,z=u.getVisibleColumnManager().getColumns().length,y=t.syncLockedWidthTask;if(y){y.cancel()}if(t.reconfiguring){return}Ext.suspendLayouts();if(z){u.show();if(x){if(t.layout.type==="border"){v.region=v.initialConfig.region}if(w&&v.shrinkWrapColumns&&!v.headerCt.forceFit){delete v.flex;v.width=v.headerCt.getTableWidth()+v.gridPanelBorderWidth;v.updateLayout()}v.addCls(t.lockedGridCls);v.show();if(v.split){t.child("splitter").show();t.addCls("x-grid-locked-split")}}else{v.hide();if(w){v.getView().clearViewEl(true)}if(v.split){t.child("splitter").hide();t.removeCls("x-grid-locked-split")}}}else{u.hide();delete v.width;if(t.layout.type==="border"){v.region="center";u.region="west"}else{v.flex=1}v.removeCls(t.lockedGridCls);v.show()}Ext.resumeLayouts(true);return{locked:!!x,normal:!!z}},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(B,J,C){var z=this,A=z.normalGrid,E=z.lockedGrid,D=A.view,H=E.view,I=D.all.startIndex,L=D.getScrollable(),K=H.getScrollable(),x=A.headerCt,y,G,F=z.componentLayoutCounter;B=B||x.getMenu().activeHeader;B.unlockedWidth=B.width;if(B.flex){if(B.lockedWidth){B.width=B.lockedWidth;B.lockedWidth=null}else{B.width=B.lastBox.width}B.flex=null}C=C||E.headerCt;G=B.ownerCt;if(G&&!B.isLockable()){return}Ext.suspendLayouts();if(L){L.suspendPartnerSync();K.suspendPartnerSync()}if(E.hidden){if(!E.componentLayoutCounter){E.height=A.lastBox.height;if(H.bufferedRenderer){H.bufferedRenderer.onViewResize(H,0,A.body.lastBox.height)}}E.show()}E.reconfiguring=A.reconfiguring=true;B.ownerCmp=B.ownerCt;if(G){G.remove(B,false)}B.locked=true;if(Ext.isDefined(J)){C.insert(J,B)}else{C.add(B)}E.reconfiguring=A.reconfiguring=false;B.ownerCmp=null;y=z.syncLockedWidth();if(y.locked){H.clearViewEl(true)}if(y.normal){D.clearViewEl(true)}if(y.normal){A.getView().refreshView(I)}if(y.locked){E.getView().refreshView(I)}z.fireEvent("lockcolumn",z,B);Ext.resumeLayouts(true);if(L){L.resumePartnerSync(true);K.resumePartnerSync()}if(z.componentLayoutCounter===F){z.syncLockableLayout()}},unlock:function(z,u,A){var x=this,y=x.normalGrid,C=x.lockedGrid,B=y.view,E=C.view,F=B.all.startIndex,v=C.headerCt,w,D=x.componentLayoutCounter;if(!Ext.isDefined(u)){u=0}z=z||v.getMenu().activeHeader;z.lockedWidth=z.width;if(z.flex){if(z.unlockedWidth){z.width=z.unlockedWidth;z.unlockedWidth=null}else{z.width=z.lastBox.width}z.flex=null}A=A||y.headerCt;Ext.suspendLayouts();C.reconfiguring=y.reconfiguring=true;z.ownerCmp=z.ownerCt;if(z.ownerCt){z.ownerCt.remove(z,false)}z.locked=false;A.insert(u,z);C.reconfiguring=y.reconfiguring=false;z.ownerCmp=null;w=x.syncLockedWidth();if(w.locked){E.clearViewEl(true)}if(w.normal){B.clearViewEl(true)}if(w.normal){y.getView().refreshView(F)}if(w.locked){C.getView().refreshView(F)}x.fireEvent("unlockcolumn",x,z);Ext.resumeLayouts(true);if(x.componentLayoutCounter===D){x.syncLockableLayout()}},reconfigureLockable:function(q,w,v){var t=this,z=t.store,x=t.lockedGrid,u=t.normalGrid,s,y;if(!q&&v){q=Ext.StoreManager.lookup("ext-empty-store")}if(q&&q!==z){q=Ext.data.StoreManager.lookup(q);t.store=q;x.view.blockRefresh=u.view.blockRefresh=true;x.bindStore(q);s=x.view;s.store=q;if(!s.dataSource.isFeatureStore){s.dataSource=q}if(s.bufferedRenderer){s.bufferedRenderer.bindStore(q)}u.bindStore(q);s=u.view;s.store=q;if(!s.dataSource.isFeatureStore){s.dataSource=q}if(s.bufferedRenderer){s.bufferedRenderer.bindStore(q)}t.view.store=q;y=t.view.loadMask;if(y&&y.isLoadMask){y.bindStore(q)}t.view.bindStore(u.view.dataSource,false,"dataSource");x.view.blockRefresh=u.view.blockRefresh=false}if(w){x.reconfiguring=u.reconfiguring=true;x.headerCt.removeAll();u.headerCt.removeAll();w=t.processColumns(w,x);x.headerCt.add(w.locked.items);u.headerCt.add(w.normal.items);x.reconfiguring=u.reconfiguring=false;t.syncLockedWidth()}t.refreshCounter=u.view.refreshCounter},afterReconfigureLockable:function(){this.syncLockedWidth();if(this.refreshCounter===this.normalGrid.getView().refreshCounter){this.view.refreshView()}},constructLockableFeatures:function(){var p=this.features,s,q,o,v,t=0,u;if(p){if(!Ext.isArray(p)){p=[p]}o=[];v=[];u=p.length;for(;t<u;t++){s=p[t];if(!s.isFeature){s=Ext.create("feature."+s.ftype,s)}switch(s.lockableScope){case"locked":o.push(s);break;case"normal":v.push(s);break;default:s.lockableScope="both";o.push(s);v.push(q=s.clone());q.lockingPartner=s;s.lockingPartner=q}}}return{normalFeatures:v,lockedFeatures:o}},constructLockablePlugins:function(){var A=this.plugins,w,B,C,u,t,y,x=0,v,D,z;if(A){if(!Ext.isArray(A)){A=[A]}u=[];t=[];y=[];v=A.length;for(;x<v;x++){w=A[x];if(w.init){D=w.lockableScope}else{z=w.ptype?Ext.ClassManager.getByAlias(("plugin."+w.ptype)):Ext.ClassManager.get(w.xclass);D=z.prototype.lockableScope}switch(D){case"both":t.push(C=w.clonePlugin());y.push(B=w.clonePlugin());C.lockingPartner=B;B.lockingPartner=C;Ext.destroy(w);break;case"locked":t.push(w);break;case"normal":y.push(w);break;default:u.push(w)}}}return{topPlugins:u,normalPlugins:y,lockedPlugins:t}},destroyLockable:function(){var g=this,k=g.syncLockedWidthTask;if(k){k.cancel();g.syncLockedWidthTask=null}if(g.lockedGrid&&g.lockedGrid.headerCt){g.lockedGrid.headerCt.showMenuBy=null}if(g.normalGrid&&g.normalGrid.headerCt){g.normalGrid.headerCt.showMenuBy=null}Ext.destroy(g.view,g.headerCt)}},0,0,0,0,0,0,[Ext.grid.locking,"Lockable",Ext.grid,"Lockable"],function(){this.borrow(Ext.Component,["constructPlugin"])}));(Ext.cmd.derive("Ext.grid.plugin.BufferedRenderer",Ext.AbstractPlugin,{isBufferedRenderer:true,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:true,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,scrollTop:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,loadId:0,init:function(p){var o=this,t=p.view,q={refresh:o.onViewRefresh,columnschanged:o.checkVariableRowHeight,boxready:o.onViewBoxReady,scope:o,destroyable:true},s={scroll:o.onViewScroll,scope:o},n=t.initialConfig;o.scroller=t.lockingPartner?t.ownerGrid.scrollable:t.getScrollable();if(p.isTree||(p.ownerLockable&&p.ownerLockable.isTree)){t.blockRefresh=false;if(n&&n.loadMask===undefined){t.loadMask=true}}if(t.positionBody){q.refresh=o.onViewRefresh}if(Ext.isWebKit){o.needsPointerEventsFix=true;s.scrollend=o.onViewScrollEnd;q.itemmousedown=o.onViewItemMouseDown}o.grid=p;o.view=t;o.isRTL=t.getInherited().rtl;t.bufferedRenderer=o;t.preserveScrollOnRefresh=true;t.animate=false;o.bindStore(t.dataSource);if(t.hasOwnProperty("rowHeight")){o.rowHeight=t.rowHeight}o.position=0;o.viewListeners=t.on(q);if(o.scroller){o.scrollListeners=o.scroller.on(s)}},checkVariableRowHeight:function(){var f=this.variableRowHeight;this.variableRowHeight=this.view.hasVariableRowHeight();if(Boolean(this.variableRowHeight)!==Boolean(f)){delete this.rowHeight}},bindStore:function(l){var k=this,m=k.store;if(m&&m.isFeatureStore){return}if(m){k.unbindStore()}k.storeListeners=l.on({scope:k,groupchange:k.onStoreGroupChange,clear:k.onStoreClear,beforeload:k.onBeforeStoreLoad,load:k.onStoreLoad,destroyable:true});k.store=l;k.setBodyTop(0);delete k.viewSize;delete k.rowHeight;if(l.isBufferedStore){l.setViewSize(k.viewSize)}},unbindStore:function(){this.storeListeners.destroy();this.storeListeners=this.store=null},onBeforeStoreLoad:function(l){var k=this,m=k.view;if(m&&m.refreshCounter){if(l.isTreeStore||m.preserveScrollOnReload){k.nextRefreshStartIndex=m.all.startIndex}else{if(k.scrollTop!==0){k.setBodyTop(k.bodyTop=k.scrollTop=k.position=k.scrollHeight=k.nextRefreshStartIndex=0);k.scroller.scrollTo(null,0)}}k.lastScrollDirection=k.scrollOffset=null}k.disable()},onStoreLoad:function(){this.enable()},onStoreClear:function(){var g=this,k=g.view;if(k.rendered&&!g.store.destroyed){if(g.scrollTop!==0){g.bodyTop=g.scrollTop=g.position=g.scrollHeight=0;g.nextRefreshStartIndex=null;g.scroller.scrollTo(null,0)}k.refresh();g.lastScrollDirection=g.scrollOffset=null}},onStoreGroupChange:function(f){this.refreshSize()},onViewBoxReady:function(f){this.refreshScroller(f,this.scrollHeight)},onViewRefresh:function(p,o){var n=this,m=p.all,q;n.checkVariableRowHeight();if(!p.componentLayoutCounter&&(p.headerCt.down("{flex}")||n.variableRowHeight)){p.on({boxready:Ext.Function.pass(n.onViewRefresh,[p,o],n),single:true});n.skipNextRefreshSize=true;return}n.skipNextRefreshSize=false;if(n.refreshing){return}n.refreshSize();if(n.scroller){if(n.scrollTop!==n.scroller.getPosition().y){n.onViewScroll();n.onViewScrollEnd()}else{if(!n.hasOwnProperty("bodyTop")){n.bodyTop=m.startIndex*n.rowHeight;n.scroller.scrollTo(null,n.bodyTop)}n.setBodyTop(n.bodyTop);q=p.lastBox&&p.lastBox.height;if(q&&m.getCount()){n.onViewResize(p,null,q);if(o&&(m.getCount()!==o.length)){o.length=0;o.push.apply(o,n.store.getRange(m.startIndex,m.endIndex))}}}}},beforeTableLayout:function(k){var g=this.view.body.dom;if(g){k.bodyHeight=g.offsetHeight;k.bodyWidth=g.offsetWidth}},afterTableLayout:function(l){var n=this,o=n.view,m;if(l.bodyHeight&&o.body.dom){delete n.rowHeight;n.refreshSize();m=o.body.dom.offsetHeight;if(m!==l.bodyHeight){n.onViewResize(o,null,o.el.lastBox.height);m=n.bodyHeight;if(m<l.bodyHeight){if(n.viewSize>=n.store.getCount()){n.setBodyTop(0)}else{if(n.bodyTop>n.scrollTop||n.bodyTop+m<n.scrollTop+n.viewClientHeight){n.setBodyTop(n.scrollTop-n.trailingBufferZone*n.rowHeight)}}}if(o.all.endIndex===(o.dataSource.getCount())-1){n.stretchView(o,n.scrollHeight=n.bodyTop+m-1)}}}},refreshSize:function(){var l=this,m=l.view,k=l.skipNextRefreshSize||(Ext.Component.pendingLayouts&&Ext.Component.layoutSuspendCount)||!m.body.dom;l.skipNextRefreshSize=false;if(k){return}l.bodyHeight=m.body.dom.offsetHeight;l.scrollHeight=l.getScrollHeight();l.stretchView(m,l.scrollHeight)},onViewResize:function(s,p,u,t,v){var o=this,q;o.refreshSize();if(!v||u!==v){o.viewClientHeight=s.lockingPartner?((o.scroller&&o.scroller.getClientSize().y)||u):s.el.dom.clientHeight;q=Math.ceil(u/o.rowHeight)+o.trailingBufferZone+o.leadingBufferZone;o.viewSize=o.setViewSize(q)}},stretchView:function(l,m){var k=this;if(k.scrollTop>m){k.position=k.scrollTop=Math.max(m-k.bodyHeight,0);k.scroller.scrollTo(null,k.scrollTop)}if(k.bodyTop>m){l.body.translate(null,k.bodyTop=k.position)}if(l.getScrollable()){k.refreshScroller(l,m)}},refreshScroller:function(k,l){var m=k.getScrollable();if(m){if(m.setElementSize){m.setElementSize()}m.setSize({x:k.headerCt.getTableWidth(),y:l});if(k.lockingPartner){this.scroller.setSize({x:0,y:l})}}},setViewSize:function(y,G){var z=this,L=z.store,N=z.view,J,I=N.all,C=I.getCount(),A=L.getCount(),H,D,B=z.view.lockingPartner&&z.view.lockingPartner.bufferedRenderer,M=C-y,E=0,F=Math.max(0,A-1),K=Ext.Number.sign((z.getFirstVisibleRowIndex()-I.startIndex)-(I.endIndex-z.getLastVisibleRowIndex()));if(B&&!G&&B.view.componentLayoutCounter){if(B.viewSize>y){y=B.viewSize}else{if(N.componentLayoutCounter){B.setViewSize(y,true)}}}M=C-y;if(M){z.scrollTop=z.scroller?z.scroller.getPosition().y:0;z.viewSize=y;if(L.isBufferedStore){L.setViewSize(y)}if(C){H=Math.max(0,Math.min(I.startIndex,A-y));D=Math.min(H+y-1,F);if(H===I.startIndex&&D===I.endIndex){if(M<0){z.handleViewScroll(K)}}else{if(B){B.disable()}if(M<0){if(A>y&&A>C){L.getRange(H,D,{callback:function(f,e,g){J=N.ownerGrid;if(g>I.endIndex){I.scroll(Ext.Array.slice(f,I.endIndex+1,Infinity),1,0)}if(e<I.startIndex){E=I.first(true);I.scroll(Ext.Array.slice(f,0,I.startIndex-e),-1,0);z.bodyTop-=E.offsetTop}z.setBodyTop(z.bodyTop);if(B&&!G&&(J.syncRowHeight||J.syncRowHeightOnNextLayout)){B.setViewSize(y,true);J.syncRowHeights()}}})}else{z.refreshView(0)}}else{if(K===1){E=I.item(I.startIndex+M,true).offsetTop}I.clip(K,M);z.setBodyTop(z.bodyTop+E)}if(B){B.enable()}}}z.refreshSize()}return y},getViewRange:function(){var q=this,v=q.view,x=v.all,t=x.getCount(),s=v.lockingPartner&&v.lockingPartner.all,u=q.store,w=0,p;if(!q.hasOwnProperty("viewSize")&&q.ownerCt&&q.ownerCt.height){q.viewSize=Math.ceil(q.ownerCt.height/q.rowHeight)}if(!u.data.getCount()){return[]}if(!t&&s&&s.getCount()){w=s.startIndex;p=Math.min(s.endIndex,w+q.viewSize-1,u.getCount()-1)}else{if(t){w=x.startIndex}else{if(u.isBufferedStore){if(!u.currentPage){u.currentPage=1}w=x.startIndex=(u.currentPage-1)*(u.pageSize||1);u.currentPage=1}}p=w+(q.viewSize||u.defaultViewSize)-1}return u.getRange(w,p)},onReplace:function(v,H,A,z){var x=this,y=x.scroller,w=x.view,F=w.all,E,B=F.getCount(),C=H+A.length-1,G=z.length-A.length,D=G*x.rowHeight;if(H>=F.startIndex+x.viewSize){x.refreshSize();return}if(B&&C<F.startIndex&&F.getCount()>=x.viewSize){F.moveBlock(G);x.refreshSize();E=F.startIndex;if(G>0){x.doNotMirror=true;x.handleViewScroll(-1);x.doNotMirror=false}if(F.startIndex===E){if(F.startIndex){x.setBodyTop(x.bodyTop+=D);w.suspendEvent("scroll");w.scrollBy(0,D);w.resumeEvent("scroll");x.position=x.scrollTop=x.scroller.getPosition().y}}else{w.suspendEvent("scroll");w.scrollBy(0,(E-F.startIndex)*x.rowHeight);w.resumeEvent("scroll")}w.refreshSize(F.getCount()!==B);return}if(B&&H>F.endIndex){x.refreshSize();if(G>0){x.onRangeFetched(null,F.startIndex,Math.min(v.getCount(),F.startIndex+x.viewSize)-1,null,true)}w.refreshSize(F.getCount()!==B);return}if(H<F.startIndex&&C<=F.endIndex){x.refreshView(F.startIndex-A.length+z.length);return}if(H<F.startIndex&&C<=F.endIndex&&D){y.suspendEvent("scroll");y.scrollTo(null,x.position=x.scrollTop+=D);y.resumeEvent("scroll")}x.refreshView()},scrollTo:function(L,I){var B=arguments,z=this,N=z.view,C=N.lockingPartner&&N.lockingPartner.grid.isVisible()&&N.lockingPartner.bufferedRenderer,K=z.store,y=K.getCount(),A,G,H,J,F,E,D,M;if(I!==undefined&&!(I instanceof Object)){I={select:B[1],callback:B[2],scope:B[3]}}if((F=N.dataSource.groupingFeature)&&(F.collapsible)){if(L.isEntity){D=L}else{D=N.store.getAt(Math.min(Math.max(L,0),N.store.getCount()-1))}E=F.getMetaGroup(D);if(E&&E.isCollapsed){if(!F.isExpandingOrCollapsing&&D!==E.placeholder){F.expand(F.getGroup(D).getGroupKey());y=K.getCount();L=F.indexOf(D)}else{D=E.placeholder;L=F.indexOfPlaceholder(D)}}else{L=F.indexOf(D)}}else{if(L.isEntity){D=L;L=K.indexOf(D);if(L===-1){return}}else{L=Math.min(Math.max(L,0),y-1);D=K.getAt(L)}}if(D&&(H=N.getNode(D))){N.grid.ensureVisible(D,I);z.onViewScroll();z.onViewScrollEnd();return}if(L<N.all.startIndex){M=-1;A=Math.max(Math.min(L-(Math.floor((z.leadingBufferZone+z.trailingBufferZone)/2)),y-z.viewSize+1),0);G=Math.min(A+z.viewSize-1,y-1)}else{M=1;G=Math.min(L+(Math.floor((z.leadingBufferZone+z.trailingBufferZone)/2)),y-1);A=Math.max(G-(z.viewSize-1),0)}J=Math.max(A*z.rowHeight,0);K.getRange(A,G,{callback:function(f,e,g){z.renderRange(e,g,true,true);D=K.data.getRange(L,L+1)[0];H=N.getNode(D);N.body.translate(null,z.bodyTop=J);if(M===1){z.refreshSize()}if(C){C.renderRange(e,g,true,true);z.syncRowHeights();C.view.body.translate(null,C.bodyTop=J);if(M===1){C.refreshSize()}}if(!H){return}N.grid.ensureVisible(D,I);z.scrollTop=z.position=z.scroller.getPosition().y;if(C){C.position=C.scrollTop=z.scrollTop}}})},onViewItemMouseDown:function(){var f=this;Ext.getDoc().on({mouseup:f.onDocumentMouseUp,scope:f,single:true});f.preservePointerEvents=true},onDocumentMouseUp:function(){this.preservePointerEvents=false},onViewScroll:function(y,u,v){var w=this,z=w.view.body.dom,t=w.store,s=(t.getCount()),x,A,B=w.scrollTop=w.scroller.getPosition().y;if(z){if(w.needsPointerEventsFix&&!w.preservePointerEvents){z.style.pointerEvents="none"}if(!(w.disabled||s<w.viewSize)){x=B-w.position;A=x>0?1:-1;if(Math.abs(x)>=20||(A!==w.lastScrollDirection)){w.lastScrollDirection=A;w.handleViewScroll(w.lastScrollDirection,x)}}}},onViewScrollEnd:function(){var g=this,k=g.view.body.dom;if(k){if(g.needsPointerEventsFix){k.style.pointerEvents="";g.preservePointerEvents=false}}},handleViewScroll:function(w,B){var y=this,D=y.view.all,u=y.store,z=u.getCount(),x=y.viewSize,A=z-1,v=Math.max(0,z-x),C,t;if(w===-1){if(D.startIndex){if(y.topOfViewCloseToEdge()){C=Math.max(0,y.getLastVisibleRowIndex()+y.trailingBufferZone-x);if(C>D.startIndex){C=D.startIndex+Math.floor(B/y.rowHeight)}}}}else{if(D.endIndex<A){if(y.bottomOfViewCloseToEdge()){C=Math.max(0,Math.min(y.getFirstVisibleRowIndex()-y.trailingBufferZone,v))}}}if(C==null){y.position=y.scrollTop;y.loadId++}else{t=Math.min(C+x-1,A);if(y.variableRowHeight&&t===D.endIndex&&t<A){t++;C++}if(C!==D.startIndex||t!==D.endIndex){y.renderRange(C,t);return true}}},bottomOfViewCloseToEdge:function(){var f=this;if(f.variableRowHeight){return f.bodyTop+f.bodyHeight<f.scrollTop+f.view.lastBox.height+(f.numFromEdge*f.rowHeight)}else{return(f.view.all.endIndex-f.getLastVisibleRowIndex())<f.numFromEdge}},topOfViewCloseToEdge:function(){var f=this;if(f.variableRowHeight){return f.bodyTop>f.scrollTop-(f.numFromEdge*f.rowHeight)}else{return(f.getFirstVisibleRowIndex()-f.view.all.startIndex)<f.numFromEdge}},refreshView:function(t){var x=this,w=x.viewSize,v=x.view,s=v.all,u=x.store,y=u.getCount(),B=Math.max(0,y-1),A=v.lockingPartner&&v.lockingPartner.all,z;if(!y){return x.doRefreshView([],0,0)}else{if(y<w){t=0;z=B}else{if(t==null&&!s.getCount()&&A&&A.getCount()){t=A.startIndex;z=Math.min(A.endIndex,t+w-1,B)}else{if(t==null){if(x.nextRefreshStartIndex!=null){t=x.nextRefreshStartIndex;x.nextRefreshStartIndex=null}else{t=s.startIndex}}t=Math.max(0,Math.min(t,B-w+1));z=Math.min(t+w-1,B);if(z-t+1>w){t=z-w+1}}}}if(t===0&&z===-1){x.doRefreshView([],0,0)}else{u.getRange(t,z,{callback:x.doRefreshView,scope:x})}},doRefreshView:function(F,L,O,N){var A=this,G=A.view,C=A.scroller,I=G.all,B=I.startIndex,M=I.endIndex,K,R,Q=I.getCount(),H,J=L!==I.startIndex,D,E,P;G.refreshing=A.refreshing=true;if(G.refreshCounter){if(G.hasListeners.beforerefresh&&G.fireEvent("beforerefresh",G)===false){return G.refreshNeeded=G.refreshing=A.refreshing=false}P=G.saveFocusState();G.clearViewEl(true);G.refreshCounter++;if(F.length){H=G.doAdd(F,L);if(J){K=I.item(B,true);R=I.item(M,true);if(K){E=-K.offsetTop}else{if(R){E=I.last(true).offsetTop-R.offsetTop}}if(E){D=Math.max(A.bodyTop+E,0);A.scrollTop=D?A.scrollTop+E:0}else{D=L*A.rowHeight;A.scrollTop=Math.max(D+A.rowHeight*(D<A.bodyTop?A.leadingBufferZone:A.trailingBufferZone),0)}}}else{if(A.scrollTop){D=A.scrollTop=0}G.addEmptyText()}if(J){A.setBodyTop(D);C.suspendEvent("scroll");C.scrollTo(null,A.position=A.scrollTop);C.resumeEvent("scroll")}A.refreshSize();G.refreshSize(I.getCount()!==Q);G.fireItemMutationEvent("refresh",G,F);P();G.headerCt.setSortState()}else{G.refresh()}G.refreshNeeded=G.refreshing=A.refreshing=false},renderRange:function(v,u,o,s){var q=this,p=q.view.all,t=q.store;if(!(v===p.startIndex&&u===p.endIndex)){if(t.rangeCached(v,u)){q.cancelLoad();if(q.synchronousRender||o){q.onRangeFetched(null,v,u,null,s)}else{if(!q.renderTask){q.renderTask=new Ext.util.DelayedTask(q.onRangeFetched,q,null,false)}q.renderTask.delay(1,null,null,[null,v,u,null,s])}}else{q.attemptLoad(v,u,q.scrollTop)}}},onRangeFetched:function(O,ag,ai,aj,af){var M=this,Q=M.view,Y=M.scroller,Z=Q.el,S=Q.all,N=0,aa,W=(Q.lockingPartner&&!af&&!M.doNotMirror)&&Q.lockingPartner.bufferedRenderer,ad=M.variableRowHeight,am=M.bodyHeight,V=Q.componentLayoutCounter,ah,L,ab,U,X,T,P,ak,al,ae,ac,R,an;if(Q.destroyed){return}if(O){if(!af){M.scrollTop=M.scroller.getPosition().y}}else{O=M.store.getRange(ag,ai);if(!O){return}}ah=Ext.Element.getActiveElement(true);L=Z.contains(ah);if(L){ah.suspendFocusEvents()}aa=ag*M.rowHeight;if(ag<S.startIndex&&ai>S.endIndex){R=S.startIndex-ag;Q.clearViewEl(true);U=Q.doAdd(O,ag);Q.fireItemMutationEvent("itemadd",O,ag,U,Q);for(ab=0;ab<R;ab++){N-=U[ab].offsetHeight}X=M.bodyTop+N}else{P=M.teleported||ag>S.endIndex||ai<S.startIndex;if(P){Q.clearViewEl(true);M.teleported=false}if(!S.getCount()){U=Q.doAdd(O,ag);Q.fireItemMutationEvent("itemadd",O,ag,U,Q);X=aa;if(P&&ad){an=M.scrollTop<M.position?M.leadingBufferZone:M.trailingBufferZone;X=Math.max(M.scrollTop-S.item(S.startIndex+an-1,true).offsetTop,0)}}else{if(ai>S.endIndex){ac=Math.max(ag-S.startIndex,0);if(ad){N=S.item(S.startIndex+ac,true).offsetTop}U=S.scroll(Ext.Array.slice(O,S.endIndex+1-ag),1,ac);if(ad){X=M.bodyTop+N}else{X=aa}}else{ac=Math.max(S.endIndex-ai,0);ak=S.startIndex;U=S.scroll(Ext.Array.slice(O,0,S.startIndex-ag),-1,ac);if(ad){X=M.bodyTop-S.item(ak,true).offsetTop;if(!S.startIndex){if(X){Y.scrollTo(null,M.position=(M.scrollTop-=X));X=0}}else{if(X<0){N=S.startIndex*M.rowHeight;Y.scrollTo(null,M.position=(M.scrollTop+=N));X=M.bodyTop+N}}}else{X=aa}}}M.position=M.scrollTop}if(L){ah.resumeFocusEvents();if(!Z.contains(ah)){ae=Q.actionableMode?Q.actionPosition:Q.lastFocused;if(ae&&ae.column){Q.renderingRows=true;Q.onFocusLeave({});Q.renderingRows=false;if(ae.column.focusable){T=ae.column}else{T=ae.column.el.findTabbableElements()[0]}if(!T){T=Q.el}T.focus()}}}X=Math.max(Math.floor(X),0);if(Q.positionBody){M.setBodyTop(X)}if(U&&W&&!W.disabled){W.scrollTop=W.position=M.scrollTop;if(W.view.ownerCt.isVisible()){al=W.onRangeFetched(O,ag,ai,aj,true);if(Q.ownerGrid.syncRowHeight||Q.ownerGrid.syncRowHeightOnNextLayout||(W.variableRowHeight!==ad)){M.syncRowHeights(U,al);Q.ownerGrid.syncRowHeightOnNextLayout=false}}if(W.bodyTop!==X){W.setBodyTop(X)}W.scroller.scrollTo(null,M.scrollTop)}if(M.variableRowHeight&&M.bodyHeight!==am&&Q.componentLayoutCounter===V){delete M.rowHeight;M.refreshSize()}return U},syncRowHeights:function(w,B){var u=this,v=0,s=1,t=[],A=[],y=Ext.grid.locking.RowSynchronizer,z,x;if(w&&B){v=w.length;s=B.length}if(v!==s){w=u.view.all.slice();B=u.view.lockingPartner.all.slice();v=s=w.length}for(z=0;z<v;z++){t[z]=x=new y(u.view,w[z]);x.measure()}for(z=0;z<s;z++){A[z]=x=new y(u.view.lockingPartner,B[z]);x.measure()}for(z=0;z<v;z++){t[z].finish(A[z]);A[z].finish(t[z])}u.syncRowHeightsFinish()},syncRowHeightsFinish:function(){var k=this,m=k.view,l=m.lockingPartner.bufferedRenderer;if(m.componentLayoutCounter){delete k.rowHeight;k.refreshSize();if(l.rowHeight!==k.rowHeight){delete l.rowHeight;l.refreshSize()}}k.bodyHeight=l.bodyHeight=m.body.dom.offsetHeight},setBodyTop:function(p){var o=this,s=o.view,n=s.all,q=o.store,t=s.body;if(!t.dom){return}o.translateBody(t,p);if(o.variableRowHeight){o.bodyHeight=t.dom.offsetHeight;if(n.endIndex===q.getCount()-1){o.scrollHeight=p+o.bodyHeight-1}else{o.scrollHeight=o.getScrollHeight()}o.stretchView(s,o.scrollHeight)}else{o.bodyHeight=n.getCount()*o.rowHeight}},translateBody:function(k,g){k.translate(null,this.bodyTop=g)},getFirstVisibleRowIndex:function(u,B,C,y){var x=this,w=x.view,E=w.all,D=E.elements,A=x.viewClientHeight,z,F,v=x.bodyTop;if(E.getCount()&&x.variableRowHeight){if(!arguments.length){u=E.startIndex;B=E.endIndex;C=x.scrollTop;y=C+A;if(v>y||v+x.bodyHeight<C){x.teleported=true;return Math.floor(x.scrollTop/x.rowHeight)}z=u+Math.min(x.numFromEdge+((x.lastScrollDirection===-1)?x.leadingBufferZone:x.trailingBufferZone),Math.floor((B-u)/2))}else{if(u===B){return B}z=u+Math.floor((B-u)/2)}F=v+D[z].offsetTop;if(F+D[z].offsetHeight<=C){return x.getFirstVisibleRowIndex(z+1,B,C,y)}if(F<=C){return z}else{if(z!==u){return x.getFirstVisibleRowIndex(u,z-1,C,y)}}}return Math.floor(x.scrollTop/x.rowHeight)},getLastVisibleRowIndex:function(H,C,D,z){var x=this,w=x.view,F=w.all,E=F.elements,B=x.viewClientHeight,A,G,y,v=x.bodyTop;if(F.getCount()&&x.variableRowHeight){if(!arguments.length){H=F.startIndex;C=F.endIndex;D=x.scrollTop;z=D+B;if(v>z||v+x.bodyHeight<D){x.teleported=true;return Math.floor(x.scrollTop/x.rowHeight)+Math.ceil(B/x.rowHeight)}A=C-Math.min(x.numFromEdge+((x.lastScrollDirection===1)?x.leadingBufferZone:x.trailingBufferZone),Math.floor((C-H)/2))}else{if(H===C){return C}A=H+Math.floor((C-H)/2)}G=v+E[A].offsetTop;if(G>z){return x.getLastVisibleRowIndex(H,A-1,D,z)}y=G+E[A].offsetHeight;if(y>=z){return A}else{if(A!==C){return x.getLastVisibleRowIndex(A+1,C,D,z)}}}return x.getFirstVisibleRowIndex()+Math.ceil(B/x.rowHeight)},getScrollHeight:function(){var z=this,x=z.view,t=x.all,w=z.store,s=w.getCount(),y=t.getCount(),u,A,B,v;if(!s){return 0}if(!z.hasOwnProperty("rowHeight")){if(y){if(z.variableRowHeight){z.rowHeight=Math.floor(z.bodyHeight/y)}else{u=t.first();A=u.getHeight();if(Ext.isIE8){B=u.getBorderWidth("b");if(B>0){A-=B}}z.rowHeight=A}}else{delete z.rowHeight}}if(z.variableRowHeight){if(t.endIndex===s-1){v=z.bodyTop+z.bodyHeight-1}else{v=Math.floor((s-y)*z.rowHeight)+z.bodyHeight;v+=z.bodyTop-t.startIndex*z.rowHeight}}else{v=Math.floor(s*z.rowHeight)}return(z.scrollHeight=v)},attemptLoad:function(l,o,m){var n=this;if(n.scrollToLoadBuffer){if(!n.loadTask){n.loadTask=new Ext.util.DelayedTask()}n.loadTask.delay(n.scrollToLoadBuffer,n.doAttemptLoad,n,[l,o,m])}else{n.doAttemptLoad(l,o,m)}},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(l,o,m){var n=this;if(!n.destroyed){n.store.getRange(l,o,{loadId:++n.loadId,callback:function(e,g,f,k){if(k.loadId===n.loadId&&n.scrollTop===m){n.onRangeFetched(e,g,f,k)}},fireEvent:false})}},destroy:function(){var g=this,k=g.view;g.cancelLoad();if(k&&k.el){k.un("scroll",g.onViewScroll,g)}if(g.store){g.unbindStore()}Ext.destroy(g.viewListeners,g.stretcher,g.gridListeners,g.scrollListeners);Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,["plugin.bufferedrenderer"],0,[Ext.grid.plugin,"BufferedRenderer"],0));(Ext.cmd.derive("Ext.grid.plugin.Editing",Ext.plugin.Abstract,{clicksToEdit:2,triggerEvent:undefined,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldUI:"default",defaultFieldXType:"textfield",editStyle:"",constructor:function(k){var g=this;Ext.plugin.Abstract.prototype.constructor.call(this,k);g.mixins.observable.constructor.call(g);g.on("edit",function(f,e){g.fireEvent("afteredit",f,e)})},init:function(m){var l=this,k=m.ownerLockable;l.grid=m;l.view=m.view;l.initEvents();if(m.rendered){l.setup()}else{l.mon(m,{beforereconfigure:l.onBeforeReconfigure,reconfigure:l.onReconfigure,scope:l,beforerender:{fn:l.onBeforeRender,single:true,scope:l}})}m.editorEventRelayers=m.relayEvents(l,l.relayedEvents);if(k){k.editorEventRelayers=k.relayEvents(l,l.relayedEvents)}m.isEditable=true;m.editingPlugin=m.view.editingPlugin=l},onBeforeReconfigure:function(){this.reconfiguring=true},onReconfigure:function(){this.setup();delete this.reconfiguring},onBeforeRender:function(){this.setup()},setup:function(){this.initFieldAccessors(this.grid.getTopLevelColumnManager().getColumns())},destroy:function(){var g=this,k=g.grid;Ext.destroy(g.keyNav);g.clearListeners();if(k){if(k.ownerLockable){Ext.destroy(k.ownerLockable.editorEventRelayers);k.ownerLockable.editorEventRelayers=null}Ext.destroy(k.editorEventRelayers);k.editorEventRelayers=null;k.editingPlugin=k.view.editingPlugin=null}Ext.plugin.Abstract.prototype.destroy.call(this)},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(t){if(t.isGroupHeader){t=t.getGridColumns()}else{if(!Ext.isArray(t)){t=[t]}}var p=this,w,x=t.length,u=function(f,e){return p.getColumnField(this,e)},v=function(){return p.hasColumnField(this)},q=function(e){p.setColumnField(this,e)},s;for(w=0;w<x;w++){s=t[w];if(!s.getEditor){s.getEditor=u}if(!s.hasEditor){s.hasEditor=v}if(!s.setEditor){s.setEditor=q}}},removeFieldAccessors:function(o){if(o.isGroupHeader){o=o.getGridColumns()}else{if(!Ext.isArray(o)){o=[o]}}var l,m=o.length,n;for(l=0;l<m;l++){n=o[l];n.getEditor=n.hasEditor=n.setEditor=n.field=n.editor=null}},getColumnField:function(m,o){var n=this,l=m.field;if(!(l&&l.isFormField)){l=m.field=n.createColumnField(m,o)}if(l&&l.ui==="default"&&!l.hasOwnProperty("ui")){l.ui=n.defaultFieldUI}return l},hasColumnField:function(f){return !!(f.field&&f.field.isComponent)},setColumnField:function(k,g){k.field=g;k.field=this.createColumnField(k)},createColumnField:function(m,o){var l=m.field,n;if(!l&&m.editor){l=m.editor=Ext.clone(m.editor);if(l.field){l=l.field;l.editorCfg=m.editor;delete l.editorCfg.field}m.editor=null}if(!l&&o){l=o}if(l){n=m.dataIndex;if(l.isComponent){l.column=m}else{if(Ext.isString(l)){l={name:n,xtype:l,column:m}}else{l=Ext.apply({name:n,column:m},l)}l=Ext.ComponentManager.create(l,this.defaultFieldXType)}l.dataIndex=n;l.isEditorComponent=true;m.field=l}return l},initEvents:function(){var f=this;f.initEditTriggers();f.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var g=this,k=g.view;if(g.triggerEvent==="cellfocus"){g.mon(k,"cellfocus",g.onCellFocus,g)}else{if(g.triggerEvent==="rowfocus"){g.mon(k,"rowfocus",g.onRowFocus,g)}else{if(k.getSelectionModel().isCellModel){k.onCellFocus=g.beforeViewCellFocus.bind(g)}g.mon(k,g.triggerEvent||("cell"+(g.clicksToEdit===1?"click":"dblclick")),g.onCellClick,g)}}g.initAddRemoveHeaderEvents();g.view.getNavigationModel().addKeyBindings({esc:g.onEscKey,scope:g})},beforeViewCellFocus:function(f){if(this.view.selModel.keyNavigation||!this.editing||!this.isCellEditable||!this.isCellEditable(f.row,f.columnHeader)){this.view.focusCell.apply(this.view,arguments)}},onRowFocus:function(m,k,l){this.startEdit(k,0)},onCellFocus:function(k,l,m){this.startEdit(m.row,m.column)},onCellClick:function(v,e,z,y,D,C,w){var E=v.ownerGrid,A=v.expanderSelector,B=v.ownerCt.getColumnManager().getHeaderAtIndex(z),x=B.getEditor(y),F;if(this.shouldStartEdit(x)&&(!A||!w.getTarget(A))){E.setActionableMode(true,w.position)}else{if(E.actionableMode&&v.owns(w.target)&&(F=Ext.Component.fromElement(w.target,e)&&F.focusable)){return}else{if(E.actionableMode){E.setActionableMode(false)}}}},initAddRemoveHeaderEvents:function(){var k=this,g=k.grid.headerCt;k.mon(g,{scope:k,add:k.onColumnAdd,columnmove:k.onColumnMove,beforedestroy:k.beforeGridHeaderDestroy})},onColumnAdd:function(k,g){this.initFieldAccessors(g)},onColumnMove:Ext.emptyFn,onEscKey:function(e){if(this.editing){var k=Ext.getCmp(e.getTarget().getAttribute("componentId"));if(!(k&&k.isPickerField&&k.isExpanded)){return this.cancelEdit()}}},beforeEdit:Ext.emptyFn,shouldStartEdit:function(f){return !!f},getEditingContext:function(y,A){var w=this,C=w.grid,x=C.visibleColumnManager,v,u,B,z,D,t=w.grid.lockable?w.grid:w.view;if(!t.componentLayoutCounter){t.on({boxready:Ext.Function.bind(w.startEdit,w,[y,A]),single:true});return}if(w.disabled||w.grid.collapsed||!w.grid.view.isVisible(true)){return}if(Ext.isNumber(A)){A=x.getHeaderAtIndex(Math.min(A,x.getColumns().length))}if(!A){return}if(A.hidden){A=A.next(":not([hidden])")||A.prev(":not([hidden])")}v=A.getView();C=v.ownerCt;if(Ext.isNumber(y)){B=Math.min(y,v.dataSource.getCount()-1);y=v.dataSource.getAt(B)}else{B=v.dataSource.indexOf(y)}C.ensureVisible(y,{column:A});u=v.getRow(y);if(!u){return}z=v.getVisibleColumnManager().indexOf(A);if(!y){return}D=new Ext.grid.CellContext(v).setAll(v,B,z,y,A);D.grid=C;D.store=v.dataSource;D.field=A.dataIndex;D.value=D.originalValue=y.get(A.dataIndex);D.row=u;D.node=v.getNode(y);D.cell=D.getCell(true);return D},cancelEdit:function(){var f=this;f.editing=false;f.fireEvent("canceledit",f,f.context)},completeEdit:function(){var f=this;if(f.editing&&f.validateEdit()){f.fireEvent("edit",f,f.context)}f.context=null;f.editing=false},validateEdit:function(k){var g=this;return g.fireEvent("validateedit",g,k)!==false&&!k.cancel}},1,0,0,0,["editing.editing"],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.grid.plugin,"Editing"],0));(Ext.cmd.derive("Ext.grid.plugin.CellEditing",Ext.grid.plugin.Editing,{init:function(k){var g=this;k.registerActionable(g);Ext.grid.plugin.Editing.prototype.init.apply(this,arguments);g.editors=new Ext.util.MixedCollection(false,function(e){return e.editorId})},beforeGridHeaderDestroy:function(v){var o=this,s=o.grid.getColumnManager().getColumns(),u=s.length,t,p,q;for(t=0;t<u;t++){p=s[t];q=o.editors.getByKey(p.getItemId());if(!q){q=p.editor||p.field}Ext.destroy(q);o.removeFieldAccessors(p)}},onReconfigure:function(k,m,l){if(l){this.editors.clear()}Ext.grid.plugin.Editing.prototype.onReconfigure.call(this)},destroy:function(){var f=this;if(f.editors){f.editors.each(Ext.destroy,Ext);f.editors.clear()}Ext.grid.plugin.Editing.prototype.destroy.call(this)},initCancelTriggers:function(){var g=this,k=g.grid;g.mon(k,{columnresize:g.cancelEdit,columnmove:g.cancelEdit,scope:g})},isCellEditable:function(o,l){var m=this,n=m.getEditingContext(o,l);if(n.view.isVisible(true)&&n){l=n.column;o=n.record;if(l&&m.getEditor(o,l)){return true}}},activateCell:function(y,D,E){var J=this,z=y.record,A=y.column,B,I,H,p,G=J.getActiveEditor(),C,F;B=J.getEditingContext(z,A);if(!B||!A.getEditor(z)){return}if(G&&G.editing){J.view.actionPosition=null;I=B.generation;if(G.completeEdit()===false){return}if(B.generation===I){B.refresh()}}if(!D){I=B.generation;if(J.beforeEdit(B)===false||J.fireEvent("beforeedit",J,B)===false||B.cancel){return}if(B.generation===I){B.refresh()}}p=J.getEditor(z,A);if(B.cell!==B.getCell(true)){B=J.getEditingContext(B.rowIdx,B.colIdx);y.setPosition(B)}if(p){H=Ext.get(B.cell);if(!p.rendered){p.hidden=true;p.render(H)}else{C=p.el.dom.parentNode;if(C!==H.dom){try{C.removeChild(p.el.dom)}catch(e){}p.container=H;H.dom.appendChild(p.el.dom,H.dom.firstChild)}}F=B.record.get(B.column.dataIndex);if(F!==B.originalValue){B.value=B.originalValue=F}J.setEditingContext(B);p.startEdit(H,B.value,E||false);if(p.editing){J.setActiveEditor(p);J.setActiveRecord(B.record);J.setActiveColumn(B.column);J.editing=true;J.scroll=y.view.el.getScroll()}return p.editing}},activateRow:Ext.emptyFn,deactivate:function(){var n=this,q=n.context,o=n.editors.items,t=o.length,p,s;for(s=0;s<t;s++){p=o[s];if(q.view.renderingRows){if(p.editing){n.cancelEdit()}p.cacheElement()}}},suspend:function(){var g=this,k=g.activeEditor;if(k&&k.editing){g.suspendedEditor=k;g.suspendEvents();k.suspendEvents();k.cancelEdit(true);k.resumeEvents();g.resumeEvents()}},resume:function(n){var l=this,m=l.activeEditor=l.suspendedEditor,o;if(m){l.suspendEvents();m.suspendEvents();o=l.activateCell(n,true,true);m.resumeEvents();l.resumeEvents()}return o},startEdit:function(k,g){this.startEditByPosition(new Ext.grid.CellContext(this.view).setPosition(k,g))},completeEdit:function(k){var g=this.getActiveEditor();if(g){g.completeEdit(k)}},setEditingContext:function(f){this.context=f},setActiveEditor:function(f){this.activeEditor=f},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(f){this.activeColumn=f},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(f){this.activeRecord=f},getActiveRecord:function(){return this.activeRecord},getEditor:function(t,p){var n=this,o=n.editors,q=p.getItemId(),s=o.getByKey(q);if(!s){s=p.getEditor(t);if(!s){return false}if(!(s instanceof Ext.grid.CellEditor)){s=new Ext.grid.CellEditor(Ext.apply({floating:true,editorId:q,field:s},s.editorCfg))}s.field.excludeForm=true;if(s.column!==p){s.column=p;p.on("removed",n.onColumnRemoved,n)}o.add(s)}s.ownerCmp=n.grid.ownerGrid;if(p.isTreeColumn){s.isForTree=p.isTreeColumn;s.addCls("x-tree-cell-editor")}s.setGrid(n.grid);s.editingPlugin=n;return s},onColumnRemoved:function(l){var k=this,m=k.context;if(m&&m.column===l){k.cancelEdit()}l.un("removed",k.onColumnRemoved,k)},setColumnField:function(l,k){var m=this.editors.getByKey(l.getItemId());Ext.destroy(m,l.field);this.editors.removeAtKey(l.getItemId());Ext.grid.plugin.Editing.prototype.setColumnField.apply(this,arguments)},getCell:function(k,g){return this.grid.getView().getCell(k,g)},onEditComplete:function(q,v,s){var o=this,p=q.context,t,u;t=p.view;u=p.record;p.value=v;if(!u.isEqual(v,s)){u.set(p.column.dataIndex,v);p.rowIdx=t.indexOf(u)}if(o.context===p){o.setActiveEditor(null);o.setActiveColumn(null);o.setActiveRecord(null);o.editing=false}o.fireEvent("edit",o,p)},cancelEdit:function(k){var l=this,m=l.context;if(k&&k.isCellEditor){l.context.value=("editedValue" in k)?k.editedValue:k.getValue();Ext.grid.plugin.Editing.prototype.cancelEdit.apply(this,arguments);if(k.context===m){l.setActiveEditor(null);l.setActiveColumn(null);l.setActiveRecord(null)}else{l.editing=true}}else{k=l.getActiveEditor();if(k&&k.field){k.cancelEdit()}}},startEditByPosition:function(p){var m=this,q=m.grid.getColumnManager(),o,n=m.getActiveEditor();if(!p.isCellContext){p=new Ext.grid.CellContext(m.view).setPosition(p.row,m.grid.getColumnManager().getColumns()[p.column])}o=q.getHeaderIndex(p.column);p.column=q.getVisibleHeaderClosestToIndex(o);if(m.grid.actionableMode){if(m.editing&&p.isEqual(m.context)){return}if(n){n.completeEdit()}}if(m.grid.actionableMode){if(m.activateCell(p)){m.activateRow(m.view.all.item(p.rowIdx,true));n=m.getEditor(p.record,p.column);if(n){n.field.focus()}}}else{return m.grid.setActionableMode(true,p)}}},0,0,0,0,["plugin.cellediting"],0,[Ext.grid.plugin,"CellEditing"],0));(Ext.cmd.derive("Ext.plugin.AbstractClipboard",Ext.plugin.Abstract,{cachedConfig:{formats:{text:{get:"getTextData",put:"putTextData"}}},config:{memory:null,source:"system",system:"text"},destroy:function(){var m=this,k=m.keyMap,l=m.shared;Ext.destroy(m.destroyListener);if(k){m.keyMap=Ext.destroy(k);if(!--l.counter){l.textArea=Ext.destroy(l.textArea)}}else{m.renderListener=Ext.destroy(m.renderListener)}Ext.plugin.Abstract.prototype.destroy.call(this)},init:function(k){var g=this;if(k.rendered){this.finishInit(k)}else{g.renderListener=k.on({render:function(){g.renderListener=null;g.finishInit(k)},destroyable:true,single:true})}},getTarget:function(f){return f.el},privates:{shared:{counter:0,data:null,textArea:null},applyMemory:function(f){f=this.applySource(f);return f},applySource:function(f){if(f){if(Ext.isString(f)){f=[f]}else{if(f.length===0){f=null}}}return f||null},doCutCopy:function(q,u){var s=this,v=s.allFormats||s.syncFormats(),x=s.getData(u,v),w=s.getMemory(),t=s.getSystem(),p;if(s.validateAction(q)===false){return}s.shared.data=w&&x;if(t){p=x[t];if(v[t]<3){delete x[t]}s.setClipboardData(p)}},doPaste:function(k,l){var m=this.getFormats();this[m[k].put](l,k)},finishInit:function(k){var g=this;g.keyMap=new Ext.util.KeyMap({target:g.getTarget(k),ignoreInputFields:true,binding:[{ctrl:true,key:"x",fn:g.onCut,scope:g},{ctrl:true,key:"c",fn:g.onCopy,scope:g},{ctrl:true,key:"v",fn:g.onPaste,scope:g}]});++g.shared.counter;g.destroyListener=k.on({destroyable:true,destroy:"destroy",scope:g})},getData:function(s,w){var q=this,v=q.getFormats(),p,t,u,x;if(Ext.isString(w)){p=q[v[w].get](w,s)}else{p={};x=[];if(w){for(u in w){x.push(u)}}else{x=Ext.Object.getAllKeys(v)}for(t=x.length;t-->0;){p[u]=q[v[u].get](u,s&&!t)}}return p},getHiddenTextArea:function(){var g=this.shared,k;k=g.textArea;if(!k){k=g.textArea=Ext.getBody().createChild({tag:"textarea",tabIndex:-1,style:{position:"absolute",top:"-1000px",width:"1px",height:"1px"}});k.suspendFocusEvents()}return k},onCopy:function(g,k){this.doCutCopy(k,false)},onCut:function(g,k){this.doCutCopy(k,true)},onPaste:function(x,q){var s=this,w=s.shared.data,n=s.getSource(),u,v,t;if(s.validateAction(q)===false){return}if(n){for(u=0,v=n.length;u<v;++u){t=n[u];if(t==="system"){t=s.getSystem();s.pasteClipboardData(t);break}else{if(w&&(t in w)){s.doPaste(t,w[t]);break}}}}},pasteClipboardData:function(m){var n=this,q=window.clipboardData,o,p;if(q&&q.getData){n.doPaste(m,q.getData("text"))}else{p=Ext.Element.getActiveElement(true);o=n.getHiddenTextArea().dom;o.value="";if(p){p.suspendFocusEvents()}o.focus();Ext.defer(function(){if(p){p.focus();p.resumeFocusEvents()}n.doPaste(m,o.value);o.value=""},100,n)}},setClipboardData:function(m){var q=window.clipboardData;if(q&&q.setData){q.setData("text",m)}else{var n=this,o=n.getHiddenTextArea().dom,p=Ext.Element.getActiveElement(true);o.value=m;if(p){p.suspendFocusEvents()}o.focus();o.select();Ext.defer(function(){o.value="";if(p){p.focus();p.resumeFocusEvents()}},50)}},syncFormats:function(){var p=this,o={},n=p.getMemory(),q=p.getSystem(),t,s;if(q){o[q]=1}if(n){for(t=n.length;t-->0;){s=n[t];o[s]=o[s]?3:2}}return p.allFormats=o},updateMemory:function(){this.allFormats=null},updateSystem:function(){this.allFormats=null},validateAction:Ext.privateFn}},0,0,0,0,0,0,[Ext.plugin,"AbstractClipboard"],0));(Ext.cmd.derive("Ext.grid.plugin.Clipboard",Ext.plugin.AbstractClipboard,{formats:{cell:{get:"getCells"},html:{get:"getCellData"},raw:{get:"getCellData",put:"putCellData"}},getCellData:function(L,G){var y=this.getCmp(),B=y.getSelectionModel(),A=[],M=L==="raw",C=L==="text",I,K,E,N,H,F,D,J,z;B.getSelected().eachCell(function(e){F=e.column,z=e.column.getView();D=e.record;if(F.ignoreExport){return}if(H!==D){H=D;A.push(J=[])}N=F.dataIndex;if(M){E=D.data[N]}else{I=z.all.item(e.rowIdx);if(!I){I=Ext.fly(z.createRowElement(D,e.rowIdx))}K=I.down(F.getCellInnerSelector());E=K.dom.innerHTML;if(C){E=Ext.util.Format.stripTags(E)}}J.push(E);if(G&&N){D.set(N,null)}});return Ext.util.TSV.encode(A)},getCells:function(s,y){var u=this.getCmp(),w=u.getSelectionModel(),v=[],t,z,x,q;w.getSelected().eachCell(function(e){x=e.record;if(z!==x){z=x;v.push(q={model:x.self,fields:[]})}t=e.column.dataIndex;q.fields.push({name:t,value:x.data[t]});if(y&&t){x.set(t,null)}});return v},getTextData:function(g,k){return this.getCellData(g,k)},putCellData:function(C,M){var K=Ext.util.TSV.decode(C),J,I=K.length,L=I?K[0].length:0,B,y,z=this.getCmp().getView(),H=z.dataSource.getCount()-1,D=z.getVisibleColumnManager().getColumns().length-1,F=z.getNavigationModel(),A=F.getPosition(),N,G,E={};if(!A){z.getSelectionModel().getSelected().eachCell(function(e){A=e;return false})}if(A){A=new Ext.grid.CellContext(z).setPosition(A.record,A.column)}else{A=new Ext.grid.CellContext(z).setPosition(0,0)}G=A.colIdx;for(B=0;B<I;B++){J=K[B];for(y=0;y<L;y++){N=A.column.dataIndex;if(N){switch(M){case"raw":E[N]=J[y];break;case"text":E[N]=J[y];break;case"html":break}}if(A.colIdx===D){break}A.setColumn(A.colIdx+1)}A.record.set(E);if(A.rowIdx===H){break}A.setPosition(A.rowIdx+1,G)}},putTextData:function(k,g){this.putCellData(k,g)},getTarget:function(f){return f.body},privates:{validateAction:function(g){var k=this.getCmp().getView();if(k.actionableMode){return false}}}},0,0,0,0,["plugin.clipboard"],0,[Ext.grid.plugin,"Clipboard"],0));(Ext.cmd.derive("Ext.grid.plugin.DragDrop",Ext.plugin.Abstract,{dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:true,enableDrag:true,containerScroll:false,init:function(f){Ext.applyIf(f,{copy:this.copy,allowCopy:this.allowCopy});f.on("render",this.onViewRender,this,{single:true})},destroy:function(){var f=this;f.dragZone=f.dropZone=Ext.destroy(f.dragZone,f.dropZone);Ext.plugin.Abstract.prototype.destroy.call(this)},enable:function(){var f=this;if(f.dragZone){f.dragZone.unlock()}if(f.dropZone){f.dropZone.unlock()}(arguments.callee.$previous||Ext.plugin.Abstract.prototype.enable).call(this)},disable:function(){var f=this;if(f.dragZone){f.dragZone.lock()}if(f.dropZone){f.dropZone.lock()}(arguments.callee.$previous||Ext.plugin.Abstract.prototype.disable).call(this)},onViewRender:function(o){var n=this,m=o.ownerCt.ownerGrid||o.ownerCt,l;m.relayEvents(o,["beforedrop","drop"]);if(n.enableDrag){if(n.containerScroll){l=o.getEl()}n.dragZone=new Ext.view.DragZone(Ext.apply({view:o,ddGroup:n.dragGroup||n.ddGroup,dragText:n.dragText,containerScroll:n.containerScroll,scrollEl:l},n.dragZone))}if(n.enableDrop){n.dropZone=new Ext.grid.ViewDropZone(Ext.apply({view:o,ddGroup:n.dropGroup||n.ddGroup},n.dropZone))}}},0,0,0,0,["plugin.gridviewdragdrop"],0,[Ext.grid.plugin,"DragDrop"],0));(Ext.cmd.derive("Ext.grid.plugin.RowEditing",Ext.grid.plugin.Editing,{lockableScope:"top",editStyle:"row",autoCancel:true,autoUpdate:false,errorSummary:true,formAriaLabel:"Editing row {0}",formAriaLabelRowBase:2,constructor:function(){var f=this;Ext.grid.plugin.Editing.prototype.constructor.apply(this,arguments);if(!f.clicksToMoveEditor){f.clicksToMoveEditor=f.clicksToEdit}f.autoCancel=!!f.autoCancel;f.autoUpdate=!!f.autoUpdate;if(f.autoUpdate){f.autoCancel=false}},init:function(f){Ext.grid.plugin.Editing.prototype.init.call(this,f);if(f.lockedGrid){f.lockedGrid.registerActionable(this);f.normalGrid.registerActionable(this)}else{f.registerActionable(this)}},destroy:function(){Ext.destroy(this.editor);Ext.grid.plugin.Editing.prototype.destroy.call(this)},onBeforeReconfigure:function(){Ext.grid.plugin.Editing.prototype.onBeforeReconfigure.apply(this,arguments);this.cancelEdit()},onReconfigure:function(l,n,m){var o=this.editor;Ext.grid.plugin.Editing.prototype.onReconfigure.apply(this,arguments);if(m&&o&&o.rendered){o.needsSyncFieldWidths=true}},shouldStartEdit:function(f){return true},startEdit:function(q,m){var n=this,o=n.getEditor(),p;if(Ext.isEmpty(m)){m=n.grid.getTopLevelVisibleColumnManager().getHeaderAtIndex(0)}if(o.beforeEdit()!==false){p=n.getEditingContext(q,m);if(p&&n.beforeEdit(p)!==false&&n.fireEvent("beforeedit",n,p)!==false&&!p.cancel){n.context=p;if(n.lockingPartner){n.lockingPartner.cancelEdit()}o.startEdit(p.record,p.column,p);n.editing=true;return true}}return false},activateCell:function(f){if(!f.getCell().query('[tabIndex="-1"]').length){this.startEdit(f.record,f.column);return true}},suspend:Ext.emptyFn,resume:Ext.emptyFn,onEnterKey:function(e){var m=this,l;if(!m.grid.ownerGrid.actionableMode&&m.editing){l=Ext.getCmp(e.getTarget().getAttribute("componentId"));if(!(l&&l.isPickerField&&l.isExpanded)){m.completeEdit()}}},cancelEdit:function(){var f=this;if(f.editing){f.getContextFieldValues();f.getEditor().cancelEdit();Ext.grid.plugin.Editing.prototype.cancelEdit.apply(this,arguments);return}return true},completeEdit:function(){var g=this,k=g.context;if(g.editing&&g.validateEdit(k)){g.editing=false;g.fireEvent("edit",g,k)}},validateEdit:function(){this.getContextFieldValues();return Ext.grid.plugin.Editing.prototype.validateEdit.apply(this,arguments)&&this.getEditor().completeEdit()},getEditor:function(){var f=this;if(!f.editor){f.editor=f.initEditor()}return f.editor},getContextFieldValues:function(){var w=this.editor,A=this.context,x=A.record,s={},z={},u=w.query(">[isFormField]"),v=u.length,y,B,t;for(y=0;y<v;y++){t=u[y];B=t.dataIndex;s[B]=t.getValue();z[B]=x.get(B)}Ext.apply(A,{newValues:s,originalValues:z})},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var u=this,y=u.grid,t=u.view,x=y.headerCt,w=["saveBtnText","cancelBtnText","errorsText","dirtyText"],s,z=w.length,v={autoCancel:u.autoCancel,autoUpdate:u.autoUpdate,removeUnmodified:u.removeUnmodified,errorSummary:u.errorSummary,formAriaLabel:u.formAriaLabel,formAriaLabelRowBase:u.formAriaLabelRowBase+(y.hideHeaders?-1:0),fields:x.getGridColumns(),hidden:true,view:t,editingPlugin:u},q;for(s=0;s<z;s++){q=w[s];if(Ext.isDefined(u[q])){v[q]=u[q]}}return v},initEditTriggers:function(){var l=this,m=l.view,k=l.clicksToMoveEditor===1?"click":"dblclick";Ext.grid.plugin.Editing.prototype.initEditTriggers.apply(this,arguments);if(l.clicksToMoveEditor!==l.clicksToEdit){l.mon(m,"cell"+k,l.moveEditorByClick,l)}m.on({render:function(){l.mon(l.grid.headerCt,{scope:l,columnresize:l.onColumnResize,columnhide:l.onColumnHide,columnshow:l.onColumnShow})},single:true})},moveEditorByClick:function(){var f=this;if(f.editing){f.superclass.onCellClick.apply(f,arguments)}},onColumnAdd:function(o,m){if(m.isHeader){var l=this,n;l.initFieldAccessors(m);n=l.editor;if(n){n.onColumnAdd(m)}}},beforeGridHeaderDestroy:function(n){var q=this.grid.getColumnManager().getColumns(),t=q.length,s,p,o;for(s=0;s<t;s++){p=q[s];if(p.hasEditor){if(p.hasEditor()&&(o=p.getEditor())){o.destroy()}this.removeFieldAccessors(p)}}},onColumnResize:function(q,n,o){if(n.isHeader){var m=this,p=m.getEditor();if(p){p.onColumnResize(n,o)}}},onColumnHide:function(o,m){var l=this,n=l.getEditor();if(n){n.onColumnHide(m)}},onColumnShow:function(o,m){var l=this,n=l.getEditor();if(n){n.onColumnShow(m)}},onColumnMove:function(t,p,q,n){var o=this,s=o.getEditor();o.initFieldAccessors(p);if(s){s.onColumnMove(p,q,n)}},setColumnField:function(n,l){var m=this,o=m.getEditor();if(o){o.destroyColumnEditor(n)}Ext.grid.plugin.Editing.prototype.setColumnField.apply(this,arguments);if(o){o.insertColumnEditor(n)}},createColumnField:function(o,q){var p=this.editor,n,m;if(p){n=p.getDefaultFieldCfg()}m=Ext.grid.plugin.Editing.prototype.createColumnField.call(this,o,q||n);if(m){m.skipLabelForAttribute=true;m.ariaAttributes=m.ariaAttributes||{};if(this.grid.hideHeaders){m.ariaAttributes["aria-label"]=o.text}else{m.ariaAttributes["aria-labelledby"]=o.id}}return m}},1,0,0,0,["plugin.rowediting"],0,[Ext.grid.plugin,"RowEditing"],0));(Ext.cmd.derive("Ext.grid.plugin.RowExpander",Ext.plugin.Abstract,{lockableScope:"top",columnWidth:24,rowBodyTpl:null,lockedTpl:null,expandOnDblClick:true,selectRowOnExpand:false,scrollIntoViewOnExpand:true,headerWidth:24,bodyBefore:false,rowBodyTrSelector:".x-grid-rowbody-tr",rowBodyHiddenCls:"x-grid-row-body-hidden",rowCollapsedCls:"x-grid-row-collapsed",addCollapsedCls:{fn:function(n,o,m){var l=this.rowExpander;if(!l.recordsExpanded[o.record.internalId]){o.itemClasses.push(l.rowCollapsedCls)}this.nextTpl.applyOut(o,n,m)},syncRowHeights:function(k,g){this.rowExpander.syncRowHeights(k,g)},priority:20000},setCmp:function(m){var k=this,l;Ext.plugin.Abstract.prototype.setCmp.apply(this,arguments);k.recordsExpanded={};k.rowBodyTpl=Ext.XTemplate.getTpl(k,"rowBodyTpl");l=k.getFeatureConfig(m);if(m.features){m.features=Ext.Array.push(l,m.features)}else{m.features=l}},getFeatureConfig:function(o){var m=this,n=[],l={ftype:"rowbody",rowExpander:m,rowIdCls:m.rowIdCls,bodyBefore:m.bodyBefore,recordsExpanded:m.recordsExpanded,rowBodyHiddenCls:m.rowBodyHiddenCls,rowCollapsedCls:m.rowCollapsedCls,setupRowData:m.getRowBodyFeatureData,setup:m.setup};n.push(Ext.apply({lockableScope:"normal",getRowBodyContents:m.getRowBodyContentsFn(m.rowBodyTpl)},l));if(o.enableLocking){n.push(Ext.apply({lockableScope:"locked",getRowBodyContents:m.lockedTpl?m.getRowBodyContentsFn(m.lockedTpl):function(){return""}},l))}return n},getRowBodyContentsFn:function(k){var g=this;return function(e){k.owner=g;return k.applyTemplate(e.record.getData())}},init:function(s){var o=this,n=s.lockable&&s,t,p,q;if(n){o.lockedGrid=n.lockedGrid;o.normalGrid=n.normalGrid;p=o.lockedView=o.lockedGrid.getView();q=o.normalView=o.normalGrid.getView()}Ext.plugin.Abstract.prototype.init.apply(this,arguments);o.grid=s;t=o.view=s.getView();o.bindView(t);if(n){o.addExpander(o.lockedGrid.headerCt.items.getCount()?o.lockedGrid:o.normalGrid);p.addRowTpl(o.addCollapsedCls).rowExpander=q.addRowTpl(o.addCollapsedCls).rowExpander=p.rowExpander=q.rowExpander=o;n.mon(n,{processcolumns:o.onLockableProcessColumns,lockcolumn:o.onColumnLock,unlockcolumn:o.onColumnUnlock,scope:o})}else{t.addRowTpl(o.addCollapsedCls).rowExpander=t.rowExpander=o;o.addExpander(s);s.on("beforereconfigure",o.beforeReconfigure,o)}},onItemAdd:function(p,w,t){var q=this,x=q.grid.lockable,v=t.length,u,s;for(s=0;s<v;s++){u=p[s];if(!u.isNonData&&q.recordsExpanded[u.internalId]){x&&(q.grid.syncRowHeightOnNextLayout=true);return}}},beforeReconfigure:function(p,t,q,n,s){var o=this;if(o.viewListeners){o.viewListeners.destroy()}if(q){o.expanderColumn=new Ext.grid.Column(o.getHeaderConfig());q.unshift(o.expanderColumn)}},onLockableProcessColumns:function(k,l,m){this.addExpander(l.length?k.lockedGrid:k.normalGrid)},addExpander:function(m){var n=this,o=m.getSelectionModel(),l=o.injectCheckbox;n.expanderColumn=m.headerCt.insert(0,n.getHeaderConfig());if(l===0||l==="first"){l=1}o.injectCheckbox=l},getRowBodyFeatureData:function(n,o,l){var m=this;m.self.prototype.setupRowData.apply(m,arguments);l.rowBody=m.getRowBodyContents(l);l.rowBodyCls=m.recordsExpanded[n.internalId]?"":m.rowBodyHiddenCls},bindView:function(m){var k=this,l={itemkeydown:k.onKeyDown,scope:k};if(k.expandOnDblClick){l.itemdblclick=k.onDblClick}if(k.grid.lockable){l.itemadd=k.onItemAdd}m.on(l)},onKeyDown:function(t,x,e,z,w){var v=this,s=w.getKey(),u=t.getNavigationModel().getPosition(),y;if(u){e=Ext.fly(e);y=e.hasCls(v.rowCollapsedCls);if(((s===107||(s===187&&w.shiftKey))&&y)||((s===109||s===189)&&!y)){v.toggleRow(z,x)}}},onDblClick:function(p,q,e,o,n){this.toggleRow(o,q)},toggleRow:function(D,y){var w=this,v=w.normalView||w.view,G=v,C=v.getNode(D),A=Ext.fly(C),z,x=A.down(w.rowBodyTrSelector,true),F=A.hasCls(w.rowCollapsedCls),H=F?"removeCls":"addCls",E=w.grid.lockable&&w.grid,B;A[H](w.rowCollapsedCls);Ext.fly(x)[H](w.rowBodyHiddenCls);w.recordsExpanded[y.internalId]=F;Ext.suspendLayouts();if(E){B=E.componentLayoutCounter;G=E.getView();if(w.lockedGrid.isVisible()){v=w.lockedView;v.lockingPartner.updateLayout();z=Ext.fly(v.getNode(D));if(z){z[H](w.rowCollapsedCls);x=z.down(w.rowBodyTrSelector,true);Ext.fly(x)[H](w.rowBodyHiddenCls)}}E.syncRowHeightOnNextLayout=true}G.fireEvent(F?"expandbody":"collapsebody",C,y,x);v.refreshSize(true);Ext.resumeLayouts(true);if(w.scrollIntoViewOnExpand&&F){w.grid.ensureVisible(D)}if(E&&E.componentLayoutCounter===B){E.syncLockableLayout()}},syncRowHeights:function(u,v){var q=this,s=Ext.fly(u).down(q.rowBodyTrSelector),t=Ext.fly(v).down(q.rowBodyTrSelector),o,p;if(t.isVisible()){if((o=s.getHeight())!==(p=t.getHeight())){if(o>p){t.setHeight(o)}else{s.setHeight(p)}}}else{s.dom.style.height=t.dom.style.height=""}},onColumnUnlock:function(m,o){var n=this,l;m=m||n.grid;l=m.lockedGrid.visibleColumnManager.getColumns();if(l.length===1){m.normalGrid.removeCls("x-grid-hide-row-expander-spacer");m.lockedGrid.addCls("x-grid-hide-row-expander-spacer");if(l[0]===n.expanderColumn){m.unlock(n.expanderColumn)}else{m.lock(n.expanderColumn,0)}}},onColumnLock:function(m,o){var n=this,l;m=m||n.grid;l=n.lockedGrid.visibleColumnManager.getColumns();if(l.length===1){n.lockedGrid.headerCt.insert(0,n.expanderColumn);m.normalGrid.addCls("x-grid-hide-row-expander-spacer");m.lockedGrid.removeCls("x-grid-hide-row-expander-spacer")}},getHeaderConfig:function(){var g=this,k=g.grid.lockable&&g.grid;return{width:g.headerWidth,ignoreExport:true,lockable:false,autoLock:true,sortable:false,resizable:false,draggable:false,hideable:false,menuDisabled:true,tdCls:"x-grid-cell-special",innerCls:"x-grid-cell-inner-row-expander",renderer:function(){return'<div class="x-grid-row-expander" role="presentation" tabIndex="0"></div>'},processEvent:function(v,f,z,t,u,w,x){var y=w.pointerType==="touch",e=!!w.getTarget(".x-grid-row-expander");if((v==="click"&&e)||(v==="keydown"&&w.getKey()===w.SPACE)){if(y){z.focus()}g.toggleRow(t,x,w);w.stopSelection=!g.selectRowOnExpand}else{if(w.type==="mousedown"&&!y&&e){w.preventDefault()}}},isLocked:function(){return k&&(k.lockedGrid.isVisible()||this.locked)},editRenderer:function(){return"&#160;"}}}},0,0,0,0,["plugin.rowexpander"],0,[Ext.grid.plugin,"RowExpander"],0));Ext.define("Ext.theme.triton.grid.plugin.RowExpander",{override:"Ext.grid.plugin.RowExpander",headerWidth:32});(Ext.cmd.derive("Ext.grid.plugin.RowWidget",Ext.grid.plugin.RowExpander,{lockableScope:"top",config:{defaultWidgetUI:{}},widget:null,lockedWidget:null,addCollapsedCls:{fn:function(n,o,m){var l=this.rowExpander;if(!l.recordsExpanded[o.record.internalId]){o.itemClasses.push(l.rowCollapsedCls)}this.nextTpl.applyOut(o,n,m)},priority:20000},setCmp:function(o){var m=this,n,l;m.rowIdCls=Ext.id(null,"x-rowwidget-");m.recordsExpanded={};Ext.plugin.Abstract.prototype.setCmp.apply(m,arguments);l=m.widget;m.widget=l=Ext.apply({},l);if(!l.ui){l.ui=m.getDefaultWidgetUI()[l.xtype]||"default"}if(o.enableLocking&&m.lockedWidget){m.lockedWidget=l=Ext.apply({},m.lockedWidget);if(!l.ui){l.ui=m.getDefaultWidgetUI()[l.xtype]||"default"}}n=m.getFeatureConfig(o);if(o.features){o.features=Ext.Array.push(n,o.features)}else{o.features=n}},getFeatureConfig:function(o){var m=this,n=[],l={ftype:"rowbody",rowExpander:m,rowIdCls:m.rowIdCls,bodyBefore:m.bodyBefore,recordsExpanded:m.recordsExpanded,rowBodyHiddenCls:m.rowBodyHiddenCls,rowCollapsedCls:m.rowCollapsedCls,setupRowData:m.setupRowData,setup:m.setup,onClick:Ext.emptyFn};n.push(Ext.apply({lockableScope:"normal"},l));if(o.enableLocking){n.push(Ext.apply({lockableScope:"locked"},l))}return n},setupRowData:function(o,l,m){var n=this.rowExpander;n.rowBodyFeature=this;m.rowBodyCls=n.recordsExpanded[o.internalId]?"":n.rowBodyHiddenCls},bindView:function(k){var g=this;g.viewListeners=k.on({refresh:g.onViewRefresh,itemadd:g.onItemAdd,scope:g,destroyable:true});Ext.override(k,g.viewOverrides)},destroy:function(){var k=this,g=k.getId();k.viewListeners.destroy();if(k.grid.lockable){k.grid.destroyManagedWidgets(g+"-"+k.lockedView.getId());k.grid.destroyManagedWidgets(g+"-"+k.normalView.getId())}else{k.grid.destroyManagedWidgets(g+"-"+k.view.getId())}Ext.grid.plugin.RowExpander.prototype.destroy.call(this)},privates:{viewOverrides:{handleEvent:function(e){if(e.getTarget("."+this.rowExpander.rowIdCls,this.body)){return}this.callParent([e])},onFocusEnter:function(e){if(e.event.getTarget("."+this.rowExpander.rowIdCls,this.body)){return}this.callParent([e])},toggleChildrenTabbability:function(m){var o=this.getTargetEl(),l=this.all,n;for(n=l.startIndex;n<=l.endIndex;n++){o=Ext.fly(this.getRow(l.item(n)));if(m){o.restoreTabbableState(true)}else{o.saveTabbableState({skipSelf:true,includeSaved:false})}}}},destroyLiveWidget:function(g,k){k.destroy()},destroyFreeWidget:function(f){f.destroy()},onItemAdd:function(y,s,q,t){var u=this,v=q.length,x,w,z=u.grid.lockable;Ext.suspendLayouts();for(x=0;x<v;x++){w=y[x];if(!w.isNonData&&u.recordsExpanded[w.internalId]){z&&(u.grid.syncRowHeightOnNextLayout=true);u.addWidget(t,w)}}Ext.resumeLayouts(true)},onViewRefresh:function(t,q){var o=this,n=t.all,p,s;Ext.suspendLayouts();for(p=n.startIndex,s=0;p<=n.endIndex;p++,s++){o.addWidget(t,q[s])}Ext.resumeLayouts(true)},returnFalse:function(){return false},listenerScopeDecorator:function(f){if(f==="this"){return this}return this.ownerCt.resolveListenerScope(f)},getWidget:function(o,p){var n=this,q,m;if(p){m=n.grid.lockable&&o===n.lockedView?n.lockedWidget:n.widget;if(m){q=n.grid.createManagedWidget(n.getId()+"-"+o.getId(),m,p);q.resolveListenerScope=n.listenerScopeDecorator;q.measurer=n;q.ownerCt=o;q.ownerLayout=o.componentLayout}}return q},addWidget:function(s,w){var t=this,v,z,x,u=!!t.onWidgetAttach,q=t.isFixedSize,y;if(w.isNonData||!t.recordsExpanded[w.internalId]){return}v=Ext.fly(s.getNode(w)).down(t.rowBodyFeature.innerSelector);z=v.getWidth(true)-v.getPadding("lr");x=t.getWidget(s,w);if(x){if(x.defaultBindProperty&&!x.getBind()){x.setConfig(x.defaultBindProperty,w)}if(u){Ext.callback(t.onWidgetAttach,t.scope,[t,x,w],0,t)}y=x.el||x.element;if(y){v.dom.appendChild(y.dom);if(!q&&x.width!==z){x.setWidth(z)}else{x.updateLayout()}x.reattachToBody()}else{if(!q){x.width=z}x.render(v)}}return x},toggleRow:function(C,x){var v=this,u=v.normalView||v.view,B=u.getNode(C),z=Ext.fly(B),y,w=z.down(v.rowBodyTrSelector,true),E=z.hasCls(v.rowCollapsedCls),F=E?"removeCls":"addCls",D=v.grid.lockable&&v.grid,A;z[F](v.rowCollapsedCls);Ext.fly(w)[F](v.rowBodyHiddenCls);Ext.suspendLayouts();if(E){v.recordsExpanded[x.internalId]=true;A=v.addWidget(u,x)}else{delete v.recordsExpanded[x.internalId];A=v.getWidget(u,x)}if(D){if(D.lockedGrid.isVisible()){u=v.lockedView;y=Ext.fly(u.getNode(C));if(y){y[F](v.rowCollapsedCls);w=y.down(v.rowBodyTrSelector,true);Ext.fly(w)[F](v.rowBodyHiddenCls);if(E&&v.lockedWidget){A=[A,v.addWidget(u,x)]}else{A=[A,v.getWidget(u,x)]}}D.syncRowHeightOnNextLayout=true}}v.view.fireEvent(E?"expandbody":"collapsebody",B,x,w,A);u.updateLayout();Ext.resumeLayouts(true);if(v.scrollIntoViewOnExpand&&E){v.grid.ensureVisible(C)}}}},0,0,0,0,["plugin.rowwidget"],[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable],[Ext.mixin.StyleCacher.prototype.mixinId||Ext.mixin.StyleCacher.$className,Ext.mixin.StyleCacher]],[Ext.grid.plugin,"RowWidget"],0));(Ext.cmd.derive("Ext.grid.property.Grid",Ext.grid.Panel,{alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:true,enableColumnMove:false,columnLines:true,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,gridCls:"x-property-grid",initComponent:function(){var k=this,l=!Ext.isIE,m;k.source=k.source||{};k.addCls(k.gridCls);k.plugins=k.plugins||[];k.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:k.clicksToEdit,startEdit:function(f,e){return this.self.prototype.startEdit.call(this,f,k.valueColumn)}}));k.selModel={type:"cellmodel",onCellSelect:function(e){e.column=k.valueColumn;e.colIdx=k.valueColumn.getVisibleIndex();return this.self.prototype.onCellSelect.call(this,e)}};k.sourceConfig=Ext.apply({},k.sourceConfig);if(!k.store){k.propStore=k.store=new Ext.grid.property.Store(k,k.source)}k.configure(k.sourceConfig);if(k.sortableColumns){k.store.sort("name","ASC")}k.columns=new Ext.grid.property.HeaderContainer(k,k.store);Ext.grid.Panel.prototype.initComponent.call(this);var m=k.getView();m.walkCells=k.walkCells;m.getDefaultFocusPosition=k.getDefaultFocusPosition;k.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:l})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:l})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:l})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:false,store:[[true,k.headerCt.trueText],[false,k.headerCt.falseText]]})})};k.store.on("update",k.onUpdate,k)},configure:function(B){var w=this,u=w.store,z=0,y=w.store.getCount(),t=w.nameField,D=w.valueField,C,v,A,x;w.configureLegacy(B);if(w.inferTypes){for(;z<y;++z){A=u.getAt(z);C=A.get(t);if(!w.getConfigProp(C,"type")){v=A.get(D);if(Ext.isDate(v)){x="date"}else{if(Ext.isNumber(v)){x="number"}else{if(Ext.isBoolean(v)){x="boolean"}else{x="string"}}}w.setConfigProp(C,"type",x)}}}},getConfigProp:function(m,n,q){var o=this.sourceConfig[m],p;if(o){p=o[n]}return p||q},setConfigProp:function(m,p,o){var q=this.sourceConfig,n=q[m];if(!n){n=q[m]={__copied:true}}else{if(!n.__copied){n=Ext.apply({__copied:true},n);q[m]=n}}n[p]=o;return o},configureLegacy:function(k){var g=this;g.copyLegacyObject(k,g.customRenderers,"renderer");g.copyLegacyObject(k,g.customEditors,"editor");g.copyLegacyObject(k,g.propertyNames,"displayName")},copyLegacyObject:function(o,l,m){var n;for(n in l){if(l.hasOwnProperty(n)){if(!o[n]){o[n]={}}o[n][m]=l[n]}}},onUpdate:function(p,t,q){var n=this,s,o;if(n.rendered&&q===Ext.data.Model.EDIT){s=t.get(n.valueField);o=t.modified.value;if(n.fireEvent("beforepropertychange",n.source,t.getId(),s,o)!==false){if(n.source){n.source[t.getId()]=s}t.commit();n.fireEvent("propertychange",n.source,t.getId(),s,o)}else{t.reject()}}},walkCells:function(v,w,x,e,u,s){var q=this,t=q.ownerCt.valueColumn;if(w==="left"){w="up"}else{if(w==="right"){w="down"}}v=Ext.view.Table.prototype.walkCells.call(q,v,w,x,e,u,s);v.column=t;v.colIdx=t.getVisibleIndex();return v},getDefaultFocusPosition:function(){var k=this,g;g=new Ext.grid.CellContext(k).setColumn(1);return g},getCellEditor:function(w,y){var t=this,x=w.get(t.nameField),z=w.get(t.valueField),v=t.getConfigProp(x,"editor"),s=t.getConfigProp(x,"type"),u=t.editors,q;if(v){if(!(v instanceof Ext.grid.CellEditor)){if(!(v instanceof Ext.form.field.Base)){v=Ext.ComponentManager.create(v,"textfield")}v=t.setConfigProp(x,"editor",new Ext.grid.CellEditor({field:v}))}}else{if(s){switch(s){case"date":v=u.date;break;case"number":v=u.number;break;case"boolean":v=t.editors["boolean"];break;default:v=u.string}}else{if(Ext.isDate(z)){v=u.date}else{if(Ext.isNumber(z)){v=u.number}else{if(Ext.isBoolean(z)){v=u["boolean"]}else{v=u.string}}}}}q=v.field;if(q&&q.ui==="default"&&!q.hasOwnProperty("ui")){q.ui=t.editingPlugin.defaultFieldUI}v.editorId=x;v.field.column=t.valueColumn;if(x){x=Ext.String.htmlEncode(x);if(q.rendered){q.inputEl.dom.setAttribute("aria-label",x)}else{q.ariaLabel=x}}return v},doDestroy:function(){var f=this;f.destroyEditors(f.editors);f.destroyEditors(f.customEditors);Ext.grid.Panel.prototype.doDestroy.call(this)},destroyEditors:function(g){for(var k in g){if(g.hasOwnProperty(k)){Ext.destroy(g[k])}}},setSource:function(l,k){var m=this;m.source=l;if(k!==undefined){m.sourceConfig=Ext.apply({},k);m.configure(m.sourceConfig)}m.propStore.setSource(l)},getSource:function(){return this.propStore.getSource()},getProperty:function(f){return this.propStore.getProperty(f)},setProperty:function(k,l,m){this.propStore.setValue(k,l,m)},removeProperty:function(f){this.propStore.remove(f)}},0,["propertygrid"],["component","box","container","panel","tablepanel","gridpanel","grid","propertygrid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,propertygrid:true},["widget.propertygrid"],0,[Ext.grid.property,"Grid",Ext.grid,"PropertyGrid"],0));(Ext.cmd.derive("Ext.grid.property.HeaderContainer",Ext.grid.header.Container,{alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:"x-grid-property-name",nameColumnInnerCls:"x-grid-cell-inner-property-name",constructor:function(l,m){var k=this;k.grid=l;k.store=m;Ext.grid.header.Container.prototype.constructor.call(this,{isRootHeader:true,enableColumnResize:Ext.isDefined(l.enableColumnResize)?l.enableColumnResize:k.enableColumnResize,enableColumnMove:Ext.isDefined(l.enableColumnMove)?l.enableColumnMove:k.enableColumnMove,items:[{header:k.nameText,width:l.nameColumnWidth||k.nameWidth,sortable:l.sortableColumns,dataIndex:l.nameField,scope:k,renderer:k.renderProp,itemId:l.nameField,menuDisabled:true,tdCls:k.nameColumnCls,innerCls:k.nameColumnInnerCls},{header:k.valueText,scope:k,renderer:k.renderCell,getEditor:k.getCellEditor.bind(k),sortable:l.sortableColumns,flex:1,fixed:true,dataIndex:l.valueField,itemId:l.valueField,menuDisabled:true}]});k.grid.valueColumn=k.items.getAt(1)},getCellEditor:function(f){return this.grid.getCellEditor(f,this)},renderProp:function(f){return this.getPropertyName(f)},renderCell:function(v,p,o){var s=this,t=s.grid,q=t.getConfigProp(o.get(t.nameField),"renderer"),u=v;if(q){return Ext.callback(q,null,arguments,0,s)}if(Ext.isDate(v)){u=s.renderDate(v)}else{if(Ext.isBoolean(v)){u=s.renderBool(v)}}return Ext.util.Format.htmlEncode(u)},renderDate:Ext.util.Format.date,renderBool:function(f){return this[f?"trueText":"falseText"]},getPropertyName:function(f){return this.grid.getConfigProp(f,"displayName",f)}},1,0,["component","box","container","headercontainer"],{component:true,box:true,container:true,headercontainer:true},0,0,[Ext.grid.property,"HeaderContainer",Ext.grid,"PropertyColumnModel"],0));(Ext.cmd.derive("Ext.grid.property.Property",Ext.data.Model,{alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name",constructor:function(g,k){if(!Ext.isObject(g)){g={name:g,value:k}}Ext.data.Model.prototype.constructor.call(this,g)}},1,0,0,0,0,0,[Ext.grid.property,"Property",Ext,"PropGridProperty"],0));(Ext.cmd.derive("Ext.grid.property.Reader",Ext.data.reader.Reader,{successProperty:null,totalProperty:null,messageProperty:null,read:function(f){return this.readRecords(f)},readRecords:function(p){var m=this.getModel(),q={records:[],success:true},n,o;for(o in p){if(p.hasOwnProperty(o)){n=p[o];if(this.isEditableValue(n)){q.records.push(new m({name:o,value:n}))}}}q.total=q.count=q.records.length;return new Ext.data.ResultSet(q)},isEditableValue:function(f){return Ext.isPrimitive(f)||Ext.isDate(f)||f===null}},0,0,0,0,0,0,[Ext.grid.property,"Reader"],0));(Ext.cmd.derive("Ext.grid.property.Store",Ext.data.Store,{alternateClassName:"Ext.grid.PropertyStore",remoteSort:true,constructor:function(m,k){var l=this;l.grid=m;l.source=k;Ext.data.Store.prototype.constructor.call(this,{data:k,model:Ext.grid.property.Property,proxy:l.getProxy()})},getProxy:function(){var f=this.proxy;if(!f){f=this.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})}return f},getReader:function(){var f=this.reader;if(!f){f=this.reader=new Ext.grid.property.Reader({model:Ext.grid.property.Property})}return f},setSource:function(k){var g=this;g.source=k;g.suspendEvents();g.removeAll();g.getProxy().setData(k);g.load();g.resumeEvents();g.fireEvent("datachanged",g);g.fireEvent("refresh",g)},getProperty:function(k){var l=Ext.isNumber(k)?this.getAt(k):this.getById(k),m=null;if(l){m=l.get("value")}return m},setValue:function(m,o,q){var p=this,n=p.getRec(m);if(n){n.set("value",o);p.source[m]=o}else{if(q){p.source[m]=o;n=new Ext.grid.property.Property({name:m,value:o},m);p.add(n)}}},remove:function(g){var k=this.getRec(g);if(k){Ext.data.Store.prototype.remove.call(this,k);delete this.source[g]}},getRec:function(f){return this.getById(f)},getSource:function(){return this.source},doDestroy:function(){Ext.destroy(this.reader,this.proxy);Ext.data.Store.prototype.doDestroy.call(this)}},1,0,0,0,0,0,[Ext.grid.property,"Store",Ext.grid,"PropertyStore"],0));(Ext.cmd.derive("Ext.grid.selection.Selection",Ext.Base,{constructor:function(f){this.view=f.ownerGrid.view}},1,0,0,0,0,0,[Ext.grid.selection,"Selection"],0));(Ext.cmd.derive("Ext.grid.selection.Cells",Ext.grid.selection.Selection,{type:"cells",isCells:true,clone:function(){var g=this,k=new g.self(g.view);if(g.startCell){k.startCell=g.startCell.clone();k.endCell=g.endCell.clone()}return k},contains:function(k){var g;if(!k||!k.isCellContext){return false}if(this.startCell){g=this.getRowRange();if(k.rowIdx>=g[0]&&k.rowIdx<=g[1]){g=this.getColumnRange();return(k.colIdx>=g[0]&&k.colIdx<=g[1])}}return false},eachRow:function(q,s){var o=this,n=o.getRowRange(),t=new Ext.grid.CellContext(o.view),p;for(p=n[0];p<=n[1];p++){t.setRow(p);if(q.call(s||o,t.record)===false){return}}},eachColumn:function(p,q){var o=this,t=o.getColumnRange(),s=new Ext.grid.CellContext(o.view),n;for(n=t[0];n<=t[1];n++){s.setColumn(n);if(p.call(q||o,s.column,n)===false){return}}},eachCell:function(s,t){var p=this,x=p.getRowRange(),v=p.getColumnRange(),u=new Ext.grid.CellContext(p.view),q,w;for(q=x[0];q<=x[1];q++){u.setRow(q);for(w=v[0];w<=v[1];w++){u.setColumn(w);if(s.call(t||p,u,w,q)===false){return}}}},getFirstRowIndex:function(){return this.startCell?Math.min(this.startCell.rowIdx,this.endCell.rowIdx):0},getLastRowIndex:function(){return this.startCell?Math.max(this.startCell.rowIdx,this.endCell.rowIdx):-1},getFirstColumnIndex:function(){return this.startCell?Math.min(this.startCell.colIdx,this.endCell.colIdx):0},getLastColumnIndex:function(){return this.startCell?Math.max(this.startCell.colIdx,this.endCell.colIdx):-1},privates:{clear:function(){var g=this,k=g.view;g.eachCell(function(e){k.onCellDeselect(e)});g.startCell=g.endCell=null},setRangeStart:function(g,k){this.startCell=(this.endCell=g.clone()).clone();this.view.onCellSelect(g)},setRangeEnd:function(E){var w=this,y,z,D,x,A,H,F,B,J=w.view,G=J.all,I=new Ext.grid.CellContext(J),C=J.getVisibleColumnManager().getColumns().length-1;w.endCell=E.clone();y=w.getRange();z=w.lastRange||y;D=Math.max(Math.min(y[0][1],z[0][1]),G.startIndex);x=Math.min(Math.max(y[1][1],z[1][1]),G.endIndex);A=Math.min(y[0][0],z[0][0]);H=Math.min(Math.max(y[1][0],z[1][0]),C);for(F=D;F<=x;F++){for(B=A;B<=H;B++){I.setPosition(F,B);if(F<y[0][1]||F>y[1][1]||B<y[0][0]||B>y[1][0]){J.onCellDeselect(I)}else{J.onCellSelect(I)}}}w.lastRange=y},extendRange:function(l){var k=this,m;if(l[l.type]<0){m=k.endCell.clone().setPosition(k.getLastRowIndex(),k.getLastColumnIndex());k.startCell=l.start.clone();k.setRangeEnd(m);k.view.getNavigationModel().setPosition(l.start)}else{k.startCell=k.startCell.setPosition(k.getFirstRowIndex(),k.getFirstColumnIndex());k.setRangeEnd(l.end);k.view.getNavigationModel().setPosition(l.end)}},getRange:function(){return[[this.getFirstColumnIndex(),this.getFirstRowIndex()],[this.getLastColumnIndex(),this.getLastRowIndex()]]},getRangeSize:function(){return this.getCount()},getCount:function(){var f=this.getRange();return(f[1][0]-f[0][0]+1)*(f[1][1]-f[0][1]+1)},selectAll:function(){var g=this,k=g.view;g.clear();g.setRangeStart(new Ext.grid.CellContext(k).setPosition(0,0));g.setRangeEnd(new Ext.grid.CellContext(k).setPosition(k.dataSource.getCount()-1,k.getVisibleColumnManager().getColumns().length-1))},isAllSelected:function(){var g=this.rangeStart,k=this.rangeEnd;if(g){if(!g.colIdx&&!g.rowIdx){return k.colIdx===k.view.getVisibleColumnManager().getColumns().length-1&&k.rowIdx===k.view.dataSource.getCount-1}}return false},getColumnRange:function(){return[this.getFirstColumnIndex(),this.getLastColumnIndex()]},getLastSelected:function(){return this.view.dataSource.getAt(this.endCell.rowIdx)},getRowRange:function(){return[this.getFirstRowIndex(),this.getLastRowIndex()]},onSelectionFinish:function(){var f=this;if(f.getCount()){f.view.getSelectionModel().onSelectionFinish(f,new Ext.grid.CellContext(f.view).setPosition(f.getFirstRowIndex(),f.getFirstColumnIndex()),new Ext.grid.CellContext(f.view).setPosition(f.getLastRowIndex(),f.getLastColumnIndex()))}else{f.view.getSelectionModel().onSelectionFinish(f)}}}},0,0,0,0,0,0,[Ext.grid.selection,"Cells"],0));(Ext.cmd.derive("Ext.grid.selection.Columns",Ext.grid.selection.Selection,{type:"columns",isColumns:true,clone:function(){var k=this,m=new k.self(k.view),l=k.selectedColumns;if(l){m.selectedColumns=Ext.Array.slice(l)}return m},eachRow:function(k,l){var m=this.selectedColumns;if(m&&m.length){this.view.dataSource.each(k,l||this)}},eachColumn:function(x,p){var w=this,u=w.view,q=w.selectedColumns,v,s,t=new Ext.grid.CellContext(u);if(q){v=q.length;for(s=0;s<v;s++){t.setColumn(q[s]);if(x.call(p||w,t.column,t.colIdx)===false){return false}}}},eachCell:function(x,p){var w=this,u=w.view,q=w.selectedColumns,v,s,t=new Ext.grid.CellContext(u);if(q){v=q.length;u.dataSource.each(function(e){t.setRow(e);for(s=0;s<v;s++){t.setColumn(q[s]);if(x.call(p||w,t,t.colIdx,t.rowIdx)===false){return false}}})}},contains:function(g){var k=this.selectedColumns;if(g&&g.isColumn&&k&&k.length){return Ext.Array.contains(k,g)}return false},getCount:function(){var f=this.selectedColumns;return f?f.length:0},getColumns:function(){return this.selectedColumns||[]},privates:{add:function(f){Ext.Array.include((this.selectedColumns||(this.selectedColumns=[])),f);this.refreshColumns(f)},clear:function(){var k=this,g=k.selectedColumns;if(g&&g.length){k.selectedColumns=[];k.refreshColumns.apply(k,g)}},setRangeStart:function(m){var l=this,k=l.getColumns();l.startColumn=m;l.selectedColumns=[m];k.push(m);l.refreshColumns.apply(l,k)},setRangeEnd:function(w){var s=this,x=s.getColumns(),p=this.view.ownerGrid.getVisibleColumnManager(),t=p.getColumns(),q=p.indexOf(s.startColumn),v=p.indexOf(w),u;if(v<q){u=q;q=v;v=u}s.selectedColumns=[];for(u=q;u<=v;u++){s.selectedColumns.push(t[u]);x.push(t[u])}s.refreshColumns.apply(s,x)},isAllSelected:function(){var f=this.selectedColumns;return f&&f.length===this.view.ownerGrid.getVisibleColumnManager().getColumns().length},refreshColumns:function(A){var u=this,t=u.view,s=t.all,B,z=arguments,v=z.length,x,w=new Ext.grid.CellContext(t),y=[];if(t.rendered){for(x=0;x<v;x++){y[x]=u.contains(z[x])}for(B=s.startIndex;B<=s.endIndex;B++){w.setRow(B);for(x=0;x<v;x++){w.setColumn(z[x]);if(y[x]){t.onCellSelect(w)}else{t.onCellDeselect(w)}}}}},remove:function(f){if(this.selectedColumns){Ext.Array.remove(this.selectedColumns,f);if(f.getView()&&f.isVisible()){this.refreshColumns(f)}}},selectAll:function(){var f=this;f.clear();f.selectedColumns=f.view.getSelectionModel().lastContiguousColumnRange=f.view.getVisibleColumnManager().getColumns();f.refreshColumns.apply(f,f.selectedColumns)},extendRange:function(o){var l=this,m=l.view.getVisibleColumnManager().getColumns(),n;for(n=o.start.colIdx;n<=o.end.colIdx;n++){l.add(m[n])}},onSelectionFinish:function(){var g=this,k=g.getContiguousSelection();if(k){g.view.getSelectionModel().onSelectionFinish(g,new Ext.grid.CellContext(g.view).setPosition(0,k[0]),new Ext.grid.CellContext(g.view).setPosition(g.view.dataSource.getCount()-1,k[1]))}else{g.view.getSelectionModel().onSelectionFinish(g)}},getContiguousSelection:function(){var k=Ext.Array.sort(this.getColumns(),function(e,f){return e.getView().ownerGrid.getVisibleColumnManager().indexOf(e)-f.getView().ownerGrid.getVisibleColumnManager().indexOf(f)}),m=k.length,l;if(m){for(l=1;l<m;l++){if(k[l].getVisibleIndex()!==k[l-1].getVisibleIndex()+1){return false}}return[k[0],k[m-1]]}}}},0,0,0,0,0,0,[Ext.grid.selection,"Columns"],0));(Ext.cmd.derive("Ext.grid.selection.Replicator",Ext.plugin.Abstract,{init:function(f){this.gridListeners=f.on({beforeselectionextend:this.onBeforeSelectionExtend,scope:this,destroyable:true})},onBeforeSelectionExtend:function(m,n,l){var o=this.columns=[];n.eachColumn(function(e){o.push(e)});return this.replicateSelection(m,n,l)},replicateSelection:function(Y,y,R){if(R.columns||y.isColumns){return}var J=this,aa=J.columns,K,P,W,Z,V,I,O,M,U,X,ab,x,Q=y.getFirstRowIndex(),T=y.getLastRowIndex(),S=T-Q+1,H=[],L,N;K=aa.length,U=aa[0].getView().dataSource;if(S===1){Z=J.getColumnValues(y.view.dataSource.getAt(Q))}else{Z=new Array(K);if(R.rows<0){H=[U.getAt(Q+1),U.getAt(Q)]}else{H=[U.getAt(T-1),U.getAt(T)]}H[0]=J.getColumnValues(H[0]);H[1]=J.getColumnValues(H[1]);for(P=0;P<K;P++){L=H[1][P];N=H[0][P];if(!isNaN(L)&&!isNaN(N)){Z[P]=Number(L)-Number(N)}}}if(R.rows<0){V=R.end.rowIdx;I=R.start.rowIdx-1;M=-1}else{V=R.start.rowIdx;I=R.end.rowIdx+1;M=1}if(S===1){for(O=V;O!==I;O+=M){X=U.getAt(O);for(P=0;P<K;P++){W=aa[P];if(W.dataIndex){X.set(W.dataIndex,Z[P])}}}}else{for(O=V;O!==I;O+=M){X=U.getAt(O);ab=J.getColumnValues(U.getAt(O-M));for(P=0;P<K;P++){W=aa[P];if(W.dataIndex){x=ab[P];if(!isNaN(x)){X.set(W.dataIndex,Ext.coerce(Number(x)+Z[P],x))}}}}}},getColumnValues:function(q){var o=this.columns,s=o.length,p,n,t=new Array(o.length);for(p=0;p<s;p++){n=o[p];if(n.dataIndex){t[p]=q.get(n.dataIndex)}}return t},destroy:function(){this.gridListeners=Ext.destroy(this.gridListeners);Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,["plugin.selectionreplicator"],0,[Ext.grid.selection,"Replicator"],0));(Ext.cmd.derive("Ext.grid.selection.Rows",Ext.grid.selection.Selection,{type:"rows",isRows:true,clone:function(){var g=this,k=new g.self(g.view);if(g.selectedRecords){k.selectedRecords=g.selectedRecords.clone()}if(g.rangeStart){k.setRangeStart(g.rangeStart);k.setRangeEnd(g.rangeEnd)}return k},addOne:function(m){var k=this;var l=k.selectedRecords||(k.selectedRecords=k.createRecordCollection());if(!l.byInternalId.get(m.internalId)){l.add(m);k.view.onRowSelect(m)}},add:function(n){var l=this,m,o;if(n.isModel){l.addOne(n)}else{if(Ext.isArray(n)){for(m=0,o=n.length;m<o;m++){l.addOne(n[m])}}}},removeOne:function(k){var g=this;if(g.selectedRecords&&g.selectedRecords.byInternalId.get(k.internalId)){g.selectedRecords.remove(k);g.view.onRowDeselect(k);g.allSelected=false;return true}return false},remove:function(p){var m=this,n,q,o=true;if(p.isModel){return m.removeOne(p)}else{if(Ext.isArray(p)){for(n=0,q=p.length;n<q;n++){o&=m.removeOne(p[n])}}}return o},contains:function(q){if(!q||!q.isModel){return false}var o=this,s=false,n=o.selectedRecords,t,p;if(o.allSelected){o.add(q);return true}if(n){s=!!n.byInternalId.get(q.internalId)}if(!s&&o.rangeStart!=null){p=o.getRange();t=o.view.dataSource.indexOf(q);s=t>=p[0]&&t<=p[1]}return s},getCount:function(){var o=this,n=o.selectedRecords,t=n?n.getCount():0,q=o.getRange(),p,s=o.view.dataSource;for(p=q[0];p<=q[1];p++){if(!n||!n.byInternalId.get(s.getAt(p).internalId)){t++}}return t},getRecords:function(){var f=this.selectedRecords;return f?f.getRange():[]},selectAll:function(){var m=this,l=m.view.dataSource,k=l.isBufferedStore?l.getData().getCount():l.getCount();m.clear();m.setRangeStart(0);m.setRangeEnd(k-1);m.addRange();m.allSelected=true},getFirstRowIndex:function(){return this.getCount()?this.view.dataSource.indexOf(this.selectedRecords.first()):0},getLastRowIndex:function(){return this.getCount()?this.view.dataSource.indexOf(this.selectedRecords.first()):-1},eachRow:function(l,m){var k=this.selectedRecords;if(k){k.each(l,m||this)}},eachColumn:function(m,n){var o=this.view.getVisibleColumnManager().getColumns(),q=o.length,p;if(this.selectedRecords){for(p=0;p<q;p++){if(m.call(this||n,o[p],p)===false){return}}}},eachCell:function(x,G){var y=this,v=y.selectedRecords,w=y.view,D=w.ownerGrid.getVisibleColumnManager().getColumns(),H,A,C,E,z,F,B=false;if(D){H=D.length;E=new Ext.grid.CellContext(w);if(v){v.each(function(e){E.setRow(e);for(A=0;A<H;A++){E.setColumn(D[A]);if(x.call(G||y,E,E.colIdx,E.rowIdx)===false){B=true;return false}}})}if(!B&&y.rangeStart!=null){z=y.getRange();y.view.dataSource.getRange(z[0],z[1],{forRender:false,callback:function(e){F=e.length;for(A=0;!B&&A<F;A++){E.setRow(e[A]);for(C=0;!B&&C<H;C++){E.setColumn(D[C]);if(x.call(G||y,E,E.colIdx,E.rowIdx)===false){B=true}}}}})}}},beginUpdate:function(){var f=this.selectedRecords;if(f){f.beginUpdate()}},endUpdate:function(){var f=this.selectedRecords;if(f){f.endUpdate()}},destroy:function(){this.selectedRecords=Ext.destroy(this.selectedRecords);this.callParent()},privates:{clear:function(){var g=this,k=g.view;g.allSelected=false;if(g.selectedRecords){g.eachRow(function(e){k.onRowDeselect(e)});g.selectedRecords.clear()}},isAllSelected:function(){return !!this.allSelected},setRangeStart:function(f){this.allSelected=false;this.rangeStart=this.rangeEnd=f;this.view.onRowSelect(f)},setRangeEnd:function(A){var w=this,x,y,C,D,v=w.view,u=v.dataSource,t=v.all,z=w.selectedRecords,B;w.rangeEnd=A;x=w.getRange();y=w.lastRange||x;for(C=Math.max(Math.min(x[0],y[0]),t.startIndex),A=Math.min(Math.max(x[1],y[1]),t.endIndex);C<=A;C++){D=t.item(C);if(C<x[0]||C>x[1]){if(z&&(B=z.byInternalId.get(u.getAt(C).internalId))){z.remove(B)}v.onRowDeselect(C)}else{v.onRowSelect(C)}}w.lastRange=x},extendRange:function(n){var l=this,o=l.view.dataSource,m;for(m=n.start.rowIdx;m<=n.end.rowIdx;m++){l.add(o.getAt(m))}},getLastSelected:function(){return this.selectedRecords.last()},getRange:function(){var g=this.rangeStart,k=this.rangeEnd;if(g==null){return[0,-1]}else{if(g<=k){return[g,k]}}return[k,g]},getRangeSize:function(){var f=this.getRange();return f[1]-f[0]+1},createRecordCollection:function(){var g=this.view.dataSource,k=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{rootProperty:false,property:"internalId"}},sorters:[function(e,f){return g.indexOf(e)-g.indexOf(f)}]});return k},addRange:function(){var k=this,m,l;if(k.rangeStart!=null){m=k.getRange();l=k.selectedRecords||(k.selectedRecords=k.createRecordCollection());k.view.dataSource.getRange(m[0],m[1],{forRender:false,callback:function(e){l.add.apply(l,e)}});k.setRangeStart(k.lastRange=null)}},onSelectionFinish:function(){var g=this,k=g.getContiguousSelection();if(k){g.view.getSelectionModel().onSelectionFinish(g,new Ext.grid.CellContext(g.view).setPosition(k[0],0),new Ext.grid.CellContext(g.view).setPosition(k[1],g.view.getVisibleColumnManager().getColumns().length-1))}else{g.view.getSelectionModel().onSelectionFinish(g)}},getContiguousSelection:function(){var n=this.view.dataSource,l,o,m;if(this.selectedRecords){l=Ext.Array.sort(this.selectedRecords.getRange(),function(e,f){return n.indexOf(e)-n.indexOf(f)});o=l.length;if(o){for(m=1;m<o;m++){if(n.indexOf(l[m])!==n.indexOf(l[m-1])+1){return false}}return[n.indexOf(l[0]),n.indexOf(l[o-1])]}}}}},0,0,0,0,0,0,[Ext.grid.selection,"Rows"],0));(Ext.cmd.derive("Ext.grid.selection.SelectionExtender",Ext.dd.DragTracker,{maskBox:{},constructor:function(k){var g=this;if(k.view.rendered){g.initSelectionExtender(k)}else{g.view=k.view;k.view.on({render:g.initSelectionExtender,args:[k],scope:g})}},initSelectionExtender:function(m){var l=this,k=Ext.dom.Element.DISPLAY;l.el=m.view.el;l.handle=m.view.ownerGrid.body.createChild({cls:"x-ssm-extender-drag-handle",style:"display:none"}).setVisibilityMode(k);l.handle.on({contextmenu:function(e){e.stopEvent()}});l.mask=l.el.createChild({cls:"x-ssm-extender-mask",style:"display:none"}).setVisibilityMode(k);l.superclass.constructor.call(l,m);l.mask.skipGarbageCollection=l.handle.skipGarbageCollection=true;l.viewListeners=l.view.on({scroll:l.onViewScroll,scope:l,destroyable:true});l.gridListeners=l.view.ownerGrid.on({columnResize:l.alignHandle,scope:l,destroyable:true});l.extendX=!!(l.axes&1);l.extendY=!!(l.axes&2)},setHandle:function(k,l){var m=this;if(!m.view.rendered){m.view.on({render:m.initSelectionExtender,args:[k,l],scope:m});return}m.firstPos=k;m.lastPos=l;if(k&&l&&k.getCell()&&l.getCell()){if(m.curPos){m.curPos.setPosition(l)}else{m.curPos=l.clone()}m.alignHandle()}else{m.disable()}},alignHandle:function(){var k=this,l=k.firstPos&&k.firstPos.getCell(),m=k.lastPos&&k.lastPos.getCell();if(l&&m){k.enable();k.handle.alignTo(m,"c-br")}else{k.disable()}},enable:function(){this.handle.show();Ext.dd.DragTracker.prototype.enable.call(this)},disable:function(){this.handle.hide();this.mask.hide();Ext.dd.DragTracker.prototype.disable.call(this)},onDrag:function(v){if(v.target===this.mask.dom){this.mask.hide();v.target=document.elementFromPoint.apply(document,v.getXY());this.mask.show()}var w=this,s=w.view,t=s.el.getY(),e=s.el.getX(),x=v.getTarget(w.view.getCellSelector()),q=w.scrollTask||(w.scrollTask=Ext.util.TaskManager.newTask({run:w.doAutoScroll,scope:w,interval:10})),u=w.scrollBy||(w.scrollBy=[]);if(!w.el.contains(v.target)){u[0]=u[1]=0;return q.stop()}if(w.lastXY[1]>t+s.el.getHeight(true)-15){if(w.extendY){u[1]=3;q.start()}}else{if(w.lastXY[1]<t+10){if(w.extendY){u[1]=-3;q.start()}}else{if(w.lastXY[0]>e+s.el.getWidth(true)-15){if(w.extendX){u[0]=3;q.start()}}else{if(w.lastXY[0]<e+10){if(w.extendX){u[0]=-3;q.start()}}else{u[0]=u[1]=0;q.stop()}}}}if(x&&x!==w.lastOverCell){w.lastOverCell=x;w.syncMaskOnCell(x)}},doAutoScroll:function(){var l=this,m=l.view,k;m.scrollBy.apply(m,l.scrollBy);k=document.elementFromPoint.apply(document,l.lastXY);if(k){k=Ext.fly(k).up(m.cellSelector);if(k&&k!==l.lastOverCell){l.lastOverCell=k;l.syncMaskOnCell(k)}}},onEnd:function(e){var k=this;if(k.scrollTask){k.scrollTask.stop()}if(k.extensionDescriptor){k.disable();k.view.getSelectionModel().extendSelection(k.extensionDescriptor)}},onViewScroll:function(){var f=this;if(f.active&&f.lastOverCell){f.syncMaskOnCell(f.lastOverCell)}if(f.firstPos){f.alignHandle()}},syncMaskOnCell:function(y){var w=this,u=w.view,t=u.all,B=w.curPos,x=w.maskBox,D,C=w.firstPos.clone(),v=w.lastPos.clone(),z=w.firstPos.clone(),A=w.lastPos.clone();C.setRow(Math.min(Math.max(C.rowIdx,t.startIndex),t.endIndex));v.setRow(Math.min(Math.max(v.rowIdx,t.startIndex),t.endIndex));w.selectionRegion=D=C.getCell().getRegion().union(v.getCell().getRegion());B.setPosition(u.getRecord(y),u.getHeaderByCell(y));y=Ext.fly(y);w.mask.dom.style.borderTopWidth=w.mask.dom.style.borderRightWidth=w.mask.dom.style.borderBottomWidth=w.mask.dom.style.borderLeftWidth="";if(B.rowIdx<w.firstPos.rowIdx&&w.extendY){w.extensionDescriptor={type:"rows",start:z.setRow(B.rowIdx),end:A.setRow(w.firstPos.rowIdx-1),rows:B.rowIdx-w.firstPos.rowIdx,mousePosition:w.lastXY};w.mask.dom.style.borderBottomWidth="0";x.x=D.x;x.y=y.getY();x.width=D.right-D.left;x.height=D.top-y.getY()}else{if(B.rowIdx>w.lastPos.rowIdx&&w.extendY){w.extensionDescriptor={type:"rows",start:z.setRow(w.lastPos.rowIdx+1),end:A.setRow(B.rowIdx),rows:B.rowIdx-w.lastPos.rowIdx,mousePosition:w.lastXY};w.mask.dom.style.borderTopWidth="0";x.x=D.x;x.y=D.bottom;x.width=D.right-D.left;x.height=y.getRegion().bottom-D.bottom}else{if(B.colIdx<w.firstPos.colIdx&&w.extendX){w.extensionDescriptor={type:"columns",start:z.setColumn(B.colIdx),end:A.setColumn(w.firstPos.colIdx-1),columns:B.colIdx-w.firstPos.colIdx,mousePosition:w.lastXY};w.mask.dom.style.borderRightWidth="0";x.x=y.getX();x.y=D.top;x.width=D.left-y.getX();x.height=D.bottom-D.top}else{if(B.colIdx>w.lastPos.colIdx&&w.extendX){w.extensionDescriptor={type:"columns",start:z.setColumn(w.lastPos.colIdx+1),end:A.setColumn(B.colIdx),columns:B.colIdx-w.lastPos.colIdx,mousePosition:w.lastXY};w.mask.dom.style.borderLeftWidth="0";x.x=D.right;x.y=D.top;x.width=y.getRegion().right-D.right;x.height=D.bottom-D.top}else{w.extensionDescriptor=null}}}}if(u.ownerGrid.hasListeners.selectionextenderdrag){u.ownerGrid.fireEvent("selectionextenderdrag",u.ownerGrid,u.getSelectionModel().getSelected(),w.extensionDescriptor)}if(w.extensionDescriptor){w.mask.show();w.mask.setBox(x)}else{w.mask.hide()}},destroy:function(){var f=this;Ext.destroy(f.gridListeners,f.viewListeners,f.mask,f.handle);Ext.dd.DragTracker.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.grid.selection,"SelectionExtender"],0));(Ext.cmd.derive("Ext.grid.selection.SpreadsheetModel",Ext.selection.Model,{isSpreadsheetModel:true,config:{columnSelect:{$value:false,lazy:true},cellSelect:{$value:true,lazy:true},rowSelect:{$value:true,lazy:true},dragSelect:{$value:true,lazy:true},selected:null,extensible:{$value:true,lazy:true}},checkboxSelect:false,checkboxColumnIndex:0,showHeaderCheckbox:true,checkColumnHeaderText:null,checkboxHeaderWidth:24,rowNumbererHeaderWidth:46,columnSelectCls:"x-ssm-column-select",rowNumbererHeaderCls:"x-ssm-row-numberer-hd",tdCls:"x-grid-cell-special x-selmodel-column",bindComponent:function(p){var n=this,o,q,m;if(n.view!==p){if(n.view){n.navigationModel=null;Ext.destroy(n.viewListeners,n.navigationListeners)}n.view=p;if(p){n.getCellSelect();m=p.ownerGrid.lockedGrid;if(m){n.hasLockedHeader=true;n.onViewCreated(m,m.getView())}else{p.grid.on({viewcreated:n.onViewCreated,scope:n,single:true})}n.gridListeners=p.ownerGrid.on({columnschanged:n.onColumnsChanged,columnmove:n.onColumnMove,scope:n,destroyable:true});q=n.getStoreListeners();q.scope=n;q.destroyable=true;n.storeListeners=n.store.on(q);o=n.getViewListeners();o.scope=n;o.destroyable=true;n.viewListeners=p.on(o);n.navigationModel=p.getNavigationModel();n.navigationListeners=n.navigationModel.on({navigate:n.onNavigate,scope:n,destroyable:true});if(n.getColumnSelect()){p.ownerGrid.addCls(n.columnSelectCls)}n.updateHeaderState()}}},getCheckboxHeaderConfig:function(){var k=this,g=k.showHeaderCheckbox!==false;return{xtype:"checkcolumn",isCheckerHd:g,headerCheckbox:g,ignoreExport:true,text:k.checkColumnHeaderText,clickTargetName:"el",width:k.checkboxHeaderWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,tdCls:k.tdCls,cls:"x-selmodel-column",stopSelection:false,editRenderer:k.editRenderer||k.renderEmpty,locked:k.hasLockedHeader,updateHeaderState:k.updateHeaderState.bind(k),toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:Ext.emptyFn}},renderEmpty:function(){return"&#160;"},getStoreListeners:function(){var g=this,k=Ext.selection.Model.prototype.getStoreListeners.call(this);k.priority=2000;k.refresh=g.onStoreChanged;k.clear=g.onStoreChanged;return k},onHeaderClick:function(w,v,x){var q=this,e=q.selected,u,t,s;if(v===q.numbererColumn||v===q.checkColumn){x.stopEvent();if(!e||!e.isAllSelected()){q.selectAll()}else{q.deselectAll()}q.updateHeaderState();q.lastColumnSelected=null}else{if(q.columnSelect){if(x.shiftKey&&e&&e.lastColumnSelected){e.clear();u=q.view.ownerGrid.getVisibleColumnManager();t=Ext.Array.sort([u.indexOf(e.lastColumnSelected),u.indexOf(v)],Ext.Array.numericSortFn);for(s=t[0];s<=t[1];s++){q.selectColumn(u.getHeaderAtIndex(s),true)}}else{if(q.isColumnSelected(v)){q.deselectColumn(v);q.selected.lastColumnSelected=null}else{q.selectColumn(v,x.ctrlKey);q.selected.lastColumnSelected=v}}}}},updateHeaderState:function(){var q=this,t=q.view.dataSource,u=q.views,p=q.selected,v=false,s=q.checkColumn,o;if(t&&p&&p.isRows){o=t.getCount();if(t.isBufferedStore){v=p.allSelected}else{v=o>0&&(o===p.getCount())}}if(u&&u.length){if(s){s.setHeaderStatus(v)}}},onBindStore:function(m,k,l){if(!l){this.onStoreRefresh()}},onBeforeReconfigure:function(p,u,q,v,s){var o=this,t=o.checkboxColumnIndex;if(q){Ext.suspendLayouts();if(o.numbererColumn){o.numbererColumn.ownerCt.remove(o.numbererColumn,false);q.unshift(o.numbererColumn)}if(o.checkColumn){if(t==="first"){t=0}else{if(t==="last"){t=q.length}}o.checkColumn.ownerCt.remove(o.checkColumn,false);Ext.Array.insert(q,t,[o.checkColumn])}Ext.resumeLayouts()}},getCellContext:function(k,g){return new Ext.grid.CellContext(this.view.ownerGrid.getView()).setPosition(k,g)},select:function(B,D,t){var w=this,C=w.selected,v=w.view,u=v.dataSource,x,z,y,A=false;if(!C||!C.isRows||C.view!==v){w.resetSelection(true);C=w.selected=new Ext.grid.selection.Rows(v)}else{if(!D){C.clear()}}if(!Ext.isArray(B)){B=[B]}x=B.length;for(z=0;z<x;z++){y=B[z];if(typeof y==="number"){y=u.getAt(y)}if(!C.contains(y)){C.add(y);A=true}}if(A){w.updateHeaderState();if(!t){w.fireSelectionChange()}}},deselect:function(y,q){var t=this,z=t.selected,s=t.view.dataSource,u,w,v,x=false;if(z&&z.isRows){if(!Ext.isArray(y)){y=[y]}u=y.length;for(w=0;w<u;w++){v=y[w];if(typeof v==="number"){v=s.getAt(v)}x=x||z.remove(v)}}if(x){t.updateHeaderState();if(!q){t.fireSelectionChange()}}},selectCells:function(n,o,s){var q=this,t=q.view.ownerGrid.view,p;n=n.isCellContext?n.clone():new Ext.grid.CellContext(t).setPosition(n);o=o.isCellContext?o.clone():new Ext.grid.CellContext(t).setPosition(o);q.resetSelection(true);q.selected=p=new Ext.grid.selection.Cells(n.view);p.setRangeStart(n);p.setRangeEnd(o);if(!s){q.fireSelectionChange()}},selectAll:function(o){var n=this,m=n.selected,q,p=n.view;if(n.rowSelect){if(!m||!m.isRows){n.resetSelection(true);n.selected=m=new Ext.grid.selection.Rows(p)}q=true}else{if(n.cellSelect){if(!m||!m.isCells){n.resetSelection(true);n.selected=m=new Ext.grid.selection.Cells(p)}q=true}else{if(n.columnSelect){if(!m||!m.isColumns){n.resetSelection(true);n.selected=m=new Ext.grid.selection.Columns(p)}q=true}}}if(m){m.allSelected=true}if(q){n.updateHeaderState();m.selectAll();if(!o){n.fireSelectionChange()}}},deselectAll:function(m){var l=this,k=l.selected;if(k&&k.getCount()){k.clear();k.allSelected=false;l.updateHeaderState();if(!m){l.fireSelectionChange()}}},selectRows:function(w,q,t){var p=this,x=p.selected,u=x&&x.isRows,v=w.length,s;if(!q||!u){p.resetSelection(true)}if(!u){p.selected=x=new Ext.grid.selection.Rows(p.view)}if(w.isEntity){x.add(w)}else{for(s=0;s<v;s++){x.add(w[s])}}if(!t){p.fireSelectionChange()}},isSelected:function(f){return this.isRowSelected(f)},selectColumn:function(p,q,s){var o=this,n=o.selected,t=p.getView();if(!n||!n.isColumns||n.view!==t.ownerGrid.view){o.resetSelection(true);o.selected=n=new Ext.grid.selection.Columns(t)}if(!n.contains(p)){if(!q){n.clear()}n.add(p);o.updateHeaderState();if(!s){o.fireSelectionChange()}}},deselectColumn:function(n,o){var m=this,l=m.getSelected();if(l&&l.isColumns&&l.contains(n)){l.remove(n);m.updateHeaderState();if(!o){m.fireSelectionChange()}}},getSelection:function(){var f=this.selected;if(f&&f.isRows){return f.getRecords()}return[]},destroy:function(){var g=this,k=g.scrollEls;Ext.destroy(g.gridListeners,g.viewListeners,g.selected,g.navigationListeners,g.extensible);if(k){Ext.dd.ScrollManager.unregister(k)}g.selected=g.gridListeners=g.viewListeners=g.selectionData=g.navigationListeners=g.scrollEls=null;Ext.selection.Model.prototype.destroy.call(this)},privates:{axesConfigs:{x:1,y:2,xy:3,both:3,"true":3},getViewListeners:function(){return{refresh:this.onViewRefresh,keyup:{element:"el",fn:this.onViewKeyUp,scope:this}}},onViewKeyUp:function(e){var k=this.selected;if(e.keyCode===e.SHIFT&&k&&k.isRows&&k.getRangeSize()){k.addRange()}},onStoreChanged:function(){var l=this,m=l.view,k=l.selected;if(k){if(k.isCells){l.resetSelection()}else{if(k.isRows){if(l.pruneRemoved===false&&k.selectedRecords.length){l.refresh()}else{l.resetSelection()}}}}},onColumnsChanged:function(){var p=this.selected,x,q,w,s,v,u,t;if(p){v=p.view;if(p.isCells){u=new Ext.grid.CellContext(v);x=p.getRowRange();q=v.getVisibleColumnManager().getColumns().length;for(s=x[0];s<=x[1];s++){u.setRow(s);for(w=0;w<q;w++){u.setColumn(w);v.onCellDeselect(u)}}}else{if(p.isColumns){t=false;p.eachColumn(function(f,e){if(!f.isVisible()||!v.ownerGrid.isAncestor(f)){this.remove(f);t=true}})}}}Ext.on("idle",t?this.fireSelectionChange:this.updateSelectionExtender,this,{single:true})},onColumnMove:function(){this.updateSelectionExtender()},onViewRefresh:function(q){var o=this,n=o.selected,p=o.view.store,m=false;if(n&&n.isRows&&p.isFiltered()){n.eachRow(function(e){if(!p.contains(e)){this.remove(e);m=true}})}o[m?"fireSelectionChange":"updateSelectionExtender"]()},resetSelection:function(k){var g=this.selected;if(g){g.clear();if(!k){this.fireSelectionChange()}}},onViewCreated:function(p,q){var o=this,n=q.ownerGrid,m=q.headerCt;if(!n.lockable||q.isLockedView){if(o.getRowSelect()){o.getNumbererColumn()}if(o.checkboxSelect){o.addCheckbox(q,true)}o.mon(q.ownerGrid,"beforereconfigure",o.onBeforeReconfigure,o)}m.sortOnClick=!o.getColumnSelect();if(o.getDragSelect()){q.on("render",o.onViewRender,o,{single:true})}},onViewRender:function(q){var n=this,o=q.getEl(),s=n.views,t=s.length,p;for(p=0;p<t;p++){s[p].headerCt.sortOnClick=!n.columnSelect}o.ddScrollConfig={vthresh:50,hthresh:50,frequency:300,increment:100};Ext.dd.ScrollManager.register(o);(n.scrollEls||(n.scrollEls=[])).push(o);q.on("cellmousedown",n.handleMouseDown,n);if(q.lockingPartner){q.lockingPartner.on("cellmousedown",n.handleMouseDown,n)}},handleMouseDown:function(E,A,F,x,v,C,w){var e=this,B=e.selected,y=w.position.column,z,D;if(w.button||w.shiftKey||w.altKey||w.pointerType==="touch"||E.actionableMode){return}if(y){e.mousedownPosition=w.position.clone();z=y===e.checkColumn;if(z){e.checkCellClicked=w.position.getCell(true)}if(y===e.numbererColumn||z||!e.cellSelect){if(e.rowSelect){if(B&&B.isRows){if(!w.ctrlKey&&!z){B.clear()}}else{if(B){B.clear()}B=e.selected=new Ext.grid.selection.Rows(E)}D=true}else{if(e.columnSelect){if(B&&B.isColumns){if(!w.ctrlKey&&!z){B.clear()}}else{if(B){B.clear()}B=e.selected=new Ext.grid.selection.Columns(E)}D=true}else{return false}}}else{if(B){B.clear()}if(!B||!B.isCells){B=e.selected=new Ext.grid.selection.Cells(E)}D=true}e.lastOverRecord=e.lastOverColumn=null;Ext.getBody().on("mouseup",e.onMouseUp,e,{single:true,view:B.view});if(D){B.view.el.on("mousemove",e.onMouseMove,e,{view:B.view})}}},onMouseMove:function(y,x,D){var H=this,F=D.view,z,C,E=y.getTarget(F.cellSelector),A=D.view.getHeaderByCell(E),e=H.selected,G,w,B;if(H.checkCellClicked){if(E===H.checkCellClicked){if(!H.lastOverRecord){H.lastOverRecord=F.getRecord(E.parentNode)}return}else{H.checkCellClicked=null;if(H.lastOverRecord){H.select(H.lastOverRecord);e.setRangeStart(H.store.indexOf(H.lastOverRecord))}}}if(H.extensible){H.extensible.disable()}if(A){z=F.getRecord(E.parentNode);C=H.store.indexOf(z);w=z!==H.lastOverRecord;B=A!==H.lastOverColumn;if(w||B){G=H.getCellContext(z,A)}if(e.isRows){if(w){if(H.lastOverRecord){e.setRangeEnd(C)}else{e.setRangeStart(C)}}}else{if(e.isCells){if(w||B){if(H.lastOverRecord){e.setRangeEnd(G)}else{e.setRangeStart(G)}}}else{if(e.isColumns){if(B){if(H.lastOverColumn){e.setRangeEnd(G.column)}else{e.setRangeStart(G.column)}}}}}if(w||B){F.getNavigationModel().setPosition(new Ext.grid.CellContext(A.getView()).setPosition(z,A))}H.lastOverColumn=A;H.lastOverRecord=z}},onMouseUp:function(u,v,e){var p=this,q=e.view,t,s;p.checkCellClicked=null;if(q&&!q.destroyed){if(!u.position){t=u.getTarget(q.cellSelector);if(t){s=q.getRecord(t);if(s){u.position=new Ext.grid.CellContext(q).setPosition(s,q.getHeaderByCell(t))}}}if(p.extensible){p.extensible.disable()}q.el.un("mousemove",p.onMouseMove,p);if(p.selected.isRows){p.selected.addRange()}if(!u.position||!u.position.isEqual(p.mousedownPosition)){p.fireSelectionChange()}}},addCheckbox:function(q,p){var o=this,n=o.checkboxColumnIndex,m=q.headerCt;if(n!==false){if(n==="first"){n=0}else{if(n==="last"){n=m.getColumnCount()}}o.checkColumn=m.add(n,o.getCheckboxHeaderConfig())}if(p!==true){q.refresh()}},onNavigate:function(x){var v=this,t=x.view.ownerGrid.view,z=x.record,B=v.selected,u=new Ext.grid.CellContext(t).setPosition(z,x.column),y=x.keyEvent,C=y.ctrlKey,w=y.shiftKey,D=y.getKey(),A;if(y.stopSelection){return}if(C&&(D===y.UP||D===y.LEFT||D===y.RIGHT||D===y.DOWN)){return}if(B&&(B.isCells||(B.isColumns&&!(C||w)))&&B.getCount()>1&&!y.shiftKey&&y.type==="click"){return}if(!(v.cellSelect||v.columnSelect||v.rowSelect)||!x.record||y.type==="mousedown"){return}if(C&&y.keyCode===y.A){if(!B||B.getCount()<2){v.selectAll()}else{v.deselectAll()}v.updateHeaderState();return}if(w){if(u.column===v.numbererColumn||u.column===v.checkColumn||!(v.cellSelect||v.columnSelect)||(B&&B.isRows)){if(v.rowSelect){if(!B||!B.isRows||B.view!==t){v.resetSelection(true);B=v.selected=new Ext.grid.selection.Rows(t)}if(!B.getRangeSize()){B.setRangeStart(x.previousRecordIndex||0)}B.setRangeEnd(x.recordIndex);B.addRange();A=true}}else{if(v.cellSelect){if(!B||!B.isCells||B.view!==t){v.resetSelection(true);B=v.selected=new Ext.grid.selection.Cells(t)}if(!B.getRangeSize()){B.setRangeStart(x.previousPosition||v.getCellContext(0,0))}B.setRangeEnd(u);A=true}else{if(v.columnSelect){if(!B||!B.isColumns||B.view!==t){v.resetSelection(true);B=v.selected=new Ext.grid.selection.Columns(t)}if(!B.getCount()){B.setRangeStart(u.column)}B.setRangeEnd(x.position.column);A=true}}}}else{if(u.column===v.numbererColumn||u.column===v.checkColumn||(v.rowSelect&&!v.cellSelect)){if(!B||!B.isRows||B.view!==t){v.resetSelection(true);B=v.selected=new Ext.grid.selection.Rows(t)}if(C||u.column===v.checkColumn){if(B.contains(z)){B.remove(z)}else{B.add(z)}}else{B.clear();B.add(z)}A=true}else{if(v.cellSelect){if(!B||!B.isCells||B.view!==t){v.resetSelection(true);v.selected=B=new Ext.grid.selection.Cells(t)}else{B.clear()}B.setRangeStart(u);A=true}else{if(v.columnSelect){if(!B||!B.isColumns||B.view!==t){v.resetSelection(true);v.selected=B=new Ext.grid.selection.Columns(t)}if(C){if(B.contains(u.column)){B.remove(u.column)}else{B.add(u.column)}}else{B.setRangeStart(u.column)}A=true}}}}if(A){if(B.isRows){v.updateHeaderState()}v.fireSelectionChange()}},isRowSelected:function(m){var l=this,k=l.selected;if(k&&k.isRows){m=Ext.isNumber(m)?l.store.getAt(m):m;return k.contains(m)}else{return false}},isColumnSelected:function(m){var l=this,k=l.selected;if(k&&k.isColumns){return k.contains(m)}else{return false}},isCellSelected:function(t,n,q){var p=this,s,o=p.selected;t=t.ownerGrid.view;if(o){if(o.isColumns){if(typeof q==="number"){q=t.getVisibleColumnManager().getColumns()[q]}return o.contains(q)}if(o.isCells){s=new Ext.grid.CellContext(t).setPosition({row:n,column:q});return o.contains(s)}}return false},applySelected:function(f){return f},updateSelected:function(o,v){var s,p,t,q,u;if(v){v.clear()}if(o&&o.getCount()){s=o.view;if(o.isRows){o.eachRow(s.onRowSelect,s)}else{if(o.isColumns){p=o.getColumns();t=p.length;if(t){u=new Ext.grid.CelContext(s);s.store.each(function(e){u.setRow(e);for(q=0;q<t;q++){u.setColumn(p[q]);s.onCellSelect(u)}})}}else{if(o.isCells){o.eachCell(s.onCellSelect,s)}}}}},getNumbererColumn:function(m){var l=this,o=l.numbererColumn,n=l.view;if(!o){if(n.isNormalView){n=n.ownerGrid.lockedGrid}o=l.numbererColumn=n.headerCt.down("rownumberer")||n.headerCt.add(0,l.getNumbererColumnConfig())}return o},getNumbererColumnConfig:function(){var f=this;return{xtype:"rownumberer",width:f.rowNumbererHeaderWidth,editRenderer:"&#160;",tdCls:f.rowNumbererTdCls,cls:f.rowNumbererHeaderCls,locked:f.hasLockedHeader}},updateRowSelect:function(m){var n=this,l=n.selected,o=n.view;if(o&&o.rendered){if(o.isNormalView){o=o.lockingPartner}if(m){if(n.checkColumn){n.checkColumn.show()}n.getNumbererColumn().show()}else{if(n.checkColumn){n.checkColumn.hide()}if(n.numbererColumn){n.numbererColumn.hide()}}if(!m&&l&&l.isRows){l.clear();n.fireSelectionChange()}}},updateColumnSelect:function(n){var p=this,o=p.selected,s=p.views,t=s?s.length:0,q;for(q=0;q<t;q++){s[q].headerCt.sortOnClick=!n}if(!n&&o&&o.isColumns){o.clear();p.fireSelectionChange()}if(n){p.view.ownerGrid.addCls(p.columnSelectCls)}else{p.view.ownerGrid.removeCls(p.columnSelectCls)}},updateCellSelect:function(m){var l=this,k=l.selected;if(!m&&k&&k.isCells){k.clear();l.fireSelectionChange()}},fireSelectionChange:function(){var o=this,v=o.selected,u=v.view,q=u.ownerGrid,s=u.dataSource,t,p;o.updateSelectionExtender();if(v.isRows){t=v.getRecords();p=s.getTotalCount()||s.getCount();o.selected.allSelected=!!(s.isBufferedStore?o.selected.allSelected:p&&t.length&&(p===t.length));o.fireEvent("selectionchange",o,t)}else{if(v.isCells){o.selected.allSelected=false;o.fireEvent("selectionchange",o,v.getCount()?o.store.getRange.apply(v.view.dataSource,v.getRowRange()):[])}}q.fireEvent("selectionchange",q,v)},getLastSelected:function(){var f=this.selected;if(f.getLastSelected){return f.getLastSelected()}},updateSelectionExtender:function(){var f=this.selected;if(f){f.onSelectionFinish()}},onSelectionFinish:function(l,m,o){var n=this.getExtensible();if(n){n.setHandle(m,o)}},applyExtensible:function(k){var g=this;if(!k){return undefined}if(k===true||typeof k==="string"){k={axes:g.axesConfigs[k]}}else{k=Ext.Object.chain(k)}k.view=g.selected.view;return new Ext.grid.selection.SelectionExtender(k)},extendSelection:function(k){var m=this,l=m.selected;if(m.view.ownerGrid.fireEvent("beforeselectionextend",m.view.ownerGrid,l,k)!==false){l.extendRange(k);m.fireSelectionChange()}},onIdChanged:function(q,m,n,p){var o=this.selected;if(o&&o.isRows&&o.selectedRecords){o.selectedRecords.updateKey(m,n)}},onPageAdd:function(s,t,q){var w=this.selected,v=q.length,p,u,x=w&&w.selectedRecords;if(x&&w.isRows){for(p=0;p<v;p++){u=q[p];if(x.get(u.id)){x.replace(u)}else{if(w.allSelected){x.add(u)}}}}},refresh:function(){var f=this.getSelected();if(f&&f.isRows){Ext.selection.Model.prototype.refresh.call(this)}},onStoreAdd:function(){var f=this.getSelected();if(f&&f.isRows){Ext.selection.Model.prototype.onStoreAdd.apply(this,arguments);this.updateHeaderState()}},onStoreClear:function(){this.resetSelection()},onStoreLoad:function(){var f=this.getSelected();if(f&&f.isRows){Ext.selection.Model.prototype.onStoreLoad.apply(this,arguments);this.updateHeaderState()}},onStoreRefresh:function(){var f=this.selected;if(f&&f.isRows&&f.selectedRecords){this.updateSelectedInstances(f.selectedRecords)}if(this.view){this.updateHeaderState()}},onPageRemove:function(n,o,m){var l=this.selected;if(!(l&&l.allSelected)){this.onStoreRemove(this.store,m)}},onStoreRemove:function(){var f=this.getSelected();if(f&&f.isRows){Ext.selection.Model.prototype.onStoreRemove.apply(this,arguments)}}}},0,0,0,0,["selection.spreadsheet"],0,[Ext.grid.selection,"SpreadsheetModel"],function(g){var k=Ext.ClassManager.get("Ext.grid.column.RowNumberer");if(k){g.prototype.rowNumbererTdCls=Ext.grid.column.RowNumberer.prototype.tdCls+" x-ssm-row-numberer-cell"}}));Ext.define("Ext.theme.triton.grid.selection.SpreadsheetModel",{override:"Ext.grid.selection.SpreadsheetModel",checkboxHeaderWidth:32});(Ext.cmd.derive("Ext.util.Queue",Ext.Base,{constructor:function(){this.clear()},add:function(m,p){var o=this,q=o.getKey(m),n;if(!(n=o.map[q])){++o.length;o.items.push(m);o.map[q]=m}else{if(p){o.map[q]=m;o.items[Ext.Array.indexOf(o.items,n)]=m}}return m},clear:function(){var g=this,k=g.items;g.items=[];g.map={};g.length=0;return k},contains:function(g){var k=this.getKey(g);return this.map.hasOwnProperty(k)},getCount:function(){return this.length},getKey:function(f){return f.id},remove:function(m){var n=this,o=n.getKey(m),q=n.items,p;if(n.map[o]){p=Ext.Array.indexOf(q,m);Ext.Array.erase(q,p,1);delete n.map[o];--n.length}return m}},1,0,0,0,0,0,[Ext.util,"Queue"],0));(Ext.cmd.derive("Ext.layout.ContextItem",Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:false,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:false,constructor:function(C){var B=this,E=Ext.layout.SizeModel.sizeModels,J=E.configured,L=E.shrinkWrap,S,D,G,H,O,Q,K,P,F,I,R,M,N,T;Ext.apply(B,C);K=B.target;S=B.el;B.id=K.id;B.flushedProps={};B.props=O={};B.styles={};if(!K.isComponent){D=S.lastBox}else{B.wrapsComponent=true;B.framing=K.frameSize||null;B.isComponentChild=K.ownerLayout&&K.ownerLayout.isComponentLayout;D=K.lastBox;G=K.ownerCt;if(G&&(H=G.el&&B.context.items[G.el.id])){B.ownerCtContext=H}B.sizeModel=Q=K.getSizeModel(H&&H.widthModel.pairsByHeightOrdinal[H.heightModel.ordinal]);B.widthModel=M=Q.width;B.heightModel=N=Q.height;if(D&&D.invalid===false){I=(K.width===(P=D.width));R=(K.height===(F=D.height));if(M===L&&N===L){T=true}else{if(M===J&&I){T=N===L||(N===J&&R)}}if(T){B.optOut=true;O.width=P;O.height=F}}}B.lastBox=D},init:function(O,T){var n=this,V=n.props,S=n.dirty,J=n.ownerCtContext,G=n.target.ownerLayout,P=!n.state,N=O||P,R,H,I,F,U,M,K=n.heightModel,Q=n.widthModel,L,E,D=0;n.dirty=n.invalid=false;n.props={};n.remainingChildDimensions=0;if(n.boxChildren){n.boxChildren.length=0}if(!P){n.clearAllBlocks("blocks");n.clearAllBlocks("domBlocks")}if(!n.wrapsComponent){return N}M=n.target;n.state={};if(P){if(M.beforeLayout&&M.beforeLayout!==Ext.emptyFn){M.beforeLayout()}if(!J&&(F=M.ownerCt)){J=n.context.items[F.el.id]}if(J){n.ownerCtContext=J;n.isBoxParent=G&&G.isItemBoxParent(n)}else{n.isTopLevel=true}n.frameBodyContext=n.getEl("frameBody")}else{J=n.ownerCtContext;n.isTopLevel=!J;R=n.children;for(H=0,I=R.length;H<I;++H){R[H].init(true)}}n.hasRawContent=!(M.isContainer&&M.items.items.length>0);if(O){n.widthModel=n.heightModel=null;U=M.getSizeModel(J&&J.widthModel.pairsByHeightOrdinal[J.heightModel.ordinal]);if(P){n.sizeModel=U}n.widthModel=U.width;n.heightModel=U.height;if(J&&!n.isComponentChild){if(G.needsItemSize||!M.liquidLayout){J.remainingChildDimensions+=2}else{if(n.widthModel.calculated){++J.remainingChildDimensions}if(n.heightModel.calculated){++J.remainingChildDimensions}}}}else{if(V){n.recoverProp("x",V,S);n.recoverProp("y",V,S);if(n.widthModel.calculated){n.recoverProp("width",V,S)}else{if("width" in V){++D}}if(n.heightModel.calculated){n.recoverProp("height",V,S)}else{if("height" in V){++D}}if(J&&!n.isComponentChild){J.remainingChildDimensions+=D}}}if(V&&G&&G.manageMargins){n.recoverProp("margin-top",V,S);n.recoverProp("margin-right",V,S);n.recoverProp("margin-bottom",V,S);n.recoverProp("margin-left",V,S)}if(T){L=T.heightModel;E=T.widthModel;if(E&&L&&Q&&K){if(Q.shrinkWrap&&K.shrinkWrap){if(E.constrainedMax&&L.constrainedMin){L=null}}}if(E){n.widthModel=E}if(L){n.heightModel=L}if(T.state){Ext.apply(n.state,T.state)}}return N},initContinue:function(p){var v=this,q=v.ownerCtContext,u=v.target,s=v.widthModel,o=u.getInherited(),t;if(s.fixed){o.inShrinkWrapTable=false}else{delete o.inShrinkWrapTable}if(p){if(q&&s.shrinkWrap){t=q.isBoxParent?q:q.boxParent;if(t){t.addBoxChild(v)}}else{if(s.natural){v.boxParent=q}}}return p},initDone:function(l){var n=this,o=n.props,m=n.state;if(n.remainingChildDimensions===0){o.containerChildrenSizeDone=true}if(l){o.containerLayoutDone=true}if(n.boxChildren&&n.boxChildren.length&&n.widthModel.shrinkWrap){n.el.setWidth(10000);m.blocks=(m.blocks||0)+1}},initAnimation:function(){var l=this,k=l.target,m=l.ownerCtContext;if(m&&m.isTopLevel){l.animatePolicy=k.ownerLayout.getAnimatePolicy(l)}else{if(!m&&k.isCollapsingOrExpanding&&k.animCollapse){l.animatePolicy=k.componentLayout.getAnimatePolicy(l)}}if(l.animatePolicy){l.context.queueAnimation(l)}},addBlock:function(s,p,o){var q=this,n=q[s]||(q[s]={}),t=n[o]||(n[o]={});if(!t[p.id]){t[p.id]=p;++p.blockCount;++q.context.blockCount}},addBoxChild:function(l){var m=this,n,o=l.widthModel;l.boxParent=this;l.measuresBox=o.shrinkWrap?l.hasRawContent:o.natural;if(l.measuresBox){n=m.boxChildren;if(n){n.push(l)}else{m.boxChildren=[l]}}},addPositionStyles:function(n,p){var q=p.x,m=p.y,o=0;if(q!==undefined){n.left=q+"px";++o}if(m!==undefined){n.top=m+"px";++o}return o},addTrigger:function(p,x){var q=this,v=x?"domTriggers":"triggers",w=q[v]||(q[v]={}),u=q.context,s=u.currentLayout,t=w[p]||(w[p]={});if(!t[s.id]){t[s.id]=s;++s.triggerCount;t=u.triggers[x?"dom":"data"];(t[s.id]||(t[s.id]=[])).push({item:this,prop:p});if(q.props[p]!==undefined){if(!x||!(q.dirty&&(p in q.dirty))){++s.firedTriggers}}}},boxChildMeasured:function(){var l=this,k=l.state,m=(k.boxesMeasured=(k.boxesMeasured||0)+1);if(m===l.boxChildren.length){k.clearBoxWidth=1;++l.context.progressCount;l.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(k){var g=k.getStyles(k.borderNames,k.trblNames);g.width=g.left+g.right;g.height=g.top+g.bottom;return g},marginInfo:function(k){var g=k.getStyles(k.marginNames,k.trblNames);g.width=g.left+g.right;g.height=g.top+g.bottom;return g},paddingInfo:function(l){var m=l.frameBodyContext||l,k=m.getStyles(l.paddingNames,l.trblNames);k.width=k.left+k.right;k.height=k.top+k.bottom;return k}},checkCache:function(f){return this.cacheMissHandlers[f](this)},clearAllBlocks:function(m){var k=this[m],l;if(k){for(l in k){this.clearBlocks(m,l)}}},clearBlocks:function(s,o){var v=this[s],t=v&&v[o],q,p,u;if(t){delete v[o];q=this.context;for(u in t){p=t[u];--q.blockCount;if(!--p.blockCount&&!p.pending&&!p.done){q.queueLayout(p)}}}},block:function(k,g){this.addBlock("blocks",k,g)},domBlock:function(k,g){this.addBlock("domBlocks",k,g)},fireTriggers:function(t,o){var v=this[t],q=v&&v[o],s=this.context,p,u;if(q){for(u in q){p=q[u];++p.firedTriggers;if(!p.done&&!p.blockCount&&!p.pending){s.queueLayout(p)}}}},flush:function(){var n=this,o=n.dirty,m=n.state,l=n.el;n.dirtyCount=0;if("attributes" in n){l.set(n.attributes);delete n.attributes}if("innerHTML" in n){l.innerHTML=n.innerHTML;delete n.innerHTML}if(m&&m.clearBoxWidth){m.clearBoxWidth=0;n.el.setStyle("width",null);if(!--m.blocks){n.context.queueItemLayouts(n)}}if(o){delete n.dirty;n.writeProps(o,true)}},flushAnimations:function(){var F=this,C=F.previousSize,v,G,A,y,z,B,x,H,w,E,D;if(C){v=F.target;G=v.getAnimationProps();A=G.duration;y=Ext.Object.getKeys(F.animatePolicy);z=Ext.apply({},{from:{},to:{},duration:A||Ext.fx.Anim.prototype.duration},G);for(B=0,x=0,H=y.length;x<H;x++){w=y[x];E=C[w];D=F.peek(w);if(E!==D&&D!=null){w=F.translateProps[w]||w;z.from[w]=E;z.to[w]=D;++B}}if(B){if(F.isCollapsingOrExpanding===1){v.componentLayout.undoLayout(F)}else{F.writeProps(z.from)}F.el.animate(z);z=Ext.fx.Manager.getFxQueue(F.el.id)[0];v.$layoutAnim=z;z.on({afteranimate:function(){delete v.$layoutAnim;if(v.destroying||v.destroyed){return}if(F.isCollapsingOrExpanding===1){v.componentLayout.redoLayout(F);v.afterCollapse(true)}else{if(F.isCollapsingOrExpanding===2){v.afterExpand(true)}}if(v.hasListeners.afterlayoutanimation){v.fireEvent("afterlayoutanimation",v)}}})}else{if(F.isCollapsingOrExpanding===2){v.afterExpand(true)}}}},getBorderInfo:function(){var k=this,g=k.borderInfo;if(!g){k.borderInfo=g=k.checkCache("borderInfo")}return g},getEl:function(q,t){var o=this,n,p,s;if(q){if(q.dom){p=q}else{n=o.target;if(t){n=t}p=n[q];if(typeof p==="function"){p=p.call(n);if(p===o.el){return this}}}if(p){s=o.context.getEl(o,p)}}return s||null},getFrameInfo:function(){var m=this,l=m.frameInfo,n,o;if(!l){n=m.framing;o=m.getBorderInfo();m.frameInfo=l=n?{top:n.top+o.top,right:n.right+o.right,bottom:n.bottom+o.bottom,left:n.left+o.left,width:n.width+o.width,height:n.height+o.height}:o}return l},getMarginInfo:function(){var p=this,n=p.marginInfo,s,t,o,q;if(!n){if(!p.wrapsComponent){n=p.checkCache("marginInfo")}else{s=p.target;o=s.ownerLayout;q=o?o.id:null;t=o&&o.manageMargins;n=s.margin$;if(n&&n.ownerId!==q){n=null}if(!n){n=p.parseMargins(s,s.margin)||p.checkCache("marginInfo");if(t){p.setProp("margin-top",0);p.setProp("margin-right",0);p.setProp("margin-bottom",0);p.setProp("margin-left",0)}n.ownerId=q;s.margin$=n}n.width=n.left+n.right;n.height=n.top+n.bottom}p.marginInfo=n}return n},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var k=this,g=k.paddingInfo;if(!g){k.paddingInfo=g=k.checkCache("paddingInfo")}return g},getProp:function(k){var l=this,m=l.props[k];l.addTrigger(k);return m},getDomProp:function(k){var l=this,m=(l.dirty&&(k in l.dirty))?undefined:l.props[k];l.addTrigger(k,true);return m},getStyle:function(q){var o=this,p=o.styles,m,n;if(q in p){n=p[q]}else{m=o.styleInfo[q];n=o.el.getStyle(q);if(m&&m.parseInt){n=parseInt(n,10)||0}p[q]=n}return n},getStyles:function(I,E){var K=this,B=K.styles,H={},A=0,C=I.length,n,y,L,F,D,z,G,J;E=E||I;for(n=0;n<C;++n){F=I[n];if(F in B){H[E[n]]=B[F];++A;if(n&&A===1){y=I.slice(0,n);L=E.slice(0,n)}}else{if(A){(y||(y=[])).push(F);(L||(L=[])).push(E[n])}}}if(A<C){y=y||I;L=L||E;z=K.styleInfo;G=K.el.getStyle(y);for(n=y.length;n--;){F=y[n];D=z[F];J=G[F];if(D&&D.parseInt){J=parseInt(J,10)||0}H[L[n]]=J;B[F]=J}}return H},hasProp:function(f){return this.getProp(f)!=null},hasDomProp:function(f){return this.getDomProp(f)!=null},invalidate:function(f){this.context.queueInvalidate(this,f)},markDirty:function(){if(++this.dirtyCount===1){this.context.queueFlush(this)}},onBoxMeasured:function(){var k=this.boxParent,g=this.state;if(k&&k.widthModel.shrinkWrap&&!g.boxMeasured&&this.measuresBox){g.boxMeasured=1;k.boxChildMeasured()}},parseMargins:function(o,l){if(l===true){l=5}var m=typeof l,n;if(m==="string"||m==="number"){n=o.parseBox(l)}else{if(l){n={top:0,right:0,bottom:0,left:0};if(l){l=Ext.apply(n,o.parseBox(l))}}}return n},peek:function(f){return this.props[f]},recalculateSizeModel:function(){var o=this,n=o.target,q=n.componentLayout,s=o.ownerCtContext,t=q.ownerContext,p;q.ownerContext=null;o.sizeModel=p=n.getSizeModel(s&&s.widthModel.pairsByHeightOrdinal[s.heightModel.ordinal]);o.widthModel=p.width;o.heightModel=p.height;if(t){q.ownerContext=o}},recoverProp:function(n,s,t){var o=this,p=o.props,q;if(n in s){p[n]=s[n];if(t&&n in t){q=o.dirty||(o.dirty={});q[n]=t[n]}}},redo:function(p){var m=this,o,q,n;m.revertProps(m.props);if(p&&m.wrapsComponent){if(m.childItems){for(n=0,o=m.childItems,q=o.length;n<q;n++){o[n].redo(p)}}for(n=0,o=m.children,q=o.length;n<q;n++){o[n].redo()}}},removeEl:function(p,q){var n=this,m,o;if(p){if(p.dom){o=p}else{m=n.target;if(q){m=q}o=m[p];if(typeof o==="function"){o=o.call(m);if(o===n.el){return this}}}if(o){n.context.removeEl(o,n)}}},revertProps:function(l){var o,n=this.flushedProps,m={};for(o in l){if(n.hasOwnProperty(o)){m[o]=l[o]}}this.writeProps(m)},setAttribute:function(m,k){var l=this;if(!l.attributes){l.attributes={}}l.attributes[m]=k;l.markDirty()},setBox:function(g){var k=this;if("left" in g){k.setProp("x",g.left)}if("top" in g){k.setProp("y",g.top)}k.setSize(g.width,g.height)},setContentHeight:function(k,g){if(!g&&this.hasRawContent){return 1}return this.setProp("contentHeight",k)},setContentWidth:function(g,k){if(!k&&this.hasRawContent){return 1}return this.setProp("contentWidth",g)},setContentSize:function(k,m,l){return this.setContentWidth(k,l)+this.setContentHeight(m,l)===2},setProp:function(p,q,t){var s=this,n=typeof q,o;if(n==="undefined"||(n==="number"&&isNaN(q))){return 0}if(s.props[p]===q){return 1}s.props[p]=q;++s.context.progressCount;if(t===false){s.fireTriggers("domTriggers",p);s.clearBlocks("domBlocks",p)}else{o=s.styleInfo[p];if(o){if(!s.dirty){s.dirty={}}s.dirty[p]=q;s.markDirty()}}s.fireTriggers("triggers",p);s.clearBlocks("blocks",p);return 1},setHeight:function(s,B){var w=this,y=w.target,z=w.ownerCtContext,v,x,A,t,u;if(s<0){s=0}if(!w.wrapsComponent){if(!w.setProp("height",s,B)){return NaN}}else{A=w.collapsedVert?0:(y.minHeight||0);s=Ext.Number.constrain(s,A,y.maxHeight);t=w.props.height;if(!w.setProp("height",s,B)){return NaN}if(z&&!w.isComponentChild&&isNaN(t)){u=--z.remainingChildDimensions;if(!u){z.setProp("containerChildrenSizeDone",true)}}v=w.frameBodyContext;if(v){x=w.getFrameInfo();v[w.el.vertical?"setWidth":"setHeight"](s-x.height,B)}}return s},setWidth:function(A,B){var u=this,w=u.target,x=u.ownerCtContext,t,v,y,z,s;if(A<0){A=0}if(!u.wrapsComponent){if(!u.setProp("width",A,B)){return NaN}}else{y=u.collapsedHorz?0:(w.minWidth||0);A=Ext.Number.constrain(A,y,w.maxWidth);z=u.props.width;if(!u.setProp("width",A,B)){return NaN}if(x&&!u.isComponentChild&&isNaN(z)){s=--x.remainingChildDimensions;if(!s){x.setProp("containerChildrenSizeDone",true)}}t=u.frameBodyContext;if(t){v=u.getFrameInfo();t.setWidth(A-v.width,B)}}return A},setSize:function(k,m,l){this.setWidth(k,l);this.setHeight(m,l)},translateProps:{x:"left",y:"top"},undo:function(p){var m=this,o,q,n;m.revertProps(m.lastBox);if(p&&m.wrapsComponent){if(m.childItems){for(n=0,o=m.childItems,q=o.length;n<q;n++){o[n].undo(p)}}for(n=0,o=m.children,q=o.length;n<q;n++){o[n].undo()}}},unsetProp:function(g){var k=this.dirty;delete this.props[g];if(k){delete k[g]}},writeProps:function(R,S){if(!(R&&typeof R==="object")){return}var M=this,T=M.el,O={},Q=0,U=M.styleInfo,C,N,I,G=R.width,L=R.height,K=M.target,P,V,H,F,E,J,D;if("displayed" in R){T.setDisplayed(R.displayed)}for(N in R){if(S){M.fireTriggers("domTriggers",N);M.clearBlocks("domBlocks",N);M.flushedProps[N]=1}C=U[N];if(C&&C.dom){if(C.suffix&&(I=parseInt(R[N],10))){O[N]=I+C.suffix}else{O[N]=R[N]}++Q}}if("x" in R||"y" in R){if(K.isComponent){K.setPosition(R.x,R.y)}else{Q+=M.addPositionStyles(O,R)}}if("overflowX" in R){D=K.getScrollable();if(D){D.setX(R.overflowX)}}if("overflowY" in R){if(D||(D=K.getScrollable())){D.setY(R.overflowY)}}if(M.wrapsComponent&&Ext.isIE9){if((P=G!==undefined&&M.hasOverflowY)||(V=L!==undefined&&M.hasOverflowX)){H=M.isAbsolute;if(H===undefined){H=false;J=M.target.getTargetEl();E=J.getStyle("position");M.isAbsolute=H=(E==="absolute")}if(H){F=Ext.getScrollbarSize();if(P){G=parseInt(G,10)+F.width;O.width=G+"px";++Q}if(V){L=parseInt(L,10)+F.height;O.height=L+"px";++Q}}}}if(Q){T.setStyle(O)}}},1,0,0,0,0,0,[Ext.layout,"ContextItem"],function(){var k={dom:true,parseInt:true,suffix:"px"},l={dom:true},m={dom:false};this.prototype.styleInfo={containerChildrenSizeDone:m,containerLayoutDone:m,displayed:m,done:m,x:m,y:m,columnsChanged:m,rowHeights:m,viewOverflowY:m,overflowX:m,overflowY:m,left:k,top:k,right:k,bottom:k,width:k,height:k,"border-top-width":k,"border-right-width":k,"border-bottom-width":k,"border-left-width":k,"margin-top":k,"margin-right":k,"margin-bottom":k,"margin-left":k,"padding-top":k,"padding-right":k,"padding-bottom":k,"padding-left":k,"line-height":l,display:l,clear:l}}));(Ext.cmd.derive("Ext.layout.Context",Ext.Base,{remainingLayouts:0,state:0,cycleWatchDog:200,constructor:function(k){var g=this;Ext.apply(g,k);g.items={};g.layouts={};g.blockCount=0;g.cycleCount=0;g.flushCount=0;g.calcCount=0;g.animateQueue=g.newQueue();g.completionQueue=g.newQueue();g.finalizeQueue=g.newQueue();g.finishQueue=g.newQueue();g.flushQueue=g.newQueue();g.invalidateData={};g.layoutQueue=g.newQueue();g.invalidQueue=[];g.triggers={data:{},dom:{}}},callLayout:function(g,k){this.currentLayout=g;g[k](this.getCmp(g.owner))},cancelComponent:function(A,H,P){var M=this,B=A,k=!A.isComponent,G=k?B.length:1,E,F,N,O,C,J,L,K,I,D;for(E=0;E<G;++E){if(k){A=B[E]}if(P){if(A.ownerCt){D=this.items[A.ownerCt.el.id];if(D){Ext.Array.remove(D.childItems,M.getCmp(A))}}else{if(A.rendered){M.removeEl(A.el)}}}if(!H){L=M.invalidQueue;N=L.length;if(N){M.invalidQueue=J=[];for(F=0;F<N;++F){K=L[F];I=K.item.target;if(I!==A&&!I.up(A)){J.push(K)}}}}C=A.componentLayout;M.cancelLayout(C);if(!A.destroying){if(C.getLayoutItems){O=C.getLayoutItems();if(O.length){M.cancelComponent(O,true)}}if(A.isContainer&&!A.collapsed){C=A.layout;M.cancelLayout(C);O=C.getVisibleItems();if(O.length){M.cancelComponent(O,true)}}}}},cancelLayout:function(g){var k=this;k.completionQueue.remove(g);k.finalizeQueue.remove(g);k.finishQueue.remove(g);k.layoutQueue.remove(g);if(g.running){k.layoutDone(g)}g.ownerContext=null},clearTriggers:function(u,t){var z=u.id,v=this.triggers[t?"dom":"data"],s=v&&v[z],y=(s&&s.length)||0,w,q,x;for(w=0;w<y;++w){x=s[w];q=x.item;v=t?q.domTriggers:q.triggers;delete v[x.prop][z]}},flush:function(){var l=this,o=l.flushQueue.clear(),m=o.length,n;if(m){++l.flushCount;for(n=0;n<m;++n){o[n].flush()}}},flushAnimations:function(){var l=this,n=l.animateQueue.clear(),o=n.length,m;if(o){for(m=0;m<o;m++){if(n[m].target.animate!==false){n[m].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var v=this,u=v.invalidQueue,o=u&&u.length,t,p,q,s;v.invalidQueue=[];if(o){p=[];for(s=0;s<o;++s){t=(q=u[s]).item.target;if(!t.container.isDetachedBody){p.push(t);if(q.options){v.invalidateData[t.id]=q.options}}}v.invalidate(p,null)}},flushLayouts:function(x,v,t){var p=this,w=t?p[x].items:p[x].clear(),q=w.length,u,s;if(q){for(u=0;u<q;++u){s=w[u];if(!s.running){p.callLayout(s,v)}}p.currentLayout=null}},getCmp:function(f){return this.getItem(f,f.el)},getEl:function(l,m){var k=this.getItem(m,m);if(!k.parent){k.parent=l;if(l.children.length){l.children.push(k)}else{l.children=[k]}}return k},getItem:function(n,p){var m=p.id,q=this.items,o=q[m]||(q[m]=new Ext.layout.ContextItem({context:this,target:n,el:p}));return o},handleFailure:function(){var k=this.layouts,l,m;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(m in k){l=k[m];if(k.hasOwnProperty(m)){l.running=false;l.ownerContext=null}}},invalidate:function(z,O){var M=this,P=!z.isComponent,G,L,I,D,A,K,N,H,C,B,E,F,J;for(D=0,H=P?z.length:1;D<H;++D){A=P?z[D]:z;if(A.rendered&&!A.hidden){L=A.ownerLayout;C=A.componentLayout;J=false;if((!L||!L.needsItemSize)&&A.liquidLayout){J=true}if(!J||(L&&L.setsItemSize)){K=M.getCmp(A);I=!K.state;B=(A.isContainer&&!A.collapsed)?A.layout:null;E=M.invalidateData[K.id];delete M.invalidateData[K.id];F=K.init(O,E)}if(J){continue}if(E){M.processInvalidate(E,K,"before")}if(C.beforeLayoutCycle){C.beforeLayoutCycle(K)}if(B&&B.beforeLayoutCycle){B.beforeLayoutCycle(K)}F=K.initContinue(F);G=true;if(C.getLayoutItems){C.renderChildren();N=C.getLayoutItems();if(N.length){M.invalidate(N,true)}}if(B){G=false;B.renderChildren();if(B.needsItemSize||B.activeItemCount){N=B.getVisibleItems();if(N.length){M.invalidate(N,true)}}}K.initDone(G);M.resetLayout(C,K,I);if(B){M.resetLayout(B,K,I)}K.initAnimation();if(E){M.processInvalidate(E,K,"after")}}}M.currentLayout=null},isDescendant:function(m,l){if(m.isContainer){for(var k=l.ownerCt;k;k=k.ownerCt){if(k===m){return true}}}return false},layoutDone:function(k){var g=k.ownerContext;k.running=false;if(k.isComponentLayout){if(g.measuresBox){g.onBoxMeasured()}g.setProp("done",true)}else{g.setProp("containerLayoutDone",true)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue()},processInvalidate:function(p,m,q){if(p[q]){var n=this,o=n.currentLayout;n.currentLayout=p.layout||null;p[q](m,p);n.currentLayout=o}},queueAnimation:function(f){this.animateQueue.add(f)},queueCompletion:function(f){this.completionQueue.add(f)},queueFinalize:function(f){this.finalizeQueue.add(f)},queueFlush:function(g,k){this.flushQueue.add(g,k)},chainFns:function(v,w,p){var s=this,t=v.layout,q=w.layout,u=v[p],x=w[p];return function(f){var e=s.currentLayout;if(u){s.currentLayout=t;u.call(v.scope||v,f,v)}s.currentLayout=q;x.call(w.scope||w,f,w);s.currentLayout=e}},purgeInvalidates:function(){var w=this,t=[],v=w.invalidQueue,y=v.length,u,D,z,A,B,x,C;for(u=0;u<y;++u){B=v[u];x=B.item.target;C=true;for(D=t.length;D--;){z=t[D];A=z.item.target;if(x.isLayoutChild(A)){C=false;break}if(A.isLayoutChild(x)){Ext.Array.erase(t,D,1)}}if(C){t.push(B)}}w.invalidQueue=t},queueInvalidate:function(t,D){var w=this,u=[],v=w.invalidQueue,x=v.length,z,B,y,C,A;if(t.isComponent){z=t;t=w.items[z.el.id];if(t){t.recalculateSizeModel()}else{t=w.getCmp(z)}}else{z=t.target}t.invalid=true;while(x--){B=v[x];y=B.item.target;if(!z.isFloating&&z.up(y)){return}if(y===z){if(!(C=B.options)){B.options=D}else{if(D){if(D.widthModel){C.widthModel=D.widthModel}if(D.heightModel){C.heightModel=D.heightModel}if(!(A=C.state)){C.state=D.state}else{if(D.state){Ext.apply(A,D.state)}}if(D.before){C.before=w.chainFns(C,D,"before")}if(D.after){C.after=w.chainFns(C,D,"after")}}}return}if(!y.isLayoutChild(z)){u.push(B)}}u.push({item:t,options:D});w.invalidQueue=u},queueItemLayouts:function(k){var m=k.isComponent?k:k.target,l=m.componentLayout;if(!l.pending&&!l.invalid&&!l.done){this.queueLayout(l)}l=m.layout;if(l&&!l.pending&&!l.invalid&&!l.done&&!m.collapsed){this.queueLayout(l)}},queueLayout:function(f){this.layoutQueue.add(f);f.pending=true},removeEl:function(n,o){var m=n.id,p=o?o.children:null,q=this.items;if(p){Ext.Array.remove(p,q[m])}delete q[m]},resetLayout:function(n,m,l){var o=this;o.currentLayout=n;n.done=false;n.pending=true;n.firedTriggers=0;o.layoutQueue.add(n);if(l){o.layouts[n.id]=n;n.running=true;if(n.finishedLayout){o.finishQueue.add(n)}++o.remainingLayouts;++n.layoutCount;n.ownerContext=m;n.beginCount=0;n.blockCount=0;n.calcCount=0;n.triggerCount=0;if(!n.initialized){n.initLayout()}n.beginLayout(m)}else{++n.beginCount;if(!n.running){++o.remainingLayouts;n.running=true;n.ownerContext=m;if(n.isComponentLayout){m.unsetProp("done")}o.completionQueue.remove(n);o.finalizeQueue.remove(n)}}n.beginLayoutCycle(m,l)},run:function(){var k=this,l=false,m=k.cycleWatchDog;k.purgeInvalidates();k.flushInvalidates();k.state=1;k.totalCount=k.layoutQueue.getCount();k.flush();while((k.remainingLayouts||k.invalidQueue.length)&&m--){if(k.invalidQueue.length){k.flushInvalidates()}if(k.runCycle()){l=false}else{if(!l){k.flush();l=true;k.flushLayouts("completionQueue","completeLayout")}else{if(!k.invalidQueue.length){k.state=2;break}}}if(!(k.remainingLayouts||k.invalidQueue.length)){k.flush();k.flushLayouts("completionQueue","completeLayout");k.flushLayouts("finalizeQueue","finalizeLayout")}}return k.runComplete()},runComplete:function(){var f=this;f.state=2;if(f.remainingLayouts){f.handleFailure();return false}f.flush();f.flushLayouts("finishQueue","finishedLayout",true);f.flushLayouts("finishQueue","notifyOwner");f.flush();f.flushAnimations();return true},runCycle:function(){var m=this,l=m.layoutQueue.clear(),n=l.length,o;++m.cycleCount;m.progressCount=0;for(o=0;o<n;++o){m.runLayout(m.currentLayout=l[o])}m.currentLayout=null;return m.progressCount>0},runLayout:function(l){var m=this,k=m.getCmp(l.owner);l.pending=false;if(k.state.blocks){return}l.done=true;++l.calcCount;++m.calcCount;l.calculate(k);if(l.done){m.layoutDone(l);if(l.completeLayout){m.queueCompletion(l)}if(l.finalizeLayout){m.queueFinalize(l)}}else{if(!l.pending&&!l.invalid&&!(l.blockCount+l.triggerCount-l.firedTriggers)){m.queueLayout(l)}}},setItemSize:function(v,o,t){var q=v,u=1,s,p;if(v.isComposite){q=v.elements;u=q.length;v=q[0]}else{if(!v.dom&&!v.el){u=q.length;v=q[0]}}for(p=0;p<u;){s=this.get(v);s.setSize(o,t);v=q[++p]}}},1,0,0,0,0,0,[Ext.layout,"Context"],0));(Ext.cmd.derive("Ext.layout.component.Body",Ext.layout.component.Auto,{type:"body",beginLayout:function(f){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);f.bodyContext=f.getEl("body")},beginLayoutCycle:function(p,s){var q=this,n=q.lastWidthModel,o=q.lastHeightModel,t=q.owner.body;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(n&&n.fixed&&p.widthModel.shrinkWrap){t.setWidth(null)}if(o&&o.fixed&&p.heightModel.shrinkWrap){t.setHeight(null)}},calculateOwnerHeightFromContentHeight:function(k,l){var m=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments);if(k.targetContext!==k){m+=k.getPaddingInfo().height}return m},calculateOwnerWidthFromContentWidth:function(k,m){var l=Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.apply(this,arguments);if(k.targetContext!==k){l+=k.getPaddingInfo().width}return l},measureContentWidth:function(f){return f.bodyContext.setWidth(f.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(f){return f.bodyContext.setHeight(f.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(m,o){var l=o-m.getFrameInfo().height,n=m.targetContext;if(n!==m){l-=m.getPaddingInfo().height}return m.bodyContext.setHeight(l,!m.heightModel.natural)},publishInnerWidth:function(l,m){var o=m-l.getFrameInfo().width,n=l.targetContext;if(n!==l){o-=l.getPaddingInfo().width}l.bodyContext.setWidth(o,!l.widthModel.natural)}},0,0,0,0,["layout.body"],0,[Ext.layout.component,"Body"],0));(Ext.cmd.derive("Ext.layout.component.FieldSet",Ext.layout.component.Body,{type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(f){if(f.target.collapsed){f.heightModel=this.sizeModels.shrinkWrap}},beginLayout:function(g){var k=this.owner.legend;Ext.layout.component.Body.prototype.beginLayout.call(this,g);if(k){g.legendContext=g.context.getCmp(k)}},beginLayoutCycle:function(l){var k=l.target,m;Ext.layout.component.Body.prototype.beginLayoutCycle.apply(this,arguments);if(k.collapsed){l.setContentHeight(0);l.restoreMinHeight=k.minHeight;delete k.minHeight;if(l.widthModel.shrinkWrap){m=this.lastComponentSize;l.setContentWidth((m&&m.contentWidth)||this.defaultCollapsedWidth)}}},finishedLayout:function(k){var m=this.owner,l=k.restoreMinHeight;Ext.layout.component.Body.prototype.finishedLayout.apply(this,arguments);if(l){m.minHeight=l}},calculateOwnerWidthFromContentWidth:function(k,m){var l=k.legendContext;if(l){m=Math.max(m,l.getProp("width"))}return Ext.layout.component.Body.prototype.calculateOwnerWidthFromContentWidth.call(this,k,m)},calculateOwnerHeightFromContentHeight:function(l,m){var o=l.getBorderInfo(),n=l.legendContext;return l.getProp("contentHeight")+l.getPaddingInfo().height+(Ext.isIE8?l.bodyContext.getPaddingInfo().top:0)+(n?n.getProp("height"):o.top)+o.bottom},publishInnerHeight:function(l,o){var m=l.legendContext,n=0;if(m){n=m.getProp("height")}if(n===undefined){this.done=false}else{Ext.layout.component.Body.prototype.publishInnerHeight.call(this,l,o-n)}},getLayoutItems:function(){var f=this.owner.legend;return f?[f]:[]}},0,0,0,0,["layout.fieldset"],0,[Ext.layout.component,"FieldSet"],0));(Ext.cmd.derive("Ext.layout.container.Accordion",Ext.layout.container.VBox,{type:"accordion",alternateClassName:"Ext.layout.AccordionLayout",targetCls:"x-accordion-layout-ct",itemCls:["x-box-item","x-accordion-item"],align:"stretch",enableSplitters:false,fill:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:undefined,animate:true,activeOnTop:false,multi:false,wrapOver:true,panelCollapseMode:"header",defaultAnimatePolicy:{y:true,height:true},constructor:function(){var f=this;Ext.layout.container.VBox.prototype.constructor.apply(this,arguments);if(f.animate){f.animatePolicy={};f.animatePolicy[f.names.x]=true;f.animatePolicy[f.names.width]=true}else{f.animatePolicy=null}},beforeRenderItems:function(v){var u=this,w=v.length,A=u.owner,t=u.collapseFirst,B=Ext.isDefined(t),s=u.getExpanded(true)[0],x=u.multi,y,z;for(z=0;z<w;z++){y=v[z];if(!y.rendered){y.isAccordionPanel=true;y.bodyAriaRole="tabpanel";y.accordionWrapOver=u.wrapOver;if(!x||y.collapsible!==false){y.collapsible=true}if(y.collapsible){if(B){y.collapseFirst=t}if(u.hideCollapseTool){y.hideCollapseTool=u.hideCollapseTool;y.titleCollapse=true}else{if(u.titleCollapse&&y.titleCollapse===undefined){y.titleCollapse=u.titleCollapse}}}y.hideHeader=y.width=null;y.title=y.title||"&#160;";y.addBodyCls("x-accordion-body");if(!x){if(s){y.collapsed=s!==y}else{if(y.hasOwnProperty("collapsed")&&y.collapsed===false){s=y}else{y.collapsed=true}}A.mon(y,"show",u.onComponentShow,u)}y.headerOverCls="x-accordion-hd-over"}}if(!u.processing&&!x){if(!s){if(w){v[0].collapsed=false}}else{if(u.activeOnTop){s.collapsed=false;u.configureItem(s);if(A.items.indexOf(s)>0){A.insert(0,s)}}}}},getItemsRenderTree:function(f){this.beforeRenderItems(f);return Ext.layout.container.VBox.prototype.getItemsRenderTree.apply(this,arguments)},renderItems:function(k,g){this.beforeRenderItems(k);Ext.layout.container.VBox.prototype.renderItems.apply(this,arguments)},configureItem:function(f){Ext.layout.container.VBox.prototype.configureItem.apply(this,arguments);f.ignoreHeaderBorderManagement=true;f.animCollapse=false;if(this.fill){f.flex=1}},beginLayout:function(f){Ext.layout.container.VBox.prototype.beginLayout.apply(this,arguments);this.innerCt.dom.setAttribute("role","tablist");this.innerCt.dom.setAttribute("aria-multiselectable",true);this.updatePanelClasses(f)},updatePanelClasses:function(p){var s=p.visibleItems,q=s.length,u=true,t,v,o;for(t=0;t<q;t++){v=s[t];o=v.header;o.addCls("x-accordion-hd");if(u){o.removeCls("x-accordion-hd-sibling-expanded")}else{o.addCls("x-accordion-hd-sibling-expanded")}if(t+1===q&&v.collapsed){o.addCls("x-accordion-hd-last-collapsed")}else{o.removeCls("x-accordion-hd-last-collapsed")}u=v.collapsed}},onBeforeComponentExpand:function(w){var s=this,v=s.owner,x=s.multi,p=!x&&!s.animate&&s.activeOnTop,t,u,q;if(!s.processing){s.processing=true;u=v.deferLayouts;v.deferLayouts=true;if(!x){t=s.getExpanded()[0];if(t&&t!==w){q=t.$layoutAnim;if(q){q.jumpToEnd()}t.collapse()}}if(p){Ext.suspendLayouts();v.insert(0,w);Ext.resumeLayouts()}v.deferLayouts=u;s.processing=false}},onBeforeComponentCollapse:function(p){var o=this,t=o.owner,n,q,s;if(o.owner.items.getCount()===1){return false}if(!o.processing){o.processing=true;s=t.deferLayouts;t.deferLayouts=true;n=p.next()||p.prev();if(o.multi){q=o.getExpanded();if(q.length===1){n.expand()}}else{if(n){n.expand()}}t.deferLayouts=s;o.processing=false}},onComponentShow:function(f){this.onBeforeComponentExpand(f)},onAdd:function(g){var k=this;Ext.layout.container.VBox.prototype.onAdd.apply(this,arguments);if(g.collapseMode==="placeholder"){g.collapseMode=k.panelCollapseMode}g.collapseDirection=g.headerPosition;if(k.layoutCount&&!k.multi&&k.owner.items.getCount()>1){k.processing=true;g.collapse();k.processing=false}},onRemove:function(o,l){var m=this,n;Ext.layout.container.VBox.prototype.onRemove.apply(this,arguments);if(!m.owner.destroying&&!m.multi&&!o.collapsed){n=m.owner.items.first();if(n){n.expand()}}},getExpanded:function(v){var t=this.owner.items.items,u=t.length,q=0,s=[],o,p;for(;q<u;++q){p=t[q];if(!p.hidden){if(v){o=p.hasOwnProperty("collapsed")&&p.collapsed===false}else{o=!p.collapsed}if(o){s.push(p)}}}return s},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn},1,0,0,0,["layout.accordion"],0,[Ext.layout.container,"Accordion",Ext.layout,"AccordionLayout"],0));(Ext.cmd.derive("Ext.resizer.BorderSplitter",Ext.resizer.Splitter,{collapseTarget:null,getTrackerConfig:function(){var f=Ext.resizer.Splitter.prototype.getTrackerConfig.call(this);f.xclass="Ext.resizer.BorderSplitterTracker";return f},onTargetCollapse:function(f){Ext.resizer.Splitter.prototype.onTargetCollapse.call(this,f);if(this.performCollapse!==false&&f.collapseMode=="mini"){f.addCls(f.baseCls+"-"+f.collapsedCls+"-mini")}},onTargetExpand:function(f){Ext.resizer.Splitter.prototype.onTargetExpand.call(this,f);if(this.performCollapse!==false&&f.collapseMode=="mini"){f.removeCls(f.baseCls+"-"+f.collapsedCls+"-mini")}}},0,["bordersplitter"],["component","box","splitter","bordersplitter"],{component:true,box:true,splitter:true,bordersplitter:true},["widget.bordersplitter"],0,[Ext.resizer,"BorderSplitter"],0));(Ext.cmd.derive("Ext.layout.container.Border",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BorderLayout",targetCls:"x-border-layout-ct",itemCls:["x-border-item","x-box-item"],type:"border",isBorderLayout:true,padding:undefined,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:true,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:false,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:true,panelCollapseAnimate:true,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(K,W,L){var O=this,V=O.axisProps[L],F=!V.horizontal,N=V.sizeProp,H=0,X=K.childItems,S=X.length,D,G,I,R,E,T,P,J,U,M,Q;for(G=0;G<S;++G){I=X[G];E=I.target;I.layoutPos={};if(E.region){I.region=T=E.region;I.isCenter=E.isCenter;I.isHorz=E.isHorz;I.isVert=E.isVert;I.weight=E.weight||O.regionWeights[T]||0;E.weight=I.weight;W[E.id]=I;if(E.isCenter){D=I;R=E.flex;K.centerRegion=D;continue}if(F!==I.isVert){continue}I.reverseWeighting=(T===V.borderEnd);J=E[N];U=typeof J;if(!E.collapsed){if(U==="string"&&(P=O.percentageRe.exec(J))){I.percentage=parseInt(P[1],10)}else{if(E.flex){H+=I.flex=E.flex}}}}}if(D){M=D.target;if((Q=M.placeholderFor)){if(!R&&F===Q.collapsedVertical()){R=0;D.collapseAxis=L}}else{if(M.collapsed&&(F===M.collapsedVertical())){R=0;D.collapseAxis=L}}}if(R==null){R=1}H+=R;return Ext.apply({before:F?"top":"left",totalFlex:H},V)},beginLayout:function(D){var x=this,y=x.getLayoutItems(),C=x.padding,L=typeof C,I=false,H,J,F,A,B,G,E,z,K;if(C){if(L==="string"||L==="number"){C=Ext.util.Format.parseBox(C)}}else{C=D.getEl("getTargetEl").getPaddingInfo();I=true}D.outerPad=C;D.padOnContainer=I;for(A=0,F=y.length;A<F;++A){J=y[A];G=x.getSplitterTarget(J);if(G){E=undefined;z=!!J.hidden;if(!G.split){if(G.isCollapsingOrExpanding){E=!!G.collapsed}}else{if(z!==G.hidden){E=!G.hidden}}if(E){J.show()}else{if(E===false){J.hide()}}}}Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);y=D.childItems;F=y.length;B={};D.borderAxisHorz=x.beginAxis(D,B,"horz");D.borderAxisVert=x.beginAxis(D,B,"vert");for(A=0;A<F;++A){H=y[A];G=x.getSplitterTarget(H.target);if(G){K=B[G.id];if(!K){K=D.getEl(G.el,x);K.region=G.region}H.collapseTarget=G=K;H.weight=G.weight;H.reverseWeighting=G.reverseWeighting;G.splitter=H;H.isHorz=G.isHorz;H.isVert=G.isVert}}x.sortWeightedItems(y,"reverseWeighting");x.setupSplitterNeighbors(y)},calculate:function(D){var L=this,G=L.getContainerSize(D),z=D.childItems,E=z.length,F=D.borderAxisHorz,y=D.borderAxisVert,C=D.outerPad,J=D.padOnContainer,A,H,x,I,K,B;F.begin=C[L.padOnContainerProp];y.begin=C.top;K=F.end=F.flexSpace=G.width+(J?C[L.padOnContainerProp]:-C[L.padNotOnContainerProp]);B=y.end=y.flexSpace=G.height+(J?C.top:-C.bottom);for(A=0;A<E;++A){H=z[A];x=H.getMarginInfo();if(H.isHorz||H.isCenter){F.addUnflexed(x.width);K-=x.width}if(H.isVert||H.isCenter){y.addUnflexed(x.height);B-=x.height}if(!H.flex&&!H.percentage){if(H.isHorz||(H.isCenter&&H.collapseAxis==="horz")){I=H.getProp("width");F.addUnflexed(I);if(H.collapseTarget){K-=I}}else{if(H.isVert||(H.isCenter&&H.collapseAxis==="vert")){I=H.getProp("height");y.addUnflexed(I);if(H.collapseTarget){B-=I}}}}}for(A=0;A<E;++A){H=z[A];x=H.getMarginInfo();if(H.percentage){if(H.isHorz){I=Math.ceil(K*H.percentage/100);I=H.setWidth(I);F.addUnflexed(I)}else{if(H.isVert){I=Math.ceil(B*H.percentage/100);I=H.setHeight(I);y.addUnflexed(I)}}}}for(A=0;A<E;++A){H=z[A];if(!H.isCenter){L.calculateChildAxis(H,F);L.calculateChildAxis(H,y)}}if(L.finishAxis(D,y)+L.finishAxis(D,F)<2){L.done=false}else{L.finishPositions(z)}},calculateChildAxis:function(D,A){var C=D.collapseTarget,w="set"+A.sizePropCap,y=A.sizeProp,z=D.getMarginInfo()[y],u,B,x,v,t;if(C){u=C.region}else{u=D.region;x=D.flex}B=u===A.borderBegin;if(!B&&u!==A.borderEnd){D[w](A.end-A.begin-z);v=A.begin}else{if(x){t=Math.ceil(A.flexSpace*(x/A.totalFlex));t=D[w](t)}else{if(D.percentage){t=D.peek(y)}else{t=D.getProp(y)}}t+=z;if(B){v=A.begin;A.begin+=t}else{A.end=v=A.end-t}}D.layoutPos[A.posProp]=v},eachItem:function(v,q,s){var o=this,u=o.getLayoutItems(),t=0,p;if(Ext.isFunction(v)){q=v;s=q}for(t;t<u.length;t++){p=u[t];if(!v||p.region===v){if(q.call(s,p)===false){break}}}},finishAxis:function(l,m){var n=m.end-m.begin,o=l.centerRegion;if(o){o["set"+m.sizePropCap](n-o.getMarginInfo()[m.sizeProp]);o.layoutPos[m.posProp]=m.begin}return Ext.isNumber(n)?1:0},finishPositions:function(m){var o=m.length,p,q,n=this.horzPositionProp;for(p=0;p<o;++p){q=m[p];q.setProp("x",q.layoutPos.x+q.marginInfo[n]);q.setProp("y",q.layoutPos.y+q.marginInfo.top)}},getLayoutItems:function(){var u=this.owner,p=(u&&u.items&&u.items.items)||[],q=p.length,t=[],s=0,o,v;for(;s<q;s++){o=p[s];v=o.placeholderFor;if(o.hidden||((!o.floated||o.isCollapsingOrExpanding===2)&&!(v&&v.isCollapsingOrExpanding===2))){t.push(o)}}return t},getPlaceholder:function(f){return f.getPlaceholder&&f.getPlaceholder()},getMaxWeight:function(f){return this.getMinMaxWeight(f)},getMinWeight:function(f){return this.getMinMaxWeight(f,true)},getMinMaxWeight:function(l,o){var n=this,m=null;n.eachItem(l,function(e){if(e.hasOwnProperty("weight")){if(m===null){m=e.weight;return}if((o&&e.weight<m)||e.weight>m){m=e.weight}}},this);return m},getSplitterTarget:function(g){var k=g.collapseTarget;if(k&&k.collapsed){return k.placeholder||k}return k},isItemBoxParent:function(f){return true},isItemShrinkWrap:function(f){return true},insertSplitter:function(q,s,o,t){var v=q.region,p=Ext.apply({xtype:"bordersplitter",collapseTarget:q,id:q.id+"-splitter",hidden:o,canResize:q.splitterResize!==false,splitterFor:q,synthetic:true},t),u=s+((v==="south"||v==="east")?0:1);if(q.collapseMode==="mini"){p.collapsedCls=q.collapsedCls}q.splitter=this.owner.add(u,p)},getMoveAfterIndex:function(g){var k=Ext.layout.container.Container.prototype.getMoveAfterIndex.apply(this,arguments);if(g.splitter){k++}return k},moveItemBefore:function(m,k){var l;if(k&&k.splitter){l=k.region;if(l==="south"||l==="east"){k=k.splitter}}return Ext.layout.container.Container.prototype.moveItemBefore.call(this,m,k)},onAdd:function(q,w){var u=this,x=q.placeholderFor,s=q.region,v,t,z,y;Ext.layout.container.Container.prototype.onAdd.apply(this,arguments);if(s){Ext.apply(q,u.regionFlags[s]);if(u.owner.isViewport){q.isViewportBorderChild=true}if(q.initBorderRegion){q.initBorderRegion()}v=s==="center";if(v){u.centerRegion=q}else{t=q.split;z=!!q.hidden;if(typeof t==="object"){y=t;t=true}if((q.isHorz||q.isVert)&&(t||q.collapseMode==="mini")){u.insertSplitter(q,w,z||!t,y)}}if(!v&&!q.hasOwnProperty("collapseMode")){q.collapseMode=u.panelCollapseMode}if(!q.hasOwnProperty("animCollapse")){if(q.collapseMode!=="placeholder"){q.animCollapse=false}else{q.animCollapse=u.panelCollapseAnimate}}if(z&&q.placeholder&&q.placeholder.isVisible()){u.owner.insert(w,q.placeholder)}}else{if(x){Ext.apply(q,u.regionFlags[x.region]);q.region=x.region;q.weight=x.weight}}},onDestroy:function(){this.centerRegion=null;Ext.layout.container.Container.prototype.onDestroy.call(this)},onRemove:function(u,s){var q=this,w=u.region,p=u.splitter,v=q.owner,x=v.destroying,t;if(w){if(u.isCenter){q.centerRegion=null}delete u.isCenter;delete u.isHorz;delete u.isVert;if(p&&!v.destroying){v.doRemove(p,true)}delete u.splitter}Ext.layout.container.Container.prototype.onRemove.apply(this,arguments);if(!x&&!s&&u.rendered){t=u.getEl();if(t){t.setStyle("top","");t.setStyle(q.horzPositionProp,"")}}},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:true,isHorz:false,isVert:false},north:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"top"},south:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"bottom"},west:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"left"},east:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"right"}},setupSplitterNeighbors:function(v){var F={},A=v.length,G=this.touchedRegions,y,z,E,w,B,x,H,D,C;for(y=0;y<A;++y){x=v[y].target;H=x.region;if(x.isCenter){E=x}else{if(H){C=G[H];for(z=0,w=C.length;z<w;++z){B=F[C[z]];if(B){B.neighbors.push(x)}}if(x.placeholderFor){D=x.placeholderFor.splitter}else{D=x.splitter}if(D){D.neighbors=[]}F[H]=D}}}if(E){C=G.center;for(z=0,w=C.length;z<w;++z){B=F[C[z]];if(B){B.neighbors.push(E)}}}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(p){var q=this,u=this.sizePolicies,s,t,o,v;if(p.isCenter){v=p.placeholderFor;if(v){if(v.collapsedVertical()){return u.vert}return u.horz}if(p.collapsed){if(p.collapsedVertical()){return u.vert}return u.horz}return u.flexAll}s=p.collapseTarget;if(s){return s.isVert?u.vert:u.horz}if(p.region){if(p.isVert){t=p.height;o=u.vert}else{t=p.width;o=u.horz}if(p.flex||(typeof t==="string"&&q.percentageRe.test(t))){return u.flexAll}return o}return q.autoSizePolicy}},0,0,0,0,["layout.border"],0,[Ext.layout.container,"Border",Ext.layout,"BorderLayout"],function(){var k={addUnflexed:function(e){this.flexSpace=Math.max(this.flexSpace-e,0)}},g=this.prototype.axisProps;Ext.apply(g.horz,k);Ext.apply(g.vert,k)}));(Ext.cmd.derive("Ext.layout.container.Card",Ext.layout.container.Fit,{alternateClassName:"Ext.layout.CardLayout",type:"card",hideInactive:true,deferredRender:false,getRenderTree:function(){var k=this,g=k.getActiveItem();if(g){if(g.hasListeners.beforeactivate&&g.fireEvent("beforeactivate",g)===false){g=k.activeItem=k.owner.activeItem=null}else{if(g.hasListeners.activate){g.on({boxready:function(){g.fireEvent("activate",g)},single:true})}}if(k.deferredRender){if(g){return k.getItemsRenderTree([g])}}else{return Ext.layout.container.Fit.prototype.getRenderTree.apply(this,arguments)}}},renderChildren:function(){var k=this,g=k.getActiveItem();if(!k.deferredRender){Ext.layout.container.Fit.prototype.renderChildren.call(this)}else{if(g){k.renderItems([g],k.getRenderTarget())}}},isValidParent:function(m,l,o){var n=m.el?m.el.dom:Ext.getDom(m);return(n&&n.parentNode===(l.dom||l))||false},getActiveItem:function(){var k=this,l=k.activeItem===undefined?(k.owner&&k.owner.activeItem):k.activeItem,m=k.parseActiveItem(l);if(m&&k.owner.items.indexOf(m)!==-1){k.activeItem=m}return m==null?null:(k.activeItem||k.owner.activeItem)},parseActiveItem:function(k){var g;if(k&&k.isComponent){g=k}else{if(typeof k==="number"||k===undefined){g=this.getLayoutItems()[k||0]}else{if(k===null){g=null}else{g=this.owner.getComponent(k)}}}return g},configureItem:function(f){f.setHiddenState(f!==this.getActiveItem());Ext.layout.container.Fit.prototype.configureItem.apply(this,arguments)},onAdd:function(k,g){Ext.layout.container.Fit.prototype.onAdd.call(this,k,g);this.setItemHideMode(k)},onRemove:function(k){var g=this;Ext.layout.container.Fit.prototype.onRemove.call(this,k);g.resetItemHideMode(k);if(k===g.activeItem){g.activeItem=undefined}},getAnimation:function(l,m){var k=(l||{}).cardSwitchAnimation;if(k===false){return false}return k||m.cardSwitchAnimation},getNext:function(){var k=arguments[0],m=this.getLayoutItems(),l=Ext.Array.indexOf(m,this.activeItem);return m[l+1]||(k?m[0]:false)},next:function(){var g=arguments[0],k=arguments[1];return this.setActiveItem(this.getNext(k),g)},getPrev:function(){var k=arguments[0],m=this.getLayoutItems(),l=Ext.Array.indexOf(m,this.activeItem);return m[l-1]||(k?m[m.length-1]:false)},prev:function(){var g=arguments[0],k=arguments[1];return this.setActiveItem(this.getPrev(k),g)},setActiveItem:function(t){var p=this,u=p.owner,q=p.activeItem,v=u.rendered,s,o;t=p.parseActiveItem(t);s=u.items.indexOf(t);if(s===-1){s=u.items.items.length;Ext.suspendLayouts();t=u.add(t);Ext.resumeLayouts()}if(t&&q!==t){if(t.fireEvent("beforeactivate",t,q)===false){return false}if(q&&q.fireEvent("beforedeactivate",q,t)===false){return false}if(v){Ext.suspendLayouts();if(!t.rendered){p.renderItem(t,p.getRenderTarget(),u.items.length)}if(q){if(p.hideInactive){o=q.el.contains(Ext.Element.getActiveElement());q.hide();if(q.hidden){q.hiddenByLayout=true;q.fireEvent("deactivate",q,t)}else{return false}}}if(t.hidden){t.show()}if(t.hidden){p.activeItem=t=null}else{p.activeItem=t;if(o){if(!t.defaultFocus){t.defaultFocus=":focusable"}t.focus()}}Ext.resumeLayouts(true)}else{p.activeItem=t}t.fireEvent("activate",t,q);return p.activeItem}return false},resetItemHideMode:function(f){f.hideMode=f.originalHideMode;delete f.originalHideMode},setItemHideMode:function(f){f.originalHideMode=f.hideMode;f.hideMode="offsets"}},0,0,0,0,["layout.card"],0,[Ext.layout.container,"Card",Ext.layout,"CardLayout"],0));(Ext.cmd.derive("Ext.menu.DatePicker",Ext.menu.Menu,{ariaRole:"dialog",ariaLabel:"Date picker",hideOnClick:true,pickerId:null,enableFocusableContainer:false,initComponent:function(){var k=this,m,l;if(k.pickerCfg){l=Ext.apply({cls:"x-menu-date-item",margin:0,border:false,id:k.pickerId,xtype:"datepicker"},k.pickerCfg)}else{m=Ext.apply({},k.initialConfig);delete m.listeners;l=Ext.applyIf({cls:"x-menu-date-item",margin:0,border:false,id:k.pickerId,xtype:"datepicker"},m)}Ext.apply(k,{showSeparator:false,plain:true,bodyPadding:0,items:[l]});Ext.menu.Menu.prototype.initComponent.call(this);k.picker=k.down("datepicker");k.relayEvents(k.picker,["select"]);if(k.hideOnClick){k.on("select",k.hidePickerOnSelect,k)}},onEscapeKey:function(e){if(this.floating&&this.ownerCmp&&this.ownerCmp.focus){this.ownerCmp.focus()}},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}},0,["datemenu"],["component","box","container","panel","menu","datemenu"],{component:true,box:true,container:true,panel:true,menu:true,datemenu:true},["widget.datemenu"],0,[Ext.menu,"DatePicker"],0));(Ext.cmd.derive("Ext.plugin.Manager",Ext.Base,{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:true,typeName:"ptype",create:function(p,m,n){var q,o;if(p.init){q=p}else{if(n){p=Ext.apply({},p);p.cmp=n}else{n=p.cmp}if(p.xclass){q=Ext.create(p)}else{o="plugin."+(p.ptype||m);q=Ext.ClassManager.instantiateByAlias(o,p)}}if(q&&n&&q.setCmp&&!q.setCmpCalled){q.setCmp(n);q.setCmpCalled=true}return q}},0,0,0,0,0,0,[Ext.plugin,"Manager",Ext,"PluginManager",Ext,"PluginMgr"],0));(Ext.cmd.derive("Ext.resizer.BorderSplitterTracker",Ext.resizer.SplitterTracker,{getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var L=this,ad=L.splitter,M=ad.collapseTarget,aa=ad.defaultSplitMin,X=ad.vertical?"Width":"Height",ab="min"+X,T="max"+X,W="get"+X,U=ad.neighbors,Z=U.length,O=M.el.getBox(),Y=O.x,K=O.y,N=O.right,V=O.bottom,I=ad.vertical?(N-Y):(V-K),Q,S,H,P,R,G,J,ac;P=(M[ab]||Math.min(I,aa))-I;R=M[T];if(!R){R=1000000000}else{R-=I}ac=I;for(Q=0;Q<Z;++Q){S=U[Q];I=S[W]();H=S[T];if(H===null){H=undefined}G=I-H;J=I-(S[ab]||Math.min(I,aa));if(!isNaN(G)){if(P<G){P=G}}if(R>J){R=J}}if(R-P<2){return null}O=new Ext.util.Region(K,N,V,Y);L.constraintAdjusters[L.getCollapseDirection()](O,P,R,ad);L.dragInfo={minRange:P,maxRange:R,targetSize:ac};return O},constraintAdjusters:{left:function(m,o,n,l){m[0]=m.x=m.left=m.right+o;m.right+=n+l.getWidth()},top:function(m,o,n,l){m[1]=m.y=m.top=m.bottom+o;m.bottom+=n+l.getHeight()},bottom:function(m,o,n,l){m.bottom=m.top-o;m.top-=n+l.getHeight()},right:function(m,o,n,l){m.right=m.left-o;m[0]=m.x=m.left=m.x-n+l.getWidth()}},onBeforeStart:function(v){var e=this,x=e.splitter,q=x.collapseTarget,t=x.neighbors,s=t.length,u,w;if(q.collapsed){return false}for(u=0;u<s;++u){w=t[u];if(w.collapsed&&w.isHorz===q.isHorz){return false}}if(!(e.constrainTo=e.calculateConstrainRegion())){return false}return true},performResize:function(t,u){var e=this,z=e.splitter,v=z.getCollapseDirection(),A=z.collapseTarget,w=e.splitAdjusters[z.vertical?"horz":"vert"],B=u[w.index],x=e.dragInfo,y;if(v==="right"||v==="bottom"){B=-B}B=Math.min(Math.max(x.minRange,B),x.maxRange);if(B){(y=z.ownerCt).suspendLayouts();w.adjustTarget(A,x.targetSize,B);y.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(l,m,k){l.flex=null;l.setSize(m+k)}},vert:{index:1,adjustTarget:function(l,m,k){l.flex=null;l.setSize(undefined,m+k)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}},0,0,0,0,0,0,[Ext.resizer,"BorderSplitterTracker"],0));(Ext.cmd.derive("Ext.resizer.ResizeTracker",Ext.dd.DragTracker,{dynamic:true,preserveRatio:false,preventDefault:false,constrainTo:null,proxyCls:"x-resizable-proxy",constructor:function(p){var n=this,o,q,m;if(!p.el){if(p.target.isComponent){n.el=p.target.getEl()}else{n.el=p.target}}Ext.dd.DragTracker.prototype.constructor.apply(this,arguments);if(n.preserveRatio&&n.minWidth&&n.minHeight){o=n.minWidth/n.el.getWidth();q=n.minHeight/n.el.getHeight();if(q>o){n.minWidth=n.el.getWidth()*q}else{n.minHeight=n.el.getHeight()*o}}if(n.throttle){m=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(n,arguments)},n.throttle);n.resize=function(g,f,e){if(e){Ext.resizer.ResizeTracker.prototype.resize.apply(n,arguments)}else{m.apply(null,arguments)}}}},onBeforeStart:function(e){this.startBox=this.target.getBox()},getProxy:function(){var f=this;if(!f.dynamic&&!f.proxy){f.proxy=f.createProxy(f.target||f.el);f.hideProxy=true}if(f.proxy){f.proxy.show();return f.proxy}},createProxy:function(k){var l,m=this.proxyCls;if(k.isComponent){l=k.getProxy().addCls(m)}else{l=k.createProxy({tag:"div",role:"presentation",cls:m,id:k.id+"-rzproxy"},Ext.getBody())}l.removeCls("x-proxy-el");return l},onStart:function(e){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox)}},onMouseDown:function(e,k){Ext.dd.DragTracker.prototype.onMouseDown.call(this,e,k);Ext.dom.Element.maskIframes()},onMouseUp:function(e){Ext.dd.DragTracker.prototype.onMouseUp.call(this,e);Ext.dom.Element.unmaskIframes()},onDrag:function(e){if(this.dynamic||this.proxy){this.updateDimensions(e)}},updateDimensions:function(D,H){var C=this,R=C.activeResizeHandle.region,P=C.getOffset(C.constrainTo?"dragTarget":null),K=C.startBox,O,F=0,e=0,M,E,T=0,J=0,L,N,S,Q,G,I;R=C.convertRegionName(R);switch(R){case"south":e=P[1];S=2;break;case"north":e=-P[1];J=-e;S=2;break;case"east":F=P[0];S=1;break;case"west":F=-P[0];T=-F;S=1;break;case"northeast":e=-P[1];J=-e;F=P[0];N=[K.x,K.y+K.height];S=3;break;case"southeast":e=P[1];F=P[0];N=[K.x,K.y];S=3;break;case"southwest":F=-P[0];T=-F;e=P[1];N=[K.x+K.width,K.y];S=3;break;case"northwest":e=-P[1];J=-e;F=-P[0];T=-F;N=[K.x+K.width,K.y+K.height];S=3;break}Q={width:K.width+F,height:K.height+e,x:K.x+T,y:K.y+J};M=Ext.Number.snap(Q.width,C.widthIncrement);E=Ext.Number.snap(Q.height,C.heightIncrement);if(M!==Q.width||E!==Q.height){switch(R){case"northeast":Q.y-=E-Q.height;break;case"north":Q.y-=E-Q.height;break;case"southwest":Q.x-=M-Q.width;break;case"west":Q.x-=M-Q.width;break;case"northwest":Q.x-=M-Q.width;Q.y-=E-Q.height}Q.width=M;Q.height=E}if(Q.width<C.minWidth||Q.width>C.maxWidth){Q.width=Ext.Number.constrain(Q.width,C.minWidth,C.maxWidth);if(T){Q.x=K.x+(K.width-Q.width)}}else{C.lastX=Q.x}if(Q.height<C.minHeight||Q.height>C.maxHeight){Q.height=Ext.Number.constrain(Q.height,C.minHeight,C.maxHeight);if(J){Q.y=K.y+(K.height-Q.height)}}else{C.lastY=Q.y}if(C.preserveRatio||D.shiftKey){O=C.startBox.width/C.startBox.height;G=Math.min(Math.max(C.minHeight,Q.width/O),C.maxHeight);I=Math.min(Math.max(C.minWidth,Q.height*O),C.maxWidth);if(S===1){Q.height=G}else{if(S===2){Q.width=I}else{L=Math.abs(N[0]-this.lastXY[0])/Math.abs(N[1]-this.lastXY[1]);if(L>O){Q.height=G}else{Q.width=I}if(R==="northeast"){Q.y=K.y-(Q.height-K.height)}else{if(R==="northwest"){Q.y=K.y-(Q.height-K.height);Q.x=K.x-(Q.width-K.width)}else{if(R==="southwest"){Q.x=K.x-(Q.width-K.width)}}}}}}C.setPosition=Q.x!==C.startBox.x||Q.y!==C.startBox.y;C.resize(Q,H)},resize:function(n,q){var o=this,m,p=o.setPosition;if(o.dynamic||(!o.dynamic&&q)){if(p){o.target.setBox(n)}else{o.target.setSize(n.width,n.height)}}if(!q){m=o.getProxy();if(m&&m!==o.target){if(p||o.hideProxy){m.setBox(n)}else{m.setSize(n.width,n.height)}}}},onEnd:function(e){this.updateDimensions(e,true);if(this.proxy&&this.hideProxy){this.proxy.hide()}},convertRegionName:function(f){return f}},1,0,0,0,0,0,[Ext.resizer,"ResizeTracker"],0));(Ext.cmd.derive("Ext.resizer.Resizer",Ext.Base,{alternateClassName:"Ext.Resizable",handleCls:"x-resizable-handle",overCls:"x-resizable-handle-over",pinnedCls:"x-resizable-pinned",wrapCls:"x-resizable-wrap",wrappedCls:"x-resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},touchActionMap:{n:{panY:false},s:{panY:false},e:{panX:false},w:{panX:false},se:{panX:false,panY:false},sw:{panX:false,panY:false},nw:{panX:false,panY:false},ne:{panX:false,panY:false}},ariaRole:"presentation",constructor:function(C){var B=this,H=Ext.dom.Element.unselectableCls,G=[],L,I,Q,A,E,F,M,K,D,R,J,P,O,N;if(Ext.isString(C)||Ext.isElement(C)||C.dom){L=C;C=arguments[1]||{};C.target=L}B.mixins.observable.constructor.call(B,C);L=B.target;if(L){if(L.isComponent){L.addClsWithUI("resizable");if(L.minWidth){B.minWidth=L.minWidth}if(L.minHeight){B.minHeight=L.minHeight}if(L.maxWidth){B.maxWidth=L.maxWidth}if(L.maxHeight){B.maxHeight=L.maxHeight}if(L.floating){if(!B.hasOwnProperty("handles")){B.handles="n ne e se s sw w nw"}}B.el=L.getEl()}else{L=B.el=B.target=Ext.get(L)}}else{L=B.target=B.el=Ext.get(B.el)}B.el.addCls(Ext.Component.prototype.borderBoxCls);if(Ext.isNumber(B.width)){B.width=Ext.Number.constrain(B.width,B.minWidth,B.maxWidth)}if(Ext.isNumber(B.height)){B.height=Ext.Number.constrain(B.height,B.minHeight,B.maxHeight)}if(B.width!==null||B.height!==null){B.target.setSize(B.width,B.height)}A=B.el.dom.tagName.toUpperCase();if(A==="TEXTAREA"||A==="IMG"||A==="TABLE"){B.originalTarget=B.target;P=L.isComponent?L.getEl():L;B.el.addCls(B.wrappedCls);B.target=B.el=B.el.wrap({role:"presentation",cls:B.wrapCls,id:B.el.id+"-rzwrap",style:P.getStyle(["margin-top","margin-bottom"])});O=P.getPositioning();B.el.setPositioning(O);P.clearPositioning();K=P.getBox();if(O.position!=="absolute"){K.x=0;K.y=0}B.el.setBox(K);P.setStyle("position","absolute");B.isTargetWrapped=true}B.el.position();if(B.pinned){B.el.addCls(B.pinnedCls)}B.resizeTracker=new Ext.resizer.ResizeTracker({disabled:B.disabled,target:L,el:B.el,constrainTo:B.constrainTo,handleCls:B.handleCls,overCls:B.overCls,throttle:B.throttle,proxy:B.originalTarget?B.el:null,dynamic:B.originalTarget?true:B.dynamic,originalTarget:B.originalTarget,delegate:"."+B.handleCls,preserveRatio:B.preserveRatio,heightIncrement:B.heightIncrement,widthIncrement:B.widthIncrement,minHeight:B.minHeight,maxHeight:B.maxHeight,minWidth:B.minWidth,maxWidth:B.maxWidth});B.resizeTracker.on({mousedown:B.onBeforeResize,drag:B.onResize,dragend:B.onResizeEnd,scope:B});if(B.handles==="all"){B.handles="n s e w ne nw se sw"}R=B.handles=B.handles.split(B.delimiterRe);Q=B.possiblePositions;E=R.length;I=B.handleCls+" "+B.handleCls+"-{0}";if(B.target.isComponent){N=B.target.baseCls;I+=" "+N+"-handle "+N+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){I+=" "+N+"-handle-{0}-br"}}for(F=0;F<E;F++){D=R[F];if(D&&Q[D]){M=Q[D];J=B[M]=B.el.createChild({id:B.el.id+"-"+M+"-handle",cls:Ext.String.format(I,M)+" "+H,unselectable:"on",role:"presentation"});J.region=M;if(B.transparent){J.setOpacity(0)}J.setTouchAction(B.touchActionMap[D]);G.push(J)}}B.resizeTracker.handleEls=G},disable:function(){this.disabled=true;this.resizeTracker.disable()},enable:function(){this.disabled=false;this.resizeTracker.enable()},onBeforeResize:function(k,e){return this.fireResizeEvent("beforeresize",k,e)},onResize:function(k,e){return this.fireResizeEvent("resizedrag",k,e)},onResizeEnd:function(k,e){return this.fireResizeEvent("resize",k,e)},fireResizeEvent:function(q,n,e){var o=this,p;if(o.hasListeners[q]){p=o.el.getBox();return o.fireEvent(q,o,p.width,p.height,e)}},resizeTo:function(l,m){var k=this;k.target.setSize(l,m);k.fireEvent("resize",k,l,m,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var p=this,q=p.handles,u=q.length,t=p.possiblePositions,o,v,s;p.resizeTracker.destroy();if(p.isTargetWrapped){p.target.destroy()}for(s=0;s<u;s++){v=t[q[s]];if((o=p[v])){o.destroy();p[v]=null}}p.callParent()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.resizer,"Resizer",Ext,"Resizable"],0));(Ext.cmd.derive("Ext.selection.CellModel",Ext.selection.DataViewModel,{isCellModel:true,deselectOnContainerClick:false,enableKeyNav:true,preventWrap:false,bindComponent:function(m){var k=this,l;if(k.view&&k.gridListeners){k.gridListeners.destroy()}Ext.selection.DataViewModel.prototype.bindComponent.call(this,m);if(m){l=m.grid||m.ownerCt;if(l.optimizedColumnMove!==false){k.gridListeners=l.on({columnmove:k.onColumnMove,scope:k,destroyable:true})}}},getViewListeners:function(){var f=Ext.selection.DataViewModel.prototype.getViewListeners.call(this);f.refresh=this.onViewRefresh;return f},getHeaderCt:function(){var g=this.navigationModel.getPosition(),k=g?g.view:this.primaryView;return k.headerCt},onNavigate:function(e){if(!e.record||e.keyEvent.stopSelection){return}this.setPosition(e.position)},selectWithEvent:function(k,e){this.select(k)},select:function(v,p,t){var q=this,o,s=q.getPosition(),u=q.view.store;if(v||v===0){if(v.isModel){o=u.indexOf(v);if(o!==-1){v={row:o,column:s?s.column:0}}else{v=null}}else{if(typeof v==="number"){v={row:v,column:0}}}}if(v){q.selectByPosition(v,t)}else{q.deselect()}},getCurrentPosition:function(){var f=this.selecting?this.nextSelection:this.selection;return f?{view:f.view,record:f.record,row:f.rowIdx,columnHeader:f.column,column:f.view.getColumnManager().indexOf(f.column)}:f},getPosition:function(){return(this.selecting?this.nextSelection:this.selection)||null},setCurrentPosition:function(k,m,l){if(k&&!k.isCellContext){k=new Ext.grid.CellContext(this.view).setPosition({row:k.row,column:typeof k.column==="number"?this.view.getColumnManager().getColumns()[k.column]:k.column})}return this.setPosition(k,m,l)},setPosition:function(m,q,n){var o=this,p=o.selection;if(m){m=m.isCellContext?m.clone():new Ext.grid.CellContext(o.view).setPosition(m)}if(!n&&p){if(m&&(m.record===p.record&&m.column===p.column&&m.view===p.view)){m=null}else{o.onCellDeselect(o.selection,q)}}if(m){o.nextSelection=m;o.selecting=true;o.onCellSelect(o.nextSelection,q);o.selecting=false;return(o.selection=m)}},isCellSelected:function(t,o,q){var p=this,s,n=p.getPosition();if(n&&n.view===t){s=new Ext.grid.CellContext(t).setPosition({row:o,column:typeof q==="number"?t.getColumnManager().getColumns()[q]:q});return(s.record===n.record)&&(s.column===n.column)}},onStoreRemove:function(p,q,n){var o=this,m=o.getPosition();Ext.selection.DataViewModel.prototype.onStoreRemove.apply(this,arguments);if(m&&p.isMoving(m.record)){return}if(m&&p.getCount()&&p.indexOf(m.record)!==-1){m.setRow(m.record)}else{o.selection=null}},onStoreClear:function(){Ext.selection.DataViewModel.prototype.onStoreClear.apply(this,arguments);this.selection=null},onStoreAdd:function(){var k=this,g=k.getPosition();Ext.selection.DataViewModel.prototype.onStoreAdd.apply(this,arguments);if(g){g.setRow(g.record)}else{k.selection=null}},updateSelectedInstances:function(m){var k=this.getPosition(),l=m.getAt(0);if(l&&k&&k.record.id===l.id){k.setRow(l)}Ext.selection.DataViewModel.prototype.updateSelectedInstances.call(this,m)},onCellClick:function(q,t,e,s,u,p,v){if(p!==-1){this.setPosition(v.position)}},onCellSelect:function(k,g){if(k&&k.rowIdx!==undefined&&k.rowIdx>-1){this.doSelect(k.record,false,g)}},onCellDeselect:function(k,g){if(k&&k.rowIdx!==undefined){this.doDeselect(k.record,g)}},onSelectChange:function(u,q,s,x){var p=this,w,t,v;if(q){w=p.nextSelection;t="select"}else{w=p.selection;t="deselect"}v=w.view||p.primaryView;if((s||p.fireEvent("before"+t,p,u,w.rowIdx,w.colIdx))!==false&&x()!==false){if(q){v.onCellSelect(w)}else{v.onCellDeselect(w);delete p.selection}if(!s){p.fireEvent(t,p,u,w.rowIdx,w.colIdx)}}},refresh:function(){var g=this.getPosition(),k;if(g&&(k=this.store.indexOf(this.selected.last()))!==-1){g.rowIdx=k}},onColumnMove:function(n,m,p,o){var q=n.up("tablepanel");if(q){this.onViewRefresh(q.view)}},onUpdate:function(m){var l=this,k;if(l.isSelected(m)){k=l.selecting?l.nextSelection:l.selection;l.view.onCellSelect(k)}},onViewRefresh:function(t){var p=this,v=p.getPosition(),s,o=t.headerCt,u,q;if(v&&v.view===t){u=v.record;q=t.getColumnByPosition(v);if(!q.isDescendantOf(o)){q=o.queryById(q.id)||o.down('[text="'+q.text+'"]')||o.down('[dataIndex="'+q.dataIndex+'"]')}if(v.record){if(q&&(t.store.indexOfId(u.getId())!==-1)){s=new Ext.grid.CellContext(t).setPosition({row:u,column:q});p.setPosition(s)}}else{p.selection=null}}},selectByPosition:function(k,g){this.setPosition(k,g)}},0,0,0,0,["selection.cellmodel"],0,[Ext.selection,"CellModel"],0));(Ext.cmd.derive("Ext.selection.RowModel",Ext.selection.DataViewModel,{enableKeyNav:true,isRowModel:true,deselectOnContainerClick:false,onUpdate:function(n){var l=this,o=l.view,m;if(o&&l.isSelected(n)){m=o.indexOf(n);o.onRowSelect(m);if(n===l.lastFocused){o.onRowFocus(m,true)}}},onSelectChange:function(x,B,t,C){var v=this,D=v.views||[v.view],A=D.length,z=v.store.indexOf(x),w=B?"select":"deselect",y,u;if((t||v.fireEvent("before"+w,v,x,z))!==false&&C()!==false){for(y=0;y<A;y++){u=D[y];z=u.indexOf(x);if(u.indexOf(x)!==-1){if(B){u.onRowSelect(z,t)}else{u.onRowDeselect(z,t)}}}if(!t){v.fireEvent(w,v,x,z)}}},getCurrentPosition:function(){var f=this.selected.getAt(0);if(f){return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(f),0)}},selectByPosition:function(k,g){if(!k.isCellContext){k=new Ext.grid.CellContext(this.view).setPosition(k.row,k.column)}this.select(k.record,g)},selectNext:function(x,t){var p=this,u=p.store,q=p.getSelection(),v=q[q.length-1],s=p.view.indexOf(v)+1,w;if(s===u.getCount()||s===0){w=false}else{p.doSelect(s,x,t);w=true}return w},selectPrevious:function(o,t){var p=this,q=p.getSelection(),u=q[0],s=p.view.indexOf(u)-1,v;if(s<0){v=false}else{p.doSelect(s,o,t);v=true}return v},isRowSelected:function(f){return this.isSelected(f)},isCellSelected:function(l,m,k){return this.isSelected(m)},vetoSelection:function(m){var n=this.view.getNavigationModel(),o=m.getKey(),e=o===m.RIGHT||o===m.LEFT;return(e&&n.previousRecord===n.record)||Ext.selection.DataViewModel.prototype.vetoSelection.call(this,m)}},0,0,0,0,["selection.rowmodel"],0,[Ext.selection,"RowModel"],0));(Ext.cmd.derive("Ext.selection.CheckboxModel",Ext.selection.RowModel,{mode:"MULTI",injectCheckbox:0,checkOnly:false,showHeaderCheckbox:undefined,headerText:undefined,headerAriaLabel:"Row selector",headerSelectText:"Press Space to select all rows",headerDeselectText:"Press Space to deselect all rows",rowSelectText:"Press Space to select this row",rowDeselectText:"Press Space to deselect this row",allowDeselect:true,headerWidth:24,checkerOnCls:"x-grid-hd-checker-on",tdCls:"x-grid-cell-special x-selmodel-column",constructor:function(){var f=this;Ext.selection.RowModel.prototype.constructor.apply(this,arguments);if(f.mode==="SINGLE"){f.showHeaderCheckbox=false}},beforeViewRender:function(n){var m=this,o,l=n.grid.ownerLockable;Ext.selection.RowModel.prototype.beforeViewRender.apply(this,arguments);if(m.injectCheckbox!==false){if(l&&!m.lockListeners){m.lockListeners=l.mon(l,{lockcolumn:m.onColumnLock,unlockcolumn:m.onColumnUnlock,scope:m,destroyable:true})}if(!l||(n.isLockedView&&m.hasLockedHeader())||(n.isNormalView&&!m.column)){m.addCheckbox(n);o=n.ownerCt;if(n.headerCt.lockedCt){o=o.ownerCt}m.mon(n.ownerGrid,{beforereconfigure:m.onBeforeReconfigure,reconfigure:m.onReconfigure,scope:m})}}},onColumnUnlock:function(o,q){var p=this,n=p.injectCheckbox,m=o.lockedGrid.visibleColumnManager.getColumns();if(m.length===1&&m[0]===p.column){if(n==="first"){n=0}else{if(n==="last"){n=o.normalGrid.visibleColumnManager.getColumns().length}}o.unlock(p.column,n)}},onColumnLock:function(o,q){var p=this,n=p.injectCheckbox,m=o.lockedGrid.visibleColumnManager.getColumns();if(m.length===1){if(n==="first"){n=0}else{if(n==="last"){n=o.lockedGrid.visibleColumnManager.getColumns().length}}o.lock(p.column,n)}},bindComponent:function(f){this.sortable=false;Ext.selection.RowModel.prototype.bindComponent.apply(this,arguments)},hasLockedHeader:function(){var k=this.view.ownerGrid.getVisibleColumnManager().getColumns(),m=k.length,l;for(l=0;l<m;l++){if(k[l].locked){return true}}return false},addCheckbox:function(n){var m=this,o=m.injectCheckbox,l=n.headerCt;if(o!==false){if(o==="first"){o=0}else{if(o==="last"){o=l.getColumnCount()}}Ext.suspendLayouts();if(n.getStore().isBufferedStore){m.showHeaderCheckbox=false}m.column=l.add(o,m.column||m.getHeaderConfig());Ext.resumeLayouts()}},onBeforeReconfigure:function(q,u,s,v,t){var p=this.column,o=p.ownerCt;if(s&&o){o.remove(p,false)}},onReconfigure:function(m,o,n){var l=this;if(n){if(m.lockable){if(m.lockedGrid.isVisible()){m.lock(l.column,0)}else{m.unlock(l.column,0)}}else{l.addCheckbox(l.view)}m.view.refreshView()}},onHeaderClick:function(B,w,e){var F=this,D=F.store,y=F.column,z,A,x,v,C,E;if(F.showHeaderCheckbox!==false&&w===F.column&&F.mode!=="SINGLE"){e.stopEvent();z=w.el.hasCls("x-grid-hd-checker-on");if(z){A=[];C=this.getSelection();for(x=0,v=C.length;x<v;++x){E=C[x];if(D.indexOf(E)>-1){A.push(E)}}if(A.length>0){F.deselect(A)}}else{F.selectAll()}}},getHeaderConfig:function(){var n=this,l=n.showHeaderCheckbox!==false,m=Ext.String.htmlEncode,o;o={xtype:"checkcolumn",headerCheckbox:l,isCheckerHd:l,ignoreExport:true,text:n.headerText,width:n.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,checkOnly:n.checkOnly,checkboxAriaRole:"presentation",tdCls:n.tdCls,cls:"x-selmodel-column",editRenderer:n.editRenderer||n.renderEmpty,locked:n.hasLockedHeader(),processEvent:n.processColumnEvent,toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:n.isRowSelected.bind(n)};if(!n.checkOnly){o.tabIndex=undefined;o.ariaRole="presentation";o.focusable=false;o.cellFocusable=false}else{o.useAriaElements=true;o.ariaLabel=m(n.headerAriaLabel);o.headerSelectText=m(n.headerSelectText);o.headerDeselectText=m(n.headerDeselectText);o.rowSelectText=m(n.rowSelectText);o.rowDeselectText=m(n.rowDeselectText)}return o},processColumnEvent:function(v,t,s,y,u,w,x,e){var z=t.getNavigationModel();if((w.type==="keydown"&&t.actionableMode&&w.getKey()===w.SPACE)||(!this.checkOnly&&w.type===this.triggerEvent)){z.fireEvent("navigate",{view:t,navigationModel:z,keyEvent:w,position:w.position,recordIndex:y,record:x,item:w.item,cell:w.position.cellElement,columnIndex:w.position.colIdx,column:w.position.column})}},toggleRecord:function(n,m,l,o){this[l?"select":"deselect"]([n],this.mode!=="SINGLE")},renderEmpty:function(){return"&#160;"},refresh:function(){Ext.selection.RowModel.prototype.refresh.apply(this,arguments);this.updateHeaderState()},selectByPosition:function(k,g){if(!k.isCellContext){k=new Ext.grid.CellContext(this.view).setPosition(k.row,k.column)}if(!this.checkOnly||k.column===this.column){Ext.selection.RowModel.prototype.selectByPosition.call(this,k,g)}},onSelectChange:function(o,m){var l=this,n;Ext.selection.RowModel.prototype.onSelectChange.apply(this,arguments);if(l.column){l.column.updateCellAriaDescription(o,m)}if(!l.suspendChange){l.updateHeaderState()}},onStoreLoad:function(){Ext.selection.RowModel.prototype.onStoreLoad.apply(this,arguments);this.updateHeaderState()},onStoreAdd:function(){Ext.selection.RowModel.prototype.onStoreAdd.apply(this,arguments);this.updateHeaderState()},onStoreRemove:function(){Ext.selection.RowModel.prototype.onStoreRemove.apply(this,arguments);this.updateHeaderState()},onStoreRefresh:function(){Ext.selection.RowModel.prototype.onStoreRefresh.apply(this,arguments);this.updateHeaderState()},maybeFireSelectionChange:function(f){if(f&&!this.suspendChange){this.updateHeaderState()}Ext.selection.RowModel.prototype.maybeFireSelectionChange.apply(this,arguments)},resumeChanges:function(){Ext.selection.RowModel.prototype.resumeChanges.call(this);if(!this.suspendChange){this.updateHeaderState()}},updateHeaderState:function(){var u=this,t=u.store,v=t.getCount(),s=u.views,q=false,z=0,y,w,x;if(!t.isBufferedStore&&v>0){y=u.selected;q=true;for(x=0,w=y.getCount();x<w;++x){if(t.indexOfId(y.getAt(x).id)>-1){++z}}q=v===z}if(s&&s.length){u.column.setHeaderStatus(q)}},vetoSelection:function(e){var p=this,q=p.column,s,o,t;if(p.checkOnly){o=e.type===q.triggerEvent&&e.getTarget(p.column.getCellSelector());t=e.getKey()===e.SPACE&&e.position.column===q;s=!(o||t)}return s||Ext.selection.RowModel.prototype.vetoSelection.call(this,e)},privates:{onBeforeNavigate:function(k){var e=k.keyEvent;if(this.selectionMode!=="SINGLE"){k.ctrlKey=k.ctrlKey||e.ctrlKey||(e.type===this.column.triggerEvent&&!e.shiftKey)||e.getKey()===e.SPACE}},selectWithEventMulti:function(o,e,n){var m=this;if(!e.shiftKey&&!e.ctrlKey&&e.getTarget(m.column.getCellSelector())){if(n){m.doDeselect(o)}else{m.doSelect(o,true)}}else{Ext.selection.RowModel.prototype.selectWithEventMulti.call(this,o,e,n)}}}},1,0,0,0,["selection.checkboxmodel"],0,[Ext.selection,"CheckboxModel"],function(f){f.prototype.checkSelector="."+Ext.grid.column.Check.prototype.checkboxCls}));Ext.define("Ext.theme.triton.selection.CheckboxModel",{override:"Ext.selection.CheckboxModel",headerWidth:32,onHeaderClick:function(l,e,m){(arguments.callee.$previous||Ext.selection.RowModel.prototype.onHeaderClick).call(this,l,e,m);if(Ext.isIE8){e.getView().ownerGrid.el.syncRepaint()}}});(Ext.cmd.derive("Ext.selection.TreeModel",Ext.selection.RowModel,{selectOnExpanderClick:false,constructor:function(k){var g=this;Ext.selection.RowModel.prototype.constructor.call(this,k);if(g.pruneRemoved){g.pruneRemoved=false;g.pruneRemovedNodes=true}},getStoreListeners:function(){var g=this,k=Ext.selection.RowModel.prototype.getStoreListeners.call(this);k.noderemove=g.onNodeRemove;return k},onNodeRemove:function(m,l,o){if(!o){var n=[];this.gatherSelected(l,n);if(n.length){this.deselect(n)}}},pruneRemovedOnRefresh:function(){return this.pruneRemovedNodes},vetoSelection:function(e){var m=this.view,n=this.selectOnExpanderClick,o=!n&&e.type==="click"&&e.getTarget(m.expanderSelector||(m.lockingPartner&&m.lockingPartner.expanderSelector));return o||Ext.selection.RowModel.prototype.vetoSelection.call(this,e)},privates:{gatherSelected:function(p,q){var o=p.childNodes,s,t,n;if(this.selected.containsKey(p.id)){q.push(p)}if(o){for(s=0,t=o.length;s<t;++s){n=o[s];this.gatherSelected(n,q)}}}}},1,0,0,0,["selection.treemodel"],0,[Ext.selection,"TreeModel"],0));(Ext.cmd.derive("Ext.slider.Thumb",Ext.Base,{overCls:"x-slider-thumb-over",constructor:function(k){var g=this;Ext.apply(g,k||{},{cls:"x-slider-thumb",constrain:false});g.callParent([k])},render:function(){var f=this;f.el=f.slider.innerEl.insertFirst(f.getElConfig());f.onRender()},onRender:function(){var l=this,m=l.slider.vertical?"panY":"panX",k={};k[m]=false;l.el.setTouchAction(k);if(l.disabled){l.disable()}l.initEvents()},getElConfig:function(){var k=this,l=k.slider,m={};m[l.vertical?"bottom":l.horizontalProp]=l.calculateThumbPosition(l.normalizeValue(k.value))+"%";return{style:m,id:k.id,cls:k.cls,role:"presentation"}},move:function(q,y){var u=this,x=u.el,z=u.slider,w=z.vertical?"bottom":z.horizontalProp,t,s,v;q+="%";if(!y){x.dom.style[w]=q}else{t={};t[w]=q;if(!Ext.supports.GetPositionPercentage){s={};s[w]=x.dom.style[w]}v={target:x,duration:350,from:s,to:t,scope:u,callback:u.onAnimComplete};if(y!==true){Ext.apply(v,y)}u.anim=new Ext.fx.Anim(v)}},onAnimComplete:function(){this.anim=null},enable:function(){var f=this.el;this.disabled=false;if(f){f.removeCls(this.slider.disabledCls)}},disable:function(){var f=this.el;this.disabled=true;if(f){f.addCls(this.slider.disabledCls)}},initEvents:function(){var f=this;f.tracker=new Ext.dd.DragTracker({el:f.el,onBeforeStart:f.onBeforeDragStart.bind(f),onStart:f.onDragStart.bind(f),onDrag:f.onDrag.bind(f),onEnd:f.onDragEnd.bind(f),tolerance:3,autoStart:300});f.el.hover(f.addOverCls,f.removeOverCls,f)},addOverCls:function(){var f=this;if(!f.disabled){f.el.addCls(f.overCls)}},removeOverCls:function(){this.el.removeCls(this.overCls)},onBeforeDragStart:function(n){var o=this,p=o.el,q=o.tracker.getXY(),e=o.pointerOffset=p.getXY();if(o.disabled){return false}else{e[0]+=Math.floor(p.getWidth()/2)-q[0];e[1]+=Math.floor(p.getHeight()/2)-q[1];o.slider.promoteThumb(o);return true}},onDragStart:function(e){var l=this,m=l.slider;m.onDragStart(l,e);l.el.addCls("x-slider-thumb-drag");l.dragging=l.slider.dragging=true;l.dragStartValue=l.value;m.fireEvent("dragstart",m,e,l)},onDrag:function(v){var p=this,q=p.slider,s=p.index,e=p.getValueFromTracker(),t,u;if(e!==undefined){if(p.constrain){t=q.thumbs[s+1];u=q.thumbs[s-1];if(u!==undefined&&e<=u.value){e=u.value}if(t!==undefined&&e>=t.value){e=t.value}}q.setValue(s,e,false);q.fireEvent("drag",q,v,p)}},getValueFromTracker:function(){var l=this.slider,m=this.tracker.getXY(),k;m[0]+=this.pointerOffset[0];m[1]+=this.pointerOffset[1];k=l.getTrackpoint(m);if(k!==undefined){return l.reversePixelValue(k)}},onDragEnd:function(e){var n=this,o=n.slider,m=n.value;o.onDragEnd(n,e);n.el.removeCls("x-slider-thumb-drag");n.dragging=o.dragging=false;o.fireEvent("dragend",o,e);if(n.dragStartValue!==m){o.fireEvent("changecomplete",o,m,n)}},destroy:function(){var k=this,g=this.anim;if(g){g.end()}k.el=k.tracker=k.anim=Ext.destroy(k.el,k.tracker);k.callParent()}},1,0,0,0,0,0,[Ext.slider,"Thumb"],0));(Ext.cmd.derive("Ext.slider.Tip",Ext.tip.Tip,{minWidth:10,offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:true,init:function(m){var n=this,l,o;if(!n.position){n.position=m.vertical?n.defaultVerticalPosition:n.defaultHorizontalPosition}switch(n.position){case"top":o=[0,-10];l="b-t?";break;case"bottom":o=[0,10];l="t-b?";break;case"left":o=[-10,0];l="r-l?";break;case"right":o=[10,0];l="l-r?"}if(!n.align){n.align=l}if(!n.offsets){n.offsets=o}m.on({scope:n,dragstart:n.onSlide,drag:n.onSlide,dragend:n.hide,destroy:n.destroy})},onSlide:function(m,e,o){var n=this;n.update(n.getText(o));n.show();n.el.alignTo(o.el,n.align,n.offsets)},getText:function(f){return String(f.value)}},0,["slidertip"],["component","box","container","panel","tip","slidertip"],{component:true,box:true,container:true,panel:true,tip:true,slidertip:true},["widget.slidertip"],0,[Ext.slider,"Tip"],0));(Ext.cmd.derive("Ext.slider.Multi",Ext.form.field.Base,{alternateClassName:"Ext.slider.MultiSlider",vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,pageSize:10,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,constrainThumbs:true,useTips:true,tipText:null,defaultBindProperty:"values",ariaRole:"slider",focusable:true,needArrowKeys:true,tabIndex:0,skipLabelForAttribute:true,focusCls:"slider-focus",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" data-ref="inputEl" {inputAttrTpl}',' class="',"x-","slider {fieldCls} {vertical}",'{childElCls}"','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',">",'<div id="{cmpId}-endEl" data-ref="endEl" class="x-slider-end" role="presentation">','<div id="{cmpId}-innerEl" data-ref="innerEl" class="x-slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(p,q){var w=q.$comp,x=0,t=w.thumbs,u=t.length,s,v;for(;x<u;x++){s=t[x];v=s.getElConfig();v.id=w.id+"-thumb-"+x;Ext.DomHelper.generateMarkup(v,p)}},disableFormats:true}],horizontalProp:"left",initValue:function(){var m=this,p=Ext.valueFrom,o=p(m.values,[p(m.value,p(m.minValue,0))]),n=0,q=o.length;m.originalValue=o;for(;n<q;n++){m.addThumb(m.normalizeValue(o[n]))}},initComponent:function(){var o=this,s=o.tipText,q,p,v,t,u;o.thumbs=[];o.keyIncrement=Math.max(o.increment,o.keyIncrement);o.extraFieldBodyCls="x-slider-ct-"+(o.vertical?"vert":"horz");Ext.form.field.Base.prototype.initComponent.call(this);if(o.useTips){q={};if(Ext.isObject(o.useTips)){Ext.apply(q,o.useTips)}else{if(s){q.getText=s}}if(typeof(s=q.getText)==="string"){q.getText=function(e){return Ext.callback(s,null,[e],0,o,o)}}u=o.plugins=o.plugins||[];t=u.length;for(v=0;v<t;v++){if(u[v].isSliderTip){p=true;break}}if(!p){o.plugins.push(new Ext.slider.Tip(q))}}},addThumb:function(k){var l=this,m=new Ext.slider.Thumb({ownerCt:l,value:k,slider:l,index:l.thumbs.length,constrain:l.constrainThumbs,disabled:!!l.readOnly});l.thumbs.push(m);if(l.rendered){m.render()}return m},promoteThumb:function(p){var q=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),n=q.length,m=10000,o;if(q[0]!==p){Ext.Array.remove(q,p);q.unshift(p)}for(o=0;o<n;o++){q[o].el.setStyle("zIndex",m);m-=1000}},getSubTplData:function(n){var m=this,l,o;l=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,n),{$comp:m,vertical:m.vertical?"x-slider-vert":"x-slider-horz",minValue:m.minValue,maxValue:m.maxValue,value:m.value,tabIdx:m.tabIndex,childElCls:""});o=l.inputElAriaAttributes;if(o){if(!o["aria-labelledby"]){o["aria-labelledby"]=m.id+"-labelEl"}o["aria-orientation"]=m.vertical?"vertical":"horizontal";o["aria-valuemin"]=m.minValue;o["aria-valuemax"]=m.maxValue;o["aria-valuenow"]=m.value}return l},onRender:function(){var m=this,p=m.thumbs,q=p.length,n=0,o;(arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).apply(this,arguments);for(n=0;n<q;n++){o=p[n];o.el=m.el.getById(m.id+"-thumb-"+n);o.onRender()}},initEvents:function(){var f=this;Ext.form.field.Base.prototype.initEvents.call(this);f.mon(f.el,{scope:f,mousedown:f.onMouseDown,keydown:f.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(v){var o=this,q=o.vertical,s=o.innerEl,t,u,p;if(q){p="top";t=s.getHeight()}else{p=o.horizontalProp;t=s.getWidth()}v=o.transformTrackPoints(s.translatePoints(v));u=Ext.Number.constrain(v[p],0,t);return q?t-u:u},transformTrackPoints:Ext.identityFn,checkChange:Ext.emptyFn,onMouseDown:function(u){var p=this,v=false,q=0,s=p.thumbs,t=s.length,e;if(p.disabled){return}for(;!v&&q<t;q++){v=v||u.target===s[q].el.dom}p.focus();if(p.clickToChange&&!v){e=p.getTrackpoint(u.getXY());if(e!==undefined){p.onClickChange(e)}}},onClickChange:function(l){var m=this,o,n;o=m.getNearest(l);if(!o.disabled){n=o.index;m.setValue(n,Ext.util.Format.round(m.reversePixelValue(l),m.decimalPrecision),undefined,true)}},getNearest:function(v){var u=this,x=u.reversePixelValue(v),t=u.getRange()+5,B=null,y=u.thumbs,A=0,z=y.length,C,D,w;for(;A<z;A++){C=u.thumbs[A];D=C.value;w=Math.abs(D-x);if(Math.abs(w)<=t){if(B&&B.value==D&&D>x&&C.index>B.index){continue}B=C;t=w}}return B},onKeyDown:function(e){var k=this,p=k.ariaEl.dom,o,q;o=e.getKey();if(k.disabled||k.thumbs.length!==1){if(o!==e.TAB){e.preventDefault()}return}switch(o){case e.UP:case e.RIGHT:q=e.ctrlKey?k.maxValue:k.getValue(0)+k.keyIncrement;break;case e.DOWN:case e.LEFT:q=e.ctrlKey?k.minValue:k.getValue(0)-k.keyIncrement;break;case e.HOME:q=k.minValue;break;case e.END:q=k.maxValue;break;case e.PAGE_UP:q=k.getValue(0)+k.pageSize;break;case e.PAGE_DOWN:q=k.getValue(0)-k.pageSize;break}if(q!==undefined){e.stopEvent();q=k.normalizeValue(q);k.setValue(0,q,undefined,true);if(p){p.setAttribute("aria-valuenow",q)}}},normalizeValue:function(l){var k=this,m=k.zeroBasedSnapping?"snap":"snapInRange";l=Ext.Number[m](l,k.increment,k.minValue,k.maxValue);l=Ext.util.Format.round(l,k.decimalPrecision);l=Ext.Number.constrain(l,k.minValue,k.maxValue);return l},setMinValue:function(v){var o=this,s=o.thumbs,t=s.length,u=o.ariaEl.dom,q,p;o.minValue=v;for(p=0;p<t;++p){q=s[p];if(q.value<v){o.setValue(p,v,false)}}if(u){u.setAttribute("aria-valuemin",v)}o.syncThumbs()},setMaxValue:function(v){var o=this,s=o.thumbs,t=s.length,u=o.ariaEl.dom,q,p;o.maxValue=v;for(p=0;p<t;++p){q=s[p];if(q.value>v){o.setValue(p,v,false)}}if(u){u.setAttribute("aria-valuemax",v)}o.syncThumbs()},setValue:function(x,t,B,z){var u=this,v=u.thumbs,w=u.ariaEl.dom,C,y,A,D;if(Ext.isArray(x)){D=x;B=t;for(A=0,y=D.length;A<y;++A){C=v[A];if(C){u.setValue(A,D[A],B)}}return u}C=u.thumbs[x];t=u.normalizeValue(t);if(t!==C.value&&u.fireEvent("beforechange",u,t,C.value,C)!==false){C.value=t;if(u.rendered){if(Ext.isDefined(B)){B=B===false?false:B}else{B=u.animate}C.move(u.calculateThumbPosition(t),B);if(x===0&&w){w.setAttribute("aria-valuenow",t)}u.fireEvent("change",u,t,C);u.checkDirty();if(z){u.fireEvent("changecomplete",u,t,C)}}}return u},calculateThumbPosition:function(o){var n=this,m=n.minValue,l=(o-m)/n.getRange()*100;if(isNaN(l)){l=0}return l},getRatio:function(){var n=this,l=n.innerEl,o=n.vertical?l.getHeight():l.getWidth(),m=n.getRange();return m===0?o:(o/m)},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(f){return this.minValue+(f/this.getRatio())},reversePercentageValue:function(f){return this.minValue+this.getRange()*(f/100)},onDisable:function(){var o=this,q=0,t=o.thumbs,u=t.length,s,p,v;Ext.form.field.Base.prototype.onDisable.call(this);for(;q<u;q++){s=t[q];p=s.el;s.disable();if(Ext.isIE){v=p.getXY();p.hide();o.innerEl.addCls(o.disabledCls).dom.disabled=true;if(!o.thumbHolder){o.thumbHolder=o.endEl.createChild({role:"presentation",cls:"x-slider-thumb "+o.disabledCls})}o.thumbHolder.show().setXY(v)}}},onEnable:function(){var n=this,p=0,s=n.thumbs,t=s.length,q,o;Ext.form.field.Base.prototype.onEnable.call(this);for(;p<t;p++){q=s[p];o=q.el;q.enable();if(Ext.isIE){n.innerEl.removeCls(n.disabledCls).dom.disabled=false;if(n.thumbHolder){n.thumbHolder.hide()}o.show();n.syncThumbs()}}},syncThumbs:function(){if(this.rendered){var m=this.thumbs,k=m.length,l=0;for(;l<k;l++){m[l].move(this.calculateThumbPosition(m[l].value))}}},getValue:function(f){return Ext.isNumber(f)?this.thumbs[f].value:this.getValues()},getValues:function(){var m=[],l=0,n=this.thumbs,o=n.length;for(;l<o;l++){m.push(n[l].value)}return m},getSubmitValue:function(){var f=this;return(f.disabled||!f.submitValue)?null:f.getValue()},reset:function(){var n=this,q=[].concat(n.originalValue),p=0,o=q.length,m;for(;p<o;p++){m=q[p];n.setValue(p,m)}n.clearInvalid();delete n.wasValid},setReadOnly:function(m){var n=this,p=n.thumbs,q=p.length,o=0;Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments);m=n.readOnly;for(;o<q;++o){if(m){p[o].disable()}else{p[o].enable()}}},doDestroy:function(){if(this.rendered){Ext.destroy(this.thumbs)}Ext.form.field.Base.prototype.doDestroy.call(this)}},0,["multislider"],["component","box","field","multislider"],{component:true,box:true,field:true,multislider:true},["widget.multislider"],0,[Ext.slider,"Multi",Ext.slider,"MultiSlider"],0));(Ext.cmd.derive("Ext.slider.Single",Ext.slider.Multi,{alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],defaultBindProperty:"value",initComponent:function(){if(this.publishOnComplete){this.valuePublishEvent="changecomplete"}Ext.slider.Multi.prototype.initComponent.call(this)},publishOnComplete:true,getValue:function(){return Ext.slider.Multi.prototype.getValue.call(this,0)},setValue:function(l,n){var m=arguments,o=m.length;if(o===1||(o<=3&&typeof m[1]!=="number")){m=Ext.toArray(m);m.unshift(0)}return Ext.slider.Multi.prototype.setValue.apply(this,m)},getNearest:function(){return this.thumbs[0]}},0,["slider","sliderfield"],["component","box","field","multislider","slider","sliderfield"],{component:true,box:true,field:true,multislider:true,slider:true,sliderfield:true},["widget.slider","widget.sliderfield"],0,[Ext.slider,"Single",Ext,"Slider",Ext.form,"SliderField",Ext.slider,"SingleSlider",Ext.slider,"Slider"],0));(Ext.cmd.derive("Ext.tab.Tab",Ext.button.Button,{isTab:true,baseCls:"x-tab",closeElOverCls:"x-tab-close-btn-over",closeElPressedCls:"x-tab-close-btn-pressed",config:{rotation:"default",tabPosition:"top"},closable:true,closeText:"removable",active:false,childEls:["closeEl"],scale:false,ariaRole:"tab",tabIndex:-1,keyMap:{scope:"this",DELETE:"onDeleteKey"},_btnWrapCls:"x-tab-wrap",_btnCls:"x-tab-button",_baseIconCls:"x-tab-icon-el",_glyphCls:"x-tab-glyph",_innerCls:"x-tab-inner",_textCls:"x-tab-text",_noTextCls:"x-tab-no-text",_hasIconCls:"x-tab-icon",_activeCls:"x-tab-active",_closableCls:"x-tab-closable",overCls:"x-tab-over",_pressedCls:"x-tab-pressed",_disabledCls:"x-tab-disabled",_rotateClasses:{1:"x-tab-rotate-right",2:"x-tab-rotate-left"},_positions:{top:{"default":"top",0:"top",1:"left",2:"right"},right:{"default":"top",0:"right",1:"top",2:"bottom"},bottom:{"default":"bottom",0:"bottom",1:"right",2:"left"},left:{"default":"top",0:"left",1:"bottom",2:"top"}},_defaultRotations:{top:0,right:1,bottom:0,left:2},initComponent:function(){var f=this;if(f.card){f.setCard(f.card)}Ext.button.Button.prototype.initComponent.apply(this,arguments)},getActualRotation:function(){var f=this.getRotation();return(f!=="default")?f:this._defaultRotations[this.getTabPosition()]},updateRotation:function(){this.syncRotationAndPosition()},updateTabPosition:function(){this.syncRotationAndPosition()},syncRotationAndPosition:function(){var x=this,t=x._rotateClasses,u=x.getTabPosition(),p=x.getActualRotation(),q=x._rotateCls,w=x._rotateCls=t[p],s=x._positionCls,v=x._positionCls=x._positions[u][p];if(q!==w){if(q){x.removeCls(q)}if(w){x.addCls(w)}}if(s!==v){if(s){x.removeClsWithUI(s)}if(v){x.addClsWithUI(v)}if(x.rendered){x.updateFrame()}}if(x.rendered){x.setElOrientation()}},onAdded:function(l,k,m){Ext.button.Button.prototype.onAdded.call(this,l,k,m);this.syncRotationAndPosition()},getTemplateArgs:function(){var g=this,k=Ext.button.Button.prototype.getTemplateArgs.call(this);k.closable=g.closable;k.closeText=g.closeText;return k},beforeRender:function(){var l=this,m=l.up("tabbar"),k=l.up("tabpanel");Ext.button.Button.prototype.beforeRender.call(this);l.ariaRenderAttributes=l.ariaRenderAttributes||{};if(l.active){l.ariaRenderAttributes["aria-selected"]=true;l.addCls(l._activeCls)}else{l.ariaRenderAttributes["aria-selected"]=false}l.syncClosableCls();if(!l.minWidth){l.minWidth=(m)?m.minTabWidth:l.minWidth;if(!l.minWidth&&k){l.minWidth=k.minTabWidth}if(l.minWidth&&l.iconCls){l.minWidth+=25}}if(!l.maxWidth){l.maxWidth=(m)?m.maxTabWidth:l.maxWidth;if(!l.maxWidth&&k){l.maxWidth=k.maxTabWidth}}},onRender:function(){var f=this;f.setElOrientation();Ext.button.Button.prototype.onRender.apply(this,arguments);if(f.closable){f.closeEl.addClsOnOver(f.closeElOverCls);f.closeEl.addClsOnClick(f.closeElPressedCls)}},setElOrientation:function(){var k=this,m=k.getActualRotation(),l=k.el;if(m){l.setVertical(m===1?90:270)}else{l.setHorizontal()}},enable:function(k){var g=this;Ext.button.Button.prototype.enable.apply(this,arguments);g.removeCls(g._disabledCls);return g},disable:function(k){var g=this;Ext.button.Button.prototype.disable.apply(this,arguments);g.addCls(g._disabledCls);return g},setClosable:function(k){var g=this;k=(!arguments.length||!!k);if(g.closable!==k){g.closable=k;if(g.card){g.card.closable=k}g.syncClosableCls();if(g.rendered){g.syncClosableElements();g.updateLayout()}}},syncClosableElements:function(){var k=this,g=k.closeEl;if(k.closable){if(!g){g=k.closeEl=k.btnWrap.insertSibling({tag:"span",id:k.id+"-closeEl",cls:k.baseCls+"-close-btn",html:k.closeText},"after")}g.addClsOnOver(k.closeElOverCls);g.addClsOnClick(k.closeElPressedCls)}else{if(g){g.destroy();delete k.closeEl}}},syncClosableCls:function(){var g=this,k=g._closableCls;if(g.closable){g.addCls(k)}else{g.removeCls(k)}},setCard:function(k){var g=this;g.card=k;if(k.iconAlign){g.setIconAlign(k.iconAlign)}if(k.textAlign){g.setTextAlign(k.textAlign)}g.setText(g.title||k.title);g.setIconCls(g.iconCls||k.iconCls);g.setIcon(g.icon||k.icon);g.setGlyph(g.glyph||k.glyph)},onCloseClick:function(){var f=this;if(f.fireEvent("beforeclose",f)!==false){if(f.tabBar){if(f.tabBar.closeTab(f)===false){return}}else{f.fireClose()}}},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(e){var k=this;if(k.tabBar){k.tabBar.onClick(e,k.el);e.stopEvent();return false}},onDeleteKey:function(e){if(this.closable){this.onCloseClick();e.stopEvent();return false}},beforeClick:function(f){if(!f){this.focus()}},activate:function(l){var m=this,n=m.card,o=m.ariaEl.dom;m.active=true;m.addCls(m._activeCls);if(o){o.setAttribute("aria-selected",true)}else{m.ariaRenderAttributes=m.ariaRenderAttributes||{};m.ariaRenderAttributes["aria-selected"]=true}if(n){if(n.ariaEl.dom){n.ariaEl.dom.setAttribute("aria-expanded",true)}else{n.ariaRenderAttributes=n.ariaRenderAttributes||{};n.ariaRenderAttributes["aria-expanded"]=true}}if(l!==true){m.fireEvent("activate",m)}},deactivate:function(l){var m=this,n=m.card,o=m.ariaEl.dom;m.active=false;m.removeCls(m._activeCls);if(o){o.setAttribute("aria-selected",false)}else{m.ariaRenderAttributes=m.ariaRenderAttributes||{};m.ariaRenderAttributes["aria-selected"]=false}if(n){if(n.ariaEl.dom){n.ariaEl.dom.setAttribute("aria-expanded",false)}else{n.ariaRenderAttributes=n.ariaRenderAttributes||{};n.ariaRenderAttributes["aria-expanded"]=false}}if(l!==true){m.fireEvent("deactivate",m)}},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this._positionCls},wrapPrimaryEl:function(f){Ext.Button.superclass.wrapPrimaryEl.call(this,f)}}},0,["tab"],["component","box","button","tab"],{component:true,box:true,button:true,tab:true},["widget.tab"],0,[Ext.tab,"Tab"],0));(Ext.cmd.derive("Ext.tab.Bar",Ext.panel.Bar,{baseCls:"x-tab-bar",componentLayout:"body",isTabBar:true,config:{tabRotation:"default",tabStretchMax:true,activateOnFocus:true},defaultType:"tab",plain:false,ensureActiveVisibleOnChange:true,ariaRole:"tablist",childEls:["body","strip"],_stripCls:"x-tab-bar-strip",_baseBodyCls:"x-tab-bar-body",renderTpl:'<tpl if="hasTabGuard">{% this.renderTabGuard(out, values, \'before\'); %}</tpl><div id="{id}-body" data-ref="body" role="presentation" class="{baseBodyCls} {baseBodyCls}-{ui} {bodyCls} {bodyTargetCls}{childElCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>{%this.renderContainer(out,values)%}</div><tpl if="hasTabGuard">{% this.renderTabGuard(out, values, \'after\'); %}</tpl><div id="{id}-strip" data-ref="strip" role="presentation" class="{stripCls} {stripCls}-{ui}{childElCls}"></div>',_reverseDockNames:{left:"right",right:"left"},_layoutAlign:{top:"end",right:"begin",bottom:"begin",left:"end"},initComponent:function(){var l=this,o=l.initialConfig.layout,m=o&&o.align,n=o&&o.overflowHandler;if(l.plain){l.addCls(l.baseCls+"-plain")}Ext.panel.Bar.prototype.initComponent.call(this);l.setLayout({align:m||(l.getTabStretchMax()?"stretchmax":l._layoutAlign[l.dock]),overflowHandler:n||"scroller"});l.on({click:l.onClick,element:"el",scope:l})},ensureTabVisible:function(n){var m=this,l=m.tabPanel,o=m.layout.overflowHandler;if(m.rendered&&o&&m.tooNarrow&&o.scrollToItem){if(n||n===0){if(!n.isTab){if(Ext.isNumber(n)){n=this.items.getAt(n)}else{if(n.isComponent&&l&&l.items.contains(n)){n=n.tab}}}}if(!n){n=m.activeTab}if(n){o.scrollToItem(n)}}},initRenderData:function(){var f=this;return Ext.apply(Ext.panel.Bar.prototype.initRenderData.call(this),{bodyCls:f.bodyCls,baseBodyCls:f._baseBodyCls,bodyTargetCls:f.bodyTargetCls,stripCls:f._stripCls,dock:f.dock})},setDock:function(v){var o=this,u=o.items,s=o.ownerCt,p,t,q;u=u&&u.items;if(u){for(t=0,q=u.length;t<q;t++){p=u[t];if(p.isTab){p.setTabPosition(v)}}}if(o.rendered){o.resetItemMargins();if(s&&s.isHeader){s.resetItemMargins()}o.needsScroll=true}Ext.panel.Bar.prototype.setDock.call(this,v)},updateTabRotation:function(n){var o=this,t=o.items,s,p,q;t=t&&t.items;if(t){for(s=0,p=t.length;s<p;s++){q=t[s];if(q.isTab){q.setRotation(n)}}}if(o.rendered){o.resetItemMargins();o.needsScroll=true;o.updateLayout()}},onRender:function(){var g=this,k=this.layout.overflowHandler;Ext.panel.Bar.prototype.onRender.call(this);if(Ext.isIE8&&g.vertical){g.el.on({mousemove:g.onMouseMove,scope:g})}if(k&&k.type==="menu"){k.menu.on("click","onOverflowMenuItemClick",g)}},afterLayout:function(){this.adjustTabPositions();Ext.panel.Bar.prototype.afterLayout.apply(this,arguments)},onAdd:function(l,k){var m=this.onTabContentChange;if(this.ensureActiveVisibleOnChange){l.barListeners=l.on({scope:this,destroyable:true,glyphchange:m,iconchange:m,textchange:m})}Ext.panel.Bar.prototype.onAdd.call(this,l,k)},onAdded:function(l,k,m){if(l.isHeader){this.addCls(l.baseCls+"-"+l.ui+"-tab-bar")}Ext.panel.Bar.prototype.onAdded.call(this,l,k,m)},onRemove:function(m,k){var l=this;if(l.ensureActiveVisibleOnChange){if(!k){m.barListeners.destroy()}m.barListeners=null}if(m===l.previousTab){l.previousTab=null}Ext.panel.Bar.prototype.onRemove.call(this,m,k)},onRemoved:function(g){var k=this.ownerCt;if(k.isHeader){this.removeCls(k.baseCls+"-"+k.ui+"-tab-bar")}Ext.panel.Bar.prototype.onRemoved.call(this,g)},onTabContentChange:function(f){if(f===this.activeTab){this.ensureTabVisible(f)}},afterComponentLayout:function(m){var l=this,n=l.needsScroll,o=l.layout.overflowHandler;Ext.panel.Bar.prototype.afterComponentLayout.apply(this,arguments);if(o&&n&&l.tooNarrow&&o.scrollToItem){o.scrollToItem(l.activeTab)}delete l.needsScroll},onMouseMove:function(e){var n=this,p=n._overTab,q,o;if(e.getTarget(".x-box-scroller")){return}q=n.getTabInfoFromPoint(e.getXY());o=q.tab;if(o!==p){if(p&&p.rendered){p.onMouseLeave(e);n._overTab=null}if(o){o.onMouseEnter(e);n._overTab=o;if(!o.disabled){n.el.setStyle("cursor","pointer")}}else{n.el.setStyle("cursor","default")}}},onMouseLeave:function(e){var k=this._overTab;if(k&&k.rendered){k.onMouseLeave(e)}},getTabInfoFromPoint:function(aa){var L=this,T=L.items.items,ab=T.length,O=L.layout.innerCt,X=O.getXY(),H=new Ext.util.Point(aa[0],aa[1]),V=0,S,ae,af,M,Q,Y,Z,ac,J,U,W,P,R,I,K,N,ad;for(;V<ab;V++){ad=T[V];S=ad.lastBox;if(!S||!ad.isTab){continue}U=X[0]+S.x;W=X[1]-O.dom.scrollTop+S.y;P=S.width;R=S.height;ae=new Ext.util.Region(W,U+P,W+R,U);if(ae.contains(H)){af=ad.closeEl;if(af){if(L._isTabReversed===undefined){L._isTabReversed=K=(ad.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")!==-1)}N=K?this._reverseDockNames[L.dock]:L.dock;ac=af.getWidth();J=af.getHeight();Q=L.getCloseXY(af,U,W,P,R,ac,J,N);Y=Q[0];Z=Q[1];I=new Ext.util.Region(Z,Y+ac,Z+J,Y);M=I.contains(H)}break}}return{tab:ad,close:M}},getCloseXY:function(A,t,v,x,D,u,z,w){var y=A.getXY(),B,C;if(w==="right"){B=t+x-((y[1]-v)+z);C=v+(y[0]-t)}else{B=t+(y[1]-v);C=v+t+D-y[0]-u}return[B,C]},closeTab:function(o){var n=this,p=o.card,m=n.tabPanel,q;if(p&&p.fireEvent("beforeclose",p)===false){return false}q=n.findNextActivatable(o);Ext.suspendLayouts();if(q){if(m){m.setActiveTab(q.card)}else{n.setActiveTab(q)}q.focus()}if(m&&p){delete o.ownerCt;p.fireEvent("close",p);m.remove(p);if(p.ownerCt!==m){o.fireClose();n.remove(o)}else{o.ownerCt=n;Ext.resumeLayouts(true);return false}}Ext.resumeLayouts(true)},findNextActivatable:function(n){var m=this,l=m.previousTab,o;if(n.active&&m.items.getCount()>1){if(l&&l!==n&&!l.disabled){o=l}else{o=n.next("tab[disabled=false]")||n.prev("tab[disabled=false]")}}return o||m.activeTab},setActiveTab:function(l,m){var k=this;if(!l.disabled&&l!==k.activeTab){if(k.activeTab){if(k.activeTab.destroyed){k.previousTab=null}else{k.previousTab=k.activeTab;k.activeTab.deactivate();k.deactivateFocusable(k.activeTab)}}l.activate();k.activateFocusable(l);k.activeTab=l;k.needsScroll=true;if(!m){k.fireEvent("change",k,l,l.card);k.updateLayout()}}},privates:{adjustTabPositions:function(){var x=this,v=x.items.items,s=v.length,p,u,q,t,w;if(!Ext.isIE8){w=x._getTabAdjustProp();while(s--){p=v[s];q=p.el;u=p.lastBox;t=p.isTab?p.getActualRotation():0;if(t===1&&p.isVisible()){q.setStyle(w,(u.x+u.width)+"px")}else{if(t===2&&p.isVisible()){q.setStyle(w,(u.x-u.height)+"px")}}}}},applyTargetCls:function(f){this.bodyTargetCls=f},_getTabAdjustProp:function(){return"left"},getTargetEl:function(){return this.body||this.frameBody||this.el},onClick:function(v,e){var p=this,u,q,s,t;if(v.getTarget(".x-box-scroller")){return}if(Ext.isIE8&&p.vertical){t=p.getTabInfoFromPoint(v.getXY());q=t.tab;s=t.close}else{u=v.getTarget("."+Ext.tab.Tab.prototype.baseCls);q=u&&Ext.getCmp(u.id);s=q&&q.closeEl&&(e===q.closeEl.dom)}if(s){v.preventDefault()}if(q&&q.isDisabled&&!q.isDisabled()){q.beforeClick(s);if(q.closable&&s){q.onCloseClick()}else{p.doActivateTab(q)}}},onOverflowMenuItemClick:function(t,o,e,q){var p=o&&o.masterComponent,s=this.layout.overflowHandler;if(p&&!p.isDisabled()){this.doActivateTab(p);if(s.menuTrigger){s.menuTrigger.focus()}}},doActivateTab:function(k){var g=this.tabPanel;if(g){if(!k.disabled){g.setActiveTab(k.card)}}else{this.setActiveTab(k)}},onFocusableContainerFocus:function(m){var n=this,o=n.mixins.focusablecontainer,e;e=o.onFocusableContainerFocus.call(n,m);if(e&&e.isTab){n.doActivateTab(e)}},onFocusableContainerFocusEnter:function(m){var n=this,o=n.mixins.focusablecontainer,e;e=o.onFocusableContainerFocusEnter.call(n,m);if(e&&e.isTab){n.doActivateTab(e)}},focusChild:function(m,p){var o=this,q=o.mixins.focusablecontainer,n;n=q.focusChild.call(o,m,p);if(o.activateOnFocus&&n&&n.isTab){o.doActivateTab(n)}}}},0,["tabbar"],["component","box","container","tabbar"],{component:true,box:true,container:true,tabbar:true},["widget.tabbar"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.tab,"Bar"],0));(Ext.cmd.derive("Ext.tab.Panel",Ext.panel.Panel,{alternateClassName:["Ext.TabPanel"],config:{tabBar:undefined,tabPosition:"top",tabRotation:"default",tabStretchMax:true},removePanelHeader:true,plain:false,itemCls:"x-tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:true,_defaultTabRotation:{top:0,right:1,bottom:0,left:2},initComponent:function(){var o=this,s=o.activeTab!==null?(o.activeTab||0):null,p=o.dockedItems,v=o.header,q=o.tabBarHeaderPosition,t=o.getTabBar(),u;o.layout=new Ext.layout.container.Card(Ext.apply({owner:o,deferredRender:o.deferredRender,itemCls:o.itemCls,activeItem:s},o.layout));if(q!=null){v=o.header=Ext.apply({},v);u=v.items=(v.items?v.items.slice():[]);v.itemPosition=q;u.push(t);v.hasTabBar=true}else{p=[].concat(o.dockedItems||[]);p.push(t);o.dockedItems=p}Ext.panel.Panel.prototype.initComponent.apply(this,arguments);s=o.activeTab=o.getComponent(s);if(s){t.setActiveTab(s.tab,true)}},onRender:function(){var l=this.items.items,m=l.length,k;Ext.panel.Panel.prototype.onRender.apply(this,arguments);for(k=0;k<m;++k){l[k].getBind()}},setActiveTab:function(m){var k=this,l;if(!Ext.isObject(m)||m.isComponent){m=k.getComponent(m)}l=k.getActiveTab();if(m){Ext.suspendLayouts();if(!m.isComponent){m=k.add(m)}if(l===m||k.fireEvent("beforetabchange",k,m,l)===false){Ext.resumeLayouts(true);return l}k.activeTab=m;k.layout.setActiveItem(m);m=k.activeTab=k.layout.getActiveItem();if(m&&m!==l){k.tabBar.setActiveTab(m.tab);Ext.resumeLayouts(true);if(l!==m){k.fireEvent("tabchange",k,m,l)}}else{Ext.resumeLayouts(true)}return m}return l},setActiveItem:function(f){return this.setActiveTab(f)},getActiveTab:function(){var g=this,k=g.getComponent(g.activeTab);if(k&&g.items.indexOf(k)!==-1){g.activeTab=k}else{g.activeTab=undefined}return g.activeTab},applyTabBar:function(m){var k=this,l=(k.tabBarHeaderPosition!=null)?k.getHeaderPosition():k.getTabPosition();return new Ext.tab.Bar(Ext.apply({ui:k.ui,dock:l,tabRotation:k.getTabRotation(),vertical:(l==="left"||l==="right"),plain:k.plain,tabStretchMax:k.getTabStretchMax(),tabPanel:k},m))},updateHeaderPosition:function(k,l){var m=this.getTabBar();if(m&&(this.tabBarHeaderPosition!=null)){m.setDock(k)}Ext.panel.Panel.prototype.updateHeaderPosition.call(this,k,l)},updateTabPosition:function(g){var k=this.getTabBar();if(k&&(this.tabBarHeaderPosition==null)){k.setDock(g)}},updateTabRotation:function(g){var k=this.getTabBar();if(k){k.setTabRotation(g)}},onAdd:function(v,p){var o=this,q=Ext.apply({},v.tabConfig),s=o.getTabBar(),t,u={xtype:"tab",title:v.title,icon:v.icon,iconCls:v.iconCls,glyph:v.glyph,ui:s.ui,card:v,disabled:v.disabled,closable:v.closable,hidden:v.hidden&&!v.hiddenByLayout,tooltip:v.tooltip,tabBar:s,tabPosition:s.dock,rotation:s.getTabRotation()};if(v.closeText!==undefined){u.closeText=v.closeText}q=Ext.applyIf(q,u);v.tab=o.tabBar.insert(p,q);v.ariaRole="tabpanel";t=v.ariaEl.dom;if(t){t.setAttribute("aria-labelledby",v.tab.id)}else{v.ariaRenderAttributes=v.ariaRenderAttributes||{};v.ariaRenderAttributes["aria-labelledby"]=v.tab.id}v.on({scope:o,enable:o.onItemEnable,disable:o.onItemDisable,beforeshow:o.onItemBeforeShow,iconchange:o.onItemIconChange,iconclschange:o.onItemIconClsChange,glyphchange:o.onItemGlyphChange,titlechange:o.onItemTitleChange});if(v.isPanel){if(o.removePanelHeader){if(v.rendered){if(v.header){v.header.hide()}}else{v.header=false}}if(v.isPanel&&o.border){v.setBorder(false)}}if(o.rendered){v.getBind()}if(o.rendered&&o.loader&&o.activeTab===undefined&&o.layout.activeItem!==null){o.setActiveTab(0)}},onMove:function(m,n,l){var o=this.getTabBar();Ext.panel.Panel.prototype.onMove.call(this,m,n,l);if(o.items.indexOf(m.tab)!==l){o.move(m.tab,l)}},onItemEnable:function(f){f.tab.enable()},onItemDisable:function(f){f.tab.disable()},onItemBeforeShow:function(f){if(f!==this.activeTab){this.setActiveTab(f);return false}},onItemGlyphChange:function(k,g){k.tab.setGlyph(g)},onItemIconChange:function(g,k){g.tab.setIcon(k)},onItemIconClsChange:function(g,k){g.tab.setIconCls(k)},onItemTitleChange:function(k,g){k.tab.setText(g)},onRemove:function(l,k){var m=this;l.un({scope:m,enable:m.onItemEnable,disable:m.onItemDisable,beforeshow:m.onItemBeforeShow,iconchange:m.onItemIconChange,iconclschange:m.onItemIconClsChange,glyphchange:m.onItemGlyphChange,titlechange:m.onItemTitleChange});if(l.tab&&!m.destroying&&l.tab.ownerCt===m.tabBar){m.tabBar.remove(l.tab)}},enable:function(){var k=this,m=k.activeTab!==null?(k.activeTab||0):null,l=k.disabled;Ext.panel.Panel.prototype.enable.apply(this,arguments);if(l){m=m.isComponent?m:k.getComponent(m);if(m){k.getTabBar().setActiveTab(m.tab)}}},privates:{doRemove:function(l,n){var m=this,o;if(m.removingAll||m.destroying||m.items.getCount()===1){m.activeTab=null}else{if(l.tab&&(o=m.tabBar.items.indexOf(m.tabBar.findNextActivatable(l.tab)))!==-1){m.setActiveTab(o)}}Ext.panel.Panel.prototype.doRemove.call(this,l,n);if(l.tab){delete l.tab.card;delete l.tab}}}},0,["tabpanel"],["component","box","container","panel","tabpanel"],{component:true,box:true,container:true,panel:true,tabpanel:true},["widget.tabpanel"],0,[Ext.tab,"Panel",Ext,"TabPanel"],0));(Ext.cmd.derive("Ext.toolbar.Fill",Ext.Component,{alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:true,flex:1},0,["tbfill"],["component","box","tbfill"],{component:true,box:true,tbfill:true},["widget.tbfill"],0,[Ext.toolbar,"Fill",Ext.Toolbar,"Fill"],0));(Ext.cmd.derive("Ext.toolbar.Spacer",Ext.Component,{alternateClassName:"Ext.Toolbar.Spacer",baseCls:"x-toolbar-spacer",ariaRole:"presentation"},0,["tbspacer"],["component","box","tbspacer"],{component:true,box:true,tbspacer:true},["widget.tbspacer"],0,[Ext.toolbar,"Spacer",Ext.Toolbar,"Spacer"],0));(Ext.cmd.derive("Ext.tree.Column",Ext.grid.column.Column,{tdCls:"x-grid-cell-treecolumn",autoLock:true,lockable:false,draggable:false,hideable:false,iconCls:"x-tree-icon",checkboxCls:"x-tree-checkbox",elbowCls:"x-tree-elbow",expanderCls:"x-tree-expander",textCls:"x-tree-node-text",innerCls:"x-grid-cell-inner-treecolumn",customIconCls:"x-tree-icon-custom",isTreeColumn:true,cellTpl:['<tpl for="lines">','<div class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"></div>',"</tpl>",'<div class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"></div>','<tpl if="checked !== null">','<div role="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"></div>',"</tpl>",'<tpl if="glyph">','<span class="{baseIconCls}" ','<tpl if="glyphFontFamily">','style="font-family:{glyphFontFamily}"',"</tpl>",">{glyph}</span>","<tpl else>",'<tpl if="icon">','<img src="{blankUrl}"',"<tpl else>","<div","</tpl>",' role="presentation" class="{childCls} {baseIconCls} {customIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else><tpl if="expanded">parent-expanded<tpl else>parent</tpl></tpl> {iconCls}" ','<tpl if="icon">style="background-image:url({icon})"/><tpl else>></div></tpl>',"</tpl>",'<tpl if="href">','<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],uiFields:{checked:1,icon:1,iconCls:1},rowFields:{expanded:1,loaded:1,expandable:1,leaf:1,loading:1,qtip:1,qtitle:1,cls:1},initComponent:function(){var f=this;f.rendererScope=f.scope;f.setupRenderer();f.innerRenderer=f.renderer;f.renderer=f.treeRenderer;Ext.grid.column.Column.prototype.initComponent.call(this);f.scope=f;f.hasCustomRenderer=f.innerRenderer&&f.innerRenderer.length>1},treeRenderer:function(u,B,x,A,z,t,v){var w=this,s=x.get("cls"),y;if(B&&s){B.tdCls+=" "+s}y=w.initTemplateRendererData(u,B,x,A,z,t,v);return w.lookupTpl("cellTpl").apply(y)},initTemplateRendererData:function(L,H,C,G,D,K,N){var y=this,F=y.innerRenderer,E=C.data,M=C.parentNode,J=N.rootVisible,I=[],B,z,A;while(M&&(J||M.data.depth>0)){B=M.data;I[J?B.depth:B.depth-1]=M.isLastVisible()?0:1;M=M.parentNode}if(H){H.iconCls=H.icon=H.glyph=null}else{H={}}L=F?F.apply(y.rendererScope,arguments):L;z=H.glyph||E.glyph;if(z){z=Ext.Glyph.fly(z);A=z.fontFamily;z=z.character}return{record:C,baseIconCls:y.iconCls,customIconCls:(E.icon||E.iconCls)?y.customIconCls:"",glyph:z,glyphFontFamily:A,iconCls:H.iconCls||E.iconCls,icon:H.icon||E.icon,checkboxCls:y.checkboxCls,checked:E.checked,elbowCls:y.elbowCls,expanderCls:y.expanderCls,textCls:y.textCls,leaf:E.leaf,expandable:C.isExpandable(),expanded:E.expanded,isLast:C.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:E.href,hrefTarget:E.hrefTarget,lines:I,metaData:H,childCls:y.getChildCls?y.getChildCls()+" ":"",value:L}},shouldUpdateCell:function(s,p){var o=this,q=0,t,n;if(o.hasCustomRenderer){return 1}if(p){t=p.length;for(;q<t;++q){n=p[q];if(o.rowFields[n]){return 1}if(o.uiFields[n]){return 2}}}return Ext.grid.column.Column.prototype.shouldUpdateCell.call(this,s,p)}},0,["treecolumn"],["component","box","container","headercontainer","gridcolumn","treecolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,treecolumn:true},["widget.treecolumn"],0,[Ext.tree,"Column"],0));(Ext.cmd.derive("Ext.tree.NavigationModel",Ext.grid.NavigationModel,{initKeyNav:function(m){var k=this,l=k.view.ownerGrid.columns;k.isTreeGrid=l&&l.length>1;Ext.grid.NavigationModel.prototype.initKeyNav.call(this,m);k.view.grid.on({columnschanged:k.onColumnsChanged,scope:k})},onKeyNavCreate:function(k){var g=this.onAsterisk;k.map.addBinding([{key:"8",shift:true,handler:g,scope:this},{key:Ext.event.Event.NUM_MULTIPLY,handler:g,scope:this}])},onColumnsChanged:function(){this.isTreeGrid=this.view.ownerGrid.getVisibleColumnManager().getColumns().length>1},onCellClick:function(q,t,o,s,v,p,u){Ext.grid.NavigationModel.prototype.onCellClick.call(this,q,t,o,s,v,p,u);return !u.nodeToggled},onKeyLeft:function(l){var m=this,n=l.view,o=m.record;if(m.isTreeGrid&&!l.ctrlKey){return Ext.grid.NavigationModel.prototype.onKeyLeft.call(this,l)}if(l.position.column.isTreeColumn&&o.isExpanded()){n.collapse(o)}else{o=o.parentNode;if(o&&!(o.isRoot()&&!n.rootVisible)){m.setPosition(o,null,l)}}},onKeyRight:function(k){var l=this,m=l.record;if(l.isTreeGrid&&!k.ctrlKey){return Ext.grid.NavigationModel.prototype.onKeyRight.call(this,k)}if(!m.isLeaf()){if(k.position.column.isTreeColumn&&!m.isExpanded()){k.view.expand(m)}else{if(m.isExpanded()){m=m.childNodes[0];if(m){l.setPosition(m)}}}}},onKeyEnter:function(f){if(this.record.data.checked!=null){this.toggleCheck(f)}else{Ext.grid.NavigationModel.prototype.onKeyEnter.call(this,f)}},onKeySpace:function(f){if(this.record.data.checked!=null){this.toggleCheck(f)}else{Ext.grid.NavigationModel.prototype.onKeySpace.call(this,f)}},toggleCheck:function(f){this.view.onCheckChange(f)},onAsterisk:function(f){this.view.ownerGrid.expandAll()}},0,0,0,0,["view.navigation.tree"],0,[Ext.tree,"NavigationModel"],0));(Ext.cmd.derive("Ext.tree.View",Ext.view.Table,{config:{selectionModel:{type:"treemodel"}},isTreeView:true,loadingCls:"x-grid-tree-loading",expandedCls:"x-grid-tree-node-expanded",leafCls:"x-grid-tree-node-leaf",expanderSelector:".x-tree-expander",checkboxSelector:".x-tree-checkbox",expanderIconOverCls:"x-tree-expander-over",nodeAnimWrapCls:"x-tree-animator-wrap",ariaRole:"treegrid",loadMask:false,rootVisible:true,expandDuration:250,collapseDuration:250,toggleOnDblClick:true,stripeRows:false,treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(k){var l=k.record,m=k.view;k.rowAttr["data-qtip"]=l.get("qtip")||"";k.rowAttr["data-qtitle"]=l.get("qtitle")||"";k.rowAttr["aria-level"]=l.getDepth()+1;if(l.isLeaf()){k.rowClasses.push(m.leafCls)}else{if(l.isExpanded()){k.rowClasses.push(m.expandedCls);k.rowAttr["aria-expanded"]=true}else{k.rowAttr["aria-expanded"]=false}}if(l.isLoading()){k.rowClasses.push(m.loadingCls)}}}],initComponent:function(){var f=this;if(f.bufferedRenderer){f.animate=false}else{if(f.initialConfig.animate===undefined){f.animate=Ext.enableFx}}f.store=f.panel.getStore();f.onRootChange(f.store.getRoot());f.animQueue={};f.animWraps={};Ext.view.Table.prototype.initComponent.call(this);f.store.setRootVisible(f.rootVisible);f.addRowTpl(f.lookupTpl("treeRowTpl"))},onFillComplete:function(o,p,s){var q=this,t=q.store,n=t.indexOf(s[0]);p.triggerUIUpdate();if(!s.length||n===-1){return}q.onAdd(q.store,s,n);q.refreshPartner()},refreshPartner:function(){var f=this.lockingPartner;if(f){f.refresh()}},afterRender:function(){var f=this;Ext.view.Table.prototype.afterRender.call(this);f.el.on({scope:f,delegate:f.expanderSelector,mouseover:f.onExpanderMouseOver,mouseout:f.onExpanderMouseOut})},processUIEvent:function(e){if(e.getTarget("."+this.nodeAnimWrapCls,this.el)){return false}return Ext.view.Table.prototype.processUIEvent.call(this,e)},setRootNode:function(f){this.node=f},getChecked:function(){var f=[];this.node.cascade(function(e){if(e.get("checked")){f.push(e)}});return f},isItemChecked:function(f){return f.get("checked")},createAnimWrap:function(q,p){var m=this,n=m.getNode(q),o;o=Ext.fly(n).insertSibling({role:"presentation",tag:"div",cls:m.nodeAnimWrapCls},"after");return{record:q,node:n,el:o,expanding:false,collapsing:false,animateEl:o,targetEl:o}},getAnimWrap:function(l,o){if(!this.animate){return null}var n=this.animWraps,m=n[l.internalId];if(o!==false){while(!m&&l){l=l.parentNode;if(l){m=n[l.internalId]}}}return m},doAdd:function(D,z){var y=this,B=D[0],x=B.parentNode,w=y.all,F,C=y.getAnimWrap(x),H,v,A,G,E;if(!C||!C.expanding){return Ext.view.Table.prototype.doAdd.call(this,D,z)}G=y.bufferRender(D,z,true);E=G.children;x=C.record;H=C.targetEl;v=H.dom.childNodes;A=v.length;F=z-y.indexInStore(x)-1;if(!A||F>=A){H.appendChild(G.fragment,true)}else{Ext.fly(v[F]).insertSibling(E,"before",true)}w.insert(z,E);return E},onRemove:function(p,v,u){var s=this,q,t,w=s.hasListeners.remove,x;if(s.viewReady){q=s.store.getCount()===0;if(s.bufferedRenderer){return Ext.view.Table.prototype.onRemove.call(this,p,v,u)}if(w){x=this.all.slice(u,u+v.length)}if(q){s.refresh()}else{for(t=v.length-1,u+=t;t>=0;--t,--u){s.doRemove(v[t],u)}s.refreshSizePending=true}if(w){s.fireItemMutationEvent("itemremove",v,u,x,s)}}},doRemove:function(u,s){var v=this,q=v.all,t=v.getAnimWrap(u),o=q.item(s),p=o?o.dom:null;if(!p||!t||!t.collapsing){return Ext.view.Table.prototype.doRemove.call(this,u,s)}t.targetEl.dom.insertBefore(p,t.targetEl.dom.firstChild);q.removeElement(s)},onBeforeExpand:function(n,p,o){var m=this,q;if(m.rendered&&m.all.getCount()&&m.animate){if(m.getNode(n)){q=m.getAnimWrap(n,false);if(!q){q=m.animWraps[n.internalId]=m.createAnimWrap(n);q.animateEl.setHeight(0)}else{if(q.collapsing){q.targetEl.select(m.itemSelector).destroy()}}q.expanding=true;q.collapsing=false}}},onExpand:function(s){var t=this,v=t.animQueue,z=s.getId(),x=t.getNode(s),u=x?t.indexOf(x):-1,w,y,q;if(t.singleExpand){t.ensureSingleExpand(s)}if(u===-1){return}w=t.getAnimWrap(s,false);if(!w){s.isExpandingOrCollapsing=false;t.fireEvent("afteritemexpand",s,u,x);return}y=w.animateEl;q=w.targetEl;y.stopAnimation();v[z]=true;Ext.on("idle",function(){y.dom.style.height="0px"},null,{single:true});y.animate({from:{height:0},to:{height:q.dom.scrollHeight},duration:t.expandDuration,listeners:{afteranimate:function(){var f=q.dom.childNodes,e=Ext.Element.getActiveElement();if(f.length){if(!q.contains(e)){e=null}w.el.insertSibling(f,"before",true);if(e){Ext.fly(e).focus()}}w.el.destroy();t.animWraps[w.record.internalId]=v[z]=null}},callback:function(){s.isExpandingOrCollapsing=false;if(!t.destroyed){t.refreshSize(true)}t.fireEvent("afteritemexpand",s,u,x)}})},onBeforeCollapse:function(p,t,s,v,q){var o=this,u;if(o.rendered&&o.all.getCount()){if(o.animate){if(p.isVisible()){u=o.getAnimWrap(p);if(!u){u=o.animWraps[p.internalId]=o.createAnimWrap(p,s)}else{if(u.expanding){u.targetEl.select(this.itemSelector).destroy()}}u.expanding=false;u.collapsing=true;u.callback=v;u.scope=q}}else{o.onCollapseCallback=v;o.onCollapseScope=q}}},onCollapse:function(s){var p=this,v=p.animQueue,w=s.getId(),q=p.getNode(s),t=q?p.indexOf(q):-1,u=p.getAnimWrap(s),x;if(!p.all.getCount()||!s.isVisible()){return}if(!u){s.isExpandingOrCollapsing=false;p.fireEvent("afteritemcollapse",s,t,q);Ext.callback(p.onCollapseCallback,p.onCollapseScope);p.onCollapseCallback=p.onCollapseScope=null;return}x=u.animateEl;v[w]=true;x.stopAnimation();x.animate({to:{height:0},duration:p.collapseDuration,listeners:{afteranimate:function(){u.el.destroy();p.animWraps[u.record.internalId]=v[w]=null}},callback:function(){s.isExpandingOrCollapsing=false;if(!p.destroyed){p.refreshSize(true)}p.fireEvent("afteritemcollapse",s,t,q);Ext.callback(u.callback,u.scope);u.callback=u.scope=null}})},isAnimating:function(f){return !!this.animQueue[f.getId()]},expand:function(q,s,v,p){var o=this,t=!!o.animate,u;if(!t||!q.isExpandingOrCollapsing){if(!q.isLeaf()){q.isExpandingOrCollapsing=t}Ext.suspendLayouts();u=q.expand(s,v,p);Ext.resumeLayouts(true);return u}},collapse:function(q,s,n,p){var o=this,t=!!o.animate;if(!t||!q.isExpandingOrCollapsing){if(!q.isLeaf()){q.isExpandingOrCollapsing=t}return q.collapse(s,n,p)}},toggle:function(n,o,l,m){if(n.isExpanded()){this.collapse(n,o,l,m)}else{this.expand(n,o,l,m)}},onItemDblClick:function(s,e,p,t){var o=this,q=o.editingPlugin;Ext.view.Table.prototype.onItemDblClick.call(this,s,e,p,t);if(o.toggleOnDblClick&&s.isExpandable()&&!(q&&q.clicksToEdit===2)){o.toggle(s)}},onCellClick:function(u,s,t,w,v,x){var e=this,q=x.position.column;if(q.isTreeColumn){if(x.getTarget(e.checkboxSelector,u)&&t.get("checked")!=null){e.onCheckChange(x);if(q.stopSelection){x.stopSelection=true}}else{if(x.getTarget(e.expanderSelector,u)&&t.isExpandable()){e.getNavigationModel().setPosition(x.position);e.toggle(t,x.ctrlKey);x.nodeToggled=true}}return Ext.view.Table.prototype.onCellClick.call(this,u,s,t,w,v,x)}},onCheckChange:function(e){var n=this,p=e.record,q=p.get("checked"),o;if(q===1){o=true}else{o=!q}n.setChecked(p,o,e)},setChecked:function(P,E,B,O){var J=this,K=J.checkPropagationFlags[J.ownerGrid.checkPropagation.toLowerCase()],G=P.data.checked,M=J.ownerGrid.triStateCheckbox?1:false,e=(!O||O.propagateCheck!==false)&&(K&1),R=(!O||O.checkParent!==false)&&(K&2),N,L,D,I,Q,H=0,C,F;if(J.fireEvent("beforecheckchange",P,G,B)===false){return}if(E!==1&&e){Q=P.childNodes;C=Q.length;for(F=0;F<C;F++){J.setChecked(Q[F],E,B,{checkParent:false});if(Q[F].get("checked")===E){H++}}if(H!==C){E=H?M:false}}if(P.get("data")!==E){P.set("checked",E,O);J.fireEvent("checkchange",P,E,B);if(R&&(N=P.parentNode)&&(L=N.data.checked)!=null){Q=N.childNodes;C=Q.length;if(E===M){L=M}else{if(C===1){L=E}else{D=I=false;for(F=0;!(D&&I)&F<C;F++){if(Q[F].data.checked===1){D=I=true}else{if(!Q[F].data.checked){I=true}else{D=true}}}L=D&&I?M:(D?true:false)}}J.setChecked(N,L,B,{propagateCheck:false})}}},onExpanderMouseOver:function(e){e.getTarget(this.cellSelector,10,true).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(e){e.getTarget(this.cellSelector,10,true).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){return Ext.apply(Ext.view.Table.prototype.getStoreListeners.call(this),{rootchange:this.onRootChange,fillcomplete:this.onFillComplete})},onBindStore:function(t,q,p,o){var s=o&&o.getRootNode(),n=t&&t.getRootNode();Ext.view.Table.prototype.onBindStore.call(this,t,q,p,o);if(n!==s){this.onRootChange(n,s)}},onRootChange:function(l,o){var m=this,n=m.grid;if(o){m.rootListeners.destroy();m.rootListeners=null}if(l){m.rootListeners=l.on({beforeexpand:m.onBeforeExpand,expand:m.onExpand,beforecollapse:m.onBeforeCollapse,collapse:m.onCollapse,destroyable:true,scope:m});n.addRelayers(l)}},ensureSingleExpand:function(g){var k=g.parentNode;if(k){k.eachChild(function(e){if(e!==g&&e.isExpanded()){e.collapse()}})}},privates:{checkPropagationFlags:{none:0,down:1,up:2,both:3},deferRefreshForLoad:function(o){var m=Ext.view.Table.prototype.deferRefreshForLoad.call(this,o),n,l;if(m){n=o.lastOptions;l=n&&n.node;if(l&&l!==o.getRoot()){m=false}}return m}}},0,["treeview"],["component","box","dataview","tableview","gridview","treeview"],{component:true,box:true,dataview:true,tableview:true,gridview:true,treeview:true},["widget.treeview"],0,[Ext.tree,"View"],0));(Ext.cmd.derive("Ext.tree.Panel",Ext.panel.Table,{alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",treeCls:"x-tree-panel",rowLines:false,lines:true,useArrows:false,singleExpand:false,ddConfig:{enableDrag:true,enableDrop:true},rootVisible:true,displayField:"text",root:null,checkPropagation:"none",normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:true,arrowCls:"x-tree-arrows",linesCls:"x-tree-lines",noLinesCls:"x-tree-no-lines",autoWidthCls:"x-autowidth-table",constructor:function(f){f=f||{};if(f.animate===undefined){f.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx}this.enableAnimations=f.animate;delete f.animate;Ext.panel.Table.prototype.constructor.call(this,f)},initComponent:function(){var n=this,p=[n.treeCls],o,m,q;if(n.useArrows){p.push(n.arrowCls);n.lines=false}if(n.lines){p.push(n.linesCls)}else{if(!n.useArrows){p.push(n.noLinesCls)}}o=n.applyStore(n.store);if(!o.getRoot()){o.setRoot({})}o.setRootVisible(n.rootVisible);if(!n.columns){n.isAutoTree=m=true}n.viewConfig=Ext.apply({rootVisible:n.rootVisible,animate:n.enableAnimations,singleExpand:n.singleExpand,node:o.getRoot(),navigationModel:"tree",isAutoTree:m},n.viewConfig);if(m){n.addCls(n.autoWidthCls);n.columns=[{xtype:"treecolumn",text:n.hideHeaders===true?"Name":null,flex:1,dataIndex:n.displayField}]}if(n.cls){p.push(n.cls)}n.cls=p.join(" ");Ext.panel.Table.prototype.initComponent.call(this);q=n.getView();n.relayEvents(q,["beforecheckchange","checkchange","afteritemexpand","afteritemcollapse"])},applyStore:function(k){var g=this;if(Ext.isString(k)){k=g.store=Ext.StoreMgr.lookup(k)}else{if(!k||!k.isStore){k=Ext.apply({type:"tree",proxy:"memory"},k);if(g.root){k.root=g.root}if(g.fields){k.fields=g.fields}else{if(g.model){k.model=g.model}}if(g.folderSort){k.folderSort=g.folderSort}k=g.store=Ext.StoreMgr.lookup(k)}else{if(g.root){k=g.store=Ext.data.StoreManager.lookup(k);k.setRoot(g.root);if(g.folderSort!==undefined){k.folderSort=g.folderSort;k.sort()}}}}return k},setRoot:function(f){this.store.setRoot(f)},setStore:function(k){var g=this;k=g.applyStore(k);if(!k.getRoot()){k.setRoot({})}k.setRootVisible(g.rootVisible);if(g.enableLocking){g.reconfigure(k)}else{if(g.view){g.view.setRootNode(k.getRootNode())}g.bindStore(k)}},bindStore:function(n,m){var l=this,o=n.getRoot();Ext.panel.Table.prototype.bindStore.apply(this,arguments);n.singleExpand=l.singleExpand;l.storeListeners=l.mon(n,{destroyable:true,rootchange:l.onRootChange,scope:l});l.storeRelayers=l.relayEvents(n,["beforeload","load"]);if(!l.rootVisible&&!n.autoLoad&&!(o.isExpanded()||o.isLoading())){if(o.isLoaded()){o.data.expanded=true;n.onNodeExpand(o,o.childNodes)}else{if(n.autoLoad!==false&&!n.hasPendingLoad()){o.data.expanded=false;o.expand()}}}n.ownerTree=l;if(!m){l.view.setRootNode(o)}},addRelayers:function(g){var k=this;if(k.rootRelayers){k.rootRelayers.destroy();k.rootRelayers=null}k.rootRelayers=k.mon(g,{destroyable:true,append:k.createRelayer("itemappend"),remove:k.createRelayer("itemremove"),move:k.createRelayer("itemmove",[0,4]),insert:k.createRelayer("iteminsert"),beforeappend:k.createRelayer("beforeitemappend"),beforeremove:k.createRelayer("beforeitemremove"),beforemove:k.createRelayer("beforeitemmove"),beforeinsert:k.createRelayer("beforeiteminsert"),expand:k.createRelayer("itemexpand",[0,1]),collapse:k.createRelayer("itemcollapse",[0,1]),beforeexpand:k.createRelayer("beforeitemexpand",[0,1]),beforecollapse:k.createRelayer("beforeitemcollapse",[0,1]),scope:k})},unbindStore:function(){var g=this,k=g.store;if(k){Ext.panel.Table.prototype.unbindStore.call(this);Ext.destroy(g.storeListeners,g.storeRelayers,g.rootRelayers);delete k.ownerTree;k.singleExpand=null}},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(f){this.view.setRootNode(f)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(f){return f.get("checked")},expandNode:function(n,o,l,m){return this.getView().expand(n,o,l,m||this)},collapseNode:function(n,o,l,m){return this.getView().collapse(n,o,l,m||this)},expandAll:function(l,n){var m=this,o=m.getRootNode();if(o){Ext.suspendLayouts();o.expand(true,l,n||m);Ext.resumeLayouts(true)}},collapseAll:function(m,o){var n=this,p=n.getRootNode(),q=n.getView();if(p){Ext.suspendLayouts();o=o||n;if(q.rootVisible){p.collapse(true,m,o)}else{p.collapseChildren(true,m,o)}Ext.resumeLayouts(true)}},expandPath:function(K,I){var D=arguments,C=this,B=C.view,A=(I&&I.field)||C.store.model.idProperty,z,J,G=(I&&I.separator)||"/",y,L,E,F,M,H,N;if(I&&typeof I==="object"){A=I.field||C.store.model.idProperty;G=I.separator||"/";y=I.callback;L=I.scope;z=I.select;J=I.focus}else{A=D[1]||C.store.model.idProperty;G=D[2]||"/";y=D[3];L=D[4]}if(Ext.isEmpty(K)){return Ext.callback(y,L||C,[false,null])}M=K.split(G);H=!M[0];if(H){E=C.getRootNode();F=1}else{E=C.store.findNode(A,M[0]);F=0}if(!E||(H&&(E.get(A)+"")!==M[1])){return Ext.callback(y,L||C,[false,E])}N=function(g){var e=this,l,f,k;if(++F===M.length){if(z){B.getSelectionModel().select(e)}if(J){B.getNavigationModel().setPosition(e,0)}return Ext.callback(y,L||C,[true,e,B.getNode(e)])}for(f=0,l=g?g.length:0;f<l;f++){e=g[f];k=e.get(A);if(k||k===0){k=k.toString()}if(k===M[F]){return e.expand(false,N)}}e=this;Ext.callback(y,L||C,[false,e,B.getNode(e)])};E.expand(false,N)},ensureVisible:function(G,F){if(G.isEntity||typeof G==="number"){return Ext.panel.Table.prototype.ensureVisible.call(this,G,F)}var z=this,y=(F&&F.field)||z.store.model.idProperty,A=(F&&F.separator)||"/",w,H,v,E,x,D,B,C=function(k,f,g,e){if(!e&&k&&f){e=f.findChild(y,x)}if(e){z.doEnsureVisible(e,F)}else{Ext.callback(w,H||z,[false,f])}};if(F){w=F.callback;H=F.scope}v=G.split(A);E=!v[0];x=v.pop();if(v.length&&!(E&&v.length===1)){z.expandPath(v.join(A),y,A,C)}else{D=z.store.findNode(y,x);if(D){B=D.parentNode;if(B&&!B.isExpanded()){B.expand()}C(true,null,null,D)}else{Ext.callback(w,H||z,[false,null])}}},selectPath:function(n,o,p,m,q){this.ensureVisible(n,{field:o,separator:p,select:true,callback:m,scope:q})}},1,["treepanel"],["component","box","container","panel","tablepanel","treepanel"],{component:true,box:true,container:true,panel:true,tablepanel:true,treepanel:true},["widget.treepanel"],0,[Ext.tree,"Panel",Ext.tree,"TreePanel",Ext,"TreePanel"],0));(Ext.cmd.derive("Ext.view.DragZone",Ext.dd.DragZone,{containerScroll:false,constructor:function(p){var m=this,q,n,o;Ext.apply(m,p);if(!m.ddGroup){m.ddGroup="view-dd-zone-"+m.view.id}q=m.view;q.setItemsDraggable(true);n=q.ownerCt;if(n){o=n.getTargetEl().dom}else{o=q.el.dom.parentNode}Ext.dd.DragZone.prototype.constructor.call(this,o);m.ddel=document.createElement("div");m.ddel.className="x-grid-dd-wrap"},init:function(m,q,o){var n=this,p={itemmousedown:n.onItemMouseDown,scope:n};if(Ext.supports.Touch){p.itemlongpress=n.onItemLongPress;p.contextmenu={element:"el",fn:n.onViewContextMenu}}n.initTarget(m,q,o);n.view.mon(n.view,p)},onValidDrop:function(l,m,e){Ext.dd.DragZone.prototype.onValidDrop.call(this,l,m,e);if(!l.el.contains(Ext.Element.getActiveElement())){l.el.focus()}},onViewContextMenu:function(e){if(e.pointerType!=="mouse"){e.preventDefault()}},onItemMouseDown:function(p,q,n,o,e){if(e.pointerType==="mouse"){this.onTriggerGesture(p,q,n,o,e)}},onItemLongPress:function(p,q,n,o,e){if(e.pointerType!=="mouse"){this.onTriggerGesture(p,q,n,o,e)}},onTriggerGesture:function(q,s,e,p,t){var o;if((t.pointerType==="touch"&&t.type!=="longpress")||(t.position&&t.position.isEqual(t.view.actionPosition))){return}if(!this.isPreventDrag(t,s,e,p)){o=q.getNavigationModel();if(t.position){o.setPosition(t.position)}else{o.setPosition(p)}this.handleMouseDown(t)}},isPreventDrag:function(e,o,m,n){return !!e.isInputFieldEvent},getDragData:function(e){var m=this.view,l=e.getTarget(m.getItemSelector());if(l){return{copy:m.copy||(m.allowCopy&&e.ctrlKey),event:e,view:m,ddel:this.ddel,item:l,records:m.getSelectionModel().getSelection(),fromPosition:Ext.fly(l).getXY()}}},onInitDrag:function(t,v){var p=this,o=p.dragData,q=o.view,u=q.getSelectionModel(),s=q.getRecord(o.item);if(!u.isSelected(s)){u.selectWithEvent(s,p.DDMInstance.mousedownEvent)}o.records=u.getSelection();Ext.fly(p.ddel).setHtml(p.getDragText());p.proxy.update(p.ddel);p.onStartDrag(t,v);return true},getDragText:function(){var f=this.dragData.records.length;return Ext.String.format(this.dragText,f,f===1?"":"s")},getRepairXY:function(e,k){return k?k.fromPosition:false}},1,0,0,0,0,0,[Ext.view,"DragZone"],0));(Ext.cmd.derive("Ext.util.Cookies",Ext.Base,{singleton:true,set:function(t,q){var v=arguments,w=arguments.length,u=(w>2)?v[2]:null,x=(w>3)?v[3]:"/",s=(w>4)?v[4]:null,p=(w>5)?v[5]:false;document.cookie=t+"="+escape(q)+((u===null)?"":("; expires="+u.toUTCString()))+((x===null)?"":("; path="+x))+((s===null)?"":("; domain="+s))+((p===true)?"; secure":"")},get:function(q){var n=document.cookie.split("; "),t=n.length,o,p,s;for(p=0;p<t;++p){o=n[p].split("=");if(o[0]===q){s=o[1];return s?unescape(s):""}}return null},clear:function(k,g){if(this.get(k)){g=g||"/";document.cookie=k+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+g}}},0,0,0,0,0,0,[Ext.util,"Cookies"],0));(Ext.cmd.derive("Ext.window.Toast",Ext.window.Window,{isToast:true,cls:"x-toast",bodyPadding:10,autoClose:true,plain:false,draggable:false,resizable:false,shadow:false,focus:Ext.emptyFn,anchor:null,useXAxis:false,align:"t",alwaysOnTop:true,spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:500,slideBackDuration:500,hideDuration:500,autoCloseDelay:3000,stickOnClick:false,stickWhileHover:true,closeOnMouseDown:false,closable:false,focusable:false,isHiding:false,isFading:false,destroyAfterHide:false,closeOnMouseOut:false,xPos:0,yPos:0,constructor:function(f){f=f||{};if(f.animate===undefined){f.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx}this.enableAnimations=f.animate;delete f.animate;Ext.window.Window.prototype.constructor.call(this,f)},initComponent:function(){var f=this;if(f.autoClose&&f.closable==null){f.closable=false}f.updateAlignment(f.align);f.setAnchor(f.anchor);Ext.window.Window.prototype.initComponent.call(this)},onRender:function(){var f=this;Ext.window.Window.prototype.onRender.apply(this,arguments);f.el.hover(f.onMouseEnter,f.onMouseLeave,f);if(f.closeOnMouseDown){Ext.getDoc().on("mousedown",f.onDocumentMousedown,f)}},alignmentProps:{br:{paddingFactorX:-1,paddingFactorY:-1,siblingAlignment:"br-br",anchorAlign:"tr-br"},bl:{paddingFactorX:1,paddingFactorY:-1,siblingAlignment:"bl-bl",anchorAlign:"tl-bl"},tr:{paddingFactorX:-1,paddingFactorY:1,siblingAlignment:"tr-tr",anchorAlign:"br-tr"},tl:{paddingFactorX:1,paddingFactorY:1,siblingAlignment:"tl-tl",anchorAlign:"bl-tl"},b:{paddingFactorX:0,paddingFactorY:-1,siblingAlignment:"b-b",useXAxis:0,anchorAlign:"t-b"},t:{paddingFactorX:0,paddingFactorY:1,siblingAlignment:"t-t",useXAxis:0,anchorAlign:"b-t"},l:{paddingFactorX:1,paddingFactorY:0,siblingAlignment:"l-l",useXAxis:1,anchorAlign:"r-l"},r:{paddingFactorX:-1,paddingFactorY:0,siblingAlignment:"r-r",useXAxis:1,anchorAlign:"l-r"},x:{br:{anchorAlign:"bl-br"},bl:{anchorAlign:"br-bl"},tr:{anchorAlign:"tl-tr"},tl:{anchorAlign:"tr-tl"}}},updateAlignment:function(m){var o=this,q=o.alignmentProps,p=q[m],n=q.x[m];if(n&&o.useXAxis){Ext.applyIf(o,n)}Ext.applyIf(o,p)},getXposAlignedToAnchor:function(){var q=this,n=q.align,t=q.anchor,p=t&&t.el,s=q.el,o=0;if(p&&p.dom){if(!q.useXAxis){o=s.getLeft()}else{if(n==="br"||n==="tr"||n==="r"){o+=p.getAnchorXY("r")[0];o-=(s.getWidth()+q.paddingX)}else{o+=p.getAnchorXY("l")[0];o+=q.paddingX}}}return o},getYposAlignedToAnchor:function(){var p=this,n=p.align,t=p.anchor,o=t&&t.el,s=p.el,q=0;if(o&&o.dom){if(p.useXAxis){q=s.getTop()}else{if(n==="br"||n==="bl"||n==="b"){q+=o.getAnchorXY("b")[1];q-=(s.getHeight()+p.paddingY)}else{q+=o.getAnchorXY("t")[1];q+=p.paddingY}}}return q},getXposAlignedToSibling:function(p){var o=this,m=o.align,q=o.el,n;if(!o.useXAxis){n=q.getLeft()}else{if(m==="tl"||m==="bl"||m==="l"){n=(p.xPos+p.el.getWidth()+p.spacing)}else{n=(p.xPos-q.getWidth()-o.spacing)}}return n},getYposAlignedToSibling:function(p){var n=this,m=n.align,q=n.el,o;if(n.useXAxis){o=q.getTop()}else{if(m==="tr"||m==="tl"||m==="t"){o=(p.yPos+p.el.getHeight()+p.spacing)}else{o=(p.yPos-q.getHeight()-p.spacing)}}return o},getToasts:function(){var m=this.anchor,k=this.anchorAlign,l=m.activeToasts||(m.activeToasts={});return l[k]||(l[k]=[])},setAnchor:function(m){var k=this,l;k.anchor=m=((typeof m==="string")?Ext.getCmp(m):m);if(!m){l=Ext.window.Toast;k.anchor=l.bodyAnchor||(l.bodyAnchor={el:Ext.getBody()})}},beforeShow:function(){var f=this;if(f.stickOnClick){f.body.on("click",function(){f.cancelAutoClose()})}if(f.autoClose){if(!f.closeTask){f.closeTask=new Ext.util.DelayedTask(f.doAutoClose,f)}}f.el.setX(-10000);f.el.setOpacity(1)},afterShow:function(){var o=this,s=o.el,p,t,q,n;Ext.window.Window.prototype.afterShow.apply(this,arguments);p=o.getToasts();q=p.length;t=q&&p[q-1];if(t){s.alignTo(t.el,o.siblingAlignment,[0,0]);o.xPos=o.getXposAlignedToSibling(t);o.yPos=o.getYposAlignedToSibling(t)}else{s.alignTo(o.anchor.el,o.anchorAlign,[(o.paddingX*o.paddingFactorX),(o.paddingY*o.paddingFactorY)],false);o.xPos=o.getXposAlignedToAnchor();o.yPos=o.getYposAlignedToAnchor()}Ext.Array.include(p,o);if(o.enableAnimations){n=s.getXY();s.animate({from:{x:n[0],y:n[1]},to:{x:o.xPos,y:o.yPos,opacity:1},easing:o.slideInAnimation,duration:o.slideInDuration,dynamic:true,callback:o.afterPositioned,scope:o})}else{o.setLocalXY(o.xPos,o.yPos);o.afterPositioned()}},afterPositioned:function(){var f=this;if(!f.destroying&&!f.destroyed&&f.autoClose){f.closeTask.delay(f.autoCloseDelay)}},onDocumentMousedown:function(e){if(this.isVisible()&&!this.owns(e.getTarget())){this.hide()}},slideBack:function(){var o=this,s=o.anchor,n=s&&s.el,q=o.el,p=o.getToasts(),t=Ext.Array.indexOf(p,o);if(!o.isHiding&&q&&q.dom&&n&&n.isVisible()){if(t){o.xPos=o.getXposAlignedToSibling(p[t-1]);o.yPos=o.getYposAlignedToSibling(p[t-1])}else{o.xPos=o.getXposAlignedToAnchor();o.yPos=o.getYposAlignedToAnchor()}o.stopAnimation();if(o.enableAnimations){q.animate({to:{x:o.xPos,y:o.yPos},easing:o.slideBackAnimation,duration:o.slideBackDuration,dynamic:true})}}},update:function(){var f=this;if(f.isVisible()){f.isHiding=true;f.hide()}Ext.window.Window.prototype.update.apply(this,arguments);f.show()},cancelAutoClose:function(){var f=this.closeTask;if(f){f.cancel()}},doAutoClose:function(){var f=this;if(!(f.stickWhileHover&&f.mouseIsOver)){f.close()}else{f.closeOnMouseOut=true}},doDestroy:function(){this.removeFromAnchor();this.cancelAutoClose();Ext.window.Window.prototype.doDestroy.call(this)},onMouseEnter:function(){this.mouseIsOver=true},onMouseLeave:function(){var f=this;f.mouseIsOver=false;if(f.closeOnMouseOut){f.closeOnMouseOut=false;f.close()}},removeFromAnchor:function(){var k=this,l,m;if(k.anchor){l=k.getToasts();m=Ext.Array.indexOf(l,k);if(m!==-1){Ext.Array.erase(l,m,1);for(;m<l.length;m++){l[m].slideBack()}}}},getFocusEl:Ext.emptyFn,hide:function(){var g=this,k=g.el;g.cancelAutoClose();if(g.isHiding){if(!g.isFading){Ext.window.Window.prototype.hide.apply(this,arguments);g.isHiding=false}}else{g.isHiding=true;g.isFading=true;g.cancelAutoClose();if(k){if(g.enableAnimations&&!g.destroying&&!g.destroyed){k.fadeOut({opacity:0,easing:"easeIn",duration:g.hideDuration,listeners:{scope:g,afteranimate:function(){var e=this;e.isFading=false;if(!e.destroying&&!e.destroyed){e.hide(e.animateTarget,e.doClose,e)}}}})}else{g.isFading=false;g.hide(g.animateTarget,g.doClose,g)}}}return g}},1,["toast"],["component","box","container","panel","window","toast"],{component:true,box:true,container:true,panel:true,window:true,toast:true},["widget.toast"],0,[Ext.window,"Toast"],function(f){Ext.toast=function(o,e,t,p){var q=o,s;if(Ext.isString(o)){q={title:e,html:o,iconCls:p};if(t){q.align=t}}s=new f(q);s.show();return s}}));(Ext.cmd.derive("Ext.ux.DataView.Animated",Ext.Base,{defaults:{duration:750,idProperty:"id"},constructor:function(f){Ext.apply(this,f||{},this.defaults)},init:function(u){var p=this,q=u.store,s=u.all,t={interval:20},v=p.duration;p.dataview=u;u.blockRefresh=true;u.updateIndexes=Ext.Function.createSequence(u.updateIndexes,function(){this.getTargetEl().select(this.itemSelector).each(function(f,e,g){f.dom.id=Ext.util.Format.format("{0}-{1}",u.id,q.getAt(g).internalId)},this)},u);p.dataviewID=u.id;p.cachedStoreData={};p.cacheStoreData(q.data||q.snapshot);u.on("resize",function(){var e=u.store;if(e.getCount()>0){}},this);u.store.on({datachanged:o,scope:this,buffer:50});function o(){var O=u.getTargetEl(),k=O.getY(),g=O.getPadding("t"),J=p.getAdded(q),L=p.getRemoved(q),f=p.getRemaining(q),n,M,P,m=new Ext.dom.Fly(),K=p.dataview.getInherited().rtl,N,R,H=K?"right":"left",e={};if(!O){return}Ext.iterate(L,function(w,x){P=p.dataviewID+"-"+w;Ext.fx.Manager.stopAnimation(P);x.dom=Ext.getDom(P);if(!x.dom){delete L[w]}});p.cacheStoreData(q);var Q={},l={};Ext.iterate(f,function(w,x){if(m.attach(Ext.getDom(p.dataviewID+"-"+w))){N=Q[w]={top:m.getY()-k-m.getMargin("t")-g};N[H]=p.getItemX(m)}else{delete f[w]}});u.refresh();Ext.iterate(L,function(w,x){O.dom.appendChild(x.dom);m.attach(x.dom).animate({duration:v,opacity:0,callback:function(y){var z=Ext.get(y.target.id);if(z){z.destroy()}}});delete x.dom});if(!q.getCount()){return}n=s.slice();for(M=n.length-1;M>=0;M--){P=q.getAt(M).internalId;m.attach(n[M]);l[P]={dom:m.dom,top:m.getY()-k-m.getMargin("t")-g};l[P][H]=p.getItemX(m);R=Q[P]||l[P];e.position="absolute";e.top=R.top+"px";e[H]=R.left+"px";m.applyStyles(e)}var I=function(){var z=new Date()-t.taskStartTime,x=z/v;if(x>=1){e.position=e.top=e[H]="";for(P in l){m.attach(l[P].dom).applyStyles(e)}Ext.TaskManager.stop(t)}else{for(P in f){var F=Q[P],C=l[P],E=F.top,B=C.top,G=F[H],A=C[H],D=x*Math.abs(E-B),y=x*Math.abs(G-A),w=E>B?E-D:E+D,T=G>A?G-y:G+y;e.top=w+"px";e[H]=T+"px";m.attach(C.dom).applyStyles(e)}}};Ext.iterate(J,function(w,x){if(m.attach(Ext.getDom(p.dataviewID+"-"+w))){m.setOpacity(0);m.animate({duration:v,opacity:1})}});Ext.TaskManager.stop(t);t.run=I;Ext.TaskManager.start(t);p.cacheStoreData(q)}},getItemX:function(l){var k=this.dataview.getInherited().rtl,m=l.up("");if(k){return m.getViewRegion().right-l.getRegion().right+l.getMargin("r")}else{return l.getX()-m.getX()-l.getMargin("l")-m.getPadding("l")}},cacheStoreData:function(k){var g=this.cachedStoreData={};k.each(function(e){g[e.internalId]=e})},getExisting:function(){return this.cachedStoreData},getExistingCount:function(){var k=0,l=this.getExisting();for(var m in l){k++}return k},getAdded:function(m){var k=this.cachedStoreData,l={};m.each(function(e){if(k[e.internalId]==null){l[e.internalId]=e}});return l},getRemoved:function(o){var n=this.cachedStoreData,m={},l;for(l in n){if(o.findBy(function(e){return e.internalId==l})==-1){m[l]=n[l]}}return m},getRemaining:function(m){var k=this.cachedStoreData,l={};m.each(function(e){if(k[e.internalId]!=null){l[e.internalId]=e}});return l}},1,0,0,0,["plugin.ux-animated-dataview"],0,[Ext.ux.DataView,"Animated"],0));(Ext.cmd.derive("Ext.ux.IFrame",Ext.Component,{loadMask:"Loading...",src:"about:blank",renderTpl:['<iframe src="{src}" id="{id}-iframeEl" data-ref="iframeEl" name="{frameName}" width="100%" height="100%" frameborder="0"></iframe>'],childEls:["iframeEl"],initComponent:function(){Ext.Component.prototype.initComponent.call(this);this.frameName=this.frameName||this.id+"-frame"},initEvents:function(){var f=this;Ext.Component.prototype.initEvents.call(this);f.iframeEl.on("load",f.onLoad,f)},initRenderData:function(){return Ext.apply(Ext.Component.prototype.initRenderData.call(this),{src:this.src,frameName:this.frameName})},getBody:function(){var f=this.getDoc();return f.body||f.documentElement},getDoc:function(){try{return this.getWin().document}catch(f){return null}},getWin:function(){var l=this,m=l.frameName,k=Ext.isIE?l.iframeEl.dom.contentWindow:window.frames[m];return k},getFrame:function(){var f=this;return f.iframeEl.dom},onLoad:function(){var k=this,g=k.getDoc();if(g){this.el.unmask();this.fireEvent("load",this)}else{if(k.src){this.el.unmask();this.fireEvent("error",this)}}},load:function(l){var o=this,m=o.loadMask,n=o.getFrame();if(o.fireEvent("beforeload",o,l)!==false){if(m&&o.el){o.el.mask(m)}n.src=o.src=(l||o.src)}}},0,["uxiframe"],["component","box","uxiframe"],{component:true,box:true,uxiframe:true},["widget.uxiframe"],0,[Ext.ux,"IFrame"],0));(Ext.cmd.derive("Ext.ux.TabCloseMenu",Ext.plugin.Abstract,{closeTabText:"Close Tab",showCloseOthers:true,closeOthersTabsText:"Close Other Tabs",showCloseAll:true,closeAllTabsText:"Close All Tabs",extraItemsHead:null,extraItemsTail:null,constructor:function(f){Ext.plugin.Abstract.prototype.constructor.call(this,f);this.mixins.observable.constructor.call(this,f)},init:function(f){this.tabPanel=f;this.tabBar=f.down("tabbar");this.mon(this.tabPanel,{scope:this,afterlayout:this.onAfterLayout,single:true})},onAfterLayout:function(){this.mon(this.tabBar.el,{scope:this,contextmenu:this.onContextMenu,delegate:".x-tab"})},destroy:function(){Ext.destroy(this.menu);Ext.plugin.Abstract.prototype.destroy.call(this)},onContextMenu:function(s,p){var t=this,x=t.createMenu(),q=true,w=true,u=t.tabBar.getChildByElement(p),v=t.tabBar.items.indexOf(u);t.item=t.tabPanel.getComponent(v);x.child("#close").setDisabled(!t.item.closable);if(t.showCloseAll||t.showCloseOthers){t.tabPanel.items.each(function(e){if(e.closable){q=false;if(e!==t.item){w=false;return false}}return true});if(t.showCloseAll){x.child("#closeAll").setDisabled(q)}if(t.showCloseOthers){x.child("#closeOthers").setDisabled(w)}}s.preventDefault();t.fireEvent("beforemenu",x,t.item,t);x.showAt(s.getXY())},createMenu:function(){var g=this;if(!g.menu){var k=[{itemId:"close",text:g.closeTabText,scope:g,handler:g.onClose}];if(g.showCloseAll||g.showCloseOthers){k.push("-")}if(g.showCloseOthers){k.push({itemId:"closeOthers",text:g.closeOthersTabsText,scope:g,handler:g.onCloseOthers})}if(g.showCloseAll){k.push({itemId:"closeAll",text:g.closeAllTabsText,scope:g,handler:g.onCloseAll})}if(g.extraItemsHead){k=g.extraItemsHead.concat(k)}if(g.extraItemsTail){k=k.concat(g.extraItemsTail)}g.menu=Ext.create("Ext.menu.Menu",{items:k,listeners:{hide:g.onHideMenu,scope:g}})}return g.menu},onHideMenu:function(){var f=this;f.fireEvent("aftermenu",f.menu,f)},onClose:function(){this.tabPanel.remove(this.item)},onCloseOthers:function(){this.doClose(true)},onCloseAll:function(){this.doClose(false)},doClose:function(g){var k=[];this.tabPanel.items.each(function(e){if(e.closable){if(!g||e!==this.item){k.push(e)}}},this);Ext.suspendLayouts();Ext.Array.forEach(k,function(e){this.tabPanel.remove(e)},this);Ext.resumeLayouts(true)}},1,0,0,0,["plugin.tabclosemenu"],[["observable",Ext.util.Observable]],[Ext.ux,"TabCloseMenu"],0));(Ext.cmd.derive("Ext.ux.colorpick.Selection",Ext.Base,{mixinId:"colorselection",config:{format:"hex6",value:"FF0000",color:null,previousColor:null},applyColor:function(k){var g=k;if(Ext.isString(g)){g=Ext.ux.colorpick.ColorUtils.parseColor(k)}return g},applyValue:function(k){var g=Ext.ux.colorpick.ColorUtils.parseColor(k||"#000000");return this.formatColor(g)},formatColor:function(f){return Ext.ux.colorpick.ColorUtils.formats[this.getFormat()](f)},updateColor:function(k){var g=this;if(!g.syncing){g.syncing=true;g.setValue(g.formatColor(k));g.syncing=false}},updateValue:function(k,m){var l=this;if(!l.syncing){l.syncing=true;l.setColor(k);l.syncing=false}this.fireEvent("change",l,k,m)}},0,0,0,0,0,0,[Ext.ux.colorpick,"Selection"],0));(Ext.cmd.derive("Ext.ux.colorpick.ColorUtils",Ext.Base,function(k){var g=Ext.isIE&&Ext.ieVersion<10;return{singleton:true,constructor:function(){k=this},backgroundTpl:g?"filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#{alpha}{hex}', endColorstr='#{alpha}{hex}');":"background: {rgba};",setBackground:g?function(f,p){if(f){var o=Ext.XTemplate.getTpl(k,"backgroundTpl"),e={hex:k.rgb2hex(p.r,p.g,p.b),alpha:Math.floor(p.a*255).toString(16)},q=o.apply(e);f.applyStyles(q)}}:function(f,p){if(f){var o=Ext.XTemplate.getTpl(k,"backgroundTpl"),e={rgba:k.getRGBAString(p)},q=o.apply(e);f.applyStyles(q)}},formats:{HEX6:function(e){return k.rgb2hex(e.r,e.g,e.b)},HEX8:function(m){var e=k.rgb2hex(m.r,m.g,m.b),f=Math.round(m.a*255).toString(16);if(f.length<2){e+="0"}e+=f.toUpperCase();return e}},hexRe:/#?([0-9a-f]{3,8})/i,rgbaAltRe:/rgba\(\s*([\w#\d]+)\s*,\s*([\d\.]+)\s*\)/,rgbaRe:/rgba\(\s*([\d\.]+)\s*,\s*([\d\.]+)\s*,\s*([\d\.]+)\s*,\s*([\d\.]+)\s*\)/,rgbRe:/rgb\(\s*([\d\.]+)\s*,\s*([\d\.]+)\s*,\s*([\d\.]+)\s*\)/,parseColor:function(q){if(!q){return null}var s=this,t=s.colorMap[q],e,f,p;if(t){f={r:t[0],g:t[1],b:t[2],a:1}}else{if(q==="transparent"){f={r:0,g:0,b:0,a:0}}else{e=s.hexRe.exec(q);if(e){e=e[1];switch(e.length){default:return null;case 3:f={r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1};break;case 6:case 8:f={r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:parseInt(e.substr(6,2)||"ff",16)/255};break}}else{e=s.rgbaRe.exec(q);if(e){f={r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}}else{e=s.rgbaAltRe.exec(q);if(e){f=s.parseColor(e[1]);f.a=parseFloat(e[2]);return f}e=s.rgbRe.exec(q);if(e){f={r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:1}}else{return null}}}}}p=this.rgb2hsv(f.r,f.g,f.b);return Ext.apply(f,p)},getRGBAString:function(e){return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},getRGBString:function(e){return"rgb("+e.r+","+e.g+","+e.b+")"},hsv2rgb:function(u,v,x){u=u*360;if(u===360){u=0}var m=x*v;var e=u/60;var f=m*(1-Math.abs(e%2-1));var w=[0,0,0];switch(Math.floor(e)){case 0:w=[m,f,0];break;case 1:w=[f,m,0];break;case 2:w=[0,m,f];break;case 3:w=[0,f,m];break;case 4:w=[f,0,m];break;case 5:w=[m,0,f];break;default:break}var s=x-m;w[0]+=s;w[1]+=s;w[2]+=s;w[0]=Math.round(w[0]*255);w[1]=Math.round(w[1]*255);w[2]=Math.round(w[2]*255);return{r:w[0],g:w[1],b:w[2]}},rgb2hsv:function(y,m,C){y=y/255;m=m/255;C=C/255;var f=Math.max(y,m,C);var v=Math.min(y,m,C);var e=f-v;var A=0;if(e!==0){if(f===y){A=((m-C)/e)%6}else{if(f===m){A=((C-y)/e)+2}else{if(f===C){A=((y-m)/e)+4}}}}var s=A*60;if(s===360){s=0}var B=f;var z=0;if(e!==0){z=e/B}s=s/360;if(s<0){s=s+1}return{h:s,s:z,v:B}},rgb2hex:function(e,f,n){e=e.toString(16);f=f.toString(16);n=n.toString(16);if(e.length<2){e="0"+e}if(f.length<2){f="0"+f}if(n.length<2){n="0"+n}return(e+f+n).toUpperCase()},colorMap:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]}}},1,0,0,0,0,0,[Ext.ux.colorpick,"ColorUtils"],function(k){var m=k.formats,l={};m["#HEX6"]=function(e){return"#"+m.HEX6(e)};m["#HEX8"]=function(e){return"#"+m.HEX8(e)};Ext.Object.each(m,function(f,e){l[f.toLowerCase()]=function(g){var o=e(g);return o.toLowerCase()}});Ext.apply(m,l)}));(Ext.cmd.derive("Ext.ux.colorpick.ColorMapController",Ext.app.ViewController,{onFirstBoxReady:function(){var l=this,m=l.getView(),n=m.down("#dragHandle"),o=n.dd;o.constrain=true;o.constrainTo=m.getEl();o.initialConstrainTo=o.constrainTo;o.on("drag",Ext.bind(l.onHandleDrag,l));l.mon(m.getEl(),{mousedown:l.onMouseDown,dragstart:l.onDragStart,scope:l})},onHandleDrag:function(A,x){var v=this,C=v.getView(),w=C.down("#dragHandle"),E=w.getX()-C.getX(),e=w.getY()-C.getY(),y=C.getEl(),F=y.getWidth(),D=y.getHeight(),B=E/F,z=e/D;if(B>0.99){B=1}if(z>0.99){z=1}C.fireEvent("handledrag",B,z)},onMouseDown:function(e){var m=this,n=m.getView(),o=n.down("#dragHandle");o.setY(e.getY());o.setX(e.getX());m.onHandleDrag();o.dd.onMouseDown(e,o.dd.el)},onDragStart:function(e){var m=this,n=m.getView(),o=n.down("#dragHandle");o.dd.onDragStart(e,o.dd.el)},onMapClick:function(w){var q=this,s=q.getView(),u=s.down("#dragHandle"),v=s.getXY(),t=w.getXY(),x,e;x=t[0]-v[0];e=t[1]-v[1];u.getEl().setStyle({left:x+"px",top:e+"px"});q.onHandleDrag()},onColorBindingChanged:function(F){var J=this,C=J.getViewModel(),A=C.get("selectedColor"),z,E=J.getView(),w=E.down("#dragHandle"),x=E.getEl(),H=x.getWidth(),G=x.getHeight(),D,y,B,I;z=Ext.ux.colorpick.ColorUtils.rgb2hsv(A.r,A.g,A.b);D=z.s;B=H*D;y=1-z.v;I=G*y;w.getEl().setStyle({left:B+"px",top:I+"px"})},onHueBindingChanged:function(p){var m=this,o=m.getViewModel(),q,n;q=Ext.ux.colorpick.ColorUtils.hsv2rgb(p,1,1);n=Ext.ux.colorpick.ColorUtils.rgb2hex(q.r,q.g,q.b);m.getView().getEl().applyStyles({"background-color":"#"+n})}},0,0,0,0,["controller.colorpickercolormapcontroller"],0,[Ext.ux.colorpick,"ColorMapController"],0));(Ext.cmd.derive("Ext.ux.colorpick.ColorMap",Ext.container.Container,{controller:"colorpickercolormapcontroller",cls:"x-colorpicker-colormap",items:[{xtype:"component",cls:"x-colorpicker-colormap-draghandle-container",itemId:"dragHandle",width:1,height:1,draggable:true,html:'<div class="x-colorpicker-colormap-draghandle"></div>'}],listeners:{boxready:{single:true,fn:"onFirstBoxReady",scope:"controller"},colorbindingchanged:{fn:"onColorBindingChanged",scope:"controller"},huebindingchanged:{fn:"onHueBindingChanged",scope:"controller"}},afterRender:function(){var l=this,k=l.mapGradientUrl,m=l.el;Ext.container.Container.prototype.afterRender.call(this);if(!k){k=m.getStyle("background-image");k=k.substring(4,k.length-1);if(k.indexOf('"')===0){k=k.substring(1,k.length-1)}Ext.ux.colorpick.ColorMap.prototype.mapGradientUrl=k}m.setStyle("background-image","none");m=l.layout.getElementTarget();m.createChild({tag:"img",cls:"x-colorpicker-colormap-blender",src:k})},setPosition:function(k){var l=this,m=l.down("#dragHandle");if(!m.dd||!m.dd.constrain){return}if(typeof m.dd.dragEnded!=="undefined"&&!m.dd.dragEnded){return}l.fireEvent("colorbindingchanged",k)},setHue:function(k){var g=this;if(!g.getEl()){return}g.fireEvent("huebindingchanged",k)}},0,["colorpickercolormap"],["component","box","container","colorpickercolormap"],{component:true,box:true,container:true,colorpickercolormap:true},["widget.colorpickercolormap"],0,[Ext.ux.colorpick,"ColorMap"],0));(Ext.cmd.derive("Ext.ux.colorpick.SelectorModel",Ext.app.ViewModel,{data:{selectedColor:{r:255,g:255,b:255,h:0,s:1,v:1,a:1},previousColor:{r:0,g:0,b:0,h:0,s:1,v:1,a:1}},formulas:{hex:{get:function(o){var g=o("selectedColor.r").toString(16),n=o("selectedColor.g").toString(16),p=o("selectedColor.b").toString(16),q;q=Ext.ux.colorpick.ColorUtils.rgb2hex(g,n,p);return"#"+q},set:function(g){var k=Ext.ux.colorpick.ColorUtils.hex2rgb(g);this.changeRGB(k)}},red:{get:function(f){return f("selectedColor.r")},set:function(f){this.changeRGB({r:f})}},green:{get:function(f){return f("selectedColor.g")},set:function(f){this.changeRGB({g:f})}},blue:{get:function(f){return f("selectedColor.b")},set:function(f){this.changeRGB({b:f})}},hue:{get:function(f){return f("selectedColor.h")*360},set:function(f){this.changeHSV({h:f/360})}},saturation:{get:function(f){return f("selectedColor.s")*100},set:function(f){this.changeHSV({s:f/100})}},value:{get:function(g){var k=g("selectedColor.v");return k*100},set:function(f){this.changeHSV({v:f/100})}},alpha:{get:function(g){var k=g("selectedColor.a");return k*100},set:function(f){this.set("selectedColor",Ext.applyIf({a:f/100},this.data.selectedColor))}}},changeHSV:function(g){Ext.applyIf(g,this.data.selectedColor);var k=Ext.ux.colorpick.ColorUtils.hsv2rgb(g.h,g.s,g.v);g.r=k.r;g.g=k.g;g.b=k.b;this.set("selectedColor",g)},changeRGB:function(g){Ext.applyIf(g,this.data.selectedColor);var k=Ext.ux.colorpick.ColorUtils.rgb2hsv(g.r,g.g,g.b);g.h=k.h;g.s=k.s;g.v=k.v;this.set("selectedColor",g)}},0,0,0,0,["viewmodel.colorpick-selectormodel"],0,[Ext.ux.colorpick,"SelectorModel"],0));(Ext.cmd.derive("Ext.ux.colorpick.SelectorController",Ext.app.ViewController,{destroy:function(){var k=this,l=k.getView(),m=l.childViewModel;if(m){m.destroy();l.childViewModel=null}Ext.app.ViewController.prototype.destroy.call(this)},changeHSV:function(l){var o=this.getView(),n=o.getColor(),m;Ext.applyIf(l,n);m=Ext.ux.colorpick.ColorUtils.hsv2rgb(l.h,l.s,l.v);Ext.apply(l,m);o.setColor(l)},onColorMapHandleDrag:function(g,k){this.changeHSV({s:g,v:1-k})},onValueSliderHandleDrag:function(f){this.changeHSV({v:1-f})},onSaturationSliderHandleDrag:function(f){this.changeHSV({s:1-f})},onHueSliderHandleDrag:function(f){this.changeHSV({h:1-f})},onAlphaSliderHandleDrag:function(m){var o=this.getView(),n=o.getColor(),l=Ext.applyIf({a:1-m},n);o.setColor(l);o.el.repaint()},onPreviousColorSelected:function(k,l){var m=this.getView();m.setColor(l)},onOK:function(){var g=this,k=g.getView();k.fireEvent("ok",k,k.getValue())},onCancel:function(){this.fireViewEvent("cancel",this.getView())},onResize:function(){var w=this,u=w.getView(),x=u.childViewModel,s=w.getReferences(),p,q,t,v;if(!w.hasResizedOnce){w.hasResizedOnce=true;return}p=x.get("hue");q=x.get("saturation");t=x.get("value");v=x.get("alpha");s.colorMap.setPosition(x.getData());s.hueSlider.setHue(p);s.satSlider.setSaturation(q);s.valueSlider.setValue(t);s.alphaSlider.setAlpha(v)}},0,0,0,0,["controller.colorpick-selectorcontroller"],0,[Ext.ux.colorpick,"SelectorController"],0));(Ext.cmd.derive("Ext.ux.colorpick.ColorPreview",Ext.Component,{style:"position: relative",html:'<div class="x-colorpreview-filter" style="height:100%; width:100%; position: absolute;"></div><a class="btn" style="height:100%; width:100%; position: absolute;"></a>',cls:"x-colorpreview",height:256,onRender:function(){var f=this;Ext.Component.prototype.onRender.apply(this,arguments);f.mon(f.el.down(".btn"),"click",f.onClick,f)},onClick:function(){this.fireEvent("click",this,this.color)},setColor:function(m){var k=this,l=k.getEl();if(!l){return}k.color=m;k.applyBgStyle(m)},bgStyleTpl:Ext.create("Ext.XTemplate",Ext.isIE&&Ext.ieVersion<10?"filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#{hexAlpha}{hex}', endColorstr='#{hexAlpha}{hex}');":"background: {rgba};"),applyBgStyle:function(t){var q=this,z=Ext.ux.colorpick.ColorUtils,y=".x-colorpreview-filter",x=q.getEl().down(y),w,v,u,s;w=z.rgb2hex(t.r,t.g,t.b);v=Ext.util.Format.hex(Math.floor(t.a*255),2);u=z.getRGBAString(t);s=this.bgStyleTpl.apply({hex:w,hexAlpha:v,rgba:u});x.applyStyles(s)}},0,["colorpickercolorpreview"],["component","box","colorpickercolorpreview"],{component:true,box:true,colorpickercolorpreview:true},["widget.colorpickercolorpreview"],0,[Ext.ux.colorpick,"ColorPreview"],0));(Ext.cmd.derive("Ext.ux.colorpick.SliderController",Ext.app.ViewController,{boxReady:function(n){var m=this,o=m.getDragContainer(),p=m.getDragHandle(),q=p.dd;q.constrain=true;q.constrainTo=o.getEl();q.initialConstrainTo=q.constrainTo;q.on("drag",m.onHandleDrag,m)},getDragHandle:function(){return this.view.lookupReference("dragHandle")},getDragContainer:function(){return this.view.lookupReference("dragHandleContainer")},onHandleDrag:function(w){var u=this,s=u.getView(),z=u.getDragContainer(),v=u.getDragHandle(),t=v.getY()-z.getY(),x=z.getEl(),e=x.getHeight(),y=t/e;if(y>0.99){y=1}s.fireEvent("handledrag",y)},onMouseDown:function(m){var n=this,o=n.getDragHandle(),e=m.getY();o.setY(e);n.onHandleDrag();o.el.repaint();o.dd.onMouseDown(m,o.dd.el)},onDragStart:function(e){var l=this,m=l.getDragHandle();m.dd.onDragStart(e,m.dd.el)},onMouseUp:function(){var f=this.getDragHandle();f.dd.dragEnded=true}},0,0,0,0,["controller.colorpick-slidercontroller"],0,[Ext.ux.colorpick,"SliderController"],0));(Ext.cmd.derive("Ext.ux.colorpick.Slider",Ext.container.Container,{controller:"colorpick-slidercontroller",afterRender:function(){Ext.container.Container.prototype.afterRender.apply(this,arguments);var m=this.width,k=this.lookupReference("dragHandleContainer"),l=k.getWidth();k.el.setStyle("left",((m-l)/2)+"px")},baseCls:"x-colorpicker-slider",referenceHolder:true,listeners:{element:"el",mousedown:"onMouseDown",mouseup:"onMouseUp",dragstart:"onDragStart"},items:{xtype:"container",cls:"x-colorpicker-draghandle-container",reference:"dragHandleContainer",height:"100%",items:{xtype:"component",cls:"x-colorpicker-draghandle-outer",reference:"dragHandle",width:"100%",height:1,draggable:true,html:'<div class="x-colorpicker-draghandle"></div>'}},getDragHandle:function(){return this.lookupReference("dragHandle")},getDragContainer:function(){return this.lookupReference("dragHandleContainer")}},0,["colorpickerslider"],["component","box","container","colorpickerslider"],{component:true,box:true,container:true,colorpickerslider:true},["widget.colorpickerslider"],0,[Ext.ux.colorpick,"Slider"],0));(Ext.cmd.derive("Ext.ux.colorpick.SliderAlpha",Ext.ux.colorpick.Slider,{cls:"x-colorpicker-alpha",gradientStyleTpl:Ext.create("Ext.XTemplate",Ext.isIE&&Ext.ieVersion<10?"filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#FF{hex}', endColorstr='#00{hex}');":"background: -moz-linear-gradient(top, rgba({r}, {g}, {b}, 1) 0%, rgba({r}, {g}, {b}, 0) 100%);background: -webkit-linear-gradient(top,rgba({r}, {g}, {b}, 1) 0%, rgba({r}, {g}, {b}, 0) 100%);background: -o-linear-gradient(top, rgba({r}, {g}, {b}, 1) 0%, rgba({r}, {g}, {b}, 0) 100%);background: -ms-linear-gradient(top, rgba({r}, {g}, {b}, 1) 0%, rgba({r}, {g}, {b}, 0) 100%);background: linear-gradient(to bottom, rgba({r}, {g}, {b}, 1) 0%, rgba({r}, {g}, {b}, 0) 100%);"),setAlpha:function(x){var s=this,u=s.getDragContainer(),v=s.getDragHandle(),p=u.getEl(),q=p.getHeight(),t,w;if(!v.dd||!v.dd.constrain){return}if(typeof v.dd.dragEnded!=="undefined"&&!v.dd.dragEnded){return}w=q*(1-(x/100));t=v.getEl();t.setStyle({top:w+"px"})},setColor:function(p){var m=this,q=m.getDragContainer(),n,o;if(!m.getEl()){return}n=Ext.ux.colorpick.ColorUtils.rgb2hex(p.r,p.g,p.b);o=q.getEl().first();o.applyStyles(m.gradientStyleTpl.apply({hex:n,r:p.r,g:p.g,b:p.b}))}},0,["colorpickerslideralpha"],["component","box","container","colorpickerslider","colorpickerslideralpha"],{component:true,box:true,container:true,colorpickerslider:true,colorpickerslideralpha:true},["widget.colorpickerslideralpha"],0,[Ext.ux.colorpick,"SliderAlpha"],0));(Ext.cmd.derive("Ext.ux.colorpick.SliderSaturation",Ext.ux.colorpick.Slider,{cls:"x-colorpicker-saturation",gradientStyleTpl:Ext.create("Ext.XTemplate",Ext.isIE&&Ext.ieVersion<10?"filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#{hex}', endColorstr='#ffffff');":"background: -mox-linear-gradient(top, #{hex} 0%, #ffffff 100%);background: -webkit-linear-gradient(top, #{hex} 0%,#ffffff 100%);background: -o-linear-gradient(top, #{hex} 0%,#ffffff 100%);background: -ms-linear-gradient(top, #{hex} 0%,#ffffff 100%);background: linear-gradient(to bottom, #{hex} 0%,#ffffff 100%);"),setSaturation:function(q){var s=this,u=s.getDragContainer(),v=s.getDragHandle(),x=u.getEl(),p=x.getHeight(),t,w;if(!v.dd||!v.dd.constrain){return}if(typeof v.dd.dragEnded!=="undefined"&&!v.dd.dragEnded){return}t=1-(q/100);w=p*t;v.getEl().setStyle({top:w+"px"})},setHue:function(p){var m=this,q=m.getDragContainer(),o,n;if(!m.getEl()){return}o=Ext.ux.colorpick.ColorUtils.hsv2rgb(p,1,1);n=Ext.ux.colorpick.ColorUtils.rgb2hex(o.r,o.g,o.b);q.getEl().applyStyles(m.gradientStyleTpl.apply({hex:n}))}},0,["colorpickerslidersaturation"],["component","box","container","colorpickerslider","colorpickerslidersaturation"],{component:true,box:true,container:true,colorpickerslider:true,colorpickerslidersaturation:true},["widget.colorpickerslidersaturation"],0,[Ext.ux.colorpick,"SliderSaturation"],0));(Ext.cmd.derive("Ext.ux.colorpick.SliderValue",Ext.ux.colorpick.Slider,{cls:"x-colorpicker-value",gradientStyleTpl:Ext.create("Ext.XTemplate",Ext.isIE&&Ext.ieVersion<10?"filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#{hex}', endColorstr='#000000');":"background: -mox-linear-gradient(top, #{hex} 0%, #000000 100%);background: -webkit-linear-gradient(top, #{hex} 0%,#000000 100%);background: -o-linear-gradient(top, #{hex} 0%,#000000 100%);background: -ms-linear-gradient(top, #{hex} 0%,#000000 100%);background: linear-gradient(to bottom, #{hex} 0%,#000000 100%);"),setValue:function(x){var s=this,u=s.getDragContainer(),v=s.getDragHandle(),p=u.getEl(),q=p.getHeight(),t,w;if(!v.dd||!v.dd.constrain){return}if(typeof v.dd.dragEnded!=="undefined"&&!v.dd.dragEnded){return}t=1-(x/100);w=q*t;v.getEl().setStyle({top:w+"px"})},setHue:function(p){var m=this,q=m.getDragContainer(),o,n;if(!m.getEl()){return}o=Ext.ux.colorpick.ColorUtils.hsv2rgb(p,1,1);n=Ext.ux.colorpick.ColorUtils.rgb2hex(o.r,o.g,o.b);q.getEl().applyStyles(m.gradientStyleTpl.apply({hex:n}))}},0,["colorpickerslidervalue"],["component","box","container","colorpickerslider","colorpickerslidervalue"],{component:true,box:true,container:true,colorpickerslider:true,colorpickerslidervalue:true},["widget.colorpickerslidervalue"],0,[Ext.ux.colorpick,"SliderValue"],0));(Ext.cmd.derive("Ext.ux.colorpick.SliderHue",Ext.ux.colorpick.Slider,{cls:"x-colorpicker-hue",afterRender:function(){var l=this,k=l.gradientUrl,m=l.el;Ext.ux.colorpick.Slider.prototype.afterRender.call(this);if(!k){k=m.getStyle("background-image");k=k.substring(4,k.length-1);if(k.indexOf('"')===0){k=k.substring(1,k.length-1)}Ext.ux.colorpick.SliderHue.prototype.gradientUrl=k}m.setStyle("background-image","none");m=l.getDragContainer().layout.getElementTarget();m.createChild({tag:"img",cls:"x-colorpicker-hue-gradient",src:k})},setHue:function(t){var q=this,u=q.getDragContainer(),v=q.getDragHandle(),x=u.getEl(),p=x.getHeight(),s,w;if(!v.dd||!v.dd.constrain){return}if(typeof v.dd.dragEnded!=="undefined"&&!v.dd.dragEnded){return}w=p*(1-t);s=v.getEl();s.setStyle({top:w+"px"})}},0,["colorpickersliderhue"],["component","box","container","colorpickerslider","colorpickersliderhue"],{component:true,box:true,container:true,colorpickerslider:true,colorpickersliderhue:true},["widget.colorpickersliderhue"],0,[Ext.ux.colorpick,"SliderHue"],0));(Ext.cmd.derive("Ext.ux.colorpick.Selector",Ext.container.Container,{controller:"colorpick-selectorcontroller",width:580,height:337,cls:"x-colorpicker",padding:10,layout:{type:"hbox",align:"stretch"},defaultBindProperty:"value",twoWayBindable:["value"],fieldWidth:50,fieldPad:5,showPreviousColor:false,showOkCancelButtons:false,listeners:{resize:"onResize"},constructor:function(l){var k=this,m=Ext.Factory.viewModel("colorpick-selectormodel");k.childViewModel=m;k.items=[k.getMapAndHexRGBFields(m),k.getSliderAndHField(m),k.getSliderAndSField(m),k.getSliderAndVField(m),k.getSliderAndAField(m),k.getPreviewAndButtons(m,l)];k.childViewModel.bind("{selectedColor}",function(e){k.setColor(e)});Ext.container.Container.prototype.constructor.apply(this,arguments)},updateColor:function(k){var g=this;g.mixins.colorselection.updateColor.call(g,k);g.childViewModel.set("selectedColor",k)},updatePreviousColor:function(f){this.childViewModel.set("previousColor",f)},getMapAndHexRGBFields:function(o){var m=this,l={top:0,right:m.fieldPad,bottom:0,left:0},n=m.fieldWidth;return{xtype:"container",viewModel:o,cls:"x-colorpicker-escape-overflow",flex:1,layout:{type:"vbox",align:"stretch"},margin:"0 10 0 0",items:[{xtype:"colorpickercolormap",reference:"colorMap",flex:1,bind:{position:{bindTo:"{selectedColor}",deep:true},hue:"{selectedColor.h}"},listeners:{handledrag:"onColorMapHandleDrag"}},{xtype:"container",layout:"hbox",defaults:{labelAlign:"top",labelSeparator:"",allowBlank:false,onChange:function(){if(this.isValid()){Ext.form.field.Base.prototype.onChange.apply(this,arguments)}}},items:[{xtype:"textfield",fieldLabel:"HEX",flex:1,bind:"{hex}",margin:l,readOnly:true},{xtype:"numberfield",fieldLabel:"R",bind:"{red}",width:n,hideTrigger:true,maxValue:255,minValue:0,margin:l},{xtype:"numberfield",fieldLabel:"G",bind:"{green}",width:n,hideTrigger:true,maxValue:255,minValue:0,margin:l},{xtype:"numberfield",fieldLabel:"B",bind:"{blue}",width:n,hideTrigger:true,maxValue:255,minValue:0,margin:0}]}]}},getSliderAndHField:function(m){var k=this,l=k.fieldWidth;return{xtype:"container",viewModel:m,cls:"x-colorpicker-escape-overflow",width:l,layout:{type:"vbox",align:"stretch"},items:[{xtype:"colorpickersliderhue",reference:"hueSlider",flex:1,bind:{hue:"{selectedColor.h}"},width:l,listeners:{handledrag:"onHueSliderHandleDrag"}},{xtype:"numberfield",fieldLabel:"H",labelAlign:"top",labelSeparator:"",bind:"{hue}",hideTrigger:true,maxValue:360,minValue:0,allowBlank:false,margin:0}]}},getSliderAndSField:function(m){var k=this,l=k.fieldWidth;return{xtype:"container",viewModel:m,cls:"x-colorpicker-escape-overflow",width:l,layout:{type:"vbox",align:"stretch"},margin:{right:k.fieldPad,left:k.fieldPad},items:[{xtype:"colorpickerslidersaturation",reference:"satSlider",flex:1,bind:{saturation:"{saturation}",hue:"{selectedColor.h}"},width:l,listeners:{handledrag:"onSaturationSliderHandleDrag"}},{xtype:"numberfield",fieldLabel:"S",labelAlign:"top",labelSeparator:"",bind:"{saturation}",hideTrigger:true,maxValue:100,minValue:0,allowBlank:false,margin:0}]}},getSliderAndVField:function(m){var k=this,l=k.fieldWidth;return{xtype:"container",viewModel:m,cls:"x-colorpicker-escape-overflow",width:l,layout:{type:"vbox",align:"stretch"},items:[{xtype:"colorpickerslidervalue",reference:"valueSlider",flex:1,bind:{value:"{value}",hue:"{selectedColor.h}"},width:l,listeners:{handledrag:"onValueSliderHandleDrag"}},{xtype:"numberfield",fieldLabel:"V",labelAlign:"top",labelSeparator:"",bind:"{value}",hideTrigger:true,maxValue:100,minValue:0,allowBlank:false,margin:0}]}},getSliderAndAField:function(m){var k=this,l=k.fieldWidth;return{xtype:"container",viewModel:m,cls:"x-colorpicker-escape-overflow",width:l,layout:{type:"vbox",align:"stretch"},margin:{left:k.fieldPad},items:[{xtype:"colorpickerslideralpha",reference:"alphaSlider",flex:1,bind:{alpha:"{alpha}",color:{bindTo:"{selectedColor}",deep:true}},width:l,listeners:{handledrag:"onAlphaSliderHandleDrag"}},{xtype:"numberfield",fieldLabel:"A",labelAlign:"top",labelSeparator:"",bind:"{alpha}",hideTrigger:true,maxValue:100,minValue:0,allowBlank:false,margin:0}]}},getPreviewAndButtons:function(m,k){var l=[{xtype:"colorpickercolorpreview",flex:1,bind:{color:{bindTo:"{selectedColor}",deep:true}}}];if(k.showPreviousColor){l.push({xtype:"colorpickercolorpreview",flex:1,bind:{color:{bindTo:"{previousColor}",deep:true}},listeners:{click:"onPreviousColorSelected"}})}if(k.showOkCancelButtons){l.push({xtype:"button",text:"OK",margin:"10 0 0 0",handler:"onOK"},{xtype:"button",text:"Cancel",margin:"10 0 0 0",handler:"onCancel"})}return{xtype:"container",viewModel:m,width:70,margin:"0 0 0 10",items:l,layout:{type:"vbox",align:"stretch"}}}},1,["colorselector"],["component","box","container","colorselector"],{component:true,box:true,container:true,colorselector:true},["widget.colorselector"],[[Ext.ux.colorpick.Selection.prototype.mixinId||Ext.ux.colorpick.Selection.$className,Ext.ux.colorpick.Selection]],[Ext.ux.colorpick,"Selector"],0));(Ext.cmd.derive("Ext.ux.colorpick.Field",Ext.form.field.Picker,{editable:false,matchFieldWidth:false,beforeBodyEl:['<div class="x-colorpicker-field-swatch"><div id="{id}-swatchEl" data-ref="swatchEl" class="x-colorpicker-field-swatch-inner"></div></div>'],cls:"x-colorpicker-field",childEls:["swatchEl"],config:{popup:{lazy:true,$value:{xtype:"window",closeAction:"hide",referenceHolder:true,minWidth:540,minHeight:200,layout:"fit",header:false,resizable:true,items:{xtype:"colorselector",reference:"selector",showPreviousColor:true,showOkCancelButtons:true}}}},afterRender:function(){Ext.form.field.Picker.prototype.afterRender.call(this);this.updateValue(this.value)},createPicker:function(){var k=this,m=k.getPopup(),l;k.colorPickerWindow=m=Ext.create(m);k.colorPicker=l=m.lookupReference("selector");l.setFormat(k.getFormat());l.setColor(k.getColor());l.on({ok:"onColorPickerOK",cancel:"onColorPickerCancel",scope:k});m.on({close:"onColorPickerCancel",scope:k});return k.colorPickerWindow},onColorPickerOK:function(f){this.setColor(f.getColor());this.collapse()},onColorPickerCancel:function(){this.collapse()},onExpand:function(){var f=this.getColor();this.colorPicker.setPreviousColor(f)},setValue:function(m){var l=this,k=l.applyValue(m);(arguments.callee.$previous||Ext.form.field.Picker.prototype.setValue).call(this,k);l.updateValue(k)},updateFormat:function(g){var k=this.colorPicker;if(k){k.setFormat(g)}},updateValue:function(m){var l=this,k;if(!l.syncing){l.syncing=true;l.setColor(m);l.syncing=false}k=l.getColor();Ext.ux.colorpick.ColorUtils.setBackground(l.swatchEl,k);if(l.colorPicker){l.colorPicker.setColor(k)}}},0,["colorfield"],["component","box","field","textfield","pickerfield","colorfield"],{component:true,box:true,field:true,textfield:true,pickerfield:true,colorfield:true},["widget.colorfield"],[[Ext.ux.colorpick.Selection.prototype.mixinId||Ext.ux.colorpick.Selection.$className,Ext.ux.colorpick.Selection]],[Ext.ux.colorpick,"Field"],0));(Ext.cmd.derive("Ext.ux.form.MultiSelect",Ext.form.FieldContainer,{alternateClassName:"Ext.ux.Multiselect",layout:"anchor",ddReorder:false,appendOnly:false,displayField:"text",allowBlank:true,minSelections:0,maxSelections:Number.MAX_VALUE,blankText:"This field is required",minSelectionsText:"Minimum {0} item(s) required",maxSelectionsText:"Maximum {0} item(s) required",delimiter:",",dragText:"{0} Item{1}",ignoreSelectChange:0,pageSize:10,initComponent:function(){var f=this;f.items=f.setupItems();f.bindStore(f.store,true);Ext.form.FieldContainer.prototype.initComponent.call(this);f.initField()},setupItems:function(){var f=this;f.boundList=new Ext.view.BoundList(Ext.apply({anchor:"none 100%",border:1,multiSelect:true,store:f.store,displayField:f.displayField,disabled:f.disabled,tabIndex:0,navigationModel:{type:"default"}},f.listConfig));f.boundList.getNavigationModel().addKeyBindings({pageUp:f.onKeyPageUp,pageDown:f.onKeyPageDown,scope:f});f.boundList.getSelectionModel().on("selectionchange",f.onSelectChange,f);f.boundList.pickerField=f;if(!f.title){return f.boundList}f.boundList.border=false;return{xtype:"panel",isAriaRegion:false,border:true,anchor:"none 100%",layout:"anchor",title:f.title,tbar:f.tbar,items:f.boundList}},onSelectChange:function(k,g){if(!this.ignoreSelectChange){this.setValue(g)}},getSelected:function(){return this.boundList.getSelectionModel().getSelection()},isEqual:function(m,n){var p=Ext.Array.from,o=0,q;m=p(m);n=p(n);q=m.length;if(q!==n.length){return false}for(;o<q;o++){if(n[o]!==m[o]){return false}}return true},afterRender:function(){var l=this,m=l.boundList,n,o;Ext.form.FieldContainer.prototype.afterRender.call(this);if(l.selectOnRender){n=l.getRecordsForValue(l.value);if(n.length){++l.ignoreSelectChange;l.boundList.getSelectionModel().select(n);--l.ignoreSelectChange}delete l.toSelect}if(l.ddReorder&&!l.dragGroup&&!l.dropGroup){l.dragGroup=l.dropGroup="MultiselectDD-"+Ext.id()}if(l.draggable||l.dragGroup){l.dragZone=Ext.create("Ext.view.DragZone",{view:l.boundList,ddGroup:l.dragGroup,dragText:l.dragText})}if(l.droppable||l.dropGroup){l.dropZone=Ext.create("Ext.view.DropZone",{view:l.boundList,ddGroup:l.dropGroup,handleNodeDrop:function(g,k,f){var e=this.view,u=e.getStore(),v=g.records,t;g.view.store.remove(v);t=u.indexOf(k);if(f==="after"){t++}u.insert(t,v);e.getSelectionModel().select(v);l.fireEvent("drop",l,v)}})}o=l.down("panel");if(o&&m){m.ariaEl.dom.setAttribute("aria-labelledby",o.header.id+"-title-textEl")}},onKeyPageUp:function(u){var v=this,s=v.pageSize,q=v.boundList,t=q.getNavigationModel(),p,e;p=t.recordIndex;e=p>s?p-s:0;t.setPosition(e,u)},onKeyPageDown:function(v){var w=this,t=w.pageSize,s=w.boundList,u=s.getNavigationModel(),x,q,e;x=s.getStore().getCount();q=u.recordIndex;e=q<(x-t)?q+t:x-1;u.setPosition(e,v)},isValid:function(){var l=this,m=l.disabled,k=l.forceValidation||!m;return k?l.validateValue(l.value):m},validateValue:function(n){var o=this,l=o.getErrors(n),m=Ext.isEmpty(l);if(!o.preventMark){if(m){o.clearInvalid()}else{o.markInvalid(l)}}return m},markInvalid:function(k){var l=this,m=l.getActiveError();l.setActiveErrors(Ext.Array.from(k));if(m!==l.getActiveError()){l.updateLayout()}},clearInvalid:function(){var g=this,k=g.hasActiveError();g.unsetActiveError();if(k){g.updateLayout()}},getSubmitData:function(){var m=this,l=null,k;if(!m.disabled&&m.submitValue&&!m.isFileUpload()){k=m.getSubmitValue();if(k!==null){l={};l[m.getName()]=k}}return l},getSubmitValue:function(){var l=this,m=l.delimiter,k=l.getValue();return Ext.isString(m)?k.join(m):k},getValue:function(){return this.value||[]},getRecordsForValue:function(v){var w=this,B=[],u=w.store.getRange(),s=w.valueField,y=0,t=u.length,A,z,x;for(x=v.length;y<x;++y){for(z=0;z<t;++z){A=u[z];if(A.get(s)==v[y]){B.push(A)}}}return B},setupValue:function(v){var t=this.delimiter,q=this.valueField,p=0,s,u,o;if(Ext.isDefined(v)){if(t&&Ext.isString(v)){v=v.split(t)}else{if(!Ext.isArray(v)){v=[v]}}for(u=v.length;p<u;++p){o=v[p];if(o&&o.isModel){v[p]=o.get(q)}}s=Ext.Array.unique(v)}else{s=[]}return s},setValue:function(l){var m=this,n=m.boundList.getSelectionModel(),o=m.store;if(!o.getCount()){o.on({load:Ext.Function.bind(m.setValue,m,[l]),single:true});return}l=m.setupValue(l);m.mixins.field.setValue.call(m,l);if(m.rendered){++m.ignoreSelectChange;n.deselectAll();if(l.length){n.select(m.getRecordsForValue(l))}--m.ignoreSelectChange}else{m.selectOnRender=true}},clearValue:function(){this.setValue([])},onEnable:function(){var f=this.boundList;Ext.form.FieldContainer.prototype.onEnable.call(this);if(f){f.enable()}},onDisable:function(){var f=this.boundList;Ext.form.FieldContainer.prototype.onDisable.call(this);if(f){f.disable()}},getErrors:function(p){var q=this,o=Ext.String.format,m=[],n;p=Ext.Array.from(p||q.getValue());n=p.length;if(!q.allowBlank&&n<1){m.push(q.blankText)}if(n<q.minSelections){m.push(o(q.minSelectionsText,q.minSelections))}if(n>q.maxSelections){m.push(o(q.maxSelectionsText,q.maxSelections))}return m},doDestroy:function(){var f=this;f.bindStore(null);Ext.destroy(f.dragZone,f.dropZone,f.keyNav);Ext.form.FieldContainer.prototype.doDestroy.call(this)},onBindStore:function(m){var k=this,l=this.boundList;if(m.autoCreated){k.resolveDisplayField()}if(!Ext.isDefined(k.valueField)){k.valueField=k.displayField}if(l){l.bindStore(m)}},resolveDisplayField:function(){var k=this,l=k.boundList,m=k.getStore();k.valueField=k.displayField="field1";if(!m.expanded){k.displayField="field2"}if(l){l.setDisplayField(k.displayField)}}},0,["multiselectfield","multiselect"],["component","box","container","fieldcontainer","multiselectfield","multiselect"],{component:true,box:true,container:true,fieldcontainer:true,multiselectfield:true,multiselect:true},["widget.multiselect","widget.multiselectfield"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.form.field.Field.prototype.mixinId||Ext.form.field.Field.$className,Ext.form.field.Field]],[Ext.ux.form,"MultiSelect",Ext.ux,"Multiselect"],0));(Ext.cmd.derive("Ext.ux.layout.ResponsiveColumn",Ext.layout.container.Auto,{states:{small:1000,large:0},_responsiveCls:"x-responsivecolumn",initLayout:function(){this.innerCtCls+=" "+this._responsiveCls;Ext.layout.container.Auto.prototype.initLayout.call(this)},beginLayout:function(y){var t=this,u=Ext.Element.getViewportWidth(),s=t.states,v=Infinity,A=t.innerCt,z=t._currentState,B,w,x;for(B in s){w=s[B]||Infinity;if(u<=w&&w<=v){v=w;x=B}}if(x!==z){A.replaceCls(z,x,t._responsiveCls);t._currentState=x}Ext.layout.container.Auto.prototype.beginLayout.apply(this,arguments)},onAdd:function(k){Ext.layout.container.Auto.prototype.onAdd.call(this,k);var g=k.responsiveCls;if(g){k.addCls(g)}}},0,0,0,0,["layout.responsivecolumn"],0,[Ext.ux.layout,"ResponsiveColumn"],function(f){if(Ext.isIE8){f.override({responsiveSizePolicy:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:0},setsItemSize:true,calculateItems:function(B,E){var G=this,A=B.targetContext,H=B.childItems,J=H.length,z=E.gotWidth,D=E.width,x,F,y,C,e,I;if(z===false){A.domBlock(G,"width");return false}if(!z){return true}for(y=0;y<J;++y){C=H[y];I=parseInt(C.el.getStyle("background-position-x"),10);e=parseInt(C.el.getStyle("background-position-y"),10);C.setWidth((I/100*(D-e))-e)}B.setContentWidth(D+B.paddingContext.getPaddingInfo().width);return true},getItemSizePolicy:function(){return this.responsiveSizePolicy}})}}));(Ext.cmd.derive("Ext.draw.ContainerBase",Ext.panel.Panel,{previewTitleText:"Chart Preview",previewAltText:"Chart preview",layout:"container",addElementListener:function(){var g=this,k=arguments;if(g.rendered){g.el.on.apply(g.el,k)}else{g.on("render",function(){g.el.on.apply(g.el,k)})}},removeElementListener:function(){var g=this,k=arguments;if(g.rendered){g.el.un.apply(g.el,k)}},afterRender:function(){Ext.panel.Panel.prototype.afterRender.apply(this,arguments);this.initAnimator()},getItems:function(){var g=this,k=g.items;if(!k||!k.isMixedCollection){g.initItems()}return g.items},onRender:function(){Ext.panel.Panel.prototype.onRender.apply(this,arguments);this.element=this.el;this.innerElement=this.body},setItems:function(f){this.items=f;return f},setSurfaceSize:function(g,k){this.resizeHandler({width:g,height:k});this.renderFrame()},onResize:function(o,q,p,m){var n=this;Ext.panel.Panel.prototype.onResize.call(this,o,q,p,m);n.handleResize({width:o,height:q})},preview:function(){var g=this.getImage(),k;if(Ext.isIE8){return false}if(g.type==="svg-markup"){k={xtype:"container",html:g.data}}else{k={xtype:"image",mode:"img",cls:"x-chart-image",alt:this.previewAltText,src:g.data,listeners:{afterrender:function(){var e=this,o=e.imgEl.dom,f=g.type==="svg"?1:(window.devicePixelRatio||1),n;if(!o.naturalWidth||!o.naturalHeight){o.onload=function(){var l=o.naturalWidth,m=o.naturalHeight;e.setWidth(Math.floor(l/f));e.setHeight(Math.floor(m/f))}}else{n=e.getSize();e.setWidth(Math.floor(n.width/f));e.setHeight(Math.floor(n.height/f))}}}}}new Ext.window.Window({title:this.previewTitleText,closeable:true,renderTo:Ext.getBody(),autoShow:true,maximizeable:true,maximized:true,border:true,layout:{type:"hbox",pack:"center",align:"middle"},items:{xtype:"container",items:k}})},privates:{getTargetEl:function(){return this.innerElement},reattachToBody:function(){var f=this;if(f.pendingDetachSize){f.handleResize()}f.pendingDetachSize=false;Ext.panel.Panel.prototype.reattachToBody.call(this)}}},0,0,["component","box","container","panel"],{component:true,box:true,container:true,panel:true},0,0,[Ext.draw,"ContainerBase"],0));(Ext.cmd.derive("Ext.draw.SurfaceBase",Ext.Widget,{getOwnerBody:function(){return this.ownerCt.body}},0,0,["widget"],{widget:true},0,0,[Ext.draw,"SurfaceBase"],0));(Ext.cmd.derive("Ext.draw.sprite.AnimationParser",Ext.Base,function(){function f(e,l,m){return e+(l-e)*m}return{singleton:true,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,color:{parseInitial:function(e,k){if(Ext.isString(e)){e=Ext.util.Color.create(e)}if(Ext.isString(k)){k=Ext.util.Color.create(k)}if((e&&e.isColor)&&(k&&k.isColor)){return[[e.r,e.g,e.b,e.a],[k.r,k.g,k.b,k.a]]}else{return[e||k,k||e]}},compute:function(e,l,m){if(!Ext.isArray(e)||!Ext.isArray(l)){return l||e}else{return[f(e[0],l[0],m),f(e[1],l[1],m),f(e[2],l[2],m),f(e[3],l[3],m)]}},serve:function(e){var k=Ext.util.Color.fly(e[0],e[1],e[2],e[3]);return k.toString()}},number:{parse:function(e){return e===null?null:+e},compute:function(e,l,m){if(!Ext.isNumber(e)||!Ext.isNumber(l)){return l||e}else{return f(e,l,m)}}},angle:{parseInitial:function(e,k){if(k-e>Math.PI){k-=Math.PI*2}else{if(k-e<-Math.PI){k+=Math.PI*2}}return[e,k]},compute:function(e,l,m){if(!Ext.isNumber(e)||!Ext.isNumber(l)){return l||e}else{return f(e,l,m)}}},path:{parseInitial:function(H,G){var C=H.toStripes(),F=G.toStripes(),A,B,w=C.length,E=F.length,x,z,D,y=F[E-1],e=[y[y.length-2],y[y.length-1]];for(A=w;A<E;A++){C.push(C[w-1].slice(0))}for(A=E;A<w;A++){F.push(e.slice(0))}D=C.length;F.path=G;F.temp=new Ext.draw.Path();for(A=0;A<D;A++){x=C[A];z=F[A];w=x.length;E=z.length;F.temp.commands.push("M");for(B=E;B<w;B+=6){z.push(e[0],e[1],e[0],e[1],e[0],e[1])}y=F[F.length-1];e=[y[y.length-2],y[y.length-1]];for(B=w;B<E;B+=6){x.push(e[0],e[1],e[0],e[1],e[0],e[1])}for(A=0;A<z.length;A++){z[A]-=x[A]}for(A=2;A<z.length;A+=6){F.temp.commands.push("C")}}return[C,F]},compute:function(A,e,D){if(D>=1){return e.path}var y=0,x=A.length,z=0,B,u,v,C=e.temp.params,w=0;for(;y<x;y++){u=A[y];v=e[y];B=u.length;for(z=0;z<B;z++){C[w++]=v[z]*D+u[z]}}return e.temp}},data:{compute:function(v,t,e,w){var B=v.length-1,A=t.length-1,x=Math.max(B,A),y,C,z;if(!w||w===v){w=[]}w.length=x+1;for(z=0;z<=x;z++){y=v[Math.min(z,B)];C=t[Math.min(z,A)];if(Ext.isNumber(y)){if(!Ext.isNumber(C)){C=0}w[z]=(C-y)*e+y}else{w[z]=C}}return w}},text:{compute:function(e,l,m){return e.substr(0,Math.round(e.length*(1-m)))+l.substr(Math.round(l.length*(1-m)))}},limited:"number",limited01:"number"}},0,0,0,0,0,0,[Ext.draw.sprite,"AnimationParser"],0));(function(){if(!Ext.global.Float32Array){var f=function(e){if(typeof e==="number"){this.length=e}else{if("length" in e){this.length=e.length;for(var l=0,m=e.length;l<m;l++){this[l]=+e[l]}}}};f.prototype=[];Ext.global.Float32Array=f}})();(Ext.cmd.derive("Ext.draw.Draw",Ext.Base,{singleton:true,radian:Math.PI/180,pi2:Math.PI*2,reflectFn:function(f){return f},rad:function(f){return(f%360)*this.radian},degrees:function(f){return(f/this.radian)%360},isBBoxIntersect:function(l,m,k){k=k||0;return(Math.max(l.x,m.x)-k>Math.min(l.x+l.width,m.x+m.width))||(Math.max(l.y,m.y)-k>Math.min(l.y+l.height,m.y+m.height))},isPointInBBox:function(m,k,l){return !!l&&m>=l.x&&m<=(l.x+l.width)&&k>=l.y&&k<=(l.y+l.height)},spline:function(t){var z,A,v=t.length,B,w,u,y,C=0,x=new Float32Array(t.length),D=new Float32Array(t.length*3-2);x[0]=0;x[v-1]=0;for(z=1;z<v-1;z++){x[z]=(t[z+1]+t[z-1]-2*t[z])-x[z-1];C=1/(4-C);x[z]*=C}for(z=v-2;z>0;z--){C=3.732050807568877+48.248711305964385/(-13.928203230275537+Math.pow(0.07179676972449123,z));x[z]-=x[z+1]*C}y=t[0];B=y-x[0];for(z=0,A=0;z<v-1;A+=3){u=y;w=B;z++;y=t[z];B=y-x[z];D[A]=u;D[A+1]=(B+2*w)/3;D[A+2]=(B*2+w)/3}D[A]=y;return D},getAnchors:function(V,W,R,S,O,Q,H){H=H||4;var I=Math.PI,G=I/2,M=Math.abs,Z=Math.sin,Y=Math.cos,U=Math.atan,E,F,T,P,J,K,L,N,X;E=(R-V)/H;F=(O-R)/H;if((S>=W&&S>=Q)||(S<=W&&S<=Q)){T=P=G}else{T=U((R-V)/M(S-W));if(W<S){T=I-T}P=U((O-R)/M(S-Q));if(Q<S){P=I-P}}X=G-((T+P)%(I*2))/2;if(X>G){X-=I}T+=X;P+=X;J=R-E*Z(T);K=S+E*Y(T);L=R+F*Z(P);N=S+F*Y(P);if((S>W&&K<W)||(S<W&&K>W)){J+=M(W-K)*(J-R)/(K-S);K=W}if((S>Q&&N<Q)||(S<Q&&N>Q)){L-=M(Q-N)*(L-R)/(N-S);N=Q}return{x1:J,y1:K,x2:L,y2:N}},smooth:function(N,y,K){var x=N.length,A,B,F,G,I,J,L,M,C=[],D=[],E,H;for(E=0;E<x-1;E++){A=N[E];B=y[E];if(E===0){L=A;M=B;C.push(L);D.push(M);if(x===1){break}}F=N[E+1];G=y[E+1];I=N[E+2];J=y[E+2];if(!(Ext.isNumber(I)&&Ext.isNumber(J))){C.push(L,F,F);D.push(M,G,G);break}H=this.getAnchors(A,B,F,G,I,J,K);C.push(L,H.x1,F);D.push(M,H.y1,G);L=H.x2;M=H.y2}return{smoothX:C,smoothY:D}},beginUpdateIOS:Ext.os.is.iOS?function(){this.iosUpdateEl=Ext.getBody().createChild({style:"position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; background: rgba(0,0,0,0.001); z-index: 100000"})}:Ext.emptyFn,endUpdateIOS:function(){this.iosUpdateEl=Ext.destroy(this.iosUpdateEl)}},0,0,0,0,0,0,[Ext.draw,"Draw"],0));(Ext.cmd.derive("Ext.draw.gradient.Gradient",Ext.Base,{isGradient:true,config:{stops:[]},applyStops:function(n){var o=[],p=n.length,q,s,t;for(q=0;q<p;q++){s=n[q];t=s.color;if(!(t&&t.isColor)){t=Ext.util.Color.fly(t||Ext.util.Color.NONE)}o.push({offset:Math.min(1,Math.max(0,"offset" in s?s.offset:s.position||0)),color:t.toString()})}o.sort(function(e,f){return e.offset-f.offset});return o},onClassExtended:function(k,g){if(!g.alias&&g.type){g.alias="gradient."+g.type}},constructor:function(f){this.initConfig(f)},generateGradient:Ext.emptyFn},1,0,0,0,0,0,[Ext.draw.gradient,"Gradient"],0));(Ext.cmd.derive("Ext.draw.gradient.GradientDefinition",Ext.Base,{singleton:true,urlStringRe:/^url\(#([\w\-]+)\)$/,gradients:{},add:function(q){var p=this.gradients,o,m,n;for(o=0,m=q.length;o<m;o++){n=q[o];if(Ext.isString(n.id)){p[n.id]=n}}},get:function(l){var o=this.gradients,n=l.match(this.urlStringRe),m;if(n&&n[1]&&(m=o[n[1]])){return m||l}return l}},0,0,0,0,0,0,[Ext.draw.gradient,"GradientDefinition"],0));(Ext.cmd.derive("Ext.draw.sprite.AttributeParser",Ext.Base,{singleton:true,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,"default":Ext.identityFn,string:function(f){return String(f)},number:function(f){if(Ext.isNumber(+f)){return f}},angle:function(f){if(Ext.isNumber(f)){f%=Math.PI*2;if(f<-Math.PI){f+=Math.PI*2}else{if(f>=Math.PI){f-=Math.PI*2}}return f}},data:function(f){if(Ext.isArray(f)){return f.slice()}else{if(f instanceof Float32Array){return new Float32Array(f)}}},bool:function(f){return !!f},color:function(f){if(f&&f.isColor){return f.toString()}else{if(f&&f.isGradient){return f}else{if(!f){return Ext.util.Color.NONE}else{if(Ext.isString(f)){if(f.substr(0,3)==="url"){f=Ext.draw.gradient.GradientDefinition.get(f);if(Ext.isString(f)){return f}}else{return Ext.util.Color.fly(f).toString()}}}}}if(f.type==="linear"){return Ext.create("Ext.draw.gradient.Linear",f)}else{if(f.type==="radial"){return Ext.create("Ext.draw.gradient.Radial",f)}else{if(f.type==="pattern"){return Ext.create("Ext.draw.gradient.Pattern",f)}else{return Ext.util.Color.NONE}}}},limited:function(k,g){return function(e){e=+e;return Ext.isNumber(e)?Math.min(Math.max(e,k),g):undefined}},limited01:function(f){f=+f;return Ext.isNumber(f)?Math.min(Math.max(f,0),1):undefined},enums:function(){var l={},o=Array.prototype.slice.call(arguments,0),n,m;for(n=0,m=o.length;n<m;n++){l[o[n]]=true}return function(e){return e in l?e:undefined}}},0,0,0,0,0,0,[Ext.draw.sprite,"AttributeParser"],0));(Ext.cmd.derive("Ext.draw.sprite.AttributeDefinition",Ext.Base,{config:{defaults:{$value:{},lazy:true},aliases:{},animationProcessors:{},processors:{$value:{},lazy:true},dirtyTriggers:{},triggers:{},updaters:{}},inheritableStatics:{processorFactoryRe:/^(\w+)\(([\w\-,]*)\)$/},spriteClass:null,constructor:function(k){var g=this;g.initConfig(k)},applyDefaults:function(g,k){k=Ext.apply(k||{},this.normalize(g));return k},applyAliases:function(g,k){return Ext.apply(k||{},g)},applyProcessors:function(x,t){this.getAnimationProcessors();var s=t||{},u=Ext.draw.sprite.AttributeParser,B=this.self.processorFactoryRe,v={},y,A,z,w;for(A in x){w=x[A];if(typeof w==="string"){z=w.match(B);if(z){w=u[z[1]].apply(u,z[2].split(","))}else{if(u[w]){v[A]=w;y=true;w=u[w]}}}s[A]=w}if(y){this.setAnimationProcessors(v)}return s},applyAnimationProcessors:function(o,q){var m=Ext.draw.sprite.AnimationParser,p,n;if(!q){q={}}for(p in o){n=o[p];if(n==="none"){q[p]=null}else{if(Ext.isString(n)&&!(p in q)){if(n in m){while(Ext.isString(m[n])){n=m[n]}q[p]=m[n]}}else{if(Ext.isObject(n)){q[p]=n}}}}return q},updateDirtyTriggers:function(f){this.setTriggers(f)},applyTriggers:function(l,k){if(!k){k={}}for(var m in l){k[m]=l[m].split(",")}return k},applyUpdaters:function(g,k){return Ext.apply(k||{},g)},batchedNormalize:function(B,J){if(!B){return{}}var y=this.getProcessors(),D=this.getAliases(),G=B.translation||B.translate,I={},A,z,F,C,H,E,K,L,x;if("rotation" in B){H=B.rotation}else{H=("rotate" in B)?B.rotate:undefined}if("scaling" in B){E=B.scaling}else{E=("scale" in B)?B.scale:undefined}if(typeof E!=="undefined"){if(Ext.isNumber(E)){I.scalingX=E;I.scalingY=E}else{if("x" in E){I.scalingX=E.x}if("y" in E){I.scalingY=E.y}if("centerX" in E){I.scalingCenterX=E.centerX}if("centerY" in E){I.scalingCenterY=E.centerY}}}if(typeof H!=="undefined"){if(Ext.isNumber(H)){H=Ext.draw.Draw.rad(H);I.rotationRads=H}else{if("rads" in H){I.rotationRads=H.rads}else{if("degrees" in H){if(Ext.isArray(H.degrees)){I.rotationRads=Ext.Array.map(H.degrees,function(e){return Ext.draw.Draw.rad(e)})}else{I.rotationRads=Ext.draw.Draw.rad(H.degrees)}}}if("centerX" in H){I.rotationCenterX=H.centerX}if("centerY" in H){I.rotationCenterY=H.centerY}}}if(typeof G!=="undefined"){if("x" in G){I.translationX=G.x}if("y" in G){I.translationY=G.y}}if("matrix" in B){K=Ext.draw.Matrix.create(B.matrix);x=K.split();I.matrix=K;I.rotationRads=x.rotation;I.rotationCenterX=0;I.rotationCenterY=0;I.scalingX=x.scaleX;I.scalingY=x.scaleY;I.scalingCenterX=0;I.scalingCenterY=0;I.translationX=x.translateX;I.translationY=x.translateY}for(F in B){C=B[F];if(typeof C==="undefined"){continue}else{if(Ext.isArray(C)){if(F in D){F=D[F]}if(F in y){I[F]=[];for(A=0,z=C.length;A<z;A++){L=y[F].call(this,C[A]);if(typeof L!=="undefined"){I[F][A]=L}}}else{if(J){I[F]=C}}}else{if(F in D){F=D[F]}if(F in y){C=y[F].call(this,C);if(typeof C!=="undefined"){I[F]=C}}else{if(J){I[F]=C}}}}}return I},normalize:function(v,u){if(!v){return{}}var y=this.getProcessors(),A=this.getAliases(),D=v.translation||v.translate,F={},C,z,E,B,w,x;if("rotation" in v){E=v.rotation}else{E=("rotate" in v)?v.rotate:undefined}if("scaling" in v){B=v.scaling}else{B=("scale" in v)?v.scale:undefined}if(D){if("x" in D){F.translationX=D.x}if("y" in D){F.translationY=D.y}}if(typeof B!=="undefined"){if(Ext.isNumber(B)){F.scalingX=B;F.scalingY=B}else{if("x" in B){F.scalingX=B.x}if("y" in B){F.scalingY=B.y}if("centerX" in B){F.scalingCenterX=B.centerX}if("centerY" in B){F.scalingCenterY=B.centerY}}}if(typeof E!=="undefined"){if(Ext.isNumber(E)){E=Ext.draw.Draw.rad(E);F.rotationRads=E}else{if("rads" in E){F.rotationRads=E.rads}else{if("degrees" in E){F.rotationRads=Ext.draw.Draw.rad(E.degrees)}}if("centerX" in E){F.rotationCenterX=E.centerX}if("centerY" in E){F.rotationCenterY=E.centerY}}}if("matrix" in v){w=Ext.draw.Matrix.create(v.matrix);x=w.split();F.matrix=w;F.rotationRads=x.rotation;F.rotationCenterX=0;F.rotationCenterY=0;F.scalingX=x.scaleX;F.scalingY=x.scaleY;F.scalingCenterX=0;F.scalingCenterY=0;F.translationX=x.translateX;F.translationY=x.translateY}for(C in v){z=v[C];if(typeof z==="undefined"){continue}if(C in A){C=A[C]}if(C in y){z=y[C].call(this,z);if(typeof z!=="undefined"){F[C]=z}}else{if(u){F[C]=z}}}return F},setBypassingNormalization:function(m,k,l){return k.pushDown(m,l)},set:function(m,k,l){l=this.normalize(l);return this.setBypassingNormalization(m,k,l)}},1,0,0,0,0,0,[Ext.draw.sprite,"AttributeDefinition"],0));(Ext.cmd.derive("Ext.draw.Matrix",Ext.Base,{isMatrix:true,statics:{createAffineMatrixFromTwoPair:function(E,K,F,L,B,O,D,C){var I=F-E,J=L-K,G=D-B,M=C-O,H=1/(I*I+J*J),N=I*G+J*M,P=G*J-I*M,f=-N*E-P*K,A=P*E-N*K;return new this(N*H,-P*H,P*H,N*H,f*H+B,A*H+O)},createPanZoomFromTwoPair:function(C,P,D,R,M,B,F,N){if(arguments.length===2){return this.createPanZoomFromTwoPair.apply(this,C.concat(P))}var I=D-C,J=R-P,Q=(C+D)*0.5,S=(P+R)*0.5,E=F-M,T=N-B,O=(M+F)*0.5,H=(B+N)*0.5,G=I*I+J*J,L=E*E+T*T,K=Math.sqrt(L/G);return new this(K,0,0,K,O-K*Q,H-K*S)},fly:(function(){var k=null,g=function(e){k.elements=e;return k};return function(e){if(!k){k=new Ext.draw.Matrix()}k.elements=e;Ext.draw.Matrix.fly=g;return k}})(),create:function(f){if(f instanceof this){return f}return new this(f)}},constructor:function(o,p,t,n,q,s){if(o&&o.length===6){this.elements=o.slice()}else{if(o!==undefined){this.elements=[o,p,t,n,q,s]}else{this.elements=[1,0,0,1,0,0]}}},prepend:function(E,G,x,y,F,H){var D=this.elements,B=D[0],v=D[1],A=D[2],C=D[3],w=D[4],z=D[5];D[0]=E*B+x*v;D[1]=G*B+y*v;D[2]=E*A+x*C;D[3]=G*A+y*C;D[4]=E*w+x*z+F;D[5]=G*w+y*z+H;return this},prependMatrix:function(f){return this.prepend.apply(this,f.elements)},append:function(E,G,x,y,F,H){var D=this.elements,B=D[0],v=D[1],A=D[2],C=D[3],w=D[4],z=D[5];D[0]=E*B+G*A;D[1]=E*v+G*C;D[2]=x*B+y*A;D[3]=x*v+y*C;D[4]=F*B+H*A+w;D[5]=F*v+H*C+z;return this},appendMatrix:function(f){return this.append.apply(this,f.elements)},set:function(o,p,u,v,s,t){var q=this.elements;q[0]=o;q[1]=p;q[2]=u;q[3]=v;q[4]=s;q[5]=t;return this},inverse:function(w){var y=this.elements,z=y[0],f=y[1],t=y[2],u=y[3],v=y[4],x=y[5],e=1/(z*u-f*t);z*=e;f*=e;t*=e;u*=e;if(w){w.set(u,-f,-t,z,t*x-u*v,f*v-z*x);return w}else{return new Ext.draw.Matrix(u,-f,-t,z,t*x-u*v,f*v-z*x)}},translate:function(m,k,l){if(l){return this.prepend(1,0,0,1,m,k)}else{return this.append(1,0,0,1,m,k)}},scale:function(n,o,q,t,s){var p=this;if(o==null){o=n}if(q===undefined){q=0}if(t===undefined){t=0}if(s){return p.prepend(n,0,0,o,q-q*n,t-t*o)}else{return p.append(n,0,0,o,q-q*n,t-t*o)}},rotate:function(v,p,s,t){var q=this,o=Math.cos(v),u=Math.sin(v);p=p||0;s=s||0;if(t){return q.prepend(o,u,-u,o,p-o*p+s*u,s-o*s-p*u)}else{return q.append(o,u,-u,o,p-o*p+s*u,s-o*s-p*u)}},rotateFromVector:function(u,v,s){var q=this,o=Math.sqrt(u*u+v*v),p=u/o,t=v/o;if(s){return q.prepend(p,t,-t,p,0,0)}else{return q.append(p,t,-t,p,0,0)}},clone:function(){return new Ext.draw.Matrix(this.elements)},flipX:function(){return this.append(-1,0,0,1,0,0)},flipY:function(){return this.append(1,0,0,-1,0,0)},skewX:function(f){return this.append(1,0,Math.tan(f),1,0,0)},skewY:function(f){return this.append(1,Math.tan(f),0,1,0,0)},shearX:function(f){return this.append(1,0,f,1,0,0)},shearY:function(f){return this.append(1,f,0,1,0,0)},reset:function(){return this.set(1,0,0,1,0,0)},precisionCompensate:function(s,v){var z=this.elements,w=z[0],x=z[1],t=z[2],u=z[3],y=z[4],A=z[5],B=x*t-w*u;v.b=s*x/w;v.c=s*t/u;v.d=s;v.xx=w/s;v.yy=u/s;v.dx=(A*w*t-y*w*u)/B/s;v.dy=(y*x*u-A*w*u)/B/s},precisionCompensateRect:function(s,v){var A=this.elements,w=A[0],x=A[1],t=A[2],u=A[3],z=A[4],B=A[5],y=t/w;v.b=s*x/w;v.c=s*y;v.d=s*u/w;v.xx=w/s;v.yy=w/s;v.dx=(B*t-z*u)/(x*y-u)/s;v.dy=-(B*w-z*x)/(x*y-u)/s},x:function(m,k){var l=this.elements;return m*l[0]+k*l[2]+l[4]},y:function(m,k){var l=this.elements;return m*l[1]+k*l[3]+l[5]},get:function(g,k){return +this.elements[g+k*2].toFixed(4)},transformPoint:function(n){var m=this.elements,o,l;if(n.isPoint){o=n.x;l=n.y}else{o=n[0];l=n[1]}return[o*m[0]+l*m[2]+m[4],o*m[1]+l*m[3]+m[5]]},transformBBox:function(K,w,l){var I=this.elements,G=K.x,D=K.y,C=K.width*0.5,M=K.height*0.5,J=I[0],t=I[1],N=I[2],P=I[3],F=G+C,H=D+M,L,E,O;if(w){C-=w;M-=w;O=[Math.sqrt(I[0]*I[0]+I[2]*I[2]),Math.sqrt(I[1]*I[1]+I[3]*I[3])];L=Math.abs(C*J)+Math.abs(M*N)+Math.abs(O[0]*w);E=Math.abs(C*t)+Math.abs(M*P)+Math.abs(O[1]*w)}else{L=Math.abs(C*J)+Math.abs(M*N);E=Math.abs(C*t)+Math.abs(M*P)}if(!l){l={}}l.x=F*J+H*N+I[4]-L;l.y=F*t+H*P+I[5]-E;l.width=L+L;l.height=E+E;return l},transformList:function(x){var A=this.elements,B=A[0],u=A[2],C=A[4],D=A[1],v=A[3],p=A[5],w=x.length,z,y;for(y=0;y<w;y++){z=x[y];x[y]=[z[0]*B+z[1]*u+C,z[0]*D+z[1]*v+p]}return x},isIdentity:function(){var f=this.elements;return f[0]===1&&f[1]===0&&f[2]===0&&f[3]===1&&f[4]===0&&f[5]===0},isEqual:function(m){var k=m&&m.isMatrix?m.elements:m,l=this.elements;return l[0]===k[0]&&l[1]===k[1]&&l[2]===k[2]&&l[3]===k[3]&&l[4]===k[4]&&l[5]===k[5]},equals:function(f){return this.isEqual(f)},toArray:function(){var f=this.elements;return[f[0],f[2],f[4],f[1],f[3],f[5]]},toVerticalArray:function(){return this.elements.slice()},toString:function(){var f=this;return[f.get(0,0),f.get(0,1),f.get(1,0),f.get(1,1),f.get(2,0),f.get(2,1)].join(",")},toContext:function(f){f.transform.apply(f,this.elements);return this},toSvg:function(){var f=this.elements;return"matrix("+f[0].toFixed(9)+","+f[1].toFixed(9)+","+f[2].toFixed(9)+","+f[3].toFixed(9)+","+f[4].toFixed(9)+","+f[5].toFixed(9)+")"},getScaleX:function(){var f=this.elements;return Math.sqrt(f[0]*f[0]+f[2]*f[2])},getScaleY:function(){var f=this.elements;return Math.sqrt(f[1]*f[1]+f[3]*f[3])},getXX:function(){return this.elements[0]},getXY:function(){return this.elements[1]},getYX:function(){return this.elements[2]},getYY:function(){return this.elements[3]},getDX:function(){return this.elements[4]},getDY:function(){return this.elements[5]},split:function(){var p=this.elements,n=p[0],o=p[1],m=p[3],q={translateX:p[4],translateY:p[5]};q.rotate=q.rotation=Math.atan2(o,n);q.scaleX=n/Math.cos(q.rotate);q.scaleY=m/n*q.scaleX;return q}},3,0,0,0,0,0,[Ext.draw,"Matrix"],function(){function g(e,m,f){e[m]={get:function(){return this.elements[f]},set:function(l){this.elements[f]=l}}}if(Object.defineProperties){var k={};g(k,"a",0);g(k,"b",1);g(k,"c",2);g(k,"d",3);g(k,"e",4);g(k,"f",5);Object.defineProperties(this.prototype,k)}this.prototype.multiply=this.prototype.appendMatrix}));(Ext.cmd.derive("Ext.draw.modifier.Modifier",Ext.Base,{config:{lower:null,upper:null,sprite:null},constructor:function(f){this.mixins.observable.constructor.call(this,f)},updateUpper:function(f){if(f){f.setLower(this)}},updateLower:function(f){if(f){f.setUpper(this)}},prepareAttributes:function(f){if(this._lower){this._lower.prepareAttributes(f)}},popUp:function(k,g){if(this._upper){this._upper.popUp(k,g)}else{Ext.apply(k,g)}},pushDown:function(m,k){if(this._lower){return this._lower.pushDown(m,k)}else{for(var l in k){if(k[l]===m[l]){delete k[l]}}return k}}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.draw.modifier,"Modifier"],0));(Ext.cmd.derive("Ext.draw.modifier.Target",Ext.draw.modifier.Modifier,{statics:{uniqueId:0},prepareAttributes:function(f){if(this._lower){this._lower.prepareAttributes(f)}f.attributeId="attribute-"+Ext.draw.modifier.Target.uniqueId++;if(!f.hasOwnProperty("canvasAttributes")){f.bbox={plain:{dirty:true},transform:{dirty:true}};f.dirty=true;f.pendingUpdaters={};f.canvasAttributes={};f.matrix=new Ext.draw.Matrix();f.inverseMatrix=new Ext.draw.Matrix()}},applyChanges:function(A,x){Ext.apply(A,x);var w=this.getSprite(),H=A.pendingUpdaters,y=w.self.def.getTriggers(),G,F,J,E,B,I,C,D,z;for(E in x){B=true;if((G=y[E])){w.scheduleUpdaters(A,G,[E])}if(A.template&&x.removeFromInstance&&x.removeFromInstance[E]){delete A[E]}}if(!B){return}if(H.canvas){I=H.canvas;delete H.canvas;for(C=0,z=I.length;C<z;C++){E=I[C];A.canvasAttributes[E]=A[E]}}if(A.hasOwnProperty("children")){F=A.children;for(C=0,z=F.length;C<z;C++){J=F[C];Ext.apply(J.pendingUpdaters,H);if(I){for(D=0;D<I.length;D++){E=I[D];J.canvasAttributes[E]=J[E]}}w.callUpdaters(J)}}w.setDirty(true);w.callUpdaters(A)},popUp:function(k,g){this.applyChanges(k,g)},pushDown:function(k,g){if(this._lower){g=this._lower.pushDown(k,g)}this.applyChanges(k,g);return g}},0,0,0,0,["modifier.target"],0,[Ext.draw.modifier,"Target"],0));(Ext.cmd.derive("Ext.draw.TimingFunctions",Ext.Base,function(){var y=Math.pow,w=Math.sin,G=Math.cos,H=Math.sqrt,A=Math.PI,D=["quad","cube","quart","quint"],C={pow:function(e,f){return y(e,f||6)},expo:function(e){return y(2,8*(e-1))},circ:function(e){return 1-H(1-e*e)},sine:function(e){return 1-w((1-e)*A/2)},back:function(f,e){e=e||1.616;return f*f*((e+1)*f-e)},bounce:function(e){for(var f=0,g=1;1;f+=g,g/=2){if(e>=(7-4*f)/11){return g*g-y((11-6*f-11*e)/4,2)}}},elastic:function(e,f){return y(2,10*--e)*G(20*e*A*(f||1)/3)}},v={},E,z,B;function x(e){return function(f){return y(f,e)}}function F(f,e){v[f+"In"]=function(g){return e(g)};v[f+"Out"]=function(g){return 1-e(1-g)};v[f+"InOut"]=function(g){return(g<=0.5)?e(2*g)/2:(2-e(2*(1-g)))/2}}for(B=0,z=D.length;B<z;++B){C[D[B]]=x(B+2)}for(E in C){F(E,C[E])}v.linear=Ext.identityFn;v.easeIn=v.quadIn;v.easeOut=v.quadOut;v.easeInOut=v.quadInOut;return{singleton:true,easingMap:v}},0,0,0,0,0,0,[Ext.draw,"TimingFunctions"],function(f){Ext.apply(f,f.easingMap)}));(Ext.cmd.derive("Ext.draw.Animator",Ext.Base,{singleton:true,frameCallbacks:{},frameCallbackId:0,scheduled:0,frameStartTimeOffset:Ext.now(),animations:[],running:false,animationTime:function(){return Ext.AnimationQueue.frameStartTime-this.frameStartTimeOffset},add:function(g){var k=this;if(!k.contains(g)){k.animations.push(g);k.ignite();if("fireEvent" in g){g.fireEvent("animationstart",g)}}},remove:function(n){var o=this,l=o.animations,p=0,q=l.length;for(;p<q;++p){if(l[p]===n){l.splice(p,1);if("fireEvent" in n){n.fireEvent("animationend",n)}return}}},contains:function(f){return Ext.Array.indexOf(this.animations,f)>-1},empty:function(){return this.animations.length===0},step:function(p){var q=this,n=q.animations,o,t=0,s=n.length;for(;t<s;t++){o=n[t];o.step(p);if(!o.animating){n.splice(t,1);t--;s--;if(o.fireEvent){o.fireEvent("animationend",o)}}}},schedule:function(k,m){m=m||this;var l="frameCallback"+(this.frameCallbackId++);if(Ext.isString(k)){k=m[k]}Ext.draw.Animator.frameCallbacks[l]={fn:k,scope:m,once:true};this.scheduled++;Ext.draw.Animator.ignite();return l},scheduleIf:function(m,p){p=p||this;var o=Ext.draw.Animator.frameCallbacks,q,n;if(Ext.isString(m)){m=p[m]}for(n in o){q=o[n];if(q.once&&q.fn===m&&q.scope===p){return null}}return this.schedule(m,p)},cancel:function(f){if(Ext.draw.Animator.frameCallbacks[f]&&Ext.draw.Animator.frameCallbacks[f].once){this.scheduled--;delete Ext.draw.Animator.frameCallbacks[f]}},addFrameCallback:function(k,m){m=m||this;if(Ext.isString(k)){k=m[k]}var l="frameCallback"+(this.frameCallbackId++);Ext.draw.Animator.frameCallbacks[l]={fn:k,scope:m};return l},removeFrameCallback:function(f){delete Ext.draw.Animator.frameCallbacks[f]},fireFrameCallbacks:function(){var m=this.frameCallbacks,l,n,o;for(l in m){o=m[l];n=o.fn;if(Ext.isString(n)){n=o.scope[n]}n.call(o.scope);if(m[l]&&o.once){this.scheduled--;delete m[l]}}},handleFrame:function(){var f=this;f.step(f.animationTime());f.fireFrameCallbacks();if(!f.scheduled&&f.empty()){Ext.AnimationQueue.stop(f.handleFrame,f);f.running=false;Ext.draw.Draw.endUpdateIOS()}},ignite:function(){if(!this.running){this.running=true;Ext.AnimationQueue.start(this.handleFrame,this);Ext.draw.Draw.beginUpdateIOS()}}},0,0,0,0,0,0,[Ext.draw,"Animator"],0));(Ext.cmd.derive("Ext.draw.modifier.Animation",Ext.draw.modifier.Modifier,{config:{easing:Ext.identityFn,duration:0,customEasings:{},customDurations:{}},constructor:function(k){var g=this;g.anyAnimation=g.anySpecialAnimations=false;g.animating=0;g.animatingPool=[];Ext.draw.modifier.Modifier.prototype.constructor.call(this,k)},prepareAttributes:function(f){if(!f.hasOwnProperty("timers")){f.animating=false;f.timers={};f.animationOriginal=Ext.Object.chain(f);f.animationOriginal.prototype=f}if(this._lower){this._lower.prepareAttributes(f.animationOriginal)}},updateSprite:function(f){this.setConfig(f.config.fx)},updateDuration:function(f){this.anyAnimation=f>0},applyEasing:function(f){if(typeof f==="string"){f=Ext.draw.TimingFunctions.easingMap[f]}return f},applyCustomEasings:function(v,q){q=q||{};var x,s,u,w,t,p;for(s in v){x=true;w=v[s];u=s.split(",");if(typeof w==="string"){w=Ext.draw.TimingFunctions.easingMap[w]}for(t=0,p=u.length;t<p;t++){q[u[t]]=w}}if(x){this.anySpecialAnimations=x}return q},setEasingOn:function(q,m){q=Ext.Array.from(q).slice();var o={},n=q.length,p=0;for(;p<n;p++){o[q[p]]=m}this.setCustomEasings(o)},clearEasingOn:function(m){m=Ext.Array.from(m,true);var l=0,k=m.length;for(;l<k;l++){delete this._customEasings[m[l]]}},applyCustomDurations:function(x,w){w=w||{};var q,t,p,v,u,s;for(t in x){q=true;p=x[t];v=t.split(",");for(u=0,s=v.length;u<s;u++){w[v[u]]=p}}if(q){this.anySpecialAnimations=q}return w},setDurationOn:function(p,m){p=Ext.Array.from(p).slice();var q={},o=0,n=p.length;for(;o<n;o++){q[p[o]]=m}this.setCustomDurations(q)},clearDurationOn:function(m){m=Ext.Array.from(m,true);var l=0,k=m.length;for(;l<k;l++){delete this._customDurations[m[l]]}},setAnimating:function(q,p){var m=this,n=m.animatingPool;if(q.animating!==p){q.animating=p;if(p){n.push(q);if(m.animating===0){Ext.draw.Animator.add(m)}m.animating++}else{for(var o=n.length;o--;){if(n[o]===q){n.splice(o,1)}}m.animating=n.length}}},setAttrs:function(D,M){var O=this,I=D.timers,Q=O._sprite.self.def._animationProcessors,S=O._easing,T=O._duration,N=O._customDurations,P=O._customEasings,R=O.anySpecialAnimations,H=O.anyAnimation||R,G=D.animationOriginal,U=false,K,L,J,F,V,E,X;if(!H){for(L in M){if(D[L]===M[L]){delete M[L]}else{D[L]=M[L]}delete G[L];delete I[L]}return M}else{for(L in M){J=M[L];F=D[L];if(J!==F&&F!==undefined&&F!==null&&(V=Q[L])){E=S;X=T;if(R){if(L in P){E=P[L]}if(L in N){X=N[L]}}if(F&&F.isGradient||J&&J.isGradient){X=0}if(X){if(!I[L]){I[L]={}}K=I[L];K.start=0;K.easing=E;K.duration=X;K.compute=V.compute;K.serve=V.serve||Ext.identityFn;K.remove=M.removeFromInstance&&M.removeFromInstance[L];if(V.parseInitial){var W=V.parseInitial(F,J);K.source=W[0];K.target=W[1]}else{if(V.parse){K.source=V.parse(F);K.target=V.parse(J)}else{K.source=F;K.target=J}}G[L]=J;delete M[L];U=true;continue}else{delete G[L]}}else{delete G[L]}delete I[L]}}if(U&&!D.animating){O.setAnimating(D,true)}return M},updateAttributes:function(t){if(!t.animating){return{}}var s={},v=false,w=t.timers,u=t.animationOriginal,x=Ext.draw.Animator.animationTime(),z,y,q;if(t.lastUpdate===x){return null}for(z in w){y=w[z];if(!y.start){y.start=x;q=0}else{q=(x-y.start)/y.duration}if(q>=1){s[z]=u[z];delete u[z];if(w[z].remove){s.removeFromInstance=s.removeFromInstance||{};s.removeFromInstance[z]=true}delete w[z]}else{s[z]=y.serve(y.compute(y.source,y.target,y.easing(q),t[z]));v=true}}t.lastUpdate=x;this.setAnimating(t,v);return s},pushDown:function(k,g){g=Ext.draw.modifier.Modifier.prototype.pushDown.call(this,k.animationOriginal,g);return this.setAttrs(k,g)},popUp:function(k,g){k=k.prototype;g=this.setAttrs(k,g);if(this._upper){return this._upper.popUp(k,g)}else{return Ext.apply(k,g)}},step:function(v){var o=this,s=o.animatingPool.slice(),p=s.length,t=0,u,q;for(;t<p;t++){u=s[t];q=o.updateAttributes(u);if(q&&o._upper){o._upper.popUp(u,q)}}},stop:function(){this.step();var l=this,n=l.animatingPool,o,m;for(o=0,m=n.length;o<m;o++){n[o].animating=false}l.animatingPool.length=0;l.animating=0;Ext.draw.Animator.remove(l)},destroy:function(){this.stop();Ext.draw.modifier.Modifier.prototype.destroy.call(this)}},1,0,0,0,["modifier.animation"],0,[Ext.draw.modifier,"Animation"],0));(Ext.cmd.derive("Ext.draw.modifier.Highlight",Ext.draw.modifier.Modifier,{config:{enabled:false,highlightStyle:null},preFx:true,applyHighlightStyle:function(g,k){k=k||{};if(this.getSprite()){Ext.apply(k,this.getSprite().self.def.normalize(g))}else{Ext.apply(k,g)}return k},prepareAttributes:function(f){if(!f.hasOwnProperty("highlightOriginal")){f.highlighted=false;f.highlightOriginal=Ext.Object.chain(f);f.highlightOriginal.prototype=f;f.highlightOriginal.removeFromInstance={}}if(this._lower){this._lower.prepareAttributes(f.highlightOriginal)}},updateSprite:function(g,k){if(g){if(this.getHighlightStyle()){this._highlightStyle=g.self.def.normalize(this.getHighlightStyle())}this.setHighlightStyle(g.config.highlight)}g.self.def.setConfig({defaults:{highlighted:false},processors:{highlighted:"bool"}});this.setSprite(g)},filterChanges:function(t,p){var o=this,n=t.highlightOriginal,q=o.getHighlightStyle(),s;if(t.highlighted){for(s in p){if(q.hasOwnProperty(s)){n[s]=p[s];delete p[s]}}}for(s in p){if(s!=="highlighted"&&n[s]===p[s]){delete p[s]}}return p},pushDown:function(v,t){var u=this.getHighlightStyle(),x=v.highlightOriginal,q=x.removeFromInstance,w,z,s,y;if(t.hasOwnProperty("highlighted")){w=t.highlighted;delete t.highlighted;if(this._lower){t=this._lower.pushDown(x,t)}t=this.filterChanges(v,t);if(w!==v.highlighted){if(w){for(z in u){if(z in t){x[z]=t[z]}else{s=v.template&&v.template.ownAttr;if(s&&!v.prototype.hasOwnProperty(z)){q[z]=true;x[z]=s.animationOriginal[z]}else{y=x.timers[z];if(y&&y.remove){q[z]=true}x[z]=v[z]}}if(x[z]!==u[z]){t[z]=u[z]}}}else{for(z in u){if(!(z in t)){t[z]=x[z]}delete x[z]}t.removeFromInstance=t.removeFromInstance||{};Ext.apply(t.removeFromInstance,q);x.removeFromInstance={}}t.highlighted=w}}else{if(this._lower){t=this._lower.pushDown(x,t)}t=this.filterChanges(v,t)}return t},popUp:function(k,g){g=this.filterChanges(k,g);Ext.draw.modifier.Modifier.prototype.popUp.call(this,k,g)}},0,0,0,0,["modifier.highlight"],0,[Ext.draw.modifier,"Highlight"],0));(Ext.cmd.derive("Ext.draw.sprite.Sprite",Ext.Base,{isSprite:true,statics:{defaultHitTestOptions:{fill:true,stroke:true}},inheritableStatics:{def:{processors:{strokeStyle:"color",fillStyle:"color",strokeOpacity:"limited01",fillOpacity:"limited01",lineWidth:"number",lineCap:"enums(butt,round,square)",lineJoin:"enums(round,bevel,miter)",lineDash:"data",lineDashOffset:"number",miterLimit:"number",shadowColor:"color",shadowOffsetX:"number",shadowOffsetY:"number",shadowBlur:"number",globalAlpha:"limited01",globalCompositeOperation:"enums(source-over,destination-over,source-in,destination-in,source-out,destination-out,source-atop,destination-atop,lighter,xor,copy)",hidden:"bool",transformFillStroke:"bool",zIndex:"number",translationX:"number",translationY:"number",rotationRads:"number",rotationCenterX:"number",rotationCenterY:"number",scalingX:"number",scalingY:"number",scalingCenterX:"number",scalingCenterY:"number",constrainGradients:"bool"},aliases:{stroke:"strokeStyle",fill:"fillStyle",color:"fillStyle","stroke-width":"lineWidth","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","text-anchor":"textAlign",opacity:"globalAlpha",translateX:"translationX",translateY:"translationY",rotateRads:"rotationRads",rotateCenterX:"rotationCenterX",rotateCenterY:"rotationCenterY",scaleX:"scalingX",scaleY:"scalingY",scaleCenterX:"scalingCenterX",scaleCenterY:"scalingCenterY"},defaults:{hidden:false,zIndex:0,strokeStyle:"none",fillStyle:"none",lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowColor:"none",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,globalAlpha:1,strokeOpacity:1,fillOpacity:1,transformFillStroke:false,translationX:0,translationY:0,rotationRads:0,rotationCenterX:null,rotationCenterY:null,scalingX:1,scalingY:1,scalingCenterX:null,scalingCenterY:null,constrainGradients:false},triggers:{zIndex:"zIndex",globalAlpha:"canvas",globalCompositeOperation:"canvas",transformFillStroke:"canvas",strokeStyle:"canvas",fillStyle:"canvas",strokeOpacity:"canvas",fillOpacity:"canvas",lineWidth:"canvas",lineCap:"canvas",lineJoin:"canvas",lineDash:"canvas",lineDashOffset:"canvas",miterLimit:"canvas",shadowColor:"canvas",shadowOffsetX:"canvas",shadowOffsetY:"canvas",shadowBlur:"canvas",translationX:"transform",translationY:"transform",rotationRads:"transform",rotationCenterX:"transform",rotationCenterY:"transform",scalingX:"transform",scalingY:"transform",scalingCenterX:"transform",scalingCenterY:"transform",constrainGradients:"canvas"},updaters:{bbox:"bboxUpdater",zIndex:function(f){f.dirtyZIndex=true},transform:function(f){f.dirtyTransform=true;f.bbox.transform.dirty=true}}}},config:{parent:null,surface:null},onClassExtended:function(n,o){var p=n.superclass.self.def.initialConfig,m=o.inheritableStatics&&o.inheritableStatics.def,q;if(m){q=Ext.Object.merge({},p,m);n.def=new Ext.draw.sprite.AttributeDefinition(q);delete o.inheritableStatics.def}else{n.def=new Ext.draw.sprite.AttributeDefinition(p)}n.def.spriteClass=n},constructor:function(p){var n=this,o=n.self.def,m=o.getDefaults(),q;p=Ext.isObject(p)?p:{};n.id=p.id||Ext.id(null,"ext-sprite-");n.attr={};n.mixins.observable.constructor.apply(n,arguments);q=Ext.Array.from(p.modifiers,true);n.prepareModifiers(q);n.initializeAttributes();n.setAttributes(m,true);n.setAttributes(p)},getDirty:function(){return this.attr.dirty},setDirty:function(g){this.attr.dirty=g;if(g){var k=this.getParent();if(k){k.setDirty(true)}}},addModifier:function(m,l){var k=this;if(!(m instanceof Ext.draw.modifier.Modifier)){m=Ext.factory(m,null,null,"modifier")}m.setSprite(k);if(m.preFx||m.config&&m.config.preFx){if(k.fx._lower){k.fx._lower.setUpper(m)}m.setUpper(k.fx)}else{k.topModifier._lower.setUpper(m);m.setUpper(k.topModifier)}if(l){k.initializeAttributes()}return m},prepareModifiers:function(l){var m=this,o,n;m.topModifier=new Ext.draw.modifier.Target({sprite:m});m.fx=new Ext.draw.modifier.Animation({sprite:m});m.fx.setUpper(m.topModifier);for(o=0,n=l.length;o<n;o++){m.addModifier(l[o],false)}},getAnimation:function(){return this.fx},setAnimation:function(f){this.fx.setConfig(f)},initializeAttributes:function(){this.topModifier.prepareAttributes(this.attr)},callUpdaters:function(w){w=w||this.attr;var v=this,s=w.pendingUpdaters,q=v.self.def.getUpdaters(),x=false,z=false,y,t,u;v.callUpdaters=Ext.emptyFn;do{x=false;for(t in s){x=true;y=s[t];delete s[t];u=q[t];if(typeof u==="string"){u=v[u]}if(u){u.call(v,w,y)}}z=z||x}while(x);delete v.callUpdaters;if(z){v.setDirty(true)}},callUpdater:function(m,k,l){this.scheduleUpdater(m,k,l);this.callUpdaters(m)},scheduleUpdaters:function(t,o,q){var n;t=t||this.attr;if(q){for(var s=0,p=o.length;s<p;s++){n=o[s];this.scheduleUpdater(t,n,q)}}else{for(n in o){q=o[n];this.scheduleUpdater(t,n,q)}}},scheduleUpdater:function(o,m,n){n=n||[];o=o||this.attr;var l=o.pendingUpdaters;if(m in l){if(n.length){l[m]=Ext.Array.merge(l[m],n)}}else{l[m]=n}},setAttributes:function(t,z,q){var u=this,v=u.attr,w,y,s,x;if(z){if(q){u.topModifier.pushDown(v,t)}else{x={};for(y in t){s=t[y];if(s!==v[y]){x[y]=s}}u.topModifier.pushDown(v,x)}}else{w=u.self.def.normalize(t);u.topModifier.pushDown(v,w)}},setAttributesBypassingNormalization:function(g,k){return this.setAttributes(g,true,k)},bboxUpdater:function(p){var o=p.rotationRads!==0,q=p.scalingX!==1||p.scalingY!==1,n=p.rotationCenterX===null||p.rotationCenterY===null,m=p.scalingCenterX===null||p.scalingCenterY===null;p.bbox.plain.dirty=true;p.bbox.transform.dirty=true;if(o&&n||q&&m){this.scheduleUpdater(p,"transform")}},getBBox:function(p){var o=this,t=o.attr,n=t.bbox,q=n.plain,s=n.transform;if(q.dirty){o.updatePlainBBox(q);q.dirty=false}if(!p){o.applyTransformations();if(s.dirty){o.updateTransformedBBox(s,q);s.dirty=false}return s}return q},updatePlainBBox:Ext.emptyFn,updateTransformedBBox:function(k,g){this.attr.matrix.transformBBox(g,0,k)},getBBoxCenter:function(k){var g=this.getBBox(k);if(g){return[g.x+g.width*0.5,g.y+g.height*0.5]}else{return[0,0]}},hide:function(){this.attr.hidden=true;this.setDirty(true);return this},show:function(){this.attr.hidden=false;this.setDirty(true);return this},useAttributes:function(q,u){this.applyTransformations();var w=this.attr,s=w.canvasAttributes,v=s.strokeStyle,t=s.fillStyle,y=s.lineDash,x=s.lineDashOffset,z;if(v){if(v.isGradient){q.strokeStyle="black";q.strokeGradient=v}else{q.strokeGradient=false}}if(t){if(t.isGradient){q.fillStyle="black";q.fillGradient=t}else{q.fillGradient=false}}if(y){q.setLineDash(y)}if(Ext.isNumber(x)&&Ext.isNumber(q.lineDashOffset)){q.lineDashOffset=x}for(z in s){if(s[z]!==undefined&&s[z]!==q[z]){q[z]=s[z]}}this.setGradientBBox(q,u)},setGradientBBox:function(l,k){var m=this.attr;if(m.constrainGradients){l.setGradientBBox({x:k[0],y:k[1],width:k[2],height:k[3]})}else{l.setGradientBBox(this.getBBox(m.transformFillStroke))}},applyTransformations:function(S){if(!S&&!this.attr.dirtyTransform){return}var B=this,I=B.attr,D=B.getBBoxCenter(true),N=D[0],O=D[1],C=I.translationX,E=I.translationY,J=I.scalingX,L=I.scalingY===null?I.scalingX:I.scalingY,G=I.scalingCenterX===null?N:I.scalingCenterX,H=I.scalingCenterY===null?O:I.scalingCenterY,K=I.rotationRads,P=I.rotationCenterX===null?N:I.rotationCenterX,Q=I.rotationCenterY===null?O:I.rotationCenterY,R=Math.cos(K),T=Math.sin(K),F,M;if(J===1&&L===1){G=0;H=0}if(K===0){P=0;Q=0}F=G*(1-J)-P;M=H*(1-L)-Q;I.matrix.elements=[R*J,T*J,-T*L,R*L,R*F-T*M+P+C,T*F+R*M+Q+E];I.matrix.inverse(I.inverseMatrix);I.dirtyTransform=false;I.bbox.transform.dirty=true},transform:function(p,o){var q=this.attr,m=q.matrix,n;if(p&&p.isMatrix){n=p.elements}else{n=p}m.prepend.apply(m,n.slice());m.inverse(q.inverseMatrix);if(o){this.updateTransformAttributes()}q.dirtyTransform=false;q.bbox.transform.dirty=true;this.setDirty(true);return this},updateTransformAttributes:function(){var k=this.attr,g=k.matrix.split();k.rotationRads=g.rotate;k.rotationCenterX=0;k.rotationCenterY=0;k.scalingX=g.scaleX;k.scalingY=g.scaleY;k.scalingCenterX=0;k.scalingCenterY=0;k.translationX=g.translateX;k.translationY=g.translateY},resetTransform:function(g){var k=this.attr;k.matrix.reset();k.inverseMatrix.reset();if(!g){this.updateTransformAttributes()}k.dirtyTransform=false;k.bbox.transform.dirty=true;this.setDirty(true);return this},setTransform:function(k,g){this.resetTransform(true);this.transform.call(this,k,g);return this},preRender:Ext.emptyFn,render:Ext.emptyFn,hitTest:function(s,q){if(this.isVisible()){var t=s[0],n=s[1],o=this.getBBox(),p=o&&t>=o.x&&t<=(o.x+o.width)&&n>=o.y&&n<=(o.y+o.height);if(p){return{sprite:this}}}return null},isVisible:function(){var v=this.attr,u=this.getParent(),t=u&&(u.isSurface||u.isVisible()),w=t&&!v.hidden&&v.globalAlpha,y=Ext.util.Color.NONE,z=Ext.util.Color.RGBA_NONE,x=v.fillOpacity&&v.fillStyle!==y&&v.fillStyle!==z,q=v.strokeOpacity&&v.strokeStyle!==y&&v.strokeStyle!==z,s=w&&(x||q);return !!s},repaint:function(){var f=this.getSurface();if(f){f.renderFrame()}},remove:function(){var f=this.getSurface();if(f&&f.isSurface){return f.remove(this)}return null},destroy:function(){var l=this,m=l.topModifier,k;while(m){k=m;m=m._lower;k.destroy()}delete l.attr;l.remove();if(l.fireEvent("beforedestroy",l)!==false){l.fireEvent("destroy",l)}l.callParent()}},1,0,0,0,["sprite.sprite"],[["observable",Ext.mixin.Observable]],[Ext.draw.sprite,"Sprite"],function(){this.def=new Ext.draw.sprite.AttributeDefinition(this.def);this.def.spriteClass=this}));(Ext.cmd.derive("Ext.draw.Path",Ext.Base,{statics:{pathRe:/,?([achlmqrstvxz]),?/gi,pathRe2:/-/gi,pathSplitRe:/\s|,/g},svgString:"",constructor:function(k){var g=this;g.commands=[];g.params=[];g.cursor=null;g.startX=0;g.startY=0;if(k){g.fromSvgString(k)}},clear:function(){var f=this;f.params.length=0;f.commands.length=0;f.cursor=null;f.startX=0;f.startY=0;f.dirt()},dirt:function(){this.svgString=""},moveTo:function(m,k){var l=this;if(!l.cursor){l.cursor=[m,k]}l.params.push(m,k);l.commands.push("M");l.startX=m;l.startY=k;l.cursor[0]=m;l.cursor[1]=k;l.dirt()},lineTo:function(m,k){var l=this;if(!l.cursor){l.cursor=[m,k];l.params.push(m,k);l.commands.push("M")}else{l.params.push(m,k);l.commands.push("L")}l.cursor[0]=m;l.cursor[1]=k;l.dirt()},bezierCurveTo:function(s,p,t,q,u,v){var o=this;if(!o.cursor){o.moveTo(s,p)}o.params.push(s,p,t,q,u,v);o.commands.push("C");o.cursor[0]=u;o.cursor[1]=v;o.dirt()},quadraticCurveTo:function(p,m,q,n){var o=this;if(!o.cursor){o.moveTo(p,m)}o.bezierCurveTo((2*p+o.cursor[0])/3,(2*m+o.cursor[1])/3,(2*p+q)/3,(2*m+n)/3,q,n)},closePath:function(){var f=this;if(f.cursor){f.cursor=null;f.commands.push("Z");f.dirt()}},arcTo:function(U,am,W,ao,ah,aj,ae){var N=this;if(aj===undefined){aj=ah}if(ae===undefined){ae=0}if(!N.cursor){N.moveTo(U,am);return}if(ah===0||aj===0){N.lineTo(U,am);return}W-=U;ao-=am;var R=N.cursor[0]-U,al=N.cursor[1]-am,P=W*al-ao*R,aq,ar,ac,Q,ad,S,aa=Math.sqrt(R*R+al*al),af=Math.sqrt(W*W+ao*ao),ag,an,ap;if(P===0){N.lineTo(U,am);return}if(aj!==ah){aq=Math.cos(ae);ar=Math.sin(ae);ac=aq/ah;Q=ar/aj;ad=-ar/ah;S=aq/aj;var O=ac*R+Q*al;al=ad*R+S*al;R=O;O=ac*W+Q*ao;ao=ad*W+S*ao;W=O}else{R/=ah;al/=aj;W/=ah;ao/=aj}an=R*af+W*aa;ap=al*af+ao*aa;ag=1/(Math.sin(Math.asin(Math.abs(P)/(aa*af))*0.5)*Math.sqrt(an*an+ap*ap));an*=ag;ap*=ag;var V=(an*R+ap*al)/(R*R+al*al),Z=(an*W+ap*ao)/(W*W+ao*ao);var Y=R*V-an,T=al*V-ap,ak=W*Z-an,X=ao*Z-ap,ab=Math.atan2(T,Y),ai=Math.atan2(X,ak);if(P>0){if(ai<ab){ai+=Math.PI*2}}else{if(ab<ai){ab+=Math.PI*2}}if(aj!==ah){an=aq*an*ah-ar*ap*aj+U;ap=ar*ap*aj+aq*ap*aj+am;N.lineTo(aq*ah*Y-ar*aj*T+an,ar*ah*Y+aq*aj*T+ap);N.ellipse(an,ap,ah,aj,ae,ab,ai,P<0)}else{an=an*ah+U;ap=ap*aj+am;N.lineTo(ah*Y+an,aj*T+ap);N.ellipse(an,ap,ah,aj,ae,ab,ai,P<0)}},ellipse:function(z,B,E,G,H,K,D,C){var J=this,A=J.params,F=A.length,L,x,y;if(D-K>=Math.PI*2){J.ellipse(z,B,E,G,H,K,K+Math.PI,C);J.ellipse(z,B,E,G,H,K+Math.PI,D,C);return}if(!C){if(D<K){D+=Math.PI*2}L=J.approximateArc(A,z,B,E,G,H,K,D)}else{if(K<D){K+=Math.PI*2}L=J.approximateArc(A,z,B,E,G,H,D,K);for(x=F,y=A.length-2;x<y;x+=2,y-=2){var I=A[x];A[x]=A[y];A[y]=I;I=A[x+1];A[x+1]=A[y+1];A[y+1]=I}}if(!J.cursor){J.cursor=[A[A.length-2],A[A.length-1]];J.commands.push("M")}else{J.cursor[0]=A[A.length-2];J.cursor[1]=A[A.length-1];J.commands.push("L")}for(x=2;x<L;x+=6){J.commands.push("C")}J.dirt()},arc:function(s,n,t,p,q,o){this.ellipse(s,n,t,t,0,p,q,o)},rect:function(p,m,o,q){if(o==0||q==0){return}var n=this;n.moveTo(p,m);n.lineTo(p+o,m);n.lineTo(p+o,m+q);n.lineTo(p,m+q);n.closePath()},approximateArc:function(ae,af,ai,S,U,ak,V,aa){var aj=Math.cos(ak),R=Math.sin(ak),Z=Math.cos(V),Y=Math.sin(V),O=aj*Z*S-R*Y*U,T=-aj*Y*S-R*Z*U,Q=R*Z*S+aj*Y*U,X=-R*Y*S+aj*Z*U,W=Math.PI/2,M=2,ad=O,ab=T,ag=Q,ac=X,am=0.547443256150549,L,ah,P,an,N,al;aa-=V;if(aa<0){aa+=Math.PI*2}ae.push(O+af,Q+ai);while(aa>=W){ae.push(ad+ab*am+af,ag+ac*am+ai,ad*am+ab+af,ag*am+ac+ai,ab+af,ac+ai);M+=6;aa-=W;L=ad;ad=ab;ab=-L;L=ag;ag=ac;ac=-L}if(aa){ah=(0.3294738052815987+0.012120855841304373*aa)*aa;P=Math.cos(aa);an=Math.sin(aa);N=P+ah*an;al=an-ah*P;ae.push(ad+ab*ah+af,ag+ac*ah+ai,ad*N+ab*al+af,ag*N+ac*al+ai,ad*P+ab*an+af,ag*P+ac*an+ai);M+=6}return M},arcSvg:function(V,Y,H,O,Q,U,ad){if(V<0){V=-V}if(Y<0){Y=-Y}var N=this,T=N.cursor[0],aa=N.cursor[1],af=(T-U)/2,M=(aa-ad)/2,ac=Math.cos(H),W=Math.sin(H),K=af*ac+M*W,S=-af*W+M*ac,X=K/V,Z=S/Y,J=X*X+Z*Z,ab=(T+U)*0.5,ae=(aa+ad)*0.5,P=0,R=0;if(J>=1){J=Math.sqrt(J);V*=J;Y*=J}else{J=Math.sqrt(1/J-1);if(O===Q){J=-J}P=J*V*Z;R=-J*Y*X;ab+=ac*P-W*R;ae+=W*P+ac*R}var I=Math.atan2((S-R)/Y,(K-P)/V),L=Math.atan2((-S-R)/Y,(-K-P)/V)-I;if(Q){if(L<=0){L+=Math.PI*2}}else{if(L>=0){L-=Math.PI*2}}N.ellipse(ab,ae,V,Y,H,I,I+L,1-Q)},fromSvgString:function(A){if(!A){return}var G=this,x,H={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0,A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},v="",y,z,C=0,D=0,B=false,w,F,E;if(Ext.isString(A)){x=A.replace(Ext.draw.Path.pathRe," $1 ").replace(Ext.draw.Path.pathRe2," -").split(Ext.draw.Path.pathSplitRe)}else{if(Ext.isArray(A)){x=A.join(",").split(Ext.draw.Path.pathSplitRe)}}for(w=0,F=0;w<x.length;w++){if(x[w]!==""){x[F++]=x[w]}}x.length=F;G.clear();for(w=0;w<x.length;){v=B;B=x[w];E=(B.toUpperCase()!==B);w++;switch(B){case"M":G.moveTo(C=+x[w],D=+x[w+1]);w+=2;while(w<F&&!H.hasOwnProperty(x[w])){G.lineTo(C=+x[w],D=+x[w+1]);w+=2}break;case"L":G.lineTo(C=+x[w],D=+x[w+1]);w+=2;while(w<F&&!H.hasOwnProperty(x[w])){G.lineTo(C=+x[w],D=+x[w+1]);w+=2}break;case"A":while(w<F&&!H.hasOwnProperty(x[w])){G.arcSvg(+x[w],+x[w+1],+x[w+2]*Math.PI/180,+x[w+3],+x[w+4],C=+x[w+5],D=+x[w+6]);w+=7}break;case"C":while(w<F&&!H.hasOwnProperty(x[w])){G.bezierCurveTo(+x[w],+x[w+1],y=+x[w+2],z=+x[w+3],C=+x[w+4],D=+x[w+5]);w+=6}break;case"Z":G.closePath();break;case"m":G.moveTo(C+=+x[w],D+=+x[w+1]);w+=2;while(w<F&&!H.hasOwnProperty(x[w])){G.lineTo(C+=+x[w],D+=+x[w+1]);w+=2}break;case"l":G.lineTo(C+=+x[w],D+=+x[w+1]);w+=2;while(w<F&&!H.hasOwnProperty(x[w])){G.lineTo(C+=+x[w],D+=+x[w+1]);w+=2}break;case"a":while(w<F&&!H.hasOwnProperty(x[w])){G.arcSvg(+x[w],+x[w+1],+x[w+2]*Math.PI/180,+x[w+3],+x[w+4],C+=+x[w+5],D+=+x[w+6]);w+=7}break;case"c":while(w<F&&!H.hasOwnProperty(x[w])){G.bezierCurveTo(C+(+x[w]),D+(+x[w+1]),y=C+(+x[w+2]),z=D+(+x[w+3]),C+=+x[w+4],D+=+x[w+5]);w+=6}break;case"z":G.closePath();break;case"s":if(!(v==="c"||v==="C"||v==="s"||v==="S")){y=C;z=D}while(w<F&&!H.hasOwnProperty(x[w])){G.bezierCurveTo(C+C-y,D+D-z,y=C+(+x[w]),z=D+(+x[w+1]),C+=+x[w+2],D+=+x[w+3]);w+=4}break;case"S":if(!(v==="c"||v==="C"||v==="s"||v==="S")){y=C;z=D}while(w<F&&!H.hasOwnProperty(x[w])){G.bezierCurveTo(C+C-y,D+D-z,y=+x[w],z=+x[w+1],C=(+x[w+2]),D=(+x[w+3]));w+=4}break;case"q":while(w<F&&!H.hasOwnProperty(x[w])){G.quadraticCurveTo(y=C+(+x[w]),z=D+(+x[w+1]),C+=+x[w+2],D+=+x[w+3]);w+=4}break;case"Q":while(w<F&&!H.hasOwnProperty(x[w])){G.quadraticCurveTo(y=+x[w],z=+x[w+1],C=+x[w+2],D=+x[w+3]);w+=4}break;case"t":if(!(v==="q"||v==="Q"||v==="t"||v==="T")){y=C;z=D}while(w<F&&!H.hasOwnProperty(x[w])){G.quadraticCurveTo(y=C+C-y,z=D+D-z,C+=+x[w+1],D+=+x[w+2]);w+=2}break;case"T":if(!(v==="q"||v==="Q"||v==="t"||v==="T")){y=C;z=D}while(w<F&&!H.hasOwnProperty(x[w])){G.quadraticCurveTo(y=C+C-y,z=D+D-z,C=(+x[w+1]),D=(+x[w+2]));w+=2}break;case"h":while(w<F&&!H.hasOwnProperty(x[w])){G.lineTo(C+=+x[w],D);w++}break;case"H":while(w<F&&!H.hasOwnProperty(x[w])){G.lineTo(C=+x[w],D);w++}break;case"v":while(w<F&&!H.hasOwnProperty(x[w])){G.lineTo(C,D+=+x[w]);w++}break;case"V":while(w<F&&!H.hasOwnProperty(x[w])){G.lineTo(C,D=+x[w]);w++}break}}},clone:function(){var k=this,g=new Ext.draw.Path();g.params=k.params.slice(0);g.commands=k.commands.slice(0);g.cursor=k.cursor?k.cursor.slice(0):null;g.startX=k.startX;g.startY=k.startY;g.svgString=k.svgString;return g},transform:function(v){if(v.isIdentity()){return}var D=v.getXX(),y=v.getYX(),E=v.getDX(),F=v.getXY(),z=v.getYY(),u=v.getDY(),C=this.params,B=0,A=C.length,w,x;for(;B<A;B+=2){w=C[B];x=C[B+1];C[B]=w*D+x*y+E;C[B+1]=w*F+x*z+u}this.dirt()},getDimension:function(p){if(!p){p={}}if(!this.commands||!this.commands.length){p.x=0;p.y=0;p.width=0;p.height=0;return p}p.left=Infinity;p.top=Infinity;p.right=-Infinity;p.bottom=-Infinity;var s=0,t=0,u=this.commands,x=this.params,q=u.length,v,w;for(;s<q;s++){switch(u[s]){case"M":case"L":v=x[t];w=x[t+1];p.left=Math.min(v,p.left);p.top=Math.min(w,p.top);p.right=Math.max(v,p.right);p.bottom=Math.max(w,p.bottom);t+=2;break;case"C":this.expandDimension(p,v,w,x[t],x[t+1],x[t+2],x[t+3],v=x[t+4],w=x[t+5]);t+=6;break}}p.x=p.left;p.y=p.top;p.width=p.right-p.left;p.height=p.bottom-p.top;return p},getDimensionWithTransform:function(K,B){if(!this.commands||!this.commands.length){if(!B){B={}}B.x=0;B.y=0;B.width=0;B.height=0;return B}B.left=Infinity;B.top=Infinity;B.right=-Infinity;B.bottom=-Infinity;var G=K.getXX(),y=K.getYX(),H=K.getDX(),I=K.getXY(),z=K.getYY(),J=K.getDY(),C=0,D=0,F=this.commands,E=this.params,A=F.length,L,x;for(;C<A;C++){switch(F[C]){case"M":case"L":L=E[D]*G+E[D+1]*y+H;x=E[D]*I+E[D+1]*z+J;B.left=Math.min(L,B.left);B.top=Math.min(x,B.top);B.right=Math.max(L,B.right);B.bottom=Math.max(x,B.bottom);D+=2;break;case"C":this.expandDimension(B,L,x,E[D]*G+E[D+1]*y+H,E[D]*I+E[D+1]*z+J,E[D+2]*G+E[D+3]*y+H,E[D+2]*I+E[D+3]*z+J,L=E[D+4]*G+E[D+5]*y+H,x=E[D+4]*I+E[D+5]*z+J);D+=6;break}}if(!B){B={}}B.x=B.left;B.y=B.top;B.width=B.right-B.left;B.height=B.bottom-B.top;return B},expandDimension:function(t,D,H,L,A,l,C,E,I){var K=this,B=t.left,F=t.right,G=t.top,J=t.bottom,z=K.dim||(K.dim=[]);K.curveDimension(D,L,l,E,z);B=Math.min(B,z[0]);F=Math.max(F,z[1]);K.curveDimension(H,A,C,I,z);G=Math.min(G,z[0]);J=Math.max(J,z[1]);t.left=B;t.right=F;t.top=G;t.bottom=J},curveDimension:function(G,v,y,z,B){var A=3*(-G+3*(v-y)+z),C=6*(G-2*v+y),D=-3*(G-v),H,w,E=Math.min(G,z),x=Math.max(G,z),F;if(A===0){if(C===0){B[0]=E;B[1]=x;return}else{H=-D/C;if(0<H&&H<1){w=this.interpolate(G,v,y,z,H);E=Math.min(E,w);x=Math.max(x,w)}}}else{F=C*C-4*A*D;if(F>=0){F=Math.sqrt(F);H=(F-C)/2/A;if(0<H&&H<1){w=this.interpolate(G,v,y,z,H);E=Math.min(E,w);x=Math.max(x,w)}if(F>0){H-=F/A;if(0<H&&H<1){w=this.interpolate(G,v,y,z,H);E=Math.min(E,w);x=Math.max(x,w)}}}}B[0]=E;B[1]=x},interpolate:function(s,t,n,o,q){if(q===0){return s}if(q===1){return o}var p=(1-q)/q;return q*q*q*(o+p*(3*n+p*(3*t+p*s)))},fromStripes:function(v){var p=this,s=0,q=v.length,t,u,o;p.clear();for(;s<q;s++){o=v[s];p.params.push.apply(p.params,o);p.commands.push("M");for(t=2,u=o.length;t<u;t+=6){p.commands.push("C")}}if(!p.cursor){p.cursor=[]}p.cursor[0]=p.params[p.params.length-2];p.cursor[1]=p.params[p.params.length-1];p.dirt()},toStripes:function(x){var H=x||[],G,I,J,E,F,y,z,A,B,D=this.commands,C=this.params,w=D.length;for(A=0,B=0;A<w;A++){switch(D[A]){case"M":G=[y=E=C[B++],z=F=C[B++]];H.push(G);break;case"L":I=C[B++];J=C[B++];G.push((E+E+I)/3,(F+F+J)/3,(E+I+I)/3,(F+J+J)/3,E=I,F=J);break;case"C":G.push(C[B++],C[B++],C[B++],C[B++],E=C[B++],F=C[B++]);break;case"Z":I=y;J=z;G.push((E+E+I)/3,(F+F+J)/3,(E+I+I)/3,(F+J+J)/3,E=I,F=J);break}}return H},updateSvgString:function(){var s=[],t=this.commands,n=this.params,o=t.length,p=0,q=0;for(;p<o;p++){switch(t[p]){case"M":s.push("M"+n[q]+","+n[q+1]);q+=2;break;case"L":s.push("L"+n[q]+","+n[q+1]);q+=2;break;case"C":s.push("C"+n[q]+","+n[q+1]+" "+n[q+2]+","+n[q+3]+" "+n[q+4]+","+n[q+5]);q+=6;break;case"Z":s.push("Z");break}}this.svgString=s.join("")},toString:function(){if(!this.svgString){this.updateSvgString()}return this.svgString}},3,0,0,0,0,0,[Ext.draw,"Path"],0));Ext.define("Ext.draw.overrides.hittest.Path",{override:"Ext.draw.Path",rayOrigin:{x:-10000,y:-10000},isPointInPath:function(J,K){var L=this,E=L.commands,H=Ext.draw.PathUtil,I=L.rayOrigin,B=L.params,x=E.length,C=null,D=null,F=0,G=0,y=0,z,A;for(z=0,A=0;z<x;z++){switch(E[z]){case"M":if(C!==null){if(H.linesIntersection(C,D,F,G,I.x,I.y,J,K)){y+=1}}C=F=B[A];D=G=B[A+1];A+=2;break;case"L":if(H.linesIntersection(F,G,B[A],B[A+1],I.x,I.y,J,K)){y+=1}F=B[A];G=B[A+1];A+=2;break;case"C":y+=H.cubicLineIntersections(F,B[A],B[A+2],B[A+4],G,B[A+1],B[A+3],B[A+5],I.x,I.y,J,K).length;F=B[A+4];G=B[A+5];A+=6;break;case"Z":if(C!==null){if(H.linesIntersection(C,D,F,G,I.x,I.y,J,K)){y+=1}}break}}return y%2===1},isPointOnPath:function(G,H){var v=this,C=v.commands,F=Ext.draw.PathUtil,z=v.params,w=C.length,A=null,B=null,D=0,E=0,x,y;for(x=0,y=0;x<w;x++){switch(C[x]){case"M":if(A!==null){if(F.pointOnLine(A,B,D,E,G,H)){return true}}A=D=z[y];B=E=z[y+1];y+=2;break;case"L":if(F.pointOnLine(D,E,z[y],z[y+1],G,H)){return true}D=z[y];E=z[y+1];y+=2;break;case"C":if(F.pointOnCubic(D,z[y],z[y+2],z[y+4],E,z[y+1],z[y+3],z[y+5],G,H)){return true}D=z[y+4];E=z[y+5];y+=6;break;case"Z":if(A!==null){if(F.pointOnLine(A,B,D,E,G,H)){return true}}break}}return false},getSegmentIntersections:function(E,W,F,X,G,Y,J,Z){var N=this,T=arguments.length,O=Ext.draw.PathUtil,U=N.commands,Q=N.params,R=U.length,M=null,P=null,S=0,V=0,L=[],H,K,I;for(H=0,K=0;H<R;H++){switch(U[H]){case"M":if(M!==null){switch(T){case 4:I=O.linesIntersection(M,P,S,V,E,W,F,X);if(I){L.push(I)}break;case 8:I=O.cubicLineIntersections(E,F,G,J,W,X,Y,Z,M,P,S,V);L.push.apply(L,I);break}}M=S=Q[K];P=V=Q[K+1];K+=2;break;case"L":switch(T){case 4:I=O.linesIntersection(S,V,Q[K],Q[K+1],E,W,F,X);if(I){L.push(I)}break;case 8:I=O.cubicLineIntersections(E,F,G,J,W,X,Y,Z,S,V,Q[K],Q[K+1]);L.push.apply(L,I);break}S=Q[K];V=Q[K+1];K+=2;break;case"C":switch(T){case 4:I=O.cubicLineIntersections(S,Q[K],Q[K+2],Q[K+4],V,Q[K+1],Q[K+3],Q[K+5],E,W,F,X);L.push.apply(L,I);break;case 8:I=O.cubicsIntersections(S,Q[K],Q[K+2],Q[K+4],V,Q[K+1],Q[K+3],Q[K+5],E,F,G,J,W,X,Y,Z);L.push.apply(L,I);break}S=Q[K+4];V=Q[K+5];K+=6;break;case"Z":if(M!==null){switch(T){case 4:I=O.linesIntersection(M,P,S,V,E,W,F,X);if(I){L.push(I)}break;case 8:I=O.cubicLineIntersections(E,F,G,J,W,X,Y,Z,M,P,S,V);L.push.apply(L,I);break}}break}}return L},getIntersections:function(F){var H=this,C=H.commands,y=H.params,v=C.length,z=null,A=null,D=0,E=0,B=[],w,x,G;for(w=0,x=0;w<v;w++){switch(C[w]){case"M":if(z!==null){G=F.getSegmentIntersections.call(F,z,A,D,E);B.push.apply(B,G)}z=D=y[x];A=E=y[x+1];x+=2;break;case"L":G=F.getSegmentIntersections.call(F,D,E,y[x],y[x+1]);B.push.apply(B,G);D=y[x];E=y[x+1];x+=2;break;case"C":G=F.getSegmentIntersections.call(F,D,E,y[x],y[x+1],y[x+2],y[x+3],y[x+4],y[x+5]);B.push.apply(B,G);D=y[x+4];E=y[x+5];x+=6;break;case"Z":if(z!==null){G=F.getSegmentIntersections.call(F,z,A,D,E);B.push.apply(B,G)}break}}return B}});(Ext.cmd.derive("Ext.draw.sprite.Path",Ext.draw.sprite.Sprite,{type:"path",isPath:true,inheritableStatics:{def:{processors:{path:function(g,k){if(!(g instanceof Ext.draw.Path)){g=new Ext.draw.Path(g)}return g}},aliases:{d:"path"},triggers:{path:"bbox"},updaters:{path:function(k){var g=k.path;if(!g||g.bindAttr!==k){g=new Ext.draw.Path();g.bindAttr=k;k.path=g}g.clear();this.updatePath(g,k);this.scheduleUpdater(k,"bbox",["path"])}}}},updatePlainBBox:function(f){if(this.attr.path){this.attr.path.getDimension(f)}},updateTransformedBBox:function(f){if(this.attr.path){this.attr.path.getDimensionWithTransform(this.attr.matrix,f)}},render:function(n,m){var l=this.attr.matrix,o=this.attr;if(!o.path||o.path.params.length===0){return}l.toContext(m);m.appendPath(o.path);m.fillStroke(o)},updatePath:function(g,k){}},0,0,0,0,["Ext.draw.Sprite","sprite.path"],0,[Ext.draw.sprite,"Path"],0));Ext.define("Ext.draw.overrides.hittest.sprite.Path",{override:"Ext.draw.sprite.Path",isPointInPath:function(s,v){var t=this.attr;if(t.fillStyle===Ext.util.Color.RGBA_NONE){return this.isPointOnPath(s,v)}var p=t.path,q=t.matrix,o,u;if(!q.isIdentity()){o=p.params.slice(0);p.transform(t.matrix)}u=p.isPointInPath(s,v);if(o){p.params=o}return u},isPointOnPath:function(s,v){var t=this.attr,p=t.path,q=t.matrix,o,u;if(!q.isIdentity()){o=p.params.slice(0);p.transform(t.matrix)}u=p.isPointOnPath(s,v);if(o){p.params=o}return u},hitTest:function(v,E){var z=this,B=z.attr,F=B.path,x=B.matrix,w=v[0],y=v[1],A=(arguments.callee.$previous||Ext.draw.sprite.Sprite.prototype.hitTest).call(this,v,E),u=null,D,C;if(!A){return u}E=E||Ext.draw.sprite.Sprite.defaultHitTestOptions;if(!x.isIdentity()){D=F.params.slice(0);F.transform(B.matrix)}if(E.fill&&E.stroke){C=B.fillStyle!==Ext.util.Color.NONE&&B.fillStyle!==Ext.util.Color.RGBA_NONE;if(C){if(F.isPointInPath(w,y)){u={sprite:z}}}else{if(F.isPointInPath(w,y)||F.isPointOnPath(w,y)){u={sprite:z}}}}else{if(E.stroke&&!E.fill){if(F.isPointOnPath(w,y)){u={sprite:z}}}else{if(E.fill&&!E.stroke){if(F.isPointInPath(w,y)){u={sprite:z}}}}}if(D){F.params=D}return u},getIntersections:function(s){if(!(s.isSprite&&s.isPath)){return[]}var x=this.attr,y=s.attr,t=x.path,u=y.path,v=x.matrix,B=y.matrix,z,w,A;if(!v.isIdentity()){z=t.params.slice(0);t.transform(x.matrix)}if(!B.isIdentity()){w=u.params.slice(0);u.transform(y.matrix)}A=t.getIntersections(u);if(z){t.params=z}if(w){u.params=w}return A}});(Ext.cmd.derive("Ext.draw.sprite.Circle",Ext.draw.sprite.Path,{type:"circle",inheritableStatics:{def:{processors:{cx:"number",cy:"number",r:"number"},aliases:{radius:"r",x:"cx",y:"cy",centerX:"cx",centerY:"cy"},defaults:{cx:0,cy:0,r:4},triggers:{cx:"path",cy:"path",r:"path"}}},updatePlainBBox:function(o){var p=this.attr,q=p.cx,m=p.cy,n=p.r;o.x=q-n;o.y=m-n;o.width=n+n;o.height=n+n},updateTransformedBBox:function(y){var v=this.attr,w=v.cx,x=v.cy,B=v.r,u=v.matrix,s=u.getScaleX(),t=u.getScaleY(),z,A;z=s*B;A=t*B;y.x=u.x(w,x)-z;y.y=u.y(w,x)-A;y.width=z+z;y.height=A+A},updatePath:function(g,k){g.arc(k.cx,k.cy,k.r,0,Math.PI*2,false)}},0,0,0,0,["sprite.circle"],0,[Ext.draw.sprite,"Circle"],0));(Ext.cmd.derive("Ext.draw.sprite.Arc",Ext.draw.sprite.Circle,{type:"arc",inheritableStatics:{def:{processors:{startAngle:"number",endAngle:"number",anticlockwise:"bool"},aliases:{from:"startAngle",to:"endAngle",start:"startAngle",end:"endAngle"},defaults:{startAngle:0,endAngle:Math.PI*2,anticlockwise:false},triggers:{startAngle:"path",endAngle:"path",anticlockwise:"path"}}},updatePath:function(g,k){g.arc(k.cx,k.cy,k.r,k.startAngle,k.endAngle,k.anticlockwise)}},0,0,0,0,["sprite.arc"],0,[Ext.draw.sprite,"Arc"],0));(Ext.cmd.derive("Ext.draw.sprite.Arrow",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(n,p){var o=p.size*1.5,q=p.x-p.lineWidth/2,m=p.y;n.fromSvgString("M".concat(q-o*0.7,",",m-o*0.4,"l",[o*0.6,0,0,-o*0.4,o,o*0.8,-o,o*0.8,0,-o*0.4,-o*0.6,0],"z"))}},0,0,0,0,["sprite.arrow"],0,[Ext.draw.sprite,"Arrow"],0));(Ext.cmd.derive("Ext.draw.sprite.Composite",Ext.draw.sprite.Sprite,{type:"composite",isComposite:true,config:{sprites:[]},constructor:function(f){this.sprites=[];this.map={};Ext.draw.sprite.Sprite.prototype.constructor.call(this,f)},add:function(m){if(!m){return null}if(!m.isSprite){m=Ext.create("sprite."+m.type,m)}m.setParent(this);m.setSurface(this.getSurface());var l=this,o=l.attr,n=m.applyTransformations;m.applyTransformations=function(e){if(m.attr.dirtyTransform){o.dirtyTransform=true;o.bbox.plain.dirty=true;o.bbox.transform.dirty=true}n.call(m,e)};l.sprites.push(m);l.map[m.id]=m.getId();o.bbox.plain.dirty=true;o.bbox.transform.dirty=true;return m},removeSprite:function(q,o){var p=this,m,n;if(q){if(q.charAt){q=p.map[q]}if(!q||!q.isSprite){return null}if(q.isDestroyed||q.isDestroying){return q}m=q.getId();n=p.map[m];delete p.map[m];if(o){q.destroy()}if(!n){return q}q.setParent(null);q.setSurface(null);Ext.Array.remove(p.sprites,q);p.dirtyZIndex=true;p.setDirty(true)}return q||null},updateSurface:function(m){for(var l=0,k=this.sprites.length;l<k;l++){this.sprites[l].setSurface(m)}},addAll:function(g){if(g.isSprite||g.type){this.add(g)}else{if(Ext.isArray(g)){var k=0;while(k<g.length){this.add(g[k++])}}}},updatePlainBBox:function(v){var x=this,A=Infinity,u=-Infinity,w=Infinity,B=-Infinity,t,s,z,y;for(z=0,y=x.sprites.length;z<y;z++){t=x.sprites[z];t.applyTransformations();s=t.getBBox();if(A>s.x){A=s.x}if(u<s.x+s.width){u=s.x+s.width}if(w>s.y){w=s.y}if(B<s.y+s.height){B=s.y+s.height}}v.x=A;v.y=w;v.width=u-A;v.height=B-w},isVisible:function(){var n=this.attr,l=this.getParent(),o=l&&(l.isSurface||l.isVisible()),m=o&&!n.hidden&&n.globalAlpha;return !!m},render:function(z,q,t){var u=this,x=u.attr,s=u.attr.matrix,w=u.sprites,v=w.length,y=0;s.toContext(q);for(;y<v;y++){z.renderSprite(w[y],t)}},destroy:function(){var m=this,l=m.sprites,n=l.length,o;for(o=0;o<n;o++){l[o].destroy()}l.length=0;Ext.draw.sprite.Sprite.prototype.destroy.call(this)}},1,0,0,0,["sprite.composite"],0,[Ext.draw.sprite,"Composite"],0));(Ext.cmd.derive("Ext.draw.sprite.Cross",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(n,p){var o=p.size/1.7,q=p.x-p.lineWidth/2,m=p.y;n.fromSvgString("M".concat(q-o,",",m,"l",[-o,-o,o,-o,o,o,o,-o,o,o,-o,o,o,o,-o,o,-o,-o,-o,o,-o,-o,"z"]))}},0,0,0,0,["sprite.cross"],0,[Ext.draw.sprite,"Cross"],0));(Ext.cmd.derive("Ext.draw.sprite.Diamond",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(n,p){var o=p.size*1.25,q=p.x-p.lineWidth/2,m=p.y;n.fromSvgString(["M",q,m-o,"l",o,o,-o,o,-o,-o,o,-o,"z"])}},0,0,0,0,["sprite.diamond"],0,[Ext.draw.sprite,"Diamond"],0));(Ext.cmd.derive("Ext.draw.sprite.Ellipse",Ext.draw.sprite.Path,{type:"ellipse",inheritableStatics:{def:{processors:{cx:"number",cy:"number",rx:"number",ry:"number",axisRotation:"number"},aliases:{radius:"r",x:"cx",y:"cy",centerX:"cx",centerY:"cy",radiusX:"rx",radiusY:"ry"},defaults:{cx:0,cy:0,rx:1,ry:1,axisRotation:0},triggers:{cx:"path",cy:"path",rx:"path",ry:"path",axisRotation:"path"}}},updatePlainBBox:function(q){var s=this.attr,t=s.cx,n=s.cy,o=s.rx,p=s.ry;q.x=t-o;q.y=n-p;q.width=o+o;q.height=p+p},updateTransformedBBox:function(E){var A=this.attr,C=A.cx,D=A.cy,F=A.rx,G=A.ry,N=G/F,M=A.matrix.clone(),H,I,w,z,J,K,L,B;M.append(1,0,0,N,0,D*(1-N));H=M.getXX();w=M.getYX();J=M.getDX();I=M.getXY();z=M.getYY();K=M.getDY();L=Math.sqrt(H*H+w*w)*F;B=Math.sqrt(I*I+z*z)*F;E.x=C*H+D*w+J-L;E.y=C*I+D*z+K-B;E.width=L+L;E.height=B+B},updatePath:function(g,k){g.ellipse(k.cx,k.cy,k.rx,k.ry,k.axisRotation,0,Math.PI*2,false)}},0,0,0,0,["sprite.ellipse"],0,[Ext.draw.sprite,"Ellipse"],0));(Ext.cmd.derive("Ext.draw.sprite.EllipticalArc",Ext.draw.sprite.Ellipse,{type:"ellipticalArc",inheritableStatics:{def:{processors:{startAngle:"number",endAngle:"number",anticlockwise:"bool"},aliases:{from:"startAngle",to:"endAngle",start:"startAngle",end:"endAngle"},defaults:{startAngle:0,endAngle:Math.PI*2,anticlockwise:false},triggers:{startAngle:"path",endAngle:"path",anticlockwise:"path"}}},updatePath:function(g,k){g.ellipse(k.cx,k.cy,k.rx,k.ry,k.axisRotation,k.startAngle,k.endAngle,k.anticlockwise)}},0,0,0,0,["sprite.ellipticalArc"],0,[Ext.draw.sprite,"EllipticalArc"],0));(Ext.cmd.derive("Ext.draw.sprite.Rect",Ext.draw.sprite.Path,{type:"rect",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number",radius:"number"},aliases:{},triggers:{x:"path",y:"path",width:"path",height:"path",radius:"path"},defaults:{x:0,y:0,width:8,height:8,radius:0}}},updatePlainBBox:function(g){var k=this.attr;g.x=k.x;g.y=k.y;g.width=k.width;g.height=k.height},updateTransformedBBox:function(k,g){this.attr.matrix.transformBBox(g,this.attr.radius,k)},updatePath:function(o,q){var s=q.x,v=q.y,p=q.width,t=q.height,u=Math.min(q.radius,Math.abs(t)*0.5,Math.abs(p)*0.5);if(u===0){o.rect(s,v,p,t)}else{o.moveTo(s+u,v);o.arcTo(s+p,v,s+p,v+t,u);o.arcTo(s+p,v+t,s,v+t,u);o.arcTo(s,v+t,s,v,u);o.arcTo(s,v,s+u,v,u)}}},0,0,0,0,["sprite.rect"],0,[Ext.draw.sprite,"Rect"],0));(Ext.cmd.derive("Ext.draw.sprite.Image",Ext.draw.sprite.Rect,{type:"image",statics:{imageLoaders:{}},inheritableStatics:{def:{processors:{src:"string"},triggers:{src:"src"},updaters:{src:"updateSource"},defaults:{src:"",width:null,height:null}}},updateSurface:function(f){if(f){this.updateSource(this.attr)}},updateSource:function(t){var s=this,z=t.src,x=s.getSurface(),u=Ext.draw.sprite.Image.imageLoaders[z],y=t.width,q=t.height,v,w;if(!x){return}if(!u){v=new Image();u=Ext.draw.sprite.Image.imageLoaders[z]={image:v,done:false,pendingSprites:[s],pendingSurfaces:[x]};v.width=y;v.height=q;v.onload=function(){var e;if(!u.done){u.done=true;for(w=0;w<u.pendingSprites.length;w++){e=u.pendingSprites[w];if(!e.destroyed){e.setDirty(true)}}for(w=0;w<u.pendingSurfaces.length;w++){e=u.pendingSurfaces[w];if(!e.destroyed){e.renderFrame()}}}};v.src=z}else{Ext.Array.include(u.pendingSprites,s);Ext.Array.include(u.pendingSurfaces,x)}},render:function(B,E){var x=this,y=x.attr,F=y.matrix,D=y.src,v=y.x,w=y.y,C=y.width,u=y.height,z=Ext.draw.sprite.Image.imageLoaders[D],A;if(z&&z.done){F.toContext(E);A=z.image;E.drawImage(A,v,w,C||(A.naturalWidth||A.width)/B.devicePixelRatio,u||(A.naturalHeight||A.height)/B.devicePixelRatio)}},isVisible:function(){var n=this.attr,l=this.getParent(),o=l&&(l.isSurface||l.isVisible()),m=o&&!n.hidden&&n.globalAlpha;return !!m}},0,0,0,0,["sprite.image"],0,[Ext.draw.sprite,"Image"],0));(Ext.cmd.derive("Ext.draw.sprite.Instancing",Ext.draw.sprite.Sprite,{type:"instancing",isInstancing:true,config:{template:null,instances:null},instances:null,applyTemplate:function(g){if(!g.isSprite){if(!g.xclass&&!g.type){g.type="circle"}g=Ext.create(g.xclass||"sprite."+g.type,g)}var k=g.getSurface();if(k){k.remove(g)}g.setParent(this);return g},updateTemplate:function(k,g){if(g){delete g.ownAttr}k.setSurface(this.getSurface());k.ownAttr=k.attr;this.clearAll()},updateInstances:function(k){this.clearAll();if(Ext.isArray(k)){for(var m=0,l=k.length;m<l;m++){this.add(k[m])}}},updateSurface:function(k){var g=this.getTemplate();if(g&&!g.destroyed){g.setSurface(k)}},get:function(f){return this.instances[f]},getCount:function(){return this.instances.length},clearAll:function(){var f=this.getTemplate();f.attr.children=this.instances=[];this.position=0},createInstance:function(l,k,m){return this.add(l,k,m)},add:function(p,n,q){var o=this.getTemplate(),s=o.attr,t=Ext.Object.chain(s);o.topModifier.prepareAttributes(t);o.attr=t;o.setAttributes(p,n,q);t.template=o;this.instances.push(t);o.attr=s;this.position++;return t},getBBox:function(){return null},getBBoxFor:function(p,n){var o=this.getTemplate(),q=o.attr,m;o.attr=this.instances[p];m=o.getBBox(n);o.attr=q;return m},isVisible:function(){var l=this.attr,k=this.getParent(),m;m=k&&k.isSurface&&!l.hidden&&l.globalAlpha;return !!m},isInstanceVisible:function(q){var o=this,p=o.getTemplate(),s=p.attr,n=o.instances,t=false;if(!Ext.isNumber(q)||q<0||q>=n.length||!o.isVisible()){return t}p.attr=n[q];t=p.isVisible(point,options);p.attr=s;return t},render:function(B,D,v){var w=this,u=w.getTemplate(),z=B.getRect(),t=w.attr.matrix,A=u.attr,C=w.instances,x=w.position,y;t.toContext(D);u.preRender(B,D,v);u.useAttributes(D,z);for(y=0;y<x;y++){if(C[y].hidden){continue}D.save();u.attr=C[y];u.useAttributes(D,z);u.render(B,D,v);D.restore()}u.attr=A},setAttributesFor:function(q,o,n){var p=this.getTemplate(),s=p.attr,t=this.instances[q];if(!t){return}p.attr=t;if(n){o=Ext.apply({},o)}else{o=p.self.def.normalize(o)}p.topModifier.pushDown(t,o);p.attr=s},destroy:function(){var g=this,k=g.getTemplate();g.instances=null;if(k){k.destroy()}Ext.draw.sprite.Sprite.prototype.destroy.call(this)}},0,0,0,0,["sprite.instancing"],0,[Ext.draw.sprite,"Instancing"],0));Ext.define("Ext.draw.overrides.hittest.sprite.Instancing",{override:"Ext.draw.sprite.Instancing",hitTest:function(u,q){var v=this,t=v.getTemplate(),y=t.attr,z=v.instances,w=z.length,x=0,s=null;if(!v.isVisible()){return s}for(;x<w;x++){t.attr=z[x];s=t.hitTest(u,q);if(s){s.isInstance=true;s.template=s.sprite;s.sprite=this;s.instance=z[x];s.index=x;return s}}t.attr=y;return s}});(Ext.cmd.derive("Ext.draw.sprite.Line",Ext.draw.sprite.Sprite,{type:"line",inheritableStatics:{def:{processors:{fromX:"number",fromY:"number",toX:"number",toY:"number"},defaults:{fromX:0,fromY:0,toX:1,toY:1,strokeStyle:"black"},aliases:{x1:"fromX",y1:"fromY",x2:"toX",y2:"toY"}}},updateLineBBox:function(S,K,L,N,p,O){var D=this.attr,C=D.matrix,M=D.lineWidth/2,F,G,Q,R,H,I,E;if(K){E=C.transformPoint([L,N]);L=E[0];N=E[1];E=C.transformPoint([p,O]);p=E[0];O=E[1]}F=Math.min(L,p);Q=Math.max(L,p);G=Math.min(N,O);R=Math.max(N,O);var J=Math.atan2(Q-F,R-G),T=Math.sin(J),P=Math.cos(J),H=M*P,I=M*T;F-=H;G-=I;Q+=H;R+=I;S.x=F;S.y=G;S.width=Q-F;S.height=R-G},updatePlainBBox:function(g){var k=this.attr;this.updateLineBBox(g,false,k.fromX,k.fromY,k.toX,k.toY)},updateTransformedBBox:function(l,k){var m=this.attr;this.updateLineBBox(l,true,m.fromX,m.fromY,m.toX,m.toY)},render:function(n,m){var o=this.attr,l=this.attr.matrix;l.toContext(m);m.beginPath();m.moveTo(o.fromX,o.fromY);m.lineTo(o.toX,o.toY);m.stroke()}},0,0,0,0,["sprite.line"],0,[Ext.draw.sprite,"Line"],0));(Ext.cmd.derive("Ext.draw.sprite.Plus",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(n,p){var o=p.size/1.3,q=p.x-p.lineWidth/2,m=p.y;n.fromSvgString("M".concat(q-o/2,",",m-o/2,"l",[0,-o,o,0,0,o,o,0,0,o,-o,0,0,o,-o,0,0,-o,-o,0,0,-o,"z"]))}},0,0,0,0,["sprite.plus"],0,[Ext.draw.sprite,"Plus"],0));(Ext.cmd.derive("Ext.draw.sprite.Sector",Ext.draw.sprite.Path,{type:"sector",inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",margin:"number"},aliases:{rho:"endRho"},triggers:{centerX:"path,bbox",centerY:"path,bbox",startAngle:"path,bbox",endAngle:"path,bbox",startRho:"path,bbox",endRho:"path,bbox",margin:"path,bbox"},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:0,startRho:0,endRho:150,margin:0,path:"M 0,0"}}},getMidAngle:function(){return this.midAngle||0},updatePath:function(s,u){var v=Math.min(u.startAngle,u.endAngle),z=Math.max(u.startAngle,u.endAngle),A=this.midAngle=(v+z)*0.5,y=u.margin,w=u.centerX,x=u.centerY,t=Math.min(u.startRho,u.endRho),B=Math.max(u.startRho,u.endRho);if(y){w+=y*Math.cos(A);x+=y*Math.sin(A)}s.moveTo(w+t*Math.cos(v),x+t*Math.sin(v));s.lineTo(w+B*Math.cos(v),x+B*Math.sin(v));s.arc(w,x,B,v,z,false);s.lineTo(w+t*Math.cos(z),x+t*Math.sin(z));s.arc(w,x,t,z,v,true)}},0,0,0,0,["sprite.sector"],0,[Ext.draw.sprite,"Sector"],0));(Ext.cmd.derive("Ext.draw.sprite.Square",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"size"}}},updatePath:function(o,s){var q=s.size*1.2,p=q*2,t=s.x-s.lineWidth/2,n=s.y;o.fromSvgString("M".concat(t-q,",",n-q,"l",[p,0,0,p,-p,0,0,-p,"z"]))}},0,0,0,0,["sprite.square"],0,[Ext.draw.sprite,"Square"],0));(Ext.cmd.derive("Ext.draw.TextMeasurer",Ext.Base,{singleton:true,measureDiv:null,measureCache:{},precise:Ext.isIE8,measureDivTpl:{tag:"div",style:{overflow:"hidden",position:"relative","float":"left",width:0,height:0},children:{tag:"div",style:{display:"block",position:"absolute",x:-100000,y:-100000,padding:0,margin:0,"z-index":-100000,"white-space":"nowrap"}}},actualMeasureText:function(v,t){var p=Ext.draw.TextMeasurer,o=p.measureDiv,u=100000,s;if(!o){var q=Ext.Element.create({style:{overflow:"hidden",position:"relative","float":"left",width:0,height:0}});p.measureDiv=o=Ext.Element.create({style:{position:"absolute",x:u,y:u,"z-index":-u,"white-space":"nowrap",display:"block",padding:0,margin:0}});Ext.getBody().appendChild(q);q.appendChild(o)}if(t){o.setStyle({font:t,lineHeight:"normal"})}o.setText("("+v+")");s=o.getSize();o.setText("()");s.width-=o.getSize().width;return s},measureTextSingleLine:function(v,z){if(this.precise){return this.preciseMeasureTextSingleLine(v,z)}v=v.toString();var C=this.measureCache,w=v.split(""),A=0,u=0,D,B,y,x,t;if(!C[z]){C[z]={}}C=C[z];if(C[v]){return C[v]}for(y=0,x=w.length;y<x;y++){B=w[y];if(!(D=C[B])){t=this.actualMeasureText(B,z);D=C[B]=t}A+=D.width;u=Math.max(u,D.height)}return C[v]={width:A,height:u}},preciseMeasureTextSingleLine:function(k,m){k=k.toString();var l=this.measureDiv||(this.measureDiv=Ext.getBody().createChild(this.measureDivTpl).down("div"));l.setStyle({font:m||""});return Ext.util.TextMetrics.measure(l,k)},measureText:function(v,y){var s=v.split("\n"),w=s.length,u=0,z=0,q,x,t;if(w===1){return this.measureTextSingleLine(v,y)}t=[];for(x=0;x<w;x++){q=this.measureTextSingleLine(s[x],y);t.push(q);u+=q.height;z=Math.max(z,q.width)}return{width:z,height:u,sizes:t}}},0,0,0,0,0,0,[Ext.draw,"TextMeasurer"],0));(Ext.cmd.derive("Ext.draw.sprite.Text",Ext.draw.sprite.Sprite,function(){var l={"xx-small":true,"x-small":true,small:true,medium:true,large:true,"x-large":true,"xx-large":true};var n={normal:true,bold:true,bolder:true,lighter:true,100:true,200:true,300:true,400:true,500:true,600:true,700:true,800:true,900:true};var o={start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"};var m={top:"top",hanging:"hanging",middle:"middle",center:"middle",alphabetic:"alphabetic",ideographic:"ideographic",bottom:"bottom"};return{type:"text",lineBreakRe:/\r?\n/g,inheritableStatics:{def:{animationProcessors:{text:"text"},processors:{x:"number",y:"number",text:"string",fontSize:function(e){if(Ext.isNumber(+e)){return e+"px"}else{if(e.match(Ext.dom.Element.unitRe)){return e}else{if(e in l){return e}}}},fontStyle:"enums(,italic,oblique)",fontVariant:"enums(,small-caps)",fontWeight:function(e){if(e in n){return String(e)}else{return""}},fontFamily:"string",textAlign:function(e){return o[e]||"center"},textBaseline:function(e){return m[e]||"alphabetic"},font:"string"},aliases:{"font-size":"fontSize","font-family":"fontFamily","font-weight":"fontWeight","font-variant":"fontVariant","text-anchor":"textAlign"},defaults:{fontStyle:"",fontVariant:"",fontWeight:"",fontSize:"10px",fontFamily:"sans-serif",font:"10px sans-serif",textBaseline:"alphabetic",textAlign:"start",strokeStyle:"rgba(0, 0, 0, 0)",fillStyle:"#000",x:0,y:0,text:""},triggers:{fontStyle:"fontX,bbox",fontVariant:"fontX,bbox",fontWeight:"fontX,bbox",fontSize:"fontX,bbox",fontFamily:"fontX,bbox",font:"font,bbox,canvas",textBaseline:"bbox",textAlign:"bbox",x:"bbox",y:"bbox",text:"bbox"},updaters:{fontX:"makeFontShorthand",font:"parseFontShorthand"}}},config:{preciseMeasurement:undefined},constructor:function(f){if(f&&f.font){f=Ext.clone(f);for(var e in f){if(e!=="font"&&e.indexOf("font")===0){delete f[e]}}}Ext.draw.sprite.Sprite.prototype.constructor.call(this,f)},fontValuesMap:{italic:"fontStyle",oblique:"fontStyle","small-caps":"fontVariant",bold:"fontWeight",bolder:"fontWeight",lighter:"fontWeight","100":"fontWeight","200":"fontWeight","300":"fontWeight","400":"fontWeight","500":"fontWeight","600":"fontWeight","700":"fontWeight","800":"fontWeight","900":"fontWeight","xx-small":"fontSize","x-small":"fontSize",small:"fontSize",medium:"fontSize",large:"fontSize","x-large":"fontSize","xx-large":"fontSize"},makeFontShorthand:function(f){var e=[];if(f.fontStyle){e.push(f.fontStyle)}if(f.fontVariant){e.push(f.fontVariant)}if(f.fontWeight){e.push(f.fontWeight)}if(f.fontSize){e.push(f.fontSize)}if(f.fontFamily){e.push(f.fontFamily)}this.setAttributes({font:e.join(" ")},true)},parseFontShorthand:function(e){var z=e.font,B=z.length,A={},y=this.fontValuesMap,x=0,f,k,w,g;while(x<B&&f!==-1){f=z.indexOf(" ",x);if(f<0){w=z.substr(x)}else{if(f>x){w=z.substr(x,f-x)}else{continue}}k=w.indexOf("/");if(k>0){w=w.substr(0,k)}else{if(k===0){continue}}if(w!=="normal"&&w!=="inherit"){g=y[w];if(g){A[g]=w}else{if(w.match(Ext.dom.Element.unitRe)){A.fontSize=w}else{A.fontFamily=z.substr(x);break}}}x=f+1}if(!A.fontStyle){A.fontStyle=""}if(!A.fontVariant){A.fontVariant=""}if(!A.fontWeight){A.fontWeight=""}this.setAttributes(A,true)},fontProperties:{fontStyle:true,fontVariant:true,fontWeight:true,fontSize:true,fontFamily:true},setAttributes:function(q,g,f){var e,k;if(q&&q.font){k={};for(e in q){if(!(e in this.fontProperties)){k[e]=q[e]}}q=k}Ext.draw.sprite.Sprite.prototype.setAttributes.call(this,q,g,f)},getBBox:function(k){var g=this,e=g.attr.bbox.plain,f=g.getSurface();if(e.dirty){g.updatePlainBBox(e);e.dirty=false}if(f&&f.getInherited().rtl&&f.getFlipRtlText()){g.updatePlainBBox(e,true)}return Ext.draw.sprite.Sprite.prototype.getBBox.call(this,k)},rtlAlignments:{start:"end",center:"center",end:"start"},updatePlainBBox:function(X,x){var e=this,P=e.attr,O=P.x,Q=P.y,g=[],V=P.font,Z=P.text,W=P.textBaseline,T=P.textAlign,f=e.getPreciseMeasurement(),U,k;if(x&&e.oldSize){U=e.oldSize}else{k=Ext.draw.TextMeasurer.precise;if(Ext.isBoolean(f)){Ext.draw.TextMeasurer.precise=f}U=e.oldSize=Ext.draw.TextMeasurer.measureText(Z,V);Ext.draw.TextMeasurer.precise=k}var N=e.getSurface(),M=(N&&N.getInherited().rtl)||false,S=M&&N.getFlipRtlText(),ac=U.sizes,ab=U.height,Y=U.width,R=ac?ac.length:0,ad,aa,y=0;switch(W){case"hanging":case"top":break;case"ideographic":case"bottom":Q-=ab;break;case"alphabetic":Q-=ab*0.8;break;case"middle":Q-=ab*0.5;break}if(S){aa=N.getRect();O=aa[2]-aa[0]-O;T=e.rtlAlignments[T]}switch(T){case"start":if(M){for(;y<R;y++){ad=ac[y].width;g.push(-(Y-ad))}}break;case"end":O-=Y;if(M){break}for(;y<R;y++){ad=ac[y].width;g.push(Y-ad)}break;case"center":O-=Y*0.5;for(;y<R;y++){ad=ac[y].width;g.push((M?-1:1)*(Y-ad)*0.5)}break}P.textAlignOffsets=g;X.x=O;X.y=Q;X.width=Y;X.height=ab},setText:function(e){this.setAttributes({text:e},true)},render:function(D,E,e){var x=this,y=x.attr,F=Ext.draw.Matrix.fly(y.matrix.elements.slice(0)),G=x.getBBox(true),g=y.textAlignOffsets,I=Ext.util.Color.RGBA_NONE,J,f,C,k,H;if(y.text.length===0){return}k=y.text.split(x.lineBreakRe);H=G.height/k.length;J=y.bbox.plain.x;f=y.bbox.plain.y+H*0.78;F.toContext(E);if(D.getInherited().rtl){J+=y.bbox.plain.width}for(C=0;C<k.length;C++){if(E.fillStyle!==I){E.fillText(k[C],J+(g[C]||0),f+H*C)}if(E.strokeStyle!==I){E.strokeText(k[C],J+(g[C]||0),f+H*C)}}}}},1,0,0,0,["sprite.text"],0,[Ext.draw.sprite,"Text"],0));(Ext.cmd.derive("Ext.draw.sprite.Tick",Ext.draw.sprite.Line,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"tick",y:"tick",size:"tick"},updaters:{tick:function(p){var n=p.size*1.5,o=p.lineWidth/2,q=p.x,m=p.y;this.setAttributes({fromX:q-o,fromY:m-n,toX:q-o,toY:m+n})}}}}},0,0,0,0,["sprite.tick"],0,[Ext.draw.sprite,"Tick"],0));(Ext.cmd.derive("Ext.draw.sprite.Triangle",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(n,p){var o=p.size*2.2,q=p.x,m=p.y;n.fromSvgString("M".concat(q,",",m,"m0-",o*0.48,"l",o*0.5,",",o*0.87,"-",o,",0z"))}},0,0,0,0,["sprite.triangle"],0,[Ext.draw.sprite,"Triangle"],0));(Ext.cmd.derive("Ext.draw.gradient.Linear",Ext.draw.gradient.Gradient,{type:"linear",config:{degrees:0,radians:0},applyRadians:function(g,k){if(Ext.isNumber(g)){return g}return k},applyDegrees:function(g,k){if(Ext.isNumber(g)){return g}return k},updateRadians:function(f){this.setDegrees(Ext.draw.Draw.degrees(f))},updateDegrees:function(f){this.setRadians(Ext.draw.Draw.rad(f))},generateGradient:function(F,H){var C=this.getRadians(),G=Math.cos(C),w=Math.sin(C),J=H.width,z=H.height,B=H.x+J*0.5,D=H.y+z*0.5,I=this.getStops(),y=I.length,l,E,A;if(Ext.isNumber(B)&&Ext.isNumber(D)&&z>0&&J>0){E=(Math.sqrt(z*z+J*J)*Math.abs(Math.cos(C-Math.atan(z/J))))/2;l=F.createLinearGradient(B+G*E,D+w*E,B-G*E,D-w*E);for(A=0;A<y;A++){l.addColorStop(I[A].offset,I[A].color)}return l}return Ext.util.Color.NONE}},0,0,0,0,0,0,[Ext.draw.gradient,"Linear"],0));(Ext.cmd.derive("Ext.draw.gradient.Radial",Ext.draw.gradient.Gradient,{type:"radial",config:{start:{x:0,y:0,r:0},end:{x:0,y:0,r:1}},applyStart:function(m,l){if(!l){return m}var k={x:l.x,y:l.y,r:l.r};if("x" in m){k.x=m.x}else{if("centerX" in m){k.x=m.centerX}}if("y" in m){k.y=m.y}else{if("centerY" in m){k.y=m.centerY}}if("r" in m){k.r=m.r}else{if("radius" in m){k.r=m.radius}}return k},applyEnd:function(l,m){if(!m){return l}var k={x:m.x,y:m.y,r:m.r};if("x" in l){k.x=l.x}else{if("centerX" in l){k.x=l.centerX}}if("y" in l){k.y=l.y}else{if("centerY" in l){k.y=l.centerY}}if("r" in l){k.r=l.r}else{if("radius" in l){k.r=l.radius}}return k},generateGradient:function(E,F){var D=this.getStart(),C=this.getEnd(),v=F.width*0.5,A=F.height*0.5,w=F.x+v,y=F.y+A,x=E.createRadialGradient(w+D.x*v,y+D.y*A,D.r*Math.max(v,A),w+C.x*v,y+C.y*A,C.r*Math.max(v,A)),u=this.getStops(),z=u.length,B;for(B=0;B<z;B++){x.addColorStop(u[B].offset,u[B].color)}return x}},0,0,0,0,0,0,[Ext.draw.gradient,"Radial"],0));(Ext.cmd.derive("Ext.draw.Surface",Ext.draw.SurfaceBase,{devicePixelRatio:window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,deprecated:{"5.1.0":{statics:{methods:{stableSort:function(f){return Ext.Array.sort(f,function(e,k){return e.attr.zIndex-k.attr.zIndex})}}}}},cls:"x-surface",config:{rect:null,background:null,items:[],dirty:false,flipRtlText:false},isSurface:true,isPendingRenderFrame:false,dirtyPredecessorCount:0,constructor:function(k){var g=this;g.predecessors=[];g.successors=[];g.map={};Ext.draw.SurfaceBase.prototype.constructor.call(this,k);g.matrix=new Ext.draw.Matrix();g.inverseMatrix=g.matrix.inverse()},roundPixel:function(f){return Math.round(this.devicePixelRatio*f)/this.devicePixelRatio},waitFor:function(m){var l=this,k=l.predecessors;if(!Ext.Array.contains(k,m)){k.push(m);m.successors.push(l);if(m.getDirty()){l.dirtyPredecessorCount++}}},updateDirty:function(n){var o=this.successors,m=o.length,p=0,q;for(;p<m;p++){q=o[p];if(n){q.dirtyPredecessorCount++;q.setDirty(true)}else{q.dirtyPredecessorCount--;if(q.dirtyPredecessorCount===0&&q.isPendingRenderFrame){q.renderFrame()}}}},applyBackground:function(k,g){this.setDirty(true);if(Ext.isString(k)){k={fillStyle:k}}return Ext.factory(k,Ext.draw.sprite.Rect,g)},applyRect:function(k,g){if(g&&k[0]===g[0]&&k[1]===g[1]&&k[2]===g[2]&&k[3]===g[3]){return}if(Ext.isArray(k)){return[k[0],k[1],k[2],k[3]]}else{if(Ext.isObject(k)){return[k.x||k.left,k.y||k.top,k.width||(k.right-k.left),k.height||(k.bottom-k.top)]}}},updateRect:function(v){var w=this,t=v[0],l=v[1],x=t+v[2],u=l+v[3],q=w.getBackground(),s=w.element;s.setLocalXY(Math.floor(t),Math.floor(l));s.setSize(Math.ceil(x-Math.floor(t)),Math.ceil(u-Math.floor(l)));if(q){q.setAttributes({x:0,y:0,width:Math.ceil(x-Math.floor(t)),height:Math.ceil(u-Math.floor(l))})}w.setDirty(true)},resetTransform:function(){this.matrix.set(1,0,0,1,0,0);this.inverseMatrix.set(1,0,0,1,0,0);this.setDirty(true)},get:function(f){return this.map[f]||this.getItems()[f]},add:function(){var v=this,x=Array.prototype.slice.call(arguments),t=Ext.isArray(x[0]),C=v.map,z=[],w,D,u,B,A,y;w=Ext.Array.clean(t?x[0]:x);if(!w.length){return z}for(A=0,y=w.length;A<y;A++){D=w[A];if(!D||D.destroyed){continue}u=null;if(D.isSprite&&!C[D.getId()]){u=D}else{if(!C[D.id]){u=this.createItem(D)}}if(u){C[u.getId()]=u;z.push(u);B=u.getSurface();if(B&&B.isSurface){B.remove(u)}u.setParent(v);u.setSurface(v);v.onAdd(u)}}w=v.getItems();if(w){w.push.apply(w,z)}v.dirtyZIndex=true;v.setDirty(true);if(!t&&z.length===1){return z[0]}else{return z}},onAdd:Ext.emptyFn,remove:function(t,p){var s=this,q=s.clearing,n,o;if(t){if(t.charAt){t=s.map[t]}if(!t||!t.isSprite){return null}n=t.id;o=s.map[n];delete s.map[n];if(t.destroyed||t.destroying){if(o&&!q){Ext.Array.remove(s.getItems(),t)}return t}if(!o){if(p){t.destroy()}return t}t.setParent(null);t.setSurface(null);if(p){t.destroy()}if(!q){Ext.Array.remove(s.getItems(),t);s.dirtyZIndex=true;s.setDirty(true)}}return t||null},removeAll:function(n){var o=this,t=o.getItems(),p,q,s;o.clearing=!!n;for(s=t.length-1;s>=0;s--){p=t[s];if(n){p.destroy()}else{p.setParent(null);p.setSurface(null)}}o.clearing=false;t.length=0;o.map={};o.dirtyZIndex=true;if(!o.destroying){o.setDirty(true)}},applyItems:function(f){if(this.getItems()){this.removeAll(true)}return Ext.Array.from(this.add(f))},createItem:function(f){return Ext.create(f.xclass||"sprite."+f.type,f)},getBBox:function(x,A){x=Ext.Array.from(x);var z=Infinity,u=-Infinity,v=Infinity,B=-Infinity,w=x.length,t,s,y;for(y=0;y<w;y++){t=x[y];s=t.getBBox(A);if(z>s.x){z=s.x}if(u<s.x+s.width){u=s.x+s.width}if(v>s.y){v=s.y}if(B<s.y+s.height){B=s.y+s.height}}return{x:z,y:v,width:u-z,height:B-v}},emptyRect:[0,0,0,0],getEventXY:function(w){var u=this,v=u.getInherited().rtl,x=w.getXY(),z=u.getOwnerBody(),s=z.getXY(),t=u.getRect()||u.emptyRect,e=[],y;if(v){y=z.getWidth();e[0]=s[0]-x[0]-t[0]+y}else{e[0]=x[0]-s[0]-t[0]}e[1]=x[1]-s[1]-t[1];return e},clear:Ext.emptyFn,orderByZIndex:function(){var n=this,q=n.getItems(),m=false,p,o;if(n.getDirty()){for(p=0,o=q.length;p<o;p++){if(q[p].attr.dirtyZIndex){m=true;break}}if(m){Ext.Array.sort(q,function(f,e){return f.attr.zIndex-e.attr.zIndex});this.setDirty(true)}for(p=0,o=q.length;p<o;p++){q[p].attr.dirtyZIndex=false}}},repaint:function(){var f=this;f.repaint=Ext.emptyFn;Ext.defer(function(){delete f.repaint;f.element.repaint()},1)},renderFrame:function(){var n=this;if(!(n.element&&n.getDirty()&&n.getRect())){return}if(n.dirtyPredecessorCount>0){n.isPendingRenderFrame=true;return}var q=n.getBackground(),t=n.getItems(),o,s,p;n.orderByZIndex();if(n.getDirty()){n.clear();n.clearTransform();if(q){n.renderSprite(q)}for(s=0,p=t.length;s<p;s++){o=t[s];if(n.renderSprite(o)===false){return}o.attr.textPositionCount=n.textPosition}n.setDirty(false)}},renderSprite:Ext.emptyFn,clearTransform:Ext.emptyFn,destroy:function(){var f=this;f.destroying=true;f.removeAll(true);f.destroying=false;f.predecessors=f.successors=null;if(f.hasListeners.destroy){f.fireEvent("destroy",f)}Ext.draw.SurfaceBase.prototype.destroy.call(this)}},1,["surface"],["widget","surface"],{widget:true,surface:true},["widget.surface"],0,[Ext.draw,"Surface"],0));Ext.define("Ext.draw.overrides.hittest.Surface",{override:"Ext.draw.Surface",hitTest:function(t,s){var o=this,v=o.getItems(),p,q,u;s=s||Ext.draw.sprite.Sprite.defaultHitTestOptions;for(p=v.length-1;p>=0;p--){q=v[p];if(q.hitTest){u=q.hitTest(t,s);if(u){return u}}}return null},hitTestEvent:function(l,m){var k=this.getEventXY(l);return this.hitTest(k,m)}});(Ext.cmd.derive("Ext.draw.engine.SvgContext",Ext.Base,{toSave:["strokeOpacity","strokeStyle","fillOpacity","fillStyle","globalAlpha","lineWidth","lineCap","lineJoin","lineDash","lineDashOffset","miterLimit","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","globalCompositeOperation","position","fillGradient","strokeGradient"],strokeOpacity:1,strokeStyle:"none",fillOpacity:1,fillStyle:"none",lineDas:[],lineDashOffset:0,globalAlpha:1,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"none",globalCompositeOperation:"src",urlStringRe:/^url\(#([\w\-]+)\)$/,constructor:function(k){var g=this;g.surface=k;g.state=[];g.matrix=new Ext.draw.Matrix();g.path=null;g.clear()},clear:function(){this.group=this.surface.mainGroup;this.position=0;this.path=null},getElement:function(f){return this.surface.getSvgElement(this.group,f,this.position++)},save:function(){var o=this.toSave,m={},n=this.getElement("g"),p,q;for(q=0;q<o.length;q++){p=o[q];if(p in this){m[p]=this[p]}}this.position=0;m.matrix=this.matrix.clone();this.state.push(m);this.group=n;return n},restore:function(){var p=this.toSave,n=this.state.pop(),o=this.group,q=o.dom.childNodes,s,t;while(q.length>this.position){o.last().destroy()}for(t=0;t<p.length;t++){s=p[t];if(s in n){this[s]=n[s]}else{delete this[s]}}this.setTransform.apply(this,n.matrix.elements);this.group=o.getParent()},transform:function(o,t,p,v,q,s){if(this.path){var u=Ext.draw.Matrix.fly([o,t,p,v,q,s]).inverse();this.path.transform(u)}this.matrix.append(o,t,p,v,q,s)},setTransform:function(o,t,p,n,q,s){if(this.path){this.path.transform(this.matrix)}this.matrix.reset();this.transform(o,t,p,n,q,s)},scale:function(k,g){this.transform(k,0,0,g,0,0)},rotate:function(n){var o=Math.cos(n),q=Math.sin(n),p=-Math.sin(n),m=Math.cos(n);this.transform(o,q,p,m,0,0)},translate:function(k,g){this.transform(1,0,0,1,k,g)},setGradientBBox:function(f){this.bbox=f},beginPath:function(){this.path=new Ext.draw.Path()},moveTo:function(k,g){if(!this.path){this.beginPath()}this.path.moveTo(k,g);this.path.element=null},lineTo:function(k,g){if(!this.path){this.beginPath()}this.path.lineTo(k,g);this.path.element=null},rect:function(n,l,m,o){this.moveTo(n,l);this.lineTo(n+m,l);this.lineTo(n+m,l+o);this.lineTo(n,l+o);this.closePath()},strokeRect:function(n,l,m,o){this.beginPath();this.rect(n,l,m,o);this.stroke()},fillRect:function(n,l,m,o){this.beginPath();this.rect(n,l,m,o);this.fill()},closePath:function(){if(!this.path){this.beginPath()}this.path.closePath();this.path.element=null},arcSvg:function(q,u,o,v,s,t,p){if(!this.path){this.beginPath()}this.path.arcSvg(q,u,o,v,s,t,p);this.path.element=null},arc:function(s,n,t,p,q,o){if(!this.path){this.beginPath()}this.path.arc(s,n,t,p,q,o);this.path.element=null},ellipse:function(v,w,x,p,s,t,u,q){if(!this.path){this.beginPath()}this.path.ellipse(v,w,x,p,s,t,u,q);this.path.element=null},arcTo:function(t,p,u,q,v,o,s){if(!this.path){this.beginPath()}this.path.arcTo(t,p,u,q,v,o,s);this.path.element=null},bezierCurveTo:function(p,n,s,o,t,q){if(!this.path){this.beginPath()}this.path.bezierCurveTo(p,n,s,o,t,q);this.path.element=null},strokeText:function(n,q,m){n=String(n);if(this.strokeStyle){var p=this.getElement("text"),o=this.surface.getSvgElement(p,"tspan",0);this.surface.setElementAttributes(p,{x:q,y:m,transform:this.matrix.toSvg(),stroke:this.strokeStyle,fill:"none",opacity:this.globalAlpha,"stroke-opacity":this.strokeOpacity,style:"font: "+this.font,"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset});if(this.lineDash.length){this.surface.setElementAttributes(p,{"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset})}if(o.dom.firstChild){o.dom.removeChild(o.dom.firstChild)}this.surface.setElementAttributes(o,{"alignment-baseline":"alphabetic"});o.dom.appendChild(document.createTextNode(Ext.String.htmlDecode(n)))}},fillText:function(n,q,m){n=String(n);if(this.fillStyle){var p=this.getElement("text"),o=this.surface.getSvgElement(p,"tspan",0);this.surface.setElementAttributes(p,{x:q,y:m,transform:this.matrix.toSvg(),fill:this.fillStyle,opacity:this.globalAlpha,"fill-opacity":this.fillOpacity,style:"font: "+this.font});if(o.dom.firstChild){o.dom.removeChild(o.dom.firstChild)}this.surface.setElementAttributes(o,{"alignment-baseline":"alphabetic"});o.dom.appendChild(document.createTextNode(Ext.String.htmlDecode(n)))}},drawImage:function(F,N,y,M,D,I,K,H,B){var C=this,E=C.getElement("image"),x=N,A=y,G=typeof M==="undefined"?F.width:M,L=typeof D==="undefined"?F.height:D,J=null;if(typeof B!=="undefined"){J=N+" "+y+" "+M+" "+D;x=I;A=K;G=H;L=B}E.dom.setAttributeNS("http://www.w3.org/1999/xlink","href",F.src);C.surface.setElementAttributes(E,{viewBox:J,x:x,y:A,width:G,height:L,opacity:C.globalAlpha,transform:C.matrix.toSvg()})},fill:function(){var q=this;if(!q.path){return}if(q.fillStyle){var o,t=q.fillGradient,s=q.path.element,n=q.bbox,p;if(!s){o=q.path.toString();s=q.path.element=q.getElement("path");q.surface.setElementAttributes(s,{d:o,transform:q.matrix.toSvg()})}if(t&&n){p=t.generateGradient(q,n)}else{p=q.fillStyle}q.surface.setElementAttributes(s,{fill:p,"fill-opacity":q.fillOpacity*q.globalAlpha})}},stroke:function(){var s=this;if(!s.path){return}if(s.strokeStyle){var o,p=s.strokeGradient,t=s.path.element,n=s.bbox,q;if(!t||!s.path.svgString){o=s.path.toString();if(!o){return}t=s.path.element=s.getElement("path");s.surface.setElementAttributes(t,{fill:"none",d:o,transform:s.matrix.toSvg()})}if(p&&n){q=p.generateGradient(s,n)}else{q=s.strokeStyle}s.surface.setElementAttributes(t,{stroke:q,"stroke-linecap":s.lineCap,"stroke-linejoin":s.lineJoin,"stroke-width":s.lineWidth,"stroke-opacity":s.strokeOpacity*s.globalAlpha,"stroke-dasharray":s.lineDash.join(","),"stroke-dashoffset":s.lineDashOffset});if(s.lineDash.length){s.surface.setElementAttributes(t,{"stroke-dasharray":s.lineDash.join(","),"stroke-dashoffset":s.lineDashOffset})}}},fillStroke:function(u,p){var t=this,q=t.fillStyle,v=t.strokeStyle,s=t.fillOpacity,o=t.strokeOpacity;if(p===undefined){p=u.transformFillStroke}if(!p){u.inverseMatrix.toContext(t)}if(q&&s!==0){t.fill()}if(v&&o!==0){t.stroke()}},appendPath:function(f){this.path=f.clone()},setLineDash:function(f){this.lineDash=f},getLineDash:function(){return this.lineDash},createLinearGradient:function(s,o,u,q){var p=this,t=p.surface.getNextDef("linearGradient"),v;p.surface.setElementAttributes(t,{x1:s,y1:o,x2:u,y2:q,gradientUnits:"userSpaceOnUse"});v=new Ext.draw.engine.SvgContext.Gradient(p,p.surface,t);return v},createRadialGradient:function(y,q,w,z,s,x){var u=this,v=u.surface.getNextDef("radialGradient"),t;u.surface.setElementAttributes(v,{fx:y,fy:q,cx:z,cy:s,r:x,gradientUnits:"userSpaceOnUse"});t=new Ext.draw.engine.SvgContext.Gradient(u,u.surface,v,w/x);return t}},1,0,0,0,0,0,[Ext.draw.engine,"SvgContext"],0));(Ext.cmd.derive("Ext.draw.engine.SvgContext.Gradient",Ext.Base,{isGradient:true,constructor:function(o,q,n,p){var m=this;m.ctx=o;m.surface=q;m.element=n;m.position=0;m.compression=p||0},addColorStop:function(m,p){var n=this,o=n.surface.getSvgElement(n.element,"stop",n.position++),q=n.compression;n.surface.setElementAttributes(o,{offset:(((1-q)*m+q)*100).toFixed(2)+"%","stop-color":p,"stop-opacity":Ext.util.Color.fly(p).a.toFixed(15)})},toString:function(){var f=this.element.dom.childNodes;while(f.length>this.position){Ext.fly(f[f.length-1]).destroy()}return"url(#"+this.element.getId()+")"}},3,0,0,0,0,0,[Ext.draw.engine.SvgContext,"Gradient"],0));(Ext.cmd.derive("Ext.draw.engine.Svg",Ext.draw.Surface,{isSVG:true,config:{highPrecision:false},getElementConfig:function(){return{reference:"element",style:{position:"absolute"},children:[{reference:"innerElement",style:{width:"100%",height:"100%",position:"relative"},children:[{tag:"svg",reference:"svgElement",namespace:"http://www.w3.org/2000/svg",width:"100%",height:"100%",version:1.1}]}]}},constructor:function(k){var g=this;Ext.draw.Surface.prototype.constructor.call(this,k);g.mainGroup=g.createSvgNode("g");g.defsElement=g.createSvgNode("defs");g.svgElement.appendChild(g.mainGroup);g.svgElement.appendChild(g.defsElement);g.ctx=new Ext.draw.engine.SvgContext(g)},createSvgNode:function(k){var g=document.createElementNS("http://www.w3.org/2000/svg",k);return Ext.get(g)},getSvgElement:function(o,s,t){var n=o.dom.childNodes,p=n.length,q;if(t<p){q=n[t];if(q.tagName===s){return Ext.get(q)}else{Ext.destroy(q)}}else{if(t>p){Ext.raise("Invalid position.")}}q=Ext.get(this.createSvgNode(s));if(t===0){o.insertFirst(q)}else{q.insertAfter(Ext.fly(n[t-1]))}q.cache={};return q},setElementAttributes:function(p,s){var n=p.dom,t=p.cache,q,o;for(q in s){o=s[q];if(t[q]!==o){t[q]=o;n.setAttribute(q,o)}}},getNextDef:function(f){return this.getSvgElement(this.defsElement,f,this.defsPosition++)},clearTransform:function(){var f=this;f.mainGroup.set({transform:f.matrix.toSvg()})},clear:function(){this.ctx.clear();this.removeSurplusDefs();this.defsPosition=0},removeSurplusDefs:function(){var l=this.defsElement,o=l.dom.childNodes,m=o.length,n;for(n=m-1;n>this.defsPosition;n--){l.removeChild(o[n])}},renderSprite:function(n){var l=this,m=l.getRect(),o=l.ctx;if(n.attr.hidden||n.attr.globalAlpha===0){o.save();o.restore();return}n.element=o.save();n.preRender(this);n.useAttributes(o,m);if(false===n.render(this,o,[0,0,m[2],m[3]])){return false}n.setDirty(false);o.restore()},toSVG:function(p,t){var o=Ext.getClassName(this),s,u,v,q;s='<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" width="'+p.width+'" height="'+p.height+'">';for(q=0;q<t.length;q++){u=t[q];if(Ext.getClassName(u)!==o){continue}v=u.getRect();s+='<g transform="translate('+v[0]+","+v[1]+')">';s+=this.serializeNode(u.svgElement.dom);s+="</g>"}s+="</svg>";return s},flatten:function(k,m){var l='<?xml version="1.0" standalone="yes"?>';l+=this.toSVG(k,m);return{data:"data:image/svg+xml;utf8,"+encodeURIComponent(l),type:"svg"}},serializeNode:function(p){var s="",q,n,t,o;if(p.nodeType===document.TEXT_NODE){return p.nodeValue}s+="<"+p.nodeName;if(p.attributes.length){for(q=0,n=p.attributes.length;q<n;q++){t=p.attributes[q];s+=" "+t.name+'="'+t.value+'"'}}s+=">";if(p.childNodes&&p.childNodes.length){for(q=0,n=p.childNodes.length;q<n;q++){o=p.childNodes[q];s+=this.serializeNode(o)}}s+="</"+p.nodeName+">";return s},destroy:function(){var f=this;f.ctx.destroy();f.mainGroup.destroy();f.defsElement.destroy();delete f.mainGroup;delete f.defsElement;delete f.ctx;Ext.draw.Surface.prototype.destroy.call(this)},remove:function(k,g){if(k&&k.element){k.element.destroy();k.element=null}Ext.draw.Surface.prototype.remove.apply(this,arguments)}},1,0,["widget","surface"],{widget:true,surface:true},0,0,[Ext.draw.engine,"Svg"],0));Ext.draw||(Ext.draw={});Ext.draw.engine||(Ext.draw.engine={});Ext.draw.engine.excanvas=true;if(!document.createElement("canvas").getContext){(function(){var aG=Math;var a0=aG.round;var a1=aG.sin;var aH=aG.cos;var av=aG.abs;var ao=aG.sqrt;var a7=10;var a5=a7/2;var aJ=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];function aL(){return this.context_||(this.context_=new aA(this))}var aV=Array.prototype.slice;function a4(k,g,f){var e=aV.call(arguments,2);return function(){return k.apply(g,e.concat(aV.call(arguments)))}}function ay(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function aK(g,f,e){Ext.onReady(function(){if(!g.namespaces[f]){g.namespaces.add(f,e,"#default#VML")}})}function p(f){aK(f,"g_vml_","urn:schemas-microsoft-com:vml");aK(f,"g_o_","urn:schemas-microsoft-com:office:office");if(!f.styleSheets.ex_canvas_){var e=f.createStyleSheet();e.owningElement.id="ex_canvas_";e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}p(document);var a6={init:function(e){var f=e||document;f.createElement("canvas");f.attachEvent("onreadystatechange",a4(this.init_,this,f))},init_:function(g){var f=g.getElementsByTagName("canvas");for(var e=0;e<f.length;e++){this.initElement(f[e])}},initElement:function(f){if(!f.getContext){f.getContext=aL;p(f.ownerDocument);f.innerHTML="";f.attachEvent("onpropertychange",aN);f.attachEvent("onresize",aP);var e=f.attributes;if(e.width&&e.width.specified){f.style.width=e.width.nodeValue+"px"}else{f.width=f.clientWidth}if(e.height&&e.height.specified){f.style.height=e.height.nodeValue+"px"}else{f.height=f.clientHeight}}return f}};function aN(f){var e=f.srcElement;switch(f.propertyName){case"width":e.getContext().clearRect();e.style.width=e.attributes.width.nodeValue+"px";e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect();e.style.height=e.attributes.height.nodeValue+"px";e.firstChild.style.height=e.clientHeight+"px";break}}function aP(f){var e=f.srcElement;if(e.firstChild){e.firstChild.style.width=e.clientWidth+"px";e.firstChild.style.height=e.clientHeight+"px"}}a6.init();var a2=[];for(var aB=0;aB<16;aB++){for(var aC=0;aC<16;aC++){a2[aB*16+aC]=aB.toString(16)+aC.toString(16)}}function aF(){return[[1,0,0],[0,1,0],[0,0,1]]}function at(l,o){var n=aF();for(var e=0;e<3;e++){for(var f=0;f<3;f++){var k=0;for(var g=0;g<3;g++){k+=l[e][g]*o[g][f]}n[e][f]=k}}return n}function aR(f,e){e.fillStyle=f.fillStyle;e.lineCap=f.lineCap;e.lineJoin=f.lineJoin;e.lineDash=f.lineDash;e.lineWidth=f.lineWidth;e.miterLimit=f.miterLimit;e.shadowBlur=f.shadowBlur;e.shadowColor=f.shadowColor;e.shadowOffsetX=f.shadowOffsetX;e.shadowOffsetY=f.shadowOffsetY;e.strokeStyle=f.strokeStyle;e.globalAlpha=f.globalAlpha;e.font=f.font;e.textAlign=f.textAlign;e.textBaseline=f.textBaseline;e.arcScaleX_=f.arcScaleX_;e.arcScaleY_=f.arcScaleY_;e.lineScale_=f.lineScale_}var a9={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"};function ap(k){var f=k.indexOf("(",3);var e=k.indexOf(")",f+1);var g=k.substring(f+1,e).split(",");if(g.length!=4||k.charAt(3)!="a"){g[3]=1}return g}function a8(e){return parseFloat(e)/100}function aX(g,f,e){return Math.min(e,Math.max(f,g))}function au(o){var g,l,k,n,f,q;n=parseFloat(o[0])/360%360;if(n<0){n++}f=aX(a8(o[1]),0,1);q=aX(a8(o[2]),0,1);if(f==0){g=l=k=q}else{var e=q<0.5?q*(1+f):q+f-q*f;var s=2*q-e;g=ba(s,e,n+1/3);l=ba(s,e,n);k=ba(s,e,n-1/3)}return"#"+a2[Math.floor(g*255)]+a2[Math.floor(l*255)]+a2[Math.floor(k*255)]}function ba(g,e,f){if(f<0){f++}if(f>1){f--}if(6*f<1){return g+(e-g)*6*f}else{if(2*f<1){return e}else{if(3*f<2){return g+(e-g)*(2/3-f)*6}else{return g}}}}var aD={};function ax(e){if(e in aD){return aD[e]}var g,k=1;e=String(e);if(e.charAt(0)=="#"){g=e}else{if(/^rgb/.test(e)){var n=ap(e);var g="#",f;for(var l=0;l<3;l++){if(n[l].indexOf("%")!=-1){f=Math.floor(a8(n[l])*255)}else{f=+n[l]}g+=a2[aX(f,0,255)]}k=+n[3]}else{if(/^hsl/.test(e)){var n=ap(e);g=au(n);k=n[3]}else{g=a9[e]||e}}}return aD[e]={color:g,alpha:k}}var aZ={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"};var aq={};function az(e){if(aq[e]){return aq[e]}var f=document.createElement("div");var k=f.style;try{k.font=e}catch(g){}return aq[e]={style:k.fontStyle||aZ.style,variant:k.fontVariant||aZ.variant,weight:k.fontWeight||aZ.weight,size:k.fontSize||aZ.size,family:k.fontFamily||aZ.family}}function aT(l,n){var e={};for(var f in l){e[f]=l[f]}var g=parseFloat(n.currentStyle.fontSize),k=parseFloat(l.size);if(typeof l.size=="number"){e.size=l.size}else{if(l.size.indexOf("px")!=-1){e.size=k}else{if(l.size.indexOf("em")!=-1){e.size=g*k}else{if(l.size.indexOf("%")!=-1){e.size=(g/100)*k}else{if(l.size.indexOf("pt")!=-1){e.size=k/0.75}else{e.size=g}}}}}e.size*=0.981;return e}function aE(e){return e.style+" "+e.variant+" "+e.weight+" "+e.size+"px "+e.family}var aW={butt:"flat",round:"round"};function m(e){return aW[e]||"square"}function aA(e){this.m_=aF();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineDash=[];this.lineCap="butt";this.miterLimit=a7*1;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=e;var k="width:"+e.clientWidth+"px;height:"+e.clientHeight+"px;overflow:hidden;position:absolute";var g=e.ownerDocument.createElement("div");g.style.cssText=k;e.appendChild(g);var f=g.cloneNode(false);f.style.backgroundColor="red";f.style.filter="alpha(opacity=0)";e.appendChild(f);this.element_=g;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1}var aY=aA.prototype;aY.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};aY.beginPath=function(){this.currentPath_=[]};aY.moveTo=function(g,e){var f=aQ(this,g,e);this.currentPath_.push({type:"moveTo",x:f.x,y:f.y});this.currentX_=f.x;this.currentY_=f.y};aY.lineTo=function(g,e){var f=aQ(this,g,e);this.currentPath_.push({type:"lineTo",x:f.x,y:f.y});this.currentX_=f.x;this.currentY_=f.y};aY.bezierCurveTo=function(s,e,f,k,l,o){var g=aQ(this,l,o);var n=aQ(this,s,e);var q=aQ(this,f,k);ar(this,n,q,g)};function ar(e,f,g,k){e.currentPath_.push({type:"bezierCurveTo",cp1x:f.x,cp1y:f.y,cp2x:g.x,cp2y:g.y,x:k.x,y:k.y});e.currentX_=k.x;e.currentY_=k.y}aY.quadraticCurveTo=function(g,o,q,e){var k=aQ(this,g,o);var l=aQ(this,q,e);var f={x:this.currentX_+2/3*(k.x-this.currentX_),y:this.currentY_+2/3*(k.y-this.currentY_)};var n={x:f.x+(l.x-this.currentX_)/3,y:f.y+(l.y-this.currentY_)/3};ar(this,f,n,l)};aY.arc=function(l,q,n,u,g,w){n*=a7;var x=w?"at":"wa";var k=l+aH(u)*n-a5;var e=q+a1(u)*n-a5;var o=l+aH(g)*n-a5;var f=q+a1(g)*n-a5;if(k==o&&!w){k+=0.125}var v=aQ(this,l,q);var s=aQ(this,k,e);var t=aQ(this,o,f);this.currentPath_.push({type:x,x:v.x,y:v.y,radius:n,xStart:s.x,yStart:s.y,xEnd:t.x,yEnd:t.y})};aY.rect=function(k,g,e,f){this.moveTo(k,g);this.lineTo(k+e,g);this.lineTo(k+e,g+f);this.lineTo(k,g+f);this.closePath()};aY.strokeRect=function(l,k,e,g){var f=this.currentPath_;this.beginPath();this.moveTo(l,k);this.lineTo(l+e,k);this.lineTo(l+e,k+g);this.lineTo(l,k+g);this.closePath();this.stroke();this.currentPath_=f};aY.fillRect=function(l,k,e,g){var f=this.currentPath_;this.beginPath();this.moveTo(l,k);this.lineTo(l+e,k);this.lineTo(l+e,k+g);this.lineTo(l,k+g);this.closePath();this.fill();this.currentPath_=f};aY.createLinearGradient=function(l,g,e,k){var f=new aS("gradient");f.x0_=l;f.y0_=g;f.x1_=e;f.y1_=k;return f};aY.createRadialGradient=function(l,g,o,n,k,e){var f=new aS("gradientradial");f.x0_=l;f.y0_=g;f.r0_=o;f.x1_=n;f.y1_=k;f.r1_=e;return f};aY.drawImage=function(l,e){var z,B,u,y,o,q,k,s;var w=l.runtimeStyle.width;var n=l.runtimeStyle.height;l.runtimeStyle.width="auto";l.runtimeStyle.height="auto";var A=l.width;var f=l.height;l.runtimeStyle.width=w;l.runtimeStyle.height=n;if(arguments.length==3){z=arguments[1];B=arguments[2];o=q=0;k=u=A;s=y=f}else{if(arguments.length==5){z=arguments[1];B=arguments[2];u=arguments[3];y=arguments[4];o=q=0;k=A;s=f}else{if(arguments.length==9){o=arguments[1];q=arguments[2];k=arguments[3];s=arguments[4];z=arguments[5];B=arguments[6];u=arguments[7];y=arguments[8]}else{throw Error("Invalid number of arguments")}}}var t=aQ(this,z,B);var v=[];var x=10;var C=10;var g=this.m_;v.push(" <g_vml_:group",' coordsize="',a7*x,",",a7*C,'"',' coordorigin="0,0"',' style="width:',a0(x*g[0][0]),"px;height:",a0(C*g[1][1]),"px;position:absolute;","top:",a0(t.y/a7),"px;left:",a0(t.x/a7),"px; rotation:",a0(Math.atan(g[0][1]/g[1][1])*180/Math.PI),";");v.push('" >','<g_vml_:image src="',l.src,'"',' style="width:',a7*u,"px;"," height:",a7*y,'px"',' cropleft="',o/A,'"',' croptop="',q/f,'"',' cropright="',(A-o-k)/A,'"',' cropbottom="',(f-q-s)/f,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",v.join(""))};aY.setLineDash=function(e){if(e.length===1){e=e.slice();e[1]=e[0]}this.lineDash=e};aY.getLineDash=function(){return this.lineDash};aY.stroke=function(k){var n=[];var e=10;var f=10;n.push("<g_vml_:shape",' filled="',!!k,'"',' style="position:absolute;width:',e,"px;height:",f,'px;left:0px;top:0px;"',' coordorigin="0,0"',' coordsize="',a7*e,",",a7*f,'"',' stroked="',!k,'"',' path="');var s={x:null,y:null};var l={x:null,y:null};for(var q=0;q<this.currentPath_.length;q++){var g=this.currentPath_[q];var o;switch(g.type){case"moveTo":o=g;n.push(" m ",a0(g.x),",",a0(g.y));break;case"lineTo":n.push(" l ",a0(g.x),",",a0(g.y));break;case"close":n.push(" x ");g=null;break;case"bezierCurveTo":n.push(" c ",a0(g.cp1x),",",a0(g.cp1y),",",a0(g.cp2x),",",a0(g.cp2y),",",a0(g.x),",",a0(g.y));break;case"at":case"wa":n.push(" ",g.type," ",a0(g.x-this.arcScaleX_*g.radius),",",a0(g.y-this.arcScaleY_*g.radius)," ",a0(g.x+this.arcScaleX_*g.radius),",",a0(g.y+this.arcScaleY_*g.radius)," ",a0(g.xStart),",",a0(g.yStart)," ",a0(g.xEnd),",",a0(g.yEnd));break}if(g){if(s.x==null||g.x<s.x){s.x=g.x}if(l.x==null||g.x>l.x){l.x=g.x}if(s.y==null||g.y<s.y){s.y=g.y}if(l.y==null||g.y>l.y){l.y=g.y}}}n.push(' ">');if(!k){aO(this,n)}else{aw(this,n,s,l)}n.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",n.join(""))};function aO(n,f){var l=ax(n.strokeStyle);var k=l.color;var g=l.alpha*n.globalAlpha;var e=n.lineScale_*n.lineWidth;if(e<1){g*=e}f.push("<g_vml_:stroke",' opacity="',g,'"',' joinstyle="',n.lineJoin,'"',' dashstyle="',n.lineDash.join(" "),'"',' miterlimit="',n.miterLimit,'"',' endcap="',m(n.lineCap),'"',' weight="',e,'px"',' color="',k,'" />')}function aw(g,u,A,f){var t=g.fillStyle;var J=g.arcScaleX_;var K=g.arcScaleY_;var T=f.x-A.x;var e=f.y-A.y;if(t instanceof aS){var n=0;var F={x:0,y:0};var N=0;var o=1;if(t.type_=="gradient"){var q=t.x0_/J;var S=t.y0_/K;var s=t.x1_/J;var y=t.y1_/K;var B=aQ(g,q,S);var C=aQ(g,s,y);var w=C.x-B.x;var x=C.y-B.y;n=Math.atan2(w,x)*180/Math.PI;if(n<0){n+=360}if(n<0.000001){n=0}}else{var B=aQ(g,t.x0_,t.y0_);F={x:(B.x-A.x)/T,y:(B.y-A.y)/e};T/=J*a7;e/=K*a7;var H=aG.max(T,e);N=2*t.r0_/H;o=2*t.r1_/H-N}var P=t.colors_;P.sort(function(U,V){return U.offset-V.offset});var k=P.length;var Q=P[0].color;var R=P[k-1].color;var L=P[0].alpha*g.globalAlpha;var M=P[k-1].alpha*g.globalAlpha;var G=[];for(var D=0;D<k;D++){var l=P[D];G.push(l.offset*o+N+" "+l.color)}u.push('<g_vml_:fill type="',t.type_,'"',' method="none" focus="100%"',' color="',Q,'"',' color2="',R,'"',' colors="',G.join(","),'"',' opacity="',M,'"',' g_o_:opacity2="',L,'"',' angle="',n,'"',' focusposition="',F.x,",",F.y,'" />')}else{if(t instanceof aU){if(T&&e){var v=-A.x;var I=-A.y;u.push("<g_vml_:fill",' position="',v/T*J*J,",",I/e*K*K,'"',' type="tile"',' src="',t.src_,'" />')}}else{var z=ax(g.fillStyle);var O=z.color;var E=z.alpha*g.globalAlpha;u.push('<g_vml_:fill color="',O,'" opacity="',E,'" />')}}}aY.fill=function(){this.$stroke(true)};aY.closePath=function(){this.currentPath_.push({type:"close"})};function aQ(k,e,f){var g=k.m_;return{x:a7*(e*g[0][0]+f*g[1][0]+g[2][0])-a5,y:a7*(e*g[0][1]+f*g[1][1]+g[2][1])-a5}}aY.save=function(){var e={};aR(this,e);this.aStack_.push(e);this.mStack_.push(this.m_)};aY.restore=function(){if(this.aStack_.length){aR(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function a3(e){return isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])}function aI(k,g,f){if(!a3(g)){return}k.m_=g;if(f){var e=g[0][0]*g[1][1]-g[0][1]*g[1][0];k.lineScale_=ao(av(e))}}aY.translate=function(g,f){var e=[[1,0,0],[0,1,0],[g,f,1]];aI(this,at(e,this.m_),false)};aY.rotate=function(k){var f=aH(k);var g=a1(k);var e=[[f,g,0],[-g,f,0],[0,0,1]];aI(this,at(e,this.m_),false)};aY.scale=function(g,f){this.arcScaleX_*=g;this.arcScaleY_*=f;var e=[[g,0,0],[0,f,0],[0,0,1]];aI(this,at(e,this.m_),true)};aY.transform=function(k,l,f,g,o,e){var n=[[k,l,0],[f,g,0],[o,e,1]];aI(this,at(n,this.m_),true)};aY.setTransform=function(g,k,e,f,l,o){var n=[[g,k,0],[e,f,0],[l,o,1]];aI(this,n,true)};aY.drawText_=function(n,q,t,g,v){var k=this.m_,u=1000,e=0,x=u,y={x:0,y:0},z=[];var w=aT(az(this.font),this.element_);var B=aE(w);var s=this.element_.currentStyle;var A=this.textAlign.toLowerCase();switch(A){case"left":case"center":case"right":break;case"end":A=s.direction=="ltr"?"right":"left";break;case"start":A=s.direction=="rtl"?"right":"left";break;default:A="left"}switch(this.textBaseline){case"hanging":case"top":y.y=w.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":y.y=-w.size/3;break}switch(A){case"right":e=u;x=0.05;break;case"center":e=x=u/2;break}var f=aQ(this,q+y.x,t+y.y);z.push('<g_vml_:line from="',-e,' 0" to="',x,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!v,'" stroked="',!!v,'" style="position:absolute;width:1px;height:1px;left:0px;top:0px;">');if(v){aO(this,z)}else{aw(this,z,{x:-e,y:0},{x:x,y:w.size})}var l=k[0][0].toFixed(3)+","+k[1][0].toFixed(3)+","+k[0][1].toFixed(3)+","+k[1][1].toFixed(3)+",0,0";var o=a0(f.x/a7)+","+a0(f.y/a7);z.push('<g_vml_:skew on="t" matrix="',l,'" ',' offset="',o,'" origin="',e,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',ay(n),'" style="v-text-align:',A,";font:",ay(B),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",z.join(""))};aY.fillText=function(k,e,f,g){this.drawText_(k,e,f,g,false)};aY.strokeText=function(k,e,f,g){this.drawText_(k,e,f,g,true)};aY.measureText=function(g){if(!this.textMeasureEl_){var e='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",e);this.textMeasureEl_=this.element_.lastChild}var f=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(f.createTextNode(g));return{width:this.textMeasureEl_.offsetWidth}};aY.clip=function(){};aY.arcTo=function(){};aY.createPattern=function(f,e){return new aU(f,e)};function aS(e){this.type_=e;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}aS.prototype.addColorStop=function(f,e){e=ax(e);this.colors_.push({offset:f,color:e.color,alpha:e.alpha})};function aU(f,e){Z(f);switch(e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:an("SYNTAX_ERR")}this.src_=f.src;this.width_=f.width;this.height_=f.height}function an(e){throw new am(e)}function Z(e){if(!e||e.nodeType!=1||e.tagName!="IMG"){an("TYPE_MISMATCH_ERR")}if(e.readyState!="complete"){an("INVALID_STATE_ERR")}}function am(e){this.code=this[e];this.message=e+": DOM Exception "+this.code}var aM=am.prototype=new Error();aM.INDEX_SIZE_ERR=1;aM.DOMSTRING_SIZE_ERR=2;aM.HIERARCHY_REQUEST_ERR=3;aM.WRONG_DOCUMENT_ERR=4;aM.INVALID_CHARACTER_ERR=5;aM.NO_DATA_ALLOWED_ERR=6;aM.NO_MODIFICATION_ALLOWED_ERR=7;aM.NOT_FOUND_ERR=8;aM.NOT_SUPPORTED_ERR=9;aM.INUSE_ATTRIBUTE_ERR=10;aM.INVALID_STATE_ERR=11;aM.SYNTAX_ERR=12;aM.INVALID_MODIFICATION_ERR=13;aM.NAMESPACE_ERR=14;aM.INVALID_ACCESS_ERR=15;aM.VALIDATION_ERR=16;aM.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=a6;CanvasRenderingContext2D=aA;CanvasGradient=aS;CanvasPattern=aU;DOMException=am})()}(Ext.cmd.derive("Ext.draw.engine.Canvas",Ext.draw.Surface,{isCanvas:true,config:{highPrecision:false},statics:{contextOverrides:{setGradientBBox:function(f){this.bbox=f},fill:function(){var o=this.fillStyle,q=this.fillGradient,p=this.fillOpacity,n=this.globalAlpha,m=this.bbox;if(o!==Ext.util.Color.RGBA_NONE&&p!==0){if(q&&m){this.fillStyle=q.generateGradient(this,m)}if(p!==1){this.globalAlpha=n*p}this.$fill();if(p!==1){this.globalAlpha=n}if(q&&m){this.fillStyle=o}}},stroke:function(){var m=this.strokeStyle,o=this.strokeGradient,q=this.strokeOpacity,p=this.globalAlpha,n=this.bbox;if(m!==Ext.util.Color.RGBA_NONE&&q!==0){if(o&&n){this.strokeStyle=o.generateGradient(this,n)}if(q!==1){this.globalAlpha=p*q}this.$stroke();if(q!==1){this.globalAlpha=p}if(o&&n){this.strokeStyle=m}}},fillStroke:function(y,x){var s=this,t=this.fillStyle,u=this.fillOpacity,w=this.strokeStyle,z=this.strokeOpacity,A=s.shadowColor,B=s.shadowBlur,v=Ext.util.Color.RGBA_NONE;if(x===undefined){x=y.transformFillStroke}if(!x){y.inverseMatrix.toContext(s)}if(t!==v&&u!==0){s.fill();s.shadowColor=v;s.shadowBlur=0}if(w!==v&&z!==0){s.stroke()}s.shadowColor=A;s.shadowBlur=B},setLineDash:function(f){if(this.$setLineDash){this.$setLineDash(f)}},getLineDash:function(){if(this.$getLineDash){return this.$getLineDash()}},ellipse:function(v,x,z,B,s,A,w,y){var t=Math.cos(s),u=Math.sin(s);this.transform(t*z,u*z,-u*B,t*B,v,x);this.arc(0,0,1,A,w,y);this.transform(t/z,-u/B,u/z,t/B,-(t*v+u*x)/z,(u*v-t*x)/B)},appendPath:function(o){var p=this,s=0,t=0,u=o.commands,v=o.params,q=u.length;p.beginPath();for(;s<q;s++){switch(u[s]){case"M":p.moveTo(v[t],v[t+1]);t+=2;break;case"L":p.lineTo(v[t],v[t+1]);t+=2;break;case"C":p.bezierCurveTo(v[t],v[t+1],v[t+2],v[t+3],v[t+4],v[t+5]);t+=6;break;case"Z":p.closePath();break}}},save:function(){var o=this.toSave,n=o.length,m=n&&{},p=0,q;for(;p<n;p++){q=o[p];if(q in this){m[q]=this[q]}}this.state.push(m);this.$save()},restore:function(){var g=this.state.pop(),k;if(g){for(k in g){this[k]=g[k]}}this.$restore()}}},splitThreshold:3000,toSave:["fillGradient","strokeGradient"],element:{reference:"element",children:[{reference:"innerElement",style:{width:"100%",height:"100%",position:"relative"}}]},createCanvas:function(){var m=Ext.Element.create({tag:"canvas",cls:"x-surface-canvas"});if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(m.dom);this.isVML=true}var l=Ext.draw.engine.Canvas.contextOverrides,o=m.dom.getContext("2d"),n;if(o.ellipse){delete l.ellipse}o.state=[];o.toSave=this.toSave;for(n in l){o["$"+n]=o[n]}Ext.apply(o,l);if(this.getHighPrecision()){this.enablePrecisionCompensation(o)}else{this.disablePrecisionCompensation(o)}this.innerElement.appendChild(m);this.canvases.push(m);this.contexts.push(o)},updateHighPrecision:function(n){var m=this.contexts,o=m.length,p,q;for(p=0;p<o;p++){q=m[p];if(n){this.enablePrecisionCompensation(q)}else{this.disablePrecisionCompensation(q)}}},precisionNames:["rect","fillRect","strokeRect","clearRect","moveTo","lineTo","arc","arcTo","save","restore","updatePrecisionCompensate","setTransform","transform","scale","translate","rotate","quadraticCurveTo","bezierCurveTo","createLinearGradient","createRadialGradient","fillText","strokeText","drawImage"],disablePrecisionCompensation:function(s){var t=Ext.draw.engine.Canvas.contextOverrides,n=this.precisionNames,o=n.length,p,q;for(p=0;p<o;p++){q=n[p];if(!(q in t)){delete s[q]}}this.setDirty(true)},enablePrecisionCompensation:function(u){var B=this,D=1,x=1,E=0,F=0,v=new Ext.draw.Matrix(),C=[],z={},A=Ext.draw.engine.Canvas.contextOverrides,w=u.constructor.prototype;var y={toSave:B.toSave,rect:function(g,e,f,k){return w.rect.call(this,g*D+E,e*x+F,f*D,k*x)},fillRect:function(g,e,f,k){this.updatePrecisionCompensateRect();w.fillRect.call(this,g*D+E,e*x+F,f*D,k*x);this.updatePrecisionCompensate()},strokeRect:function(g,e,f,k){this.updatePrecisionCompensateRect();w.strokeRect.call(this,g*D+E,e*x+F,f*D,k*x);this.updatePrecisionCompensate()},clearRect:function(g,e,f,k){return w.clearRect.call(this,g*D+E,e*x+F,f*D,k*x)},moveTo:function(f,e){return w.moveTo.call(this,f*D+E,e*x+F)},lineTo:function(f,e){return w.lineTo.call(this,f*D+E,e*x+F)},arc:function(g,m,k,l,f,e){this.updatePrecisionCompensateRect();w.arc.call(this,g*D+E,m*D+F,k*D,l,f,e);this.updatePrecisionCompensate()},arcTo:function(f,l,g,e,k){this.updatePrecisionCompensateRect();w.arcTo.call(this,f*D+E,l*x+F,g*D+E,e*x+F,k*D);this.updatePrecisionCompensate()},save:function(){C.push(v);v=v.clone();A.save.call(this);w.save.call(this)},restore:function(){v=C.pop();A.restore.call(this);w.restore.call(this);this.updatePrecisionCompensate()},updatePrecisionCompensate:function(){v.precisionCompensate(B.devicePixelRatio,z);D=z.xx;x=z.yy;E=z.dx;F=z.dy;w.setTransform.call(this,B.devicePixelRatio,z.b,z.c,z.d,0,0)},updatePrecisionCompensateRect:function(){v.precisionCompensateRect(B.devicePixelRatio,z);D=z.xx;x=z.yy;E=z.dx;F=z.dy;w.setTransform.call(this,B.devicePixelRatio,z.b,z.c,z.d,0,0)},setTransform:function(m,f,g,k,l,e){v.set(m,f,g,k,l,e);this.updatePrecisionCompensate()},transform:function(m,f,g,k,l,e){v.append(m,f,g,k,l,e);this.updatePrecisionCompensate()},scale:function(e,f){this.transform(e,0,0,f,0,0)},translate:function(e,f){this.transform(1,0,0,1,e,f)},rotate:function(e){var f=Math.cos(e),g=Math.sin(e);this.transform(f,g,-g,f,0,0)},quadraticCurveTo:function(f,k,g,e){w.quadraticCurveTo.call(this,f*D+E,k*x+F,g*D+E,e*x+F)},bezierCurveTo:function(m,l,f,g,k,e){w.bezierCurveTo.call(this,m*D+E,l*x+F,f*D+E,g*x+F,k*D+E,e*x+F)},createLinearGradient:function(g,e,k,f){this.updatePrecisionCompensateRect();var l=w.createLinearGradient.call(this,g*D+E,e*x+F,k*D+E,f*x+F);this.updatePrecisionCompensate();return l},createRadialGradient:function(f,m,g,k,n,l){this.updatePrecisionCompensateRect();var e=w.createLinearGradient.call(this,f*D+E,m*D+F,g*D,k*D+E,n*D+F,l*D);this.updatePrecisionCompensate();return e},fillText:function(e,g,k,f){w.setTransform.apply(this,v.elements);if(typeof f==="undefined"){w.fillText.call(this,e,g,k)}else{w.fillText.call(this,e,g,k,f)}this.updatePrecisionCompensate()},strokeText:function(e,g,k,f){w.setTransform.apply(this,v.elements);if(typeof f==="undefined"){w.strokeText.call(this,e,g,k)}else{w.strokeText.call(this,e,g,k,f)}this.updatePrecisionCompensate()},fill:function(){var f=this.fillGradient,e=this.bbox;this.updatePrecisionCompensateRect();if(f&&e){this.fillStyle=f.generateGradient(this,e)}w.fill.call(this);this.updatePrecisionCompensate()},stroke:function(){var f=this.strokeGradient,e=this.bbox;this.updatePrecisionCompensateRect();if(f&&e){this.strokeStyle=f.generateGradient(this,e)}w.stroke.call(this);this.updatePrecisionCompensate()},drawImage:function(e,g,k,l,m,n,o,p,f){switch(arguments.length){case 3:return w.drawImage.call(this,e,g*D+E,k*x+F);case 5:return w.drawImage.call(this,e,g*D+E,k*x+F,l*D,m*x);case 9:return w.drawImage.call(this,e,g,k,l,m,n*D+E,o*x*F,p*D,f*x)}}};Ext.apply(u,y);this.setDirty(true)},updateRect:function(X){Ext.draw.Surface.prototype.updateRect.call(this,X);var I=this,J=Math.floor(X[0]),U=Math.floor(X[1]),S=Math.ceil(X[0]+X[2]),K=Math.ceil(X[1]+X[3]),l=I.devicePixelRatio,w=I.canvases,V=S-J,O=K-U,P=Math.round(I.splitThreshold/l),W=I.xSplits=Math.ceil(V/P),T=I.ySplits=Math.ceil(O/P),k,t,H,M,N,R,L,Q;for(t=0,N=0;t<T;t++,N+=P){for(k=0,M=0;k<W;k++,M+=P){H=t*W+k;if(H>=w.length){I.createCanvas()}R=w[H].dom;R.style.left=M+"px";R.style.top=N+"px";Q=Math.min(P,O-N);if(Q*l!==R.height){R.height=Q*l;R.style.height=Q+"px"}L=Math.min(P,V-M);if(L*l!==R.width){R.width=L*l;R.style.width=L+"px"}I.applyDefaults(I.contexts[H])}}I.activeCanvases=H=W*T;while(w.length>H){w.pop().destroy()}I.clear()},clearTransform:function(){var v=this,A=v.xSplits,u=v.ySplits,x=v.contexts,t=v.splitThreshold,k=v.devicePixelRatio,w,y,z,B;for(w=0;w<A;w++){for(y=0;y<u;y++){z=y*A+w;B=x[z];B.translate(-t*w,-t*y);B.scale(k,k);v.matrix.toContext(B)}}},renderSprite:function(L){var J=this,ac=J.getRect(),Z=J.matrix,X=L.getParent(),T=Ext.draw.Matrix.fly([1,0,0,1,0,0]),N=J.splitThreshold/J.devicePixelRatio,ab=J.xSplits,U=J.ySplits,M,O,w,ad,I,P,aa=0,K,R=0,Y,W=ac[2],Q=ac[3],S,V,k;while(X&&X.isSprite){T.prependMatrix(X.matrix||X.attr&&X.attr.matrix);X=X.getParent()}T.prependMatrix(Z);ad=L.getBBox();if(ad){ad=T.transformBBox(ad)}L.preRender(J);if(L.attr.hidden||L.attr.globalAlpha===0){L.setDirty(false);return}for(V=0,O=0;V<U;V++,O+=N){for(S=0,M=0;S<ab;S++,M+=N){k=V*ab+S;w=J.contexts[k];I=Math.min(N,W-M);P=Math.min(N,Q-O);aa=M;K=aa+I;R=O;Y=R+P;if(ad){if(ad.x>K||ad.x+ad.width<aa||ad.y>Y||ad.y+ad.height<R){continue}}w.save();L.useAttributes(w,ac);if(false===L.render(J,w,[aa,R,I,P])){return false}w.restore()}}L.setDirty(false)},flatten:function(E,D){var v=document.createElement("canvas"),y=Ext.getClassName(this),x=this.devicePixelRatio,u=v.getContext("2d"),C,B,w,z,A,F;v.width=Math.ceil(E.width*x);v.height=Math.ceil(E.height*x);for(z=0;z<D.length;z++){C=D[z];if(Ext.getClassName(C)!==y){continue}w=C.getRect();for(A=0;A<C.canvases.length;A++){B=C.canvases[A];F=B.getOffsetsTo(B.getParent());u.drawImage(B.dom,(w[0]+F[0])*x,(w[1]+F[1])*x)}}return{data:v.toDataURL(),type:"png"}},applyDefaults:function(k){var g=Ext.util.Color.RGBA_NONE;k.strokeStyle=g;k.fillStyle=g;k.textAlign="start";k.textBaseline="alphabetic";k.miterLimit=1},clear:function(){var n=this,m=n.activeCanvases,o,p,q;for(o=0;o<m;o++){p=n.canvases[o].dom;q=n.contexts[o];q.setTransform(1,0,0,1,0,0);q.clearRect(0,0,p.width,p.height)}n.setDirty(true)},destroy:function(){var l=this,m=l.canvases,n=m.length,o;for(o=0;o<n;o++){l.contexts[o]=null;m[o].destroy();m[o]=null}l.contexts=l.canvases=null;Ext.draw.Surface.prototype.destroy.call(this)},privates:{initElement:function(){var f=this;Ext.draw.Surface.prototype.initElement.call(this);f.canvases=[];f.contexts=[];f.activeCanvases=f.xSplits=f.ySplits=0}}},0,0,["widget","surface"],{widget:true,surface:true},0,0,[Ext.draw.engine,"Canvas"],function(){var k=this,l=k.prototype,m=10000000000;if(Ext.os.is.Android4&&Ext.browser.is.Chrome){m=3000}else{if(Ext.is.iOS){m=2200}}l.splitThreshold=m}));(Ext.cmd.derive("Ext.draw.Container",Ext.draw.ContainerBase,{alternateClassName:"Ext.draw.Component",defaultType:"surface",isDrawContainer:true,engine:"Ext.draw.engine.Canvas",config:{cls:"x-draw-container",resizeHandler:null,sprites:null,gradients:[],touchAction:{panX:false,panY:false,pinchZoom:false,doubleTapZoom:false}},defaultDownloadServerUrl:"http://svg.sencha.io",supportedFormats:["png","pdf","jpeg","gif"],supportedOptions:{version:Ext.isNumber,data:Ext.isString,format:function(f){return Ext.Array.indexOf(this.supportedFormats,f)>=0},filename:Ext.isString,width:Ext.isNumber,height:Ext.isNumber,scale:Ext.isNumber,pdf:Ext.isObject,jpeg:Ext.isObject},initAnimator:function(){this.frameCallbackId=Ext.draw.Animator.addFrameCallback("renderFrame",this)},applyGradients:function(s){var t=[],q,n,p,o;if(!Ext.isArray(s)){return t}for(q=0,n=s.length;q<n;q++){p=s[q];if(!Ext.isObject(p)){continue}if(typeof p.type!=="string"){p.type="linear"}if(p.angle){p.degrees=p.angle;delete p.angle}if(Ext.isObject(p.stops)){p.stops=(function(e){var g=[],f;for(o in e){f=e[o];f.offset=o/100;g.push(f)}return g})(p.stops)}t.push(p)}Ext.draw.gradient.GradientDefinition.add(t);return t},applySprites:function(n){if(!n){return}n=Ext.Array.from(n);var o=n.length,s=[],p,t,q;for(p=0;p<o;p++){q=n[p];t=q.surface;if(!(t&&t.isSurface)){if(Ext.isString(t)){t=this.getSurface(t);delete q.surface}else{t=this.getSurface("main")}}q=t.add(q);s.push(q)}return s},resizeDelay:500,resizeTimerId:0,handleResize:function(p,s){var n=this,o=n.element,q=n.getResizeHandler()||n.defaultResizeHandler,t;if(!o){return}p=p||o.getSize();if(!(p.width&&p.height)){return}clearTimeout(n.resizeTimerId);if(!s){n.resizeTimerId=Ext.defer(n.handleResize,n.resizeDelay,n,[p,true]);return}else{n.resizeTimerId=0}n.fireEvent("bodyresize",n,p);t=q.call(n,p);if(t!==false){n.renderFrame()}},defaultResizeHandler:function(f){this.getItems().each(function(e){e.setRect([0,0,f.width,f.height])})},getSurface:function(m){var n=this,p=n.getItems(),o=p.getCount(),q;q=n.createSurface(m);if(p.getCount()>o){n.handleResize(null,true)}return q},createSurface:function(l){l=this.getId()+"-"+(l||"main");var m=this,n=m.getItems(),o=n.get(l);if(!o){o=m.add({xclass:m.engine,id:l})}return o},renderFrame:function(){var m=this,q=m.getItems(),p,n,o;for(p=0,n=q.length;p<n;p++){o=q.items[p];if(o.isSurface){o.renderFrame()}}},getImage:function(t){var s=this.innerElement.getSize(),B=Array.prototype.slice.call(this.items.items),z=this.surfaceZIndexes,y,v,w,x,A,u;for(x=1;x<B.length;x++){A=B[x];u=z[A.type];w=x-1;while(w>=0&&z[B[w].type]>u){B[w+1]=B[w];w--}B[w+1]=A}A=B[0];if((Ext.isIE||Ext.isEdge)&&A.isSVG){y={data:A.toSVG(s,B),type:"svg-markup"}}else{y=A.flatten(s,B);if(t==="image"){v=new Image();v.src=y.data;y.data=v;return y}if(t==="stream"){y.data=y.data.replace(/^data:image\/[^;]+/,"data:application/octet-stream");return y}}return y},download:function(p){var o=this,t=[],s,q,n;if(Ext.isIE8){return false}p=Ext.apply({version:2,data:o.getImage().data},p);for(q in p){if(p.hasOwnProperty(q)){n=p[q];if(q in o.supportedOptions){if(o.supportedOptions[q].call(o,n)){t.push({tag:"input",type:"hidden",name:q,value:Ext.String.htmlEncode(Ext.isObject(n)?Ext.JSON.encode(n):n)})}}}}s=Ext.dom.Helper.markup({tag:"html",children:[{tag:"head"},{tag:"body",children:[{tag:"form",method:"POST",action:p.url||o.defaultDownloadServerUrl,children:t},{tag:"script",type:"text/javascript",children:'document.getElementsByTagName("form")[0].submit();'}]}]});window.open("","ImageDownload_"+Date.now()).document.write(s)},destroy:function(){var k=this,g=k.frameCallbackId;if(g){Ext.draw.Animator.removeFrameCallback(g)}clearTimeout(k.resizeTimerId);k.resizeTimerId=0;Ext.draw.ContainerBase.prototype.destroy.call(this)}},0,["draw"],["component","box","container","panel","draw"],{component:true,box:true,container:true,panel:true,draw:true},["widget.draw"],0,[Ext.draw,"Container",Ext.draw,"Component"],function(){if(location.search.match("svg")){Ext.draw.Container.prototype.engine="Ext.draw.engine.Svg"}else{if((Ext.os.is.BlackBerry&&Ext.os.version.getMajor()===10)||(Ext.browser.is.AndroidStock4&&(Ext.os.version.getMinor()===1||Ext.os.version.getMinor()===2||Ext.os.version.getMinor()===3))){Ext.draw.Container.prototype.engine="Ext.draw.engine.Svg"}}}));(Ext.cmd.derive("Ext.chart.theme.Base",Ext.Base,{factoryConfig:{type:"chart.theme"},isTheme:true,config:{baseColor:null,colors:undefined,gradients:null,chart:{defaults:{background:"white"}},axis:{defaults:{label:{x:0,y:0,textBaseline:"middle",textAlign:"center",fontSize:"default",fontFamily:"default",fontWeight:"default",fillStyle:"black"},title:{fillStyle:"black",fontSize:"default*1.23",fontFamily:"default",fontWeight:"default"},style:{strokeStyle:"black"},grid:{strokeStyle:"rgb(221, 221, 221)"}},top:{style:{textPadding:5}},bottom:{style:{textPadding:5}}},series:{defaults:{label:{fillStyle:"black",strokeStyle:"none",fontFamily:"default",fontWeight:"default",fontSize:"default*1.077",textBaseline:"middle",textAlign:"center"},labelOverflowPadding:5}},sprites:{text:{fontSize:"default",fontWeight:"default",fontFamily:"default",fillStyle:"black"}},legend:{label:{fontSize:14,fontWeight:"default",fontFamily:"default",fillStyle:"black"},border:{lineWidth:1,radius:4,fillStyle:"none",strokeStyle:"gray"},background:"white"},seriesThemes:undefined,markerThemes:{type:["circle","cross","plus","square","triangle","diamond"]},useGradients:false,background:null},colorDefaults:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],constructor:function(f){this.initConfig(f);this.resolveDefaults()},defaultRegEx:/^default([+\-/\*]\d+(?:\.\d+)?)?$/,defaultOperators:{"*":function(g,k){return g*k},"+":function(g,k){return g+k},"-":function(g,k){return g-k}},resolveDefaults:function(){var f=this;Ext.onReady(function(){var v=Ext.clone(f.getSprites()),e=Ext.clone(f.getLegend()),p=Ext.clone(f.getAxis()),q=Ext.clone(f.getSeries()),u,s,t;if(!f.superclass.defaults){u=Ext.getBody().createChild({tag:"div",cls:"x-component"});f.superclass.defaults={fontFamily:u.getStyle("fontFamily"),fontWeight:u.getStyle("fontWeight"),fontSize:parseFloat(u.getStyle("fontSize")),fontVariant:u.getStyle("fontVariant"),fontStyle:u.getStyle("fontStyle")};u.destroy()}f.replaceDefaults(v.text);f.setSprites(v);f.replaceDefaults(e.label);f.setLegend(e);for(s in p){t=p[s];f.replaceDefaults(t.label);f.replaceDefaults(t.title)}f.setAxis(p);for(s in q){t=q[s];f.replaceDefaults(t.label)}f.setSeries(q)})},replaceDefaults:function(w){var q=this,x=q.superclass.defaults,v=q.defaultRegEx,s,p,t,u;if(Ext.isObject(w)){for(s in x){t=v.exec(w[s]);if(t){p=x[s];t=t[1];if(t){u=q.defaultOperators[t.charAt(0)];p=Math.round(u(p,parseFloat(t.substr(1))))}w[s]=p}}}},applyBaseColor:function(k){var m,l;if(k){m=k.isColor?k:Ext.util.Color.fromString(k);l=m.getHSL()[2];if(l<0.15){m=m.createLighter(0.3)}else{if(l<0.3){m=m.createLighter(0.15)}else{if(l>0.85){m=m.createDarker(0.3)}else{if(l>0.7){m=m.createDarker(0.15)}}}}this.setColors([m.createDarker(0.3).toString(),m.createDarker(0.15).toString(),m.toString(),m.createLighter(0.12).toString(),m.createLighter(0.24).toString(),m.createLighter(0.31).toString()])}return k},applyColors:function(f){return f||this.colorDefaults},updateUseGradients:function(f){if(f){this.updateGradients({type:"linear",degrees:90})}},updateBackground:function(k){if(k){var g=this.getChart();g.defaults.background=k;this.setChart(g)}},updateGradients:function(v){var t=this.getColors(),q=[],w,u,s,p,x;if(Ext.isObject(v)){for(p=0,x=t&&t.length||0;p<x;p++){u=Ext.util.Color.fromString(t[p]);if(u){s=u.createLighter(0.15).toString();w=Ext.apply(Ext.Object.chain(v),{stops:[{offset:1,color:u.toString()},{offset:0,color:s.toString()}]});q.push(w)}}this.setColors(q)}},applySeriesThemes:function(k){this.getBaseColor();this.getUseGradients();this.getGradients();var g=this.getColors();if(!k){k={fillStyle:Ext.Array.clone(g),strokeStyle:Ext.Array.map(g,function(e){var f=Ext.util.Color.fromString(e.stops?e.stops[0].color:e);return f.createDarker(0.15).toString()})}}return k}},1,0,0,0,0,[["factoryable",Ext.mixin.Factoryable]],[Ext.chart.theme,"Base"],0));(Ext.cmd.derive("Ext.chart.theme.Default",Ext.chart.theme.Base,{singleton:true},0,0,0,0,["chart.theme.Base","chart.theme.default"],0,[Ext.chart.theme,"Default"],0));(Ext.cmd.derive("Ext.chart.Markers",Ext.draw.sprite.Instancing,{isMarkers:true,defaultCategory:"default",constructor:function(){Ext.draw.sprite.Instancing.prototype.constructor.apply(this,arguments);this.categories={};this.revisions={}},destroy:function(){this.categories=null;this.revisions=null;Ext.draw.sprite.Instancing.prototype.destroy.call(this)},getMarkerFor:function(l,m){if(l in this.categories){var k=this.categories[l];if(m in k){return this.get(k[m])}}},clear:function(f){f=f||this.defaultCategory;if(!(f in this.revisions)){this.revisions[f]=1}else{this.revisions[f]++}},putMarkerFor:function(q,u,t,w,p){q=q||this.defaultCategory;var s=this,x=s.categories[q]||(s.categories[q]={}),v;if(t in x){s.setAttributesFor(x[t],u,w)}else{x[t]=s.getCount();s.add(u,w)}v=s.get(x[t]);if(v){v.category=q;if(!p){v.revision=s.revisions[q]||(s.revisions[q]=1)}}},getMarkerBBoxFor:function(m,o,n){if(m in this.categories){var l=this.categories[m];if(o in l){return this.getBBoxFor(l[o],n)}}},getBBox:function(){return null},render:function(D,E,x){var y=this,C=D.getRect(),F=y.revisions,u=y.attr.matrix,v=y.getTemplate(),A=v.attr,z=y.instances.length,w,B;u.toContext(E);v.preRender(D,E,x);v.useAttributes(E,C);for(B=0;B<z;B++){w=y.get(B);if(w.hidden||w.revision!==F[w.category]){continue}E.save();v.attr=w;v.useAttributes(E,C);v.render(D,E,x);E.restore()}v.attr=A}},1,0,0,0,0,0,[Ext.chart,"Markers"],0));(Ext.cmd.derive("Ext.chart.modifier.Callout",Ext.draw.modifier.Modifier,{alternateClassName:"Ext.chart.label.Callout",prepareAttributes:function(f){if(!f.hasOwnProperty("calloutOriginal")){f.calloutOriginal=Ext.Object.chain(f);f.calloutOriginal.prototype=f}if(this._lower){this._lower.prepareAttributes(f.calloutOriginal)}},setAttrs:function(D,A){var E=D.callout,y=D.calloutOriginal,M=D.bbox.plain,F=(M.width||0)+D.labelOverflowPadding,L=(M.height||0)+D.labelOverflowPadding,I,J;if("callout" in A){E=A.callout}if("callout" in A||"calloutPlaceX" in A||"calloutPlaceY" in A||"x" in A||"y" in A){var K="rotationRads" in A?y.rotationRads=A.rotationRads:y.rotationRads,B="x" in A?(y.x=A.x):y.x,C="y" in A?(y.y=A.y):y.y,G="calloutPlaceX" in A?A.calloutPlaceX:D.calloutPlaceX,H="calloutPlaceY" in A?A.calloutPlaceY:D.calloutPlaceY,N="calloutVertical" in A?A.calloutVertical:D.calloutVertical,x;K%=Math.PI*2;if(Math.cos(K)<0){K=(K+Math.PI)%(Math.PI*2)}if(K>Math.PI){K-=Math.PI*2}if(N){K=K*(1-E)-Math.PI/2*E;x=F;F=L;L=x}else{K=K*(1-E)}A.rotationRads=K;A.x=B*(1-E)+G*E;A.y=C*(1-E)+H*E;I=G-B;J=H-C;if(Math.abs(J*F)>Math.abs(I*L)){if(J>0){A.calloutEndX=A.x-(L/2)*(I/J)*E;A.calloutEndY=A.y-(L/2)*E}else{A.calloutEndX=A.x+(L/2)*(I/J)*E;A.calloutEndY=A.y+(L/2)*E}}else{if(I>0){A.calloutEndX=A.x-F/2;A.calloutEndY=A.y-(F/2)*(J/I)*E}else{A.calloutEndX=A.x+F/2;A.calloutEndY=A.y+(F/2)*(J/I)*E}}if(A.calloutStartX&&A.calloutStartY){A.calloutHasLine=(I>0&&A.calloutStartX<A.calloutEndX)||(I<=0&&A.calloutStartX>A.calloutEndX)||(J>0&&A.calloutStartY<A.calloutEndY)||(J<=0&&A.calloutStartY>A.calloutEndY)}else{A.calloutHasLine=true}}return A},pushDown:function(k,g){g=Ext.draw.modifier.Modifier.prototype.pushDown.call(this,k.calloutOriginal,g);return this.setAttrs(k,g)},popUp:function(k,g){k=k.prototype;g=this.setAttrs(k,g);if(this._upper){return this._upper.popUp(k,g)}else{return Ext.apply(k,g)}}},0,0,0,0,0,0,[Ext.chart.modifier,"Callout",Ext.chart.label,"Callout"],0));(Ext.cmd.derive("Ext.chart.sprite.Label",Ext.draw.sprite.Text,{alternateClassName:"Ext.chart.label.Label",inheritableStatics:{def:{processors:{callout:"limited01",calloutHasLine:"bool",calloutPlaceX:"number",calloutPlaceY:"number",calloutStartX:"number",calloutStartY:"number",calloutEndX:"number",calloutEndY:"number",calloutColor:"color",calloutWidth:"number",calloutVertical:"bool",labelOverflowPadding:"number",display:"enums(none,under,over,rotate,insideStart,insideEnd,inside,outside)",orientation:"enums(horizontal,vertical)",renderer:"default"},defaults:{callout:0,calloutHasLine:true,calloutPlaceX:0,calloutPlaceY:0,calloutStartX:0,calloutStartY:0,calloutEndX:0,calloutEndY:0,calloutWidth:1,calloutVertical:false,calloutColor:"black",labelOverflowPadding:5,display:"none",orientation:"",renderer:null},triggers:{callout:"transform",calloutPlaceX:"transform",calloutPlaceY:"transform",labelOverflowPadding:"transform",calloutRotation:"transform",display:"hidden"},updaters:{hidden:function(f){f.hidden=(f.display==="none")}}}},config:{fx:{customDurations:{callout:200}},field:null,calloutLine:true},applyCalloutLine:function(f){if(f){return Ext.apply({},f)}},prepareModifiers:function(){Ext.draw.sprite.Text.prototype.prepareModifiers.apply(this,arguments);this.calloutModifier=new Ext.chart.modifier.Callout({sprite:this});this.fx.setUpper(this.calloutModifier);this.calloutModifier.setUpper(this.topModifier)},render:function(p,o){var m=this,q=m.attr,n=q.calloutColor;o.save();o.globalAlpha*=q.callout;if(o.globalAlpha>0&&q.calloutHasLine){if(n&&n.isGradient){n=n.getStops()[0].color}o.strokeStyle=n;o.fillStyle=n;o.lineWidth=q.calloutWidth;o.beginPath();o.moveTo(m.attr.calloutStartX,m.attr.calloutStartY);o.lineTo(m.attr.calloutEndX,m.attr.calloutEndY);o.stroke();o.beginPath();o.arc(m.attr.calloutStartX,m.attr.calloutStartY,1*q.calloutWidth,0,2*Math.PI,true);o.fill();o.beginPath();o.arc(m.attr.calloutEndX,m.attr.calloutEndY,1*q.calloutWidth,0,2*Math.PI,true);o.fill()}o.restore();Ext.draw.sprite.Text.prototype.render.apply(m,arguments)}},0,0,0,0,0,0,[Ext.chart.sprite,"Label",Ext.chart.label,"Label"],0));(Ext.cmd.derive("Ext.chart.series.Series",Ext.Base,{isSeries:true,defaultBindProperty:"store",type:null,seriesType:"sprite",identifiablePrefix:"ext-line-",observableType:"series",darkerStrokeRatio:0.15,config:{chart:null,title:null,renderer:null,showInLegend:true,triggerAfterDraw:false,style:{},subStyle:{},themeStyle:{},colors:null,useDarkerStrokeColor:true,store:null,label:{},labelOverflowPadding:null,showMarkers:true,marker:null,markerSubStyle:null,itemInstancing:null,background:null,highlightItem:null,surface:null,overlaySurface:null,hidden:false,highlight:false,highlightCfg:{merge:function(f){return f},$value:{fillStyle:"yellow",strokeStyle:"red"}},animation:null,tooltip:null},directions:[],sprites:null,themeColorCount:function(){return 1},isStoreDependantColorCount:false,themeMarkerCount:function(){return 0},getFields:function(n){var o=this,t=[],q,s,p;for(s=0,p=n.length;s<p;s++){q=o["get"+n[s]+"Field"]();if(Ext.isArray(q)){t.push.apply(t,q)}else{t.push(q)}}return t},applyAnimation:function(k,g){if(!k){k={duration:0}}else{if(k===true){k={easing:"easeInOut",duration:500}}}return g?Ext.apply({},k,g):k},getAnimation:function(){var f=this.getChart();if(f&&f.animationSuspendCount){return{duration:0}}else{return(arguments.callee.$previous||Ext.Base.prototype.getAnimation).call(this)}},updateTitle:function(){var g=this,k=g.getChart();if(k&&!k.isInitializing){k.refreshLegendStore()}},applyHighlight:function(k,g){if(Ext.isObject(k)){k=Ext.merge({},this.config.highlightCfg,k)}else{if(k===true){k=this.config.highlightCfg}}return Ext.apply(g||{},k)},updateHighlight:function(f){this.getStyle();if(!Ext.Object.isEmpty(f)){this.addItemHighlight()}},updateHighlightCfg:function(f){if(!Ext.Object.equals(f,this.defaultConfig.highlightCfg)){this.addItemHighlight()}},applyItemInstancing:function(k,g){return Ext.merge(g||{},k)},setAttributesForItem:function(m,l){var n=m&&m.sprite,o;if(n){if(n.itemsMarker&&m.category==="items"){n.putMarker(m.category,l,m.index,false,true)}if(n.isMarkerHolder&&m.category==="markers"){n.putMarker(m.category,l,m.index,false,true)}else{if(n.isInstancing){n.setAttributesFor(m.index,l)}else{if(Ext.isArray(n)){for(o=0;o<n.length;o++){n[o].setAttributes(l)}}else{n.setAttributes(l)}}}}},getBBoxForItem:function(f){if(f&&f.sprite){if(f.sprite.itemsMarker&&f.category==="items"){return f.sprite.getMarkerBBox(f.category,f.index)}else{if(f.sprite instanceof Ext.draw.sprite.Instancing){return f.sprite.getBBoxFor(f.index)}else{return f.sprite.getBBox()}}}return null},applyHighlightItem:function(l,o){if(l===o){return}if(Ext.isObject(l)&&Ext.isObject(o)){var m=l.sprite===o.sprite,n=l.index===o.index;if(m&&n){return}}return l},updateHighlightItem:function(g,k){this.setAttributesForItem(k,{highlighted:false});this.setAttributesForItem(g,{highlighted:true})},constructor:function(m){var l=this,k;m=m||{};if(m.tips){m=Ext.apply({tooltip:m.tips},m)}if(m.highlightCfg){m=Ext.apply({highlight:m.highlightCfg},m)}if("id" in m){k=m.id}else{if("id" in l.config){k=l.config.id}else{k=l.getId()}}l.setId(k);l.sprites=[];l.dataRange=[];l.mixins.observable.constructor.call(l,m);l.initBindable()},lookupViewModel:function(k){var g=this.getChart();return g?g.lookupViewModel(k):null},applyTooltip:function(k,l){var m=Ext.apply({xtype:"tooltip",renderer:Ext.emptyFn,constrainPosition:true,shrinkWrapDock:true,autoHide:true,mouseOffset:[20,20]},k);return Ext.create(m)},updateTooltip:function(){this.addItemHighlight()},addItemHighlight:function(){var n=this.getChart();if(!n){return}var m=n.getInteractions(),o,q,p;for(o=0;o<m.length;o++){q=m[o];if(q.isItemHighlight||q.isItemEdit){p=true;break}}if(!p){m.push("itemhighlight");n.setInteractions(m)}},showTooltip:function(m,n){var o=this,l=o.getTooltip();if(!l){return}clearTimeout(o.tooltipTimeout);l.pointerEvent=n;l.currentTarget.attach((m.sprite.length?m.sprite[0]:m.sprite).getSurface().el.dom);Ext.callback(l.renderer,l.scope,[l,m.record,m],0,o);if(l.isVisible()){l.handleAfterShow()}else{l.show()}},hideTooltip:function(l){var m=this,k=m.getTooltip();if(!k){return}clearTimeout(m.tooltipTimeout);m.tooltipTimeout=Ext.defer(function(){k.hide()},1)},applyStore:function(f){return f&&Ext.StoreManager.lookup(f)},getStore:function(){return this._store||this.getChart()&&this.getChart().getStore()},updateStore:function(y,z){var s=this,t=s.getChart(),x=t&&t.getStore(),u,q,v,w;z=z||x;if(z&&z!==y){z.un({datachanged:"onDataChanged",update:"onDataChanged",scope:s})}if(y){y.on({datachanged:"onDataChanged",update:"onDataChanged",scope:s});u=s.getSprites();for(w=0,v=u.length;w<v;w++){q=u[w];if(q.setStore){q.setStore(y)}}s.onDataChanged()}s.fireEvent("storechange",s,y,z)},onStoreChange:function(l,m,k){if(!this._store){this.updateStore(m,k)}},coordinate:function(K,M,D){var N=this,J=N.getStore(),A=N.getHidden(),y=J.getData().items,G=N["get"+K+"Axis"](),C={min:Infinity,max:-Infinity},I=N["fieldCategory"+K]||[K],B=N.getFields(I),E,L,F,H={},z=N.getSprites();if(z.length>0){if(!Ext.isBoolean(A)||!A){for(E=0;E<I.length;E++){L=B[E];F=N.coordinateData(y,L,G);N.getRangeOfData(F,C);H["data"+I[E]]=F}}N.dataRange[M]=C.min;N.dataRange[M+D]=C.max;H["dataMin"+K]=C.min;H["dataMax"+K]=C.max;if(G){G.range=null;H["range"+K]=G.getRange()}for(E=0;E<z.length;E++){z[E].setAttributes(H)}}},coordinateData:function(u,w,s){var x=[],p=u.length,q=s&&s.getLayout(),t,v;for(t=0;t<p;t++){v=u[t].data[w];if(!Ext.isEmpty(v,true)){if(q){x[t]=q.getCoordFor(v,w,t,u)}else{x[t]=+v}}else{x[t]=v}}return x},getRangeOfData:function(v,t){var p=v.length,q=t.min,u=t.max,s,o;for(s=0;s<p;s++){o=v[s];if(o<q){q=o}if(o>u){u=o}}t.min=q;t.max=u},updateLabelData:function(){var w=this,u=w.getStore(),x=u.getData().items,y=w.getSprites(),D=w.getLabel().getTemplate(),E=Ext.Array.from(D.getField()),B,C,z,A,F,v;if(!y.length||!E.length){return}for(B=0;B<y.length;B++){A=[];F=y[B];v=F.getField();if(Ext.Array.indexOf(E,v)<0){v=E[B]}for(C=0,z=x.length;C<z;C++){A.push(x[C].get(v))}F.setAttributes({labels:A})}},processData:function(){var p=this;if(p.isProcessingData||!p.getStore()){return}var n=this.directions,t,q=n.length,o,s;p.isProcessingData=true;for(t=0;t<q;t++){o=n[t];s=p["get"+o+"Axis"]();if(s){s.processData(p);continue}if(p["coordinate"+o]){p["coordinate"+o]()}}p.updateLabelData();p.isProcessingData=false},applyBackground:function(f){if(this.getChart()){this.getSurface().setBackground(f);return this.getSurface().getBackground()}else{return f}},updateChart:function(l,o){var m=this,n=m._store;if(o){o.un("axeschange","onAxesChange",m);m.clearSprites();m.setSurface(null);m.setOverlaySurface(null);o.unregister(m);m.onChartDetached(o);if(!n){m.updateStore(null)}}if(l){m.setSurface(l.getSurface("series"));m.setOverlaySurface(l.getSurface("overlay"));l.on("axeschange","onAxesChange",m);if(l.getAxes()){m.onAxesChange(l)}m.onChartAttached(l);l.register(m);if(!n){m.updateStore(l.getStore())}}},onAxesChange:function(v){var t=this,w=v.getAxes(),A,C={},B={},y=false,u=this.directions,D,z,x;for(z=0,x=u.length;z<x;z++){D=u[z];B[D]=t.getFields(t["fieldCategory"+D])}for(z=0,x=w.length;z<x;z++){A=w[z];if(!C[A.getDirection()]){C[A.getDirection()]=[A]}else{C[A.getDirection()].push(A)}}for(z=0,x=u.length;z<x;z++){D=u[z];if(t["get"+D+"Axis"]()){continue}if(C[D]){A=t.findMatchingAxis(C[D],B[D]);if(A){t["set"+D+"Axis"](A);if(A.getNeedHighPrecision()){y=true}}}}this.getSurface().setHighPrecision(y)},findMatchingAxis:function(n,o){var p,q,s,t;for(s=0;s<n.length;s++){p=n[s];q=p.getFields();if(!q.length){return p}else{if(o){for(t=0;t<o.length;t++){if(Ext.Array.indexOf(q,o[t])>=0){return p}}}}}},onChartDetached:function(k){var g=this;g.fireEvent("chartdetached",k,g);k.un("storechange","onStoreChange",g)},onChartAttached:function(k){var g=this;g.setBackground(g.getBackground());g.fireEvent("chartattached",k,g);k.on("storechange","onStoreChange",g);g.processData()},updateOverlaySurface:function(k){var g=this;if(k){if(g.getLabel()){g.getOverlaySurface().add(g.getLabel())}}},applyLabel:function(o,l){var m,n;if(!l){l=new Ext.chart.Markers({zIndex:10});l.setTemplate(new Ext.chart.sprite.Label(o))}else{m=l.getTemplate();m.setAttributes(o);if(o){if(o.field){m.setField(o.field);this.updateLabelData()}if(o.display){l.setAttributes({hidden:o.display==="none"})}}l.setDirty(true);this.updateLabel()}return l},updateLabel:function(){var f=this.getChart();if(f&&!f.isInitializing){f.redraw()}},createItemInstancingSprite:function(q,s){var o=this,n=new Ext.chart.Markers(),t,p;n.setAttributes({zIndex:Number.MAX_VALUE});t=Ext.apply({},s);if(o.getHighlight()){t.highlight=o.getHighlight();t.modifiers=["highlight"]}n.setTemplate(t);p=n.getTemplate();p.setAttributes(o.getStyle());p.fx.on("animationstart","onSpriteAnimationStart",this);p.fx.on("animationend","onSpriteAnimationEnd",this);q.bindMarker("items",n);o.getSurface().add(n);return n},getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer()}},updateRenderer:function(m){var n=this,o=n.getChart(),l;if(o&&o.isInitializing){return}l=n.getSprites();if(l.length){l[0].setAttributes({renderer:m||null});if(o&&!o.isInitializing){o.redraw()}}},updateShowMarkers:function(o){var l=this.getSprites(),n=l&&l[0],m=n&&n.getMarker("markers");if(m){m.getTemplate().setAttributes({hidden:!o})}},createSprite:function(){var o=this,u=o.getSurface(),p=o.getItemInstancing(),q=u.add(o.getDefaultSpriteConfig()),t=o.getMarker(),v,s;q.setAttributes(o.getStyle());q.setSeries(o);if(p){q.itemsMarker=o.createItemInstancingSprite(q,p)}if(q.bindMarker){if(t){v=new Ext.chart.Markers();s=Ext.Object.merge({},t);if(o.getHighlight()){s.highlight=o.getHighlight();s.modifiers=["highlight"]}v.setTemplate(s);v.getTemplate().fx.setCustomDurations({translationX:0,translationY:0});q.dataMarker=v;q.bindMarker("markers",v);o.getOverlaySurface().add(v)}if(o.getLabel().getTemplate().getField()){q.bindMarker("labels",o.getLabel())}}if(q.setStore){q.setStore(o.getStore())}q.fx.on("animationstart","onSpriteAnimationStart",o);q.fx.on("animationend","onSpriteAnimationEnd",o);o.sprites.push(q);return q},getSprites:Ext.emptyFn,onDataChanged:function(){var l=this,m=l.getChart(),n=m&&m.getStore(),o=l.getStore();if(o!==n){l.processData()}},isXType:function(f){return f==="series"},getItemId:function(){return this.getId()},applyThemeStyle:function(m,q){var p=this,n,o;n=m&&m.subStyle&&m.subStyle.fillStyle;o=n&&m.subStyle.strokeStyle;if(n&&!o){m.subStyle.strokeStyle=p.getStrokeColorsFromFillColors(n)}n=m&&m.markerSubStyle&&m.markerSubStyle.fillStyle;o=n&&m.markerSubStyle.strokeStyle;if(n&&!o){m.markerSubStyle.strokeStyle=p.getStrokeColorsFromFillColors(n)}return Ext.apply(q||{},m)},applyStyle:function(k,l){var m=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+this.seriesType));if(m&&m.def){k=m.def.normalize(k)}return Ext.apply({},k,l)},applySubStyle:function(l,k){var m=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+this.seriesType));if(m&&m.def){l=m.def.batchedNormalize(l,true)}return Ext.merge({},k,l)},applyMarker:function(m,o){var l=(m&&m.type)||(o&&o.type)||"circle",n=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+l));if(n&&n.def){m=n.def.normalize(Ext.isObject(m)?m:{},true);m.type=l}return Ext.merge(o||{},m)},applyMarkerSubStyle:function(m,o){var l=(m&&m.type)||(o&&o.type)||"circle",n=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+l));if(n&&n.def){m=n.def.batchedNormalize(m,true)}return Ext.merge(o||{},m)},updateHidden:function(g){var k=this;k.getColors();k.getSubStyle();k.setSubStyle({hidden:g});k.processData();k.doUpdateStyles();if(!Ext.isArray(g)){k.updateLegendStore(g)}},updateLegendStore:function(o,t){var p=this,q=p.getChart(),s=q.getLegendStore(),v=p.getId(),u;if(s){if(arguments.length>1){u=s.findBy(function(e){return e.get("series")===v&&e.get("index")===t});if(u!==-1){u=s.getAt(u)}}else{u=s.findRecord("series",v)}if(u&&u.get("disabled")!==o){u.set("disabled",o)}}},setHiddenByIndex:function(m,k){var l=this;if(Ext.isArray(l.getHidden())){l.getHidden()[m]=k;l.updateHidden(l.getHidden());l.updateLegendStore(k,m)}else{l.setHidden(k)}},getStrokeColorsFromFillColors:function(q){var o=this,m=o.getUseDarkerStrokeColor(),p=(Ext.isNumber(m)?m:o.darkerStrokeRatio),n;if(m){n=Ext.Array.map(q,function(e){e=Ext.isString(e)?e:e.stops[0].color;e=Ext.util.Color.fromString(e);return e.createDarker(p).toString()})}else{n=Ext.Array.clone(q)}return n},updateThemeColors:function(s){var q=this,p=q.getThemeStyle(),t=Ext.Array.clone(s),n=q.getStrokeColorsFromFillColors(s),o={fillStyle:t,strokeStyle:n};p.subStyle=Ext.apply(p.subStyle||{},o);p.markerSubStyle=Ext.apply(p.markerSubStyle||{},o);q.doUpdateStyles()},themeOnlyIfConfigured:{},updateTheme:function(D){var z=this,G=D.getSeries(),I=z.getInitialConfig(),E=z.defaultConfig,B=z.self.getConfigurator().configs,x=G.defaults,L=G[z.type],A=z.themeOnlyIfConfigured,K,y,H,F,J,C;G=Ext.merge({},x,L);for(K in G){y=G[K];C=B[K];if(y!==null&&y!==undefined&&C){J=I[K];H=Ext.isObject(y);F=J===E[K];if(H){if(F&&A[K]){continue}y=Ext.merge({},y,J)}if(F||H){z[C.names.set](y)}}}},updateChartColors:function(k){var g=this;if(!g.getColors()){g.updateThemeColors(k)}},updateColors:function(f){this.updateThemeColors(f)},updateStyle:function(){this.doUpdateStyles()},updateSubStyle:function(){this.doUpdateStyles()},updateThemeStyle:function(){this.doUpdateStyles()},doUpdateStyles:function(){var x=this,w=x.sprites,s=x.getItemInstancing(),t=0,p=w&&w.length,v=x.getConfig("showMarkers",true),u=x.getMarker(),q;for(;t<p;t++){q=x.getStyleByIndex(t);if(s){w[t].itemsMarker.getTemplate().setAttributes(q)}w[t].setAttributes(q);if(u&&w[t].dataMarker){w[t].dataMarker.getTemplate().setAttributes(x.getMarkerStyleByIndex(t))}}},getStyleWithTheme:function(){var n=this,m=n.getThemeStyle(),l=(m&&m.style)||{},o=Ext.applyIf(Ext.apply({},n.getStyle()),l);return o},getSubStyleWithTheme:function(){var m=this,l=m.getThemeStyle(),o=(l&&l.subStyle)||{},n=Ext.applyIf(Ext.apply({},m.getSubStyle()),o);return n},getStyleByIndex:function(u){var q=this,w=q.getThemeStyle(),s,x,t,p,v={};s=q.getStyle();x=(w&&w.style)||{};t=q.styleDataForIndex(q.getSubStyle(),u);p=q.styleDataForIndex((w&&w.subStyle),u);Ext.apply(v,x);Ext.apply(v,p);Ext.apply(v,s);Ext.apply(v,t);return v},getMarkerStyleByIndex:function(A){var x=this,B=x.getThemeStyle(),D,z,u,v,C,F,w,y,E={};D=x.getStyle();z=(B&&B.style)||{};u=x.styleDataForIndex(x.getSubStyle(),A);if(u.hasOwnProperty("hidden")){u.hidden=u.hidden||!this.getConfig("showMarkers",true)}v=x.styleDataForIndex((B&&B.subStyle),A);C=x.getMarker();F=(B&&B.marker)||{};w=x.getMarkerSubStyle();y=x.styleDataForIndex((B&&B.markerSubStyle),A);Ext.apply(E,z);Ext.apply(E,v);Ext.apply(E,F);Ext.apply(E,y);Ext.apply(E,D);Ext.apply(E,u);Ext.apply(E,C);Ext.apply(E,w);return E},styleDataForIndex:function(n,o){var m,p,q={};if(n){for(p in n){m=n[p];if(Ext.isArray(m)){q[p]=m[o%m.length]}else{q[p]=m}}}return q},getItemForPoint:Ext.emptyFn,getItemByIndex:function(t,o){var p=this,n=p.getSprites(),s=n&&n[0],q;if(!s){return}if(o===undefined&&s.isMarkerHolder){o=p.getItemInstancing()?"items":"markers"}else{if(!o||o===""||o==="sprites"){s=n[t]}}if(s){q={series:p,category:o,index:t,record:p.getStore().getData().items[t],field:p.getYField(),sprite:s};return q}},onSpriteAnimationStart:function(f){this.fireEvent("animationstart",this,f)},onSpriteAnimationEnd:function(f){this.fireEvent("animationend",this,f)},resolveListenerScope:function(m){var n=this,q=Ext._namedScopes[m],o=n.getChart(),p;if(!q){p=o?o.resolveListenerScope(m,false):(m||n)}else{if(q.isThis){p=n}else{if(q.isController){p=o?o.resolveListenerScope(m,false):n}else{if(q.isSelf){p=o?o.resolveListenerScope(m,false):n;if(p===o&&!o.getInheritedConfig("defaultListenerScope")){p=n}}}}}return p},provideLegendInfo:function(f){f.push({name:this.getTitle()||this.getId(),mark:"black",disabled:this.getHidden(),series:this.getId(),index:0})},clearSprites:function(){var l=this.sprites,n,o,m;for(o=0,m=l.length;o<m;o++){n=l[o];if(n&&n.isSprite){n.destroy()}}this.sprites=[]},destroy:function(){var l=this,m=l._store,k=l.getConfig("tooltip",true);if(m&&m.getAutoDestroy()){Ext.destroy(m)}l.setChart(null);l.clearListeners();if(k){Ext.destroy(k);clearTimeout(l.tooltipTimeout)}l.callParent()}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable]],[Ext.chart.series,"Series"],0));(Ext.cmd.derive("Ext.chart.interactions.Abstract",Ext.Base,{config:{gestures:{tap:"onGesture"},chart:null,enabled:true},throttleGap:0,stopAnimationBeforeSync:false,constructor:function(m){var l=this,k;m=m||{};if("id" in m){k=m.id}else{if("id" in l.config){k=l.config.id}else{k=l.getId()}}l.setId(k);l.mixins.observable.constructor.call(l,m)},updateChart:function(k,m){var l=this;if(m===k){return}if(m){m.unregister(l);l.removeChartListener(m)}if(k){k.register(l);l.addChartListener()}},updateEnabled:function(m){var k=this,l=k.getChart();if(l){if(m){k.addChartListener()}else{k.removeChartListener(l)}}},onGesture:Ext.emptyFn,getItemForEvent:function(e){var n=this,o=n.getChart(),m=o.getEventXY(e);return o.getItemForPoint(m[0],m[1])},getItemsForEvent:function(e){var n=this,o=n.getChart(),m=o.getEventXY(e);return o.getItemsForPoint(m[0],m[1])},addChartListener:function(){var o=this,p=o.getChart(),m=o.getGestures(),q;if(!o.getEnabled()){return}function n(e,f){p.addElementListener(e,o.listeners[e]=function(g){var k=o.getLocks(),l;if(o.getEnabled()&&(!(e in k)||k[e]===o)){l=(Ext.isFunction(f)?f:o[f]).apply(this,arguments);if(l===false&&g&&g.stopPropagation){g.stopPropagation()}return l}},o)}o.listeners=o.listeners||{};for(q in m){n(q,m[q])}},removeChartListener:function(o){var n=this,m=n.getGestures(),p;function q(e){var f=n.listeners[e];if(f){o.removeElementListener(e,f);delete n.listeners[e]}}if(n.listeners){for(p in m){q(p)}}},lockEvents:function(){var l=this,m=l.getLocks(),o=Array.prototype.slice.call(arguments),n=o.length;while(n--){m[o[n]]=l}},unlockEvents:function(){var k=this.getLocks(),m=Array.prototype.slice.call(arguments),l=m.length;while(l--){delete k[m[l]]}},getLocks:function(){var f=this.getChart();return f.lockedEvents||(f.lockedEvents={})},doSync:function(){var g=this,k=g.getChart();if(g.syncTimer){clearTimeout(g.syncTimer);g.syncTimer=null}if(g.stopAnimationBeforeSync){k.animationSuspendCount++}k.redraw();if(g.stopAnimationBeforeSync){k.animationSuspendCount--}g.syncThrottle=Date.now()+g.throttleGap},sync:function(){var f=this;if(f.throttleGap&&Ext.frameStartTime<f.syncThrottle){if(f.syncTimer){return}f.syncTimer=Ext.defer(function(){f.doSync()},f.throttleGap)}else{f.doSync()}},getItemId:function(){return this.getId()},isXType:function(f){return f==="interaction"},destroy:function(){var f=this;f.setChart(null);delete f.listeners;f.callParent()}},1,["interaction"],["interaction"],{interaction:true},["widget.interaction"],[["observable",Ext.mixin.Observable]],[Ext.chart.interactions,"Abstract"],function(){if(Ext.os.is.Android4){this.prototype.throttleGap=40}}));(Ext.cmd.derive("Ext.chart.MarkerHolder",Ext.Mixin,{mixinConfig:{id:"markerHolder",after:{constructor:"constructor",preRender:"preRender"},before:{destroy:"destroy"}},isMarkerHolder:true,surfaceMatrix:null,inverseSurfaceMatrix:null,deprecated:{6:{methods:{getBoundMarker:{message:"Please use the 'getMarker' method instead.",fn:function(g){var k=this.boundMarkers[g];return k?[k]:k}}}}},constructor:function(){this.boundMarkers={};this.cleanRedraw=false},bindMarker:function(n,o){var m=this,l=m.boundMarkers;if(o&&o.isMarkers){m.releaseMarker(n);l[n]=o;o.on("destroy",m.onMarkerDestroy,m)}},onMarkerDestroy:function(f){this.releaseMarker(f)},releaseMarker:function(m){var k=this.boundMarkers,l;if(m&&m.isMarkers){for(l in k){if(k[l]===m){delete k[l];break}}}else{l=m;m=k[l];delete k[l]}return m||null},getMarker:function(f){return this.boundMarkers[f]||null},preRender:function(z,s,v){var w=this,A=w.getId(),x=w.boundMarkers,t=w.getParent(),B,y,u;if(w.surfaceMatrix){u=w.surfaceMatrix.set(1,0,0,1,0,0)}else{u=w.surfaceMatrix=new Ext.draw.Matrix()}w.cleanRedraw=!w.attr.dirty;if(!w.cleanRedraw){for(B in x){y=x[B];if(y){y.clear(A)}}}while(t&&t.attr&&t.attr.matrix){u.prependMatrix(t.attr.matrix);t=t.getParent()}u.prependMatrix(t.matrix);w.surfaceMatrix=u;w.inverseSurfaceMatrix=u.inverse(w.inverseSurfaceMatrix)},putMarker:function(q,u,s,v,p){var t=this.boundMarkers[q],o=this.getId();if(t){t.putMarkerFor(o,u,s,v,p)}},getMarkerBBox:function(o,p,n){var q=this.boundMarkers[o],m=this.getId();if(q){return q.getMarkerBBoxFor(m,p,n)}},destroy:function(){var k=this.boundMarkers,l,m;for(l in k){m=k[l];m.destroy()}}},1,0,0,0,0,0,[Ext.chart,"MarkerHolder"],0));(Ext.cmd.derive("Ext.chart.axis.sprite.Axis",Ext.draw.sprite.Sprite,{type:"axis",inheritableStatics:{def:{processors:{grid:"bool",axisLine:"bool",minorTicks:"bool",minorTickSize:"number",majorTicks:"bool",majorTickSize:"number",length:"number",startGap:"number",endGap:"number",dataMin:"number",dataMax:"number",visibleMin:"number",visibleMax:"number",position:"enums(left,right,top,bottom,angular,radial,gauge)",minStepSize:"number",estStepSize:"number",titleOffset:"number",textPadding:"number",min:"number",max:"number",centerX:"number",centerY:"number",radius:"number",totalAngle:"number",baseRotation:"number",data:"default",enlargeEstStepSizeByText:"bool"},defaults:{grid:false,axisLine:true,minorTicks:false,minorTickSize:3,majorTicks:true,majorTickSize:5,length:0,startGap:0,endGap:0,visibleMin:0,visibleMax:1,dataMin:0,dataMax:1,position:"",minStepSize:0,estStepSize:20,min:0,max:1,centerX:0,centerY:0,radius:1,baseRotation:0,data:null,titleOffset:0,textPadding:0,scalingCenterY:0,scalingCenterX:0,strokeStyle:"black",enlargeEstStepSizeByText:false},triggers:{minorTickSize:"bbox",majorTickSize:"bbox",position:"bbox,layout",axisLine:"bbox,layout",minorTicks:"layout",min:"layout",max:"layout",length:"layout",minStepSize:"layout",estStepSize:"layout",data:"layout",dataMin:"layout",dataMax:"layout",visibleMin:"layout",visibleMax:"layout",enlargeEstStepSizeByText:"layout"},updaters:{layout:"layoutUpdater"}}},config:{label:null,labelOffset:10,layout:null,segmenter:null,renderer:null,layoutContext:null,axis:null},thickness:0,stepSize:0,getBBox:function(){return null},defaultRenderer:function(f){return this.segmenter.renderer(f,this)},layoutUpdater:function(){var s=this,u=s.getAxis().getChart();if(u.isInitializing){return}var v=s.attr,w=s.getLayout(),t=u.getInherited().rtl,y=v.dataMin+(v.dataMax-v.dataMin)*v.visibleMin,q=v.dataMin+(v.dataMax-v.dataMin)*v.visibleMax,x=v.position,z={attr:v,segmenter:s.getSegmenter(),renderer:s.defaultRenderer};if(x==="left"||x==="right"){v.translationX=0;v.translationY=q*v.length/(q-y);v.scalingX=1;v.scalingY=-v.length/(q-y);v.scalingCenterY=0;v.scalingCenterX=0;s.applyTransformations(true)}else{if(x==="top"||x==="bottom"){if(t){v.translationX=v.length+y*v.length/(q-y)+1}else{v.translationX=-y*v.length/(q-y)}v.translationY=0;v.scalingX=(t?-1:1)*v.length/(q-y);v.scalingY=1;v.scalingCenterY=0;v.scalingCenterX=0;s.applyTransformations(true)}}if(w){w.calculateLayout(z);s.setLayoutContext(z)}},iterate:function(z,v){var B,x,D,C,w,A,u=Ext.Array.some,E=Math.abs,y;if(z.getLabel){if(z.min<z.from){v.call(this,z.min,z.getLabel(z.min),-1,z)}for(B=0;B<=z.steps;B++){v.call(this,z.get(B),z.getLabel(B),B,z)}if(z.max>z.to){v.call(this,z.max,z.getLabel(z.max),z.steps+1,z)}}else{C=this.getAxis();w=C.floatingAxes;A=[];y=(z.to-z.from)/(z.steps+1);if(C.getFloating()){for(D in w){A.push(w[D])}}function F(e){return !A.length||u(A,function(f){return E(f-e)>y})}if(z.min<z.from&&F(z.min)){v.call(this,z.min,z.min,-1,z)}for(B=0;B<=z.steps;B++){x=z.get(B);if(F(x)){v.call(this,x,x,B,z)}}if(z.max>z.to&&F(z.max)){v.call(this,z.max,z.max,z.steps+1,z)}}},renderTicks:function(K,J,Q,G){var M=this,L=M.attr,N=L.position,I=L.matrix,V=0.5*L.lineWidth,U=I.getXX(),R=I.getDX(),P=I.getYY(),S=I.getDY(),H=Q.majorTicks,W=L.majorTickSize,Z=Q.minorTicks,E=L.minorTickSize;if(H){switch(N){case"right":function F(e){return function(k,f,g){k=K.roundPixel(k*P+S)+V;J.moveTo(0,k);J.lineTo(e,k)}}M.iterate(H,F(W));Z&&M.iterate(Z,F(E));break;case"left":function O(e){return function(k,f,g){k=K.roundPixel(k*P+S)+V;J.moveTo(G[2]-e,k);J.lineTo(G[2],k)}}M.iterate(H,O(W));Z&&M.iterate(Z,O(E));break;case"bottom":function X(e){return function(k,f,g){k=K.roundPixel(k*U+R)-V;J.moveTo(k,0);J.lineTo(k,e)}}M.iterate(H,X(W));Z&&M.iterate(Z,X(E));break;case"top":function Y(e){return function(k,f,g){k=K.roundPixel(k*U+R)-V;J.moveTo(k,G[3]);J.lineTo(k,G[3]-e)}}M.iterate(H,Y(W));Z&&M.iterate(Z,Y(E));break;case"angular":M.iterate(H,function(g,e,f){g=g/(L.max+1)*Math.PI*2+L.baseRotation;J.moveTo(L.centerX+(L.length)*Math.cos(g),L.centerY+(L.length)*Math.sin(g));J.lineTo(L.centerX+(L.length+W)*Math.cos(g),L.centerY+(L.length+W)*Math.sin(g))});break;case"gauge":var T=M.getGaugeAngles();M.iterate(H,function(g,e,f){g=(g-L.min)/(L.max-L.min+1)*L.totalAngle-L.totalAngle+T.start;J.moveTo(L.centerX+(L.length)*Math.cos(g),L.centerY+(L.length)*Math.sin(g));J.lineTo(L.centerX+(L.length+W)*Math.cos(g),L.centerY+(L.length+W)*Math.sin(g))});break}}},renderLabels:function(Z,an,aa,T){var ap=this,au=ap.attr,aw=0.5*au.lineWidth,aj=au.position,af=au.matrix,ad=au.textPadding,ag=af.getXX(),aB=af.getDX(),ay=af.getYY(),aC=af.getDY(),aq=0,V=aa.majorTicks,X=Math.max(au.majorTickSize,au.minorTickSize)+au.lineWidth,az=Ext.draw.Draw.isBBoxIntersect,Y=ap.getLabel(),U,al=ap.getLabelOffset(),am=null,ah=0,aD=0,ar=aa.segmenter,ac=ap.getRenderer(),ak=ap.getAxis(),ae=ak.getTitle(),aE=ae&&ae.attr.text!==""&&ae.getBBox(),at,ax=null,ao,ab,ai,aA,W,av;if(V&&Y&&!Y.attr.hidden){U=Y.attr.font;if(an.font!==U){an.font=U}Y.setAttributes({translationX:0,translationY:0},true);Y.applyTransformations();at=Y.attr.inverseMatrix.elements.slice(0);switch(aj){case"left":aA=aE?aE.x+aE.width:0;switch(Y.attr.textAlign){case"start":W=Z.roundPixel(aA+aB)-aw;break;case"end":W=Z.roundPixel(T[2]-X+aB)-aw;break;default:W=Z.roundPixel(aA+(T[2]-aA-X)/2+aB)-aw}Y.setAttributes({translationX:W},true);break;case"right":aA=aE?T[2]-aE.x:0;switch(Y.attr.textAlign){case"start":W=Z.roundPixel(X+aB)+aw;break;case"end":W=Z.roundPixel(T[2]-aA+aB)+aw;break;default:W=Z.roundPixel(X+(T[2]-X-aA)/2+aB)+aw}Y.setAttributes({translationX:W},true);break;case"top":aA=aE?aE.y+aE.height:0;Y.setAttributes({translationY:Z.roundPixel(aA+(T[3]-aA-X)/2)-aw},true);break;case"bottom":aA=aE?T[3]-aE.y:0;Y.setAttributes({translationY:Z.roundPixel(X+(T[3]-X-aA)/2)+aw},true);break;case"radial":Y.setAttributes({translationX:au.centerX},true);break;case"angular":Y.setAttributes({translationY:au.centerY},true);break;case"gauge":Y.setAttributes({translationY:au.centerY},true);break}if(aj==="left"||aj==="right"){ap.iterate(V,function(g,e,f){if(e===undefined){return}if(ac){ai=Ext.callback(ac,null,[ak,e,aa,am],0,ak)}else{ai=ar.renderer(e,aa,am)}am=e;Y.setAttributes({text:String(ai),translationY:Z.roundPixel(g*ay+aC)},true);Y.applyTransformations();aq=Math.max(aq,Y.getBBox().width+X);if(aq<=ap.thickness){ab=Ext.draw.Matrix.fly(Y.attr.matrix.elements.slice(0));ao=ab.prepend.apply(ab,at).transformBBox(Y.getBBox(true));if(ax&&!az(ao,ax,ad)){return}Z.renderSprite(Y);ax=ao;ah+=ao.height;aD++}})}else{if(aj==="top"||aj==="bottom"){ap.iterate(V,function(g,e,f){if(e===undefined){return}if(ac){ai=Ext.callback(ac,null,[ak,e,aa,am],0,ak)}else{ai=ar.renderer(e,aa,am)}am=e;Y.setAttributes({text:String(ai),translationX:Z.roundPixel(g*ag+aB)},true);Y.applyTransformations();aq=Math.max(aq,Y.getBBox().height+X);if(aq<=ap.thickness){ab=Ext.draw.Matrix.fly(Y.attr.matrix.elements.slice(0));ao=ab.prepend.apply(ab,at).transformBBox(Y.getBBox(true));if(ax&&!az(ao,ax,ad)){return}Z.renderSprite(Y);ax=ao;ah+=ao.width;aD++}})}else{if(aj==="radial"){ap.iterate(V,function(g,e,f){if(e===undefined){return}if(ac){ai=Ext.callback(ac,null,[ak,e,aa,am],0,ak)}else{ai=ar.renderer(e,aa,am)}am=e;if(typeof ai!=="undefined"){Y.setAttributes({text:String(ai),translationX:au.centerX-Z.roundPixel(g)/au.max*au.length*Math.cos(au.baseRotation+Math.PI/2),translationY:au.centerY-Z.roundPixel(g)/au.max*au.length*Math.sin(au.baseRotation+Math.PI/2)},true);Y.applyTransformations();ao=Y.attr.matrix.transformBBox(Y.getBBox(true));if(ax&&!az(ao,ax)){return}Z.renderSprite(Y);ax=ao;ah+=ao.width;aD++}})}else{if(aj==="angular"){al+=au.majorTickSize+au.lineWidth*0.5;ap.iterate(V,function(k,f,g){if(f===undefined){return}if(ac){ai=Ext.callback(ac,null,[ak,f,aa,am],0,ak)}else{ai=ar.renderer(f,aa,am)}am=f;aq=Math.max(aq,Math.max(au.majorTickSize,au.minorTickSize)+(au.lineCap!=="butt"?au.lineWidth*0.5:0));if(typeof ai!=="undefined"){var e=k/(au.max+1)*Math.PI*2+au.baseRotation;Y.setAttributes({text:String(ai),translationX:au.centerX+(au.length+al)*Math.cos(e),translationY:au.centerY+(au.length+al)*Math.sin(e)},true);Y.applyTransformations();ao=Y.attr.matrix.transformBBox(Y.getBBox(true));if(ax&&!az(ao,ax)){return}Z.renderSprite(Y);ax=ao;ah+=ao.width;aD++}})}else{if(aj==="gauge"){av=ap.getGaugeAngles();al+=au.majorTickSize+au.lineWidth*0.5;ap.iterate(V,function(k,f,g){if(f===undefined){return}if(ac){ai=Ext.callback(ac,null,[ak,f,aa,am],0,ak)}else{ai=ar.renderer(f,aa,am)}am=f;if(typeof ai!=="undefined"){var e=(k-au.min)/(au.max-au.min+1)*au.totalAngle-au.totalAngle+av.start;Y.setAttributes({text:String(ai),translationX:au.centerX+(au.length+al)*Math.cos(e),translationY:au.centerY+(au.length+al)*Math.sin(e)},true);Y.applyTransformations();ao=Y.attr.matrix.transformBBox(Y.getBBox(true));if(ax&&!az(ao,ax)){return}Z.renderSprite(Y);ax=ao;ah+=ao.width;aD++}})}}}}}if(au.enlargeEstStepSizeByText&&aD){ah/=aD;ah+=X;ah*=2;if(au.estStepSize<ah){au.estStepSize=ah}}if(Math.abs(ap.thickness-(aq))>1){ap.thickness=aq;au.bbox.plain.dirty=true;au.bbox.transform.dirty=true;ap.doThicknessChanged();return false}}},renderAxisLine:function(B,t,x,z){var u=this,v=u.attr,A=v.lineWidth*0.5,s=v.position,y,w;if(v.axisLine&&v.length){switch(s){case"left":y=B.roundPixel(z[2])-A;t.moveTo(y,-v.endGap);t.lineTo(y,v.length+v.startGap+1);break;case"right":t.moveTo(A,-v.endGap);t.lineTo(A,v.length+v.startGap+1);break;case"bottom":t.moveTo(-v.startGap,A);t.lineTo(v.length+v.endGap,A);break;case"top":y=B.roundPixel(z[3])-A;t.moveTo(-v.startGap,y);t.lineTo(v.length+v.endGap,y);break;case"angular":t.moveTo(v.centerX+v.length,v.centerY);t.arc(v.centerX,v.centerY,v.length,0,Math.PI*2,true);break;case"gauge":w=u.getGaugeAngles();t.moveTo(v.centerX+Math.cos(w.start)*v.length,v.centerY+Math.sin(w.start)*v.length);t.arc(v.centerX,v.centerY,v.length,w.start,w.end,true);break}}},getGaugeAngles:function(){var m=this,k=m.attr.totalAngle,l;if(k<=Math.PI){l=(Math.PI-k)*0.5}else{l=-(Math.PI*2-k)*0.5}l=Math.PI*2-l;return{start:l,end:l-k}},renderGridLines:function(I,H,C,D){var N=this,U=N.getAxis(),J=N.attr,F=J.matrix,S=J.startGap,V=J.endGap,T=F.getXX(),L=F.getYY(),O=F.getDX(),P=F.getDY(),K=J.position,Q=U.getGridAlignment(),E=C.majorTicks,R,G,M;if(J.grid){if(E){if(K==="left"||K==="right"){M=J.min*L+P+V+S;N.iterate(E,function(g,e,f){R=g*L+P+V;N.putMarker(Q+"-"+(f%2?"odd":"even"),{y:R,height:M-R},G=f,true);M=R});G++;R=0;N.putMarker(Q+"-"+(G%2?"odd":"even"),{y:R,height:M-R},G,true)}else{if(K==="top"||K==="bottom"){M=J.min*T+O+S;if(S){N.putMarker(Q+"-even",{x:0,width:M},-1,true)}N.iterate(E,function(g,e,f){R=g*T+O+S;N.putMarker(Q+"-"+(f%2?"odd":"even"),{x:R,width:M-R},G=f,true);M=R});G++;R=J.length+J.startGap+J.endGap;N.putMarker(Q+"-"+(G%2?"odd":"even"),{x:R,width:M-R},G,true)}else{if(K==="radial"){N.iterate(E,function(g,e,f){if(!g){return}R=g/J.max*J.length;N.putMarker(Q+"-"+(f%2?"odd":"even"),{scalingX:R,scalingY:R},f,true);M=R})}else{if(K==="angular"){N.iterate(E,function(g,e,f){if(!J.length){return}R=g/(J.max+1)*Math.PI*2+J.baseRotation;N.putMarker(Q+"-"+(f%2?"odd":"even"),{rotationRads:R,rotationCenterX:0,rotationCenterY:0,scalingX:J.length,scalingY:J.length},f,true);M=R})}}}}}}},renderLimits:function(F){var L=this,X=L.getAxis(),Q=X.getChart(),y=Q.getInnerPadding(),U=Ext.Array.from(X.getLimits());if(!U.length){return}var O=X.limits.surface.getRect(),I=L.attr,G=I.matrix,K=I.position,N=Ext.Object.chain,H=X.limits.titles,V,P,W,M,J,x,S,R,T;H.instances=[];H.position=0;if(K==="left"||K==="right"){for(x=0,S=U.length;x<S;x++){M=N(U[x]);!M.line&&(M.line={});J=Ext.isString(M.value)?X.getCoordFor(M.value):M.value;J=J*G.getYY()+G.getDY();M.line.y=J+y.top;M.line.strokeStyle=M.line.strokeStyle||I.strokeStyle;L.putMarker("horizontal-limit-lines",M.line,x,true);if(M.line.title){H.add(M.line.title);V=H.getBBoxFor(H.position-1);P=M.line.title.position||(K==="left"?"start":"end");switch(P){case"start":R=10;break;case"end":R=O[2]-10;break;case"middle":R=O[2]/2;break}H.setAttributesFor(H.position-1,{x:R,y:M.line.y-V.height/2,textAlign:P,fillStyle:M.line.title.fillStyle||M.line.strokeStyle})}}}else{if(K==="top"||K==="bottom"){for(x=0,S=U.length;x<S;x++){M=N(U[x]);!M.line&&(M.line={});J=Ext.isString(M.value)?X.getCoordFor(M.value):M.value;J=J*G.getXX()+G.getDX();M.line.x=J+y.left;M.line.strokeStyle=M.line.strokeStyle||I.strokeStyle;L.putMarker("vertical-limit-lines",M.line,x,true);if(M.line.title){H.add(M.line.title);V=H.getBBoxFor(H.position-1);P=M.line.title.position||(K==="top"?"end":"start");switch(P){case"start":T=O[3]-V.width/2-10;break;case"end":T=V.width/2+10;break;case"middle":T=O[3]/2;break}H.setAttributesFor(H.position-1,{x:M.line.x+V.height/2,y:T,fillStyle:M.line.title.fillStyle||M.line.strokeStyle,rotationRads:Math.PI/2})}}}else{if(K==="radial"){for(x=0,S=U.length;x<S;x++){M=N(U[x]);!M.line&&(M.line={});J=Ext.isString(M.value)?X.getCoordFor(M.value):M.value;if(J>I.max){continue}J=J/I.max*I.length;M.line.cx=I.centerX;M.line.cy=I.centerY;M.line.scalingX=J;M.line.scalingY=J;M.line.strokeStyle=M.line.strokeStyle||I.strokeStyle;L.putMarker("circular-limit-lines",M.line,x,true);if(M.line.title){H.add(M.line.title);V=H.getBBoxFor(H.position-1);H.setAttributesFor(H.position-1,{x:I.centerX,y:I.centerY-J-V.height/2,fillStyle:M.line.title.fillStyle||M.line.strokeStyle})}}}else{if(K==="angular"){for(x=0,S=U.length;x<S;x++){M=N(U[x]);!M.line&&(M.line={});J=Ext.isString(M.value)?X.getCoordFor(M.value):M.value;J=J/(I.max+1)*Math.PI*2+I.baseRotation;M.line.translationX=I.centerX;M.line.translationY=I.centerY;M.line.rotationRads=J;M.line.rotationCenterX=0;M.line.rotationCenterY=0;M.line.scalingX=I.length;M.line.scalingY=I.length;M.line.strokeStyle=M.line.strokeStyle||I.strokeStyle;L.putMarker("radial-limit-lines",M.line,x,true);if(M.line.title){H.add(M.line.title);V=H.getBBoxFor(H.position-1);W=((J>-0.5*Math.PI&&J<0.5*Math.PI)||(J>1.5*Math.PI&&J<2*Math.PI))?1:-1;H.setAttributesFor(H.position-1,{x:I.centerX+0.5*I.length*Math.cos(J)+W*V.height/2*Math.sin(J),y:I.centerY+0.5*I.length*Math.sin(J)-W*V.height/2*Math.cos(J),rotationRads:W===1?J:J-Math.PI,fillStyle:M.line.title.fillStyle||M.line.strokeStyle})}}}else{if(K==="gauge"){}}}}}},doThicknessChanged:function(){var f=this.getAxis();if(f){f.onThicknessChanged()}},render:function(q,o,m){var n=this,p=n.getLayoutContext();if(p){if(false===n.renderLabels(q,o,p,m)){return false}o.beginPath();n.renderTicks(q,o,p,m);n.renderAxisLine(q,o,p,m);n.renderGridLines(q,o,p,m);n.renderLimits(m);o.stroke()}}},0,0,0,0,["sprite.axis"],[["markerHolder",Ext.chart.MarkerHolder]],[Ext.chart.axis.sprite,"Axis"],0));(Ext.cmd.derive("Ext.chart.axis.segmenter.Segmenter",Ext.Base,{config:{axis:null},constructor:function(f){this.initConfig(f)},renderer:function(g,k){return String(g)},from:function(f){return f},diff:Ext.emptyFn,align:Ext.emptyFn,add:Ext.emptyFn,preferredStep:Ext.emptyFn},1,0,0,0,0,0,[Ext.chart.axis.segmenter,"Segmenter"],0));(Ext.cmd.derive("Ext.chart.axis.segmenter.Names",Ext.chart.axis.segmenter.Segmenter,{renderer:function(g,k){return g},diff:function(l,m,k){return Math.floor(m-l)},align:function(k,l,m){return Math.floor(k)},add:function(k,l,m){return k+l},preferredStep:function(m,o,n,l){return{unit:1,step:1}}},0,0,0,0,["segmenter.names"],0,[Ext.chart.axis.segmenter,"Names"],0));(Ext.cmd.derive("Ext.chart.axis.segmenter.Numeric",Ext.chart.axis.segmenter.Segmenter,{isNumeric:true,renderer:function(g,k){return g.toFixed(Math.max(0,k.majorTicks.unit.fixes))},diff:function(l,m,k){return Math.floor((m-l)/k.scale)},align:function(l,m,n){var o=n.scale*m;return Math.floor(l/o)*o},add:function(k,l,m){return k+l*m.scale},preferredStep:function(m,n){var o=Math.floor(Math.log(n)*Math.LOG10E),l=Math.pow(10,o);n/=l;if(n<2){n=2}else{if(n<5){n=5}else{if(n<10){n=10;o++}}}return{unit:{fixes:-o,scale:l},step:n}},leadingZeros:function(f){return -Math.floor(Ext.Number.log10(Math.abs(f)))},exactStep:function(n,o){var m=this.leadingZeros(o),l=Math.pow(10,m);return{unit:{fixes:m+(o%l===0?0:1),scale:o<1?o:1},step:o<1?1:o}},adjustByMajorUnit:function(p,v,s){var q=s[0],t=s[1],u=p*v,o=q%u;if(o!==0){s[0]=q-o+(q<0?-u:0)}o=t%u;if(o!==0){s[1]=t-o+(t>0?u:0)}}},0,0,0,0,["segmenter.numeric"],0,[Ext.chart.axis.segmenter,"Numeric"],0));(Ext.cmd.derive("Ext.chart.axis.segmenter.Time",Ext.chart.axis.segmenter.Segmenter,{config:{step:null},renderer:function(k,l){var m=Ext.Date;switch(l.majorTicks.unit){case"y":return m.format(k,"Y");case"mo":return m.format(k,"Y-m");case"d":return m.format(k,"Y-m-d")}return m.format(k,"Y-m-d\nH:i:s")},from:function(f){return new Date(f)},diff:function(l,m,k){if(isFinite(l)){l=new Date(l)}if(isFinite(m)){m=new Date(m)}return Ext.Date.diff(l,m,k)},updateStep:function(){var f=this.getAxis();if(f&&!this.isConfiguring){f.performLayout()}},align:function(m,k,l){if(l==="d"&&k>=7){m=Ext.Date.align(m,"d",k);m.setDate(m.getDate()-m.getDay()+1);return m}else{return Ext.Date.align(m,l,k)}},add:function(k,l,m){return Ext.Date.add(new Date(k),m,l)},stepUnits:[[Ext.Date.YEAR,1,2,5,10,20,50,100,200,500],[Ext.Date.MONTH,1,3,6],[Ext.Date.DAY,1,7,14],[Ext.Date.HOUR,1,6,12],[Ext.Date.MINUTE,1,5,15,30],[Ext.Date.SECOND,1,5,15,30],[Ext.Date.MILLI,1,2,5,10,20,50,100,200,500]],preferredStep:function(A,x){if(this.getStep()){return this.getStep()}var w=new Date(+A),v=new Date(+A+Math.ceil(x)),y=this.stepUnits,s,t,u,z,B;for(z=0;z<y.length;z++){t=y[z][0];u=this.diff(w,v,t);if(u>0){for(B=1;B<y[z].length;B++){if(u<=y[z][B]){s={unit:t,step:y[z][B]};break}}if(!s){z--;s={unit:y[z][0],step:1}}break}}if(!s){s={unit:Ext.Date.DAY,step:1}}return s}},0,0,0,0,["segmenter.time"],0,[Ext.chart.axis.segmenter,"Time"],0));(Ext.cmd.derive("Ext.chart.axis.layout.Layout",Ext.Base,{config:{axis:null},constructor:function(f){this.mixins.observable.constructor.call(this,f)},processData:function(t){var p=this,s=p.getAxis(),o=s.getDirection(),v=s.boundSeries,u,q;if(t){t["coordinate"+o]()}else{for(u=0,q=v.length;u<q;u++){v[u]["coordinate"+o]()}}},calculateMajorTicks:function(z){var u=this,v=z.attr,w=v.max-v.min,q=w/Math.max(1,v.length)*(v.visibleMax-v.visibleMin),s=v.min+w*v.visibleMin,y=v.min+w*v.visibleMax,t=v.estStepSize*q,x=u.snapEnds(z,v.min,v.max,t);if(x){u.trimByRange(z,x,s,y);z.majorTicks=x}},calculateMinorTicks:function(f){if(this.snapMinorEnds){f.minorTicks=this.snapMinorEnds(f)}},calculateLayout:function(l){var k=this,m=l.attr;if(m.length===0){return null}if(m.majorTicks){k.calculateMajorTicks(l);if(m.minorTicks){k.calculateMinorTicks(l)}}},snapEnds:Ext.emptyFn,trimByRange:function(A,w,t,B){var v=A.segmenter,s=w.unit,u=v.diff(w.from,t,s),y=v.diff(w.from,B,s),z=Math.max(0,Math.ceil(u/w.step)),x=Math.min(w.steps,Math.floor(y/w.step));if(x<w.steps){w.to=v.add(w.from,x*w.step,s)}if(w.max>B){w.max=w.to}if(w.from<t){w.from=v.add(w.from,z*w.step,s);while(w.from<t){z++;w.from=v.add(w.from,w.step,s)}}if(w.min<t){w.min=w.from}w.steps=x-z}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.chart.axis.layout,"Layout"],0));(Ext.cmd.derive("Ext.chart.axis.layout.Discrete",Ext.chart.axis.layout.Layout,{isDiscrete:true,processData:function(){var o=this,q=o.getAxis(),s=q.boundSeries,v=q.getDirection(),t,p,u;o.labels=[];o.labelMap={};for(t=0,p=s.length;t<p;t++){u=s[t];if(u["get"+v+"Axis"]()===q){u["coordinate"+v]()}}q.getSprites()[0].setAttributes({data:o.labels});o.fireEvent("datachange",o.labels)},calculateLayout:function(f){f.data=this.labels;Ext.chart.axis.layout.Layout.prototype.calculateLayout.call(this,f)},calculateMajorTicks:function(q){var p=this,v=q.attr,w=q.data,u=v.max-v.min,x=v.min+u*v.visibleMin,s=v.min+u*v.visibleMax,t;t=p.snapEnds(q,Math.max(0,v.min),Math.min(v.max,w.length-1),1);if(t){p.trimByRange(q,t,x,s);q.majorTicks=t}},snapEnds:function(o,p,t,s){s=Math.ceil(s);var q=Math.floor((t-p)/s),n=o.data;return{min:p,max:t,from:p,to:q*s+p,step:s,steps:q,unit:1,getLabel:function(e){return n[this.from+this.step*e]},get:function(e){return this.from+this.step*e}}},trimByRange:function(y,u,s,z){var q=u.unit,t=Math.ceil((s-u.from)/q)*q,w=Math.floor((z-u.from)/q)*q,x=Math.max(0,Math.ceil(t/u.step)),v=Math.min(u.steps,Math.floor(w/u.step));if(v<u.steps){u.to=v}if(u.max>z){u.max=u.to}if(u.from<s&&u.step>0){u.from=u.from+x*u.step*q;while(u.from<s){x++;u.from+=u.step*q}}if(u.min<s){u.min=u.from}u.steps=v-x},getCoordFor:function(m,l,o,n){this.labels.push(m);return this.labels.length-1}},0,0,0,0,["axisLayout.discrete"],0,[Ext.chart.axis.layout,"Discrete"],0));(Ext.cmd.derive("Ext.chart.axis.layout.CombineDuplicate",Ext.chart.axis.layout.Discrete,{getCoordFor:function(n,m,p,o){if(!(n in this.labelMap)){var q=this.labelMap[n]=this.labels.length;this.labels.push(n);return q}return this.labelMap[n]}},0,0,0,0,["axisLayout.combineDuplicate"],0,[Ext.chart.axis.layout,"CombineDuplicate"],0));(Ext.cmd.derive("Ext.chart.axis.layout.Continuous",Ext.chart.axis.layout.Layout,{isContinuous:true,config:{adjustMinimumByMajorUnit:false,adjustMaximumByMajorUnit:false},getCoordFor:function(m,l,o,n){return +m},snapEnds:function(D,A,v,w){var y=D.segmenter,B=this.getAxis(),E=B.getMajorTickSteps(),z=E&&y.exactStep?y.exactStep(A,(v-A)/E):y.preferredStep(A,w),F=z.unit,C=z.step,u=E?A:y.align(A,C,F),x=(E||y.diff(A,v,F))+1;return{min:y.from(A),max:y.from(v),from:u,to:y.add(u,x*C,F),step:C,steps:x,unit:F,get:function(e){return y.add(this.from,this.step*e,this.unit)}}},snapMinorEnds:function(F){var B=F.majorTicks,H=this.getAxis().getMinorTickSteps(),A=F.segmenter,C=B.min,x=B.max,J=B.from,I=B.unit,E=B.step/H,G=E*I.scale,w=J-C,D=Math.floor(w/G),y=D+Math.floor((x-B.to)/G)+1,z=B.steps*H+y;return{min:C,max:x,from:C+w%G,to:A.add(J,z*E,I),step:E,steps:z,unit:I,get:function(e){return(e%H+D+1!==0)?A.add(this.from,this.step*e,I):null}}}},0,0,0,0,["axisLayout.continuous"],0,[Ext.chart.axis.layout,"Continuous"],0));(Ext.cmd.derive("Ext.chart.axis.Axis",Ext.Base,{isAxis:true,config:{position:"bottom",fields:[],label:undefined,grid:false,limits:null,renderer:null,chart:null,style:null,margin:0,titleMargin:4,background:null,minimum:NaN,maximum:NaN,reconcileRange:false,minZoom:1,maxZoom:10000,layout:"continuous",segmenter:"numeric",hidden:false,majorTickSteps:0,minorTickSteps:0,adjustByMajorUnit:true,title:null,increment:0.5,length:0,center:null,radius:null,totalAngle:Math.PI,rotation:null,labelInSpan:null,visibleRange:[0,1],needHighPrecision:false,linkedTo:null,floating:null},titleOffset:0,spriteAnimationCount:0,prevMin:0,prevMax:1,boundSeries:[],sprites:null,surface:null,range:null,xValues:[],yValues:[],masterAxis:null,applyRotation:function(g){var k=Math.PI*2;return(g%k+Math.PI)%k-Math.PI},updateRotation:function(l){var k=this.getSprites(),m=this.getPosition();if(!this.getHidden()&&m==="angular"&&k[0]){k[0].setAttributes({baseRotation:l})}},applyTitle:function(k,l){var m;if(Ext.isString(k)){k={text:k}}if(!l){l=Ext.create("sprite.text",k);if((m=this.getSurface())){m.add(l)}}else{l.setAttributes(k)}return l},applyFloating:function(g,k){if(g===null){g={value:null,alongAxis:null}}else{if(Ext.isNumber(g)){g={value:g,alongAxis:null}}}if(Ext.isObject(g)){if(k&&k.alongAxis){delete this.getChart().getAxis(k.alongAxis).floatingAxes[this.getId()]}return g}return k},constructor:function(m){var l=this,k;l.sprites=[];l.labels=[];l.floatingAxes={};m=m||{};if(m.position==="angular"){m.style=m.style||{};m.style.estStepSize=1}if("id" in m){k=m.id}else{if("id" in l.config){k=l.config.id}else{k=l.getId()}}l.setId(k);l.mixins.observable.constructor.apply(l,arguments)},getAlignment:function(){switch(this.getPosition()){case"left":case"right":return"vertical";case"top":case"bottom":return"horizontal";case"radial":return"radial";case"angular":return"angular"}},getGridAlignment:function(){switch(this.getPosition()){case"left":case"right":return"horizontal";case"top":case"bottom":return"vertical";case"radial":return"circular";case"angular":return"radial"}},getSurface:function(){var o=this,p=o.getChart();if(p&&!o.surface){var s=o.surface=p.getSurface(o.getId(),"axis"),q=o.gridSurface=p.getSurface("main"),t=o.getSprites()[0],n=o.getGridAlignment();q.waitFor(s);o.getGrid();if(o.getLimits()&&n){n=n.replace("3d","");o.limits={surface:p.getSurface("overlay"),lines:new Ext.chart.Markers(),titles:new Ext.draw.sprite.Instancing()};o.limits.lines.setTemplate({xclass:"grid."+n});o.limits.lines.getTemplate().setAttributes({strokeStyle:"black"},true);o.limits.surface.add(o.limits.lines);t.bindMarker(n+"-limit-lines",o.limits.lines);o.limitTitleTpl=new Ext.draw.sprite.Text();o.limits.titles.setTemplate(o.limitTitleTpl);o.limits.surface.add(o.limits.titles);p.on("redraw",o.renderLimits,o)}}return o.surface},applyGrid:function(f){if(f===true){return{}}return f},updateGrid:function(t){var p=this,q=p.getChart();if(!q){p.on({chartattached:Ext.bind(p.updateGrid,p,[t]),single:true});return}var s=p.gridSurface,u=p.getSprites()[0],o=p.getGridAlignment(),v;if(t){v=p.gridSpriteEven;if(!v){v=p.gridSpriteEven=new Ext.chart.Markers();v.setTemplate({xclass:"grid."+o});s.add(v);u.bindMarker(o+"-even",v)}if(Ext.isObject(t)){v.getTemplate().setAttributes(t);if(Ext.isObject(t.even)){v.getTemplate().setAttributes(t.even)}}v=p.gridSpriteOdd;if(!v){v=p.gridSpriteOdd=new Ext.chart.Markers();v.setTemplate({xclass:"grid."+o});s.add(v);u.bindMarker(o+"-odd",v)}if(Ext.isObject(t)){v.getTemplate().setAttributes(t);if(Ext.isObject(t.odd)){v.getTemplate().setAttributes(t.odd)}}}},updateMinorTickSteps:function(n){var o=this,m=o.getSprites(),p=m&&m[0],q;if(p){p.setAttributes({minorTicks:!!n});q=o.getSurface();if(!o.isConfiguring&&q){q.renderFrame()}}},renderLimits:function(){this.getSprites()[0].renderLimits()},getCoordFor:function(m,l,o,n){return this.getLayout().getCoordFor(m,l,o,n)},applyPosition:function(f){return f.toLowerCase()},applyLength:function(g,k){return g>0?g:k},applyLabel:function(g,k){if(!k){k=new Ext.draw.sprite.Text({})}if(this.limitTitleTpl){this.limitTitleTpl.setAttributes(g)}k.setAttributes(g);return k},applyLayout:function(g,k){g=Ext.factory(g,null,k,"axisLayout");g.setAxis(this);return g},applySegmenter:function(k,g){k=Ext.factory(k,null,g,"segmenter");k.setAxis(this);return k},updateMinimum:function(){this.range=null},updateMaximum:function(){this.range=null},hideLabels:function(){this.getSprites()[0].setDirty(true);this.setLabel({hidden:true})},showLabels:function(){this.getSprites()[0].setDirty(true);this.setLabel({hidden:false})},renderFrame:function(){this.getSurface().renderFrame()},updateChart:function(l,n){var m=this,o;if(n){n.unregister(m);n.un("serieschange",m.onSeriesChange,m);n.un("redraw",m.renderLimits,m);m.linkAxis();m.fireEvent("chartdetached",n,m)}if(l){l.on("serieschange",m.onSeriesChange,m);m.surface=null;o=m.getSurface();m.getLabel().setSurface(o);o.add(m.getSprites());o.add(m.getTitle());l.register(m);m.fireEvent("chartattached",l,m)}},applyBackground:function(k){var g=Ext.ClassManager.getByAlias("sprite.rect");return g.def.normalize(k)},processData:function(){this.getLayout().processData();this.range=null},getDirection:function(){return this.getChart().getDirectionForAxis(this.getPosition())},isSide:function(){var f=this.getPosition();return f==="left"||f==="right"},applyFields:function(f){return Ext.Array.from(f)},applyVisibleRange:function(m,k){this.getChart();if(m[0]>m[1]){var l=m[0];m[0]=m[1];m[0]=l}if(m[1]===m[0]){m[1]+=1/this.getMaxZoom()}if(m[1]>m[0]+1){m[0]=0;m[1]=1}else{if(m[0]<0){m[1]-=m[0];m[0]=0}else{if(m[1]>1){m[0]-=m[1]-1;m[1]=1}}}if(k&&m[0]===k[0]&&m[1]===k[1]){return undefined}return m},updateVisibleRange:function(f){this.fireEvent("visiblerangechange",this,f)},onSeriesChange:function(v){var u=this,y=v.getSeries(),q="get"+u.getDirection()+"Axis",t=[],x,w=y.length,z,s;for(x=0;x<w;x++){if(this===y[x][q]()){t.push(y[x])}}u.boundSeries=t;z=u.getLinkedTo();s=!Ext.isEmpty(z)&&v.getAxis(z);if(s){u.linkAxis(s)}else{u.getLayout().processData()}},linkAxis:function(m){var k=this;function l(e,g,f){f.getLayout()[e]("datachange","onDataChange",g);f[e]("rangechange","onMasterAxisRangeChange",g)}if(k.masterAxis){if(!k.masterAxis.destroyed){l("un",k,k.masterAxis)}k.masterAxis=null}if(m){if(m.type!==this.type){Ext.Error.raise("Linked axes must be of the same type.")}l("on",k,m);k.onDataChange(m.getLayout().labels);k.onMasterAxisRangeChange(m,m.range);k.setStyle(Ext.apply({},k.config.style,m.config.style));k.setTitle(Ext.apply({},k.config.title,m.config.title));k.setLabel(Ext.apply({},k.config.label,m.config.label));k.masterAxis=m}},onDataChange:function(f){this.getLayout().labels=f},onMasterAxisRangeChange:function(g,k){this.range=k},applyRange:function(f){if(!f){return this.dataRange.slice(0)}else{return[f[0]===null?this.dataRange[0]:f[0],f[1]===null?this.dataRange[1]:f[1]]}},getRange:function(){var K=this;if(K.range){return K.range}else{if(K.masterAxis){return K.masterAxis.range}}if(Ext.isNumber(K.getMinimum())&&Ext.isNumber(K.getMaximum())){return K.range=[K.getMinimum(),K.getMaximum()]}var D=Infinity,J=-Infinity,I=K.boundSeries,z=K.getLayout(),L=K.getSegmenter(),H=K.getVisibleRange(),F="get"+K.getDirection()+"Range",G,y,A,B,C,x;for(C=0,x=I.length;C<x;C++){B=I[C];var E=B[F]();if(E){if(E[0]<D){D=E[0]}if(E[1]>J){J=E[1]}}}if(!isFinite(J)){J=K.prevMax}if(!isFinite(D)){D=K.prevMin}if(K.getLabelInSpan()||D===J){J+=K.getIncrement();D-=K.getIncrement()}if(Ext.isNumber(K.getMinimum())){D=K.getMinimum()}else{K.prevMin=D}if(Ext.isNumber(K.getMaximum())){J=K.getMaximum()}else{K.prevMax=J}K.range=[Ext.Number.correctFloat(D),Ext.Number.correctFloat(J)];if(K.getReconcileRange()){K.reconcileRange()}if(K.getAdjustByMajorUnit()&&L.adjustByMajorUnit&&!K.getMajorTickSteps()){y=Ext.Object.chain(K.getSprites()[0].attr);y.min=K.range[0];y.max=K.range[1];y.visibleMin=H[0];y.visibleMax=H[1];G={attr:y,segmenter:L};z.calculateLayout(G);A=G.majorTicks;if(A){L.adjustByMajorUnit(A.step,A.unit.scale,K.range);y.min=K.range[0];y.max=K.range[1];G.majorTicks=null;z.calculateLayout(G);A=G.majorTicks;L.adjustByMajorUnit(A.step,A.unit.scale,K.range)}else{if(!K.hasClearRangePending){K.hasClearRangePending=true;K.getChart().on("layout","clearRange",K)}}}if(!Ext.Array.equals(K.range,K.oldRange||[])){K.fireEvent("rangechange",K,K.range);K.oldRange=K.range}return K.range},clearRange:function(){this.hasClearRangePending=null;this.range=null},reconcileRange:function(){var p=this,v=p.getChart().getAxes(),o=p.getDirection(),t,q,s,u;if(!v){return}for(t=0,q=v.length;t<q;t++){s=v[t];u=s.getRange();if(s===p||s.getDirection()!==o||!u||!s.getReconcileRange()){continue}if(u[0]<p.range[0]){p.range[0]=u[0]}if(u[1]>p.range[1]){p.range[1]=u[1]}}},applyStyle:function(k,l){var m=Ext.ClassManager.getByAlias("sprite."+this.seriesType);if(m&&m.def){k=m.def.normalize(k)}l=Ext.apply(l||{},k);return l},themeOnlyIfConfigured:{grid:true},updateTheme:function(E){var z=this,N=E.getAxis(),D=z.getPosition(),J=z.getInitialConfig(),F=z.defaultConfig,B=z.self.getConfigurator().configs,H=N.defaults,K=N[D],A=z.themeOnlyIfConfigured,M,y,I,G,L,C;N=Ext.merge({},H,K);for(M in N){y=N[M];C=B[M];if(y!==null&&y!==undefined&&C){L=J[M];I=Ext.isObject(y);G=L===F[M];if(I){if(G&&A[M]){continue}y=Ext.merge({},y,L)}if(G||I){z[C.names.set](y)}}}},updateCenter:function(p){var m=this.getSprites(),q=m[0],n=p[0],o=p[1];if(q){q.setAttributes({centerX:n,centerY:o})}if(this.gridSpriteEven){this.gridSpriteEven.getTemplate().setAttributes({translationX:n,translationY:o,rotationCenterX:n,rotationCenterY:o})}if(this.gridSpriteOdd){this.gridSpriteOdd.getTemplate().setAttributes({translationX:n,translationY:o,rotationCenterX:n,rotationCenterY:o})}},getSprites:function(){if(!this.getChart()){return}var q=this,v=q.getRange(),u=q.getPosition(),t=q.getChart(),x=t.getAnimation(),w,z,y=q.getLength(),s=q.superclass;if(x===false){x={duration:0}}if(v){z=Ext.applyIf({position:u,axis:q,min:v[0],max:v[1],length:y,grid:q.getGrid(),hidden:q.getHidden(),titleOffset:q.titleOffset,layout:q.getLayout(),segmenter:q.getSegmenter(),totalAngle:q.getTotalAngle(),label:q.getLabel()},q.getStyle());if(!q.sprites.length){while(!s.xtype){s=s.superclass}w=Ext.create("sprite."+s.xtype,z);w.fx.setCustomDurations({baseRotation:0});w.fx.on("animationstart","onAnimationStart",q);w.fx.on("animationend","onAnimationEnd",q);w.setLayout(q.getLayout());w.setSegmenter(q.getSegmenter());w.setLabel(q.getLabel());q.sprites.push(w);q.updateTitleSprite()}else{w=q.sprites[0];w.setAnimation(x);w.setAttributes(z)}if(q.getRenderer()){w.setRenderer(q.getRenderer())}}return q.sprites},performLayout:function(){if(this.isConfiguring){return}var n=this,m=n.getSprites(),q=n.getSurface(),o=n.getChart(),p=m&&m.length&&m[0];if(o&&q&&p){p.callUpdater(null,"layout");o.scheduleLayout()}},updateTitleSprite:function(){var u=this,y=u.getLength();if(!u.sprites[0]||!Ext.isNumber(y)){return}var s=this.sprites[0].thickness,z=u.getSurface(),t=u.getTitle(),v=u.getPosition(),x=u.getMargin(),q=u.getTitleMargin(),w=z.roundPixel(y/2);if(t){switch(v){case"top":t.setAttributes({x:w,y:x+q/2,textBaseline:"top",textAlign:"center"},true);t.applyTransformations();u.titleOffset=t.getBBox().height+q;break;case"bottom":t.setAttributes({x:w,y:s+q/2,textBaseline:"top",textAlign:"center"},true);t.applyTransformations();u.titleOffset=t.getBBox().height+q;break;case"left":t.setAttributes({x:x+q/2,y:w,textBaseline:"top",textAlign:"center",rotationCenterX:x+q/2,rotationCenterY:w,rotationRads:-Math.PI/2},true);t.applyTransformations();u.titleOffset=t.getBBox().width+q;break;case"right":t.setAttributes({x:s-x+q/2,y:w,textBaseline:"bottom",textAlign:"center",rotationCenterX:s+q/2,rotationCenterY:w,rotationRads:Math.PI/2},true);t.applyTransformations();u.titleOffset=t.getBBox().width+q;break}}},onThicknessChanged:function(){this.getChart().onThicknessChanged()},getThickness:function(){if(this.getHidden()){return 0}return(this.sprites[0]&&this.sprites[0].thickness||1)+this.titleOffset+this.getMargin()},onAnimationStart:function(){this.spriteAnimationCount++;if(this.spriteAnimationCount===1){this.fireEvent("animationstart",this)}},onAnimationEnd:function(){this.spriteAnimationCount--;if(this.spriteAnimationCount===0){this.fireEvent("animationend",this)}},getItemId:function(){return this.getId()},getAncestorIds:function(){return[this.getChart().getId()]},isXType:function(f){return f==="axis"},resolveListenerScope:function(m){var n=this,q=Ext._namedScopes[m],o=n.getChart(),p;if(!q){p=o?o.resolveListenerScope(m,false):(m||n)}else{if(q.isThis){p=n}else{if(q.isController){p=o?o.resolveListenerScope(m,false):n}else{if(q.isSelf){p=o?o.resolveListenerScope(m,false):n;if(p===o&&!o.getInheritedConfig("defaultListenerScope")){p=n}}}}}return p},destroy:function(){var f=this;f.setChart(null);f.surface.destroy();f.surface=null;f.callParent()}},1,["axis"],["axis"],{axis:true},["widget.axis"],[["observable",Ext.mixin.Observable]],[Ext.chart.axis,"Axis"],0));(Ext.cmd.derive("Ext.chart.legend.LegendBase",Ext.view.View,{config:{tpl:['<div class="',"x-",'legend-inner">','<div class="',"x-",'legend-container">','<tpl for=".">','<div class="',"x-",'legend-item">',"<span ",'class="',"x-","legend-item-marker {[ values.disabled ? Ext.baseCSSPrefix + 'legend-item-inactive' : '' ]}\" ",'style="background:{mark};">',"</span>{name}","</div>","</tpl>","</div>","</div>"],nodeContainerSelector:"div.x-legend-inner",itemSelector:"div.x-legend-item",docked:"bottom"},setDocked:function(k){var l=this,m=l.ownerCt;l.docked=l.dock=k;switch(k){case"top":case"bottom":l.addCls(l.horizontalCls);l.removeCls(l.verticalCls);break;case"left":case"right":l.addCls(l.verticalCls);l.removeCls(l.horizontalCls);break}if(m){m.setDock(k)}},setStore:function(f){this.bindStore(f)},clearViewEl:function(){Ext.view.View.prototype.clearViewEl.apply(this,arguments);Ext.removeNode(this.getNodeContainer())},onItemClick:function(o,m,n,e){Ext.view.View.prototype.onItemClick.apply(this,arguments);this.toggleItem(n)}},0,0,["component","box","dataview"],{component:true,box:true,dataview:true},0,0,[Ext.chart.legend,"LegendBase"],0));(Ext.cmd.derive("Ext.chart.legend.Legend",Ext.chart.legend.LegendBase,{alternateClassName:"Ext.chart.Legend",type:"dom",isLegend:true,isDomLegend:true,config:{baseCls:"x-legend",rect:null,toggleable:true},horizontalCls:"x-legend-horizontal",verticalCls:"x-legend-vertical",toggleItem:function(t){if(!this.getToggleable()){return}var u=this.getStore(),w=0,q,x=true,s,p,v;if(u){p=u.getCount();for(s=0;s<p;s++){v=u.getAt(s);if(v.get("disabled")){w++}}x=p-w>1;v=u.getAt(t);if(v){q=v.get("disabled");if(q||x){v.set("disabled",!q)}}}}},0,["legend"],["component","box","dataview","legend"],{component:true,box:true,dataview:true,legend:true},["legend.dom","widget.legend"],0,[Ext.chart.legend,"Legend",Ext.chart,"Legend"],0));(Ext.cmd.derive("Ext.chart.legend.sprite.Item",Ext.draw.sprite.Composite,{type:"legenditem",isLegendItem:true,inheritableStatics:{def:{processors:{enabled:"limited01",markerLabelGap:"number"},animationProcessors:{enabled:null,markerLabelGap:null},defaults:{enabled:true,markerLabelGap:5},triggers:{enabled:"enabled",markerLabelGap:"layout"},updaters:{layout:"layoutUpdater",enabled:"enabledUpdater"}}},config:{label:{$value:{type:"text"},lazy:true},marker:{$value:{type:"circle"},lazy:true},legend:null,store:null,record:null,series:null},applyLabel:function(m,k){var l;if(m){if(m.isSprite&&m.type==="text"){l=m}else{if(k&&m.type===k.type){k.setConfig(m);l=k;this.scheduleUpdater(this.attr,"layout")}else{l=new Ext.draw.sprite.Text(m)}}}return l},defaultMarkerSize:10,updateLabel:function(m,k){var l=this;l.removeSprite(k);m.setAttributes({textBaseline:"middle"});l.add(m);l.scheduleUpdater(l.attr,"layout")},applyMarker:function(g){var k;if(g){if(g.isSprite){k=g}else{k=this.createMarker(g)}}k=this.resetMarker(k,g);return k},createMarker:function(g){var k;delete g.fx;if(g.type==="image"){delete g.width;delete g.height}k=Ext.create("sprite."+g.type,g);return k},resetMarker:function(p,s){var q=s.size||this.defaultMarkerSize,n,t,o;p.setTransform([1,0,0,1,0,0],true);if(s.type==="image"){p.setAttributes({width:q,height:q})}else{n=p.getBBox();t=Math.max(n.width,n.height);o=q/t;p.setAttributes({scalingX:o,scalingY:o})}return p},updateMarker:function(l,m){var k=this;k.removeSprite(m);k.add(l);k.scheduleUpdater(k.attr,"layout")},updateSurface:function(m,k){var l=this;Ext.draw.sprite.Composite.prototype.updateSurface.call(this,m,k);if(m){l.scheduleUpdater(l.attr,"layout")}},enabledUpdater:function(k){var g=this.getMarker();if(g){g.setAttributes({globalAlpha:k.enabled?1:0.3})}},layoutUpdater:function(t){var v=this,t=v.attr,p=v.getLabel(),s=v.getMarker(),q,u,o;u=s.getBBox();q=p.getBBox();o=Math.max(u.height,q.height);s.transform([1,0,0,1,-u.x,-u.y+(o-u.height)/2],true);p.transform([1,0,0,1,-q.x+u.width+t.markerLabelGap,-q.y+(o-q.height)/2],true);v.bboxUpdater(t)}},0,0,0,0,["sprite.legenditem"],0,[Ext.chart.legend.sprite,"Item"],0));(Ext.cmd.derive("Ext.chart.legend.sprite.Border",Ext.draw.sprite.Rect,{type:"legendborder",isLegendBorder:true},0,0,0,0,["sprite.legendborder"],0,[Ext.chart.legend.sprite,"Border"],0));(Ext.cmd.derive("Ext.draw.PathUtil",Ext.Base,function(){var t=Math.abs,q=Math.pow,o=Math.cos,s=Math.acos,p=Math.sqrt,n=Math.PI;return{singleton:true,cubicRoots:function(M){var e=M[0],l=M[1],A=M[2],C=M[3];if(e===0){return this.quadraticRoots(l,A,C)}var N=l/e,f=A/e,k=C/e,P=(3*f-q(N,2))/9,Q=(9*N*f-27*k-2*q(N,3))/54,m=q(P,3)+q(Q,2),D=[],R,S,B,O,L,g=Ext.Number.sign;if(m>=0){R=g(Q+p(m))*q(t(Q+p(m)),1/3);S=g(Q-p(m))*q(t(Q-p(m)),1/3);D[0]=-N/3+(R+S);D[1]=-N/3-(R+S)/2;D[2]=D[1];B=t(p(3)*(R-S)/2);if(B!==0){D[1]=-1;D[2]=-1}}else{O=s(Q/p(-q(P,3)));D[0]=2*p(-P)*o(O/3)-N/3;D[1]=2*p(-P)*o((O+2*n)/3)-N/3;D[2]=2*p(-P)*o((O+4*n)/3)-N/3}for(L=0;L<3;L++){if(D[L]<0||D[L]>1){D[L]=-1}}return D},quadraticRoots:function(m,w,e){var f,g,k,l;if(m===0){return this.linearRoot(w,e)}f=w*w-4*m*e;if(f===0){k=[-w/(2*m)]}else{if(f>0){g=p(f);k=[(-w-g)/(2*m),(-w+g)/(2*m)]}else{return[]}}for(l=0;l<k.length;l++){if(k[l]<0||k[l]>1){k[l]=-1}}return k},linearRoot:function(f,g){var e=-g/f;if(f===0||e<0||e>1){return[]}return[e]},bezierCoeffs:function(k,l,e,f){var g=[];g[0]=-k+3*l-3*e+f;g[1]=3*k-6*l+3*e;g[2]=-3*k+3*l;g[3]=k;return g},cubicLineIntersections:function(m,B,C,V,af,ai,aj,ak,f,X,k,ab){var ah=[],e=[],W=X-ab,Z=k-f,aa=f*(ab-X)-X*(k-f),g=this.bezierCoeffs(m,B,C,V),l=this.bezierCoeffs(af,ai,aj,ak),A,ad,ae,ag,al,P,Y,ac;ah[0]=W*g[0]+Z*l[0];ah[1]=W*g[1]+Z*l[1];ah[2]=W*g[2]+Z*l[2];ah[3]=W*g[3]+Z*l[3]+aa;ad=this.cubicRoots(ah);for(A=0;A<ad.length;A++){ag=ad[A];if(ag<0||ag>1){continue}al=ag*ag;P=al*ag;Y=g[0]*P+g[1]*al+g[2]*ag+g[3];ac=l[0]*P+l[1]*al+l[2]*ag+l[3];if((k-f)!==0){ae=(Y-f)/(k-f)}else{ae=(ac-X)/(ab-X)}if(!(ae<0||ae>1)){e.push([Y,ac])}}return e},splitCubic:function(k,l,m,z,B){var e=B*B,A=B*e,f=B-1,g=f*f,D=f*g,C=A*z-3*e*f*m+3*B*g*l-D*k;return[[k,B*l-f*k,e*m-2*B*f*l+g*k,C],[C,e*z-2*B*f*m+g*l,B*z-f*m,z]]},cubicDimension:function(x,y,E,F){var e=3*(-x+3*(y-E)+F),g=6*(x-2*y+E),k=-3*(x-y),l,C,m=Math.min(x,F),D=Math.max(x,F),f;if(e===0){if(g===0){return[m,D]}else{l=-k/g;if(0<l&&l<1){C=this.interpolateCubic(x,y,E,F,l);m=Math.min(m,C);D=Math.max(D,C)}}}else{f=g*g-4*e*k;if(f>=0){f=p(f);l=(f-g)/2/e;if(0<l&&l<1){C=this.interpolateCubic(x,y,E,F,l);m=Math.min(m,C);D=Math.max(D,C)}if(f>0){l-=f/e;if(0<l&&l<1){C=this.interpolateCubic(x,y,E,F,l);m=Math.min(m,C);D=Math.max(D,C)}}}}return[m,D]},interpolateCubic:function(l,m,e,f,k){if(k===0){return l}if(k===1){return f}var g=(1-k)/k;return k*k*k*(f+g*(3*e+g*(3*m+g*l)))},cubicsIntersections:function(l,O,Q,S,P,R,U,aa,ah,e,f,g,W,Y,Z,af){var k=this,V=k.cubicDimension(l,O,Q,S),m=k.cubicDimension(P,R,U,aa),T=k.cubicDimension(ah,e,f,g),ae=k.cubicDimension(W,Y,Z,af),ad,ag,ab,ac,X=[];if(V[0]>T[1]||V[1]<T[0]||m[0]>ae[1]||m[1]<ae[0]){return[]}if(t(P-R)<1&&t(U-aa)<1&&t(l-S)<1&&t(O-Q)<1&&t(W-Y)<1&&t(Z-af)<1&&t(ah-g)<1&&t(e-f)<1){return[[(l+S)*0.5,(P+R)*0.5]]}ad=k.splitCubic(l,O,Q,S,0.5);ag=k.splitCubic(P,R,U,aa,0.5);ab=k.splitCubic(ah,e,f,g,0.5);ac=k.splitCubic(W,Y,Z,af,0.5);X.push.apply(X,k.cubicsIntersections.apply(k,ad[0].concat(ag[0],ab[0],ac[0])));X.push.apply(X,k.cubicsIntersections.apply(k,ad[0].concat(ag[0],ab[1],ac[1])));X.push.apply(X,k.cubicsIntersections.apply(k,ad[1].concat(ag[1],ab[0],ac[0])));X.push.apply(X,k.cubicsIntersections.apply(k,ad[1].concat(ag[1],ab[1],ac[1])));return X},linesIntersection:function(D,m,e,z,g,A,l,B){var C=(e-D)*(B-A)-(z-m)*(l-g),f,k;if(C===0){return null}f=((l-g)*(m-A)-(D-g)*(B-A))/C;k=((e-D)*(m-A)-(z-m)*(D-g))/C;if(f>=0&&f<=1&&k>=0&&k<=1){return[D+f*(e-D),m+f*(z-m)]}return null},pointOnLine:function(l,f,x,g,y,e){var k,m;if(t(x-l)<t(g-f)){m=l;l=f;f=m;m=x;x=g;g=m;m=y;y=e;e=m}k=(y-l)/(x-l);if(k<0||k>1){return false}return t(f+k*(g-f)-e)<4},pointOnCubic:function(J,M,N,P,O,Q,R,S,k,m){var f=this,g=f.bezierCoeffs(J,M,N,P),l=f.bezierCoeffs(O,Q,R,S),x,L,y,K,e;g[3]-=k;l[3]-=m;y=f.cubicRoots(g);K=f.cubicRoots(l);for(x=0;x<y.length;x++){e=y[x];for(L=0;L<K.length;L++){if(e>=0&&e<=1&&t(e-K[L])<0.05){return true}}}return false}}},0,0,0,0,0,0,[Ext.draw,"PathUtil"],0));(Ext.cmd.derive("Ext.draw.overrides.hittest.All",Ext.Base,{},0,0,0,0,0,0,[Ext.draw.overrides.hittest,"All"],0));(Ext.cmd.derive("Ext.chart.legend.SpriteLegend",Ext.Base,{type:"sprite",isLegend:true,isSpriteLegend:true,config:{docked:"bottom",store:"ext-empty-store",chart:null,surface:null,size:{width:0,height:0},toggleable:true,padding:10,label:{preciseMeasurement:true},marker:{},border:{$value:{type:"legendborder"},lazy:true},background:null},sprites:null,spriteZIndexes:{background:0,border:1,item:2},oldSize:{width:0,height:0},constructor:function(f){this.initConfig(f)},applyStore:function(f){return f&&Ext.StoreManager.lookup(f)},applyBorder:function(g){var k;if(g){if(g.isSprite){k=g}else{k=Ext.create("sprite."+g.type,g)}}if(k){k.isLegendBorder=true;k.setAttributes({zIndex:this.spriteZIndexes.border})}return k},updateBorder:function(k,l){var m=this.getSurface();this.borderSprite=null;if(m){if(l){m.remove(l)}if(k){this.borderSprite=m.add(k)}}},scheduleLayout:function(){if(!this.scheduledLayoutId){this.scheduledLayoutId=Ext.draw.Animator.schedule("performLayout",this)}},cancelLayout:function(){Ext.draw.Animator.cancel(this.scheduledLayoutId);this.scheduledLayoutId=null},performLayout:function(){var x=this,aa=x.getSize(),Y=x.getPadding(),am=x.getSprites(),ag=x.getSurface(),X=x.getBackground(),U=ag.getRect(),an=x.getStore(),aj=(am&&am.length)||0,ae=true,Z,ai;if(!ag||!U||!an){return false}x.cancelLayout();var Q=x.getDocked(),al=U[2],at=U[3],ac=x.borderSprite,ao=[],S,V,W,y,aq,ah,ap,ar,T,ab,R,ad,au,af,ak;for(Z=0;Z<aj;Z++){ai=am[Z];au=ai.getBBox();ao.push(au)}if(au){ad=au.height}switch(Q){case"bottom":case"top":if(!al){return false}W=0;do{ah=0;aq=0;y=0;W++;for(Z=0;Z<aj;Z++){au=ao[Z];if(au.width>aq){aq=au.width}if((Z+1)%W===0){ah+=aq;aq=0;y++}}if(Z%W!==0){ah+=aq;y++}ar=ah+(y-1)*Y;ab=ar+Y*4}while(ab>al);T=ad*W+(W-1)*Y;break;case"right":case"left":if(!at){return false}W=aj*2;do{W=(W>>1)+(W%2);ah=0;ap=0;aq=0;y=0;for(Z=0;Z<aj;Z++){au=ao[Z];if(!y){ap+=au.height}if(au.width>aq){aq=au.width}if((Z+1)%W===0){ah+=aq;aq=0;y++}}if(Z%W!==0){ah+=aq;y++}ar=ah+(y-1)*Y;T=ap+(W-1)*Y;ab=ar+Y*4;R=T+Y*4}while(T>at);break}S=(al-ar)/2;V=(at-T)/2;af=0;ak=0;aq=0;for(Z=0;Z<aj;Z++){ai=am[Z];au=ao[Z];ai.setAttributes({translationX:S+af,translationY:V+ak});if(au.width>aq){aq=au.width}if((Z+1)%W===0){af+=aq+Y;ak=0;aq=0}else{ak+=au.height+Y}}if(ac){ac.setAttributes({x:S-Y,y:V-Y,width:ar+Y*2,height:T+Y*2})}aa.width=ac.attr.width+Y*2;aa.height=ac.attr.height+Y*2;if(aa.width!==x.oldSize.width||aa.height!==x.oldSize.height){Ext.apply(x.oldSize,aa);ae=false;x.getChart().performLayout()}Ext.apply(x.oldSize,aa);if(X){x.resizeBackground(ag,X)}ag.renderFrame();return ae},getSprites:function(){this.updateSprites();return this.sprites},createSprite:function(B,x){var t=this,z=x.data,v=t.getChart(),y=v.get(z.series),w=y.getMarker(),D=null,A,u,C;if(B){A=y.getMarkerStyleByIndex(z.index);Ext.apply(A,t.getMarker());if(w&&w.type&&!A.type){A.type=w.type}u=t.getLabel();C={type:"legenditem",zIndex:t.spriteZIndexes.item,text:z.name,enabled:!z.disabled,marker:A,label:u,series:z.series,record:x};D=B.add(C)}return D},updateSprites:function(){var v=this,x=v.getChart(),F=v.getStore(),D=v.getSurface(),E,w,C,A,y,z,u,B;if(!(x&&F&&D)){return}v.sprites=z=v.sprites||[];w=F.getData().items;y=w.length;for(A=0;A<y;A++){E=w[A];C=z[A];if(C){v.updateSprite(C,E)}else{C=v.createSprite(D,E);D.add(C);z.push(C)}}u=Ext.Array.splice(z,A,z.length);for(A=0,y=u.length;A<y;A++){C=u[A];C.destroy()}B=v.getBorder();if(B){v.borderSprite=B}v.updateTheme(x.getTheme())},updateSprite:function(q,u){var x=u.data,p=this.getChart(),s=p.get(x.series),v,t,w;if(q){t=q.getLabel();t.setAttributes({text:x.name});q.setAttributes({enabled:!x.disabled});q.setConfig({series:x.series,record:u});w=s.getMarkerStyleByIndex(x.index);Ext.apply(w,this.getMarker());v=q.getMarker();v.setAttributes({fillStyle:w.fillStyle,strokeStyle:w.strokeStyle});q.layoutUpdater(q.attr)}},updateChart:function(k,m){var l=this;if(m){l.setSurface(null)}if(k){l.setSurface(k.getSurface("legend"))}},updateSurface:function(k,g){if(g){g.el.un("click","onClick",this)}if(k){k.isLegendSurface=true;k.el.on("click","onClick",this)}},onClick:function(m,o){var n=this.getChart(),o=this.getSurface(),p,q;if(n&&n.hasFirstLayout&&o){q=o.getEventXY(m);p=o.hitTest(q);if(p&&p.sprite){this.toggleItem(p.sprite)}}},applyBackground:function(s,o){var n=this,p=n.getChart(),t=n.getSurface(),q;q=p.refreshBackground(t,s,o);if(q){q.setAttributes({zIndex:n.spriteZIndexes.background})}return q},resizeBackground:function(p,n){var m=n.attr.width,q=n.attr.height,o=p.getRect();if(o&&(m!==o[2]||q!==o[3])){n.setAttributes({width:o[2],height:o[3]})}},themeableConfigs:{background:true},updateTheme:function(O){var N=this,H=N.getSurface(),V=H.getItems(),Q=O.getLegend(),T=N.getLabel(),R=N.self.getConfigurator().configs,F=N.themeableConfigs,Z=N.getInitialConfig(),P=N.defaultConfig,I,X,W,S,Y,K,E,M,L,J,G,U;for(G=0,U=V.length;G<U;G++){K=V[G];if(K.isLegendItem){E=Q.label;if(E){J=null;for(L in E){if(!(L in T)){J=J||{};J[L]=E[L]}}if(J){M=K.getLabel();M.setAttributes(J)}}continue}else{if(K.isLegendBorder){E=Q.border}else{continue}}if(E){J={};for(L in E){if(!(L in K.config)){J[L]=E[L]}}K.setAttributes(J)}}I=Q.background;X=R.background;if(I!==null&&I!==undefined&&X){}for(L in Q){if(!(L in F)){continue}I=Q[L];X=R[L];if(I!==null&&I!==undefined&&X){Y=Z[L];W=Ext.isObject(I);S=Y===P[L];if(W){if(S&&themeOnlyIfConfigured[L]){continue}I=Ext.merge({},I,Y)}if(S||W){N[X.names.set](I)}}}},updateStore:function(m,k){var l=this;if(k){k.un("datachanged",l.onDataChanged,l);k.un("update",l.onDataUpdate,l)}if(m&&!m.isEmptyStore){m.on("datachanged",l.onDataChanged,l);m.on("update",l.onDataUpdate,l);l.onDataChanged(m)}l.performLayout()},onDataChanged:function(f){this.updateSprites();this.scheduleLayout()},onDataUpdate:function(s,w){var t=this,v=t.sprites,u=v.length,y=0,q,z,x;for(;y<u;y++){q=v[y];z=q.getRecord();if(z===w){x=q;break}}if(x){t.updateSprite(x,w);t.scheduleLayout()}},toggleItem:function(s){if(!this.getToggleable()||!s.isLegendItem){return}var u=this.getStore(),w=0,q,x=true,t,p,v;if(u){p=u.getCount();for(t=0;t<p;t++){v=u.getAt(t);if(v.get("disabled")){w++}}x=p-w>1;v=s.getRecord();if(v){q=v.get("disabled");if(q||x){v.set("disabled",!q);s.setAttributes({enabled:q})}}}},destroy:function(){this.cancelLayout();this.callParent()}},1,0,0,0,["legend.sprite"],0,[Ext.chart.legend,"SpriteLegend"],0));(Ext.cmd.derive("Ext.chart.legend.store.Item",Ext.data.Model,{fields:["id","name","mark","disabled","series","index"]},0,0,0,0,0,0,[Ext.chart.legend.store,"Item"],0));(Ext.cmd.derive("Ext.chart.legend.store.Store",Ext.data.Store,{model:"Ext.chart.legend.store.Item",isLegendStore:true,config:{autoDestroy:true}},0,0,0,0,0,0,[Ext.chart.legend.store,"Store"],0));(Ext.cmd.derive("Ext.chart.AbstractChart",Ext.draw.Container,{isChart:true,defaultBindProperty:"store",config:{store:"ext-empty-store",theme:"default",style:null,animation:!Ext.isIE8,series:[],axes:[],legend:null,colors:null,insetPadding:{top:10,left:10,right:10,bottom:10},background:null,interactions:[],mainRect:null,resizeHandler:null,highlightItem:null},animationSuspendCount:0,chartLayoutSuspendCount:0,axisThicknessSuspendCount:0,isThicknessChanged:false,surfaceZIndexes:{background:0,main:1,grid:2,series:3,axis:4,chart:5,overlay:6,legend:7,title:8},constructor:function(k){var g=this;g.itemListeners={};g.surfaceMap={};g.chartComponents={};g.isInitializing=true;g.suspendChartLayout();g.animationSuspendCount++;Ext.draw.Container.prototype.constructor.apply(this,arguments);g.isInitializing=false;g.getSurface("main");g.getSurface("chart").setFlipRtlText(g.getInherited().rtl);g.getSurface("overlay").waitFor(g.getSurface("series"));g.animationSuspendCount--;g.resumeChartLayout()},applyAnimation:function(k,g){if(!k){k={duration:0}}else{if(k===true){k={easing:"easeInOut",duration:500}}}return g?Ext.apply({},k,g):k},getAnimation:function(){if(this.animationSuspendCount){return{duration:0}}else{return(arguments.callee.$previous||Ext.draw.Container.prototype.getAnimation).call(this)}},applyInsetPadding:function(g,k){if(!Ext.isObject(g)){return Ext.util.Format.parseBox(g)}else{if(!k){return g}else{return Ext.apply(k,g)}}},suspendAnimation:function(){var n=this,o=n.getSeries(),m=o.length,p=-1,q;n.animationSuspendCount++;if(n.animationSuspendCount===1){while(++p<m){q=o[p];q.setAnimation(q.getAnimation())}}},resumeAnimation:function(){var p=this,q=p.getSeries(),n=q.length,s=-1,t,o;p.animationSuspendCount--;if(p.animationSuspendCount===0){while(++s<n){t=q[s];o=t.getAnimation();t.setAnimation(o.duration&&o||p.getAnimation())}}},suspendChartLayout:function(){var f=this;f.chartLayoutSuspendCount++;if(f.chartLayoutSuspendCount===1){if(f.scheduledLayoutId){f.layoutInSuspension=true;f.cancelChartLayout()}else{f.layoutInSuspension=false}}},resumeChartLayout:function(){var f=this;f.chartLayoutSuspendCount--;if(f.chartLayoutSuspendCount===0){if(f.layoutInSuspension){f.scheduleLayout()}}},cancelChartLayout:function(){if(this.scheduledLayoutId){Ext.draw.Animator.cancel(this.scheduledLayoutId);this.scheduledLayoutId=null}},scheduleLayout:function(){var f=this;if(f.allowSchedule()&&!f.scheduledLayoutId){f.scheduledLayoutId=Ext.draw.Animator.schedule("doScheduleLayout",f)}},allowSchedule:function(){return true},doScheduleLayout:function(){var f=this;if(f.chartLayoutSuspendCount){f.layoutInSuspension=true}else{f.performLayout()}f.scheduledLayoutId=null},suspendThicknessChanged:function(){this.axisThicknessSuspendCount++},resumeThicknessChanged:function(){if(this.axisThicknessSuspendCount>0){this.axisThicknessSuspendCount--;if(this.axisThicknessSuspendCount===0&&this.isThicknessChanged){this.onThicknessChanged()}}},onThicknessChanged:function(){if(this.axisThicknessSuspendCount===0){this.isThicknessChanged=false;this.performLayout()}else{this.isThicknessChanged=true}},applySprites:function(g){var k=this.getSurface("chart");g=Ext.Array.from(g);k.removeAll(true);k.add(g);return g},initItems:function(){var o=this.items,n,l,m;if(o&&!o.isMixedCollection){this.items=[];o=Ext.Array.from(o);for(n=0,l=o.length;n<l;n++){m=o[n];if(m.type){Ext.raise("To add custom sprites to the chart use the 'sprites' config.")}else{this.items.push(m)}}}this.callParent()},applyBackground:function(l,k){var m=this.getSurface("background");return this.refreshBackground(m,l,k)},refreshBackground:function(q,s,o){var p,t,n;if(s){if(o){p=o.attr.width;t=o.attr.height;n=o.type===(s.type||"rect")}if(s.isSprite){o=s}else{if(s.type==="image"&&Ext.isString(s.src)){if(n){o.setAttributes({src:s.src})}else{q.remove(o,true);o=q.add(s)}}else{if(n){o.setAttributes({fillStyle:s})}else{q.remove(o,true);o=q.add({type:"rect",fillStyle:s,fx:{customDurations:{x:0,y:0,width:0,height:0}}})}}}}if(p&&t){o.setAttributes({width:p,height:t})}o.setAnimation(this.getAnimation());return o},getLegendStore:function(){return this.legendStore},refreshLegendStore:function(){var v=this,p=v.getLegendStore(),q;if(p){var s=v.getSeries(),o=s.length,u=[],t=0;for(;t<o;t++){q=s[t];if(q.getShowInLegend()){q.provideLegendInfo(u)}}p.setData(u)}},onUpdateLegendStore:function(n,o){var l=this.getSeries(),m;if(o&&l){m=l.map[o.get("series")];if(m){m.setHiddenByIndex(o.get("index"),o.get("disabled"));this.redraw()}}},defaultResizeHandler:function(f){this.scheduleLayout();return false},applyMainRect:function(k,g){if(!g){return k}this.getSeries();this.getAxes();if(k[0]===g[0]&&k[1]===g[1]&&k[2]===g[2]&&k[3]===g[3]){return g}else{return k}},register:function(m){var l=this.chartComponents,k=m.getId();l[k]=m},unregister:function(m){var l=this.chartComponents,k=m.getId();delete l[k]},get:function(f){return this.chartComponents[f]},getAxis:function(f){if(f instanceof Ext.chart.axis.Axis){return f}else{if(Ext.isNumber(f)){return this.getAxes()[f]}else{if(Ext.isString(f)){return this.get(f)}}}},getSurface:function(s,q){s=s||"main";q=q||s;var p=this,t=Ext.draw.Container.prototype.getSurface.call(this,s),n=p.surfaceZIndexes,o=p.surfaceMap;if(q in n){t.element.setStyle("zIndex",n[q])}if(!o[q]){o[q]=[]}if(Ext.Array.indexOf(o[q],t)<0){t.type=q;o[q].push(t);t.on("destroy",p.forgetSurface,p)}return t},forgetSurface:function(o){var l=this.surfaceMap;if(!l||this.isDestroying){return}var m=l[o.type],n=m?Ext.Array.indexOf(m,o):-1;if(n>=0){m.splice(n,1)}},applyAxes:function(C,u){var F=this,x={left:"right",right:"left"},E=[],B,A,z,D,y,w,v;F.animationSuspendCount++;F.getStore();if(!u){u=[];u.map={}}v=u.map;E.map={};C=Ext.Array.from(C,true);for(y=0,w=C.length;y<w;y++){B=C[y];if(!B){continue}if(B instanceof Ext.chart.axis.Axis){A=v[B.getId()];B.setChart(F)}else{B=Ext.Object.chain(B);z=B.linkedTo;D=B.id;if(Ext.isNumber(z)){B=Ext.merge({},C[z],B)}else{if(Ext.isString(z)){Ext.Array.each(C,function(e){if(e.id===B.linkedTo){B=Ext.merge({},e,B);return false}})}}B.id=D;B.chart=F;if(F.getInherited().rtl){B.position=x[B.position]||B.position}D=B.getId&&B.getId()||B.id;B=Ext.factory(B,null,A=v[D],"axis")}if(B){E.push(B);E.map[B.getId()]=B;if(!A){B.on("animationstart","onAnimationStart",F);B.on("animationend","onAnimationEnd",F)}}}for(y in v){if(!E.map[y]){v[y].destroy()}}F.animationSuspendCount--;return E},updateAxes:function(){if(!this.isDestroying){this.scheduleLayout()}},circularCopyArray:function(o,n,p){var q=[],s,t=o&&o.length;if(t){for(s=0;s<p;s++){q.push(o[(n+s)%t])}}return q},circularCopyObject:function(o,v,q){var s=this,t,p,u={};if(q){for(t in o){if(o.hasOwnProperty(t)){p=o[t];if(Ext.isArray(p)){u[t]=s.circularCopyArray(p,v,q)}else{u[t]=p}}}}return u},getColors:function(){var l=this,m=l.config.colors,k=l.getTheme();if(Ext.isArray(m)&&m.length>0){m=l.applyColors(m)}return m||(k&&k.getColors())},applyColors:function(f){f=Ext.Array.map(f,function(e){if(Ext.isString(e)){return e}else{return e.toString()}});return f},updateColors:function(A){var t=this,y=t.getTheme(),C=A||(y&&y.getColors()),D=0,x=t.getSeries(),z=x&&x.length,w,u,B,v;if(C.length){for(w=0;w<z;w++){u=x[w];v=u.themeColorCount();B=t.circularCopyArray(C,D,v);D+=v;u.updateChartColors(B)}}t.refreshLegendStore()},applyTheme:function(f){if(f&&f.isTheme){return f}return Ext.Factory.chartTheme(f)},updateGradients:function(f){if(!Ext.isEmpty(f)){this.updateTheme(this.getTheme())}},updateTheme:function(v){var p=this,o=p.getAxes(),q=p.getSeries(),u=p.getColors(),s,t;p.updateChartTheme(v);for(t=0;t<o.length;t++){o[t].updateTheme(v)}for(t=0;t<q.length;t++){s=q[t];s.updateTheme(v)}p.updateSpriteTheme(v);p.updateColors(u);p.redraw()},themeOnlyIfConfigured:{},updateChartTheme:function(E){var y=this,L=E.getChart(),I=y.getInitialConfig(),F=y.defaultConfig,C=y.self.getConfigurator().configs,B=L.defaults,A=L[y.xtype],z=y.themeOnlyIfConfigured,K,x,H,G,J,D;L=Ext.merge({},B,A);for(K in L){x=L[K];D=C[K];if(x!==null&&x!==undefined&&D){J=I[K];H=Ext.isObject(x);G=J===F[K];if(H){if(G&&z[K]){continue}x=Ext.merge({},x,J)}if(G||H){y[D.names.set](x)}}}},updateSpriteTheme:function(B){this.getSprites();var v=this,z=v.getSurface("chart"),w=z.getItems(),E=B.getSprites(),u,D,F,y,A,C,x;for(C=0,x=w.length;C<x;C++){u=w[C];D=E[u.type];if(D){y={};A=u.type==="text";for(F in D){if(!(F in u.config)){if(!(A&&F.indexOf("font")===0&&u.config.font)){y[F]=D[F]}}}u.setAttributes(y)}}},addSeries:function(g){var k=this.getSeries();Ext.Array.push(k,g);this.setSeries(k)},removeSeries:function(q){q=Ext.Array.from(q);var t=this.getSeries(),o=[],u=q.length,v={},s,p;for(s=0;s<u;s++){p=q[s];if(typeof p!=="string"){p=p.getId()}v[p]=true}for(s=0,u=t.length;s<u;s++){if(!v[t[s].getId()]){o.push(t[s])}}this.setSeries(o)},applySeries:function(v,w){var t=this,q=[],s,z,x,u,y;t.animationSuspendCount++;t.getAxes();if(w){s=w.map}else{w=[];s=w.map={}}q.map={};v=Ext.Array.from(v,true);for(x=0,u=v.length;x<u;x++){y=v[x];if(!y){continue}z=s[y.getId&&y.getId()||y.id];if(y instanceof Ext.chart.series.Series){if(z&&z!==y){z.destroy()}y.setChart(t)}else{if(Ext.isObject(y)){if(z){z.setConfig(y);y=z}else{if(Ext.isString(y)){y={type:y}}y.chart=t;y=Ext.create(y.xclass||("series."+y.type),y);y.on("animationstart","onAnimationStart",t);y.on("animationend","onAnimationEnd",t)}}}q.push(y);q.map[y.getId()]=y}for(x in s){if(!q.map[s[x].id]){s[x].destroy()}}t.animationSuspendCount--;return q},defaultLegendType:"dom",applyLegend:function(m){var l=this,o,n;if(m){if(Ext.isBoolean(m)){o=Ext.create("legend."+l.defaultLegendType,{docked:"bottom",chart:l})}else{m.docked=m.docked||"bottom";m.chart=l;n="legend."+(m.type||l.defaultLegendType);o=Ext.create(n,m)}return o}return null},updateLegend:function(l,m){var k=this;if(m){m.destroy()}if(l){k.getSurface("legend");k.getItems();k.legendStore=new Ext.chart.legend.store.Store({chart:k,store:k.legendStore});k.refreshLegendStore();k.legendStore.on("update","onUpdateLegendStore",k);l.setStore(k.legendStore)}},updateSeries:function(l,m){var k=this;if(k.isDestroying){return}k.animationSuspendCount++;k.fireEvent("serieschange",k,l,m);k.refreshLegendStore();if(!Ext.isEmpty(l)){k.updateTheme(k.getTheme())}k.scheduleLayout();k.animationSuspendCount--},applyInteractions:function(w,s){if(!s){s=[];s.map={}}var x=this,v=[],t=s.map,q,p,u;v.map={};w=Ext.Array.from(w,true);for(q=0,p=w.length;q<p;q++){u=w[q];if(!u){continue}u=Ext.factory(u,null,t[u.getId&&u.getId()||u.id],"interaction");if(u){u.setChart(x);v.push(u);v.map[u.getId()]=u}}for(q in t){if(!v.map[q]){t[q].destroy()}}return v},getInteraction:function(o){var n=this.getInteractions(),t=n&&n.length,q=null,s,p;if(t){for(p=0;p<t;++p){s=n[p];if(s.type===o){q=s;break}}}return q},applyStore:function(f){return f&&Ext.StoreManager.lookup(f)},updateStore:function(m,k){var l=this;if(k&&!k.destroyed){k.un({datachanged:"onDataChanged",update:"onDataChanged",scope:l,order:"after"});if(k.autoDestroy){k.destroy()}}if(m){m.on({datachanged:"onDataChanged",update:"onDataChanged",scope:l,order:"after"})}l.fireEvent("storechange",l,m,k);l.onDataChanged()},redraw:function(){this.fireEvent("redraw",this)},performLayout:function(){var m=this,o=m.getLegend(),n=m.getChartRect(true),p=m.getBackground(),q=true;m.hasFirstLayout=true;m.fireEvent("layout",m);m.cancelChartLayout();m.getSurface("background").setRect(n);m.getSurface("chart").setRect(n);if(o&&o.isSpriteLegend){m.getSurface("legend").setRect(m.spriteLegendRect);q=o.performLayout()}p.setAttributes({width:n[2],height:n[3]});return q},getChartRect:function(l){var m=this,n,o;if(l){m.chartRect=null}if(m.chartRect){n=m.chartRect}else{o=m.innerElement.getSize();n=m.chartRect=[0,0,o.width,o.height]}if(l){m.computeSpriteLegendRect(n)}return n},computeSpriteLegendRect:function(q){var s=this,t=s.getLegend();if(t&&t.isSpriteLegend){var w=t.getSize(),u=w.height,p=w.width,x=t.getDocked(),v=[0,0,0,0];switch(x){case"top":q[1]=u;v[2]=q[2];v[3]=u;break;case"bottom":q[3]-=u;v[1]=q[3];v[2]=q[2];v[3]=u;break;case"left":q[0]=p;v[2]=p;v[3]=q[3];break;case"right":q[2]-=p;v[0]=q[2];v[2]=p;v[3]=q[3];break}s.spriteLegendRect=v}},getEventXY:function(e){return this.getSurface().getEventXY(e)},getItemForPoint:function(s,t){var u=this,z=u.getSeries(),v=u.getMainRect(),w=z.length,y=u.hasFirstLayout?w-1:-1,x,q;if(!(v&&s>=0&&s<=v[2]&&t>=0&&t<=v[3])){return null}for(;y>=0;y--){x=z[y];q=x.getItemForPoint(s,t);if(q){return q}}return null},getItemsForPoint:function(s,t){var u=this,z=u.getSeries(),w=z.length,y=u.hasFirstLayout?w-1:-1,v=[],x,q;for(;y>=0;y--){x=z[y];q=x.getItemForPoint(s,t);if(q){v.push(q)}}return v},onAnimationStart:function(){this.fireEvent("animationstart",this)},onAnimationEnd:function(){this.fireEvent("animationend",this)},onDataChanged:function(){var n=this;if(n.isInitializing){return}var o=n.getMainRect(),q=n.getStore(),p=n.getSeries(),m=n.getAxes();if(!q||!m||!p){return}if(!o){n.on({redraw:n.onDataChanged,scope:n,single:true});return}n.processData();n.redraw()},recordCount:0,processData:function(){var v=this,p=v.getStore().getCount(),s=v.getSeries(),o=s.length,q=false,t=0,u;for(;t<o;t++){u=s[t];u.processData();if(!q&&u.isStoreDependantColorCount){q=true}}if(q&&p>v.recordCount){v.updateColors(v.getColors());v.recordCount=p}},bindStore:function(f){this.setStore(f)},applyHighlightItem:function(n,t){if(n===t){return}if(Ext.isObject(n)&&Ext.isObject(t)){var o=n,p=t,q=o.sprite&&(o.sprite[0]||o.sprite),s=p.sprite&&(p.sprite[0]||p.sprite);if(q===s&&o.index===p.index){return}}return n},updateHighlightItem:function(g,k){if(k){k.series.setAttributesForItem(k,{highlighted:false})}if(g){g.series.setAttributesForItem(g,{highlighted:true});this.fireEvent("itemhighlight",this,g,k)}this.fireEvent("itemhighlightchange",this,g,k)},destroyChart:function(){var p=this,s=p.getLegend(),x=p.getAxes(),t=p.getSeries(),w=p.getInteractions(),u=[],v,q;p.surfaceMap=null;for(v=0,q=w.length;v<q;v++){w[v].destroy()}for(v=0,q=x.length;v<q;v++){x[v].destroy()}for(v=0,q=t.length;v<q;v++){t[v].destroy()}p.setInteractions(u);p.setAxes(u);p.setSeries(u);if(s){s.destroy();p.setLegend(null)}p.legendStore=null;p.setStore(null);p.cancelChartLayout()},getRefItems:function(u){var x=this,q=x.getSeries(),w=x.getAxes(),v=x.getInteractions(),t=[],s,p;for(s=0,p=q.length;s<p;s++){t.push(q[s]);if(q[s].getRefItems){t.push.apply(t,q[s].getRefItems(u))}}for(s=0,p=w.length;s<p;s++){t.push(w[s]);if(w[s].getRefItems){t.push.apply(t,w[s].getRefItems(u))}}for(s=0,p=v.length;s<p;s++){t.push(v[s]);if(v[s].getRefItems){t.push.apply(t,v[s].getRefItems(u))}}return t}},1,0,["component","box","container","panel","draw"],{component:true,box:true,container:true,panel:true,draw:true},0,0,[Ext.chart,"AbstractChart"],0));Ext.define("Ext.chart.overrides.AbstractChart",{override:"Ext.chart.AbstractChart",updateLegend:function(g,k){arguments.callee.$previous.call(this,g,k);if(g&&g.isDomLegend){this.addDocked(g)}},performLayout:function(){if(this.isVisible(true)){return arguments.callee.$previous.call(this)}this.cancelChartLayout();return false},afterComponentLayout:function(m,o,n,l){(arguments.callee.$previous||Ext.draw.Container.prototype.afterComponentLayout).call(this,m,o,n,l);this.scheduleLayout()},allowSchedule:function(){return this.rendered},doDestroy:function(){this.destroyChart();(arguments.callee.$previous||Ext.draw.Container.prototype.doDestroy).call(this)}});(Ext.cmd.derive("Ext.chart.grid.HorizontalGrid",Ext.draw.sprite.Sprite,{inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number"},defaults:{x:0,y:0,width:1,height:1,strokeStyle:"#DDD"}}},render:function(s,q,o){var t=this.attr,n=s.roundPixel(t.y),p=q.lineWidth*0.5;q.beginPath();q.rect(o[0]-s.matrix.getDX(),n+p,+o[2],t.height);q.fill();q.beginPath();q.moveTo(o[0]-s.matrix.getDX(),n+p);q.lineTo(o[0]+o[2]-s.matrix.getDX(),n+p);q.stroke()}},0,0,0,0,["grid.horizontal"],0,[Ext.chart.grid,"HorizontalGrid"],0));(Ext.cmd.derive("Ext.chart.grid.VerticalGrid",Ext.draw.sprite.Sprite,{inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number"},defaults:{x:0,y:0,width:1,height:1,strokeStyle:"#DDD"}}},render:function(q,p,n){var s=this.attr,t=q.roundPixel(s.x),o=p.lineWidth*0.5;p.beginPath();p.rect(t-o,n[1]-q.matrix.getDY(),s.width,n[3]);p.fill();p.beginPath();p.moveTo(t-o,n[1]-q.matrix.getDY());p.lineTo(t-o,n[1]+n[3]-q.matrix.getDY());p.stroke()}},0,0,0,0,["grid.vertical"],0,[Ext.chart.grid,"VerticalGrid"],0));(Ext.cmd.derive("Ext.chart.CartesianChart",Ext.chart.AbstractChart,{alternateClassName:"Ext.chart.Chart",isCartesian:true,config:{flipXY:false,innerRect:[0,0,1,1],innerPadding:{top:0,left:0,right:0,bottom:0}},applyInnerPadding:function(g,k){if(!Ext.isObject(g)){return Ext.util.Format.parseBox(g)}else{if(!k){return g}else{return Ext.apply(k,g)}}},getDirectionForAxis:function(k){var g=this.getFlipXY();if(k==="left"||k==="right"){if(g){return"X"}else{return"Y"}}else{if(g){return"Y"}else{return"X"}}},performLayout:function(){var L=this;L.animationSuspendCount++;if(Ext.chart.AbstractChart.prototype.performLayout.call(this)===false){--L.animationSuspendCount;return}var ae=L.getSurface("chart").getRect(),O=ae[2],Q=ae[3],N=L.getAxes(),ag,K=L.getSeries(),aa,U,ah,ac=L.getInsetPadding(),V=L.getInnerPadding(),J,af,ad=Ext.apply({},ac),X,M,I,W,S,P,Z,R,ab,Y=L.getInherited().rtl,T=L.getFlipXY();if(O<=0||Q<=0){return}L.suspendThicknessChanged();ad.left+=ae[0];ad.top+=ae[1];for(R=0;R<N.length;R++){ag=N[R];U=ag.getSurface();S=ag.getFloating();P=S?S.value:null;ah=ag.getThickness();switch(ag.getPosition()){case"top":U.setRect([0,ad.top+1,O,ah]);break;case"bottom":U.setRect([0,Q-(ad.bottom+ah),O,ah]);break;case"left":U.setRect([ad.left,0,ah,Q]);break;case"right":U.setRect([O-(ad.right+ah),0,ah,Q]);break}if(P===null){ad[ag.getPosition()]+=ah}}O-=ad.left+ad.right;Q-=ad.top+ad.bottom;X=[ad.left,ad.top,O,Q];ad.left+=V.left;ad.top+=V.top;ad.right+=V.right;ad.bottom+=V.bottom;M=O-V.left-V.right;I=Q-V.top-V.bottom;L.setInnerRect([ad.left,ad.top,M,I]);if(M<=0||I<=0){return}L.setMainRect(X);L.getSurface().setRect(X);for(R=0,ab=L.surfaceMap.grid&&L.surfaceMap.grid.length;R<ab;R++){af=L.surfaceMap.grid[R];af.setRect(X);af.matrix.set(1,0,0,1,V.left,V.top);af.matrix.inverse(af.inverseMatrix)}for(R=0;R<N.length;R++){ag=N[R];U=ag.getSurface();Z=U.matrix;W=Z.elements;switch(ag.getPosition()){case"top":case"bottom":W[4]=ad.left;ag.setLength(M);break;case"left":case"right":W[5]=ad.top;ag.setLength(I);break}ag.updateTitleSprite();Z.inverse(U.inverseMatrix)}for(R=0,ab=K.length;R<ab;R++){aa=K[R];J=aa.getSurface();J.setRect(X);if(T){if(Y){J.matrix.set(0,-1,-1,0,V.left+M,V.top+I)}else{J.matrix.set(0,-1,1,0,V.left,V.top+I)}}else{J.matrix.set(1,0,0,-1,V.left,V.top+I)}J.matrix.inverse(J.inverseMatrix);aa.getOverlaySurface().setRect(X)}L.redraw();L.animationSuspendCount--;L.resumeThicknessChanged()},refloatAxes:function(){var A=this,C=A.getAxes(),L=(C&&C.length)||0,G,F,M,D,O,H,P,B=A.getChartRect(),J=A.getInsetPadding(),K=A.getInnerPadding(),I=B[2]-J.left-J.right,N=B[3]-J.top-J.bottom,z,E;for(E=0;E<L;E++){G=C[E];D=G.getFloating();O=D?D.value:null;if(O===null){G.floatingAtCoord=null;continue}F=G.getSurface();M=F.getRect();if(!M){continue}M=M.slice();H=A.getAxis(D.alongAxis);if(H){z=H.getAlignment()==="horizontal";if(Ext.isString(O)){O=H.getCoordFor(O)}H.floatingAxes[G.getId()]=O;P=H.getSprites()[0].attr.matrix;if(z){O=O*P.getXX()+P.getDX();G.floatingAtCoord=O+K.left+K.right}else{O=O*P.getYY()+P.getDY();G.floatingAtCoord=O+K.top+K.bottom}}else{z=G.getAlignment()==="horizontal";if(z){G.floatingAtCoord=O+K.top+K.bottom}else{G.floatingAtCoord=O+K.left+K.right}O=F.roundPixel(0.01*O*(z?N:I))}switch(G.getPosition()){case"top":M[1]=J.top+K.top+O-M[3]+1;break;case"bottom":M[1]=J.top+K.top+(H?O:N-O);break;case"left":M[0]=J.left+K.left+O-M[2];break;case"right":M[0]=J.left+K.left+(H?O:I-O)-1;break}F.setRect(M)}},redraw:function(){var L=this,M=L.getSeries(),S=L.getAxes(),ai=L.getMainRect(),Q,J,X=L.getInnerPadding(),ae,Z,K,af,O,P,Y,ad,ag,ah,aj,ab,U,T=L.getFlipXY(),W=1000,V,aa,ac,R,N;if(!ai){return}Q=ai[2]-X.left-X.right;J=ai[3]-X.top-X.bottom;for(P=0;P<M.length;P++){ac=M[P];if((ah=ac.getXAxis())){U=ah.getVisibleRange();Z=ah.getRange();Z=[Z[0]+(Z[1]-Z[0])*U[0],Z[0]+(Z[1]-Z[0])*U[1]]}else{Z=ac.getXRange()}if((aj=ac.getYAxis())){U=aj.getVisibleRange();K=aj.getRange();K=[K[0]+(K[1]-K[0])*U[0],K[0]+(K[1]-K[0])*U[1]]}else{K=ac.getYRange()}O={visibleMinX:Z[0],visibleMaxX:Z[1],visibleMinY:K[0],visibleMaxY:K[1],innerWidth:Q,innerHeight:J,flipXY:T};ae=ac.getSprites();for(Y=0,ad=ae.length;Y<ad;Y++){R=ae[Y];V=R.attr.zIndex;if(V<W){V+=(P+1)*100+W;R.attr.zIndex=V;N=R.getMarker("items");if(N){aa=N.attr.zIndex;if(aa===Number.MAX_VALUE){N.attr.zIndex=V}else{if(aa<W){N.attr.zIndex=V+aa}}}}R.setAttributes(O,true)}}for(P=0;P<S.length;P++){ag=S[P];af=ag.isSide();ae=ag.getSprites();ab=ag.getRange();U=ag.getVisibleRange();O={dataMin:ab[0],dataMax:ab[1],visibleMin:U[0],visibleMax:U[1]};if(af){O.length=J;O.startGap=X.bottom;O.endGap=X.top}else{O.length=Q;O.startGap=X.left;O.endGap=X.right}for(Y=0,ad=ae.length;Y<ad;Y++){ae[Y].setAttributes(O,true)}}L.renderFrame();Ext.chart.AbstractChart.prototype.redraw.apply(this,arguments)},renderFrame:function(){this.refloatAxes();Ext.chart.AbstractChart.prototype.renderFrame.call(this)}},0,["chart","cartesian"],["component","box","container","panel","draw","cartesian","chart"],{component:true,box:true,container:true,panel:true,draw:true,cartesian:true,chart:true},["widget.cartesian","widget.chart"],0,[Ext.chart,"CartesianChart",Ext.chart,"Chart"],0));(Ext.cmd.derive("Ext.chart.grid.CircularGrid",Ext.draw.sprite.Circle,{inheritableStatics:{def:{defaults:{r:1,strokeStyle:"#DDD"}}}},0,0,0,0,["grid.circular"],0,[Ext.chart.grid,"CircularGrid"],0));(Ext.cmd.derive("Ext.chart.grid.RadialGrid",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{startRadius:"number",endRadius:"number"},defaults:{startRadius:0,endRadius:1,scalingCenterX:0,scalingCenterY:0,strokeStyle:"#DDD"},triggers:{startRadius:"path,bbox",endRadius:"path,bbox"}}},render:function(){Ext.draw.sprite.Path.prototype.render.apply(this,arguments)},updatePath:function(l,o){var n=o.startRadius,m=o.endRadius;l.moveTo(n,0);l.lineTo(m,0)}},0,0,0,0,["grid.radial"],0,[Ext.chart.grid,"RadialGrid"],0));(Ext.cmd.derive("Ext.chart.PolarChart",Ext.chart.AbstractChart,{isPolar:true,config:{center:[0,0],radius:0,innerPadding:0},getDirectionForAxis:function(f){return f==="radial"?"Y":"X"},applyCenter:function(k,g){if(g&&k[0]===g[0]&&k[1]===g[1]){return}return[+k[0],+k[1]]},updateCenter:function(v){var x=this,w=x.getAxes(),s=x.getSeries(),t,p,q,u;for(t=0,p=w.length;t<p;t++){q=w[t];q.setCenter(v)}for(t=0,p=s.length;t<p;t++){u=s[t];u.setCenter(v)}},applyInnerPadding:function(g,k){return Ext.isNumber(g)?g:k},doSetSurfaceRect:function(l,k){var m=this.getMainRect();l.setRect(k);l.matrix.set(1,0,0,1,m[0]-k[0],m[1]-k[1]);l.inverseMatrix.set(1,0,0,1,k[0]-m[0],k[1]-m[1])},applyAxes:function(p,w){var q=this,x=Ext.Array.from(q.config.series)[0],u,s,t,v;if(x.type==="radar"&&p&&p.length){for(u=0,s=p.length;u<s;u++){t=p[u];if(t.position==="angular"){v=true;break}}if(!v){p.push({type:"category",position:"angular",fields:x.xField||x.angleField,style:{estStepSize:1},grid:true})}}return Ext.chart.AbstractChart.prototype.applyAxes.call(this,p,w)},performLayout:function(){var O=this,al=true;try{O.animationSuspendCount++;if(Ext.chart.AbstractChart.prototype.performLayout.call(this)===false){al=false;return}O.suspendThicknessChanged();var ak=O.getSurface("chart").getRect(),af=O.getInsetPadding(),N=O.getInnerPadding(),ad=Ext.apply({},af),Q=Math.max(1,ak[2]-ak[0]-af.left-af.right),S=Math.max(1,ak[3]-ak[1]-af.top-af.bottom),ab=[af.left,af.top,Q+ak[0],S+ak[1]],ah=O.getSeries(),ai=Q-N*2,ae=S-N*2,R=[ak[0]+ai*0.5+N,ak[1]+ae*0.5+N],aj=Math.min(ai,ae)*0.5,V=O.getAxes(),ac=[],W=[],P=aj-N,aq=O.surfaceMap.grid,Y,aa,ap,U,Z,an,T,ao,X,am,ar,ag;O.setMainRect(ab);O.doSetSurfaceRect(O.getSurface(),ab);if(aq){for(Y=0,aa=aq.length;Y<aa;Y++){O.doSetSurfaceRect(aq[Y],ak)}}for(Y=0,aa=V.length;Y<aa;Y++){am=V[Y];switch(am.getPosition()){case"angular":ac.push(am);break;case"radial":W.push(am);break}}for(Y=0,aa=ac.length;Y<aa;Y++){am=ac[Y];U=am.getFloating();Z=U?U.value:null;O.doSetSurfaceRect(am.getSurface(),ak);ar=am.getThickness();for(ao in ad){ad[ao]+=ar}Q=ak[2]-ad.left-ad.right;S=ak[3]-ad.top-ad.bottom;ap=Math.min(Q,S)*0.5;if(Y===0){P=ap-N}am.setMinimum(0);am.setLength(ap);am.getSprites();ag=am.sprites[0].attr.lineWidth*0.5;for(ao in ad){ad[ao]+=ag}}for(Y=0,aa=W.length;Y<aa;Y++){am=W[Y];O.doSetSurfaceRect(am.getSurface(),ak);am.setMinimum(0);am.setLength(P);am.getSprites()}for(Y=0,aa=ah.length;Y<aa;Y++){X=ah[Y];if(X.type==="gauge"&&!an){an=X}else{X.setRadius(P)}O.doSetSurfaceRect(X.getSurface(),ab)}O.doSetSurfaceRect(O.getSurface("overlay"),ak);if(an){an.setRect(ab);T=an.getRadius()-N;O.setRadius(T);O.setCenter(an.getCenter());an.setRadius(T);if(V.length&&V[0].getPosition()==="gauge"){am=V[0];O.doSetSurfaceRect(am.getSurface(),ak);am.setTotalAngle(an.getTotalAngle());am.setLength(T)}}else{O.setRadius(aj);O.setCenter(R)}O.redraw()}finally{O.animationSuspendCount--;if(al){O.resumeThicknessChanged()}}},refloatAxes:function(){var n=this,u=n.getAxes(),t=n.getMainRect(),v,B,z,x,A,y,w;if(!t){return}w=0.5*Math.min(t[2],t[3]);for(x=0,A=u.length;x<A;x++){y=u[x];v=y.getFloating();B=v?v.value:null;if(B!==null){z=n.getAxis(v.alongAxis);if(y.getPosition()==="angular"){if(z){B=z.getLength()*B/z.getRange()[1]}else{B=0.01*B*w}y.sprites[0].setAttributes({length:B},true)}else{if(z){if(Ext.isString(B)){B=z.getCoordFor(B)}B=B/(z.getRange()[1]+1)*Math.PI*2-Math.PI*1.5+y.getRotation()}else{B=Ext.draw.Draw.rad(B)}y.sprites[0].setAttributes({baseRotation:B},true)}}}},redraw:function(){var o=this,v=o.getAxes(),q,s=o.getSeries(),t,u,p;for(u=0,p=v.length;u<p;u++){q=v[u];q.getSprites()}for(u=0,p=s.length;u<p;u++){t=s[u];t.getSprites()}o.renderFrame();Ext.chart.AbstractChart.prototype.redraw.call(this)},renderFrame:function(){this.refloatAxes();Ext.chart.AbstractChart.prototype.renderFrame.call(this)}},0,["polar"],["component","box","container","panel","draw","polar"],{component:true,box:true,container:true,panel:true,draw:true,polar:true},["widget.polar"],0,[Ext.chart,"PolarChart"],0));(Ext.cmd.derive("Ext.chart.SpaceFillingChart",Ext.chart.AbstractChart,{config:{},performLayout:function(){var v=this;try{v.animationSuspendCount++;if(Ext.chart.AbstractChart.prototype.performLayout.call(this)===false){return}var u=v.getSurface("chart").getRect(),t=v.getInsetPadding(),B=u[2]-t.left-t.right,s=u[3]-t.top-t.bottom,w=[t.left,t.top,B,s],A=v.getSeries(),y,z,x;v.getSurface().setRect(w);v.setMainRect(w);for(z=0,x=A.length;z<x;z++){y=A[z];y.getSurface().setRect(w);if(y.setRect){y.setRect(w)}y.getOverlaySurface().setRect(u)}v.redraw()}finally{v.animationSuspendCount--}},redraw:function(){var m=this,o=m.getSeries(),p,q,n;for(q=0,n=o.length;q<n;q++){p=o[q];p.getSprites()}m.renderFrame();Ext.chart.AbstractChart.prototype.redraw.call(this)}},0,["spacefilling"],["component","box","container","panel","draw","spacefilling"],{component:true,box:true,container:true,panel:true,draw:true,spacefilling:true},["widget.spacefilling"],0,[Ext.chart,"SpaceFillingChart"],0));(Ext.cmd.derive("Ext.chart.axis.sprite.Axis3D",Ext.chart.axis.sprite.Axis,{type:"axis3d",inheritableStatics:{def:{processors:{depth:"number"},defaults:{depth:0},triggers:{depth:"layout"}}},config:{fx:{customDurations:{depth:0}}},layoutUpdater:function(){var s=this,u=s.getAxis().getChart();if(u.isInitializing){return}var v=s.attr,w=s.getLayout(),x=w.isDiscrete?0:v.depth,t=u.getInherited().rtl,y=v.dataMin+(v.dataMax-v.dataMin)*v.visibleMin,q=v.dataMin+(v.dataMax-v.dataMin)*v.visibleMax,z={attr:v,segmenter:s.getSegmenter(),renderer:s.defaultRenderer};if(v.position==="left"||v.position==="right"){v.translationX=0;v.translationY=q*(v.length-x)/(q-y)+x;v.scalingX=1;v.scalingY=(-v.length+x)/(q-y);v.scalingCenterY=0;v.scalingCenterX=0;s.applyTransformations(true)}else{if(v.position==="top"||v.position==="bottom"){if(t){v.translationX=v.length+y*v.length/(q-y)+1}else{v.translationX=-y*v.length/(q-y)}v.translationY=0;v.scalingX=(t?-1:1)*(v.length-x)/(q-y);v.scalingY=1;v.scalingCenterY=0;v.scalingCenterX=0;s.applyTransformations(true)}}if(w){w.calculateLayout(z);s.setLayoutContext(z)}},renderAxisLine:function(C,t,x,A){var u=this,v=u.attr,B=v.lineWidth*0.5,x=u.getLayout(),z=x.isDiscrete?0:v.depth,D=v.position,y,w;if(v.axisLine&&v.length){switch(D){case"left":y=C.roundPixel(A[2])-B;t.moveTo(y,-v.endGap+z);t.lineTo(y,v.length+v.startGap);break;case"right":t.moveTo(B,-v.endGap);t.lineTo(B,v.length+v.startGap);break;case"bottom":t.moveTo(-v.startGap,B);t.lineTo(v.length-z+v.endGap,B);break;case"top":y=C.roundPixel(A[3])-B;t.moveTo(-v.startGap,y);t.lineTo(v.length+v.endGap,y);break;case"angular":t.moveTo(v.centerX+v.length,v.centerY);t.arc(v.centerX,v.centerY,v.length,0,Math.PI*2,true);break;case"gauge":w=u.getGaugeAngles();t.moveTo(v.centerX+Math.cos(w.start)*v.length,v.centerY+Math.sin(w.start)*v.length);t.arc(v.centerX,v.centerY,v.length,w.start,w.end,true);break}}}},0,0,0,0,["sprite.axis3d"],0,[Ext.chart.axis.sprite,"Axis3D"],0));(Ext.cmd.derive("Ext.chart.axis.Axis3D",Ext.chart.axis.Axis,{config:{depth:0},onSeriesChange:function(p){var v=this,t="depthchange",o="onSeriesDepthChange",q,s;function u(f){var e=v.boundSeries;for(q=0;q<e.length;q++){s=e[q];s[f](t,o,v)}}u("un");Ext.chart.axis.Axis.prototype.onSeriesChange.apply(this,arguments);u("on")},onSeriesDepthChange:function(t,o){var q=this,v=o,p=q.boundSeries,u,s;if(o>q.getDepth()){v=o}else{for(u=0;u<p.length;u++){s=p[u];if(s!==t&&s.getDepth){o=s.getDepth();if(o>v){v=o}}}}q.setDepth(v)},updateDepth:function(l){var n=this,m=n.getSprites(),o={depth:l};if(m&&m.length){m[0].setAttributes(o)}if(n.gridSpriteEven&&n.gridSpriteOdd){n.gridSpriteEven.getTemplate().setAttributes(o);n.gridSpriteOdd.getTemplate().setAttributes(o)}},getGridAlignment:function(){switch(this.getPosition()){case"left":case"right":return"horizontal3d";case"top":case"bottom":return"vertical3d"}}},0,["axis3d"],["axis","axis3d"],{axis:true,axis3d:true},["widget.axis3d"],0,[Ext.chart.axis,"Axis3D"],0));(Ext.cmd.derive("Ext.chart.axis.Category",Ext.chart.axis.Axis,{type:"category",config:{layout:"combineDuplicate",segmenter:"names"}},0,0,["axis"],{axis:true},["axis.category"],0,[Ext.chart.axis,"Category"],0));(Ext.cmd.derive("Ext.chart.axis.Category3D",Ext.chart.axis.Axis3D,{type:"category3d",config:{layout:"combineDuplicate",segmenter:"names"}},0,0,["axis","axis3d"],{axis:true,axis3d:true},["axis.category3d"],0,[Ext.chart.axis,"Category3D"],0));(Ext.cmd.derive("Ext.chart.axis.Numeric",Ext.chart.axis.Axis,{type:"numeric",config:{layout:"continuous",segmenter:"numeric",aggregator:"double"}},0,0,["axis"],{axis:true},["axis.numeric","axis.radial"],0,[Ext.chart.axis,"Numeric"],0));(Ext.cmd.derive("Ext.chart.axis.Numeric3D",Ext.chart.axis.Axis3D,{type:"numeric3d",config:{layout:"continuous",segmenter:"numeric",aggregator:"double"}},0,0,["axis","axis3d"],{axis:true,axis3d:true},["axis.numeric3d"],0,[Ext.chart.axis,"Numeric3D"],0));(Ext.cmd.derive("Ext.chart.axis.Time",Ext.chart.axis.Numeric,{type:"time",config:{calculateByLabelSize:true,dateFormat:null,fromDate:null,toDate:null,layout:"continuous",segmenter:"time",aggregator:"time"},updateDateFormat:function(g){var k=this.getRenderer();if(!k||k.isDefault){k=function(e,f){return Ext.Date.format(new Date(f),g)};k.isDefault=true;this.setRenderer(k);this.performLayout()}},updateRenderer:function(g){var k=this.getDateFormat();if(g){this.performLayout()}else{if(k){this.updateDateFormat(k)}}},updateFromDate:function(f){this.setMinimum(+f)},updateToDate:function(f){this.setMaximum(+f)},getCoordFor:function(f){if(Ext.isString(f)){f=new Date(f)}return +f}},0,0,["axis"],{axis:true},["axis.time"],0,[Ext.chart.axis,"Time"],0));(Ext.cmd.derive("Ext.chart.axis.Time3D",Ext.chart.axis.Numeric3D,{type:"time3d",config:{calculateByLabelSize:true,dateFormat:null,fromDate:null,toDate:null,layout:"continuous",segmenter:"time",aggregator:"time"},updateDateFormat:function(f){this.setRenderer(function(e,k){return Ext.Date.format(new Date(k),f)})},updateFromDate:function(f){this.setMinimum(+f)},updateToDate:function(f){this.setMaximum(+f)},getCoordFor:function(f){if(Ext.isString(f)){f=new Date(f)}return +f}},0,0,["axis","axis3d"],{axis:true,axis3d:true},["axis.time3d"],0,[Ext.chart.axis,"Time3D"],0));(Ext.cmd.derive("Ext.chart.grid.HorizontalGrid3D",Ext.chart.grid.HorizontalGrid,{inheritableStatics:{def:{processors:{depth:"number"},defaults:{depth:0}}},render:function(D,F,w){var z=this.attr,v=D.roundPixel(z.x),x=D.roundPixel(z.y),E=D.matrix.getDX(),B=F.lineWidth*0.5,u=z.height,A=z.depth,C,y;if(x<=w[1]){return}C=w[0]+A-E;y=x+B-A;F.beginPath();F.rect(C,y,w[2],u);F.fill();F.beginPath();F.moveTo(C,y);F.lineTo(C+w[2],y);F.stroke();C=w[0]+v-E;y=x+B;F.beginPath();F.moveTo(C,y);F.lineTo(C+A,y-A);F.lineTo(C+A,y-A+u);F.lineTo(C,y+u);F.closePath();F.fill();F.beginPath();F.moveTo(C,y);F.lineTo(C+A,y-A);F.stroke()}},0,0,0,0,["grid.horizontal3d"],0,[Ext.chart.grid,"HorizontalGrid3D"],0));(Ext.cmd.derive("Ext.chart.grid.VerticalGrid3D",Ext.chart.grid.VerticalGrid,{inheritableStatics:{def:{processors:{depth:"number"},defaults:{depth:0}}},render:function(B,t,y){var w=this.attr,u=B.roundPixel(w.x),D=B.matrix.getDY(),z=t.lineWidth*0.5,C=w.width,x=w.depth,A,v;if(u>=y[2]){return}A=u-z+x;v=y[1]-x-D;t.beginPath();t.rect(A,v,C,y[3]);t.fill();t.beginPath();t.moveTo(A,v);t.lineTo(A,v+y[3]);t.stroke();A=u-z;v=y[3];t.beginPath();t.moveTo(A,v);t.lineTo(A+x,v-x);t.lineTo(A+x+C,v-x);t.lineTo(A+C,v);t.closePath();t.fill();A=u-z;v=y[3];t.beginPath();t.moveTo(A,v);t.lineTo(A+x,v-x);t.stroke()}},0,0,0,0,["grid.vertical3d"],0,[Ext.chart.grid,"VerticalGrid3D"],0));(Ext.cmd.derive("Ext.chart.interactions.CrossZoom",Ext.chart.interactions.Abstract,{type:"crosszoom",isCrossZoom:true,config:{axes:true,gestures:{dragstart:"onGestureStart",drag:"onGesture",dragend:"onGestureEnd",dblclick:"onDoubleTap"},undoButton:{}},stopAnimationBeforeSync:false,zoomAnimationInProgress:false,constructor:function(){Ext.chart.interactions.Abstract.prototype.constructor.apply(this,arguments);this.zoomHistory=[]},applyAxes:function(g){var k={};if(g===true){return{top:{},right:{},bottom:{},left:{}}}else{if(Ext.isArray(g)){k={};Ext.each(g,function(e){k[e]={}})}else{if(Ext.isObject(g)){Ext.iterate(g,function(f,e){if(e===true){k[f]={}}else{if(e!==false){k[f]=e}}})}}}return k},applyUndoButton:function(l,m){var k=this;if(m){m.destroy()}if(l){return Ext.create("Ext.Button",Ext.apply({cls:[],text:"Undo Zoom",disabled:true,handler:function(){k.undoZoom()}},l))}},getSurface:function(){return this.getChart()&&this.getChart().getSurface("main")},setSeriesOpacity:function(g){var k=this.getChart()&&this.getChart().getSurface("series");if(k){k.element.setStyle("opacity",g)}},onGestureStart:function(x){var e=this,w=e.getChart(),A=e.getSurface(),G=w.getInnerRect(),B=w.getInnerPadding(),y=B.left,C=y+G[2],z=B.top,D=z+G[3],E=w.getEventXY(x),F=E[0],H=E[1];x.claimGesture();if(e.zoomAnimationInProgress){return}if(F>y&&F<C&&H>z&&H<D){e.gestureEvent="drag";e.lockEvents(e.gestureEvent);e.startX=F;e.startY=H;e.selectionRect=A.add({type:"rect",globalAlpha:0.5,fillStyle:"rgba(80,80,140,0.5)",strokeStyle:"rgba(80,80,140,1)",lineWidth:2,x:F,y:H,width:0,height:0,zIndex:10000});e.setSeriesOpacity(0.8);return false}},onGesture:function(x){var e=this;if(e.zoomAnimationInProgress){return}if(e.getLocks()[e.gestureEvent]===e){var w=e.getChart(),A=e.getSurface(),G=w.getInnerRect(),B=w.getInnerPadding(),y=B.left,C=y+G[2],z=B.top,D=z+G[3],E=w.getEventXY(x),F=E[0],H=E[1];if(F<y){F=y}else{if(F>C){F=C}}if(H<z){H=z}else{if(H>D){H=D}}e.selectionRect.setAttributes({width:F-e.startX,height:H-e.startY});if(Math.abs(e.startX-F)<11||Math.abs(e.startY-H)<11){e.selectionRect.setAttributes({globalAlpha:0.5})}else{e.selectionRect.setAttributes({globalAlpha:1})}A.renderFrame();return false}},onGestureEnd:function(x){var K=this;if(K.zoomAnimationInProgress){return}if(K.getLocks()[K.gestureEvent]===K){var L=K.getChart(),C=K.getSurface(),I=L.getInnerRect(),D=L.getInnerPadding(),A=D.left,E=A+I[2],B=D.top,F=B+I[3],y=I[2],e=I[3],G=L.getEventXY(x),H=G[0],J=G[1];if(H<A){H=A}else{if(H>E){H=E}}if(J<B){J=B}else{if(J>F){J=F}}if(Math.abs(K.startX-H)<11||Math.abs(K.startY-J)<11){C.remove(K.selectionRect)}else{K.zoomBy([Math.min(K.startX,H)/y,1-Math.max(K.startY,J)/e,Math.max(K.startX,H)/y,1-Math.min(K.startY,J)/e]);K.selectionRect.setAttributes({x:Math.min(K.startX,H),y:Math.min(K.startY,J),width:Math.abs(K.startX-H),height:Math.abs(K.startY-J)});K.selectionRect.setAnimation(L.getAnimation()||{duration:0});K.selectionRect.setAttributes({globalAlpha:0,x:0,y:0,width:y,height:e});K.zoomAnimationInProgress=true;L.suspendThicknessChanged();K.selectionRect.fx.on("animationend",function(){L.resumeThicknessChanged();C.remove(K.selectionRect);K.selectionRect=null;K.zoomAnimationInProgress=false})}C.renderFrame();K.sync();K.unlockEvents(K.gestureEvent);K.setSeriesOpacity(1);if(!K.zoomAnimationInProgress){C.remove(K.selectionRect);K.selectionRect=null}}},zoomBy:function(G){var H=this,F=H.getAxes(),w=H.getChart(),x=w.getAxes(),J=w.getInherited().rtl,A,C={},D,E;if(J){G=G.slice();D=1-G[0];E=1-G[2];G[0]=Math.min(D,E);G[2]=Math.max(D,E)}for(var y=0;y<x.length;y++){var z=x[y];A=F[z.getPosition()];if(A&&A.allowZoom!==false){var B=z.isSide(),I=z.getVisibleRange();C[z.getId()]=I.slice(0);if(!B){z.setVisibleRange([(I[1]-I[0])*G[0]+I[0],(I[1]-I[0])*G[2]+I[0]])}else{z.setVisibleRange([(I[1]-I[0])*G[1]+I[0],(I[1]-I[0])*G[3]+I[0]])}}}H.zoomHistory.push(C);H.getUndoButton().setDisabled(false)},undoZoom:function(){var m=this.zoomHistory.pop(),l=this.getChart().getAxes();if(m){for(var o=0;o<l.length;o++){var n=l[o];if(m[n.getId()]){n.setVisibleRange(m[n.getId()])}}}this.getUndoButton().setDisabled(this.zoomHistory.length===0);this.sync()},onDoubleTap:function(e){this.undoZoom()},destroy:function(){this.setUndoButton(null);Ext.chart.interactions.Abstract.prototype.destroy.call(this)}},1,0,["interaction"],{interaction:true},["interaction.crosszoom"],0,[Ext.chart.interactions,"CrossZoom"],0));(Ext.cmd.derive("Ext.chart.interactions.Crosshair",Ext.chart.interactions.Abstract,{type:"crosshair",config:{axes:{top:{label:{},rect:{}},right:{label:{},rect:{}},bottom:{label:{},rect:{}},left:{label:{},rect:{}}},lines:{horizontal:{strokeStyle:"black",lineDash:[5,5]},vertical:{strokeStyle:"black",lineDash:[5,5]}},gesture:"drag"},applyAxes:function(g,k){return Ext.merge(k||{},g)},applyLines:function(k,g){return Ext.merge(g||{},k)},updateChart:function(f){if(f&&!f.isCartesian){Ext.raise("Crosshair interaction can only be used on cartesian charts.")}Ext.chart.interactions.Abstract.prototype.updateChart.apply(this,arguments)},getGestures:function(){var k=this,g={};g[k.getGesture()]="onGesture";g[k.getGesture()+"start"]="onGestureStart";g[k.getGesture()+"end"]="onGestureEnd";return g},onGestureStart:function(x){var au=this,e=au.getChart(),ag=e.getTheme().getAxis(),ah,ac=e.getSurface("overlay"),an=e.getInnerRect(),at=an[2],y=an[3],ao=e.getEventXY(x),ae=ao[0],af=ao[1],ad=e.getAxes(),al=au.getAxes(),ay=au.getLines(),ap,ak,aD,aB,aw,ai,ab,W,Y,ar,Z,aj,av,aA,aq,ax,am,aE,az,aa,aC,X;x.claimGesture();if(ae>0&&ae<at&&af>0&&af<y){au.lockEvents(au.getGesture());aa=Ext.apply({xclass:"Ext.chart.grid.HorizontalGrid",x:0,y:af,width:at},ay.horizontal);aC=Ext.apply({xclass:"Ext.chart.grid.VerticalGrid",x:ae,y:0,height:y},ay.vertical);au.axesLabels=au.axesLabels||{};for(X=0;X<ad.length;X++){ap=ad[X];ak=ap.getSurface();aD=ak.getRect();aj=ap.getSprites()[0];aB=aD[2];aw=aD[3];ai=ap.getPosition();ab=ap.getAlignment();am=ap.getTitle();aE=am&&am.attr.text!==""&&am.getBBox();av=aj.attr;aA=aj.thickness;aq=av.axisLine?av.lineWidth:0;ax=aq/2;Z=Math.max(av.majorTickSize,av.minorTickSize)+aq;W=au.axesLabels[ai]=ak.add({type:"composite"});W.labelRect=W.add(Ext.apply({type:"rect",fillStyle:"white",x:ai==="right"?aq:0,y:ai==="bottom"?aq:0,width:aB-aq-(ab==="vertical"&&aE?aE.width:0),height:aw-aq-(ab==="horizontal"&&aE?aE.height:0),translationX:ai==="left"&&aE?aE.width:0,translationY:ai==="top"&&aE?aE.height:0},al.rect||al[ai].rect));if(ab==="vertical"&&!aC.strokeStyle){aC.strokeStyle=av.strokeStyle}if(ab==="horizontal"&&!aa.strokeStyle){aa.strokeStyle=av.strokeStyle}ah=Ext.merge({},ag.defaults,ag[ai]);Y=Ext.apply({},ap.config.label,ah.label);ar=al.label||al[ai].label;W.labelText=W.add(Ext.apply(Y,ar,{type:"text",x:(function(){switch(ai){case"left":az=aE?aE.x+aE.width:0;return az+(aB-az-Z)/2-ax;case"right":az=aE?aB-aE.x:0;return Z+(aB-Z-az)/2+ax;default:return 0}})(),y:(function(){switch(ai){case"top":az=aE?aE.y+aE.height:0;return az+(aw-az-Z)/2-ax;case"bottom":az=aE?aw-aE.y:0;return Z+(aw-Z-az)/2+ax;default:return 0}})()}))}au.horizontalLine=ac.add(aa);au.verticalLine=ac.add(aC);return false}},onGesture:function(T){var e=this;if(e.getLocks()[e.getGesture()]!==e){return}var aj=e.getChart(),ad=aj.getSurface("overlay"),aw=Ext.Array.slice(aj.getInnerRect()),an=aj.getInnerPadding(),ak=an.left,X=an.top,V=aw[2],ar=aw[3],at=aj.getEventXY(T),am=at[0],ao=at[1],W=aj.getAxes(),au,ap,ah,ab,x,af,y,S,al,av,Y,aq,ag,ae,ai,aa,U,ac,Z;if(am<0){am=0}else{if(am>V){am=V}}if(ao<0){ao=0}else{if(ao>ar){ao=ar}}am+=ak;ao+=X;for(Z=0;Z<W.length;Z++){au=W[Z];ap=au.getPosition();ah=au.getAlignment();ab=au.getSurface();x=au.getSprites()[0];af=x.attr.matrix;Y=x.attr.textPadding*2;al=e.axesLabels[ap];y=x.getLayoutContext();S=au.getSegmenter();if(al){if(ah==="vertical"){ag=af.getYY();ai=af.getDY();U=(ao-ai-X)/ag;if(au.getLayout() instanceof Ext.chart.axis.layout.Discrete){ao=Math.round(U)*ag+ai+X;U=S.from(Math.round(U));U=x.attr.data[U]}else{U=S.from(U)}ac=S.renderer(U,y);al.setAttributes({translationY:ao-X});al.labelText.setAttributes({text:ac});av=al.labelText.getBBox();al.labelRect.setAttributes({height:av.height+Y,y:-(av.height+Y)/2});ab.renderFrame()}else{aq=af.getXX();ae=af.getDX();aa=(am-ae-ak)/aq;if(au.getLayout() instanceof Ext.chart.axis.layout.Discrete){am=Math.round(aa)*aq+ae+ak;aa=S.from(Math.round(aa));aa=x.attr.data[aa]}else{aa=S.from(aa)}ac=S.renderer(aa,y);al.setAttributes({translationX:am-ak});al.labelText.setAttributes({text:ac});av=al.labelText.getBBox();al.labelRect.setAttributes({width:av.width+Y,x:-(av.width+Y)/2});ab.renderFrame()}}}e.horizontalLine.setAttributes({y:ao,strokeStyle:x.attr.strokeStyle});e.verticalLine.setAttributes({x:am,strokeStyle:x.attr.strokeStyle});ad.renderFrame();return false},onGestureEnd:function(u){var B=this,e=B.getChart(),A=e.getSurface("overlay"),t=e.getAxes(),y,v,x,z,w;A.remove(B.verticalLine);A.remove(B.horizontalLine);for(w=0;w<t.length;w++){y=t[w];v=y.getPosition();x=y.getSurface();z=B.axesLabels[v];if(z){delete B.axesLabels[v];x.remove(z)}x.renderFrame()}A.renderFrame();B.unlockEvents(B.getGesture())}},0,0,["interaction"],{interaction:true},["interaction.crosshair"],0,[Ext.chart.interactions,"Crosshair"],0));(Ext.cmd.derive("Ext.chart.interactions.ItemHighlight",Ext.chart.interactions.Abstract,{type:"itemhighlight",isItemHighlight:true,config:{gestures:{tap:"onTapGesture",mousemove:"onMouseMoveGesture",mousedown:"onMouseDownGesture",mouseup:"onMouseUpGesture",mouseleave:"onMouseUpGesture"},sticky:false},stickyHighlightItem:null,onMouseMoveGesture:function(v){var p=this,u=p.tipItem,t=v.pointerType==="mouse",q,e,s;if(p.getSticky()){return true}if(t&&p.stickyHighlightItem){p.stickyHighlightItem=null;p.highlight(null)}if(p.isDragging){if(u&&t){u.series.hideTooltip(u);p.tipItem=null}}else{if(!p.stickyHighlightItem){q=p.getItemForEvent(v);s=p.getChart();if(q!==s.getHighlightItem()){p.highlight(q);p.sync()}if(t){if(u&&(!q||u.field!==q.field||u.record!==q.record)){u.series.hideTooltip(u);p.tipItem=u=null}if(q&&(e=q.series.getTooltip())){if(e.trackMouse||!u){q.series.showTooltip(q,v)}p.tipItem=q}}return false}}},highlight:function(f){this.getChart().setHighlightItem(f)},showTooltip:function(e,k){k.series.showTooltip(k,e);this.tipItem=k},onMouseDownGesture:function(){this.isDragging=true},onMouseUpGesture:function(){this.isDragging=false},onTapGesture:function(e){var l=this;if(e.pointerType==="mouse"&&!l.getSticky()){return}var m=l.getItemForEvent(e);if(l.stickyHighlightItem&&m&&(l.stickyHighlightItem.index===m.index)){m=null}l.stickyHighlightItem=m;l.highlight(m)}},0,0,["interaction"],{interaction:true},["interaction.itemhighlight"],0,[Ext.chart.interactions,"ItemHighlight"],0));(Ext.cmd.derive("Ext.chart.interactions.ItemEdit",Ext.chart.interactions.ItemHighlight,{type:"itemedit",isItemEdit:true,config:{style:null,renderer:null,tooltip:true,gestures:{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"},cursors:{ewResize:"ew-resize",nsResize:"ns-resize",move:"move"}},item:null,applyTooltip:function(g){if(g){var k=Ext.apply({},g,{renderer:this.defaultTooltipRenderer,constrainPosition:true,shrinkWrapDock:true,autoHide:true,trackMouse:true,mouseOffset:[20,20]});g=new Ext.tip.ToolTip(k)}return g},defaultTooltipRenderer:function(p,q,e,n){var o=[];if(e.xField){o.push(e.xField+": "+e.xValue)}if(e.yField){o.push(e.yField+": "+e.yValue)}p.setHtml(o.join("<br>"))},onDragStart:function(e){var m=this,o=m.getChart(),n=o.getHighlightItem();e.claimGesture();if(n){o.fireEvent("beginitemedit",o,m,m.item=n);return false}},onDrag:function(e){var n=this,p=n.getChart(),o=p.getHighlightItem(),q=o&&o.sprite.type;if(o){switch(q){case"barSeries":return n.onDragBar(e);break;case"scatterSeries":return n.onDragScatter(e);break}}},highlight:function(o){var p=this,q=p.getChart(),u=q.getFlipXY(),v=p.getCursors(),s=o&&o.sprite.type,t=q.el.dom.style;Ext.chart.interactions.ItemHighlight.prototype.highlight.call(this,o);if(o){switch(s){case"barSeries":if(u){t.cursor=v.ewResize}else{t.cursor=v.nsResize}break;case"scatterSeries":t.cursor=v.move;break}}else{q.el.dom.style.cursor="default"}},onDragBar:function(A){var N=this,P=N.getChart(),O=P.getInherited().rtl,D=P.isCartesian&&P.getFlipXY(),J=P.getHighlightItem(),C=J.sprite.getMarker("items"),K=C.getMarkerFor(J.sprite.getId(),J.index),G=J.sprite.getSurface(),F=G.getRect(),I=G.getEventXY(A),L=J.sprite.attr.matrix,e=N.getRenderer(),H,M,E,B;if(D){B=O?F[2]-I[0]:I[0]}else{B=F[3]-I[1]}H={x:K.x,y:B,width:K.width,height:K.height+(K.y-B),radius:K.radius,fillStyle:"none",lineDash:[4,4],zIndex:100};Ext.apply(H,N.getStyle());if(Ext.isArray(J.series.getYField())){B=B-K.y-K.height}N.target={index:J.index,yField:J.field,yValue:(B-L.getDY())/L.getYY()};E=[P,{target:N.target,style:H,item:J}];M=Ext.callback(e,null,E,0,P);if(M){Ext.apply(H,M)}J.sprite.putMarker("items",H,"itemedit");N.showTooltip(A,N.target,J);G.renderFrame()},onDragScatter:function(G){var L=this,Q=L.getChart(),S=Q.getInherited().rtl,I=Q.isCartesian&&Q.getFlipXY(),F=Q.getHighlightItem(),U=F.sprite.getMarker("items"),E=U.getMarkerFor(F.sprite.getId(),F.index),M=F.sprite.getSurface(),P=M.getRect(),V=M.getEventXY(G),J=F.sprite.attr.matrix,T=F.series.getXAxis(),R=T&&T.getLayout().isContinuous,O=L.getRenderer(),H,K,D,N,e;if(I){e=S?P[2]-V[0]:V[0]}else{e=P[3]-V[1]}if(R){if(I){N=P[3]-V[1]}else{N=V[0]}}else{N=E.translationX}H={translationX:N,translationY:e,scalingX:E.scalingX,scalingY:E.scalingY,r:E.r,fillStyle:"none",lineDash:[4,4],zIndex:100};Ext.apply(H,L.getStyle());L.target={index:F.index,yField:F.field,yValue:(e-J.getDY())/J.getYY()};if(R){Ext.apply(L.target,{xField:F.series.getXField(),xValue:(N-J.getDX())/J.getXX()})}D=[Q,{target:L.target,style:H,item:F}];K=Ext.callback(O,null,D,0,Q);if(K){Ext.apply(H,K)}F.sprite.putMarker("items",H,"itemedit");L.showTooltip(G,L.target,F);M.renderFrame()},showTooltip:function(t,e,p){var o=this.getTooltip(),s,q;if(o&&Ext.toolkit!=="modern"){s=o.config;q=this.getChart();Ext.callback(s.renderer,null,[o,p,e,t],0,q);o.pointerEvent=t;if(o.isVisible()){o.handleAfterShow()}else{o.show()}}},hideTooltip:function(){var f=this.getTooltip();if(f&&Ext.toolkit!=="modern"){f.hide()}},onDragEnd:function(t){var o=this,e=o.target,p=o.getChart(),q=p.getStore(),s;if(e){s=q.getAt(e.index);if(e.yField){s.set(e.yField,e.yValue,{convert:false})}if(e.xField){s.set(e.xField,e.xValue,{convert:false})}if(e.yField||e.xField){o.getChart().onDataChanged()}o.target=null}o.hideTooltip();if(o.item){p.fireEvent("enditemedit",p,o,o.item,e)}o.highlight(o.item=null)},destroy:function(){var f=this.getConfig("tooltip",true);Ext.destroy(f);Ext.chart.interactions.ItemHighlight.prototype.destroy.call(this)}},0,0,["interaction"],{interaction:true},["interaction.itemedit"],0,[Ext.chart.interactions,"ItemEdit"],0));(Ext.cmd.derive("Ext.chart.interactions.PanZoom",Ext.chart.interactions.Abstract,{type:"panzoom",config:{axes:{top:{},right:{},bottom:{},left:{}},minZoom:null,maxZoom:null,showOverflowArrows:true,panGesture:"drag",zoomGesture:"pinch",zoomOnPanGesture:null,zoomOnPan:false,modeToggleButton:{xtype:"segmentedbutton",width:200,defaults:{ui:"default-toolbar"},cls:"x-panzoom-toggle",items:[{text:"Pan",value:"pan"},{text:"Zoom",value:"zoom"}]},hideLabelInGesture:false},stopAnimationBeforeSync:true,applyAxes:function(g,k){return Ext.merge(k||{},g)},updateZoomOnPan:function(g){var k=this.getModeToggleButton();k.setValue(g?"zoom":"pan")},updateZoomOnPanGesture:function(f){this.setZoomOnPan(f)},getZoomOnPanGesture:function(){return this.getZoomOnPan()},applyModeToggleButton:function(m,n){var l=this,o=Ext.factory(m,"Ext.button.Segmented",n);if(!o&&n){n.destroy()}if(o&&!n){o.on("toggle","onModeToggleChange",l)}return o},onModeToggleChange:function(k,m,l){if(l){this.setZoomOnPan(m.getValue()==="zoom")}},getGestures:function(){var n=this,l={},m=n.getPanGesture(),o=n.getZoomGesture();l[o]="onZoomGestureMove";l[o+"start"]="onZoomGestureStart";l[o+"end"]="onZoomGestureEnd";l[m]="onPanGestureMove";l[m+"start"]="onPanGestureStart";l[m+"end"]="onPanGestureEnd";l.doubletap="onDoubleTap";return l},onDoubleTap:function(u){var e=this,q=e.getChart(),v=q.getAxes(),s,t,p;for(t=0,p=v.length;t<p;t++){s=v[t];s.setVisibleRange([0,1])}q.redraw()},onPanGestureStart:function(e){if(!e||!e.touches||e.touches.length<2){var n=this,o=n.getChart().getInnerRect(),m=n.getChart().element.getXY();e.claimGesture();n.startX=e.getX()-m[0]-o[0];n.startY=e.getY()-m[1]-o[1];n.oldVisibleRanges=null;n.hideLabels();n.getChart().suspendThicknessChanged();n.lockEvents(n.getPanGesture());return false}},onPanGestureMove:function(t){var o=this,q=t.pointerType==="mouse",s=q&&o.getZoomOnPan();if(o.getLocks()[o.getPanGesture()]===o){var p=o.getChart().getInnerRect(),e=o.getChart().element.getXY();if(s){o.transformAxesBy(o.getZoomableAxes(t),0,0,(t.getX()-e[0]-p[0])/o.startX,o.startY/(t.getY()-e[1]-p[1]))}else{o.transformAxesBy(o.getPannableAxes(t),t.getX()-e[0]-p[0]-o.startX,t.getY()-e[1]-p[1]-o.startY,1,1)}o.sync();return false}},onPanGestureEnd:function(l){var m=this,e=m.getPanGesture();if(m.getLocks()[e]===m){m.getChart().resumeThicknessChanged();m.showLabels();m.sync();m.unlockEvents(e);return false}},onZoomGestureStart:function(y){if(y.touches&&y.touches.length===2){var x=this,s=x.getChart().element.getXY(),v=x.getChart().getInnerRect(),t=s[0]+v[0],w=s[1]+v[1],e=[y.touches[0].point.x-t,y.touches[0].point.y-w,y.touches[1].point.x-t,y.touches[1].point.y-w],u=Math.max(44,Math.abs(e[2]-e[0])),z=Math.max(44,Math.abs(e[3]-e[1]));y.claimGesture();x.getChart().suspendThicknessChanged();x.lastZoomDistances=[u,z];x.lastPoints=e;x.oldVisibleRanges=null;x.hideLabels();x.lockEvents(x.getZoomGesture());return false}},onZoomGestureMove:function(B){var A=this;if(A.getLocks()[A.getZoomGesture()]===A){var x=A.getChart().getInnerRect(),G=A.getChart().element.getXY(),J=G[0]+x[0],y=G[1]+x[1],F=Math.abs,C=A.lastPoints,H=[B.touches[0].point.x-J,B.touches[0].point.y-y,B.touches[1].point.x-J,B.touches[1].point.y-y],z=Math.max(44,F(H[2]-H[0])),D=Math.max(44,F(H[3]-H[1])),E=this.lastZoomDistances||[z,D],I=z/E[0],e=D/E[1];A.transformAxesBy(A.getZoomableAxes(B),x[2]*(I-1)/2+H[2]-C[2]*I,x[3]*(e-1)/2+H[3]-C[3]*e,I,e);A.sync();return false}},onZoomGestureEnd:function(e){var l=this,m=l.getZoomGesture();if(l.getLocks()[m]===l){l.getChart().resumeThicknessChanged();l.showLabels();l.sync();l.unlockEvents(m);return false}},hideLabels:function(){if(this.getHideLabelInGesture()){this.eachInteractiveAxes(function(f){f.hideLabels()})}},showLabels:function(){if(this.getHideLabelInGesture()){this.eachInteractiveAxes(function(f){f.showLabels()})}},isEventOnAxis:function(e,m){var l=m.getSurface().getRect();return l[0]<=e.getX()&&e.getX()<=l[0]+l[2]&&l[1]<=e.getY()&&e.getY()<=l[1]+l[3]},getPannableAxes:function(w){var t=this,z=t.getAxes(),v=t.getChart().getAxes(),x,u=v.length,e=[],s=false,y;if(w){for(x=0;x<u;x++){if(this.isEventOnAxis(w,v[x])){s=true;break}}}for(x=0;x<u;x++){y=z[v[x].getPosition()];if(y&&y.allowPan!==false&&(!s||this.isEventOnAxis(w,v[x]))){e.push(v[x])}}return e},getZoomableAxes:function(w){var t=this,A=t.getAxes(),v=t.getChart().getAxes(),B=[],x,u=v.length,y,e=false,z;if(w){for(x=0;x<u;x++){if(this.isEventOnAxis(w,v[x])){e=true;break}}}for(x=0;x<u;x++){y=v[x];z=A[y.getPosition()];if(z&&z.allowZoom!==false&&(!e||this.isEventOnAxis(w,y))){B.push(y)}}return B},eachInteractiveAxes:function(o){var n=this,p=n.getAxes(),m=n.getChart().getAxes();for(var q=0;q<m.length;q++){if(p[m[q].getPosition()]){if(false===o.call(this,m[q])){return}}}},transformAxesBy:function(z,u,w,v,y){var x=this.getChart().getInnerRect(),C=this.getAxes(),t,B=this.oldVisibleRanges,D=false;if(!B){this.oldVisibleRanges=B={};this.eachInteractiveAxes(function(e){B[e.getId()]=e.getVisibleRange()})}if(!x){return}for(var A=0;A<z.length;A++){t=C[z[A].getPosition()];D=this.transformAxisBy(z[A],B[z[A].getId()],u,w,v,y,this.minZoom||t.minZoom,this.maxZoom||t.maxZoom)||D}return D},transformAxisBy:function(R,E,B,C,I,L,M,G){var K=this,S=E[1]-E[0],H=R.getVisibleRange(),N=M||K.getMinZoom()||R.config.minZoom,J=G||K.getMaxZoom()||R.config.maxZoom,T=K.getChart().getInnerRect(),O,D;if(!T){return}var Q=R.isSide(),P=Q?T[3]:T[2],F=Q?-C:B;S/=Q?L:I;if(S<0){S=-S}if(S*N>1){S=1}if(S*J<1){S=1/J}O=E[0];D=E[1];H=H[1]-H[0];if(S===H&&H===1){return}R.setVisibleRange([(E[0]+E[1]-S)*0.5-F/P*S,(E[0]+E[1]+S)*0.5-F/P*S]);return Math.abs(O-R.getVisibleRange()[0])>1e-10||Math.abs(D-R.getVisibleRange()[1])>1e-10},destroy:function(){this.setModeToggleButton(null);Ext.chart.interactions.Abstract.prototype.destroy.call(this)}},0,0,["interaction"],{interaction:true},["interaction.panzoom"],0,[Ext.chart.interactions,"PanZoom"],0));(Ext.cmd.derive("Ext.chart.interactions.Rotate",Ext.chart.interactions.Abstract,{type:"rotate",config:{gesture:"rotate",gestures:{rotate:"onRotate",rotateend:"onRotate",dragstart:"onGestureStart",drag:"onGesture",dragend:"onGestureEnd"},rotation:0},oldRotations:null,getAngle:function(e){var o=this,p=o.getChart(),n=p.getEventXY(e),q=p.getCenter();return Math.atan2(n[1]-q[1],n[0]-q[0])},getRadius:function(e){return this.getChart().getRadius()},getEventRadius:function(u){var e=this,p=e.getChart(),v=p.getEventXY(u),t=p.getCenter(),q=v[0]-t[0],s=v[1]-t[1];return Math.sqrt(q*q+s*s)},onGestureStart:function(e){var m=this,n=m.getRadius(e),o=m.getEventRadius(e);e.claimGesture();if(n>=o){m.lockEvents("drag");m.angle=m.getAngle(e);m.oldRotations={};return false}},onGesture:function(l){var m=this,e=m.getAngle(l)-m.angle;if(m.getLocks().drag===m){m.doRotateTo(e,true);return false}},doRotateTo:function(B,E,D){var F=this,H=F.getChart(),v=H.getAxes(),z=H.getSeries(),G=F.oldRotations,C,w,y,A,x;if(!D){H.suspendAnimation()}for(A=0,x=v.length;A<x;A++){C=v[A];y=G[C.getId()]||(G[C.getId()]=C.getRotation());C.setRotation(B+(E?y:0))}for(A=0,x=z.length;A<x;A++){w=z[A];y=G[w.getId()]||(G[w.getId()]=w.getRotation());w.setRotation(B+(E?y:0))}F.setRotation(B+(E?y:0));F.fireEvent("rotate",F,F.getRotation());F.sync();if(!D){H.resumeAnimation()}},rotateTo:function(k,l,m){this.doRotateTo(k,l,m);this.oldRotations={}},onGestureEnd:function(e){var k=this;if(k.getLocks().drag===k){k.onGesture(e);k.unlockEvents("drag");k.fireEvent("rotationEnd",k,k.getRotation());return false}},onRotate:function(e){}},0,0,["interaction"],{interaction:true},["interaction.rotate"],0,[Ext.chart.interactions,"Rotate"],0));(Ext.cmd.derive("Ext.chart.interactions.RotatePie3D",Ext.chart.interactions.Rotate,{type:"rotatePie3d",getAngle:function(v){var t=this.getChart(),e=t.getInherited().rtl,p=e?-1:1,u=v.getXY(),q=t.element.getXY(),s=t.getMainRect();return p*Math.atan2(u[1]-q[1]-s[3]*0.5,u[0]-q[0]-s[2]*0.5)},getRadius:function(v){var e=this.getChart(),u=e.getRadius(),q=e.getSeries(),w=q.length,s=0,t,x;for(;s<w;s++){t=q[s];if(t.is3D){x=t.getRadius();if(x>u){u=x}}}return u}},0,0,["interaction"],{interaction:true},["interaction.rotatePie3d"],0,[Ext.chart.interactions,"RotatePie3D"],0));(Ext.cmd.derive("Ext.chart.plugin.ItemEvents",Ext.plugin.Abstract,{moveEvents:false,mouseMoveEvents:{mousemove:true,mouseover:true,mouseout:true},itemMouseMoveEvents:{itemmousemove:true,itemmouseover:true,itemmouseout:true},init:function(g){var k="handleEvent";this.chart=g;g.addElementListener({click:k,dblclick:k,mousedown:k,mousemove:k,mouseup:k,mouseover:k,mouseout:k,priority:1001,scope:this})},hasItemMouseMoveListeners:function(){var g=this.chart.hasListeners,k;for(k in this.itemMouseMoveEvents){if(k in g){return true}}return false},handleEvent:function(v){var p=this,t=p.chart,u=v.type in p.mouseMoveEvents,q=p.lastItem,e,s;if(u&&!p.hasItemMouseMoveListeners()&&!p.moveEvents){return}e=t.getEventXY(v);s=t.getItemForPoint(e[0],e[1]);if(u&&!Ext.Object.equals(s,q)){if(q){t.fireEvent("itemmouseout",t,q,v);q.series.fireEvent("itemmouseout",q.series,q,v)}if(s){t.fireEvent("itemmouseover",t,s,v);s.series.fireEvent("itemmouseover",s.series,s,v)}}if(s){t.fireEvent("item"+v.type,t,s,v);s.series.fireEvent("item"+v.type,s.series,s,v)}p.lastItem=s}},0,0,0,0,["plugin.chartitemevents"],0,[Ext.chart.plugin,"ItemEvents"],0));(Ext.cmd.derive("Ext.chart.series.Cartesian",Ext.chart.series.Series,{config:{xField:null,yField:null,xAxis:null,yAxis:null},directions:["X","Y"],fieldCategoryX:["X"],fieldCategoryY:["Y"],applyXAxis:function(k,g){return this.getChart().getAxis(k)||g},applyYAxis:function(k,g){return this.getChart().getAxis(k)||g},updateXAxis:function(f){f.processData(this)},updateYAxis:function(f){f.processData(this)},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",1,2)},getItemForPoint:function(u,v){if(this.getSprites()){var o=this,q=o.getSprites()[0],t=o.getStore(),p,s;if(o.getHidden()){return null}if(q){s=q.getIndexNearPoint(u,v);if(s!==-1){p={series:o,category:o.getItemInstancing()?"items":"markers",index:s,record:t.getData().items[s],field:o.getYField(),sprite:q};return p}}}},createSprite:function(){var m=this,o=Ext.chart.series.Series.prototype.createSprite.call(this),n=m.getChart(),l=m.getXAxis();o.setAttributes({flipXY:n.getFlipXY(),xAxis:l});if(o.setAggregator&&l&&l.getAggregator){if(l.getAggregator){o.setAggregator({strategy:l.getAggregator()})}else{o.setAggregator({})}}return o},getSprites:function(){var p=this,q=this.getChart(),o=p.getAnimation()||q&&q.getAnimation(),s=p.getItemInstancing(),n=p.sprites,t;if(!q){return[]}if(!n.length){t=p.createSprite()}else{t=n[0]}if(o){if(s){t.itemsMarker.getTemplate().setAnimation(o)}t.setAnimation(o)}return n},provideLegendInfo:function(l){var n=this,o=n.getSubStyleWithTheme(),m=o.fillStyle;if(Ext.isArray(m)){m=m[0]}l.push({name:n.getTitle()||n.getYField()||n.getId(),mark:(Ext.isObject(m)?m.stops&&m.stops[0].color:m)||o.strokeStyle||"black",disabled:n.getHidden(),series:n.getId(),index:0})},getXRange:function(){return[this.dataRange[0],this.dataRange[2]]},getYRange:function(){return[this.dataRange[1],this.dataRange[3]]}},0,0,0,0,0,0,[Ext.chart.series,"Cartesian"],0));(Ext.cmd.derive("Ext.chart.series.StackedCartesian",Ext.chart.series.Cartesian,{config:{stacked:true,splitStacks:true,fullStack:false,fullStackTotal:100,hidden:[]},spriteAnimationCount:0,themeColorCount:function(){var g=this,k=g.getYField();return Ext.isArray(k)?k.length:1},updateStacked:function(){this.processData()},updateSplitStacks:function(){this.processData()},coordinateY:function(){return this.coordinateStacked("Y",1,2)},coordinateStacked:function(T,an,ae){var P=this,am=P.getStore(),V=am.getData().items,X=V.length,ap=P["get"+T+"Axis"](),af=P.getHidden(),ar=P.getSplitStacks(),aa=P.getFullStack(),ai=P.getFullStackTotal(),Z={min:0,max:0},ad=P["fieldCategory"+T],U=[],ab=[],R=[],ak,Y=P.getStacked(),al=P.getSprites(),W=[],ag,ah,aj,S,k,ac,aq,ao,O,Q;if(!al.length){return}for(ag=0;ag<ad.length;ag++){ao=ad[ag];S=P.getFields([ao]);k=S.length;for(ah=0;ah<X;ah++){U[ah]=0;ab[ah]=0;R[ah]=0}for(ah=0;ah<k;ah++){if(!af[ah]){W[ah]=P.coordinateData(V,S[ah],ap)}}if(Y&&aa){ac=[];if(ar){aq=[]}for(ah=0;ah<X;ah++){ac[ah]=0;if(ar){aq[ah]=0}for(aj=0;aj<k;aj++){O=W[aj];if(!O){continue}O=O[ah];if(O>=0||!ar){ac[ah]+=O}else{if(O<0){aq[ah]+=O}}}}}for(ah=0;ah<k;ah++){Q={};if(af[ah]){Q["dataStart"+ao]=U;Q["data"+ao]=U;al[ah].setAttributes(Q);continue}O=W[ah];if(Y){ak=[];for(aj=0;aj<X;aj++){if(!O[aj]){O[aj]=0}if(O[aj]>=0||!ar){if(aa&&ac[aj]){O[aj]*=ai/ac[aj]}U[aj]=ab[aj];ab[aj]+=O[aj];ak[aj]=ab[aj]}else{if(aa&&aq[aj]){O[aj]*=ai/aq[aj]}U[aj]=R[aj];R[aj]+=O[aj];ak[aj]=R[aj]}}Q["dataStart"+ao]=U;Q["data"+ao]=ak;P.getRangeOfData(U,Z);P.getRangeOfData(ak,Z)}else{Q["dataStart"+ao]=U;Q["data"+ao]=O;P.getRangeOfData(O,Z)}al[ah].setAttributes(Q)}}P.dataRange[an]=Z.min;P.dataRange[an+ae]=Z.max;Q={};Q["dataMin"+T]=Z.min;Q["dataMax"+T]=Z.max;for(ag=0;ag<al.length;ag++){al[ag].setAttributes(Q)}},getFields:function(n){var o=this,t=[],q,s,p;for(s=0,p=n.length;s<p;s++){q=o["get"+n[s]+"Field"]();if(Ext.isArray(q)){t.push.apply(t,q)}else{t.push(q)}}return t},updateLabelOverflowPadding:function(f){this.getLabel().setAttributes({labelOverflowPadding:f})},getSprites:function(){var t=this,u=t.getChart(),A=t.getAnimation()||u&&u.getAnimation(),x=t.getFields(t.fieldCategoryY),B=t.getItemInstancing(),v=t.sprites,D,y=t.getHidden(),w=false,z,C=x.length;if(!u){return[]}for(z=0;z<C;z++){D=v[z];if(!D){D=t.createSprite();D.setAttributes({zIndex:-z});D.setField(x[z]);w=true;y.push(false);if(B){D.itemsMarker.getTemplate().setAttributes(t.getStyleByIndex(z))}else{D.setAttributes(t.getStyleByIndex(z))}}if(A){if(B){D.itemsMarker.getTemplate().setAnimation(A)}D.setAnimation(A)}}if(w){t.updateHidden(y)}return v},getItemForPoint:function(v,w){if(this.getSprites()){var x=this,D,y,G,E=x.getItemInstancing(),z=x.getSprites(),H=x.getStore(),C=x.getHidden(),F,B,A;for(D=0,y=z.length;D<y;D++){if(!C[D]){G=z[D];B=G.getIndexNearPoint(v,w);if(B!==-1){A=x.getYField();F={series:x,index:B,category:E?"items":"markers",record:H.getData().items[B],field:typeof A==="string"?A:A[D],sprite:G};return F}}}return null}},provideLegendInfo:function(y){var w=this,x=w.getSprites(),v=w.getTitle(),u=w.getYField(),z=w.getHidden(),t=x.length===1,B,D,A,C;for(A=0;A<x.length;A++){B=w.getStyleByIndex(A);D=B.fillStyle;if(v){if(Ext.isArray(v)){C=v[A]}else{if(t){C=v}}}if(!v||!C){if(Ext.isArray(u)){C=u[A]}else{C=w.getId()}}y.push({name:C,mark:(Ext.isObject(D)?D.stops&&D.stops[0].color:D)||B.strokeStyle||"black",disabled:z[A],series:w.getId(),index:A})}},onSpriteAnimationStart:function(f){this.spriteAnimationCount++;if(this.spriteAnimationCount===1){this.fireEvent("animationstart")}},onSpriteAnimationEnd:function(f){this.spriteAnimationCount--;if(this.spriteAnimationCount===0){this.fireEvent("animationend")}}},0,0,0,0,0,0,[Ext.chart.series,"StackedCartesian"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Series",Ext.draw.sprite.Sprite,{inheritableStatics:{def:{processors:{dataMinX:"number",dataMaxX:"number",dataMinY:"number",dataMaxY:"number",rangeX:"data",rangeY:"data",dataX:"data",dataY:"data"},defaults:{dataMinX:0,dataMaxX:1,dataMinY:0,dataMaxY:1,rangeX:null,rangeY:null,dataX:null,dataY:null},triggers:{dataX:"bbox",dataY:"bbox",dataMinX:"bbox",dataMaxX:"bbox",dataMinY:"bbox",dataMaxY:"bbox"}}},config:{store:null,series:null,field:null}},0,0,0,0,0,[["markerHolder",Ext.chart.MarkerHolder]],[Ext.chart.series.sprite,"Series"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Cartesian",Ext.chart.series.sprite.Series,{inheritableStatics:{def:{processors:{labels:"default",labelOverflowPadding:"number",selectionTolerance:"number",flipXY:"bool",renderer:"default",visibleMinX:"number",visibleMinY:"number",visibleMaxX:"number",visibleMaxY:"number",innerWidth:"number",innerHeight:"number"},defaults:{labels:null,labelOverflowPadding:10,selectionTolerance:20,flipXY:false,renderer:null,transformFillStroke:false,visibleMinX:0,visibleMinY:0,visibleMaxX:1,visibleMaxY:1,innerWidth:1,innerHeight:1},triggers:{dataX:"dataX,bbox",dataY:"dataY,bbox",visibleMinX:"panzoom",visibleMinY:"panzoom",visibleMaxX:"panzoom",visibleMaxY:"panzoom",innerWidth:"panzoom",innerHeight:"panzoom"},updaters:{dataX:function(f){this.processDataX();this.scheduleUpdater(f,"dataY",["dataY"])},dataY:function(){this.processDataY()},panzoom:function(s){var p=s.visibleMaxX-s.visibleMinX,q=s.visibleMaxY-s.visibleMinY,t=s.flipXY?s.innerHeight:s.innerWidth,v=!s.flipXY?s.innerHeight:s.innerWidth,u=this.getSurface(),o=u?u.getInherited().rtl:false;if(o&&!s.flipXY){s.translationX=t+s.visibleMinX*t/p}else{s.translationX=-s.visibleMinX*t/p}s.translationY=-s.visibleMinY*v/q;s.scalingX=(o&&!s.flipXY?-1:1)*t/p;s.scalingY=v/q;s.scalingCenterX=0;s.scalingCenterY=0;this.applyTransformations(true)}}}},processDataY:Ext.emptyFn,processDataX:Ext.emptyFn,updatePlainBBox:function(g){var k=this.attr;g.x=k.dataMinX;g.y=k.dataMinY;g.width=k.dataMaxX-k.dataMinX;g.height=k.dataMaxY-k.dataMinY},binarySearch:function(p){var s=this.attr.dataX,n=0,t=s.length;if(p<=s[0]){return n}if(p>=s[t-1]){return t-1}while(n+1<t){var q=(n+t)>>1,o=s[q];if(o===p){return q}else{if(o<p){n=q}else{t=q}}}return n},render:function(t,s,v){var o=this,u=o.attr,p=u.inverseMatrix.clone();p.appendMatrix(t.inverseMatrix);if(u.dataX===null||u.dataX===undefined){return}if(u.dataY===null||u.dataY===undefined){return}if(p.getXX()*p.getYX()||p.getXY()*p.getYY()){console.log("Cartesian Series sprite does not support rotation/sheering");return}var q=p.transformList([[v[0]-1,v[3]+1],[v[0]+v[2]+1,-1]]);q=q[0].concat(q[1]);o.renderClipped(t,s,q,v)},renderClipped:Ext.emptyFn,getIndexNearPoint:function(U,V){var H=this,x=H.attr.matrix,S=H.attr.dataX,T=H.attr.dataY,P=H.attr.selectionTolerance,N,Q,X=-1,R=x.clone().prependMatrix(H.surfaceMatrix).inverse(),M=R.transformPoint([U,V]),Y=R.transformPoint([U-P,V-P]),I=R.transformPoint([U+P,V+P]),Z=Math.min(Y[0],I[0]),O=Math.max(Y[0],I[0]),L=Math.min(Y[1],I[1]),W=Math.max(Y[1],I[1]),K,J,G,y;for(G=0,y=S.length;G<y;G++){K=S[G];J=T[G];if(K>Z&&K<O&&J>L&&J<W){if(X===-1||(Math.abs(K-M[0])<N)&&(Math.abs(J-M[1])<Q)){N=Math.abs(K-M[0]);Q=Math.abs(J-M[1]);X=G}}}return X}},0,0,0,0,0,0,[Ext.chart.series.sprite,"Cartesian"],0));(Ext.cmd.derive("Ext.chart.series.sprite.StackedCartesian",Ext.chart.series.sprite.Cartesian,{inheritableStatics:{def:{processors:{groupCount:"number",groupOffset:"number",dataStartY:"data"},defaults:{selectionTolerance:20,groupCount:1,groupOffset:0,dataStartY:null},triggers:{dataStartY:"dataY,bbox"}}},getIndexNearPoint:function(R,S){var E=this,x=E.attr.matrix,O=E.attr.dataX,Q=E.attr.dataY,I=E.attr.dataStartY,H=E.attr.selectionTolerance,K=0.5,N=Infinity,U=-1,L=x.clone().prependMatrix(this.surfaceMatrix).inverse(),J=L.transformPoint([R,S]),V=L.transformPoint([R-H,S-H]),F=L.transformPoint([R+H,S+H]),G=Math.min(V[1],F[1]),T=Math.max(V[1],F[1]),M,P;for(var y=0;y<O.length;y++){if(Math.min(I[y],Q[y])<=T&&G<=Math.max(I[y],Q[y])){M=Math.abs(O[y]-J[0]);P=Math.max(-Math.min(Q[y]-J[1],J[1]-I[y]),0);if(M<K&&P<=N){K=M;N=P;U=y}}}return U}},0,0,0,0,0,0,[Ext.chart.series.sprite,"StackedCartesian"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Area",Ext.chart.series.sprite.StackedCartesian,{inheritableStatics:{def:{processors:{step:"bool"},defaults:{step:false}}},renderClipped:function(ab,Y,Q){var y=this,an=y.getStore(),aa=y.getSeries(),ad=y.attr,U=ad.dataX,ac=ad.dataY,x=ad.dataStartY,W=ad.matrix,ae,ag,T,al,am,R,S,ao=W.elements[0],ak=W.elements[4],ah=W.elements[3],X=W.elements[5],ap=y.surfaceMatrix,aj={},Z=Math.min(Q[0],Q[2]),V=Math.max(Q[0],Q[2]),ar=Math.max(0,this.binarySearch(Z)),at=Math.min(U.length-1,this.binarySearch(V)+1),af=ad.renderer,au={store:an},ai,aq;Y.beginPath();R=U[ar]*ao+ak;S=ac[ar]*ah+X;Y.moveTo(R,S);if(ad.step){am=S;for(T=ar;T<=at;T++){ae=U[T]*ao+ak;ag=ac[T]*ah+X;Y.lineTo(ae,am);Y.lineTo(ae,am=ag)}}else{for(T=ar;T<=at;T++){ae=U[T]*ao+ak;ag=ac[T]*ah+X;Y.lineTo(ae,ag)}}if(x){if(ad.step){al=U[at]*ao+ak;for(T=at;T>=ar;T--){ae=U[T]*ao+ak;ag=x[T]*ah+X;Y.lineTo(al,ag);Y.lineTo(al=ae,ag)}}else{for(T=at;T>=ar;T--){ae=U[T]*ao+ak;ag=x[T]*ah+X;Y.lineTo(ae,ag)}}}else{Y.lineTo(U[at]*ao+ak,ag);Y.lineTo(U[at]*ao+ak,X);Y.lineTo(R,X);Y.lineTo(R,ac[T]*ah+X)}if(ad.transformFillStroke){ad.matrix.toContext(Y)}Y.fill();if(ad.transformFillStroke){ad.inverseMatrix.toContext(Y)}Y.beginPath();Y.moveTo(R,S);if(ad.step){for(T=ar;T<=at;T++){ae=U[T]*ao+ak;ag=ac[T]*ah+X;Y.lineTo(ae,am);Y.lineTo(ae,am=ag);aj.translationX=ap.x(ae,ag);aj.translationY=ap.y(ae,ag);if(af){aq=Ext.callback(af,null,[y,aj,au,T],0,aa);Ext.apply(aj,aq)}y.putMarker("markers",aj,T,!af)}}else{for(T=ar;T<=at;T++){ae=U[T]*ao+ak;ag=ac[T]*ah+X;Y.lineTo(ae,ag);aj.translationX=ap.x(ae,ag);aj.translationY=ap.y(ae,ag);if(af){aq=Ext.callback(af,null,[y,aj,au,T],0,aa);Ext.apply(aj,aq)}y.putMarker("markers",aj,T,!af)}}if(ad.transformFillStroke){ad.matrix.toContext(Y)}Y.stroke()}},0,0,0,0,["sprite.areaSeries"],0,[Ext.chart.series.sprite,"Area"],0));(Ext.cmd.derive("Ext.chart.series.Area",Ext.chart.series.StackedCartesian,{type:"area",seriesType:"areaSeries",config:{splitStacks:false}},0,0,0,0,["series.area"],0,[Ext.chart.series,"Area"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Bar",Ext.chart.series.sprite.StackedCartesian,{inheritableStatics:{def:{processors:{minBarWidth:"number",maxBarWidth:"number",minGapWidth:"number",radius:"number",inGroupGapWidth:"number"},defaults:{minBarWidth:2,maxBarWidth:100,minGapWidth:5,inGroupGapWidth:3,radius:0}}},drawLabel:function(N,T,O,U,F){var Q=this,G=Q.attr,W=Q.getMarker("labels"),X=W.getTemplate(),M=Q.labelCfg||(Q.labelCfg={}),Y=Q.surfaceMatrix,R=G.labelOverflowPadding,Z=X.attr.display,I=X.attr.orientation,J=(I==="horizontal"&&G.flipXY)||(I==="vertical"&&!G.flipXY)||!I,aa=X.getCalloutLine(),V,K,ab,H,P,L,S;M.x=Y.x(T,U);M.y=Y.y(T,U);if(aa){H=aa.length}else{H=0}if(!G.flipXY){M.rotationRads=-Math.PI*0.5}else{M.rotationRads=0}M.calloutVertical=!G.flipXY;switch(I){case"horizontal":M.rotationRads=0;M.calloutVertical=false;break;case"vertical":M.rotationRads=-Math.PI*0.5;M.calloutVertical=true;break}M.text=N;if(X.attr.renderer){S=[N,W,M,{store:Q.getStore()},F];P=Ext.callback(X.attr.renderer,null,S,0,Q.getSeries());if(typeof P==="string"){M.text=P}else{if(typeof P==="object"){if("text" in P){M.text=P.text}L=true}}}ab=Q.getMarkerBBox("labels",F,true);if(!ab){Q.putMarker("labels",M,F);ab=Q.getMarkerBBox("labels",F,true)}if(H>0){K=H}else{if(H===0){K=(J?ab.width:ab.height)/2}else{K=(J?ab.width:ab.height)/2+R}}if(O>U){K=-K}if(J){V=(Z==="insideStart")?O+K:U-K}else{V=(Z==="insideStart")?O+R*2:U-R*2}M.x=Y.x(T,V);M.y=Y.y(T,V);V=(Z==="insideStart")?O:U;M.calloutStartX=Y.x(T,V);M.calloutStartY=Y.y(T,V);V=(Z==="insideStart")?O-K:U+K;M.calloutPlaceX=Y.x(T,V);M.calloutPlaceY=Y.y(T,V);M.calloutColor=(aa&&aa.color)||Q.attr.fillStyle;if(aa){if(aa.width){M.calloutWidth=aa.width}}else{M.calloutColor="none"}if(O>U){K=-K}if(Math.abs(U-O)<=K*2||Z==="outside"){M.callout=1}else{M.callout=0}if(L){Ext.apply(M,P)}Q.putMarker("labels",M,F)},drawBar:function(E,C,w,B,x,F,D,A){var y=this,u={},z=y.attr.renderer,v;u.x=B;u.y=x;u.width=F-B;u.height=D-x;u.radius=y.attr.radius;if(z){v=Ext.callback(z,null,[y,u,{store:y.getStore()},A],0,y.getSeries());Ext.apply(u,v)}y.putMarker("items",u,A,!z)},renderClipped:function(X,ai,aa){if(this.cleanRedraw){return}var am=this,ao=am.attr,ag=ao.dataX,ah=ao.dataY,W=ao.labels,ap=ao.dataStartY,aq=ao.groupCount,Y=ao.groupOffset-(aq-1)*0.5,ad=ao.inGroupGapWidth,aj=ai.lineWidth,Z=ao.matrix,ab=Z.elements[0],au=Z.elements[3],ay=Z.elements[4],az=X.roundPixel(Z.elements[5])-1,U=(ab<0?-1:1)*ab-ao.minGapWidth,at=(Math.min(U,ao.maxBarWidth)-ad*(aq-1))/aq,ac=X.roundPixel(Math.max(ao.minBarWidth,at)),aA=am.surfaceMatrix,aw,V,aB,av,T,aC,ar=0.5*ao.lineWidth,S=Math.min(aa[0],aa[2]),af=Math.max(aa[0],aa[2]),ae=Math.max(0,Math.floor(S)),an=Math.min(ag.length-1,Math.ceil(af)),ax=W&&am.getMarker("labels"),ak,al;for(T=ae;T<=an;T++){ak=ap?ap[T]:0;al=ah[T];aC=ag[T]*ab+ay+Y*(ac+ad);aw=X.roundPixel(aC-ac/2)+ar;av=X.roundPixel(al*au+az+aj);V=X.roundPixel(aC+ac/2)-ar;aB=X.roundPixel(ak*au+az+aj);am.drawBar(ai,X,aa,aw,av-ar,V,aB-ar,T);if(ax&&W[T]!=null){am.drawLabel(W[T],aC,aB,av,T)}am.putMarker("markers",{translationX:aA.x(aC,av),translationY:aA.y(aC,av)},T,true)}},getIndexNearPoint:function(H,v){var G=this,y=G.attr,x=y.dataX,E=G.getSurface(),D=E.getRect()||[0,0,0,0],w=D[3],A,B,C,F,z=-1;if(y.flipXY){A=w-v;if(E.getInherited().rtl){B=D[2]-H}else{B=H}}else{A=H;B=w-v}for(C=0;C<x.length;C++){F=G.getMarkerBBox("items",C);if(Ext.draw.Draw.isPointInBBox(A,B,F)){z=C;break}}return z}},0,0,0,0,["sprite.barSeries"],0,[Ext.chart.series.sprite,"Bar"],0));(Ext.cmd.derive("Ext.chart.series.Bar",Ext.chart.series.StackedCartesian,{type:"bar",seriesType:"barSeries",isBar:true,config:{itemInstancing:{type:"rect",fx:{customDurations:{x:0,y:0,width:0,height:0,radius:0}}}},getItemForPoint:function(t,n){if(this.getSprites()){var p=this,q=p.getChart(),o=q.getInnerPadding(),s=q.getInherited().rtl;arguments[0]=t+(s?o.right:-o.left);arguments[1]=n+o.bottom;return Ext.chart.series.StackedCartesian.prototype.getItemForPoint.apply(this,arguments)}},updateXAxis:function(f){f.setLabelInSpan(true);Ext.chart.series.StackedCartesian.prototype.updateXAxis.apply(this,arguments)},updateHidden:function(f){Ext.chart.series.StackedCartesian.prototype.updateHidden.apply(this,arguments);this.updateStacked()},updateStacked:function(s){var p=this,v=p.getSprites(),q=v.length,o=[],u={},t;for(t=0;t<q;t++){if(!v[t].attr.hidden){o.push(v[t])}}q=o.length;if(p.getStacked()){u.groupCount=1;u.groupOffset=0;for(t=0;t<q;t++){o[t].setAttributes(u)}}else{u.groupCount=o.length;for(t=0;t<q;t++){u.groupOffset=t;o[t].setAttributes(u)}}Ext.chart.series.StackedCartesian.prototype.updateStacked.apply(this,arguments)}},0,0,0,0,["series.bar"],0,[Ext.chart.series,"Bar"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Bar3D",Ext.chart.series.sprite.Bar,{inheritableStatics:{def:{processors:{depthWidthRatio:"number",saturationFactor:"number",brightnessFactor:"number",colorSpread:"number"},defaults:{depthWidthRatio:1/3,saturationFactor:1,brightnessFactor:1,colorSpread:1,transformFillStroke:true},triggers:{groupCount:"panzoom"},updaters:{panzoom:function(t){var x=this,q=t.visibleMaxX-t.visibleMinX,s=t.visibleMaxY-t.visibleMinY,u=t.flipXY?t.innerHeight:t.innerWidth,w=!t.flipXY?t.innerHeight:t.innerWidth,v=x.getSurface(),p=v?v.getInherited().rtl:false;if(p&&!t.flipXY){t.translationX=u+t.visibleMinX*u/q}else{t.translationX=-t.visibleMinX*u/q}t.translationY=-t.visibleMinY*(w-x.depth)/s;t.scalingX=(p&&!t.flipXY?-1:1)*u/q;t.scalingY=(w-x.depth)/s;t.scalingCenterX=0;t.scalingCenterY=0;x.applyTransformations(true)}}}},config:{showStroke:false},depth:0,drawBar:function(I,G,E,F,M,J,H,A){var N=this,z=N.attr,K={},y=z.renderer,L,B,C,D;K.x=(F+J)*0.5;K.y=M;K.width=(J-F)*0.75;K.height=H-M;K.depth=B=K.width*z.depthWidthRatio;K.orientation=z.flipXY?"horizontal":"vertical";K.saturationFactor=z.saturationFactor;K.brightnessFactor=z.brightnessFactor;K.colorSpread=z.colorSpread;if(B!==N.depth){N.depth=B;C=N.getSeries();C.fireEvent("depthchange",C,B)}if(y){D=[N,K,{store:N.getStore()},A];L=Ext.callback(y,null,D,0,N.getSeries());Ext.apply(K,L)}N.putMarker("items",K,A,!y)}},0,0,0,0,["sprite.bar3dSeries"],0,[Ext.chart.series.sprite,"Bar3D"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Box",Ext.draw.sprite.Sprite,{type:"box",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number",depth:"number",orientation:"enums(vertical,horizontal)",showStroke:"bool",saturationFactor:"number",brightnessFactor:"number",colorSpread:"number"},triggers:{x:"bbox",y:"bbox",width:"bbox",height:"bbox",depth:"bbox",orientation:"bbox"},defaults:{x:0,y:0,width:8,height:8,depth:8,orientation:"vertical",showStroke:false,saturationFactor:1,brightnessFactor:1,colorSpread:1,lineJoin:"bevel"}}},constructor:function(f){Ext.draw.sprite.Sprite.prototype.constructor.call(this,f);this.topGradient=new Ext.draw.gradient.Linear({});this.rightGradient=new Ext.draw.gradient.Linear({});this.frontGradient=new Ext.draw.gradient.Linear({})},updatePlainBBox:function(q){var s=this.attr,t=s.x,v=s.y,p=s.width,u=s.height,o=s.depth;q.x=t-p*0.5;q.width=p+o;if(u>0){q.y=v;q.height=u+o}else{q.y=v+o;q.height=u-o}},render:function(K,J){var N=this,L=N.attr,E=L.x,P=L.y,U=P+L.height,R=P<U,V=L.width*0.5,M=L.depth,W=L.orientation==="horizontal",T=L.globalAlpha<1,X=L.fillStyle,I=Ext.util.Color.create(X.isGradient?X.getStops()[0].color:X),S=L.saturationFactor,H=L.brightnessFactor,O=L.colorSpread,Y=I.getHSV(),Z={},Q,F,G;if(!L.showStroke){J.strokeStyle=Ext.util.Color.RGBA_NONE}if(R){G=P;P=U;U=G}N.topGradient.setDegrees(W?0:80);N.topGradient.setStops([{offset:0,color:Ext.util.Color.fromHSV(Y[0],Ext.Number.constrain(Y[1]*S,0,1),Ext.Number.constrain((0.5+O*0.1)*H,0,1))},{offset:1,color:Ext.util.Color.fromHSV(Y[0],Ext.Number.constrain(Y[1]*S,0,1),Ext.Number.constrain((0.5-O*0.11)*H,0,1))}]);N.rightGradient.setDegrees(W?45:90);N.rightGradient.setStops([{offset:0,color:Ext.util.Color.fromHSV(Y[0],Ext.Number.constrain(Y[1]*S,0,1),Ext.Number.constrain((0.5-O*0.14)*H,0,1))},{offset:1,color:Ext.util.Color.fromHSV(Y[0],Ext.Number.constrain(Y[1]*(1+O*0.4)*S,0,1),Ext.Number.constrain((0.5-O*0.32)*H,0,1))}]);if(W){N.frontGradient.setDegrees(0)}else{N.frontGradient.setRadians(Math.atan2(P-U,V*2))}N.frontGradient.setStops([{offset:0,color:Ext.util.Color.fromHSV(Y[0],Ext.Number.constrain(Y[1]*(1-O*0.1)*S,0,1),Ext.Number.constrain((0.5+O*0.1)*H,0,1))},{offset:1,color:Ext.util.Color.fromHSV(Y[0],Ext.Number.constrain(Y[1]*(1+O*0.1)*S,0,1),Ext.Number.constrain((0.5-O*0.23)*H,0,1))}]);if(T||R){J.beginPath();J.moveTo(E-V,U);J.lineTo(E-V+M,U+M);J.lineTo(E+V+M,U+M);J.lineTo(E+V,U);J.closePath();Z.x=E-V;Z.y=P;Z.width=V+M;Z.height=M;J.fillStyle=(W?N.rightGradient:N.topGradient).generateGradient(J,Z);J.fillStroke(L)}if(T){J.beginPath();J.moveTo(E-V,P);J.lineTo(E-V+M,P+M);J.lineTo(E-V+M,U+M);J.lineTo(E-V,U);J.closePath();Z.x=E+V;Z.y=U;Z.width=M;Z.height=P+M-U;J.fillStyle=(W?N.topGradient:N.rightGradient).generateGradient(J,Z);J.fillStroke(L)}F=K.roundPixel(P);J.beginPath();J.moveTo(E-V,F);J.lineTo(E-V+M,P+M);J.lineTo(E+V+M,P+M);J.lineTo(E+V,F);J.closePath();Z.x=E-V;Z.y=P;Z.width=V+M;Z.height=M;J.fillStyle=(W?N.rightGradient:N.topGradient).generateGradient(J,Z);J.fillStroke(L);Q=K.roundPixel(E+V);J.beginPath();J.moveTo(Q,K.roundPixel(P));J.lineTo(E+V+M,P+M);J.lineTo(E+V+M,U+M);J.lineTo(Q,U);J.closePath();Z.x=E+V;Z.y=U;Z.width=M;Z.height=P+M-U;J.fillStyle=(W?N.topGradient:N.rightGradient).generateGradient(J,Z);J.fillStroke(L);Q=K.roundPixel(E+V);F=K.roundPixel(P);J.beginPath();J.moveTo(E-V,U);J.lineTo(E-V,F);J.lineTo(Q,F);J.lineTo(Q,U);J.closePath();Z.x=E-V;Z.y=U;Z.width=V*2;Z.height=P-U;J.fillStyle=N.frontGradient.generateGradient(J,Z);J.fillStroke(L)}},1,0,0,0,["sprite.box"],0,[Ext.chart.series.sprite,"Box"],0));(Ext.cmd.derive("Ext.chart.series.Bar3D",Ext.chart.series.Bar,{type:"bar3d",seriesType:"bar3dSeries",is3D:true,config:{itemInstancing:{type:"box",fx:{customDurations:{x:0,y:0,width:0,height:0,depth:0}}},highlightCfg:{opacity:0.8}},updateXAxis:function(g,k){Ext.chart.series.Bar.prototype.updateXAxis.call(this,g,k)},getSprites:function(){var m=Ext.chart.series.Bar.prototype.getSprites.apply(this,arguments),n,l,o;for(o=0;o<m.length;o++){n=m[o];l=n.attr.zIndex;if(l<0){n.setAttributes({zIndex:-l})}if(n.setSeries){n.setSeries(this)}}return m},getDepth:function(){var f=this.getSprites()[0];return f?(f.depth||0):0},getItemForPoint:function(K,x){if(this.getSprites()){var y=this,F,I,G=y.getItemInstancing(),z=y.getSprites(),J=y.getStore(),E=y.getHidden(),A=y.getChart(),L=A.getInnerPadding(),B=A.getInherited().rtl,H,D,C;K=K+(B?L.right:-L.left);x=x+L.bottom;for(F=z.length-1;F>=0;F--){if(!E[F]){I=z[F];D=I.getIndexNearPoint(K,x);if(D!==-1){C=y.getYField();H={series:y,index:D,category:G?"items":"markers",record:J.getData().items[D],field:typeof C==="string"?C:C[F],sprite:I};return H}}}return null}}},0,0,0,0,["series.bar3d"],0,[Ext.chart.series,"Bar3D"],0));(Ext.cmd.derive("Ext.draw.LimitedCache",Ext.Base,{config:{limit:40,feeder:function(){return 0},scope:null},cache:null,constructor:function(f){this.cache={};this.cache.list=[];this.cache.tail=0;this.initConfig(f)},get:function(m){var o=this.cache,p=this.getLimit(),q=this.getFeeder(),n=this.getScope()||this;if(o[m]){return o[m].value}if(o.list[o.tail]){delete o[o.list[o.tail].cacheId]}o[m]=o.list[o.tail]={value:q.apply(n,Array.prototype.slice.call(arguments,1)),cacheId:m};o.tail++;if(o.tail===p){o.tail=0}return o[m].value},clear:function(){this.cache={};this.cache.list=[];this.cache.tail=0}},1,0,0,0,0,0,[Ext.draw,"LimitedCache"],0));(Ext.cmd.derive("Ext.draw.SegmentTree",Ext.Base,{config:{strategy:"double"},time:function(ac,ae,aa,ap,O,ao,an){var am=0,Y,W,Q=new Date(aa[ac.startIdx[0]]),ab=new Date(aa[ac.endIdx[ae-1]]),P=Ext.Date,ag=[[P.MILLI,1,"ms1",null],[P.MILLI,2,"ms2","ms1"],[P.MILLI,5,"ms5","ms1"],[P.MILLI,10,"ms10","ms5"],[P.MILLI,50,"ms50","ms10"],[P.MILLI,100,"ms100","ms50"],[P.MILLI,500,"ms500","ms100"],[P.SECOND,1,"s1","ms500"],[P.SECOND,10,"s10","s1"],[P.SECOND,30,"s30","s10"],[P.MINUTE,1,"mi1","s10"],[P.MINUTE,5,"mi5","mi1"],[P.MINUTE,10,"mi10","mi5"],[P.MINUTE,30,"mi30","mi10"],[P.HOUR,1,"h1","mi30"],[P.HOUR,6,"h6","h1"],[P.HOUR,12,"h12","h6"],[P.DAY,1,"d1","h12"],[P.DAY,7,"d7","d1"],[P.MONTH,1,"mo1","d1"],[P.MONTH,3,"mo3","mo1"],[P.MONTH,6,"mo6","mo3"],[P.YEAR,1,"y1","mo3"],[P.YEAR,5,"y5","y1"],[P.YEAR,10,"y10","y5"],[P.YEAR,100,"y100","y10"]],X,aq,ah=am,N=ae,aj=false,S=ac.startIdx,ak=ac.endIdx,ad=ac.minIdx,R=ac.maxIdx,ar=ac.open,Z=ac.close,al=ac.minX,U=ac.minY,V=ac.maxX,T=ac.maxY,af,ai;for(X=0;ae>am+1&&X<ag.length;X++){Q=new Date(aa[S[0]]);aq=ag[X];Q=P.align(Q,aq[0],aq[1]);if(P.diff(Q,ab,aq[0])>aa.length*2*aq[1]){continue}if(aq[3]&&ac.map["time_"+aq[3]]){Y=ac.map["time_"+aq[3]][0];W=ac.map["time_"+aq[3]][1]}else{Y=ah;W=N}am=ae;ai=Q;aj=true;S[ae]=S[Y];ak[ae]=ak[Y];ad[ae]=ad[Y];R[ae]=R[Y];ar[ae]=ar[Y];Z[ae]=Z[Y];al[ae]=al[Y];U[ae]=U[Y];V[ae]=V[Y];T[ae]=T[Y];ai=Ext.Date.add(ai,aq[0],aq[1]);for(af=Y+1;af<W;af++){if(aa[ak[af]]<+ai){ak[ae]=ak[af];Z[ae]=Z[af];if(T[af]>T[ae]){T[ae]=T[af];V[ae]=V[af];R[ae]=R[af]}if(U[af]<U[ae]){U[ae]=U[af];al[ae]=al[af];ad[ae]=ad[af]}}else{ae++;S[ae]=S[af];ak[ae]=ak[af];ad[ae]=ad[af];R[ae]=R[af];ar[ae]=ar[af];Z[ae]=Z[af];al[ae]=al[af];U[ae]=U[af];V[ae]=V[af];T[ae]=T[af];ai=Ext.Date.add(ai,aq[0],aq[1])}}if(ae>am){ac.map["time_"+aq[2]]=[am,ae]}}},"double":function(Q,M,P,X,O,W,V){var T=0,N,S=1,I,U,L,R,D,K,J,E,F,G,H;while(M>T+1){N=T;T=M;S+=S;for(I=N;I<T;I+=2){if(I===T-1){U=Q.startIdx[I];L=Q.endIdx[I];R=Q.minIdx[I];D=Q.maxIdx[I];K=Q.open[I];J=Q.close[I];E=Q.minX[I];F=Q.minY[I];G=Q.maxX[I];H=Q.maxY[I]}else{U=Q.startIdx[I];L=Q.endIdx[I+1];K=Q.open[I];J=Q.close[I];if(Q.minY[I]<=Q.minY[I+1]){R=Q.minIdx[I];E=Q.minX[I];F=Q.minY[I]}else{R=Q.minIdx[I+1];E=Q.minX[I+1];F=Q.minY[I+1]}if(Q.maxY[I]>=Q.maxY[I+1]){D=Q.maxIdx[I];G=Q.maxX[I];H=Q.maxY[I]}else{D=Q.maxIdx[I+1];G=Q.maxX[I+1];H=Q.maxY[I+1]}}Q.startIdx[M]=U;Q.endIdx[M]=L;Q.minIdx[M]=R;Q.maxIdx[M]=D;Q.open[M]=K;Q.close[M]=J;Q.minX[M]=E;Q.minY[M]=F;Q.maxX[M]=G;Q.maxY[M]=H;M++}Q.map["double_"+S]=[T,M]}},none:Ext.emptyFn,aggregateData:function(K,R,B,P,O){var Q=K.length,N=[],A=[],M=[],C=[],J=[],D=[],F=[],E=[],G=[],I=[],L={startIdx:N,endIdx:A,minIdx:M,maxIdx:C,open:J,minX:D,minY:F,maxX:E,maxY:G,close:I},H;for(H=0;H<Q;H++){N[H]=H;A[H]=H;M[H]=H;C[H]=H;J[H]=R[H];D[H]=K[H];F[H]=P[H];E[H]=K[H];G[H]=B[H];I[H]=O[H]}L.map={original:[0,Q]};if(Q){this[this.getStrategy()](L,Q,K,R,B,P,O)}return L},binarySearchMin:function(s,v,u,p){var t=this.dataX;if(p<=t[s.startIdx[0]]){return v}if(p>=t[s.startIdx[u-1]]){return u-1}while(v+1<u){var q=(v+u)>>1,o=t[s.startIdx[q]];if(o===p){return q}else{if(o<p){v=q}else{u=q}}}return v},binarySearchMax:function(s,v,u,p){var t=this.dataX;if(p<=t[s.endIdx[0]]){return v}if(p>=t[s.endIdx[u-1]]){return u-1}while(v+1<u){var q=(v+u)>>1,o=t[s.endIdx[q]];if(o===p){return q}else{if(o<p){v=q}else{u=q}}}return u},constructor:function(f){this.initConfig(f)},setData:function(n,q,p,o,m){if(!p){m=o=p=q}this.dataX=n;this.dataOpen=q;this.dataHigh=p;this.dataLow=o;this.dataClose=m;if(n.length===p.length&&n.length===o.length){this.cache=this.aggregateData(n,q,p,o,m)}},getAggregation:function(B,H,w){if(!this.cache){return null}var C=Infinity,y=this.dataX[this.dataX.length-1]-this.dataX[0],G=this.cache.map,F=G.original,E,A,v,D,z,x;for(E in G){A=G[E];v=A[1]-A[0]-1;D=y/v;if(w<=D&&D<C){F=A;C=D}}z=Math.max(this.binarySearchMin(this.cache,F[0],F[1],B),F[0]);x=Math.min(this.binarySearchMax(this.cache,F[0],F[1],H)+1,F[1]);return{data:this.cache,start:z,end:x}}},1,0,0,0,0,0,[Ext.draw,"SegmentTree"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Aggregative",Ext.chart.series.sprite.Cartesian,{inheritableStatics:{def:{processors:{dataHigh:"data",dataLow:"data",dataClose:"data"},aliases:{dataOpen:"dataY"},defaults:{dataHigh:null,dataLow:null,dataClose:null}}},config:{aggregator:{}},applyAggregator:function(g,k){return Ext.factory(g,Ext.draw.SegmentTree,k)},constructor:function(){Ext.chart.series.sprite.Cartesian.prototype.constructor.apply(this,arguments)},processDataY:function(){var q=this,t=q.attr,p=t.dataHigh,u=t.dataLow,v=t.dataClose,s=t.dataY,o;Ext.chart.series.sprite.Cartesian.prototype.processDataY.apply(this,arguments);if(t.dataX&&s&&s.length>0){o=q.getAggregator();if(p){o.setData(t.dataX,t.dataY,p,u,v)}else{o.setData(t.dataX,t.dataY)}}},getGapWidth:function(){return 1},renderClipped:function(y,q,x,t){var u=this,w=Math.min(x[0],x[2]),s=Math.max(x[0],x[2]),z=u.getAggregator(),v=z&&z.getAggregation(w,s,(s-w)/t[2]*u.getGapWidth());if(v){u.dataStart=v.data.startIdx[v.start];u.dataEnd=v.data.endIdx[v.end-1];u.renderAggregates(v.data,v.start,v.end,y,q,x,t)}}},1,0,0,0,0,0,[Ext.chart.series.sprite,"Aggregative"],0));(Ext.cmd.derive("Ext.chart.series.sprite.CandleStick",Ext.chart.series.sprite.Aggregative,{inheritableStatics:{def:{processors:{raiseStyle:function(g,k){return Ext.merge({},k||{},g)},dropStyle:function(g,k){return Ext.merge({},k||{},g)},barWidth:"number",padding:"number",ohlcType:"enums(candlestick,ohlc)"},defaults:{raiseStyle:{strokeStyle:"green",fillStyle:"green"},dropStyle:{strokeStyle:"red",fillStyle:"red"},planar:false,barWidth:15,padding:3,lineJoin:"miter",miterLimit:5,ohlcType:"candlestick"},triggers:{raiseStyle:"raiseStyle",dropStyle:"dropStyle"},updaters:{raiseStyle:function(){this.raiseTemplate&&this.raiseTemplate.setAttributes(this.attr.raiseStyle)},dropStyle:function(){this.dropTemplate&&this.dropTemplate.setAttributes(this.attr.dropStyle)}}}},candlestick:function(q,x,z,v,s,u,y){var w=Math.min(x,s),t=Math.max(x,s);q.moveTo(u,v);q.lineTo(u,t);q.moveTo(u+y,t);q.lineTo(u+y,w);q.lineTo(u-y,w);q.lineTo(u-y,t);q.closePath();q.moveTo(u,z);q.lineTo(u,w)},ohlc:function(t,q,p,u,o,s,v){t.moveTo(s,p);t.lineTo(s,u);t.moveTo(s,q);t.lineTo(s-v,q);t.moveTo(s,o);t.lineTo(s+v,o)},constructor:function(){Ext.chart.series.sprite.Aggregative.prototype.constructor.apply(this,arguments);this.raiseTemplate=new Ext.draw.sprite.Rect({parent:this});this.dropTemplate=new Ext.draw.sprite.Rect({parent:this})},getGapWidth:function(){var m=this.attr,l=m.barWidth,k=m.padding;return l+k},renderAggregates:function(am,an,ao,ag,ae,V){var N=this,O=this.attr,ah=O.dataX,ad=O.matrix,al=ad.getXX(),Q=ad.getYY(),ac=ad.getDX(),ai=ad.getDY(),W=O.barWidth/al,P,af=O.ohlcType,ak=Math.round(W*0.5*al),ap=am.open,Y=am.close,S=am.maxY,U=am.minY,R=am.startIdx,aa,aj,M,X,T,Z,ab=O.lineWidth*ag.devicePixelRatio/2;ab-=Math.floor(ab);ae.save();P=this.raiseTemplate;P.useAttributes(ae,V);ae.beginPath();for(Z=an;Z<ao;Z++){if(ap[Z]<=Y[Z]){aa=Math.round(ap[Z]*Q+ai)+ab;aj=Math.round(S[Z]*Q+ai)+ab;M=Math.round(U[Z]*Q+ai)+ab;X=Math.round(Y[Z]*Q+ai)+ab;T=Math.round(ah[R[Z]]*al+ac)+ab;N[af](ae,aa,aj,M,X,T,ak)}}ae.fillStroke(P.attr);ae.restore();ae.save();P=this.dropTemplate;P.useAttributes(ae,V);ae.beginPath();for(Z=an;Z<ao;Z++){if(ap[Z]>Y[Z]){aa=Math.round(ap[Z]*Q+ai)+ab;aj=Math.round(S[Z]*Q+ai)+ab;M=Math.round(U[Z]*Q+ai)+ab;X=Math.round(Y[Z]*Q+ai)+ab;T=Math.round(ah[R[Z]]*al+ac)+ab;N[af](ae,aa,aj,M,X,T,ak)}}ae.fillStroke(P.attr);ae.restore()}},1,0,0,0,["sprite.candlestickSeries"],0,[Ext.chart.series.sprite,"CandleStick"],0));(Ext.cmd.derive("Ext.chart.series.CandleStick",Ext.chart.series.Cartesian,{type:"candlestick",seriesType:"candlestickSeries",config:{openField:null,highField:null,lowField:null,closeField:null},fieldCategoryY:["Open","High","Low","Close"],themeColorCount:function(){return 2}},0,0,0,0,["series.candlestick"],0,[Ext.chart.series,"CandleStick"],0));(Ext.cmd.derive("Ext.chart.series.Polar",Ext.chart.series.Series,{config:{rotation:0,radius:null,center:[0,0],offsetX:0,offsetY:0,showInLegend:true,xField:null,yField:null,angleField:null,radiusField:null,xAxis:null,yAxis:null},directions:["X","Y"],fieldCategoryX:["X"],fieldCategoryY:["Y"],deprecatedConfigs:{field:"angleField",lengthField:"radiusField"},constructor:function(p){var o=this,q=o.self.getConfigurator(),m=q.configs,n;if(p){for(n in o.deprecatedConfigs){if(n in p&&!(p in m)){Ext.raise("'"+n+"' config has been deprecated. Please use the '"+o.deprecatedConfigs[n]+"' config instead.")}}}Ext.chart.series.Series.prototype.constructor.call(this,p)},getXField:function(){return this.getAngleField()},updateXField:function(f){this.setAngleField(f)},getYField:function(){return this.getRadiusField()},updateYField:function(f){this.setRadiusField(f)},applyXAxis:function(k,g){return this.getChart().getAxis(k)||g},applyYAxis:function(k,g){return this.getChart().getAxis(k)||g},getXRange:function(){return[this.dataRange[0],this.dataRange[2]]},getYRange:function(){return[this.dataRange[1],this.dataRange[3]]},themeColorCount:function(){var k=this,m=k.getStore(),l=m&&m.getCount()||0;return l},isStoreDependantColorCount:true,getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer(),centerX:0,centerY:0,rotationCenterX:0,rotationCenterY:0}},applyRotation:function(f){return Ext.draw.sprite.AttributeParser.angle(f)},updateRotation:function(k){var g=this.getSprites();if(g&&g[0]){g[0].setAttributes({baseRotation:k})}}},1,0,0,0,0,0,[Ext.chart.series,"Polar"],0));(Ext.cmd.derive("Ext.chart.series.Gauge",Ext.chart.series.Polar,{type:"gauge",seriesType:"pieslice",config:{needle:false,needleLength:90,needleWidth:4,donut:30,showInLegend:false,value:null,colors:null,sectors:null,minimum:0,maximum:100,rotation:0,totalAngle:Math.PI/2,rect:[0,0,1,1],center:[0.5,0.75],radius:0.5,wholeDisk:false},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",1,2)},updateNeedle:function(n){var o=this,l=o.getSprites(),m=o.valueToAngle(o.getValue());if(l&&l.length){l[0].setAttributes({startAngle:(n?m:0),endAngle:m,strokeOpacity:(n?1:0),lineWidth:(n?o.getNeedleWidth():0)});o.doUpdateStyles()}},themeColorCount:function(){var k=this,m=k.getStore(),l=m&&m.getCount()||0;return l+(k.getNeedle()?0:1)},updateColors:function(z,y){var u=this,s=u.getSectors(),q=s&&s.length,v=u.getSprites(),x=Ext.Array.clone(z),t=z&&z.length,w;if(!t||!z[0]){return}for(w=0;w<q;w++){x[w+1]=s[w].color||x[w+1]||z[w%t]}if(v.length){v[0].setAttributes({strokeStyle:x[0]})}this.setSubStyle({fillStyle:x,strokeStyle:x});this.doUpdateStyles()},updateRect:function(o){var q=this.getWholeDisk(),s=q?Math.PI:this.getTotalAngle()/2,v=this.getDonut()/100,p,t,u;if(s<=Math.PI/2){p=2*Math.sin(s);t=1-v*Math.cos(s)}else{p=2;t=1-Math.cos(s)}u=Math.min(o[2]/p,o[3]/t);this.setRadius(u);this.setCenter([o[2]/2,u+(o[3]-t*u)/2])},updateCenter:function(f){this.setStyle({centerX:f[0],centerY:f[1],rotationCenterX:f[0],rotationCenterY:f[1]});this.doUpdateStyles()},updateRotation:function(f){this.setStyle({rotationRads:f-(this.getTotalAngle()+Math.PI)/2});this.doUpdateStyles()},doUpdateShape:function(s,n){var t,p=this.getSectors(),q=(p&&p.length)||0,o=this.getNeedleLength()/100;t=[s*o,s];while(q--){t.push(s)}this.setSubStyle({endRho:t,startRho:s/100*n});this.doUpdateStyles()},updateRadius:function(k){var g=this.getDonut();this.doUpdateShape(k,g)},updateDonut:function(g){var k=this.getRadius();this.doUpdateShape(k,g)},valueToAngle:function(f){f=this.applyValue(f);return this.getTotalAngle()*(f-this.getMinimum())/(this.getMaximum()-this.getMinimum())},applyValue:function(f){return Math.min(this.getMaximum(),Math.max(f,this.getMinimum()))},updateValue:function(p){var q=this,o=q.getNeedle(),m=q.valueToAngle(p),n=q.getSprites();n[0].getRendererData().value=p;n[0].setAttributes({startAngle:(o?m:0),endAngle:m});q.doUpdateStyles()},processData:function(){var w=this,s=w.getStore(),B,y,u,A,v,x=s&&s.first(),z,t;if(x){z=w.getXField();if(z){t=x.get(z)}}if(B=w.getXAxis()){y=B.getMinimum();u=B.getMaximum();A=B.getSprites()[0].fx;v=A.getDuration();A.setDuration(0);if(Ext.isNumber(y)){w.setMinimum(y)}else{B.setMinimum(w.getMinimum())}if(Ext.isNumber(u)){w.setMaximum(u)}else{B.setMaximum(w.getMaximum())}A.setDuration(v)}if(!Ext.isNumber(t)){t=w.getMinimum()}w.setValue(t)},getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer(),fx:{customDurations:{translationX:0,translationY:0,rotationCenterX:0,rotationCenterY:0,centerX:0,centerY:0,startRho:0,endRho:0,baseRotation:0}}}},normalizeSectors:function(o){var q=this,s=(o&&o.length)||0,t,p,v,u;if(s){for(t=0;t<s;t++){p=o[t];if(typeof p==="number"){o[t]={start:(t>0?o[t-1].end:q.getMinimum()),end:Math.min(p,q.getMaximum())};if(t==(s-1)&&o[t].end<q.getMaximum()){o[t+1]={start:o[t].end,end:q.getMaximum()}}}else{if(typeof p.start==="number"){v=Math.max(p.start,q.getMinimum())}else{v=(t>0?o[t-1].end:q.getMinimum())}if(typeof p.end==="number"){u=Math.min(p.end,q.getMaximum())}else{u=q.getMaximum()}o[t].start=v;o[t].end=u}}}else{o=[{start:q.getMinimum(),end:q.getMaximum()}]}return o},getSprites:function(){var x=this,I=x.getStore(),J=x.getValue(),D,z;if(!I&&!Ext.isNumber(J)){return[]}var y=x.getChart(),E=x.getAnimation()||y&&y.getAnimation(),A=x.sprites,w=0,G,H,B,C,F=[];if(A&&A.length){A[0].setAnimation(E);return A}C={store:I,field:x.getXField(),angleField:x.getXField(),value:J,series:x};G=x.createSprite();G.setAttributes({zIndex:10},true);G.setRendererData(C);G.setRendererIndex(w++);F.push(x.getNeedleWidth());x.getLabel().getTemplate().setField(true);H=x.normalizeSectors(x.getSectors());for(D=0,z=H.length;D<z;D++){B={startAngle:x.valueToAngle(H[D].start),endAngle:x.valueToAngle(H[D].end),label:H[D].label,fillStyle:H[D].color,strokeOpacity:0,doCallout:false,labelOverflowPadding:-1};Ext.apply(B,H[D].style);G=x.createSprite();G.setRendererData(C);G.setRendererIndex(w++);G.setAttributes(B,true);F.push(B.lineWidth)}x.setSubStyle({lineWidth:F});x.doUpdateStyles();return A}},0,0,0,0,["series.gauge"],0,[Ext.chart.series,"Gauge"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Line",Ext.chart.series.sprite.Aggregative,{inheritableStatics:{def:{processors:{smooth:"bool",fillArea:"bool",step:"bool",nullStyle:"enums(gap,connect,origin)",preciseStroke:"bool",xAxis:"default",yCap:"default"},defaults:{smooth:false,nullStyle:"connect",fillArea:false,step:false,preciseStroke:true,xAxis:null,yCap:Math.pow(2,20),yJump:50},triggers:{dataX:"dataX,bbox,smooth",dataY:"dataY,bbox,smooth",smooth:"smooth"},updaters:{smooth:function(m){var k=m.dataX,l=m.dataY;if(m.smooth&&k&&l&&k.length>2&&l.length>2){this.smoothX=Ext.draw.Draw.spline(k);this.smoothY=Ext.draw.Draw.spline(l)}else{delete this.smoothX;delete this.smoothY}}}}},list:null,updatePlainBBox:function(l){var n=this.attr,m=Math.min(0,n.dataMinY),o=Math.max(0,n.dataMaxY);l.x=n.dataMinX;l.y=m;l.width=n.dataMaxX-n.dataMinX;l.height=o-m},drawStrip:function(o,m){o.moveTo(m[0],m[1]);for(var n=2,l=m.length;n<l;n+=2){o.lineTo(m[n],m[n+1])}},drawStraightStroke:function(X,ap,al,at,ao,am){var ar=this,au=ar.attr,ah=au.nullStyle,aD=ah==="connect",W=ah==="origin",ad=au.renderer,ag=au.step,aj=true,ai=ao.length,az={type:"line",smooth:false,step:ag};var an,aC,ay,Y,y,aa,ae,ac,af,aq,ax,aA,aB,Z,ab,av,aE,aw,x,V;var ak=[];ap.beginPath();for(V=3;V<ai;V+=3){av=ao[V-3];aE=ao[V-2];Z=ao[V];ab=ao[V+1];aw=ao[V+3];x=ao[V+4];Y=Ext.isNumber(av);y=Ext.isNumber(Z);aa=Ext.isNumber(aw);ae=Y&&Ext.isNumber(aE);ac=y&&Ext.isNumber(ab);af=aa&&Ext.isNumber(x);if(W){if(!ae&&Y){aE=am;ae=true}if(!ac&&y){ab=am;ac=true}if(!af&&aa){x=am;af=true}}if(ad){az.x=Z;az.y=ab;az.x0=av;az.y0=aE;aC=[ar,az,ar.rendererData,al+V/3];an=Ext.callback(ad,null,aC,0,ar.getSeries())}if(aq&&aD&&ae&&ax){aA=ax[0];aB=ax[1];if(aj){ap.beginPath();ap.moveTo(aA,aB);ak.push(aA,aB);ay=aA;aj=false}if(ag){ap.lineTo(av,aB);ak.push(av,aB)}ap.lineTo(av,aE);ak.push(av,aE);ax=[av,aE];aq=false}if(aD&&ax&&ac&&!ae){av=ax[0];aE=ax[1];ae=true}if(ac){ax=[Z,ab]}if(ae&&ac){if(aj){ap.beginPath();ap.moveTo(av,aE);ak.push(av,aE);ay=av;aj=false}}else{aq=true;continue}if(ag){ap.lineTo(Z,aE);ak.push(Z,aE)}ap.lineTo(Z,ab);ak.push(Z,ab);if(an||!af){ap.save();Ext.apply(ap,an);an=null;if(au.fillArea){ap.lineTo(Z,am);ap.lineTo(ay,am);ap.closePath();ap.fill()}ap.beginPath();ar.drawStrip(ap,ak);ak=[];ap.stroke();ap.restore();ap.beginPath();aj=true}}},calculateScale:function(m,o){var n=0,l=m;while(l<o&&m>0){n++;l+=m>>n}return Math.pow(2,n>0?n-1:n)},drawSmoothStroke:function(af,ae,ap,aq,U,am){var P=this,ah=P.attr,ao=ah.step,aa=ah.matrix,ai=ah.renderer,an=aa.getXX(),Y=aa.getYY(),ad=aa.getDX(),aj=aa.getDY(),S=P.smoothX,W=P.smoothY,x=P.calculateScale(ah.dataX.length,aq),Z,Q,ac,R,ak,al,V,ar,X,ab,y,T,ag={type:"line",smooth:true,step:ao};ae.beginPath();ae.moveTo(S[ap*3]*an+ad,W[ap*3]*Y+aj);for(X=0,ab=ap*3+1;X<U.length-3;X+=3,ab+=3*x){Z=S[ab]*an+ad;Q=W[ab]*Y+aj;ac=S[ab+1]*an+ad;R=W[ab+1]*Y+aj;ak=af.roundPixel(U[X+3]);al=U[X+4];V=af.roundPixel(U[X]);ar=U[X+1];if(ai){ag.x0=V;ag.y0=ar;ag.cx1=Z;ag.cy1=Q;ag.cx2=ac;ag.cy2=R;ag.x=ak;ag.y=al;T=[P,ag,P.rendererData,ap+X/3+1];y=Ext.callback(ai,null,T,0,P.getSeries());ae.save();Ext.apply(ae,y)}if(ah.fillArea){ae.moveTo(V,ar);ae.bezierCurveTo(Z,Q,ac,R,ak,al);ae.lineTo(ak,am);ae.lineTo(V,am);ae.lineTo(V,ar);ae.closePath();ae.fill();ae.beginPath()}ae.moveTo(V,ar);ae.bezierCurveTo(Z,Q,ac,R,ak,al);ae.stroke();ae.moveTo(V,ar);ae.closePath();if(ai){ae.restore()}ae.beginPath();ae.moveTo(ak,al)}ae.beginPath()},drawLabel:function(I,L,M,E,T){var C=this,F=C.attr,P=C.getMarker("labels"),Q=P.getTemplate(),G=C.labelCfg||(C.labelCfg={}),R=C.surfaceMatrix,N,O,J=F.labelOverflowPadding,H,S,B,D,K;G.x=R.x(L,M);G.y=R.y(L,M);if(F.flipXY){G.rotationRads=Math.PI*0.5}else{G.rotationRads=0}G.text=I;if(Q.attr.renderer){D=[I,P,G,C.rendererData,E];B=Ext.callback(Q.attr.renderer,null,D,0,C.getSeries());if(typeof B==="string"){G.text=B}else{if(typeof B==="object"){if("text" in B){G.text=B.text}K=true}}}S=C.getMarkerBBox("labels",E,true);if(!S){C.putMarker("labels",G,E);S=C.getMarkerBBox("labels",E,true)}H=S.height/2;N=L;switch(Q.attr.display){case"under":O=M-H-J;break;case"rotate":N+=J;O=M-J;G.rotationRads=-Math.PI/4;break;default:O=M+H+J}G.x=R.x(N,O);G.y=R.y(N,O);if(K){Ext.apply(G,B)}C.putMarker("labels",G,E)},drawMarker:function(s,u,y){var v=this,x=v.attr,w=x.renderer,z=v.surfaceMatrix,A={},t,B;if(w&&v.getMarker("markers")){A.type="marker";A.x=s;A.y=u;B=[v,A,v.rendererData,y];t=Ext.callback(w,null,B,0,v.getSeries());if(t){Ext.apply(A,t)}}A.translationX=z.x(s,u);A.translationY=z.y(s,u);delete A.x;delete A.y;v.putMarker("markers",A,y,!w)},drawStroke:function(v,t,w,u,p,q){var s=this,x=s.attr.smooth&&s.smoothX&&s.smoothY;if(x){s.drawSmoothStroke(v,t,w,u,p,q)}else{s.drawStraightStroke(v,t,w,u,p,q)}},renderAggregates:function(au,ax,aQ,y,aL,am,ar){var aO=this,aR=aO.attr,aD=aR.dataX,aF=aR.dataY,aT=aR.labels,ay=aR.xAxis,a0=aR.yCap,aU=aR.smooth&&aO.smoothX&&aO.smoothY,aX=aT&&aO.getMarker("labels"),aB=aO.getMarker("markers"),aq=aR.matrix,az=y.devicePixelRatio,at=aq.getXX(),aV=aq.getYY(),aY=aq.getDX(),aZ=aq.getDY(),aH=aO.list||(aO.list=[]),ap=au.minX,aW=au.maxX,aS=au.minY,aK=au.maxY,aA=au.startIdx,aC=true,aj,aN,al,aP,aJ,aE,ah,ai,aG,ao;aO.rendererData={store:aO.getStore()};aH.length=0;for(aG=ax;aG<aQ;aG++){var x=ap[aG],aI=aW[aG],ag=aS[aG],aM=aK[aG];aj=Ext.isNumber(x);al=Ext.isNumber(ag);aN=Ext.isNumber(aI);aP=Ext.isNumber(aM);if(x<aI){aH.push(aj?(x*at+aY):null,al?(ag*aV+aZ):null,aA[aG]);aH.push(aN?(aI*at+aY):null,aP?(aM*aV+aZ):null,aA[aG])}else{if(x>aI){aH.push(aN?(aI*at+aY):null,aP?(aM*aV+aZ):null,aA[aG]);aH.push(aj?(x*at+aY):null,al?(ag*aV+aZ):null,aA[aG])}else{aH.push(aN?(aI*at+aY):null,aP?(aM*aV+aZ):null,aA[aG])}}}if(aH.length){for(aG=0;aG<aH.length;aG+=3){ah=aH[aG];ai=aH[aG+1];if(Ext.isNumber(ah)&&Ext.isNumber(ai)){if(ai>a0){ai=a0}else{if(ai<-a0){ai=-a0}}aH[aG+1]=ai}else{aC=false;continue}ao=aH[aG+2];if(aB){aO.drawMarker(ah,ai,ao)}if(aX&&aT[ao]){aO.drawLabel(aT[ao],ah,ai,ao,ar)}}aO.isContinuousLine=aC;if(aU&&!aC){Ext.raise("Line smoothing in only supported for gapless data, where all data points are finite numbers.")}if(ay){aE=ay.getAlignment()==="vertical";if(Ext.isNumber(ay.floatingAtCoord)){aJ=(aE?ar[2]:ar[3])-ay.floatingAtCoord}else{aJ=aE?ar[0]:ar[1]}}else{aJ=aR.flipXY?ar[0]:ar[1]}if(aR.preciseStroke){if(aR.fillArea){aL.fill()}if(aR.transformFillStroke){aR.inverseMatrix.toContext(aL)}aO.drawStroke(y,aL,ax,aQ,aH,aJ);if(aR.transformFillStroke){aR.matrix.toContext(aL)}aL.stroke()}else{aO.drawStroke(y,aL,ax,aQ,aH,aJ);if(aC&&aU&&aR.fillArea&&!aR.renderer){var av=aD[aD.length-1]*at+aY+az,aw=aF[aF.length-1]*aV+aZ,ak=aD[0]*at+aY-az,an=aF[0]*aV+aZ;aL.lineTo(av,aw);aL.lineTo(av,aJ-aR.lineWidth);aL.lineTo(ak,aJ-aR.lineWidth);aL.lineTo(ak,an)}if(aR.transformFillStroke){aR.matrix.toContext(aL)}if(aR.fillArea){aL.fillStroke(aR,true)}else{aL.stroke(true)}}}}},0,0,0,0,["sprite.lineSeries"],0,[Ext.chart.series.sprite,"Line"],0));(Ext.cmd.derive("Ext.chart.series.Line",Ext.chart.series.Cartesian,{type:"line",seriesType:"lineSeries",config:{selectionTolerance:20,smooth:false,step:false,nullStyle:"gap",fill:undefined,aggregator:{strategy:"double"}},defaultSmoothness:3,overflowBuffer:1,themeMarkerCount:function(){return 1},getDefaultSpriteConfig:function(){var n=this,m=Ext.chart.series.Cartesian.prototype.getDefaultSpriteConfig.apply(this,arguments),o=Ext.apply({},n.getStyle()),p,q=false;if(typeof n.config.fill!="undefined"){if(n.config.fill){q=true;if(typeof o.fillStyle=="undefined"){if(typeof o.strokeStyle=="undefined"){p=n.getStyleWithTheme();o.fillStyle=p.fillStyle;o.strokeStyle=p.strokeStyle}else{o.fillStyle=o.strokeStyle}}}}else{if(o.fillStyle){q=true}}if(!q){delete o.fillStyle}o=Ext.apply(m||{},o);return Ext.apply(o,{fillArea:q,step:n.config.step,smooth:n.config.smooth,selectionTolerance:n.config.selectionTolerance})},updateStep:function(g){var k=this.getSprites()[0];if(k&&k.attr.step!==g){k.setAttributes({step:g})}},updateFill:function(g){var k=this.getSprites()[0];if(k&&k.attr.fillArea!==g){k.setAttributes({fillArea:g})}},updateSmooth:function(k){var g=this.getSprites()[0];if(g&&g.attr.smooth!==k){g.setAttributes({smooth:k})}},updateNullStyle:function(k){var g=this.getSprites()[0];if(g&&g.attr.nullStyle!==k){g.setAttributes({nullStyle:k})}}},0,0,0,0,["series.line"],0,[Ext.chart.series,"Line"],0));(Ext.cmd.derive("Ext.chart.series.sprite.PieSlice",Ext.draw.sprite.Sector,{inheritableStatics:{def:{processors:{doCallout:"bool",label:"string",rotateLabels:"bool",labelOverflowPadding:"number",renderer:"default"},defaults:{doCallout:true,rotateLabels:true,label:"",labelOverflowPadding:10,renderer:null}}},config:{rendererData:null,rendererIndex:0,series:null},setGradientBBox:function(I,w){var z=this,A=z.attr,B=(A.fillStyle&&A.fillStyle.isGradient)||(A.strokeStyle&&A.strokeStyle.isGradient);if(B&&!A.constrainGradients){var G=z.getMidAngle(),E=A.margin,D=A.centerX,F=A.centerY,H=A.endRho,N=A.matrix,K=N.getScaleX(),L=N.getScaleY(),M=K*H,C=L*H,J={width:M+M,height:C+C};if(E){D+=E*Math.cos(G);F+=E*Math.sin(G)}J.x=N.x(D,F)-M;J.y=N.y(D,F)-C;I.setGradientBBox(J)}else{Ext.draw.sprite.Sector.prototype.setGradientBBox.call(this,I,w)}},render:function(t,s,o){var p=this,u=p.attr,v={},q;if(u.renderer){v={type:"sector",text:u.text,centerX:u.centerX,centerY:u.centerY,margin:u.margin,startAngle:Math.min(u.startAngle,u.endAngle),endAngle:Math.max(u.startAngle,u.endAngle),startRho:Math.min(u.startRho,u.endRho),endRho:Math.max(u.startRho,u.endRho)};q=Ext.callback(u.renderer,null,[p,v,p.getRendererData(),p.getRendererIndex()],0,p.getSeries());p.setAttributes(q);p.useAttributes(s,o)}Ext.draw.sprite.Sector.prototype.render.call(this,t,s,o);if(u.label&&p.getMarker("labels")){p.placeLabel()}},placeLabel:function(){var J=this,T=J.attr,V=T.attributeId,S=Math.min(T.startAngle,T.endAngle),x=Math.max(T.startAngle,T.endAngle),R=(S+x)*0.5,M=T.margin,Y=T.centerX,Z=T.centerY,aa=Math.sin(R),ad=Math.cos(R),N=Math.min(T.startRho,T.endRho)+M,O=Math.max(T.startRho,T.endRho)+M,Q=(N+O)*0.5,ae=J.surfaceMatrix,K=J.labelCfg||(J.labelCfg={}),ab=J.getMarker("labels"),ac=ab.getTemplate(),af=ac.getCalloutLine(),P,U,X,y,L,W;if(af){W=af.length||40}else{W=0}ae.appendMatrix(T.matrix);K.text=T.label;U=Y+ad*Q;X=Z+aa*Q;K.x=ae.x(U,X);K.y=ae.y(U,X);U=Y+ad*O;X=Z+aa*O;K.calloutStartX=ae.x(U,X);K.calloutStartY=ae.y(U,X);U=Y+ad*(O+W);X=Z+aa*(O+W);K.calloutPlaceX=ae.x(U,X);K.calloutPlaceY=ae.y(U,X);if(!T.rotateLabels){K.rotationRads=0}else{switch(ac.attr.orientation){case"horizontal":K.rotationRads=R+Math.atan2(ae.y(1,0)-ae.y(0,0),ae.x(1,0)-ae.x(0,0))+Math.PI/2;break;case"vertical":K.rotationRads=R+Math.atan2(ae.y(1,0)-ae.y(0,0),ae.x(1,0)-ae.x(0,0));break}}K.calloutColor=(af&&af.color)||J.attr.fillStyle;if(af){if(af.width){K.calloutWidth=af.width}}else{K.calloutColor="none"}K.globalAlpha=T.globalAlpha*T.fillOpacity;if(ac.display!=="none"){K.hidden=(T.startAngle==T.endAngle)}if(ac.attr.renderer){L=[J.attr.label,ab,K,J.getRendererData(),J.getRendererIndex()];y=Ext.callback(ac.attr.renderer,null,L,0,J.getSeries());if(typeof y==="string"){K.text=y}else{Ext.apply(K,y)}}J.putMarker("labels",K,V);P=J.getMarkerBBox("labels",V,true);if(P){if(T.doCallout){if(ac.attr.display==="outside"){J.putMarker("labels",{callout:1},V)}else{if(ac.attr.display==="inside"){J.putMarker("labels",{callout:0},V)}else{J.putMarker("labels",{callout:1-J.sliceContainsLabel(T,P)},V)}}}else{J.putMarker("labels",{globalAlpha:J.sliceContainsLabel(T,P)},V)}}},sliceContainsLabel:function(y,w){var x=y.labelOverflowPadding,u=(y.endRho+y.startRho)/2,v=u+(w.width+x)/2,t=u-(w.width+x)/2,s,z,A,B;if(x<0){return 1}if(w.width+x*2>(y.endRho-y.startRho)){return 0}z=Math.sqrt(y.endRho*y.endRho-v*v);A=Math.sqrt(y.endRho*y.endRho-t*t);s=Math.abs(y.endAngle-y.startAngle);B=(s>Math.PI/2?t:Math.abs(Math.tan(s/2))*t);if(w.height+x*2>Math.min(z,A,B)*2){return 0}return 1}},0,0,0,0,["sprite.pieslice"],[["markerHolder",Ext.chart.MarkerHolder]],[Ext.chart.series.sprite,"PieSlice"],0));(Ext.cmd.derive("Ext.chart.series.Pie",Ext.chart.series.Polar,{type:"pie",seriesType:"pieslice",isPie:true,config:{donut:0,rotation:0,clockwise:true,totalAngle:2*Math.PI,hidden:[],radiusFactor:100,highlightCfg:{margin:20},style:{}},directions:["X"],applyLabel:function(k,g){if(Ext.isObject(k)&&!Ext.isString(k.orientation)){Ext.apply(k=Ext.Object.chain(k),{orientation:"vertical"})}return Ext.chart.series.Polar.prototype.applyLabel.call(this,k,g)},updateLabelData:function(){var u=this,t=u.getStore(),v=t.getData().items,x=u.getSprites(),B=u.getLabel().getTemplate().getField(),y=u.getHidden(),A,w,z,s;if(x.length&&B){z=[];for(A=0,w=v.length;A<w;A++){z.push(v[A].get(B))}for(A=0,w=x.length;A<w;A++){s=x[A];s.setAttributes({label:z[A]});s.putMarker("labels",{hidden:y[A]},s.attr.attributeId)}}},coordinateX:function(){var I=this,Q=I.getStore(),N=Q.getData().items,T=N.length,U=I.getXField(),R=I.getYField(),H,V=0,G,L,J=0,y=I.getHidden(),S=[],x,P=0,O=I.getTotalAngle(),K=I.getClockwise()?1:-1,M=I.getSprites(),F,E;if(!M){return}for(x=0;x<T;x++){H=Math.abs(Number(N[x].get(U)))||0;L=R&&Math.abs(Number(N[x].get(R)))||0;if(!y[x]){V+=H;if(L>J){J=L}}S[x]=V;if(x>=y.length){y[x]=false}}y.length=T;I.maxY=J;if(V!==0){G=O/V}for(x=0;x<T;x++){M[x].setAttributes({startAngle:P,endAngle:P=(G?K*S[x]*G:0),globalAlpha:1})}if(T<I.sprites.length){for(x=T;x<I.sprites.length;x++){E=I.sprites[x];E.getMarker("labels").clear(E.getId());E.releaseMarker("labels");E.destroy()}I.sprites.length=T}for(x=T;x<I.sprites.length;x++){M[x].setAttributes({startAngle:O,endAngle:O,globalAlpha:0})}F=I.getChart();if(!F.isConfiguring){F.refreshLegendStore()}},updateCenter:function(f){this.setStyle({translationX:f[0]+this.getOffsetX(),translationY:f[1]+this.getOffsetY()});this.doUpdateStyles()},updateRadius:function(f){this.setStyle({startRho:f*this.getDonut()*0.01,endRho:f*this.getRadiusFactor()*0.01});this.doUpdateStyles()},getStyleByIndex:function(z){var v=this,t=v.getStore(),s=t.getAt(z),w=v.getYField(),y=v.getRadius(),B={},x,A,u;if(s){u=w&&Math.abs(Number(s.get(w)))||0;x=y*v.getDonut()*0.01;A=y*v.getRadiusFactor()*0.01;B=Ext.chart.series.Polar.prototype.getStyleByIndex.call(this,z);B.startRho=x;B.endRho=v.maxY?(x+(A-x)*u/v.maxY):A}return B},updateDonut:function(g){var k=this.getRadius();this.setStyle({startRho:k*g*0.01,endRho:k*this.getRadiusFactor()*0.01});this.doUpdateStyles()},rotationOffset:-Math.PI/2,updateRotation:function(f){this.setStyle({rotationRads:f+this.rotationOffset});this.doUpdateStyles()},updateTotalAngle:function(f){this.processData()},getSprites:function(){var w=this,y=w.getChart(),H=w.getStore();if(!y||!H){return[]}w.getColors();w.getSubStyle();var x=H.getData().items,E=x.length,C=w.getAnimation()||y&&y.getAnimation(),z=w.sprites,G,D=false,J=0,I=w.getLabel(),F=I.getTemplate(),B,A;A={store:H,field:w.getXField(),angleField:w.getXField(),radiusField:w.getYField(),series:w};for(B=0;B<E;B++){G=z[B];if(!G){G=w.createSprite();if(w.getHighlight()){G.config.highlight=w.getHighlight();G.addModifier("highlight",true)}if(F.getField()){F.setAttributes({labelOverflowPadding:w.getLabelOverflowPadding()});F.fx.setCustomDurations({callout:200})}G.setAttributes(w.getStyleByIndex(B));G.setRendererData(A);D=true}G.setRendererIndex(J++);G.setAnimation(C)}if(D){w.doUpdateStyles()}return w.sprites},betweenAngle:function(p,n,q){var o=Math.PI*2,m=this.rotationOffset;if(n===q){return false}if(!this.getClockwise()){p*=-1;n*=-1;q*=-1;n-=m;q-=m}else{n+=m;q+=m}p-=n;q-=n;p%=o;q%=o;p+=o;q+=o;p%=o;q%=o;return p<q||Ext.Number.isEqual(q,0,1e-8)},getItemByIndex:function(k,g){g=g||"sprites";return Ext.chart.series.Polar.prototype.getItemByIndex.call(this,k,g)},getItemForAngle:function(z){var s=this,u=s.getSprites(),w;z%=Math.PI*2;while(z<0){z+=Math.PI*2}if(u){var q=s.getStore(),t=q.getData().items,x=s.getHidden(),y=0,v=q.getCount();for(;y<v;y++){if(!x[y]){w=u[y].attr;if(w.startAngle<=z&&w.endAngle>=z){return{series:s,sprite:u[y],index:y,record:t[y],field:s.getXField()}}}}}return null},getItemForPoint:function(O,P){var H=this,R=H.getSprites();if(R){var J=H.getCenter(),x=H.getOffsetX(),y=H.getOffsetY(),L=O-J[0]+x,M=P-J[1]+y,S=H.getStore(),N=H.getDonut(),D=S.getData().items,K=Math.atan2(M,L)-H.getRotation(),T=Math.sqrt(L*L+M*M),G=H.getRadius()*N*0.01,F=H.getHidden(),E,Q,I;for(E=0,Q=D.length;E<Q;E++){if(!F[E]){I=R[E].attr;if(T>=G+I.margin&&T<=I.endRho+I.margin){if(H.betweenAngle(K,I.startAngle,I.endAngle)){return{series:H,sprite:R[E],index:E,record:D[E],field:H.getXField()}}}}}return null}},provideLegendInfo:function(w){var u=this,t=u.getStore();if(t){var v=t.getData().items,A=u.getLabel().getTemplate().getField(),z=u.getXField(),x=u.getHidden(),y,B,s;for(y=0;y<v.length;y++){B=u.getStyleByIndex(y);s=B.fillStyle;if(Ext.isObject(s)){s=s.stops&&s.stops[0].color}w.push({name:A?String(v[y].get(A)):z+" "+y,mark:s||B.strokeStyle||"black",disabled:x[y],series:u.getId(),index:y})}}}},0,0,0,0,["series.pie"],0,[Ext.chart.series,"Pie"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Pie3DPart",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",margin:"number",thickness:"number",bevelWidth:"number",distortion:"number",baseColor:"color",colorSpread:"number",baseRotation:"number",part:"enums(top,bottom,start,end,innerFront,innerBack,outerFront,outerBack)",label:"string"},aliases:{rho:"endRho"},triggers:{centerX:"path,bbox",centerY:"path,bbox",startAngle:"path,partZIndex",endAngle:"path,partZIndex",startRho:"path",endRho:"path,bbox",margin:"path,bbox",thickness:"path",distortion:"path",baseRotation:"path,partZIndex",baseColor:"partZIndex,partColor",colorSpread:"partColor",part:"path,partZIndex",globalAlpha:"canvas,alpha",fillOpacity:"canvas,alpha"},defaults:{centerX:0,centerY:0,startAngle:Math.PI*2,endAngle:Math.PI*2,startRho:0,endRho:150,margin:0,thickness:35,distortion:0.5,baseRotation:0,baseColor:"white",colorSpread:1,miterLimit:1,bevelWidth:5,strokeOpacity:0,part:"top",label:""},updaters:{alpha:"alphaUpdater",partColor:"partColorUpdater",partZIndex:"partZIndexUpdater"}}},bevelParams:[],constructor:function(f){Ext.draw.sprite.Path.prototype.constructor.call(this,f);this.bevelGradient=new Ext.draw.gradient.Linear({stops:[{offset:0,color:"rgba(255,255,255,0)"},{offset:0.7,color:"rgba(255,255,255,0.6)"},{offset:1,color:"rgba(255,255,255,0)"}]})},alphaUpdater:function(t){var n=this,o=t.globalAlpha,q=t.fillOpacity,s=n.oldOpacity,p=n.oldFillOpacity;if((o!==s&&(o===1||s===1))||(q!==p&&(q===1||p===1))){n.scheduleUpdater(t,"path",["globalAlpha"]);n.oldOpacity=o;n.oldFillOpacity=q}},partColorUpdater:function(q){var n=Ext.util.Color.fly(q.baseColor),p=n.toString(),m=q.colorSpread,o;switch(q.part){case"top":o=new Ext.draw.gradient.Radial({start:{x:0,y:0,r:0},end:{x:0,y:0,r:1},stops:[{offset:0,color:n.createLighter(0.1*m)},{offset:1,color:n.createDarker(0.1*m)}]});break;case"bottom":o=new Ext.draw.gradient.Radial({start:{x:0,y:0,r:0},end:{x:0,y:0,r:1},stops:[{offset:0,color:n.createDarker(0.2*m)},{offset:1,color:n.toString()}]});break;case"outerFront":case"outerBack":o=new Ext.draw.gradient.Linear({stops:[{offset:0,color:n.createDarker(0.15*m).toString()},{offset:0.3,color:p},{offset:0.8,color:n.createLighter(0.2*m).toString()},{offset:1,color:n.createDarker(0.25*m).toString()}]});break;case"start":o=new Ext.draw.gradient.Linear({stops:[{offset:0,color:n.createDarker(0.1*m).toString()},{offset:1,color:n.createLighter(0.2*m).toString()}]});break;case"end":o=new Ext.draw.gradient.Linear({stops:[{offset:0,color:n.createDarker(0.1*m).toString()},{offset:1,color:n.createLighter(0.2*m).toString()}]});break;case"innerFront":case"innerBack":o=new Ext.draw.gradient.Linear({stops:[{offset:0,color:n.createDarker(0.1*m).toString()},{offset:0.2,color:n.createLighter(0.2*m).toString()},{offset:0.7,color:p},{offset:1,color:n.createDarker(0.1*m).toString()}]});break}q.fillStyle=o;q.canvasAttributes.fillStyle=o},partZIndexUpdater:function(t){var q=Ext.draw.sprite.AttributeParser.angle,o=t.baseRotation,p=t.startAngle,s=t.endAngle,n;switch(t.part){case"top":t.zIndex=6;break;case"outerFront":p=q(p+o);s=q(s+o);if(p>=0&&s<0){n=Math.sin(p)}else{if(p<=0&&s>0){n=Math.sin(s)}else{if(p>=0&&s>0){if(p>s){n=0}else{n=Math.max(Math.sin(p),Math.sin(s))}}else{n=1}}}t.zIndex=4+n;break;case"outerBack":t.zIndex=1;break;case"start":t.zIndex=4+Math.sin(q(p+o));break;case"end":t.zIndex=4+Math.sin(q(s+o));break;case"innerFront":t.zIndex=2;break;case"innerBack":t.zIndex=4+Math.sin(q((p+s)/2+o));break;case"bottom":t.zIndex=0;break}t.dirtyZIndex=true},updatePlainBBox:function(F){var y=this.attr,D=y.part,C=y.baseRotation,z=y.centerX,A=y.centerY,u,B,v,w,x,E;if(D==="start"){B=y.startAngle+C}else{if(D==="end"){B=y.endAngle+C}}if(Ext.isNumber(B)){x=Math.sin(B);E=Math.cos(B);v=Math.min(z+E*y.startRho,z+E*y.endRho);w=A+x*y.startRho*y.distortion;F.x=v;F.y=w;F.width=E*(y.endRho-y.startRho);F.height=y.thickness+x*(y.endRho-y.startRho)*2;return}if(D==="innerFront"||D==="innerBack"){u=y.startRho}else{u=y.endRho}F.width=u*2;F.height=u*y.distortion*2+y.thickness;F.x=y.centerX-u;F.y=y.centerY-u*y.distortion},updateTransformedBBox:function(f){if(this.attr.part==="start"||this.attr.part==="end"){return Ext.draw.sprite.Path.prototype.updateTransformedBBox.apply(this,arguments)}return this.updatePlainBBox(f)},updatePath:function(f){if(!this.attr.globalAlpha){return}if(this.attr.endAngle<this.attr.startAngle){return}this[this.attr.part+"Renderer"](f)},render:function(n,m){var l=this,o=l.attr;if(!o.globalAlpha||Ext.Number.isEqual(o.startAngle,o.endAngle,1e-8)){return}Ext.draw.sprite.Path.prototype.render.call(this,n,m);l.bevelRenderer(n,m);if(o.label&&l.getMarker("labels")){l.placeLabel()}},placeLabel:function(){var y=this,O=y.attr,Q=O.attributeId,x=O.margin,ab=O.distortion,V=O.centerX,W=O.centerY,T=O.baseRotation,L=O.startAngle+T,S=O.endAngle+T,M=(L+S)/2,J=O.startRho+x,I=O.endRho+x,K=(J+I)/2,ad=Math.sin(M),ac=Math.cos(M),Z=y.surfaceMatrix,X=y.getMarker("labels"),Y=X.getTemplate(),aa=Y.getCalloutLine(),R=aa&&aa.length||40,U={},N,P;Z.appendMatrix(O.matrix);U.text=O.label;N=V+ac*K;P=W+ad*K*ab;U.x=Z.x(N,P);U.y=Z.y(N,P);N=V+ac*I;P=W+ad*I*ab;U.calloutStartX=Z.x(N,P);U.calloutStartY=Z.y(N,P);N=V+ac*(I+R);P=W+ad*(I+R)*ab;U.calloutPlaceX=Z.x(N,P);U.calloutPlaceY=Z.y(N,P);U.calloutWidth=2;y.putMarker("labels",U,Q);y.putMarker("labels",{callout:1},Q)},bevelRenderer:function(t,s){var o=this,u=o.attr,p=u.bevelWidth,v=o.bevelParams,q;for(q=0;q<v.length;q++){s.beginPath();s.ellipse.apply(s,v[q]);s.save();s.lineWidth=p;s.strokeOpacity=p?1:0;s.strokeGradient=o.bevelGradient;s.stroke(u);s.restore()}},lidRenderer:function(H,J){var L=this.attr,A=L.margin,E=L.distortion,y=L.centerX,z=L.centerY,B=L.baseRotation,x=L.startAngle+B,C=L.endAngle+B,D=(x+C)/2,K=L.startRho,F=L.endRho,I=Math.sin(C),G=Math.cos(C);y+=Math.cos(D)*A;z+=Math.sin(D)*A*E;H.ellipse(y,z+J,K,K*E,0,x,C,false);H.lineTo(y+G*F,z+J+I*F*E);H.ellipse(y,z+J,F,F*E,0,C,x,true);H.closePath()},topRenderer:function(f){this.lidRenderer(f,0)},bottomRenderer:function(k){var m=this.attr,l=Ext.util.Color.RGBA_NONE;if(m.globalAlpha<1||m.fillOpacity<1||m.shadowColor!==l){this.lidRenderer(k,m.thickness)}},sideRenderer:function(H,L){var E=this.attr,I=E.margin,O=E.centerX,P=E.centerY,R=E.distortion,N=E.baseRotation,D=E.startAngle+N,G=E.endAngle+N,Q=(!E.startAngle&&Ext.Number.isEqual(Math.PI*2,E.endAngle,1e-7)),U=E.thickness,C=E.startRho,J=E.endRho,M=(L==="start"&&D)||(L==="end"&&G),T=Math.sin(M),S=Math.cos(M),V=E.globalAlpha<1,F=L==="start"&&S<0||L==="end"&&S>0||V,K;if(F&&!Q){K=(D+G)/2;O+=Math.cos(K)*I;P+=Math.sin(K)*I*R;H.moveTo(O+S*C,P+T*C*R);H.lineTo(O+S*J,P+T*J*R);H.lineTo(O+S*J,P+T*J*R+U);H.lineTo(O+S*C,P+T*C*R+U);H.closePath()}},startRenderer:function(f){this.sideRenderer(f,"start")},endRenderer:function(f){this.sideRenderer(f,"end")},rimRenderer:function(H,Z,J,T){var O=this,U=O.attr,I=U.margin,W=U.centerX,X=U.centerY,aa=U.distortion,V=U.baseRotation,S=Ext.draw.sprite.AttributeParser.angle,R=U.startAngle+V,G=U.endAngle+V,Q=S((R+G)/2),ad=U.thickness,ac=U.globalAlpha<1,ab,K,P;O.bevelParams=[];R=S(R);G=S(G);W+=Math.cos(Q)*I;X+=Math.sin(Q)*I*aa;ab=R>=0&&G>=0;K=R<=0&&G<=0;function N(){H.ellipse(W,X+ad,Z,Z*aa,0,Math.PI,R,true);H.lineTo(W+Math.cos(R)*Z,X+Math.sin(R)*Z*aa);P=[W,X,Z,Z*aa,0,R,Math.PI,false];if(!J){O.bevelParams.push(P)}H.ellipse.apply(H,P);H.closePath()}function Y(){H.ellipse(W,X+ad,Z,Z*aa,0,0,G,false);H.lineTo(W+Math.cos(G)*Z,X+Math.sin(G)*Z*aa);P=[W,X,Z,Z*aa,0,G,0,true];if(!J){O.bevelParams.push(P)}H.ellipse.apply(H,P);H.closePath()}function M(){H.ellipse(W,X+ad,Z,Z*aa,0,Math.PI,G,false);H.lineTo(W+Math.cos(G)*Z,X+Math.sin(G)*Z*aa);P=[W,X,Z,Z*aa,0,G,Math.PI,true];if(J){O.bevelParams.push(P)}H.ellipse.apply(H,P);H.closePath()}function L(){H.ellipse(W,X+ad,Z,Z*aa,0,R,0,false);H.lineTo(W+Z,X);P=[W,X,Z,Z*aa,0,0,R,true];if(J){O.bevelParams.push(P)}H.ellipse.apply(H,P);H.closePath()}if(T){if(!J||ac){if(R>=0&&G<0){N()}else{if(R<=0&&G>0){Y()}else{if(R<=0&&G<0){if(R>G){H.ellipse(W,X+ad,Z,Z*aa,0,0,Math.PI,false);H.lineTo(W-Z,X);P=[W,X,Z,Z*aa,0,Math.PI,0,true];if(!J){O.bevelParams.push(P)}H.ellipse.apply(H,P);H.closePath()}}else{if(R>G){N();Y()}else{P=[W,X,Z,Z*aa,0,R,G,false];if(ab&&!J||K&&J){O.bevelParams.push(P)}H.ellipse.apply(H,P);H.lineTo(W+Math.cos(G)*Z,X+Math.sin(G)*Z*aa+ad);H.ellipse(W,X+ad,Z,Z*aa,0,G,R,true);H.closePath()}}}}}}else{if(J||ac){if(R>=0&&G<0){M()}else{if(R<=0&&G>0){L()}else{if(R<=0&&G<0){if(R>G){M();L()}else{H.ellipse(W,X+ad,Z,Z*aa,0,R,G,false);H.lineTo(W+Math.cos(G)*Z,X+Math.sin(G)*Z*aa);P=[W,X,Z,Z*aa,0,G,R,true];if(J){O.bevelParams.push(P)}H.ellipse.apply(H,P);H.closePath()}}else{if(R>G){H.ellipse(W,X+ad,Z,Z*aa,0,-Math.PI,0,false);H.lineTo(W+Z,X);P=[W,X,Z,Z*aa,0,0,-Math.PI,true];if(J){O.bevelParams.push(P)}H.ellipse.apply(H,P);H.closePath()}}}}}}},innerFrontRenderer:function(f){this.rimRenderer(f,this.attr.startRho,true,true)},innerBackRenderer:function(f){this.rimRenderer(f,this.attr.startRho,true,false)},outerFrontRenderer:function(f){this.rimRenderer(f,this.attr.endRho,false,true)},outerBackRenderer:function(f){this.rimRenderer(f,this.attr.endRho,false,false)}},1,0,0,0,["sprite.pie3dPart"],[["markerHolder",Ext.chart.MarkerHolder]],[Ext.chart.series.sprite,"Pie3DPart"],0));(Ext.cmd.derive("Ext.chart.series.Pie3D",Ext.chart.series.Polar,{type:"pie3d",seriesType:"pie3d",is3D:true,config:{rect:[0,0,0,0],thickness:35,distortion:0.5,donut:false,hidden:[],highlightCfg:{margin:20},shadow:false},rotationOffset:-Math.PI/2,setField:function(f){return this.setXField(f)},getField:function(){return this.getXField()},updateRotation:function(f){this.setStyle({baseRotation:f+this.rotationOffset});this.doUpdateStyles()},updateDistortion:function(){this.setRadius()},updateThickness:function(){this.setRadius()},updateColors:function(f){this.setSubStyle({baseColor:f})},applyShadow:function(f){if(f===true){f={shadowColor:"rgba(0,0,0,0.8)",shadowBlur:30}}else{if(!Ext.isObject(f)){f={shadowColor:Ext.util.Color.RGBA_NONE}}}return f},updateShadow:function(v){var p=this,o=p.getSprites(),q=p.spritesPerSlice,s=o&&o.length,t,u;for(t=1;t<s;t+=q){u=o[t];if(u.attr.part="bottom"){u.setAttributes(v)}}},getStyleByIndex:function(p){var n=Ext.chart.series.Polar.prototype.getStyleByIndex.call(this,p),o=this.getStyle(),q=n.fillStyle||n.fill||n.color,m=o.strokeStyle||o.stroke;if(q){n.baseColor=q;delete n.fillStyle;delete n.fill;delete n.color}if(m){n.strokeStyle=m}return n},doUpdateStyles:function(){var w=this,v=w.getSprites(),x=w.spritesPerSlice,k=v&&v.length,s=0,t=0,u,q;for(;s<k;s+=x,t++){q=w.getStyleByIndex(t);for(u=0;u<x;u++){v[s+u].setAttributes(q)}}},coordinateX:function(){var L=this,K=L.getChart(),O=K&&K.getAnimation(),S=L.getStore(),D=S.getData().items,U=D.length,W=L.getXField(),H=L.getRotation(),E=L.getHidden(),J,V=0,Q,T=[],P=L.getSprites(),X=P.length,N=L.spritesPerSlice,R=0,I=Math.PI*2,M=1e-10,F,G;for(F=0;F<U;F++){J=Math.abs(Number(D[F].get(W)))||0;if(!E[F]){V+=J}T[F]=V;if(F>=E.length){E[F]=false}}E.length=U;if(V===0){return}Q=2*Math.PI/V;for(F=0;F<U;F++){T[F]*=Q}for(F=0;F<X;F++){P[F].setAnimation(O)}for(F=0;F<U;F++){for(G=0;G<N;G++){P[F*N+G].setAttributes({startAngle:R,endAngle:T[F]-M,globalAlpha:1,baseRotation:H})}R=T[F]}for(F*=N;F<X;F++){P[F].setAnimation(O);P[F].setAttributes({startAngle:I,endAngle:I,globalAlpha:0,baseRotation:H})}},updateLabelData:function(){var u=this,F=u.getStore(),v=F.getData().items,w=u.getSprites(),C=u.getLabel().getTemplate().getField(),y=u.getHidden(),D=u.spritesPerSlice,A,B,x,z,E;if(w.length&&C){z=[];for(A=0,x=v.length;A<x;A++){z.push(v[A].get(C))}for(A=0,B=0,x=w.length;A<x;A+=D,B++){E=w[A];E.setAttributes({label:z[B]});E.putMarker("labels",{hidden:y[B]},E.attr.attributeId)}}},applyRadius:function(){var p=this,s=p.getChart(),w=s.getInnerPadding(),q=s.getMainRect()||[0,0,1,1],t=q[2]-w*2,v=q[3]-w*2-p.getThickness(),x=t/2,u=x*p.getDistortion();if(u>v/2){return v/(p.getDistortion()*2)}else{return x}},getSprites:function(){var L=this,X=L.getStore();if(!X){return[]}var M=L.getChart(),J=L.getSurface(),F=X.getData().items,R=L.spritesPerSlice,ab=F.length,Q=L.getAnimation()||M&&M.getAnimation(),O=L.getCenter(),P=L.getOffsetX(),S=L.getOffsetY(),aa=L.getRadius(),I=L.getRotation(),Y=L.getHighlight(),Z={centerX:O[0]+P,centerY:O[1]+S-L.getThickness()/2,endRho:aa,startRho:aa*L.getDonut()/100,thickness:L.getThickness(),distortion:L.getDistortion()},T=L.sprites,U=L.getLabel(),W=U.getTemplate(),N,V,K,G,H;for(G=0;G<ab;G++){V=Ext.apply({},this.getStyleByIndex(G),Z);if(!T[G*R]){for(H=0;H<L.partNames.length;H++){K=J.add({type:"pie3dPart",part:L.partNames[H]});if(H===0&&W.getField()){K.bindMarker("labels",U)}K.fx.setDurationOn("baseRotation",I);if(Y){K.config.highlight=Y;K.addModifier("highlight",true)}K.setAttributes(V);T.push(K)}}else{N=T.slice(G*R,(G+1)*R);for(H=0;H<N.length;H++){K=N[H];if(Q){K.setAnimation(Q)}K.setAttributes(V)}}}return T},betweenAngle:function(p,n,q){var o=Math.PI*2,m=this.rotationOffset;n+=m;q+=m;p-=n;q-=n;p%=o;q%=o;p+=o;q+=o;p%=o;q%=o;return p<q||q===0},getItemForPoint:function(u,v){var w=this,x=w.getSprites();if(x){var F=w.getStore(),C=F.getData().items,D=w.spritesPerSlice,z=w.getHidden(),B,y,E,A;for(B=0,y=C.length;B<y;B++){if(!z[B]){A=B*D;E=x[A];if(E.hitTest([u,v])){return{series:w,sprite:x.slice(A,A+D),index:B,record:C[B],category:"sprites",field:w.getXField()}}}}return null}},provideLegendInfo:function(w){var u=this,s=u.getStore();if(s){var v=s.getData().items,A=u.getLabel().getTemplate().getField(),t=u.getField(),x=u.getHidden(),y,B,z;for(y=0;y<v.length;y++){B=u.getStyleByIndex(y);z=B.baseColor;w.push({name:A?String(v[y].get(A)):t+" "+y,mark:z||"black",disabled:x[y],series:u.getId(),index:y})}}}},0,0,0,0,["series.pie3d"],0,[Ext.chart.series,"Pie3D"],function(){var g=this.prototype,k=Ext.chart.series.sprite.Pie3DPart.def.getInitialConfig().processors.part;g.partNames=k.replace(/^enums\(|\)/g,"").split(",");g.spritesPerSlice=g.partNames.length}));(Ext.cmd.derive("Ext.chart.series.sprite.Polar",Ext.chart.series.sprite.Series,{inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",baseRotation:"number",labels:"default",labelOverflowPadding:"number"},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:Math.PI,startRho:0,endRho:150,baseRotation:0,labels:null,labelOverflowPadding:10},triggers:{centerX:"bbox",centerY:"bbox",startAngle:"bbox",endAngle:"bbox",startRho:"bbox",endRho:"bbox",baseRotation:"bbox"}}},updatePlainBBox:function(g){var k=this.attr;g.x=k.centerX-k.endRho;g.y=k.centerY+k.endRho;g.width=k.endRho*2;g.height=k.endRho*2}},0,0,0,0,0,0,[Ext.chart.series.sprite,"Polar"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Radar",Ext.chart.series.sprite.Polar,{getDataPointXY:function(S){var I=this,E=I.attr,Q=E.centerX,R=E.centerY,y=E.matrix,J=E.dataMinX,K=E.dataMaxX,H=E.dataX,L=E.dataY,G=E.endRho,x=E.startRho,P=E.baseRotation,N,O,F,T,U,V,M;if(E.rangeY){M=E.rangeY[1]}else{M=E.dataMaxY}T=(H[S]-J)/(K-J+1)*2*Math.PI+P;F=L[S]/M*(G-x)+x;U=Q+Math.cos(T)*F;V=R+Math.sin(T)*F;N=y.x(U,V);O=y.y(U,V);return[N,O]},render:function(D,F){var w=this,y=w.attr,x=y.dataX,C=x.length,z=w.surfaceMatrix,A={},B,u,v,E;F.beginPath();for(B=0;B<C;B++){E=w.getDataPointXY(B);u=E[0];v=E[1];if(B===0){F.moveTo(u,v)}F.lineTo(u,v);A.translationX=z.x(u,v);A.translationY=z.y(u,v);w.putMarker("markers",A,B,true)}F.closePath();F.fillStroke(y)}},0,0,0,0,["sprite.radar"],0,[Ext.chart.series.sprite,"Radar"],0));(Ext.cmd.derive("Ext.chart.series.Radar",Ext.chart.series.Polar,{type:"radar",seriesType:"radar",themeColorCount:function(){return 1},isStoreDependantColorCount:false,themeMarkerCount:function(){return 1},updateAngularAxis:function(f){f.processData(this)},updateRadialAxis:function(f){f.processData(this)},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",1,2)},updateCenter:function(f){this.setStyle({translationX:f[0]+this.getOffsetX(),translationY:f[1]+this.getOffsetY()});this.doUpdateStyles()},updateRadius:function(f){this.setStyle({endRho:f});this.doUpdateStyles()},updateRotation:function(f){this.setStyle({rotationRads:f});this.doUpdateStyles()},updateTotalAngle:function(f){this.processData()},getItemForPoint:function(x,y){var z=this,K=z.sprites&&z.sprites[0],B=K.attr,A=B.dataX,G=A.length,L=z.getStore(),C=z.getMarker(),F,I,H,D,J,E;if(z.getHidden()){return null}if(K&&C){E=K.getMarker("markers");for(D=0;D<G;D++){J=E.getBBoxFor(D);F=(J.width+J.height)*0.25;H=K.getDataPointXY(D);if(Math.abs(H[0]-x)<F&&Math.abs(H[1]-y)<F){I={series:z,sprite:K,index:D,category:"markers",record:L.getData().items[D],field:z.getYField()};return I}}}return Ext.chart.series.Polar.prototype.getItemForPoint.apply(this,arguments)},getDefaultSpriteConfig:function(){var k=Ext.chart.series.Polar.prototype.getDefaultSpriteConfig.call(this),g={customDurations:{translationX:0,translationY:0,rotationRads:0,dataMinX:0,dataMaxX:0}};if(k.fx){Ext.apply(k.fx,g)}else{k.fx=g}return k},getSprites:function(){var n=this,o=n.getChart(),m=n.getAnimation()||o&&o.getAnimation(),p=n.sprites[0],q;if(!o){return[]}if(!p){p=n.createSprite()}if(m){q=p.getMarker("markers");if(q){q.getTemplate().setAnimation(m)}p.setAnimation(m)}return n.sprites},provideLegendInfo:function(l){var n=this,o=n.getSubStyleWithTheme(),m=o.fillStyle;if(Ext.isArray(m)){m=m[0]}l.push({name:n.getTitle()||n.getYField()||n.getId(),mark:(Ext.isObject(m)?m.stops&&m.stops[0].color:m)||o.strokeStyle||"black",disabled:n.getHidden(),series:n.getId(),index:0})}},0,0,0,0,["series.radar"],0,[Ext.chart.series,"Radar"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Scatter",Ext.chart.series.sprite.Cartesian,{renderClipped:function(aa,Y,R,W){if(this.cleanRedraw){return}var L=this,y=L.attr,V=y.dataX,ac=y.dataY,Q=y.labels,ab=L.getSeries(),ai=Q&&L.getMarker("labels"),X=L.attr.matrix,ah=X.getXX(),O=X.getYY(),U=X.getDX(),Z=X.getDY(),S={},x,M,ag=aa.getInherited().rtl&&!y.flipXY?-1:1,aj,N,P,af,ad,ae,T;if(y.flipXY){aj=W[1]-ah*ag;N=W[1]+W[3]+ah*ag;P=W[0]-O;af=W[0]+W[2]+O}else{aj=W[0]-ah*ag;N=W[0]+W[2]+ah*ag;P=W[1]-O;af=W[1]+W[3]+O}for(T=0;T<V.length;T++){ad=V[T];ae=ac[T];ad=ad*ah+U;ae=ae*O+Z;if(aj<=ad&&ad<=N&&P<=ae&&ae<=af){if(y.renderer){S={type:"items",translationX:ad,translationY:ae};M=[L,S,{store:L.getStore()},T];x=Ext.callback(y.renderer,null,M,0,ab);S=Ext.apply(S,x)}else{S.translationX=ad;S.translationY=ae}L.putMarker("items",S,T,!y.renderer);if(ai&&Q[T]){L.drawLabel(Q[T],ad,ae,T,W)}}}},drawLabel:function(J,M,N,D,T){var B=this,G=B.attr,Q=B.getMarker("labels"),R=Q.getTemplate(),H=B.labelCfg||(B.labelCfg={}),S=B.surfaceMatrix,O,P,L=G.labelOverflowPadding,E=G.flipXY,I,F,K,C;H.text=J;F=B.getMarkerBBox("labels",D,true);if(!F){B.putMarker("labels",H,D);F=B.getMarkerBBox("labels",D,true)}if(E){H.rotationRads=Math.PI*0.5}else{H.rotationRads=0}I=F.height/2;O=M;switch(R.attr.display){case"under":P=N-I-L;break;case"rotate":O+=L;P=N-L;H.rotationRads=-Math.PI/4;break;default:P=N+I+L}H.x=S.x(O,P);H.y=S.y(O,P);if(R.attr.renderer){C=[J,Q,H,{store:B.getStore()},D];K=Ext.callback(R.attr.renderer,null,C,0,B.getSeries());if(typeof K==="string"){H.text=K}else{Ext.apply(H,K)}}B.putMarker("labels",H,D)}},0,0,0,0,["sprite.scatterSeries"],0,[Ext.chart.series.sprite,"Scatter"],0));(Ext.cmd.derive("Ext.chart.series.Scatter",Ext.chart.series.Cartesian,{type:"scatter",seriesType:"scatterSeries",config:{itemInstancing:{fx:{customDurations:{translationX:0,translationY:0}}}},themeMarkerCount:function(){return 1},applyMarker:function(g,k){this.getItemInstancing();this.setItemInstancing(g);return Ext.chart.series.Cartesian.prototype.applyMarker.apply(this,arguments)},provideLegendInfo:function(l){var n=this,o=n.getMarkerStyleByIndex(0),m=o.fillStyle;l.push({name:n.getTitle()||n.getYField()||n.getId(),mark:(Ext.isObject(m)?m.stops&&m.stops[0].color:m)||o.strokeStyle||"black",disabled:n.getHidden(),series:n.getId(),index:0})}},0,0,0,0,["series.scatter"],0,[Ext.chart.series,"Scatter"],0));(Ext.cmd.derive("Ext.chart.theme.Blue",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#4d7fe6"}},0,0,0,0,["chart.theme.Blue","chart.theme.blue"],0,[Ext.chart.theme,"Blue"],0));(Ext.cmd.derive("Ext.chart.theme.BlueGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#4d7fe6",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Blue:gradients","chart.theme.blue-gradients"],0,[Ext.chart.theme,"BlueGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category1",Ext.chart.theme.Base,{singleton:true,config:{colors:["#f0a50a","#c20024","#2044ba","#810065","#7eae29"]}},0,0,0,0,["chart.theme.Category1","chart.theme.category1"],0,[Ext.chart.theme,"Category1"],0));(Ext.cmd.derive("Ext.chart.theme.Category1Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category1:gradients","chart.theme.category1-gradients"],0,[Ext.chart.theme,"Category1Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category2",Ext.chart.theme.Base,{singleton:true,config:{colors:["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"]}},0,0,0,0,["chart.theme.Category2","chart.theme.category2"],0,[Ext.chart.theme,"Category2"],0));(Ext.cmd.derive("Ext.chart.theme.Category2Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category2:gradients","chart.theme.category2-gradients"],0,[Ext.chart.theme,"Category2Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category3",Ext.chart.theme.Base,{singleton:true,config:{colors:["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"]}},0,0,0,0,["chart.theme.Category3","chart.theme.category3"],0,[Ext.chart.theme,"Category3"],0));(Ext.cmd.derive("Ext.chart.theme.Category3Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category3:gradients","chart.theme.category3-gradients"],0,[Ext.chart.theme,"Category3Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category4",Ext.chart.theme.Base,{singleton:true,config:{colors:["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"]}},0,0,0,0,["chart.theme.Category4","chart.theme.category4"],0,[Ext.chart.theme,"Category4"],0));(Ext.cmd.derive("Ext.chart.theme.Category4Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category4:gradients","chart.theme.category4-gradients"],0,[Ext.chart.theme,"Category4Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category5",Ext.chart.theme.Base,{singleton:true,config:{colors:["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"]}},0,0,0,0,["chart.theme.Category5","chart.theme.category5"],0,[Ext.chart.theme,"Category5"],0));(Ext.cmd.derive("Ext.chart.theme.Category5Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category5:gradients","chart.theme.category5-gradients"],0,[Ext.chart.theme,"Category5Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category6",Ext.chart.theme.Base,{singleton:true,config:{colors:["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]}},0,0,0,0,["chart.theme.Category6","chart.theme.category6"],0,[Ext.chart.theme,"Category6"],0));(Ext.cmd.derive("Ext.chart.theme.Category6Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category6:gradients","chart.theme.category6-gradients"],0,[Ext.chart.theme,"Category6Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.DefaultGradients",Ext.chart.theme.Base,{singleton:true,config:{gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Base:gradients","chart.theme.default-gradients"],0,[Ext.chart.theme,"DefaultGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Green",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#b1da5a"}},0,0,0,0,["chart.theme.Green","chart.theme.green"],0,[Ext.chart.theme,"Green"],0));(Ext.cmd.derive("Ext.chart.theme.GreenGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#b1da5a",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Green:gradients","chart.theme.green-gradients"],0,[Ext.chart.theme,"GreenGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Midnight",Ext.chart.theme.Base,{singleton:true,config:{colors:["#A837FF","#4AC0F2","#FF4D35","#FF8809","#61C102","#FF37EA"],chart:{defaults:{background:"rgb(52, 52, 53)"}},axis:{defaults:{style:{strokeStyle:"rgb(224, 224, 227)"},label:{fillStyle:"rgb(224, 224, 227)"},title:{fillStyle:"rgb(224, 224, 227)"},grid:{strokeStyle:"rgb(112, 112, 115)"}}},series:{defaults:{label:{fillStyle:"rgb(224, 224, 227)"}}},sprites:{text:{fillStyle:"rgb(224, 224, 227)"}},legend:{label:{fillStyle:"white"},border:{lineWidth:2,fillStyle:"rgba(255, 255, 255, 0.3)",strokeStyle:"rgb(150, 150, 150)"},background:"rgb(52, 52, 53)"}}},0,0,0,0,["chart.theme.Midnight","chart.theme.midnight"],0,[Ext.chart.theme,"Midnight"],0));(Ext.cmd.derive("Ext.chart.theme.Muted",Ext.chart.theme.Base,{singleton:true,config:{colors:["#8ca640","#974144","#4091ba","#8e658e","#3b8d8b","#b86465","#d2af69","#6e8852","#3dcc7e","#a6bed1","#cbaa4b","#998baa"]}},0,0,0,0,["chart.theme.Muted","chart.theme.muted"],0,[Ext.chart.theme,"Muted"],0));(Ext.cmd.derive("Ext.chart.theme.Purple",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#da5abd"}},0,0,0,0,["chart.theme.Purple","chart.theme.purple"],0,[Ext.chart.theme,"Purple"],0));(Ext.cmd.derive("Ext.chart.theme.PurpleGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#da5abd",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Purple:gradients","chart.theme.purple-gradients"],0,[Ext.chart.theme,"PurpleGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Red",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#e84b67"}},0,0,0,0,["chart.theme.Red","chart.theme.red"],0,[Ext.chart.theme,"Red"],0));(Ext.cmd.derive("Ext.chart.theme.RedGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#e84b67",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Red:gradients","chart.theme.red-gradients"],0,[Ext.chart.theme,"RedGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Sky",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#4ce0e7"}},0,0,0,0,["chart.theme.Sky","chart.theme.sky"],0,[Ext.chart.theme,"Sky"],0));(Ext.cmd.derive("Ext.chart.theme.SkyGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#4ce0e7",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Sky:gradients","chart.theme.sky-gradients"],0,[Ext.chart.theme,"SkyGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Yellow",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#fec935"}},0,0,0,0,["chart.theme.Yellow","chart.theme.yellow"],0,[Ext.chart.theme,"Yellow"],0));(Ext.cmd.derive("Ext.chart.theme.YellowGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#fec935",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Yellow:gradients","chart.theme.yellow-gradients"],0,[Ext.chart.theme,"YellowGradients"],0));(Ext.cmd.derive("Ext.chart.interactions.ItemInfo",Ext.chart.interactions.Abstract,{type:"iteminfo",config:{extjsGestures:{start:{event:"click",handler:"onInfoGesture"},move:{event:"mousemove",handler:"onInfoGesture"},end:{event:"mouseleave",handler:"onInfoGesture"}}},item:null,onInfoGesture:function(e,q){var o=this,p=o.getItemForEvent(e),n=p&&p.series.tooltip;if(n){n.onMouseMove.call(n,e)}if(p!==o.item){if(p){p.series.showTip(p)}else{o.item.series.hideTip(o.item)}o.item=p}return false}},0,0,["interaction"],{interaction:true},["interaction.iteminfo"],0,[Ext.chart.interactions,"ItemInfo"],0));(Ext.cmd.derive("data.model.Model",Ext.data.Model,{serviceName:null,showError:false,animateTarget:null,scope:this,timeout:30000,save:function(q){q=Ext.apply({},q);var u=this,w=u.phantom,z=u.dropped,x=z?"destroy":(w?"create":"update"),s=q.scope||u,t=q.callback,v=u.getProxy(),y;q.records=[u];q.internalCallback=function(g){var f=[u,g],e=g.wasSuccessful();if(e){Ext.callback(q.success,s,f)}else{Ext.callback(q.failure,s,f)}f.push(e);if(u.showError){u.doShowError(f)}Ext.callback(t,s,f)};delete q.callback;y=v.createOperation(x,q);if(z&&w){y.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet);u.setErased();y.setSuccessful(true)}else{y.execute()}return y},privates:{doShowError:function(f){this.handleException(f[1])},handleException:function(t){var w=this;if(t.hasException()){try{var s=t.getError(),x=s?s.response.responseText:t.getResponse().responseText,u=Ext.JSON.decode(x),e=u.detail?(Ext.isObject(u.detail)?Ext.JSON.encode(u.detail):u.detail):"Koneksi Gagal";if(!s){s={status:u.status,statusText:""}}if(e!="Koneksi Gagal"){q=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:s.status+" - "+s.statusText});q.show({msg:e,buttons:Ext.MessageBox.OK,animateTarget:w.animateTarget,scope:w.scope,icon:Ext.Msg.ERROR})}}catch(v){var q=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:"Error"});q.show({msg:"Koneksi Gagal",buttons:Ext.MessageBox.OK,animateTarget:w.animateTarget,scope:w.scope,icon:Ext.Msg.ERROR})}}}},inheritableStatics:{getProxy:function(){var l=this,m=l.proxy,k;if(!m){m=l.proxyConfig||{type:"rest",url:webservice.location+l.serviceName,timeout:l.timeout,reader:{type:"json",rootProperty:"data"},useDefaultXhrHeader:false,withCredentials:true,listeners:{exception:function(o,g,f,e){}}};if(!m||!m.isProxy){if(typeof m==="string"){m={type:m}}k=l.schema.constructProxy(l);m=m?Ext.merge(k,m):k}m=l.setProxy(m)}return m}}},0,0,0,0,0,0,[data.model,"Model"],function(){var f=this;f.onExtended(function(k,e){k.serviceName=e.serviceName})}));(Ext.cmd.derive("data.model.Administrasi",data.model.Model,{serviceName:"general/administrasi",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Administrasi"],0));(Ext.cmd.derive("data.model.Aksi",data.model.Model,{serviceName:"general/aksi",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Aksi"],0));(Ext.cmd.derive("data.model.AntrianRuangan",data.model.Model,{serviceName:"pendaftaran/antrianruangan",fields:[{name:"RUANGAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"NOMOR",type:"int"},{name:"JENIS",type:"int"},{name:"REF",type:"string"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"AntrianRuangan"],0));(Ext.cmd.derive("data.model.AturanPakai",data.model.Model,{serviceName:"general/referensi?JENIS=41",fields:[{name:"ID",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"AturanPakai"],0));(Ext.cmd.derive("data.model.Barang",data.model.Model,{serviceName:"inventory/barang",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"KATEGORI",type:"string"},{name:"SATUAN",type:"int"},{name:"MERK",type:"int"},{name:"PENYEDIA",type:"int"},{name:"GENERIK",type:"int"},{name:"STOK",type:"int"},{name:"JENIS_GENERIK",type:"int"},{name:"FORMULARIUM",type:"int"},{name:"JENIS_PENGGUNAAN_OBAT",type:"int"},{name:"HARGA_BELI",type:"float"},{name:"PPN",type:"float"},{name:"HARGA_JUAL",type:"float"},{name:"MASA_BERLAKU",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID",getJenisKategori:function(k){var m=this.get("KATEGORI"),l="";if(Ext.isEmpty(m)){return null}if(k==1){return m.substring(0,1)}if(k==2){l=m.substring(0,3);return l.length==3?l:null}if(k==3){l=m.substring(0,5);return l.length==5?l:null}return null}},0,0,0,0,0,0,[data.model,"Barang"],0));(Ext.cmd.derive("data.model.BarangRuangan",data.model.Model,{serviceName:"inventory/barangruangan",fields:[{name:"ID",type:"int"},{name:"RUANGAN",type:"string"},{name:"BARANG",type:"int"},{name:"STOK",type:"float"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"BarangRuangan"],0));(Ext.cmd.derive("data.model.CatatanHasilLab",data.model.Model,{serviceName:"layanan/catatanhasillab",fields:[{name:"KUNJUNGAN",type:"string"},{name:"TANGGAL",type:"date",defaultValue:new Date(),dateFormat:"Y-m-d H:i:s"},{name:"CATATAN",type:"string"},{name:"DOKTER",type:"int"},{name:"OLEH",type:"string"},{name:"STATUS",type:"string"}],idProperty:"KUNJUNGAN"},0,0,0,0,0,0,[data.model,"CatatanHasilLab"],0));(Ext.cmd.derive("data.model.Deposit",data.model.Model,{serviceName:"pembayaran/deposit",fields:[{name:"ID",type:"int"},{name:"TAGIHAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"JENIS",type:"int"},{name:"NAMA",type:"string"},{name:"TOTAL",type:"float"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Deposit"],0));(Ext.cmd.derive("data.model.Diagnosa",data.model.Model,{serviceName:"general/diagnosa",fields:[{name:"CODE",type:"string"},{name:"STR",type:"string"}],idProperty:"CODE"},0,0,0,0,0,0,[data.model,"Diagnosa"],0));(Ext.cmd.derive("data.model.DiagnosaMasuk",data.model.Model,{serviceName:"general/diagnosamasuk",fields:[{name:"ID",type:"int"},{name:"ICD",type:"string"},{name:"DIAGNOSA",type:"string"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"DiagnosaMasuk"],0));(Ext.cmd.derive("data.model.Diskon",data.model.Model,{serviceName:"pembayaran/diskon",fields:[{name:"ID",type:"int"},{name:"TAGIHAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"ADMINISTRASI",type:"float"},{name:"AKOMODASI",type:"float"},{name:"SARANA_NON_AKOMODASI",type:"float"},{name:"PARAMEDIS",type:"float"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Diskon"],0));(Ext.cmd.derive("data.model.DiskonDokter",data.model.Model,{serviceName:"pembayaran/diskondokter",fields:[{name:"ID",type:"int"},{name:"TAGIHAN",type:"string"},{name:"DOKTER",type:"int"},{name:"TOTAL",type:"float"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"DiskonDokter"],0));(Ext.cmd.derive("data.model.DistribusiTarifPaket",data.model.Model,{serviceName:"general/distribusitarifpaket",fields:[{name:"ID",type:"int"},{name:"PAKET",type:"int"},{name:"ADMINISTRASI",type:"int"},{name:"SARANA",type:"int"},{name:"BHP",type:"int"},{name:"DOKTER_OPERATOR",type:"int"},{name:"DOKTER_ANASTESI",type:"int"},{name:"DOKTER_LAINNYA",type:"int"},{name:"PENATA_ANASTESI",type:"int"},{name:"PARAMEDIS",type:"int"},{name:"NON_MEDIS",type:"int"},{name:"TARIF",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL_SK",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"NOMOR_SK",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"DistribusiTarifPaket"],0));(Ext.cmd.derive("data.model.Dokter",data.model.Model,{serviceName:"general/dokter",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"NIP",type:"string"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Dokter"],0));(Ext.cmd.derive("data.model.DokterRuangan",data.model.Model,{serviceName:"general/dokterruangan",fields:[{name:"ID",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"DOKTER"},{name:"RUANGAN",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"DokterRuangan"],0));(Ext.cmd.derive("data.model.DokterSmf",data.model.Model,{serviceName:"general/doktersmf",fields:[{name:"ID",type:"int"},{name:"TANGGAL",type:"date"},{name:"DOKTER",type:"int"},{name:"SMF",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"DokterSmf"],0));(Ext.cmd.derive("data.model.Edc",data.model.Model,{serviceName:"pembayaran/edc",fields:[{name:"ID",type:"int"},{name:"TAGIHAN",type:"string"},{name:"BANK",type:"int"},{name:"JENIS_KARTU",type:"int"},{name:"NOMOR",type:"string"},{name:"PEMILIK",type:"string"},{name:"APRV_CODE",type:"string"},{name:"TOTAL",type:"float"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Edc"],0));(Ext.cmd.derive("data.model.GabungTagihan",data.model.Model,{serviceName:"pembayaran/gabungtagihan",fields:[{name:"ID",type:"int"},{name:"DARI",type:"string"},{name:"KE",type:"string"},{name:"TANGGAL",type:"date"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"GabungTagihan"],0));(Ext.cmd.derive("data.model.GroupLab",data.model.Model,{serviceName:"general/grouplab",fields:[{name:"ID",type:"string"},{name:"JENIS",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"GroupLab"],0));(Ext.cmd.derive("data.model.GroupLabTree",Ext.data.TreeModel,{entityName:"GroupLabTree",fields:[{name:"ID",type:"string"},{name:"JENIS",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"text",type:"string",convert:function(g,k){return k.get("DESKRIPSI")}},"children","leaf",{name:"expanded",type:"boolean",defautlValue:"true"},"cls",{name:"STATUS",type:"int"}],root:{expanded:true},proxy:{type:"ajax",url:webservice.location+"general/grouplab",reader:{type:"json",rootProperty:"children"}}},0,0,0,0,0,0,[data.model,"GroupLabTree"],0));(Ext.cmd.derive("data.model.GroupPenggunaAksesModule",data.model.Model,{serviceName:"aplikasi/grouppenggunaaksesmodule",fields:[{name:"ID",type:"int"},{name:"GROUP_PENGGUNA",type:"int"},{name:"MODUL",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"GroupPenggunaAksesModule"],0));(Ext.cmd.derive("data.model.GroupTindakanLab",data.model.Model,{serviceName:"general/grouptindakanlab",fields:[{name:"GROUP_LAB",type:"string"},{name:"TINDAKAN",type:"int"},{name:"STATUS",type:"int"}]},0,0,0,0,0,0,[data.model,"GroupTindakanLab"],0));(Ext.cmd.derive("data.model.HargaBarang",data.model.Model,{serviceName:"inventory/hargabarang",fields:[{name:"ID",type:"int"},{name:"BARANG",type:"int"},{name:"HARGA_BELI",type:"float"},{name:"HARGA_JUAL",type:"float"},{name:"PPN",type:"int"},{name:"MASA_BERLAKU",type:"date",dateFormat:"Y-m-d"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"HargaBarang"],0));(Ext.cmd.derive("data.model.HasilLab",data.model.Model,{serviceName:"layanan/hasillab",fields:[{name:"ID",type:"string"},{name:"TINDAKAN_MEDIS",type:"string"},{name:"PARAMETER_TINDAKAN",type:"string"},{name:"TANGGAL",type:"date",defaultValue:new Date(),dateFormat:"Y-m-d H:i:s"},{name:"HASIL",type:"string"},{name:"NILAI_NORMAL",type:"string"},{name:"SATUAN",type:"string"},{name:"KETERANGAN",type:"string"},{name:"DOKTER",type:"int"},{name:"OLEH",type:"string"},{name:"STATUS",type:"string"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"HasilLab"],0));(Ext.cmd.derive("data.model.HasilPa",data.model.Model,{serviceName:"layanan/hasilpa",fields:[{name:"KUNJUNGAN",type:"string"},{name:"JENIS_PEMERIKSAAN",type:"integer"},{name:"LOKASI",type:"string"},{name:"DIDAPAT_DENGAN",type:"string"},{name:"CAIRAN_FIKSASI",type:"string"},{name:"DIAGNOSA_KLINIK",type:"string"},{name:"KETERANGAN_KLINIK",type:"string"},{name:"MAKROSOKOPIK",type:"string"},{name:"MIKROSKOPIK",type:"string"},{name:"KESIMPULAN",type:"string"},{name:"IMUNO_HISTOKIMIA",type:"string"},{name:"REEVOLUSI",type:"string"},{name:"TANGGAL_IMUNO",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"DOKTER",type:"integer"},{name:"TANGGAL",type:"date",defaultValue:new Date(),dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"integer"},{name:"STATUS",type:"integer",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"HasilPa"],0));(Ext.cmd.derive("data.model.HasilRad",data.model.Model,{serviceName:"layanan/hasilrad",fields:[{name:"TINDAKAN_MEDIS",type:"string"},{name:"TANGGAL",type:"date",defaultValue:new Date(),dateFormat:"Y-m-d H:i:s"},{name:"KLINIS",type:"string"},{name:"KESAN",type:"string"},{name:"USUL",type:"string"},{name:"HASIL",type:"string"},{name:"BTK",type:"string"}],idProperty:"TINDAKAN_MEDIS"},0,0,0,0,0,0,[data.model,"HasilRad"],0));(Ext.cmd.derive("data.model.Icd",data.model.Model,{serviceName:"medicalrecord/icd10",fields:[{name:"ID",type:"int"},{name:"NOPEN",type:"string"},{name:"KODE",type:"string"},{name:"DIAGNOSA",type:"string"},{name:"UTAMA",type:"int"},{name:"INACBG",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Icd"],0));(Ext.cmd.derive("data.model.Icd9",data.model.Model,{serviceName:"medicalrecord/icd9cm",fields:[{name:"ID",type:"int"},{name:"NOPEN",type:"string"},{name:"KODE",type:"string"},{name:"TINDAKAN",type:"string"},{name:"INACBG",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Icd9"],0));(Ext.cmd.derive("data.model.InfoTeks",data.model.Model,{serviceName:"aplikasi/infoteks",fields:[{name:"ID",type:"int"},{name:"JENIS",type:"int"},{name:"TEKS",type:"string"},{name:"WARNA",type:"string"},{name:"PUBLISH",type:"int",defaultValue:1},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"InfoTeks"],0));(Ext.cmd.derive("data.model.InformasiRuangKamarTidur",data.model.Model,{serviceName:"informasi/ruangkamartidur",fields:[{name:"ID",type:"int"},{name:"RUANGAN",type:"string"},{name:"KAMAR",type:"string"},{name:"TEMPAT_TIDUR",type:"string"},{name:"KELAS",type:"string"},{name:"NORM",type:"int"},{name:"NAMA",type:"string"},{name:"STATUS",type:"string"}]},0,0,0,0,0,0,[data.model,"InformasiRuangKamarTidur"],0));(Ext.cmd.derive("data.model.Instansi",data.model.Model,{serviceName:"general/instansi",fields:[{name:"PPK",type:"string"}]},0,0,0,0,0,0,[data.model,"Instansi"],0));(Ext.cmd.derive("data.model.JawabKonsul",data.model.Model,{serviceName:"pendaftaran/jawabankonsul",fields:[{name:"NOMOR",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"JAWABAN",type:"string"},{name:"ANJURAN",type:"string"},{name:"DOKTER",type:"int"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"JawabKonsul"],0));(Ext.cmd.derive("data.model.JenisLaporan",data.model.Model,{serviceName:"general/jenislaporan",fields:[{name:"ID",type:"string"},{name:"DESKRIPSI",type:"string"},{name:"NAMA_KLAS",type:"string"},{name:"MODULE",type:"string"},{name:"LEVEL",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"JenisLaporan"],0));(Ext.cmd.derive("data.model.JenisReferensi",data.model.Model,{serviceName:"general/jenisreferensi",fields:[{name:"ID",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"SINGKATAN",type:"string"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"JenisReferensi"],0));(Ext.cmd.derive("data.model.JenisRuangan",data.model.Model,{serviceName:"general/jenisruangan",fields:[{name:"ID",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"DIGIT",type:"int"},{name:"DELIMITER",type:"string"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"JenisRuangan"],0));(Ext.cmd.derive("data.model.JenisWilayah",data.model.Model,{serviceName:"general/jeniswilayah",fields:[{name:"ID",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"DIGIT",type:"int"},{name:"DELIMITER",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"JenisWilayah"],0));(Ext.cmd.derive("data.model.KAP",data.model.Model,{serviceName:"general/kap",fields:[{name:"JENIS",type:"int"},{name:"NORM",type:"int"},{name:"NOMOR",type:"string"}],idProperty:"NORM"},0,0,0,0,0,0,[data.model,"KAP"],0));(Ext.cmd.derive("data.model.KIP",data.model.Model,{serviceName:"general/kip",fields:[{name:"JENIS",type:"int",defaultValue:1,convert:function(f){return f==0?null:f}},{name:"NORM",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"NOMOR",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"ALAMAT",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"RT",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"RW",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"KODEPOS",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"WILAYAH",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}}]},0,0,0,0,0,0,[data.model,"KIP"],0));(Ext.cmd.derive("data.model.KarcisPasien",data.model.Model,{serviceName:"cetakan/karcispasien",fields:[{name:"ID",type:"string"},{name:"NOPEN",type:"string"},{name:"JENIS",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"KarcisPasien"],0));(Ext.cmd.derive("data.model.KartuPasien",data.model.Model,{serviceName:"cetakan/kartupasien",fields:[{name:"ID",type:"string"},{name:"NORM",type:"int"},{name:"JENIS",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"KartuPasien"],0));(Ext.cmd.derive("data.model.Kategori",data.model.Model,{serviceName:"inventory/kategori",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"JENIS",type:"int"},{name:"TANGGAL",type:"date",defaultValue:new Date(),dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Kategori"],0));(Ext.cmd.derive("data.model.KeluargaPasien",data.model.Model,{serviceName:"general/keluargapasien",fields:[{name:"SHDK",type:"int"},{name:"NORM",type:"int"},{name:"JENIS_KELAMIN",type:"int"},{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"ALAMAT",type:"string"},{name:"PENDIDIKAN",type:"int"},{name:"PEKERJAAN",type:"int"}]},0,0,0,0,0,0,[data.model,"KeluargaPasien"],0));(Ext.cmd.derive("data.model.Konsul",data.model.Model,{serviceName:"pendaftaran/konsul",fields:[{name:"NOMOR",type:"string"},{name:"KUNJUNGAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"DOKTER_ASAL",type:"int"},{name:"ALASAN",type:"string"},{name:"TUJUAN",type:"string"},{name:"PERMINTAAN_TINDAKAN",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"Konsul"],0));(Ext.cmd.derive("data.model.KontakPasien",data.model.Model,{serviceName:"general/kontakpasien",fields:[{name:"JENIS",type:"int",defaultValue:3,convert:function(f){return f==0?null:f}},{name:"NORM",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"NOMOR",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}}]},0,0,0,0,0,0,[data.model,"KontakPasien"],0));(Ext.cmd.derive("data.model.KontakPenanggungJawab",data.model.Model,{serviceName:"pendaftaran/kontakpenanggungjawab",fields:[{name:"JENIS",type:"int"},{name:"ID",type:"int"},{name:"NOMOR",type:"string"}]},0,0,0,0,0,0,[data.model,"KontakPenanggungJawab"],0));(Ext.cmd.derive("data.model.Kunjungan",data.model.Model,{serviceName:"pendaftaran/kunjungan",entityName:"Kunjungan",fields:[{name:"NOMOR",type:"string"},{name:"NOPEN",type:"string"},{name:"RUANGAN",type:"string"},{name:"MASUK",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"KELUAR",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"RUANG_KAMAR_TIDUR",type:"int"},{name:"DITERIMA_OLEH",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"BARU",type:"int"},{name:"TITIPAN",type:"int"},{name:"TITIPAN_KELAS",type:"int"},{name:"STATUS",type:"int",defaultValue:1},{name:"FINAL_HASIL",type:"int",defaultValue:0},{name:"FINAL_HASIL_OLEH",type:"int"},{name:"FINAL_HASIL_TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"Kunjungan"],0));(Ext.cmd.derive("data.model.KwitansiPembayaran",data.model.Model,{serviceName:"cetakan/kwitansipembayaran",fields:[{name:"TAGIHAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"NOMOR",type:"string"},{name:"NAMA",type:"string"},{name:"TUNAI",type:"int",defaultValue:1},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"KwitansiPembayaran"],0));(Ext.cmd.derive("data.model.LaporanDetil",data.model.Model,{serviceName:"general/jenislaporandetil",fields:[{name:"DESKRIPSI",type:"string"},{name:"KODE",type:"string"},{name:"REPORT_PARAMS",type:"string"}]},0,0,0,0,0,0,[data.model,"LaporanDetil"],0));(Ext.cmd.derive("data.model.LayananFarmasi",data.model.Model,{serviceName:"layanan/farmasi",fields:[{name:"ID",type:"string"},{name:"KUNJUNGAN",type:"string"},{name:"FARMASI",type:"int"},{name:"TANGGAL",type:"date",defaultValue:new Date(),dateFormat:"Y-m-d H:i:s"},{name:"JUMLAH",type:"float"},{name:"ATURAN_PAKAI",type:"string"},{name:"KETERANGAN",type:"string"},{name:"ALASAN_TIDAK_TERLAYANI",type:"string"},{name:"HARI",type:"int"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"},{name:"REF",type:"string"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"LayananFarmasi"],0));(Ext.cmd.derive("data.model.MaterialRequest",data.model.Model,{serviceName:"inventory/materialrequest",fields:[{name:"NO_MR",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d"},{name:"RUMUS_KATEGORI_A",type:"int"},{name:"RUMUS_KATEGORI_B",type:"int"},{name:"RUMUS_KATEGORI_C",type:"int"},{name:"STATUS",type:"int",defaultValue:1},{name:"OLEH",type:"int"}],idProperty:"NO_MR"},0,0,0,0,0,0,[data.model,"MaterialRequest"],0));(Ext.cmd.derive("data.model.MaterialRequestDetil",data.model.Model,{serviceName:"inventory/materialrequestdetil",fields:[{name:"ID",type:"int"},{name:"NO_MR",type:"string"},{name:"BARANG",type:"int"},{name:"KATEGORI",type:"string"},{name:"SISA_STOK",type:"float"},{name:"BARANG_KELUAR",type:"float"},{name:"JML_RUMUS",type:"float"},{name:"JUMLAH",type:"float"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"MaterialRequestDetil"],0));(Ext.cmd.derive("data.model.Mutasi",data.model.Model,{serviceName:"pendaftaran/mutasi",fields:[{name:"NOMOR",type:"string"},{name:"KUNJUNGAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TUJUAN",type:"string"},{name:"RESERVASI",type:"string"},{name:"IKUT_IBU",type:"int"},{name:"KUNJUNGAN_IBU",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"Mutasi"],0));(Ext.cmd.derive("data.model.Negara",data.model.Model,{serviceName:"general/negara",fields:[{name:"ID",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"SINGKATAN",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Negara"],0));(Ext.cmd.derive("data.model.O2",data.model.Model,{serviceName:"layanan/o2",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"FLOW",type:"float"},{name:"PASANG",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"LEPAS",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"PEMAKAIAN",type:"float"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s",defaultValue:new Date()},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"O2"],0));(Ext.cmd.derive("data.model.Operasi",data.model.Model,{serviceName:"medicalrecord/operasi",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"DOKTER",type:"int"},{name:"ASISTEN_DOKTER",type:"string"},{name:"ANASTESI",type:"int"},{name:"ASISTEN_ANASTESI",type:"string"},{name:"JENIS_ANASTESI",type:"int"},{name:"GOLONGAN_OPERASI",type:"int"},{name:"JENIS_OPERASI",type:"int"},{name:"PRA_BEDAH",type:"string"},{name:"PASCA_BEDAH",type:"string"},{name:"INDIKASI",type:"string"},{name:"NAMA_OPERASI",type:"string"},{name:"PA",type:"int"},{name:"JARINGAN_DIEKSISI",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d"},{name:"WAKTU_MULAI",type:"date",dateFormat:"H:i:s"},{name:"WAKTU_SELESAI",type:"date",dateFormat:"H:i:s"},{name:"DURASI",type:"date",dateFormat:"H:i:s"},{name:"KOMPLIKASI",type:"string"},{name:"PERDARAHAN",type:"string"},{name:"RUANGAN_PASCA_OPERASI",type:"string"},{name:"DIBUAT_TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Operasi"],0));(Ext.cmd.derive("data.model.OperasiDiTindakan",data.model.Model,{serviceName:"medicalrecord/operasiditindakan",fields:[{name:"ID",type:"int"},{name:"TINDAKAN_MEDIS",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"OperasiDiTindakan"],0));(Ext.cmd.derive("data.model.Order",data.model.Model,{fields:[{name:"NOMOR",type:"string"},{name:"KUNJUNGAN",type:"string"},{name:"TANGGAL",type:"date",defaultValue:new Date(),dateFormat:"Y-m-d H:i:s"},{name:"DOKTER_ASAL",type:"int"},{name:"TUJUAN",type:"string"},{name:"OLEH",type:"int"},{name:"ALASAN",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"Order"],0));(Ext.cmd.derive("data.model.OrderDetil",data.model.Model,{fields:[{name:"ORDER_ID",type:"string"},{name:"TINDAKAN",type:"int"}]},0,0,0,0,0,0,[data.model,"OrderDetil"],0));(Ext.cmd.derive("data.model.OrderDetilLab",data.model.OrderDetil,{serviceName:"layanan/orderdetillab"},0,0,0,0,0,0,[data.model,"OrderDetilLab"],0));(Ext.cmd.derive("data.model.OrderDetilRad",data.model.OrderDetil,{serviceName:"layanan/orderdetilrad"},0,0,0,0,0,0,[data.model,"OrderDetilRad"],0));(Ext.cmd.derive("data.model.OrderDetilResep",data.model.Model,{serviceName:"layanan/orderdetilresep",fields:[{name:"ORDER_ID",type:"string"},{name:"FARMASI",type:"int"},{name:"JUMLAH",type:"float"},{name:"ATURAN_PAKAI",type:"string"},{name:"KETERANGAN",type:"string"},{name:"RACIKAN",type:"int"},{name:"GROUP_RACIKAN",type:"int"},{name:"PETUNJUK_RACIKAN",type:"string"},{name:"JUMLAH_RACIKAN",type:"float"},{name:"REF",type:"string"}]},0,0,0,0,0,0,[data.model,"OrderDetilResep"],0));(Ext.cmd.derive("data.model.OrderLab",data.model.Order,{serviceName:"layanan/orderlab"},0,0,0,0,0,0,[data.model,"OrderLab"],0));(Ext.cmd.derive("data.model.OrderRad",data.model.Order,{serviceName:"layanan/orderrad"},0,0,0,0,0,0,[data.model,"OrderRad"],0));(Ext.cmd.derive("data.model.OrderResep",data.model.Model,{serviceName:"layanan/orderresep",fields:[{name:"NOMOR",type:"string"},{name:"NOPEN",type:"string"},{name:"KUNJUNGAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"DOKTER_DPJP",type:"int"},{name:"PEMBERI_RESEP",type:"string"},{name:"BERAT_BADAN",type:"float"},{name:"TINGGI_BADAN",type:"float"},{name:"DIAGNOSA",type:"string"},{name:"ALERGI_OBAT",type:"string"},{name:"GANGGUAN_FUNGSI_GINJAL",type:"int"},{name:"MENYUSUI",type:"int"},{name:"HAMIL",type:"int"},{name:"RESEP_PASIEN_PULANG",type:"int"},{name:"TUJUAN",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"OrderResep"],0));(Ext.cmd.derive("data.model.Paket",data.model.Model,{serviceName:"general/paket",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"KELAS",type:"int"},{name:"LAMA",type:"int"},{name:"UNTUK_KUNJUNGAN",type:"string"},{name:"TARIF",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Paket"],0));(Ext.cmd.derive("data.model.PaketDetil",data.model.Model,{serviceName:"general/paketdetil",fields:[{name:"ID",type:"int"},{name:"PAKET",type:"int"},{name:"JENIS",type:"int"},{name:"ITEM"},{name:"QTY",type:"float"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PaketDetil"],0));(Ext.cmd.derive("data.model.PanggilanAntrianRuangan",data.model.Model,{serviceName:"pendaftaran/panggilanantrianruangan",fields:[{name:"ID",type:"int"},{name:"ANTRIAN_RUANGAN",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PanggilanAntrianRuangan"],0));(Ext.cmd.derive("data.model.ParameterTindakanLab",data.model.Model,{serviceName:"general/parametertindakanlab",fields:[{name:"ID",type:"int"},{name:"TINDAKAN",type:"int"},{name:"PARAMETER",type:"string"},{name:"NILAI_RUJUKAN",type:"string"},{name:"SATUAN",type:"int"},{name:"INDEKS",type:"int"},{name:"TANGGAL",type:"date",defaultValue:new Date(),dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"ParameterTindakanLab"],0));(Ext.cmd.derive("data.model.Pasien",data.model.Model,{serviceName:"general/pasien",fields:[{name:"NORM",type:"int"},{name:"NAMA",type:"string"},{name:"PANGGILAN",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"GELAR_DEPAN",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"GELAR_BELAKANG",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"TEMPAT_LAHIR",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"TANGGAL_LAHIR",type:"date",defaultValue:new Date(),dateFormat:"Y-m-d H:i:s"},{name:"JENIS_KELAMIN",type:"int",defaultValue:1},{name:"ALAMAT",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"RT",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"RW",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"KODEPOS",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"WILAYAH",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"AGAMA",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"PENDIDIKAN",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"PEKERJAAN",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"STATUS_PERKAWINAN",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"GOLONGAN_DARAH",type:"int",defaultValue:13,convert:function(f){return f==0?null:f}},{name:"KEWARGANEGARAAN",type:"int",defaultValue:71},{name:"SUKU",type:"int",defaultValue:0},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NORM"},0,0,0,0,0,0,[data.model,"Pasien"],0));(Ext.cmd.derive("data.model.PasienMeninggal",data.model.Model,{serviceName:"layanan/pasienmeninggal",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"DIAGNOSA",type:"string"},{name:"DOKTER",type:"int"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PasienMeninggal"],0));(Ext.cmd.derive("data.model.PasienPulang",data.model.Model,{serviceName:"layanan/pasienpulang",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"NOPEN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"CARA",type:"int"},{name:"KEADAAN",type:"int"},{name:"DIAGNOSA",type:"string"},{name:"DOKTER",type:"int"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PasienPulang"],0));(Ext.cmd.derive("data.model.Pegawai",data.model.Model,{serviceName:"general/pegawai",fields:[{name:"NIP",type:"string"},{name:"NAMA",type:"string"},{name:"PANGGILAN",type:"string"},{name:"GELAR_DEPAN",type:"string"},{name:"GELAR_BELAKANG",type:"string"},{name:"TEMPAT_LAHIR",type:"string"},{name:"TANGGAL_LAHIR",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"JENIS_KELAMIN",type:"int"},{name:"ALAMAT",type:"string"},{name:"RT",type:"string"},{name:"RW",type:"string"},{name:"KODEPOS",type:"string"},{name:"WILAYAH",type:"string"},{name:"AGAMA",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NIP"},0,0,0,0,0,0,[data.model,"Pegawai"],0));(Ext.cmd.derive("data.model.PembatalanKunjungan",data.model.Model,{serviceName:"pembatalan/pembatalankunjungan",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"JENIS",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PembatalanKunjungan"],0));(Ext.cmd.derive("data.model.PembayaranTagihan",data.model.Model,{serviceName:"pembayaran/pembayarantagihan",fields:[{name:"TAGIHAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"JENIS",type:"int"},{name:"REF",type:"string"},{name:"DESKRIPSI",type:"string"},{name:"TOTAL",type:"float"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"PembayaranTagihan"],0));(Ext.cmd.derive("data.model.PenanggungJawab",data.model.Model,{serviceName:"pendaftaran/penanggungjawabpasien",fields:[{name:"ID",type:"int"},{name:"NOPEN",type:"string"},{name:"REF",type:"int"},{name:"SHDK",type:"int"},{name:"JENIS_KELAMIN",type:"int"},{name:"NAMA",type:"string"},{name:"ALAMAT",type:"string"},{name:"PENDIDIKAN",type:"int"},{name:"PEKERJAAN",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PenanggungJawab"],0));(Ext.cmd.derive("data.model.Pendaftaran",data.model.Model,{serviceName:"pendaftaran/pendaftaran",fields:[{name:"NOMOR",type:"string"},{name:"NORM",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"DIAGNOSA_MASUK",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"RUJUKAN",type:"string",defaultValue:null,convert:function(f){return f==""?null:f}},{name:"PAKET",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"BERAT_BAYI",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"PANJANG_BAYI",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"LAKA_LANTAS",type:"int",defaultValue:0},{name:"LOKASI_LAKA",type:"string"},{name:"OLEH",type:"int",defaultValue:null,convert:function(f){return f==0?null:f}},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"Pendaftaran"],0));(Ext.cmd.derive("data.model.Penerimaan",data.model.Model,{serviceName:"inventory/penerimaan",fields:[{name:"NOMOR",type:"string"},{name:"RUANGAN",type:"string"},{name:"JENIS",type:"int"},{name:"REF",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"Penerimaan"],0));(Ext.cmd.derive("data.model.PengembalianBarang",data.model.Model,{serviceName:"inventory/pengembalianbarang",fields:[{name:"ID",type:"int"},{name:"RUANGAN",type:"string"},{name:"REKANAN",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PengembalianBarang"],0));(Ext.cmd.derive("data.model.PengembalianBarangDetil",data.model.Model,{serviceName:"inventory/pengembalianbarangdetil",fields:[{name:"ID",type:"int"},{name:"PENGEMBALIAN",type:"int"},{name:"BARANG",type:"int"},{name:"JUMLAH",type:"float"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PengembalianBarangDetil"],0));(Ext.cmd.derive("data.model.PengembalianDeposit",data.model.Model,{serviceName:"pembayaran/pengembaliandeposit",fields:[{name:"TAGIHAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"NAMA PENERIMA",type:"string"},{name:"TOTAL",type:"float"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"TAGIHAN"},0,0,0,0,0,0,[data.model,"PengembalianDeposit"],0));(Ext.cmd.derive("data.model.Pengguna",data.model.Model,{serviceName:"aplikasi/pengguna",fields:[{name:"ID",type:"int"},{name:"LOGIN",type:"string"},{name:"PASSWORD",type:"string"},{name:"NAMA",type:"string"},{name:"NIP",type:"string"},{name:"NIK",type:"string"},{name:"JENIS",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Pengguna"],0));(Ext.cmd.derive("data.model.PenggunaAkses",data.model.Model,{serviceName:"aplikasi/penggunaakses",fields:[{name:"ID",type:"int"},{name:"PENGGUNA",type:"int"},{name:"GROUP_PENGGUNA_AKSES_MODULE",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PenggunaAkses"],0));(Ext.cmd.derive("data.model.PenggunaAksesPencarian",data.model.Model,{serviceName:"aplikasi/modules",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"LEVEL",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"CLASS",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PenggunaAksesPencarian"],0));(Ext.cmd.derive("data.model.PenggunaAksesRuangan",data.model.Model,{serviceName:"aplikasi/penggunaaksesruangan",fields:[{name:"ID",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"PENGGUNA",type:"int"},{name:"RUANGAN",type:"string"},{name:"DIBERIKAN_OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PenggunaAksesRuangan"],0));(Ext.cmd.derive("data.model.Pengiriman",data.model.Model,{serviceName:"inventory/pengiriman",fields:[{name:"NOMOR",type:"string"},{name:"ASAL",type:"string"},{name:"TUJUAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"Pengiriman"],0));(Ext.cmd.derive("data.model.PengirimanDetil",data.model.Model,{serviceName:"inventory/pengirimandetil",fields:[{name:"ID",type:"int"},{name:"PENGIRIMAN",type:"string"},{name:"PERMINTAAN_BARANG_DETIL",type:"string"},{name:"JUMLAH",type:"float"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PengirimanDetil"],0));(Ext.cmd.derive("data.model.Penjamin",data.model.Model,{serviceName:"pendaftaran/penjamin",fields:[{name:"JENIS",type:"int",defaultValue:1},{name:"NOPEN",type:"string"},{name:"NOMOR",type:"string"},{name:"KELAS",type:"int"},{name:"JENIS_PESERTA",type:"int"},{name:"COB",type:"int",defaultValue:0},{name:"KATARAK",type:"int",defaultValue:0},{name:"NO_SURAT",type:"string"},{name:"DPJP",type:"string"},{name:"CATATAN",type:"string"}],idProperty:"NOPEN"},0,0,0,0,0,0,[data.model,"Penjamin"],0));(Ext.cmd.derive("data.model.PenjaminRuangan",data.model.Model,{serviceName:"general/penjaminruangan",fields:[{name:"ID",type:"int"},{name:"PENJAMIN",type:"int"},{name:"RUANGAN_PENJAMIN",type:"string"},{name:"RUANGAN_RS",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PenjaminRuangan"],0));(Ext.cmd.derive("data.model.PenjaminTagihan",data.model.Model,{serviceName:"pembayaran/penjamintagihan",fields:[{name:"TAGIHAN",type:"string"},{name:"PENJAMIN",type:"int"},{name:"KE",type:"int"},{name:"TOTAL",type:"float"},{name:"TOTAL_NAIK_KELAS",type:"float"},{name:"NAIK_KELAS",type:"int"},{name:"NAIK_KELAS_VIP",type:"int"},{name:"NAIK_DIATAS_VIP",type:"int"},{name:"TOTAL_TAGIHAN_HAK",type:"float"},{name:"TARIF_INACBG_KELAS1",type:"float"},{name:"SUBSIDI_TAGIHAN",type:"int"},{name:"KELAS_KLAIM",type:"int"},{name:"KELAS",type:"int"},{name:"LAMA_NAIK",type:"int"}]},0,0,0,0,0,0,[data.model,"PenjaminTagihan"],0));(Ext.cmd.derive("data.model.Penjualan",data.model.Model,{serviceName:"penjualan/penjualan",fields:[{name:"NOMOR",type:"string"},{name:"RUANGAN",type:"string"},{name:"PENGUNJUNG",type:"string"},{name:"JENIS",type:"int"},{name:"DOKTER",type:"string"},{name:"KETERANGAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"Penjualan"],0));(Ext.cmd.derive("data.model.PenjualanDetil",data.model.Model,{serviceName:"penjualan/penjualandetil",fields:[{name:"ID",type:"int"},{name:"PENJUALAN_ID",type:"string"},{name:"BARANG",type:"int"},{name:"HARGA_BARANG",type:"int"},{name:"ATURAN_PAKAI",type:"string"},{name:"JUMLAH",type:"float"},{name:"MARGIN",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PenjualanDetil"],0));(Ext.cmd.derive("data.model.PenyebabKematian",data.model.Model,{serviceName:"medicalrecord/icd10kematian",fields:[{name:"ID",type:"int"},{name:"NOPEN",type:"string"},{name:"KODE",type:"string"},{name:"DIAGNOSA",type:"string"},{name:"UTAMA",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PenyebabKematian"],0));(Ext.cmd.derive("data.model.Penyedia",data.model.Model,{serviceName:"inventory/penyedia",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"ALAMAT",type:"string"},{name:"TELEPON",type:"string"},{name:"FAX",type:"string"},{name:"TANGGAL",type:"date",defaultValue:new Date(),dateFormat:"y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Penyedia"],0));(Ext.cmd.derive("data.model.Perawat",data.model.Model,{serviceName:"general/perawat",fields:[{name:"ID",type:"int"},{name:"NIP",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Perawat"],0));(Ext.cmd.derive("data.model.PerawatRuangan",data.model.Model,{serviceName:"general/perawatruangan",fields:[{name:"ID",type:"int"},{name:"TANGGAL",type:"date"},{name:"PERAWAT",type:"int"},{name:"RUANGAN",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PerawatRuangan"],0));(Ext.cmd.derive("data.model.Permintaan",data.model.Model,{serviceName:"inventory/permintaan",fields:[{name:"NOMOR",type:"string"},{name:"ASAL",type:"string"},{name:"TUJUAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1},{name:"TERIMA",type:"int"}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"Permintaan"],0));(Ext.cmd.derive("data.model.PermintaanDetil",data.model.Model,{serviceName:"inventory/permintaandetil",fields:[{name:"ID",type:"int"},{name:"PERMINTAAN",type:"string"},{name:"BARANG",type:"int"},{name:"JUMLAH",type:"float"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PermintaanDetil"],0));(Ext.cmd.derive("data.model.PetugasTindakanMedis",data.model.Model,{serviceName:"layanan/petugastindakanmedis",entityName:"PetugasTindakanMedis",fields:[{name:"ID",type:"int"},{name:"TINDAKAN_MEDIS",type:"int"},{name:"JENIS",type:"int"},{name:"MEDIS",type:"int"},{name:"KE",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PetugasTindakanMedis"],0));(Ext.cmd.derive("data.model.PiutangPasien",data.model.Model,{serviceName:"pembayaran/piutangpasien",fields:[{name:"TAGIHAN",type:"string"},{name:"NAMA",type:"string"},{name:"SHDK",type:"int"},{name:"NO_KARTU_IDENTITAS",type:"string"},{name:"JENIS_KARTU",type:"int"},{name:"ALAMAT_KARTU",type:"string"},{name:"ALAMAT_TEMPAT_TINGGAL",type:"string"},{name:"TELEPON",type:"string"},{name:"ALASAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TOTAL",type:"float"},{name:"JENIS_PEMBAYARAN",type:"int"},{name:"LAMA_ANGSURAN",type:"int"},{name:"BESAR_ANGSURAN",type:"float"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"PiutangPasien"],0));(Ext.cmd.derive("data.model.PiutangPerusahaan",data.model.Model,{serviceName:"pembayaran/piutangperusahaan",fields:[{name:"TAGIHAN",type:"string"},{name:"PENJAMIN",type:"int"},{name:"ALAMAT",type:"string"},{name:"TELEPON",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TOTAL",type:"float"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"PiutangPerusahaan"],0));(Ext.cmd.derive("data.model.Ppk",data.model.Model,{serviceName:"general/ppk",fields:[{name:"ID",type:"int"},{name:"KODE",type:"string",defaultValue:null},{name:"BPJS",type:"string",defaultValue:null},{name:"JENIS",type:"int"},{name:"KEPEMILIKAN",type:"int"},{name:"JPK",type:"int"},{name:"NAMA",type:"string"},{name:"KELAS",type:"string"},{name:"ALAMAT",type:"string"},{name:"RT",type:"string"},{name:"RW",type:"string"},{name:"KODEPOS",type:"string"},{name:"TELEPON",type:"string"},{name:"FAX",type:"string"},{name:"WILAYAH",type:"string"},{name:"DESWILAYAH",type:"string"},{name:"MULAI",type:"date"},{name:"BERAKHIR",type:"date"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Ppk"],0));(Ext.cmd.derive("data.model.PurchaseOrder",data.model.Model,{serviceName:"inventory/purchaseorder",fields:[{name:"NO_PO",type:"string"},{name:"NO_MR",type:"string"},{name:"SUPPLIER",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"KETERANGAN",type:"string"},{name:"STATUS",type:"int",defaultValue:1},{name:"OLEH",type:"int"},{name:"UPDATE_TIME",type:"date",dateFormat:"Y-m-d H:i:s"}],idProperty:"NO_PO"},0,0,0,0,0,0,[data.model,"PurchaseOrder"],0));(Ext.cmd.derive("data.model.PurchaseOrderDetil",data.model.Model,{serviceName:"inventory/purchaseorderdetil",fields:[{name:"ID",type:"int"},{name:"ID_PO",type:"string"},{name:"BARANG",type:"int"},{name:"JUMLAH",type:"float"},{name:"ID_MR_DETIL",type:"int"},{name:"ID_SPH",type:"int"},{name:"STATUS",type:"int",defaultValue:1},{name:"OLEH",type:"int"},{name:"UPDATE_TIME",type:"date",dateFormat:"Y-m-d H:i:s"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"PurchaseOrderDetil"],0));(Ext.cmd.derive("data.model.Referensi",data.model.Model,{serviceName:"general/referensi",fields:[{name:"JENIS",type:"int"},{name:"ID",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"REF_ID",type:"string"},{name:"STATUS",type:"int"}]},0,0,0,0,0,0,[data.model,"Referensi"],0));(Ext.cmd.derive("data.model.RequestReport",Ext.data.Model,{fields:[{name:"NAME",type:"string"},{name:"CONNECTION_NUMBER",type:"int",defaultValue:0},{name:"TYPE",type:"string",defaultValue:"Pdf"},{name:"EXT",type:"string",defaultValue:"pdf"},"PARAMETER",{name:"REQUEST_FOR_PRINT",type:"boolean",defaultValue:false},"PRINT_NAME",{name:"COPIES",type:"int",defaultValue:1}],proxy:{type:"rest",url:webservice.location+"plugins/request-report",reader:{type:"json",rootProperty:"content"}}},0,0,0,0,0,0,[data.model,"RequestReport"],0));(Ext.cmd.derive("data.model.Reservasi",data.model.Model,{serviceName:"pendaftaran/reservasi",fields:[{name:"NOMOR",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"RUANG_KAMAR_TIDUR",type:"int"},{name:"BERAKHIR",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"ATAS_NAMA",type:"string"},{name:"KONTAK_INFO",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"Reservasi"],0));(Ext.cmd.derive("data.model.ReturLayananFarmasi",data.model.Model,{serviceName:"layanan/returfarmasi",fields:[{name:"ID",type:"int"},{name:"ID_FARMASI",type:"string"},{name:"JUMLAH",type:"float"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"ReturLayananFarmasi"],0));(Ext.cmd.derive("data.model.ReturPenjualan",data.model.Model,{serviceName:"penjualan/returpenjualan",fields:[{name:"ID",type:"int"},{name:"PENJUALAN_ID",type:"string"},{name:"PENJUALAN_DETIL_ID",type:"string"},{name:"BARANG",type:"int"},{name:"JUMLAH",type:"float"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"ReturPenjualan"],0));(Ext.cmd.derive("data.model.RincianTagihan",data.model.Model,{serviceName:"pembayaran/rinciantagihan",fields:[{name:"TAGIHAN",type:"string"},{name:"REF_ID",type:"string"},{name:"JENIS",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TARIF_ID",type:"int"},{name:"JUMLAH",type:"float"},{name:"TOTAL_BIAYA",type:"float"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"RincianTagihan"],0));(Ext.cmd.derive("data.model.RincianTagihanPaket",data.model.Model,{serviceName:"pembayaran/rinciantagihanpaket",fields:[{name:"TAGIHAN",type:"string"},{name:"PAKET_DETIL",type:"int"},{name:"REF_ID",type:"string"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"RincianTagihanPaket"],0));(Ext.cmd.derive("data.model.RuangKamar",data.model.Model,{serviceName:"general/ruangkamar",fields:[{name:"ID",type:"int"},{name:"RUANGAN",type:"string"},{name:"KAMAR",type:"string"},{name:"KELAS",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"RuangKamar"],0));(Ext.cmd.derive("data.model.RuangKamarTidur",data.model.Model,{serviceName:"general/ruangkamartidur",fields:[{name:"ID",type:"int"},{name:"RUANG_KAMAR",type:"int"},{name:"TEMPAT_TIDUR",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"RuangKamarTidur"],0));(Ext.cmd.derive("data.model.Ruangan",data.model.Model,{serviceName:"general/ruangan",fields:[{name:"ID",type:"string"},{name:"JENIS",type:"int"},{name:"JENIS_KUNJUNGAN",type:"int"},{name:"REF_ID",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Ruangan"],0));(Ext.cmd.derive("data.model.RuanganFarmasi",data.model.Model,{serviceName:"general/ruanganfarmasi",fields:[{name:"RUANGAN",type:"string"},{name:"FARMASI",type:"string"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"RuanganFarmasi"],0));(Ext.cmd.derive("data.model.RuanganKonsul",data.model.Model,{serviceName:"general/ruangankonsul",fields:[{name:"RUANGAN",type:"string"},{name:"KONSUL",type:"string"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"RuanganKonsul"],0));(Ext.cmd.derive("data.model.RuanganLab",data.model.Model,{serviceName:"general/ruanganlaboratorium",fields:[{name:"RUANGAN",type:"string"},{name:"LABORATORIUM",type:"string"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"RuanganLab"],0));(Ext.cmd.derive("data.model.RuanganMutasi",data.model.Model,{serviceName:"general/ruanganmutasi",fields:[{name:"RUANGAN",type:"string"},{name:"MUTASI",type:"string"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"RuanganMutasi"],0));(Ext.cmd.derive("data.model.RuanganOperasi",data.model.Model,{serviceName:"general/ruanganoperasi",fields:[{name:"RUANGAN",type:"string"},{name:"OPERASI",type:"string"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"RuanganOperasi"],0));(Ext.cmd.derive("data.model.RuanganRad",data.model.Model,{serviceName:"general/ruanganradiologi",fields:[{name:"RUANGAN",type:"string"},{name:"RADIOLOGI",type:"string"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"RuanganRad"],0));(Ext.cmd.derive("data.model.RuanganTree",Ext.data.TreeModel,{entityName:"RuanganTree",fields:[{name:"ID",type:"string"},{name:"JENIS",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"text",type:"string",convert:function(g,k){return k.get("DESKRIPSI")}},"children","leaf",{name:"expanded",type:"boolean",defautlValue:"true"},"cls",{name:"STATUS",type:"int"}],root:{expanded:true},proxy:{type:"ajax",url:webservice.location+"general/ruangan",reader:{type:"json",rootProperty:"children"}}},0,0,0,0,0,0,[data.model,"RuanganTree"],0));(Ext.cmd.derive("data.model.RumusPerencanaan",data.model.Model,{serviceName:"inventory/rumusperencanaan",fields:[{name:"ID_RUMUS",type:"int"},{name:"KATEGORI",type:"string"},{name:"PERIODE_PERENCANAAN",type:"int"},{name:"VOLUME_PRESENTASE",type:"int"},{name:"LEAD_TIME",type:"int"},{name:"STATUS",type:"int",defaultValue:1},{name:"OLEH",type:"int"},{name:"UPDATE_TIME",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID_RUMUS"},0,0,0,0,0,0,[data.model,"RumusPerencanaan"],0));(Ext.cmd.derive("data.model.Satuan",data.model.Model,{serviceName:"inventory/satuan",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"DESKRIPSI",type:"string"},{name:"TANGGAL",type:"date"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[data.model,"Satuan"],0));(Ext.cmd.derive("data.model.SmfRuangan",data.model.Model,{serviceName:"general/smfruangan",fields:[{name:"ID",type:"int"},{name:"TANGGAL",type:"date"},{name:"RUANGAN",type:"string"},{name:"SMF"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"SmfRuangan"],0));(Ext.cmd.derive("data.model.Staff",data.model.Model,{serviceName:"general/staff",fields:[{name:"ID",type:"int"},{name:"NIP",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Staff"],0));(Ext.cmd.derive("data.model.StaffRuangan",data.model.Model,{serviceName:"general/staffruangan",fields:[{name:"ID",type:"int"},{name:"TANGGAL",type:"date"},{name:"STAFF",type:"int"},{name:"RUANGAN",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"StaffRuangan"],0));(Ext.cmd.derive("data.model.StokOpname",data.model.Model,{serviceName:"inventory/stokopname",fields:[{name:"ID",type:"int"},{name:"RUANGAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d"},{name:"TANGGAL_DIBUAT",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"KETERANGAN",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"string",defaultValue:2}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"StokOpname"],0));(Ext.cmd.derive("data.model.StokOpnameDetil",data.model.Model,{serviceName:"inventory/stokopnamedetil",fields:[{name:"ID",type:"int"},{name:"STOK_OPNAME",type:"int"},{name:"BARANG_RUANGAN",type:"int"},{name:"SISTEM",type:"float"},{name:"MANUAL",type:"float",allowNull:true},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"StokOpnameDetil"],0));(Ext.cmd.derive("data.model.SuratPenawaranHarga",data.model.Model,{serviceName:"inventory/suratpenawaranharga",fields:[{name:"NOMOR",type:"string"},{name:"SUPPLIER",type:"int"},{name:"PERIODE_AWAL",type:"date",dateFormat:"Y-m-d"},{name:"PERIODE_AKHIR",type:"date",dateFormat:"Y-m-d"},{name:"EXPIRED",type:"date",dateFormat:"Y-m-d"},{name:"STATUS",type:"int",defaultValue:1},{name:"OLEH",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"SuratPenawaranHarga"],0));(Ext.cmd.derive("data.model.SuratPenawaranHargaDetil",data.model.Model,{serviceName:"inventory/suratpenawaranhargadetil",fields:[{name:"ID",type:"int"},{name:"ID_PENAWARAN",type:"string"},{name:"BARANG",type:"int"},{name:"HARGA",type:"float"},{name:"DISKON_PERSEN",type:"float"},{name:"DISKON_RUPIAH",type:"float"},{name:"STATUS",type:"int",defaultValue:1},{name:"OLEH",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"SuratPenawaranHargaDetil"],0));(Ext.cmd.derive("data.model.SuratRujukan",data.model.Model,{serviceName:"pendaftaran/suratrujukanpasien",fields:[{name:"ID",type:"int"},{name:"PPK",type:"int"},{name:"NORM",type:"int"},{name:"NOMOR",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"DOKTER",type:"string"},{name:"BAGIAN_DOKTER",type:"string"},{name:"DIAGNOSA_MASUK",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"SuratRujukan"],0));(Ext.cmd.derive("data.model.Tagihan",data.model.Model,{serviceName:"pembayaran/tagihan",fields:[{name:"ID",type:"int"},{name:"REF",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"JENIS",type:"int"},{name:"TOTAL",type:"float"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1},{name:"HITUNGULANG",type:"int",defaultValue:0},{name:"REDISTRIBUSI",type:"int",defaultValue:0}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Tagihan"],0));(Ext.cmd.derive("data.model.TagihanPendaftaran",data.model.Model,{serviceName:"pembayaran/tagihanpendaftaran",fields:[{name:"TAGIHAN",type:"string"},{name:"PENDAFTARAN",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"TAGIHAN"},0,0,0,0,0,0,[data.model,"TagihanPendaftaran"],0));(Ext.cmd.derive("data.model.TarifAdministrasi",data.model.Model,{serviceName:"general/tarifadministrasi",fields:[{name:"ID",type:"int"},{name:"ADMINISTRASI",type:"int"},{name:"JENIS_KUNJUNGAN",type:"int"},{name:"PASIEN_BARU",type:"int",defaultValue:0},{name:"TARIF",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL_SK",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"NOMOR_SK",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"TarifAdministrasi"],0));(Ext.cmd.derive("data.model.TarifFarmasiPerKelas",data.model.Model,{serviceName:"general/tariffarmasiperkelas",fields:[{name:"ID",type:"int"},{name:"KELAS",type:"int"},{name:"FARMASI",type:"float"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"TarifFarmasiPerKelas"],0));(Ext.cmd.derive("data.model.TarifO2",data.model.Model,{serviceName:"general/tarifo2",fields:[{name:"ID",type:"int"},{name:"TARIF",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL_SK",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"NOMOR_SK",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"TarifO2"],0));(Ext.cmd.derive("data.model.TarifRuangRawat",data.model.Model,{serviceName:"general/tarifruangrawat",fields:[{name:"ID",type:"int"},{name:"KELAS",type:"int"},{name:"SARANA",type:"int"},{name:"JASA_PELAYANAN",type:"int"},{name:"TARIF",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL_SK",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"NOMOR_SK",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"TarifRuangRawat"],0));(Ext.cmd.derive("data.model.TarifTindakan",data.model.Model,{serviceName:"general/tariftindakan",fields:[{name:"ID",type:"int"},{name:"TINDAKAN",type:"int"},{name:"KELAS",type:"int"},{name:"ADMINISTRASI",type:"int"},{name:"SARANA",type:"int"},{name:"BHP",type:"int"},{name:"DOKTER_OPERATOR",type:"int"},{name:"DOKTER_ANASTESI",type:"int"},{name:"DOKTER_LAINNYA",type:"int"},{name:"PENATA_ANASTESI",type:"int"},{name:"PARAMEDIS",type:"int"},{name:"NON_MEDIS",type:"int"},{name:"TARIF",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL_SK",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"NOMOR_SK",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"TarifTindakan"],0));(Ext.cmd.derive("data.model.TempatLahir",data.model.Model,{serviceName:"general/tempatlahir",fields:[{name:"ID",type:"string"},{name:"DESKRIPSI",type:"string"}]},0,0,0,0,0,0,[data.model,"TempatLahir"],0));(Ext.cmd.derive("data.model.TenagaMedis",data.model.Model,{serviceName:"general/tenagamedis",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"NIP",type:"string"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"TenagaMedis"],0));(Ext.cmd.derive("data.model.Tindakan",data.model.Model,{serviceName:"general/tindakan",fields:[{name:"ID",type:"int"},{name:"JENIS",type:"int"},{name:"NAMA",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Tindakan"],0));(Ext.cmd.derive("data.model.TindakanMedis",data.model.Model,{serviceName:"layanan/tindakanmedis",fields:[{name:"ID",type:"string"},{name:"KUNJUNGAN",type:"string"},{name:"TINDAKAN",type:"int"},{name:"TANGGAL",type:"date",defaultValue:new Date(),dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"TindakanMedis"],0));(Ext.cmd.derive("data.model.TindakanRuangan",data.model.Model,{serviceName:"general/tindakanruangan",fields:[{name:"ID",type:"int"},{name:"TANGGAL",type:"date"},{name:"STAFF",type:"int"},{name:"RUANGAN",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"TindakanRuangan"],0));(Ext.cmd.derive("data.model.TransaksiKasir",data.model.Model,{serviceName:"pembayaran/transaksikasir",fields:[{name:"NOMOR",type:"int"},{name:"KASIR",type:"int"},{name:"BUKA",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TUTUP",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NOMOR"},0,0,0,0,0,0,[data.model,"TransaksiKasir"],0));(Ext.cmd.derive("data.model.TreeModules",Ext.data.TreeModel,{entityName:"TreeModules",fields:[{name:"ID",type:"string"},{name:"NAMA",type:"string"},{name:"LEVEL",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"text",type:"string",convert:function(g,k){return k.get("NAMA")}},"children","leaf",{name:"expanded",type:"boolean",defautlValue:true},"cls",{name:"STATUS",type:"int"},{name:"checked",type:"bool",defaultValue:false}],autoLoad:false,root:{expanded:true},proxy:{type:"ajax",url:webservice.location+"aplikasi/modules",reader:{type:"json",rootProperty:"children"}}},0,0,0,0,0,0,[data.model,"TreeModules"],0));(Ext.cmd.derive("data.model.TujuanPasien",data.model.Model,{serviceName:"pendaftaran/tujuanpasien",fields:[{name:"NOPEN",type:"string"},{name:"RUANGAN",type:"string"},{name:"RESERVASI",type:"string"},{name:"DOKTER",type:"int"},{name:"IKUT_IBU",type:"int"},{name:"KUNJUNGAN_IBU",type:"string"},{name:"STATUS",type:"int"}],idProperty:"NOPEN"},0,0,0,0,0,0,[data.model,"TujuanPasien"],0));(Ext.cmd.derive("data.model.Wilayah",data.model.Model,{serviceName:"general/wilayah",fields:[{name:"ID",type:"int"},{name:"JENIS",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"KOTA",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[data.model,"Wilayah"],0));(Ext.cmd.derive("data.store.Store",Ext.data.Store,{config:{queryParams:undefined},setQueryParams:function(f){this.queryParams=f||{}},doAfterLoad:Ext.emptyFn,load:function(n){var m=this,o=m.getPageSize(),l;if(typeof n==="function"){n={callback:n}}else{n=Ext.apply({},n)}if(m.getRemoteSort()&&!n.grouper&&m.getGrouper()){n.grouper=m.getGrouper()}if(o||"start" in n||"limit" in n||"page" in n){n.page=n.page!=null?n.page:m.currentPage;n.start=(n.start!==undefined)?n.start:(n.page-1)*o;n.limit=n.limit!=null?n.limit:o}n.addRecords=n.addRecords||false;if(!n.recordCreator){l=m.getSession();if(l){n.recordCreator=l.recordCreator}}n=n||{};n.params=n.params||{};if(m.queryParams!=undefined){Ext.Object.merge(n.params,m.queryParams)}return Ext.data.Store.prototype.load.call(this,n)},onProxyLoad:function(p){var n=this,o=p.getResultSet(),q=p.getRecords(),m=p.wasSuccessful();if(n.destroyed){return}if(o){n.totalCount=o.getTotal()}if(m){q=n.processAssociation(q);n.loadRecords(q,p.getAddRecords()?{addRecords:true}:undefined)}else{n.loading=false}if(n.hasListeners.load){n.fireEvent("load",n,q,m,p)}n.doAfterLoad(n,q,m,p);n.callObservers("AfterLoad",[q,m,p])},getArrayData:function(){var k=this,g=[];k.each(function(e){g.push(e.data)});return g},initStore:function(t,n){var s=this,o=Ext.getStore(t);if(o){if(o.data){if(o.getCount()>0){var q=o.getArrayData();s.loadData(q);if(Ext.isFunction(n)){n()}return}}}var p=Ext.Factory.store({type:s.type,queryParams:s.queryParams});Ext.data.StoreManager.add(t,p);p.load(function(f,g,e){if(e){s.loadData(f);if(Ext.isFunction(n)){n()}}})}},0,0,0,0,0,0,[data.store,"Store"],0));(Ext.cmd.derive("data.store.Administrasi",data.store.Store,{model:"data.model.Administrasi"},0,0,0,0,["store.administrasi-store"],0,[data.store,"Administrasi"],0));(Ext.cmd.derive("data.store.Aksi",data.store.Store,{model:"data.model.Aksi"},0,0,0,0,["store.aksi-store"],0,[data.store,"Aksi"],0));(Ext.cmd.derive("data.store.AntrianRuangan",data.store.Store,{model:"data.model.AntrianRuangan"},0,0,0,0,["store.antrian-ruangan-store"],0,[data.store,"AntrianRuangan"],0));(Ext.cmd.derive("data.store.AturanPakai",data.store.Store,{model:"data.model.AturanPakai"},0,0,0,0,["store.aturan-pakai-store"],0,[data.store,"AturanPakai"],0));(Ext.cmd.derive("data.store.Barang",data.store.Store,{model:"data.model.Barang"},0,0,0,0,["store.barang-store"],0,[data.store,"Barang"],0));(Ext.cmd.derive("data.store.BarangRuangan",data.store.Store,{model:"data.model.BarangRuangan"},0,0,0,0,["store.barang-ruangan-store"],0,[data.store,"BarangRuangan"],0));(Ext.cmd.derive("data.store.CatatanHasilLab",data.store.Store,{model:"data.model.HasilLab"},0,0,0,0,["store.catatan-hasil-lab-store"],0,[data.store,"CatatanHasilLab"],0));(Ext.cmd.derive("data.store.Deposit",data.store.Store,{model:"data.model.Deposit"},0,0,0,0,["store.deposit-store"],0,[data.store,"Deposit"],0));(Ext.cmd.derive("data.store.Diagnosa",data.store.Store,{model:"data.model.Diagnosa"},0,0,0,0,["store.diagnosa-store"],0,[data.store,"Diagnosa"],0));(Ext.cmd.derive("data.store.DiagnosaMasuk",data.store.Store,{model:"data.model.DiagnosaMasuk"},0,0,0,0,["store.diagnosa-masuk-store"],0,[data.store,"DiagnosaMasuk"],0));(Ext.cmd.derive("data.store.Diskon",data.store.Store,{model:"data.model.Diskon"},0,0,0,0,["store.diskon-store"],0,[data.store,"Diskon"],0));(Ext.cmd.derive("data.store.DiskonDokter",data.store.Store,{model:"data.model.DiskonDokter"},0,0,0,0,["store.diskon-dokter-store"],0,[data.store,"DiskonDokter"],0));(Ext.cmd.derive("data.store.DistribusiTarifPaket",data.store.Store,{model:"data.model.DistribusiTarifPaket"},0,0,0,0,["store.distribusi-tarif-paket-store"],0,[data.store,"DistribusiTarifPaket"],0));(Ext.cmd.derive("data.store.Dokter",data.store.Store,{model:"data.model.Dokter"},0,0,0,0,["store.dokter-store"],0,[data.store,"Dokter"],0));(Ext.cmd.derive("data.store.DokterRuangan",data.store.Store,{model:"data.model.DokterRuangan"},0,0,0,0,["store.dokter-ruangan-store"],0,[data.store,"DokterRuangan"],0));(Ext.cmd.derive("data.store.DokterSmf",data.store.Store,{model:"data.model.DokterSmf"},0,0,0,0,["store.dokter-smf-store"],0,[data.store,"DokterSmf"],0));(Ext.cmd.derive("data.store.Edc",data.store.Store,{model:"data.model.Edc"},0,0,0,0,["store.edc-store"],0,[data.store,"Edc"],0));(Ext.cmd.derive("data.store.GabungTagihan",data.store.Store,{model:"data.model.GabungTagihan"},0,0,0,0,["store.data-store-gabung-tagihan"],0,[data.store,"GabungTagihan"],0));(Ext.cmd.derive("data.store.GroupLab",data.store.Store,{model:"data.model.GroupLab"},0,0,0,0,["store.grouplab-store"],0,[data.store,"GroupLab"],0));(Ext.cmd.derive("data.store.GroupPenggunaAksesModule",data.store.Store,{model:"data.model.GroupPenggunaAksesModule"},0,0,0,0,["store.grouppenggunaaksesmodule-store"],0,[data.store,"GroupPenggunaAksesModule"],0));(Ext.cmd.derive("data.store.GroupTindakanLab",data.store.Store,{model:"data.model.GroupTindakanLab"},0,0,0,0,["store.group-tindakan-lab-store"],0,[data.store,"GroupTindakanLab"],0));(Ext.cmd.derive("data.store.HargaBarang",data.store.Store,{model:"data.model.HargaBarang"},0,0,0,0,["store.harga-barang-store"],0,[data.store,"HargaBarang"],0));(Ext.cmd.derive("data.store.HasilLab",data.store.Store,{model:"data.model.HasilLab"},0,0,0,0,["store.hasillab-store"],0,[data.store,"HasilLab"],0));(Ext.cmd.derive("data.store.HasilPa",data.store.Store,{model:"data.model.HasilPa"},0,0,0,0,["store.hasilpa-store"],0,[data.store,"HasilPa"],0));(Ext.cmd.derive("data.store.HasilRad",data.store.Store,{model:"data.model.HasilRad"},0,0,0,0,["store.hasilrad-store"],0,[data.store,"HasilRad"],0));(Ext.cmd.derive("data.store.History",data.store.Store,{},0,0,0,0,["store.history-store"],0,[data.store,"History"],0));(Ext.cmd.derive("data.store.Icd",data.store.Store,{model:"data.model.Icd"},0,0,0,0,["store.icd-store"],0,[data.store,"Icd"],0));(Ext.cmd.derive("data.store.Icd9",data.store.Store,{model:"data.model.Icd9"},0,0,0,0,["store.icd9-store"],0,[data.store,"Icd9"],0));(Ext.cmd.derive("data.store.InfoTeks",data.store.Store,{model:"data.model.InfoTeks"},0,0,0,0,["store.info-teks-store"],0,[data.store,"InfoTeks"],0));(Ext.cmd.derive("data.store.InformasiRuangKamarTidur",data.store.Store,{model:"data.model.InformasiRuangKamarTidur"},0,0,0,0,["store.informasiruangkamartidur-store"],0,[data.store,"InformasiRuangKamarTidur"],0));(Ext.cmd.derive("data.store.Instansi",data.store.Store,{model:"data.model.Instansi"},0,0,0,0,["store.instansi-store"],0,[data.store,"Instansi"],0));(Ext.cmd.derive("data.store.JenisLaporan",data.store.Store,{model:"data.model.JenisLaporan"},0,0,0,0,["store.jenis-laporan-store"],0,[data.store,"JenisLaporan"],0));(Ext.cmd.derive("data.store.JenisReferensi",data.store.Store,{model:"data.model.JenisReferensi"},0,0,0,0,["store.jenisreferensi-store"],0,[data.store,"JenisReferensi"],0));(Ext.cmd.derive("data.store.JenisRuangan",data.store.Store,{model:"data.model.JenisRuangan"},0,0,0,0,["store.jenis-ruangan-store"],0,[data.store,"JenisRuangan"],0));(Ext.cmd.derive("data.store.JenisWilayah",data.store.Store,{model:"data.model.JenisWilayah"},0,0,0,0,["store.jeniswilayah-store"],0,[data.store,"JenisWilayah"],0));(Ext.cmd.derive("data.store.KAP",data.store.Store,{model:"data.model.KAP"},0,0,0,0,["store.kap-store"],0,[data.store,"KAP"],0));(Ext.cmd.derive("data.store.KIP",data.store.Store,{model:"data.model.KIP"},0,0,0,0,["store.kip-store"],0,[data.store,"KIP"],0));(Ext.cmd.derive("data.store.Kategori",data.store.Store,{model:"data.model.Kategori"},0,0,0,0,["store.kategori-store"],0,[data.store,"Kategori"],0));(Ext.cmd.derive("data.store.KeluargaPasien",data.store.Store,{model:"data.model.KeluargaPasien"},0,0,0,0,["store.keluarga-pasien-store"],0,[data.store,"KeluargaPasien"],0));(Ext.cmd.derive("data.store.Konsul",data.store.Store,{model:"data.model.Konsul"},0,0,0,0,["store.konsul-store"],0,[data.store,"Konsul"],0));(Ext.cmd.derive("data.store.KontakPasien",data.store.Store,{model:"data.model.KontakPasien"},0,0,0,0,["store.kontak-pasien-store"],0,[data.store,"KontakPasien"],0));(Ext.cmd.derive("data.store.KontakPenanggungJawab",data.store.Store,{model:"data.model.KontakPenanggungJawab"},0,0,0,0,["store.kontakpenanggungjawab-store"],0,[data.store,"KontakPenanggungJawab"],0));(Ext.cmd.derive("data.store.Kunjungan",data.store.Store,{model:"data.model.Kunjungan"},0,0,0,0,["store.kunjungan-store"],0,[data.store,"Kunjungan"],0));(Ext.cmd.derive("data.store.LaporanDetil",data.store.Store,{model:"data.model.LaporanDetil"},0,0,0,0,["store.laporan-detil-store"],0,[data.store,"LaporanDetil"],0));(Ext.cmd.derive("data.store.LayananFarmasi",data.store.Store,{model:"data.model.LayananFarmasi"},0,0,0,0,["store.layananfarmasi-store"],0,[data.store,"LayananFarmasi"],0));(Ext.cmd.derive("data.store.MaterialRequest",data.store.Store,{model:"data.model.MaterialRequest"},0,0,0,0,["store.material-request-store"],0,[data.store,"MaterialRequest"],0));(Ext.cmd.derive("data.store.MaterialRequestDetil",data.store.Store,{model:"data.model.MaterialRequestDetil"},0,0,0,0,["store.material-request-detil-store"],0,[data.store,"MaterialRequestDetil"],0));(Ext.cmd.derive("data.store.Mutasi",data.store.Store,{model:"data.model.Mutasi"},0,0,0,0,["store.mutasi-store"],0,[data.store,"Mutasi"],0));(Ext.cmd.derive("data.store.Negara",data.store.Store,{model:"data.model.Negara"},0,0,0,0,["store.negara-store"],0,[data.store,"Negara"],0));(Ext.cmd.derive("data.store.O2",data.store.Store,{model:"data.model.O2"},0,0,0,0,["store.o2-store"],0,[data.store,"O2"],0));(Ext.cmd.derive("data.store.Operasi",data.store.Store,{model:"data.model.Operasi"},0,0,0,0,["store.operasi-store"],0,[data.store,"Operasi"],0));(Ext.cmd.derive("data.store.OperasiDiTindakan",data.store.Store,{model:"data.model.OperasiDiTindakan"},0,0,0,0,["store.operasi-ditindakan-store"],0,[data.store,"OperasiDiTindakan"],0));(Ext.cmd.derive("data.store.OrderDetilLab",data.store.Store,{model:"data.model.OrderDetilLab"},0,0,0,0,["store.order-detil-lab-store"],0,[data.store,"OrderDetilLab"],0));(Ext.cmd.derive("data.store.OrderDetilRad",data.store.Store,{model:"data.model.OrderDetilRad"},0,0,0,0,["store.order-detil-rad-store"],0,[data.store,"OrderDetilRad"],0));(Ext.cmd.derive("data.store.OrderDetilResep",data.store.Store,{model:"data.model.OrderDetilResep"},0,0,0,0,["store.order-detil-resep-store"],0,[data.store,"OrderDetilResep"],0));(Ext.cmd.derive("data.store.OrderLab",data.store.Store,{model:"data.model.OrderLab",pageSize:2000},0,0,0,0,["store.order-lab-store"],0,[data.store,"OrderLab"],0));(Ext.cmd.derive("data.store.OrderRad",data.store.Store,{model:"data.model.OrderRad",pageSize:2000},0,0,0,0,["store.order-rad-store"],0,[data.store,"OrderRad"],0));(Ext.cmd.derive("data.store.OrderResep",data.store.Store,{model:"data.model.OrderResep",pageSize:2000},0,0,0,0,["store.order-resep-store"],0,[data.store,"OrderResep"],0));(Ext.cmd.derive("data.store.Paket",data.store.Store,{model:"data.model.Paket"},0,0,0,0,["store.paket-store"],0,[data.store,"Paket"],0));(Ext.cmd.derive("data.store.PaketDetil",data.store.Store,{model:"data.model.PaketDetil"},0,0,0,0,["store.paketdetil-store"],0,[data.store,"PaketDetil"],0));(Ext.cmd.derive("data.store.PanggilanAntrianRuangan",data.store.Store,{model:"data.model.PanggilanAntrianRuangan"},0,0,0,0,["store.panggilan-antrian-ruangan-store"],0,[data.store,"PanggilanAntrianRuangan"],0));(Ext.cmd.derive("data.store.ParameterTindakanLab",data.store.Store,{model:"data.model.ParameterTindakanLab"},0,0,0,0,["store.parametertindakanlab-store"],0,[data.store,"ParameterTindakanLab"],0));(Ext.cmd.derive("data.store.Pasien",data.store.Store,{model:"data.model.Pasien"},0,0,0,0,["store.pasien-store"],0,[data.store,"Pasien"],0));(Ext.cmd.derive("data.store.PasienMeninggal",data.store.Store,{model:"data.model.PasienMeninggal"},0,0,0,0,["store.pasienmeninggal-store"],0,[data.store,"PasienMeninggal"],0));(Ext.cmd.derive("data.store.PasienPulang",data.store.Store,{model:"data.model.PasienPulang"},0,0,0,0,["store.pasienpulang-store"],0,[data.store,"PasienPulang"],0));(Ext.cmd.derive("data.store.Pegawai",data.store.Store,{model:"data.model.Pegawai"},0,0,0,0,["store.pegawai-store"],0,[data.store,"Pegawai"],0));(Ext.cmd.derive("data.store.PembatalanKunjungan",data.store.Store,{model:"data.model.PembatalanKunjungan"},0,0,0,0,["store.pembatalankunjungan-store"],0,[data.store,"PembatalanKunjungan"],0));(Ext.cmd.derive("data.store.PembayaranTagihan",data.store.Store,{model:"data.model.PembayaranTagihan"},0,0,0,0,["store.pembayaran-tagihan-store"],0,[data.store,"PembayaranTagihan"],0));(Ext.cmd.derive("data.store.PenanggungJawab",data.store.Store,{model:"data.model.PenanggungJawab"},0,0,0,0,["store.penanggungjawab-store"],0,[data.store,"PenanggungJawab"],0));(Ext.cmd.derive("data.store.Pendaftaran",data.store.Store,{model:"data.model.Pendaftaran"},0,0,0,0,["store.pendaftaran-store"],0,[data.store,"Pendaftaran"],0));(Ext.cmd.derive("data.store.Penerimaan",data.store.Store,{model:"data.model.Penerimaan"},0,0,0,0,["store.penerimaan-store"],0,[data.store,"Penerimaan"],0));(Ext.cmd.derive("data.store.PengembalianBarang",data.store.Store,{model:"data.model.PengembalianBarang"},0,0,0,0,["store.pengembalian-barang-store"],0,[data.store,"PengembalianBarang"],0));(Ext.cmd.derive("data.store.PengembalianBarangDetil",data.store.Store,{model:"data.model.PengembalianBarangDetil"},0,0,0,0,["store.pengembalian-barang-detil-store"],0,[data.store,"PengembalianBarangDetil"],0));(Ext.cmd.derive("data.store.PengembalianDeposit",data.store.Store,{model:"data.model.PengembalianDeposit"},0,0,0,0,["store.pengembalian-deposit-store"],0,[data.store,"PengembalianDeposit"],0));(Ext.cmd.derive("data.store.Pengguna",data.store.Store,{model:"data.model.Pengguna"},0,0,0,0,["store.pengguna-store"],0,[data.store,"Pengguna"],0));(Ext.cmd.derive("data.store.PenggunaAkses",data.store.Store,{model:"data.model.PenggunaAkses"},0,0,0,0,["store.pengguna-akses-store"],0,[data.store,"PenggunaAkses"],0));(Ext.cmd.derive("data.store.PenggunaAksesPencarian",data.store.Store,{model:"data.model.PenggunaAksesPencarian"},0,0,0,0,["store.pengguna-akses-pencarian-store"],0,[data.store,"PenggunaAksesPencarian"],0));(Ext.cmd.derive("data.store.PenggunaAksesRuangan",data.store.Store,{model:"data.model.PenggunaAksesRuangan"},0,0,0,0,["store.pengguna-akses-ruangan-store"],0,[data.store,"PenggunaAksesRuangan"],0));(Ext.cmd.derive("data.store.Pengiriman",data.store.Store,{model:"data.model.Pengiriman"},0,0,0,0,["store.pengiriman-store"],0,[data.store,"Pengiriman"],0));(Ext.cmd.derive("data.store.PengirimanDetil",data.store.Store,{model:"data.model.PengirimanDetil"},0,0,0,0,["store.pengirimandetil-store"],0,[data.store,"PengirimanDetil"],0));(Ext.cmd.derive("data.store.Penjamin",data.store.Store,{model:"data.model.Penjamin"},0,0,0,0,["store.penjamin-store"],0,[data.store,"Penjamin"],0));(Ext.cmd.derive("data.store.PenjaminRuangan",data.store.Store,{model:"data.model.PenjaminRuangan"},0,0,0,0,["store.penjamin-ruangan-store"],0,[data.store,"PenjaminRuangan"],0));(Ext.cmd.derive("data.store.PenjaminTagihan",data.store.Store,{model:"data.model.PenjaminTagihan"},0,0,0,0,["store.penjamin-tagihan-store"],0,[data.store,"PenjaminTagihan"],0));(Ext.cmd.derive("data.store.Penjualan",data.store.Store,{model:"data.model.Penjualan"},0,0,0,0,["store.penjualan-store"],0,[data.store,"Penjualan"],0));(Ext.cmd.derive("data.store.PenjualanDetil",data.store.Store,{model:"data.model.PenjualanDetil"},0,0,0,0,["store.penjualan-detil-store"],0,[data.store,"PenjualanDetil"],0));(Ext.cmd.derive("data.store.PenyebabKematian",data.store.Store,{model:"data.model.PenyebabKematian"},0,0,0,0,["store.penyebabkematian-store"],0,[data.store,"PenyebabKematian"],0));(Ext.cmd.derive("data.store.Penyedia",data.store.Store,{model:"data.model.Penyedia"},0,0,0,0,["store.penyedia-store"],0,[data.store,"Penyedia"],0));(Ext.cmd.derive("data.store.Perawat",data.store.Store,{model:"data.model.Perawat"},0,0,0,0,["store.perawat-store"],0,[data.store,"Perawat"],0));(Ext.cmd.derive("data.store.PerawatRuangan",data.store.Store,{model:"data.model.PerawatRuangan"},0,0,0,0,["store.perawat-ruangan-store"],0,[data.store,"PerawatRuangan"],0));(Ext.cmd.derive("data.store.Permintaan",data.store.Store,{model:"data.model.Permintaan"},0,0,0,0,["store.permintaan-store"],0,[data.store,"Permintaan"],0));(Ext.cmd.derive("data.store.PermintaanDetil",data.store.Store,{model:"data.model.PermintaanDetil"},0,0,0,0,["store.permintaan-detil-store"],0,[data.store,"PermintaanDetil"],0));(Ext.cmd.derive("data.store.PetugasTindakanMedis",data.store.Store,{model:"data.model.PetugasTindakanMedis"},0,0,0,0,["store.petugas-tindakan-medis-store"],0,[data.store,"PetugasTindakanMedis"],0));(Ext.cmd.derive("data.store.PiutangPasien",data.store.Store,{model:"data.model.PiutangPasien"},0,0,0,0,["store.piutang-pasien-store"],0,[data.store,"PiutangPasien"],0));(Ext.cmd.derive("data.store.PiutangPerusahaan",data.store.Store,{model:"data.model.PiutangPerusahaan"},0,0,0,0,["store.piutang-perusahaan-store"],0,[data.store,"PiutangPerusahaan"],0));(Ext.cmd.derive("data.store.Ppk",data.store.Store,{model:"data.model.Ppk"},0,0,0,0,["store.ppk-store"],0,[data.store,"Ppk"],0));(Ext.cmd.derive("data.store.PurchaseOrder",data.store.Store,{model:"data.model.PurchaseOrder"},0,0,0,0,["store.purchase-order-store"],0,[data.store,"PurchaseOrder"],0));(Ext.cmd.derive("data.store.PurchaseOrderDetil",data.store.Store,{model:"data.model.PurchaseOrderDetil"},0,0,0,0,["store.purchase-order-detil-store"],0,[data.store,"PurchaseOrderDetil"],0));(Ext.cmd.derive("data.store.Referensi",data.store.Store,{model:"data.model.Referensi"},0,0,0,0,["store.referensi-store"],0,[data.store,"Referensi"],0));(Ext.cmd.derive("data.store.Reservasi",data.store.Store,{model:"data.model.Reservasi"},0,0,0,0,["store.reservasi-store"],0,[data.store,"Reservasi"],0));(Ext.cmd.derive("data.store.ReturLayananFarmasi",data.store.Store,{model:"data.model.ReturLayananFarmasi"},0,0,0,0,["store.returlayananfarmasi-store"],0,[data.store,"ReturLayananFarmasi"],0));(Ext.cmd.derive("data.store.ReturPenjualan",data.store.Store,{model:"data.model.ReturPenjualan"},0,0,0,0,["store.returpenjualan-store"],0,[data.store,"ReturPenjualan"],0));(Ext.cmd.derive("data.store.RincianTagihan",data.store.Store,{model:"data.model.RincianTagihan"},0,0,0,0,["store.rincian-tagihan-store"],0,[data.store,"RincianTagihan"],0));(Ext.cmd.derive("data.store.RincianTagihanPaket",data.store.Store,{model:"data.model.RincianTagihanPaket"},0,0,0,0,["store.rincian-tagihan-paket-store"],0,[data.store,"RincianTagihanPaket"],0));(Ext.cmd.derive("data.store.RuangKamar",data.store.Store,{model:"data.model.RuangKamar"},0,0,0,0,["store.ruang-kamar-store"],0,[data.store,"RuangKamar"],0));(Ext.cmd.derive("data.store.RuangKamarTidur",data.store.Store,{model:"data.model.RuangKamarTidur"},0,0,0,0,["store.ruangkamartidur-store"],0,[data.store,"RuangKamarTidur"],0));(Ext.cmd.derive("data.store.Ruangan",data.store.Store,{model:"data.model.Ruangan"},0,0,0,0,["store.ruangan-store"],0,[data.store,"Ruangan"],0));(Ext.cmd.derive("data.store.RuanganFarmasi",data.store.Store,{model:"data.model.RuanganFarmasi"},0,0,0,0,["store.ruangan-farmasi-store"],0,[data.store,"RuanganFarmasi"],0));(Ext.cmd.derive("data.store.RuanganKonsul",data.store.Store,{model:"data.model.RuanganKonsul"},0,0,0,0,["store.ruangan-konsul-store"],0,[data.store,"RuanganKonsul"],0));(Ext.cmd.derive("data.store.RuanganLab",data.store.Store,{model:"data.model.RuanganLab"},0,0,0,0,["store.ruangan-lab-store"],0,[data.store,"RuanganLab"],0));(Ext.cmd.derive("data.store.RuanganMutasi",data.store.Store,{model:"data.model.RuanganMutasi"},0,0,0,0,["store.ruangan-mutasi-store"],0,[data.store,"RuanganMutasi"],0));(Ext.cmd.derive("data.store.RuanganOperasi",data.store.Store,{model:"data.model.RuanganOperasi"},0,0,0,0,["store.ruangan-operasi-store"],0,[data.store,"RuanganOperasi"],0));(Ext.cmd.derive("data.store.RuanganRad",data.store.Store,{model:"data.model.RuanganRad"},0,0,0,0,["store.ruangan-rad-store"],0,[data.store,"RuanganRad"],0));(Ext.cmd.derive("data.store.RumusPerencanaan",data.store.Store,{model:"data.model.RumusPerencanaan"},0,0,0,0,["store.rumus-perencanaan-store"],0,[data.store,"RumusPerencanaan"],0));(Ext.cmd.derive("data.store.Satuan",data.store.Store,{model:"data.model.Satuan"},0,0,0,0,["store.satuan-store"],0,[data.store,"Satuan"],0));(Ext.cmd.derive("data.store.SmfRuangan",data.store.Store,{model:"data.model.SmfRuangan"},0,0,0,0,["store.smf-ruangan-store"],0,[data.store,"SmfRuangan"],0));(Ext.cmd.derive("data.store.Staff",data.store.Store,{model:"data.model.Staff"},0,0,0,0,["store.staff-store"],0,[data.store,"Staff"],0));(Ext.cmd.derive("data.store.StaffRuangan",data.store.Store,{model:"data.model.StaffRuangan"},0,0,0,0,["store.staff-ruangan-store"],0,[data.store,"StaffRuangan"],0));(Ext.cmd.derive("data.store.StokOpname",data.store.Store,{model:"data.model.StokOpname"},0,0,0,0,["store.stok-opname-store"],0,[data.store,"StokOpname"],0));(Ext.cmd.derive("data.store.StokOpnameDetil",data.store.Store,{model:"data.model.StokOpnameDetil"},0,0,0,0,["store.stok-opname-detil-store"],0,[data.store,"StokOpnameDetil"],0));(Ext.cmd.derive("data.store.SuratPenawaranHarga",data.store.Store,{model:"data.model.SuratPenawaranHarga"},0,0,0,0,["store.surat-penawaran-harga-store"],0,[data.store,"SuratPenawaranHarga"],0));(Ext.cmd.derive("data.store.SuratPenawaranHargaDetil",data.store.Store,{model:"data.model.SuratPenawaranHargaDetil"},0,0,0,0,["store.surat-penawaran-harga-detil-store"],0,[data.store,"SuratPenawaranHargaDetil"],0));(Ext.cmd.derive("data.store.SuratRujukan",data.store.Store,{model:"data.model.SuratRujukan"},0,0,0,0,["store.suratrujukan-store"],0,[data.store,"SuratRujukan"],0));(Ext.cmd.derive("data.store.Tagihan",data.store.Store,{model:"data.model.Tagihan"},0,0,0,0,["store.tagihan-store"],0,[data.store,"Tagihan"],0));(Ext.cmd.derive("data.store.TagihanPendaftaran",data.store.Store,{model:"data.model.TagihanPendaftaran"},0,0,0,0,["store.tagihan-pendaftaran-store"],0,[data.store,"TagihanPendaftaran"],0));(Ext.cmd.derive("data.store.TarifAdministrasi",data.store.Store,{model:"data.model.TarifAdministrasi"},0,0,0,0,["store.tarif-administrasi-store"],0,[data.store,"TarifAdministrasi"],0));(Ext.cmd.derive("data.store.TarifFarmasiPerKelas",data.store.Store,{model:"data.model.TarifFarmasiPerKelas"},0,0,0,0,["store.tariffarmasiperkelas-store"],0,[data.store,"TarifFarmasiPerKelas"],0));(Ext.cmd.derive("data.store.TarifO2",data.store.Store,{model:"data.model.TarifO2"},0,0,0,0,["store.tarifo2-store"],0,[data.store,"TarifO2"],0));(Ext.cmd.derive("data.store.TarifRuangRawat",data.store.Store,{model:"data.model.TarifRuangRawat"},0,0,0,0,["store.tarifruangrawat-store"],0,[data.store,"TarifRuangRawat"],0));(Ext.cmd.derive("data.store.TarifTindakan",data.store.Store,{model:"data.model.TarifTindakan"},0,0,0,0,["store.tariftindakan-store"],0,[data.store,"TarifTindakan"],0));(Ext.cmd.derive("data.store.TempatLahir",data.store.Store,{model:"data.model.TempatLahir"},0,0,0,0,["store.tempat-lahir-store"],0,[data.store,"TempatLahir"],0));(Ext.cmd.derive("data.store.TenagaMedis",data.store.Store,{model:"data.model.TenagaMedis"},0,0,0,0,["store.tenaga-medis-store"],0,[data.store,"TenagaMedis"],0));(Ext.cmd.derive("data.store.Tindakan",data.store.Store,{model:"data.model.Tindakan"},0,0,0,0,["store.tindakan-store"],0,[data.store,"Tindakan"],0));(Ext.cmd.derive("data.store.TindakanMedis",data.store.Store,{model:"data.model.TindakanMedis"},0,0,0,0,["store.tindakan-medis-store"],0,[data.store,"TindakanMedis"],0));(Ext.cmd.derive("data.store.TindakanRuangan",data.store.Store,{model:"data.model.TindakanRuangan"},0,0,0,0,["store.tindakan-ruangan-store"],0,[data.store,"TindakanRuangan"],0));(Ext.cmd.derive("data.store.TransaksiKasir",data.store.Store,{model:"data.model.TransaksiKasir"},0,0,0,0,["store.transaksi-kasir-store"],0,[data.store,"TransaksiKasir"],0));(Ext.cmd.derive("data.store.TreeStore",Ext.data.TreeStore,{config:{queryParams:undefined},setQueryParams:function(f){this.queryParams=f||{}},load:function(x){x=x||{};x.params=x.params||{};var u=this,y=x.node||u.getRoot(),v=x.callback,w=x.scope,f=u.getClearOnLoad(),g=y&&y.isRoot()&&y.isLoaded()&&f,z,e;if(u.queryParams!=undefined){Ext.Object.merge(x.params,u.queryParams)}if(!y){u.setRoot({expanded:true});return}if(y.data.expanded&&!g){y.data.loaded=false;if(f){y.data.expanded=false}x.callback=function(l,k,m){if(!f){y.collapse()}y.expand();Ext.callback(v,w,[l,k,m])}}x.id=y.getId();x=Ext.apply({filters:u.getFilters().items,sorters:u.getSorters().items,node:x.node||y,internalScope:u,internalCallback:u.onProxyLoad},x);u.lastOptions=Ext.apply({},x);x.isReload=g;z=u.createOperation("read",x);if(u.fireEvent("beforeload",u,z)!==false){u.loading=true;u.clearLoadTask();if(g){if(u.getClearRemovedOnLoad()){u.removedNodes.length=0}u.unregisterNode(y,true);y.childNodes.length=0;e=true}else{if(f){if(u.getTrackRemoved()&&u.getClearRemovedOnLoad()){u.clearRemoved(y)}y.removeAll(false)}}if(u.loading&&y){y.set("loading",true)}if(e){u.clearData(true);if(u.getRootVisible()){u.suspendEvents();u.add(y);u.resumeEvents()}}z.execute()}return u}},0,0,0,0,0,0,[data.store,"TreeStore"],0));(Ext.cmd.derive("data.store.TreeGroupLab",data.store.TreeStore,{model:"data.model.GroupLabTree"},0,0,0,0,["store.tree-grouplab-store"],0,[data.store,"TreeGroupLab"],0));(Ext.cmd.derive("data.store.TreeModules",data.store.TreeStore,{model:"data.model.TreeModules"},0,0,0,0,["store.tree-modules-store"],0,[data.store,"TreeModules"],0));(Ext.cmd.derive("data.store.TreeRuangan",data.store.TreeStore,{model:"data.model.RuanganTree"},0,0,0,0,["store.tree-ruangan-store"],0,[data.store,"TreeRuangan"],0));(Ext.cmd.derive("data.store.TujuanPasien",data.store.Store,{model:"data.model.TujuanPasien"},0,0,0,0,["store.tujuanpasien-store"],0,[data.store,"TujuanPasien"],0));(Ext.cmd.derive("data.store.Wilayah",data.store.Store,{model:"data.model.Wilayah"},0,0,0,0,["store.wilayah-store"],0,[data.store,"Wilayah"],0));Ext.define(null,{override:"Ext.form.field.Date",containFormatTime:false,minimalAddMinuteToMaxValue:5,initComponent:function(){var n=this,p=Ext.isString,o,q,m=webservice.app?webservice.app:false;n.app=m;o=n.minValue;q=n.maxValue;if(p(o)){n.minValue=n.parseDate(o)}if(p(q)){n.maxValue=n.parseDate(q)}if(n.containFormatTime){if(n.maxValue){n.maxValue=Ext.Date.add(n.maxValue,Ext.Date.MINUTE,n.minimalAddMinuteToMaxValue);if(n.minimalAddMinuteToMaxValue>0){n.maxValue.setSeconds(59)}}}n.disabledDatesRE=null;n.initDisabledDays();n.callParent()},createPicker:function(){var k=this,g=Ext.String.format;return new Ext.picker.Date({id:k.id+"-picker",pickerField:k,floating:true,preventRefocus:true,hidden:true,minDate:k.minValue,maxDate:k.maxValue,disabledDatesRE:k.disabledDatesRE,disabledDatesText:k.disabledDatesText,ariaDisabledDatesText:k.ariaDisabledDatesText,disabledDays:k.disabledDays,disabledDaysText:k.disabledDaysText,ariaDisabledDaysText:k.ariaDisabledDaysText,containFormatTime:k.containFormatTime,format:k.format,showToday:k.showToday,startDay:k.startDay,minText:g(k.minText,k.formatDate(k.minValue)),ariaMinText:g(k.ariaMinText,k.formatDate(k.minValue,k.ariaFormat)),maxText:g(k.maxText,k.formatDate(k.maxValue)),ariaMaxText:g(k.ariaMaxText,k.formatDate(k.maxValue,k.ariaFormat)),listeners:{scope:k,select:k.onSelect,tabout:k.onTabOut},keyNavConfig:{esc:function(){k.inputEl.focus();k.collapse()}}})},getErrors:function(H){H=arguments.length>0?H:this.formatDate(this.processRawValue(this.getRawValue()));var z=this,I=Ext.String.format,y=Ext.Date.clearTime,J=[],K=z.disabledDays,D=z.disabledDatesRE,L=z.minValue?Ext.Date.clone(z.minValue):z.minValue,A=z.maxValue?Ext.Date.clone(z.maxValue):z.maxValue,B=K?K.length:0,C=0,G,F,x,E;if(!z.containFormatTime){L=L?y(L):L;A=A?y(A):A}trimmed=z.allowOnlyWhitespace?H:Ext.String.trim(H);if(trimmed.length<1){if(!z.allowBlank){J.push(z.blankText);return J}}G=H;H=z.parseDate(H);if(!H){J.push(I(z.invalidText,G,Ext.Date.unescapeFormat(z.format)));return J}E=H.getTime();if(L&&E<L.getTime()){J.push(I(z.minText,z.formatDate(L)))}if(A&&E>A.getTime()){J.push(I(z.maxText,z.formatDate(A)))}if(K){x=H.getDay();for(;C<B;C++){if(x===K[C]){J.push(z.disabledDaysText);break}}}F=z.formatDate(H);if(D&&D.test(F)){J.push(I(z.disabledDatesText,F))}return J},onExpand:function(){var f=this.rawDate;this.picker.setValue(Ext.isDate(f)?f:this.getSysdate())},getSysdate:function(){var k=this;if(k.app){var g=Ext.isDate(k.app.sysdate)?Ext.Date.clone(k.app.sysdate):new Date();if(g){return g}}return new Date()},isValid:function(){var n=this,o=n.disabled,l=n.forceValidation||!o,m=n.processRawValue(n.getRawValue());if(n.allowBlank){return true}return l?n.validateValue(m):o}});Ext.define(null,{override:"Ext.form.field.Number",tooltipType:"qtip",defaultAlignTooltip:"tl-tr",setTooltip:function(k,m){var l=this;if(l.rendered){if(!m||!k){l.clearTip()}if(k){if(Ext.quickTipsActive&&Ext.isObject(k)){Ext.tip.QuickTipManager.register(Ext.apply({target:l.el.id,floating:true,defaultAlign:l.defaultAlignTooltip},k));l.tooltip=k}else{l.el.dom.setAttribute(l.getTipAttr(),k)}}}else{l.tooltip=k}return l},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},clearTip:function(){var g=this,k=g.el;if(Ext.quickTipsActive&&Ext.isObject(g.tooltip)){Ext.tip.QuickTipManager.unregister(k)}else{k.dom.removeAttribute(g.getTipAttr())}},onRender:function(){var f=this;f.callParent();if(f.tooltip){f.setTooltip(f.tooltip,true)}else{if(f.fieldLabel==undefined){if(f.emptyText){f.setTooltip(f.emptyText.replace("[","").replace("]","").trim(),true)}}}},doDestroy:function(){var f=this;if(f.rendered){f.clearTip()}f.callParent()}});Ext.define(null,{override:"Ext.form.field.Text",tooltipType:"qtip",defaultAlignTooltip:"tl-tr",setTooltip:function(k,m){var l=this;if(l.rendered){if(!m||!k){l.clearTip()}if(k){if(Ext.quickTipsActive&&Ext.isObject(k)){Ext.tip.QuickTipManager.register(Ext.apply({target:l.el.id,floating:true,defaultAlign:l.defaultAlignTooltip},k));l.tooltip=k}else{l.el.dom.setAttribute(l.getTipAttr(),k)}}}else{l.tooltip=k}return l},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},clearTip:function(){var g=this,k=g.el;if(Ext.quickTipsActive&&Ext.isObject(g.tooltip)){Ext.tip.QuickTipManager.unregister(k)}else{k.dom.removeAttribute(g.getTipAttr())}},onRender:function(){var f=this;f.callParent();if(f.tooltip){f.setTooltip(f.tooltip,true)}else{if(f.fieldLabel==undefined){if(f.emptyText){f.setTooltip(f.emptyText.replace("[","").replace("]","").trim(),true)}}}},doDestroy:function(){var f=this;if(f.rendered){f.clearTip()}f.callParent()}});Ext.define(null,{override:"Ext.picker.Date",containFormatTime:false,initComponent:function(){var l=this,m=Ext.Date.clearTime,k=webservice.app?webservice.app:false;l.app=k;l.selectedCls=l.baseCls+"-selected";l.disabledCellCls=l.baseCls+"-disabled";l.prevCls=l.baseCls+"-prevday";l.activeCls=l.baseCls+"-active";l.cellCls=l.baseCls+"-cell";l.nextCls=l.baseCls+"-prevday";l.todayCls=l.baseCls+"-today";if(!l.format){l.format=Ext.Date.defaultFormat}if(!l.dayNames){l.dayNames=Ext.Date.dayNames}l.dayNames=l.dayNames.slice(l.startDay).concat(l.dayNames.slice(0,l.startDay));if(l.value){if(!l.containFormatTime){m(l.value,true)}}else{if(l.containFormatTime){l.value=l.getSysdate()}else{l.value=m(l.getSysdate())}}l.initDisabledDays()},setValue:function(f){this.value=this.containFormatTime?(f?f:this.getSysdate()):(Ext.Date.clearTime(f||this.getSysdate(),true));return this.update(this.value)},beforeRender:function(){var m=this,n=Ext.String.htmlEncode,l=new Array(m.numDays),o=Ext.Date.format(m.getSysdate(),m.format);if(m.padding&&!m.width){m.cacheWidth()}m.monthBtn=new Ext.button.Split({ownerCt:m,ownerLayout:m.getComponentLayout(),text:"",tooltip:m.monthYearText,tabIndex:-1,ariaRole:"presentation",listeners:{click:m.doShowMonthPicker,arrowclick:m.doShowMonthPicker,scope:m}});if(m.showToday){m.todayBtn=new Ext.button.Button({ui:m.footerButtonUI,ownerCt:m,ownerLayout:m.getComponentLayout(),text:Ext.String.format(m.todayText,o),tooltip:Ext.String.format(m.todayTip,o),tooltipType:"title",tabIndex:-1,ariaRole:"presentation",handler:m.selectToday,scope:m})}m.callParent();Ext.applyIf(m,{renderData:{}});Ext.apply(m.renderData,{dayNames:m.dayNames,showToday:m.showToday,prevText:n(m.prevText),nextText:n(m.nextText),todayText:n(m.todayText),ariaMinText:n(m.ariaMinText),ariaMaxText:n(m.ariaMaxText),ariaDisabledDaysText:n(m.ariaDisabledDaysText),ariaDisabledDatesText:n(m.ariaDisabledDatesText),days:l});m.protoEl.unselectable()},selectToday:function(){var k=this,m=k.todayBtn,l=k.handler;if(m&&!m.disabled){k.setValue(k.containFormatTime?k.getSysdate():Ext.Date.clearTime(k.getSysdate()));k.fireEvent("select",k,k.value);if(l){Ext.callback(l,k.scope,[k,k.value],null,k,k)}k.onSelect()}return k},fullUpdate:function(aa){var R=this,ao=R.cells.elements,ap=R.textNodes,O=R.disabledCellCls,ae=Ext.Date,ah=0,U=0,aj=+ae.clearTime(aa,true),ac=+ae.clearTime(R.getSysdate()),Q=R.minDate?ae.clearTime(R.minDate,true):Number.NEGATIVE_INFINITY,ai=R.maxDate?ae.clearTime(R.maxDate,true):Number.POSITIVE_INFINITY,W=R.disabledDatesRE,S=R.disabledDatesText,N=R.disabledDays?R.disabledDays.join(""):false,Y=R.disabledDaysText,af=R.format,ak=ae.getDaysInMonth(aa),X=ae.getFirstDateOfMonth(aa),an=X.getDay()-R.startDay,ad=ae.add(aa,ae.MONTH,-1),Z=R.ariaTitleDateFormat,al,V,ar,P,ag,ab,aq,am,T;if(an<0){an+=7}ak+=an;al=ae.getDaysInMonth(ad)-an;V=new Date(ad.getFullYear(),ad.getMonth(),al,R.initHour);if(R.showToday){P=ae.clearTime(R.getSysdate());ar=(P<Q||P>ai||(W&&af&&W.test(ae.dateFormat(P,af)))||(N&&N.indexOf(P.getDay())!==-1));R.todayDisabled=ar;if(!R.disabled){R.todayBtn.setDisabled(ar)}}ag=function(f,g){var k=ao[f],e=[];if(!k.hasAttribute("id")){k.setAttribute("id",R.id+"-cell-"+f)}T=+ae.clearTime(V,true);k.firstChild.dateValue=T;k.setAttribute("aria-label",ae.format(V,Z));k.removeAttribute("aria-describedby");k.removeAttribute("data-qtip");if(T===ac){g+=" "+R.todayCls;e.push(R.id+"-todayText")}if(T===aj){R.activeCell=k;R.eventEl.dom.setAttribute("aria-activedescendant",k.id);k.setAttribute("aria-selected",true);g+=" "+R.selectedCls;R.fireEvent("highlightitem",R,k)}else{k.setAttribute("aria-selected",false)}if(T<Q){g+=" "+O;e.push(R.id+"-ariaMinText");k.setAttribute("data-qtip",R.minText)}else{if(T>ai){g+=" "+O;e.push(R.id+"-ariaMaxText");k.setAttribute("data-qtip",R.maxText)}else{if(N&&N.indexOf(V.getDay())!==-1){k.setAttribute("data-qtip",Y);e.push(R.id+"-ariaDisabledDaysText");g+=" "+O}else{if(W&&af){am=ae.dateFormat(V,af);if(W.test(am)){k.setAttribute("data-qtip",S.replace("%0",am));e.push(R.id+"-ariaDisabledDatesText");g+=" "+O}}}}}if(e.length){k.setAttribute("aria-describedby",e.join(" "))}k.className=g+" "+R.cellCls};R.eventEl.dom.setAttribute("aria-busy","true");for(;ah<R.numDays;++ah){if(ah<an){ab=(++al);aq=R.prevCls}else{if(ah>=ak){ab=(++U);aq=R.nextCls}else{ab=ah-an+1;aq=R.activeCls}}ap[ah].innerHTML=ab;V.setDate(V.getDate()+1);ag(ah,aq)}R.eventEl.dom.removeAttribute("aria-busy");R.monthBtn.setText(Ext.Date.format(aa,R.monthYearFormat))},handleDateClick:function(t,p){var e=this,o=e.handler;t.stopEvent();if(!e.disabled&&p.dateValue&&!Ext.fly(p.parentNode).hasCls(e.disabledCellCls)){var s=new Date(p.dateValue),q=e.getSysdate();if(s.getFullYear()==q.getFullYear()&&s.getMonth()==q.getMonth()&&s.getDate()==q.getDate()){s=q}e.setValue(s);e.fireEvent("select",e,e.value);if(o){Ext.callback(o,e.scope,[e,e.value],null,e,e)}e.onSelect()}},getSysdate:function(){var k=this;if(k.app){var g=Ext.isDate(k.app.sysdate)?Ext.Date.clone(k.app.sysdate):new Date();if(g){return g}}return new Date()}});Ext.define(null,{override:"Ext.view.Table",onFocusEnter:function(u){var v=this,q=u.fromComponent,e=v.getNavigationModel(),p,s,t;if(v.containsFocus){return Ext.Component.prototype.onFocusEnter.call(v,u)}if(v.actionableMode){if(v.actionPosition){v.el.dom.setAttribute("tabIndex","-1");v.cellFocused=true;return}v.ownerGrid.setActionableMode(false)}u=u.event;if(!v.cellFocused&&v.all.getCount()&&v.dataSource.getCount()){t=u.getTarget();if(t===v.el.dom){if(v.lastFocused==="scrollbar"){u.relatedTarget.focus();return}try{p=v.getDefaultFocusPosition(q)}catch(u){p=false}if(!p){u.stopEvent();v.el.focus();return}t=null}else{if(t===v.tabGuardEl){p=new Ext.grid.CellContext(v).setPosition(v.all.endIndex,v.getVisibleColumnManager().getColumns().length-1);t=null}else{if(s=u.getTarget(v.getCellSelector())){if(t===s){p=new Ext.grid.CellContext(v).setPosition(v.getRecord(t),v.getHeaderByCell(s));t=null}else{if(t&&Ext.fly(t).isFocusable()&&v.el.contains(t)){p=new Ext.grid.CellContext(v).setPosition(v.getRecord(t),v.getHeaderByCell(s))}}}}}}if(p){v.toggleChildrenTabbability(false);if(t){if(v.ownerGrid.setActionableMode(true,p)){p=null;Ext.fly(t).focus()}}if(p){e.setPosition(p,null,u,null,true)}v.cellFocused=v.el.contains(Ext.Element.getActiveElement());if(v.cellFocused){v.el.dom.setAttribute("tabIndex","-1")}}Ext.Component.prototype.onFocusEnter.call(v,u)},privates:{collectNodes:function(f){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},setActionableMode:function(x,z){var v=this,E=v.getNavigationModel(),C,G=v.grid.actionables,y=G.length,B,A,D,F=false,w,H;if(v.actionableMode===x){if(!x||z.isEqual(v.actionPosition)){return false}}if(x){if(z&&(z.view===v||(z.view===(w=v.lockingPartner)&&w.actionableMode))){F=v.activateCell(z)}return F}else{C=Ext.fly(Ext.Element.getActiveElement());if(v.el.contains(C)&&!Ext.fly(C).is(v.getCellSelector())){A=(v.actionPosition&&v.actionPosition.record)||v.getRecord(C);D=v.getHeaderByCell(C.findParent(v.getCellSelector()));H=z&&z.getCell();if(!z||!H){z=new Ext.grid.CellContext(v).setPosition(A||0,D||0);H=z.getCell()}if(H.focus){H.focus()}else{return false}C=Ext.fly(Ext.Element.getActiveElement());if(!(v.el.contains(C)&&C.is(v.getCellSelector()))){z=null}}for(B=0;B<y;B++){if(G[B].deactivate){G[B].deactivate()}}if(v.actionRow){v.actionRow.saveTabbableState({skipSelf:true,includeSaved:false})}if(v.destroyed){return false}v.actionableMode=v.ownerGrid.actionableMode=false;v.actionPosition=E.actionPosition=v.actionRow=null;if(z){E.setPosition(z)}}},activateCell:function(z){var w=this,x=z.view!==w?w.lockingPartner:null,H=w.grid.actionables,y=H.length,D=w.getNavigationModel(),A,E,C,F,B,G,v;z=z.clone();A=z.record;z.view.grid.ensureVisible(A,{column:z.column});C=w.all.item(z.rowIdx);if(w.actionPosition){E=Ext.get(w.all.item(w.actionPosition.rowIdx,true));if(E&&C!==E){E.saveTabbableState({skipSelf:true,includeSaved:false})}}w.activating=true;if(!x){F=z.getCell();w.actionPosition=z;for(B=0;B<y;B++){G=G||H[B].activateCell(z,null,true)}}if(x||(F&&(F.restoreTabbableState(true).length|(v=F.findTabbableElements()).length))||G){for(B=0;B<y;B++){if(H[B].activateRow){H[B].activateRow(C)}}if(x||v.length){C.restoreTabbableState(true);if(x){w.actionableMode=true;w.actionPosition=null;w.activating=false;return true}if(v){w.actionRow=C;w.actionableMode=w.ownerGrid.actionableMode=true;D.setPosition();D.actionPosition=w.actionPosition=z;Ext.fly(v[0]).focus();w.activating=false;return true}}}w.activating=false},suspendActionableMode:function(){var l=this,n=l.grid.actionables,o=n.length,m;for(m=0;m<o;m++){n[m].suspend()}},resumeActionableMode:function(q){var n=this,p=n.grid.actionables,s=p.length,o,t;n.toggleChildrenTabbability(false);for(o=0;o<s;o++){t=t||p[o].resume(q)}if(!t){n.activateCell(q)}},onRowExit:function(w,z,s,x,y){var u=this,t=x?"nextSibling":"previousSibling",v=u.lockingPartner,A,B;if(v&&v.grid.isVisible()){A=u.all.indexOf(z);if(x){B=0;if(u.isNormalView){A++}}else{B=v.getVisibleColumnManager().getColumns().length-1;if(u.isLockedView){A--}}u.actionPosition=null;u=v;s=u.all.item(A,true)}if(!u.hasListeners.beforerowexit||u.fireEvent("beforerowexit",u,w,z,s,x)!==false){u.findFirstActionableElement(w,s,t,x,y)}else{return false}},findFirstActionableElement:function(F,Q,D,L,N){var B=this,T=B.getVisibleColumnManager().getColumns(),C=T.length,M=B.grid.actionables,O=M.length,K=new Ext.grid.CellContext(B),H,S,G,I,R,J,E,P;if(Q){K.setRow(Q);for(G=0;G<O;G++){if(M[G].activateRow){M[G].activateRow(Q)}}for(G=(L?0:C-1);(L?G<C:G>-1)&&!S;G=G+(L?1:-1)){R=T[G];K.setColumn(R);H=Ext.fly(Q).down(K.column.getCellSelector());for(I=0;I<O;I++){J=J||M[I].activateCell(K)}H=K.getCell();if(H){Q=K.getNode(true);H.restoreTabbableState(true);if((E=H.findTabbableElements()).length||J){P=B.actionRow;B.actionRow=Ext.get(Q);B.actionRow.restoreTabbableState(true);S=E[L?0:E.length-1]}}}if(S){B.actionPosition=B.getNavigationModel().actionPosition=K;Ext.fly(S).focus(Ext.asyncFocus?1:0);if(P&&Q!==P.dom){P.saveTabbableState({skipSelf:true,includeSaved:false})}}else{B.onRowExit(F,Q,B.all.item(K.rowIdx+(L?1:-1)),L,N)}}else{if(!N){B.grid.ensureVisible(L?0:B.dataSource.getCount()-1,{callback:function(e,g,f){if(e){B.findFirstActionableElement(F,f,D,L,true)}else{B.ownerGrid.setActionableMode(false)}}})}else{B.ownerGrid.setActionableMode(false)}}},stretchHeight:function(p){var n=this,q=n.getScrollable(),o=n.stretchers,m;if(p&&n.tabGuardEl){if(o){o[0].style.marginTop=o[1].style.marginTop=n.el.dom.style.height=0}n.el.dom.style.height=q.constrainScrollRange(p)+"px";m=p-n.el.dom.offsetHeight;if(m>0){n.el.dom.style.height="";o=n.getStretchers();m=p-n.el.dom.offsetHeight;if(m>0){o[0].style.marginTop=q.constrainScrollRange(m)+"px";m=p-n.el.dom.offsetHeight;if(m>0){o[1].style.marginTop=Math.min(m,q.maxSpacerMargin||0)+"px"}}}}},getStretchers:function(){var k=this,m=k.stretchers,l;if(m){k.el.appendChild(m)}else{l={cls:"x-scroller-spacer",style:"position:relative"};m=k.stretchers=k.el.appendChild([l,l],true)}return m}}});
/*!
* Ext JS Library
* Copyright(c) 2006-2015 Sencha Inc.
* licensing@sencha.com
* http://www.sencha.com/license
*/
(Ext.cmd.derive("com.Audio",Ext.panel.Panel,{layout:"fit",autoplay:false,controls:true,loop:false,volume:1,html:"",src:"",autoload:false,preload:"none",bodyStyle:"background-color:#000;color:#fff",tpl:['<audio id="{id}-audio" ','<tpl if="controls">controls</tpl> ','<tpl if="autoplay">autoplay</tpl> ','<tpl if="loop">loop</tpl> ','volume="{volume}" ','preload="{preload}" ','style="{style}">','<source src="{src}"/>',"{html}","</audio>"],initComponent:function(){var o=this,n,q,s,p;if(o.fallbackHTML){n=o.fallbackHTML}else{n="Your browser does not support HTML5 Audio. ";if(Ext.isChrome){n+="Upgrade Chrome."}else{if(Ext.isGecko){n+="Upgrade to Firefox 3.5 or newer."}else{var t='<a href="http://www.google.com/chrome">Chrome</a>';n+='Please try <a href="http://www.mozilla.com">Firefox</a>';if(Ext.isIE){n+=", "+t+' or <a href="http://www.apple.com/safari/">Safari</a>.'}else{n+=" or "+t+"."}}}}o.fallbackHTML=n;s=o.data=Ext.copyTo({tag:"audio",html:n},o,"id,autoplay,controls,loop,volume,preload,style,srcs");if(o.autoplay){s.autoplay=o.autoplay}if(o.controls){s.controls=o.controls}if(o.loop){s.loop=o.loop}if(o.volume){s.volume=o.volume}if(o.preload){s.preload=o.preload}if(o.src){s.src=o.src}Ext.panel.Panel.prototype.initComponent.call(this)},afterRender:function(){var f=this;Ext.panel.Panel.prototype.afterRender.call(this);f.audio=f.el.getById(f.id+"-audio");el=f.audio.dom;f.supported=(el&&el.tagName.toLowerCase()=="audio");if(f.supported){f.audio.on("error",f.onAudioError,f);el.addEventListener("ended",function(e){f.fireEvent(e.type,e)});if(f.autoload){f.audio.load()}}},getFallback:function(){return'<h1 style="background-color:#ff4f4f;padding: 10px;">'+this.fallbackHTML+"</h1>"},onAudioError:function(){var f=this;f.audio.remove();f.supported=false;f.body.createChild(f.getFallback())},play:function(){this.audio.dom.play()},pause:function(){this.audio.dom.pause()},load:function(){this.audio.dom.load()},setSrc:function(f){this.audio.dom.src=f},destroy:function(){var k=this,l=k.audio;if(k.supported&&l){var m=l.dom;if(m&&m.pause){m.pause()}l.dom.removeEventListener("ended",function(e){});l.remove();k.audio=null}Ext.panel.Panel.prototype.destroy.call(this)}},0,["com-audio"],["component","box","container","panel","com-audio"],{component:true,box:true,container:true,panel:true,"com-audio":true},["widget.com-audio"],0,[com,"Audio"],0));(Ext.cmd.derive("com.ICom",Ext.Mixin,{showCloseButton:false,fullscreenEnabled:false,closeButtonConfig:undefined,fullscreenConfig:undefined,titleFieldConfig:undefined,menuConfig:undefined,initHeader:function(){var y=this,D=y.getViewModel(),v=y.title?y.title:y.header?(y.header.title?y.header.title:""):"",A={enabled:false,buttonConfig:undefined,width:250,expand:true,treelist:{},menus:[]},B={xtype:"title",text:v,margin:"0 1 0 3"},z={xtype:"button",buttonType:"close",margin:"0 0 0 1",ui:"soft-red",tooltip:"Tutup "+v,iconCls:"x-fa fa-close",hidden:!y.showCloseButton,handler:function(){y.fireEvent("close");if(Ext.getClassName(y.ownerCt)=="Ext.window.Window"){try{if(y.ownerCt){y.ownerCt.close()}}catch(e){}}}},E={xtype:"button",margin:"0 0 0 1",btnFullscreen:true,bind:{tooltip:"{fullscreen ? 'Exit Full Screen' : 'Full Screen'}",iconCls:"{fullscreen ? 'x-fa fa-compress' : 'x-fa fa-expand'}"},hidden:!y.fullscreenEnabled,handler:function(){if(!D.get("fullscreen")){y.ownerCtBefore=y.ownerCt;y.openDialog("",true,0,0,y,function(e,f){D.set("fullscreen",true);y.win=f;f.fireEvent("fullscreen",y);f.on({beforeclose:function(){D.set("fullscreen",false);y.win.items.clear();y.ownerCtBefore.add(y);f.fireEvent("exitfullscreen",y)}})})}else{if(y.win){y.win.close()}}}};y.menuConfig=Ext.apply(A,y.menuConfig);if(y.titleFieldConfig){B=Ext.apply(B,y.titleFieldConfig)}var u={iconCls:"x-fa fa-navicon",scope:y,tooltip:"Menu",hidden:!y.menuConfig.enabled,handler:"onMenuBarClick"};if(y.menuConfig.buttonConfig){u=Ext.apply(u,y.menuConfig.buttonConfig);if(u.fontColorCls){u.iconCls=u.iconCls+" "+u.fontColorCls}}y.titleField=Ext.create("Ext.panel.Title",B);var C=y.menuConfig.enabled?{xtype:"toolbar",padding:"0 5 0 5",defaults:{margin:"0 1 0 0"},items:[u,y.titleField,"->"]}:{items:[]};if(y.fullscreenConfig){E=Ext.apply(E,y.fullscreenConfig);if(E.fontColorCls){E.bind.iconCls="{fullscreen ? 'x-fa fa-compress "+E.fontColorCls+"' : 'x-fa fa-expand "+E.fontColorCls+"'}"}}if(y.closeButtonConfig){z=Ext.apply(z,y.closeButtonConfig)}if(y.header){if(y.header.items){y.headerItemsBefore=y.header.items;Ext.Array.each(y.headerItemsBefore,function(e){C.items.push(e)})}delete y.header.items;C=Ext.apply(C,y.header);y.header.items=y.headerItemsBefore}if(y.fullscreenEnabled){C.items.push(E)}if(y.showCloseButton){C.items.push(z)}if(C.items.length>0){y.header=C}if(y.menuConfig.enabled){var x=y.layout,F=y.items,w={xtype:"treelist",ui:"navigation",expanderFirst:false,expanderOnly:false,cls:"x-nav-border",reference:"windownav",selectOnExpander:true,width:y.menuConfig.expand?y.menuConfig.width:0,scrollable:"y",bind:{store:"{storeMenu}"},listeners:{scope:y,selectionchange:"onNavSelectionChange"}};w=Ext.apply(w,y.menuConfig.treelist);y.layout={type:"border"};y.bodyPadding="0px";y.border=false;y.items=[{region:"west",reference:"treelistcontainer",split:{size:2},layout:{type:"vbox",align:"stretch"},border:false,scrollable:"y",items:[w]},{xtype:"container",reference:"contentitem",region:"center",layout:"card",items:F}]}},setMenus:function(o){var l=this,m=l.down("treelist"),n=l.getViewModel();if(l.menuConfig){l.menuConfig.menus=o;n.set("storeMenu",Ext.create("Ext.data.TreeStore",{root:{expanded:true,children:l.menuConfig.menus}}));(new Ext.util.DelayedTask(function(){var e=m.getStore();m.setSelection(e.getAt(0))})).delay(500)}},onMenuBarClick:function(){var k=this,l=k.down("[reference=treelistcontainer]"),m=k.down("treelist");content=k,width=l.getWidth()>0?0:k.menuConfig.width;Ext.suspendLayouts();l.setWidth(width);Ext.resumeLayouts();content.updateLayout()},onNavSelectionChange:function(t,B){var v=this,C=v.getViewModel(),w=v.down("[reference=contentitem]"),u=null,y=B.get("text"),z=v.titleField.getText(),D=B.get("options")||{},x=B.get("record")||{};if(B){var A=B.get("className")||"Ext.panel.Panel";u=w.getComponent(B.get("idClassName"));z=z.indexOf("-")<0?z:z.substring(0,z.indexOf("-")).trim();v.titleField.setText(z+" - "+y);if(u!=null){w.getLayout().setActiveItem(u);return}D.itemId=B.get("idClassName");u=Ext.create(A,D);Ext.suspendLayouts();w.add(u);w.getLayout().setActiveItem(u);if(u.loadStore){u.loadStore(x)}else{if(u.load){u.load(x)}}Ext.resumeLayouts()}},notifyMessage:function(g,k){var k=k||"danger-blue";Ext.toast({html:g,headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:k,align:"t"})},cetak:function(q,n,s){var p=this,o=q.NAME.split(".");rptName=o[o.length-1];if(rptName.indexOf("-")==-1){rptName=p.kode+rptName;o[o.length-1]=rptName;q.NAME=o.join(".")}if(!p.app){return}q.ALLOW_DOWNLOAD=q.ALLOW_DOWNLOAD?q.ALLOW_DOWNLOAD:false;if(p.getPropertyConfig(21)=="TRUE"&&!q.ALLOW_DOWNLOAD){q.TYPE="Pdf";q.EXT="pdf"}var t=new Ext.util.DelayedTask(function(){if(n){p.app.requestPrint(q,n)}else{if(!q.REQUEST_FOR_PRINT){p.app.requestPrint(q,function(e){p.printPreview(q.TITLE?q.TITLE:q.NAME,e)})}else{p.app.requestPrint(q,n)}}delete t});t.delay(s?s:0)},openDialog:function(y,x,E,G,A,H,D,C,v){var z=this,B=(E==0&&G==0)?true:false,w=C?true:false,F={modal:x,closable:true,maximized:B,animateTarget:D,constrain:true,layout:"fit",minWidth:350,minHeight:150,border:w,width:E,height:G,items:[A]};if(y!=""){F.title=y;if(v){F.iconCls=v}}else{F.header=false;delete F.animateTarget}return z.openWindow(F,H)},openWindow:function(p,m){var o=this,q={modal:true,maximized:true,constrain:false,layout:"fit"};q=Ext.apply(q,p);var n=Ext.create("Ext.Window",q);n.on("show",function(){if(Ext.isFunction(m)){m("onshow",n)}});n.show();return n},printPreview:function(k,m){var l=this;l.openWindow({title:k,iconCls:"x-fa fa-print",ui:"window-green",header:{margin:0,padding:"5 10 5 10",items:[{xtype:"button",iconCls:"x-fa fa-refresh",ui:"soft-green",tooltip:"Perbarui Report",handler:function(e){e.ownerCt.ownerCt.fireEvent("reload")}}]},modal:true,closable:true,maximized:true,constrain:true,layout:"fit",border:false,items:[{xtype:"panel"}]},function(e,o){var g=o.down("panel"),f="<iframe style='width: 100%; height: 100%' src='"+m+"'></iframe>";g.update(f);o.on({reload:function(){g.update(f)}})})},printList:function(q,n,m){var p=this,o={title:"Daftar Print",iconCls:"x-fa fa-list",ui:"window-green",header:{margin:0,padding:"10 15 10 15"},modal:true,maximized:false,closable:true,constrain:true,layout:"fit",border:false,buttons:[{text:"Cetak Semua",iconCls:"x-fa fa-print",handler:function(g){var f=g.ownerCt.ownerCt,e=0;Ext.Array.each(n,function(k){var l=q?(q.maxDelay||500):500;if(k.TIPE!=1&&k.CETAK){k.DATA.MULTI_PRINT=true;p.cetak(k.DATA,null,e*l);e++}});f.fireEvent("cetaklist",n)}}]};o=Ext.apply(o,q);o.items=[{xtype:"com-grid",viewModel:{stores:{store:{fields:["ID","NAMA","TIPE","DATA","KETERANGAN","CETAK"],data:n}}},columns:[{xtype:"rownumberer",text:"No",width:40},{text:"Nama",flex:1,dataIndex:"NAMA"},{text:"Keterangan",flex:1,dataIndex:"KETERANGAN"},{xtype:"widgetcolumn",text:"#",align:"center",widget:{xtype:"button",iconCls:"x-fa fa-print",text:"Cetak",handler:function(e){var g=e.getWidgetColumn().ownerCt.ownerCt.ownerCt,f=e.getWidgetRecord();if(f.get("TIPE")!=1&&f.get("CETAK")){p.cetak(f.get("DATA"))}g.fireEvent("cetaklist",f)}},onWidgetAttach:function(e,g,f){g.setHidden(f.get("CETAK")==0)}}]}];p.openWindow(o,m)},getPenggunaRuangan:function(){var f=this;if(f.app){return f.app.penggunaRuangan?f.app.penggunaRuangan:[]}return[]},getPrivPencarian:function(){var f=this;if(f.app){return f.app.privPencarian?f.app.privPencarian:[]}return[]},getPropertyConfig:function(m){var p=this,n=p.app.pc,o="FALSE";for(var q=0;q<n.length;q++){if(n[q].ID==m){o=n[q].VALUE;break}}return o},getSysdate:function(){var k=this;if(k.app){var g=Ext.isDate(k.app.sysdate)?Ext.Date.clone(k.app.sysdate):new Date();if(g){return g}}return new Date()},showMessageBox:function(k){var g=k?(k.ui?{ui:k.ui,constrain:true}:{}):{};g.header={padding:"10 5 10 5"};if(k.header){g.header=k.header}dialog=Ext.create("Ext.window.MessageBox",g);dialog.show(k);return dialog},setTitleField:function(f){if(this.titleField){if(this.titleField.setText){this.titleField.setText(f)}if(this.titleField.text){this.titleField.text=f}}},getReferensi:function(p,n,t){var s=p?(p.REFERENSI?p.REFERENSI:{}):{},o="",q=null;Ext.Object.each(s,function(f,e){if(f==n){Ext.Object.each(e,function(k,g){if(k==t){o=g;return}});q=e;return}});return t==undefined?q:o},replaceAll:function(m,l,k){m=String(m).replace(l,k);if(m.indexOf(l)>-1){return this.replaceAll(m,l,k)}else{return m}}},0,0,0,0,0,0,[com,"ICom"],0));(Ext.cmd.derive("com.Form",Ext.form.Panel,{model:"Ext.data.Model",kode:"",viewModel:{data:{fullscreen:false,formConfig:{viewOnly:false,simpan:true,cetak:true}},stores:{storeMenu:{type:"tree"}}},bodyPadding:5,onLoadRecord:Ext.emptyFn,onBeforeGetRecord:Ext.emptyFn,onBeforeCallParentInitComponent:Ext.emptyFn,initComponent:function(){var m=this,o=m.getViewModel(),l=webservice.app?webservice.app:false,n=Ext.getStore("instansi");n=n?n.getAt(0):null;if(n){m.kode=n.get("REFERENSI").PPK.KODE}m.kode=m.kode+(m.kode==""?m.kode:"-");m.app=l;m.initHeader();m.onBeforeCallParentInitComponent(m);Ext.form.Panel.prototype.initComponent.apply(this,arguments)},loadRecord:function(e){var o=this;try{var p=o.getForm(),q=o.getViewModel();if(p){if(p.loadRecord){if(p.getFields()){p=p.loadRecord(e)}}if(e){o.onLoadRecord(o,e);if(q){q.set("record",e)}}}return p}catch(n){o.onLoadRecord(o,e)}},load:function(f){return this.loadRecord(f)},createRecord:function(l){var k=this,l=l||{},m=Ext.create(k.model,l);k.loadRecord(m)},setFormConfig:function(m){var k=this,l=k.getViewModel();cnf=l.get("formConfig")||{};cnf=Ext.apply(cnf,m);l.set("formConfig",cnf);l.notify()},getRecord:function(){var m=this,l=m.getForm().getValues(),k=m.getViewModel().get("record");if(m.getForm().isValid()){m.onBeforeGetRecord(m,l);k.set(l);return k}return false},focus:function(k,l,m){if(Ext.isBoolean(k)){}else{l=l||false;m=m||100;this.down("[name="+k+"]").focus(l,m)}},save:function(q,n,m){var o=this,p=o.getRecord(),n=n||{};if(!p){o.setLoading(false);return}n.success=n.success||"Data telah tersimpan";n.showError=n.showError||true;n.showSuccessMessage=n.showSuccessMessage||true;n.failed=n.failed||"Data gagal tersimpan";p.animateTarget=q;p.scope=o;p.showError=true;p.save({callback:function(f,e,g){o.setLoading(false);if(g){if(n.success){if(n.showSuccessMessage){o.notifyMessage(n.success)}}o.fireEvent("save",f)}else{if(!n.showError){o.notifyMessage(n.failed)}}if(Ext.isFunction(m)){m(f,e,g)}}})},reload:function(m){var l=this,k=l.getViewModel().get("record");if(k){k.load(m)}}},0,["com-form"],["component","box","container","panel","form","com-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true},["widget.com-form"],[[com.ICom.prototype.mixinId||com.ICom.$className,com.ICom]],[com,"Form"],0));(Ext.cmd.derive("com.Camera",com.Form,{viewModel:{data:{isCapture:false}},layout:"fit",bodyStyle:"background-color:#000;color:#fff",html:"",videoWidth:256,videoHeight:256,bodyPadding:0,firstLoad:true,tpl:['<video id="{id}-video" ',"width={videoWidth}","height={videoHeight}","muted=true>","{html}","</video>",'<canvas id="{id}-canvas" hidden=true>',"width={videoWidth}","height={videoHeight}","</canvas>"],initComponent:function(){var l=this,k,m;if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){k="User Media for access Web can't supported"}l.fallbackHTML=k;m=l.data=Ext.copyTo({tag:"video",html:k},l,"id,width,height");m.width=l.videoWidth;m.height=l.videoHeight;cfg2=l.data=Ext.copyTo({tag:"canvas"},l,"id,width,height");cfg2.width=l.videoWidth;cfg2.height=l.videoHeight;l.items=[{xtype:"image",bind:{hidden:"{!isCapture}"}}];l.initButtons();com.Form.prototype.initComponent.call(this)},afterRender:function(){var l=this;com.Form.prototype.afterRender.call(this);l.video=l.el.getById(l.id+"-video");l.canvas=l.el.getById(l.id+"-canvas");var m=l.video.dom;l.supported=(m&&m.tagName.toLowerCase()=="video");if(l.supported){l.video.on("error",l.onVideoError,l);m.addEventListener("ended",function(e){l.fireEvent(e.type,e)});var k=navigator.mediaDevices.getUserMedia({audio:false,video:true});k.then(function(e){l.stream=e;if("srcObject" in m){m.srcObject=e}else{m.src=window.URL.createObjectURL(e)}m.onloadedmetadata=function(f){m.play()}})}},afterLayout:function(l){var m=this,o=m.getSize(),n=m.video.dom;n.width=o.width;n.height=o.height},initButtons:function(){var g=this,k=g.getViewModel();g.buttons=["->",{text:"Capture",iconCls:"x-fa fa-stop",bind:{hidden:"{isCapture}"},handler:function(){var v=g.video.dom,s=g.canvas.dom,f=s.getContext("2d"),t=g.down("image"),q=g.getSize();if(f){var e=v.videoWidth>v.videoHeight?v.videoHeight:v.videoWidth,u=(v.videoWidth-e)/2;s.width=e;s.height=e;f.drawImage(v,u,0,e,e,0,0,e,e);k.set("isCapture",true);v.hidden=true;t.setSrc(s.toDataURL("image/jpeg"))}}},{text:"Batal",iconCls:"x-fa fa-remove",bind:{hidden:"{!isCapture}"},handler:function(){var e=g.video.dom,f=g.canvas.dom;e.hidden=false;k.set("isCapture",false)}},{text:"Upload",iconCls:"x-fa fa-upload",bind:{hidden:"{!isCapture}"},handler:function(){var e=g.video.dom,f=g.canvas.dom;if(f){g.fireEvent("upload",f.toDataURL("image/jpeg"))}}},"->"]},getFallback:function(){return'<h1 style="background-color:#ff4f4f;padding: 10px;">'+this.fallbackHTML+"</h1>"},privates:{onVideoError:function(){var f=this;f.video.remove();f.supported=false;f.body.createChild(f.getFallback())}},destroy:function(){var m=this,n=m.video,o=m.canvas;if(m.stream){m.stream.getTracks().map(function(e){e.stop()})}if(m.supported&&n){var l=n.dom;if(l&&l.pause){l.pause()}if(l.stop){l.stop()}n.dom.removeEventListener("ended",function(e){});n.remove();m.video=null}if(o){o.remove();m.canvas=null}com.Form.prototype.destroy.call(this)}},0,["com-camera"],["component","box","container","panel","form","com-form","com-camera"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"com-camera":true},["widget.com-camera"],0,[com,"Camera"],0));(Ext.cmd.derive("com.Combo",Ext.form.field.ComboBox,{viewModel:{stores:{store:undefined}},config:{defaultValue:-1,firstLoad:false,linkTo:""},params:{},doAfterLoad:Ext.emptyFn,doBeforeQuery:Ext.emptyFn,bind:{store:"{store}"},displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",forceSelection:true,initComponent:function(){var n=this,p=n.getViewModel(),q=p.get("store"),m=webservice.app?webservice.app:false,o=Ext.getStore("instansi");o=o?o.getAt(0):null;if(o){n.kode=o.get("REFERENSI").PPK.KODE}n.kode=n.kode+(n.kode==""?n.kode:"-");n.app=m;n.store=q;q.setQueryParams(n.params);q.on("load",function(e,k,f){if(f){if(k.length>0){if(n.defaultValue>=0){var g=q.findRecord(n.valueField,n.defaultValue,0,false,true);if(g){new Ext.util.DelayedTask(function(){n.select(g);n.fireEvent("select",n,g)}).delay(100)}}}}n.doAfterLoad(k,n,q,f)});n.on("beforequery",function(e){if(n.queryMode=="local"){e.query=new RegExp(e.query,"i");e.forceAll=true}n.doBeforeQuery(e)});Ext.form.field.ComboBox.prototype.initComponent.apply(this,arguments);if(n.firstLoad){q.load()}},load:function(k){var l=this.getViewModel(),m=l?l.get("store"):null;if(m){m.load(k)}},loadStore:function(){this.load()},loadToSelect:function(l,k){var m=this;m.load(function(f,g,e){if(e){if(Ext.isArray(f)){m.select(l)}}if(Ext.isFunction(k)){k(f,g,e)}})},setQueryParams:function(k){var l=this,m=l.getStore();if(m){m.queryParams=Ext.apply(m.queryParams,k)}},getQueryParams:function(){var g=this,k=g.getStore();if(k){return k.queryParams}},clearQueryParams:function(){var g=this,k=g.getStore();if(k){k.setQueryParams({})}},selectFromRecord:function(g){var k=this.getStore();k.loadData([g]);this.select(k.getAt(0))},setComboConfig:function(m){var k=this,l=k.getViewModel();cnf=l.get("comboConfig")||{};cnf=Ext.apply(cnf,m);l.set("comboConfig",cnf);l.notify()},removeDataStore:function(){var f=this.getStore();if(f){f.removeAll()}}},0,["com-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true},["widget.com-combo"],0,[com,"Combo"],0));(Ext.cmd.derive("com.Dashboard",Ext.container.Container,{scrollable:"y",layout:"responsivecolumn",defaultType:"container",defaults:{layout:"responsivecolumn",responsiveCls:"big-50 small-100"},initComponent:function(){var l=this,k=webservice.app?webservice.app:false,m=Ext.getStore("instansi");m=m?m.getAt(0):null;if(m){l.kode=m.get("REFERENSI").PPK.KODE}l.kode=l.kode+(l.kode==""?l.kode:"-");l.app=k;Ext.container.Container.prototype.initComponent.call(this)}},0,["com-dashboard"],["component","box","container","com-dashboard"],{component:true,box:true,container:true,"com-dashboard":true},["widget.com-dashboard"],[[com.ICom.prototype.mixinId||com.ICom.$className,com.ICom]],[com,"Dashboard"],0));(Ext.cmd.derive("com.ITable",Ext.Mixin,{waitRefresh:true,onBeforeLoad:Ext.emptyFn,doAfterLoad:Ext.emptyFn,task:undefined,load:function(l){var m=this,n=m.getViewModel(),o=n?n.get("store"):null;m.onBeforeLoad(m,n,o);if(o){if(l){m.setParams(l)}o.removeAll();this.waitRefresh=false;o.load()}},loadStore:function(f){this.load(f)},loadPage:function(l){var m=this,n=m.getViewModel(),o=n?n.get("store"):null;if(o){o.loadPage(l)}},setParams:function(l){var m=this,n=m.getViewModel(),o=n?n.get("store"):null;if(o){o.queryParams=Ext.apply(o.queryParams,l)}},getParams:function(){var g=this,k=g.getStore();if(k){return k.queryParams}},clearParams:function(){var g=this,k=g.getStore();if(k){k.setQueryParams({})}},reload:function(){var f=this.getStore();this.suspendLayouts();if(!this.waitRefresh){if(f){f.reload()}}this.getView().refresh();this.resumeLayouts()},refresh:function(){this.reload()},start:function(k){var g=this;if(g.task==undefined){g.task={run:function(){g.reload()}}}g.task.interval=k;Ext.TaskManager.start(g.task)},stop:function(){Ext.TaskManager.stop(this.task)},getArrayData:function(){var f=this.getStore();if(f){return f.getArrayData()}return[]},removeDataStore:function(){var f=this.getStore();if(f){f.removeAll()}}},0,0,0,0,0,0,[com,"ITable"],0));(Ext.cmd.derive("com.Grid",Ext.grid.Panel,{onBeforeCallParentInitComponent:Ext.emptyFn,viewModel:{data:{fullscreen:false,listConfig:{paging:false}},stores:{store:{type:"store"},storeMenu:{type:"tree"}}},bind:{store:"{store}"},initComponent:function(){var n=this,p=n.getViewModel(),m=webservice.app?webservice.app:false,q=p?p.get("store"):null,o=Ext.getStore("instansi");o=o?o.getAt(0):null;if(o){n.kode=o.get("REFERENSI").PPK.KODE}n.kode=n.kode+(n.kode==""?n.kode:"-");q=n.store=Ext.data.StoreManager.lookup(n.store||q||"ext-empty-store");n.app=m;if(q){q.doAfterLoad=function(e,g,f,k){n.setLoading(false);if(Ext.isArray(g)){if(g.length==0){q.removeAll()}}n.doAfterLoad(n,g,f,k);n.waitRefresh=false}}n.initHeader();n.onBeforeCallParentInitComponent(n);Ext.grid.Panel.prototype.initComponent.call(this)},dockedItems:[{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],setGridConfig:function(m){var k=this,l=k.getViewModel();_config=l.get("listConfig");m=Ext.apply(_config,m);l.set("listConfig",m);l.notify()},setListConfig:function(f){this.setGridConfig(f)},setMenuContext:function(k){var g=this;if(g.menuContext==undefined){g.menuContext=new Ext.menu.Menu({items:k})}g.addListener("rowcontextmenu",function(p,t,f,s,e){var q=e.getXY();if(g.menuContext.items.getCount()==0){return}e.stopEvent();g.menuContext.showAt(q)})}},0,["com-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true},["widget.com-grid"],[[com.ICom.prototype.mixinId||com.ICom.$className,com.ICom],[com.ITable.prototype.mixinId||com.ITable.$className,com.ITable]],[com,"Grid"],0));(Ext.cmd.derive("com.HtmlEditor",Ext.form.FieldContainer,{focusable:true,componentLayout:"htmleditor",textareaCls:"x-htmleditor-textarea",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" data-ref="textareaEl" name="{name}" tabindex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" data-ref="iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:true}],stretchInputElFixed:true,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera?"&#160;":"&#8203;",extraFieldBodyCls:"x-html-editor-wrap",defaultButtonUI:"default-toolbar",buttonDefaults:null,initialized:false,activated:false,sourceEditMode:false,iframePad:3,hideMode:"offsets",maskOnDisable:true,containerElCls:"x-html-editor-container",reStripQuotes:/^['"]*|['"]*$/g,textAlignRE:/text-align:(.*?);/i,safariNonsenseRE:/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,nonDigitsRE:/\D/g,initComponent:function(){var f=this;f.items=[f.createToolbar(),f.createInputCmp()];f.layout={type:"vbox",align:"stretch"};if(f.value==null){f.value=""}Ext.form.FieldContainer.prototype.initComponent.apply(this,arguments);f.initField()},createInputCmp:function(){this.inputCmp=Ext.widget(this.getInputCmpCfg());return this.inputCmp},getInputCmpCfg:function(){var m=this,k=m.id+"-inputCmp",l={id:k,name:m.name,textareaCls:m.textareaCls+" x-hidden",value:m.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:"x-htmleditor-iframe"};m.getInsertionRenderData(l,m.subTplInsertions);return{flex:1,xtype:"component",tpl:m.lookupTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:k,cls:"x-html-editor-input",data:l}},createToolbar:function(){this.toolbar=Ext.widget(this.getToolbarCfg());return this.toolbar},getToolbarCfg:function(){var x=this,u=[],q,v=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),s="x-",w,p;function t(e,g,f){return Ext.merge({itemId:e,cls:s+"btn-icon",iconCls:s+"edit-"+e,enableToggle:g!==false,scope:x,handler:f||x.relayBtnCmd,clickEvent:"mousedown",tooltip:v?x.buttonTips[e]:p,overflowText:x.buttonTips[e].title||p,tabIndex:-1},x.buttonDefaults)}if(x.enableFont&&!Ext.isSafari2){w=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" data-ref="selectEl" class="'+s+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){x.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var e=this.selectEl;if(e){e.dom.disabled=true}Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var e=this.selectEl;if(e){e.dom.disabled=false}Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){x.win.focus();x.relayCmd("fontName",x.fontSelect.dom.value);x.deferFocus()},element:"selectEl"}});u.push(w,"-")}if(x.enableFormat){u.push(t("bold"),t("italic"),t("underline"))}if(x.enableFontSize){u.push("-",t("increasefontsize",false,x.adjustFont),t("decreasefontsize",false,x.adjustFont))}if(x.enableColors){u.push("-",Ext.merge({itemId:"forecolor",cls:s+"btn-icon",iconCls:s+"edit-forecolor",overflowText:x.buttonTips.forecolor.title,tooltip:v?x.buttonTips.forecolor||p:p,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,clickEvent:"mousedown",handler:function(e,f){x.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+f:f);this.up("menu").hide()}}]})},x.buttonDefaults),Ext.merge({itemId:"backcolor",cls:s+"btn-icon",iconCls:s+"edit-backcolor",overflowText:x.buttonTips.backcolor.title,tooltip:v?x.buttonTips.backcolor||p:p,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,clickEvent:"mousedown",handler:function(e,f){if(Ext.isGecko){x.execCmd("useCSS",false);x.execCmd("hilitecolor","#"+f);x.execCmd("useCSS",true);x.deferFocus()}else{x.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+f:f)}this.up("menu").hide()}}]})},x.buttonDefaults))}if(x.enableAlignments){u.push("-",t("justifyleft"),t("justifycenter"),t("justifyright"))}if(!Ext.isSafari2){if(x.enableLinks){u.push("-",t("createlink",false,x.createLink))}if(x.enableLists){u.push("-",t("insertorderedlist"),t("insertunorderedlist"))}if(x.enableSourceEdit){u.push("-",t("sourceedit",true,function(){x.toggleSourceEdit(!x.sourceEditMode)}))}}for(q=0;q<u.length;q++){if(u[q].itemId!=="sourceedit"){u[q].disabled=true}}return{xtype:"toolbar",defaultButtonUI:x.defaultButtonUI,cls:"x-html-editor-tb",enableOverflow:true,items:u,listeners:{click:function(e){e.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(m){var n=this,o=n.textareaEl,p=n.iframeEl,q;n.readOnly=m;if(o){o.dom.readOnly=m}if(n.initialized){q=n.getEditorBody();if(Ext.isIE){p.setDisplayed(false);q.contentEditable=!m;p.setDisplayed(true)}else{n.setDesignMode(!m)}if(q){q.style.cursor=m?"default":"text"}n.disableItems(m)}},getDocMarkup:function(){var g=this,k=g.iframeEl.getHeight()-g.iframePad*2;return Ext.String.format('<!DOCTYPE html><html><head><style type="text/css">'+(Ext.isOpera||Ext.isIE?"p{margin:0;}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(g.rtl?"rtl;":"ltr;")+(Ext.isIE8?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",g.iframePad,k,g.defaultFont)},getEditorBody:function(){var f=this.getDoc();return f.body||f.documentElement},getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var t=this,z=0,s,y,q,v,w,u,x;if(!t.defaultFont){y=t.textareaEl.getStyle("font-family");y=Ext.String.capitalize(y.split(",")[0]);s=Ext.Array.clone(t.fontFamilies);Ext.Array.include(s,y);s.sort();t.defaultFont=y;q=t.down("#fontSelect").selectEl.dom;for(w=0,u=s.length;w<u;++w){y=s[w];x=y.toLowerCase();v=new Option(y,x);if(y===t.defaultFont){z=w}v.style.fontFamily=x;if(Ext.isIE){q.add(v)}else{q.options.add(v)}}q.options[z].selected=true}},isEqual:function(g,k){return this.isEqualAsString(g,k)},afterRender:function(){var g=this,k=g.inputCmp;Ext.form.FieldContainer.prototype.afterRender.apply(this,arguments);g.iframeEl=k.iframeEl;g.textareaEl=k.textareaEl;g.inputEl=g.iframeEl;if(g.enableFont){g.initDefaultFont()}g.monitorTask=Ext.TaskManager.start({run:g.checkDesignMode,scope:g,interval:100})},initFrameDoc:function(){var l=this,k,m;Ext.TaskManager.stop(l.monitorTask);k=l.getDoc();l.win=l.getWin();k.open();k.write(l.getDocMarkup());k.close();m={run:function(){var e=l.getDoc();if(e.body||e.readyState==="complete"){Ext.TaskManager.stop(m);l.setDesignMode(true);Ext.defer(l.initEditor,10,l)}},interval:10,duration:10000,scope:l};Ext.TaskManager.start(m)},checkDesignMode:function(){var k=this,g=k.getDoc();if(g&&(!g.editorInitialized||k.getDesignMode()!=="on")){k.initFrameDoc()}},setDesignMode:function(k){var m=this,l=m.getDoc();if(l){if(m.readOnly){k=false}l.designMode=(/on|true/i).test(String(k).toLowerCase())?"on":"off"}},getDesignMode:function(){var f=this.getDoc();return !f?"":String(f.designMode).toLowerCase()},disableItems:function(n){var p=this.getToolbar().items.items,o,q=p.length,m;for(o=0;o<q;o++){m=p[o];if(m.getItemId()!=="sourceedit"){m.setDisabled(n)}}},toggleSourceEdit:function(s){var n=this,p=n.iframeEl,t=n.textareaEl,o="x-hidden",q=n.getToolbar().getComponent("sourceedit");if(!Ext.isBoolean(s)){s=!n.sourceEditMode}n.sourceEditMode=s;if(q.pressed!==s){q.toggle(s)}if(s){n.disableItems(true);n.syncValue();p.addCls(o);t.removeCls(o);t.dom.removeAttribute("tabIndex");t.focus();n.inputEl=t}else{if(n.initialized){n.disableItems(n.readOnly)}n.pushValue();p.removeCls(o);t.addCls(o);t.dom.setAttribute("tabIndex",-1);n.deferFocus();n.inputEl=p}n.fireEvent("editmodechange",n,s);n.updateLayout()},createLink:function(){var f=prompt(this.createLinkText,this.defaultLinkValue);if(f&&f!=="http://"){this.relayCmd("createlink",f)}},clearInvalid:Ext.emptyFn,setValue:function(k){var l=this,m=l.textareaEl;if(k===null||k===undefined){k=""}if(l.value!==k){if(m){m.dom.value=k}l.pushValue();if(!l.rendered&&l.inputCmp){l.inputCmp.data.value=k}l.mixins.field.setValue.call(l,k)}return l},cleanHtml:function(f){f=String(f);if(Ext.isWebKit){f=f.replace(this.safariNonsenseRE,"")}if(f.charCodeAt(0)===parseInt(this.defaultValue.replace(this.nonDigitsRE,""),10)){f=f.substring(1)}return f},syncValue:function(){var o=this,t,v,q,u,s,p;if(o.initialized){t=o.getEditorBody();q=t.innerHTML;p=o.textareaEl.dom;if(Ext.isWebKit){u=t.getAttribute("style");s=u.match(o.textAlignRE);if(s&&s[1]){q='<div style="'+s[0]+'">'+q+"</div>"}}q=o.cleanHtml(q);if(o.fireEvent("beforesync",o,q)!==false){if(Ext.isGecko&&p.value===""&&q==="<br>"){q=""}if(p.value!==q){p.value=q;v=true}o.fireEvent("sync",o,q);if(v){o.checkChange()}}}},getValue:function(){var k=this,g;if(!k.sourceEditMode){k.syncValue()}g=k.rendered?k.textareaEl.dom.value:k.value;k.value=g;return g},pushValue:function(){var g=this,k;if(g.initialized){k=g.textareaEl.dom.value||"";if(!g.activated&&k.length<1){k=g.defaultValue}if(g.fireEvent("beforepush",g,k)!==false){g.getEditorBody().innerHTML=k;if(Ext.isGecko){g.setDesignMode(false);g.setDesignMode(true)}g.fireEvent("push",g,k)}}},focus:function(n,p){var o=this,m,q;if(p){if(!o.focusTask){o.focusTask=new Ext.util.DelayedTask(o.focus)}o.focusTask.delay(Ext.isNumber(p)?p:10,null,o,[n,false])}else{if(n){if(o.textareaEl&&o.textareaEl.dom){m=o.textareaEl.dom.value}if(m&&m.length){o.execCmd("selectall",true)}}q=o.getFocusEl();if(q&&q.focus){q.focus()}}return o},initEditor:function(){var p=this,q,t,v,u,s;if(p.destroying||p.destroyed){return}q=p.getEditorBody();if(!q){setTimeout(function(){p.initEditor()},10);return}t=p.textareaEl.getStyle(["font-size","font-family","background-image","background-repeat","background-color","color"]);t["background-attachment"]="fixed";q.bgProperties="fixed";Ext.DomHelper.applyStyles(q,t);v=p.getDoc();u=Ext.get(v);if(u){try{u.clearListeners()}catch(e){}s=p.onEditorEvent.bind(p);u.on({mousedown:s,dblclick:s,click:s,keyup:s,delegated:false,buffer:100});s=p.onRelayedEvent;u.on({mousedown:s,mousemove:s,mouseup:s,click:s,dblclick:s,delegated:false,scope:p});if(Ext.isGecko){u.on("keypress",p.applyCommand,p)}if(p.fixKeys){u.on("keydown",p.fixKeys,p,{delegated:false})}if(p.fixKeysAfter){u.on("keyup",p.fixKeysAfter,p,{delegated:false})}if(Ext.isIE9){Ext.get(v.documentElement).on("focus",p.focus,p)}if(Ext.isIE8){u.on("focusout",function(){p.savedSelection=v.selection.type!=="None"?v.selection.createRange():null},p);u.on("focusin",function(){if(p.savedSelection){p.savedSelection.select()}},p)}Ext.getWin().on("unload",p.destroyEditor,p);v.editorInitialized=true;p.initialized=true;p.pushValue();p.setReadOnly(p.readOnly);p.fireEvent("initialize",p)}},destroyEditor:function(){var q=this,n=q.monitorTask,o,e;if(n){Ext.TaskManager.stop(n)}if(q.rendered){try{Ext.getWin().un("unload",q.destroyEditor,q);o=q.getDoc();if(o){Ext.get(o).destroy();if(o.hasOwnProperty){for(e in o){try{if(o.hasOwnProperty(e)){delete o[e]}}catch(p){}}}}delete q.iframeEl;delete q.textareaEl;delete q.toolbar;delete q.inputCmp}catch(p){}}},doDestroy:function(){this.destroyEditor();Ext.form.FieldContainer.prototype.doDestroy.call(this)},onRelayedEvent:function(o){var p=this.iframeEl,n=Ext.fly(p).getTrueXY(),m=o.getXY(),q=o.getXY();o.xy=[n[0]+q[0],n[1]+q[1]];o.injectEvent(p);o.xy=m},onFirstFocus:function(){var m=this,n,o;m.activated=true;m.disableItems(m.readOnly);if(Ext.isGecko){m.win.focus();n=m.win.getSelection();if(n.focusNode&&!m.getValue().length){o=n.getRangeAt(0);o.selectNodeContents(m.getEditorBody());o.collapse(true);m.deferFocus()}try{m.execCmd("useCSS",true);m.execCmd("styleWithCSS",false)}catch(e){}}m.fireEvent("activate",m)},adjustFont:function(n){var m=n.getItemId()==="increasefontsize"?1:-1,o=this.getDoc().queryCommandValue("FontSize")||"2",q=Ext.isString(o)&&o.indexOf("px")!==-1,p;o=parseInt(o,10);if(q){if(o<=10){o=1+m}else{if(o<=13){o=2+m}else{if(o<=16){o=3+m}else{if(o<=18){o=4+m}else{if(o<=24){o=5+m}else{o=6+m}}}}}o=Ext.Number.constrain(o,1,6)}else{p=Ext.isSafari;if(p){m*=2}o=Math.max(1,o+m)+(p?"px":0)}this.relayCmd("FontSize",o)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){var t=this,w,y,x,l,z,v,A,u;if(t.readOnly){return}if(!t.activated){t.onFirstFocus();return}x=t.getToolbar().items.map;l=t.getDoc();if(t.enableFont&&!Ext.isSafari2){v=l.queryCommandValue("fontName");z=(v?v.split(",")[0].replace(t.reStripQuotes,""):t.defaultFont).toLowerCase();A=t.fontSelect.dom;if(z!==A.value||z!==v){A.value=z}}function B(){var e;for(w=0,y=arguments.length,z;w<y;w++){z=arguments[w];try{e=l.queryCommandState(z)}catch(f){e=false}x[z].toggle(e)}}if(t.enableFormat){B("bold","italic","underline")}if(t.enableAlignments){B("justifyleft","justifycenter","justifyright")}if(!Ext.isSafari2&&t.enableLists){B("insertorderedlist","insertunorderedlist")}u=t.toolbar.query("menu");for(w=0;w<u.length;w++){u[w].hide()}t.syncValue()},relayBtnCmd:function(f){this.relayCmd(f.getItemId())},relayCmd:function(g,k){Ext.defer(function(){var e=this;if(!this.destroyed){e.win.focus();e.execCmd(g,k);e.updateToolbar()}},10,this)},execCmd:function(m,n){var o=this,l=o.getDoc();l.execCommand(m,false,(n===undefined?null:n));o.syncValue()},applyCommand:function(m){if(m.ctrlKey){var o=this,e=m.getCharCode(),n;if(e>0){e=String.fromCharCode(e);switch(e){case"b":n="bold";break;case"i":n="italic";break;case"u":n="underline";break}if(n){o.win.focus();o.execCmd(n);o.deferFocus();m.preventDefault()}}}},insertAtCursor:function(t){var v=this,w=v.getWin(),u=v.getDoc(),A,x,z,D,y,B,C;if(v.activated){w.focus();if(w.getSelection){A=w.getSelection();if(A.getRangeAt&&A.rangeCount){x=A.getRangeAt(0);x.deleteContents();z=u.createElement("div");z.innerHTML=t;D=u.createDocumentFragment();while((y=z.firstChild)){B=D.appendChild(y)}C=D.firstChild;x.insertNode(D);if(B){x=x.cloneRange();x.setStartAfter(B);x.collapse(true);A.removeAllRanges();A.addRange(x)}}}else{if(u.selection&&A.type!=="Control"){A=u.selection;x=A.createRange();x.collapse(true);A.createRange().pasteHTML(t)}}v.deferFocus()}},fixKeys:(function(){var f;if(Ext.isIE10m){return function(u){var k=this,q=u.getKey(),v=k.getDoc(),t=k.readOnly,s,e;if(q===u.TAB){u.stopEvent();if(!t){s=v.selection.createRange();if(s){if(s.collapse){s.collapse(true);s.pasteHTML("&#160;&#160;&#160;&#160;")}k.deferFocus()}}}}}if(Ext.isOpera){return function(k){var n=this,o=k.getKey(),e=n.readOnly;if(o===k.TAB){k.stopEvent();if(!e){n.win.focus();n.execCmd("InsertHTML","&#160;&#160;&#160;&#160;");n.deferFocus()}}}}return null}()),fixKeysAfter:(function(){if(Ext.isIE){return function(e){var p=this,q=e.getKey(),k=p.getDoc(),s=p.readOnly,t;if(!s&&(q===e.BACKSPACE||q===e.DELETE)){t=k.body.innerHTML;if(t==="<p>&nbsp;</p>"||t==="<P>&nbsp;</P>"){k.body.innerHTML=""}}}}return null}()),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}},privates:{deferFocus:function(){this.focus(false,true)},getFocusEl:function(){return this.sourceEditMode?this.textareaEl:this.iframeEl}}},0,["com-htmleditor"],["component","box","container","fieldcontainer","com-htmleditor"],{component:true,box:true,container:true,fieldcontainer:true,"com-htmleditor":true},["widget.com-htmleditor"],[["field",Ext.form.field.Field]],[com,"HtmlEditor"],0));(Ext.cmd.derive("com.SearchField",Ext.form.field.Text,{triggers:{clear:{weight:0,cls:"x-form-clear-trigger",hidden:true,handler:"onClearClick",scope:"this"},search:{weight:1,cls:"x-form-search-trigger",handler:"onSearchClick",scope:"this"}},initComponent:function(){var f=this;Ext.form.field.Text.prototype.initComponent.apply(this,arguments);f.on("specialkey",function(l,e){if(l.getValue()==""){return}if(e.getKey()==e.ENTER){f.onSearchClick()}f.fireEvent("onspecialkey",l,e)})},onClearClick:function(){var f=this;f.isClearButtonShow=false;f.getTrigger("clear").hide();f.setValue("");f.updateLayout();f.fireEvent("clear",f)},onSearchClick:function(){var k=this,g=k.getValue();if(g==""){return}k.getTrigger("clear").show();k.isClearButtonShow=true;k.updateLayout();k.fireEvent("search",k,g)}},0,["search-field"],["component","box","field","textfield","search-field"],{component:true,box:true,field:true,textfield:true,"search-field":true},["widget.search-field"],0,[com,"SearchField"],0));(Ext.cmd.derive("com.Service",Ext.Base,{scope:this,animateTarget:null,showError:true,serviceName:"",request:function(p,q,n,m){var o=this;Ext.Ajax.request({url:webservice.location+o.serviceName+"/"+p,method:q,jsonData:n,success:function(f,e){if(Ext.isFunction(m)){m(true,Ext.JSON.decode(f.responseText),e)}},failure:function(k,l){if(o.showError){try{var g=Ext.JSON.decode(k.responseText),t=g.detail?(Ext.isObject(g.detail)?Ext.JSON.encode(g.detail):g.detail):"Koneksi Gagal",e=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:k.status+" - "+k.statusText,header:{padding:5}});e.show({msg:t,buttons:Ext.MessageBox.OK,animateTarget:o.animateTarget,scope:o.scope,icon:Ext.Msg.ERROR})}catch(f){var e=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:"Error",header:{padding:5}});e.show({msg:"Koneksi Gagal",buttons:Ext.MessageBox.OK,animateTarget:o.animateTarget,scope:o.scope,icon:Ext.Msg.ERROR})}}if(Ext.isFunction(m)){m(false,k,l)}}})},enabledShowError:function(f){this.showError=f}},0,["com-service"],["com-service"],{"com-service":true},["widget.com-service"],0,[com,"Service"],0));(Ext.cmd.derive("com.Tab",Ext.tab.Panel,{ui:"header-tab",initComponent:function(){var k=this,g=webservice.app?webservice.app:false;k.app=g;Ext.tab.Panel.prototype.initComponent.apply(this,arguments)},load:function(f){this.items.each(function(e){if(e.load){e.load(f)}})}},0,["com-tab"],["component","box","container","panel","tabpanel","com-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true},["widget.com-tab"],[[com.ICom.prototype.mixinId||com.ICom.$className,com.ICom]],[com,"Tab"],0));(Ext.cmd.derive("com.Tag",Ext.form.field.Tag,{viewModel:{stores:{store:undefined}},config:{params:{},defaultValue:0,firstLoad:false,linkTo:""},doAfterLoad:Ext.emptyFn,bind:{store:"{store}"},displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",initComponent:function(){var k=this,l=k.getViewModel(),m=l.get("store");k.store=m;m.setQueryParams(k.params);m.on("load",function(g,f,o){if(!o){return}if(f.length>0){if(k.defaultValue>0){var e=m.findRecord(k.valueField,k.defaultValue,0,false,true);if(e){new Ext.util.DelayedTask(function(){k.select(e);k.fireEvent("select",k,e)}).delay(100)}}}k.doAfterLoad(f,k,m)});Ext.form.field.Tag.prototype.initComponent.apply(this,arguments);if(k.firstLoad){m.load()}},load:function(){var g=this.getViewModel(),k=g?g.get("store"):null;if(k){k.load()}},loadStore:function(){this.load()}},0,["com-tag"],["component","box","field","textfield","pickerfield","combobox","combo","tagfield","com-tag"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,tagfield:true,"com-tag":true},["widget.com-tag"],0,[com,"Tag"],0));(Ext.cmd.derive("com.Tree",Ext.tree.Panel,{autoScroll:true,viewModel:{data:{treeConfig:{}},stores:{store:{type:"store"}}},bind:{store:"{store}"},border:false,scrollable:true,rootVisible:false,collapsible:true,floatable:true,split:true,initComponent:function(){var m=this,n=m.getViewModel(),l=webservice.app?webservice.app:false,o=n?n.get("store"):null;m.store=o;m.app=l;if(o){o.on("load",function(e,k,g,f){m.setLoading(false);if(Ext.isArray(k)){if(k.length==0){o.removeAll()}}m.doAfterLoad(m,k,g,f);m.waitRefresh=false})}Ext.tree.Panel.prototype.initComponent.apply(this,arguments)},setTreeConfig:function(m){var k=this,l=k.getViewModel();_config=l.get("treeConfig");m=Ext.apply(_config,m);l.set("treeConfig",m);l.notify()}},0,["com-tree"],["component","box","container","panel","tablepanel","treepanel","com-tree"],{component:true,box:true,container:true,panel:true,tablepanel:true,treepanel:true,"com-tree":true},["widget.com-tree"],[[com.ICom.prototype.mixinId||com.ICom.$className,com.ICom],[com.ITable.prototype.mixinId||com.ITable.$className,com.ITable]],[com,"Tree"],0));(Ext.cmd.derive("com.View",Ext.view.View,{viewModel:{data:{viewConfig:{}},stores:{store:{type:"store"}}},bind:{store:"{store}"},initComponent:function(){var m=this,n=m.getViewModel(),l=webservice.app?webservice.app:false,o=n?n.get("store"):null;o=m.store=Ext.data.StoreManager.lookup(m.store||o||"ext-empty-store");m.app=l;if(o){o.doAfterLoad=function(f,k,g,e){m.setLoading(false);if(Ext.isArray(k)){if(k.length==0){o.removeAll()}}m.doAfterLoad(m,k,g,e);m.waitRefresh=false}}Ext.view.View.prototype.initComponent.call(this)},setViewConfig:function(m){var k=this,l=k.getViewModel();_config=l.get("viewConfig");m=Ext.apply(_config,m);l.set("viewConfig",m);l.notify()}},0,["com-view"],["component","box","dataview","com-view"],{component:true,box:true,dataview:true,"com-view":true},["widget.com-view"],[[com.ICom.prototype.mixinId||com.ICom.$className,com.ICom]],[com,"View"],0));(Ext.cmd.derive("com.Window",Ext.Window,{cls:"main-modules",viewModel:{data:{windowConfig:{icon:"x-fa fa-gear",title:"tes",phoneMode:false,menus:[]}},stores:{store:{type:"tree"}}},modal:true,maximized:true,header:false,border:false,layout:{type:"vbox",align:"stretch"},initComponent:function(){var f=this;f.items=[{xtype:"toolbar",padding:0,height:52,defaults:{height:50,width:50,margin:"0 0 0 0"},border:true,cls:"main-header shadow-panel",items:[{iconCls:"x-fa fa-navicon",scope:f,tooltip:"Menu",cls:"x-btn-nav",bind:{hidden:"{!windowConfig.phoneMode}"},handler:"onMenuBarClick"},{xtype:"container",cls:"x-br-right",style:"border-right: none",flex:1,padding:"10 0 0 10",layout:{type:"hbox"},items:[{xtype:"component",style:"padding-top: 5px;",plugins:"responsive",height:30,responsiveConfig:{"width < 600":{bind:{html:"<div style='font-size: 15px; font-weight: bold'><span class='{windowConfig.icon}'></span> {windowConfig.title}</div>"}},"width >= 600":{bind:{html:"<div style='font-size: 15px; font-weight: bold'><span class='{windowConfig.icon}'></span> {windowConfig.title}</div>"}}}}]},{iconCls:"x-fa fa-close",scope:f,cls:"x-btn-white",tooltip:"Tutup",handler:"onClose"}]},{xtype:"container",reference:"windowcontent",flex:1,layout:{type:"hbox",align:"stretch",animate:true,animatePolicy:{x:true,width:true}},items:[{xtype:"treelist",ui:"navigation",expanderFirst:false,expanderOnly:false,cls:"x-nav-border",reference:"windownav",width:0,bind:{store:"{store}"},listeners:{scope:f,selectionchange:"onNavSelectionChange"}},{xtype:"container",reference:"contentitem",layout:"card",flex:1}]}];f.setWindowConfig({phoneMode:Ext.os.deviceType=="Phone"});f.listeners={scope:f,afterrender:function(){var e=f.getViewModel();if(!e.get("windowConfig.phoneMode")){f.onMenuBarClick();f.firstMenuSelection()}}};Ext.window.Window.prototype.initComponent.call(this)},setWindowConfig:function(m){var k=this,l=k.getViewModel();cnf=l.get("windowConfig")||{};cnf=Ext.apply(cnf,m);l.set("windowConfig",cnf);l.notify();k.initMenus()},initMenus:function(){var g=this,k=g.getViewModel();g.getViewModel().set("store",Ext.create("Ext.data.TreeStore",{root:{expanded:true,children:k.get("windowConfig.menus")}}))},initContentItems:function(){},firstMenuSelection:function(){var l=this,n=l.getViewModel(),m=l.down("treelist"),o=n.get("store");if(o){o.each(function(e){if(e.get("active")){(new Ext.util.DelayedTask(function(){m.setSelection(e)})).delay(500)}})}},onMenuBarClick:function(){var l=this,m=l.down("treelist"),n=l.down("[reference=windowcontent]"),o=m.getWidth()==250?0:250;Ext.suspendLayouts();m.setStyle("position","absolute");m.setWidth(o);Ext.resumeLayouts();n.layout.animatePolicy=n.layout.animate=null;n.updateLayout()},onNavSelectionChange:function(t,n){var o=this,s=o.getViewModel(),p=o.down("[reference=contentitem]"),q=null;if(n){q=p.getComponent(n.get("idClassName"));if(q!=null){p.getLayout().setActiveItem(q);return}q=Ext.create(n.get("className"));Ext.suspendLayouts();p.add(q);p.getLayout().setActiveItem(q);if(q.loadStore){q.loadStore()}Ext.resumeLayouts();if(s.get("windowConfig.phoneMode")){t.setSelection(null);o.onMenuBarClick()}}},onClose:function(){this.close()}},0,["com-window"],["component","box","container","panel","window","com-window"],{component:true,box:true,container:true,panel:true,window:true,"com-window":true},["widget.com-window"],0,[com,"Window"],0));(Ext.cmd.derive("aplikasi.instansi.Model",data.model.Model,{serviceName:"general/instansi",fields:[{name:"PPK",type:"string"}]},0,0,0,0,0,0,[aplikasi.instansi,"Model"],0));(Ext.cmd.derive("aplikasi.instansi.Store",data.store.Store,{model:"aplikasi.instansi.Model"},0,0,0,0,["store.aplikasi-instansi-store"],0,[aplikasi.instansi,"Store"],0));(Ext.cmd.derive("aplikasi.pengaturan.properticonfig.Model",data.model.Model,{serviceName:"aplikasi/pengaturan/properticonfig",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"VALUE"}],idProperty:"ID"},0,0,0,0,0,0,[aplikasi.pengaturan.properticonfig,"Model"],0));(Ext.cmd.derive("aplikasi.pengaturan.properticonfig.Store",data.store.Store,{model:"aplikasi.pengaturan.properticonfig.Model"},0,0,0,0,["store.aplikasi-pengaturan-properticonfig-store"],0,[aplikasi.pengaturan.properticonfig,"Store"],0));(Ext.cmd.derive("aplikasi.pengguna.Model",data.model.Model,{serviceName:"aplikasi/pengguna",fields:[{name:"ID",type:"int"},{name:"LOGIN",type:"string"},{name:"PASSWORD",type:"string"},{name:"NAMA",type:"string"},{name:"NIP",type:"string"},{name:"JENIS",type:"int"},{name:"REF",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[aplikasi.pengguna,"Model"],0));(Ext.cmd.derive("aplikasi.pengguna.Store",data.store.Store,{model:"aplikasi.pengguna.Model"},0,0,0,0,["store.aplikasi-pengguna-store"],0,[aplikasi.pengguna,"Store"],0));(Ext.cmd.derive("aplikasi.requestreport.Model",Ext.data.Model,{fields:[{name:"NAME",type:"string"},{name:"CONNECTION_NUMBER",type:"int",defaultValue:0},{name:"TYPE",type:"string",defaultValue:"Pdf"},{name:"EXT",type:"string",defaultValue:"pdf"},"PARAMETER",{name:"REQUEST_FOR_PRINT",type:"boolean",defaultValue:false},"PRINT_NAME",{name:"COPIES",type:"int",defaultValue:1}],proxy:{type:"rest",url:webservice.location+"plugins/request-report",reader:{type:"json",rootProperty:"content"}}},0,0,0,0,0,0,[aplikasi.requestreport,"Model"],0));(Ext.cmd.derive("aplikasi.login.FormController",Ext.app.ViewController,{onMasuk:function(){var k=this,m=k.getView(),l=m.getForm();if(l.isValid()){m.setLoading(true);Ext.Ajax.request({url:webservice.location+"authentication/login",method:"POST",jsonData:l.getValues(),useDefaultXhrHeader:false,withCredentials:true,success:function(e){var f=Ext.JSON.decode(e.responseText);m.setLoading(false);if(f.success){window.location.reload()}else{k.showFailureLoginMessage()}},failure:function(e){k.showFailureLoginMessage()}})}},showFailureLoginMessage:function(){var f=this.getView();f.setLoading(false);Ext.toast({html:"ID Pengguna / Kata Sandi anda salah",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})},onSpecialKey:function(k,e){if(e.getKey()==e.ENTER){this.onMasuk()}}},0,0,0,0,["controller.aplikasi-login-form"],0,[aplikasi.login,"FormController"],0));(Ext.cmd.derive("aplikasi.login.Form",com.Form,{cls:"login-form",controller:"aplikasi-login-form",bodyPadding:30,defaultType:"textfield",defaults:{labelWidth:90,labelAlign:"top",labelSeparator:"",submitEmptyText:false,anchor:"100%"},border:false,bodyStyle:"background: transparent;",jsonSubmit:true,items:[{xtype:"component",html:"<h1 style='color: #262626; font-family: 'Nunito', sans-serif;'>LOGIN</h1>",margin:"0 0 40px 0"},{emptyText:"[Masukkan ID Pengguna Anda]",name:"LOGIN",allowBlank:false,fieldStyle:"padding: 10px",margin:"0 0 15px 0",maxLength:50,enforceMaxLength:true,listeners:{specialkey:"onSpecialKey"},triggers:{glyphed:{cls:"x-fa fa-user"}}},{emptyText:"[Masukkan Kata Sandi Anda]",name:"PASSWORD",allowBlank:false,inputType:"password",fieldStyle:"padding: 10px",margin:"0 0 15px 0",maxLength:50,enforceMaxLength:true,listeners:{specialkey:"onSpecialKey"},triggers:{glyphed:{cls:"x-fa fa-lock"}}},{xtype:"button",ui:"soft-saphire",width:90,text:"Masuk",padding:10,iconAlign:"right",iconCls:"x-fa fa-angle-right",handler:"onMasuk"}],reset:function(){this.getForm().reset()},focus:function(){this.down("[name=LOGIN]").focus(false,100)}},0,["aplikasi-login-form"],["component","box","container","panel","form","com-form","aplikasi-login-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"aplikasi-login-form":true},["widget.aplikasi-login-form"],0,[aplikasi.login,"Form"],0));(Ext.cmd.derive("aplikasi.pengaturan.Workspace",com.Form,{layout:"fit",bodyPadding:0,items:[{xtype:"com-form",ui:"panel-cyan",title:"&nbsp;Pengaturan",titleFieldConfig:{iconCls:"x-fa fa-cog"},fullscreenEnabled:true,menuConfig:{enabled:true,width:250,buttonConfig:{}},fullscreenConfig:{},header:{items:[{}]}}],load:function(o){var m=this,n=this.down("com-form"),l=[];l.push({text:"Properti Config",leaf:true,className:"aplikasi.pengaturan.properticonfig.Grid",idClassName:"aplikasi-pengaturan-properticonfig-grid"});l.push({text:"Informasi Teks",leaf:true,className:"aplikasi.pengaturan.infoteks.Grid",idClassName:"aplikasi-pengaturan-infoteks-grid"});n.setMenus(l)}},0,["aplikasi-pengaturan-workspace"],["component","box","container","panel","form","com-form","aplikasi-pengaturan-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"aplikasi-pengaturan-workspace":true},["widget.aplikasi-pengaturan-workspace"],0,[aplikasi.pengaturan,"Workspace"],0));(Ext.cmd.derive("aplikasi.pengaturan.infoteks.Grid",com.Grid,{controller:"aplikasi-pengaturan-infoteks-grid",viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"info-teks-store"}}},columns:[{text:"JENIS",dataIndex:"JENIS",sortable:false,renderer:"onRendererJenis",editor:{xtype:"referensi-combo",params:{JENIS:150,STATUS:1},editable:false,firstLoad:true,listeners:{select:"onSelectJenis"}},flex:1},{text:"Teks",dataIndex:"TEKS",sortable:false,editor:{xtype:"textfield"},flex:2},{text:"Warna Huruf",dataIndex:"WARNA",sortable:false,editor:{xtype:"colorfield"},renderer:"onRendererWarna",width:100},{xtype:"checkcolumn",header:"Publish",dataIndex:"PUBLISH",menuDisabled:true,sortable:false,width:90,listeners:{checkchange:"onChangePublish"}},{xtype:"checkcolumn",header:"Status",dataIndex:"STATUS",menuDisabled:true,sortable:false,width:90,listeners:{checkchange:"onChangeStatus"}}],dockedItems:[{xtype:"toolbar",items:["->",{iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan"},{iconCls:"x-fa fa-plus",tooltip:"Tambah",handler:"onTambah"},{iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]},{},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],plugins:{ptype:"cellediting",clicksToEdit:1}},0,["aplikasi-pengaturan-infoteks-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","aplikasi-pengaturan-infoteks-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"aplikasi-pengaturan-infoteks-grid":true},["widget.aplikasi-pengaturan-infoteks-grid"],0,[aplikasi.pengaturan.infoteks,"Grid"],0));(Ext.cmd.derive("aplikasi.pengaturan.infoteks.GridController",Ext.app.ViewController,{onSelectJenis:function(o,l){var m=this.getView().getSelection();if(l){if(Ext.isArray(m)){if(m.length>0){var n=m[0].get("REFERENSI")||{};n.JENIS=l.data;m[0].set("REFERENSI",n)}}}},onRendererJenis:function(m,p,q){var o=q.get("REFERENSI"),n=o?o.JENIS:null;if(n){return n.DESKRIPSI}return m},onRendererWarna:function(k,l,m){l.tdAttr='bgColor="'+k+'"';return""},onChangePublish:function(q,v,w){var x=this,u=x.getView(),p=x.getViewModel(),t=p.get("store"),s=t.getAt(v);s.set("PUBLISH",w?1:0);s.scope=x;s.save({callback:function(g,f,e){if(e){window.isModifiedInfoTeks=true;u.notifyMessage("Publish Info Teks di"+(w?"Aktifkan":"NonAktifkan "),"danger-blue")}}})},onChangeStatus:function(q,v,w){var x=this,u=x.getView(),p=x.getViewModel(),t=p.get("store"),s=t.getAt(v);s.set("STATUS",w?1:0);s.scope=x;s.save({callback:function(g,f,e){if(e){window.isModifiedInfoTeks=true;u.notifyMessage("Status Info Teks di"+(w==true?"Aktifkan":"NonAktifkan "),"danger-blue")}}})},onSimpan:function(p){var o=this,s=o.getView(),q=o.getStore("store"),n=q.getModifiedRecords(),t=0;Ext.Array.each(n,function(e){var f=Ext.clone(e);f.save({callback:function(l,k,g){if(g){if(t===(n.length-1)){window.isModifiedInfoTeks=true;s.notifyMessage("Data telah disimpan");s.reload()}}t++}})});o.onRefresh()},onTambah:function(l){var k=this,m=k.getStore("store");m.insert(0,Ext.create("data.model.InfoTeks",{}))},onRefresh:function(){this.getView().reload()}},0,0,0,0,["controller.aplikasi-pengaturan-infoteks-grid"],0,[aplikasi.pengaturan.infoteks,"GridController"],0));(Ext.cmd.derive("aplikasi.pengaturan.properticonfig.Grid",com.Grid,{controller:"aplikasi-pengaturan-properticonfig-grid",viewModel:{stores:{store:{type:"aplikasi-pengaturan-properticonfig-store"}}},columns:[{text:"Nama",dataIndex:"NAMA",sortable:false,flex:1},{text:"Value",dataIndex:"VALUE",sortable:false,editor:{xtype:"textfield"},flex:1}],dockedItems:[{xtype:"toolbar",items:["->",{iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan"},{iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]}],plugins:{ptype:"cellediting",clicksToEdit:1}},0,["aplikasi-pengaturan-properticonfig-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","aplikasi-pengaturan-properticonfig-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"aplikasi-pengaturan-properticonfig-grid":true},["widget.aplikasi-pengaturan-properticonfig-grid"],0,[aplikasi.pengaturan.properticonfig,"Grid"],0));(Ext.cmd.derive("aplikasi.pengaturan.properticonfig.GridController",Ext.app.ViewController,{onSimpan:function(o){var n=this,p=n.getStore("store"),m=p.getModifiedRecords(),q=0;Ext.Array.each(m,function(f){var e=Ext.clone(f);e.save({callback:function(l,k,g){if(g){if(q===(m.length-1)){n.getView().notifyMessage("Data telah disimpan")}}q++}})});n.onRefresh()},onRefresh:function(){this.getView().reload()}},0,0,0,0,["controller.aplikasi-pengaturan-properticonfig-grid"],0,[aplikasi.pengaturan.properticonfig,"GridController"],0));(Ext.cmd.derive("aplikasi.pengguna.info.Panel",com.Form,{controller:"aplikasi-pengguna-info-panel",viewModel:{stores:{pegawai:{type:"pegawai-store"},pengguna:{type:"pengguna-store"}},data:{nama:"",image:"nousuario.jpg"}},layout:{type:"vbox",align:"center"},items:[{xtype:"image",style:"border-radius: 50%; -moz-border-radius: 50%; -webkit-border-radius: 50%; border: 1px solid #eaeaea ",bind:{src:"classic/resources/images/{image}"},width:90,height:90,alt:"no-image",margin:"10 10 0 10"},{style:"font-size:17px; margin-left: 10px; margin-right: 10px; padding-top:9px; padding-bottom:5px;",bind:{html:"{nama}"}},{xtype:"container",layout:"hbox",style:"margin-left: 10px; margin-right: 10px;",items:[{xtype:"button",iconCls:"x-fa fa-lock",padding:0,tooltip:"Ubah Kata Sandi",handler:"onUbahKataSandi"}]}],load:function(){var g=this.getViewModel(),k=g.get("pegawai");pengguna=g.get("pengguna");this.app=webservice.app;if(this.app){pengguna.queryParams={ID:this.app.usrid};pengguna.load({callback:function(f,m,e){if(e){k.queryParams={NIP:f[0].get("NIP")};k.load({callback:function(l,p,q){if(q){if(l[0].get("JENIS_KELAMIN")==2){g.set("image","nophoto-female.jpg")}else{g.set("image","nousuario.jpg")}}else{g.set("image","nousuario.jpg")}}})}}});this.getViewModel().set("nama",this.app.usrNm)}}},0,["aplikasi-pengguna-info-panel"],["component","box","container","panel","form","com-form","aplikasi-pengguna-info-panel"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"aplikasi-pengguna-info-panel":true},["widget.aplikasi-pengguna-info-panel"],0,[aplikasi.pengguna.info,"Panel"],0));(Ext.cmd.derive("aplikasi.pengguna.info.PanelController",Ext.app.ViewController,{onUbahKataSandi:function(o){var m=this,p=m.getView(),q=527,n=275;if(Ext.os.deviceType=="Phone"){q=n=0}p.openDialog("",true,q,n,{xtype:"ubahkatasandi-form",title:"Ubah Kata Sandi",iconCls:"x-fa fa-lock",ui:"panel-red",showCloseButton:true},function(e,f){var g=f.down("ubahkatasandi-form");g.loadRecord(Ext.create("data.model.Pengguna",{ID:p.app.usrid,LOGIN:p.app.usrLg}));g.on({save:function(){f.close()},close:function(){f.close()}})},null,false)}},0,0,0,0,["controller.aplikasi-pengguna-info-panel"],0,[aplikasi.pengguna.info,"PanelController"],0));(Ext.cmd.derive("aplikasi.pengguna.ubahkatasandi.FormController",Ext.app.ViewController,{onReset:function(){this.getView().getForm().reset()},onSimpan:function(o){var m=this,q=m.getView(),n=m.getViewModel(),p=m.getReferences();if(p.pass.getValue()!=p.repeatpass.getValue()){q.notifyMessage("Kata Sandi Baru anda berbeda, Silahkan cek kembali Kata Sandi Baru anda");return}q.save(o,{},function(f,e,g){q.fireEvent("getView",g)})},onBlurPasswordLama:function(q){var o=this,t=o.getView(),p=o.getViewModel(),n=p.get("record"),s=o.getStore("store");s.setQueryParams({ID:n.get("ID"),PASSWORD:q.getValue()});s.doAfterLoad=function(k,f,e,g){p.set("allowChangePwd",false);if(e){p.set("allowChangePwd",f.length>0)}};s.load()}},0,0,0,0,["controller.ubahkatasandi-form"],0,[aplikasi.pengguna.ubahkatasandi,"FormController"],0));(Ext.cmd.derive("aplikasi.pengguna.ubahkatasandi.Form",com.Form,{model:"aplikasi.pengguna.Model",controller:"ubahkatasandi-form",viewModel:{stores:{store:{type:"aplikasi-pengguna-store"}},data:{formConfig:{reset:false,close:false},viewInfoDetil:false,hideForm:true,allowChangePwd:false}},defaultType:"textfield",defaults:{anchor:"100%",allowBlank:false,labelAlign:"right"},title:"Form Input Pengguna dan Kata Sandi",items:[{fieldLabel:"ID Pengguna",reference:"username",emptyText:"Input ID Pengguna",readOnly:true,name:"LOGIN"},{fieldLabel:"Kata Sandi Lama",labelAlign:"right",allowBlank:true,reference:"passlama",emptyText:"Input Kata Sandi Lama",inputType:"password",name:"PASSWORDLAMA",listeners:{blur:"onBlurPasswordLama"}},{fieldLabel:"Kata Sandi Baru",labelAlign:"right",reference:"pass",emptyText:"Input Kata Sandi Baru",inputType:"password",name:"PASSWORD",bind:{readOnly:"{!allowChangePwd}"}},{fieldLabel:"Ulangi Kata Sandi Baru",labelAlign:"right",reference:"repeatpass",inputType:"password",emptyText:"Ulangi Kata Sandi Baru",name:"ULANGPASSWORD",bind:{readOnly:"{!allowChangePwd}"}}],buttons:[{text:"Simpan",ui:"soft-blue",iconCls:"x-fa fa-save",handler:"onSimpan",tooltip:{text:"Simpan",mouseOffset:[0,-75]},bind:{disabled:"{!allowChangePwd}"}},{text:"Reset",ui:"soft-red",iconCls:"x-fa fa-refresh",handler:"onReset",bind:{hidden:"{!formConfig.reset}"},tooltip:{text:"Reset",mouseOffset:[0,-75]}}],storeload:function(n){var o=this,s=o.down("[reference = username]"),q=Ext.create("aplikasi.pengguna.Model",{}),p=o.getVieModel(),t=p.get("store");if(t){t.removeAll();t.queryParams={NIP:n.get("NIP")};t.load({callback:function(k,g,f){if(f){var e=t.getAt(0);q.set(e.data);o.loadRecord(q);p.set("hideForm",false)}else{q.set("NAMA",n.get("NAMA"));q.set("NIP",n.get("NIP"));o.loadRecord(q)}}})}}},0,["ubahkatasandi-form"],["component","box","container","panel","form","com-form","ubahkatasandi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"ubahkatasandi-form":true},["widget.ubahkatasandi-form"],0,[aplikasi.pengguna.ubahkatasandi,"Form"],0));(Ext.cmd.derive("aplikasi.teams.Form",com.Form,{title:"Team SIMpel",iconCls:"simpel-simpel",layout:"fit",scrollable:"y",items:[{xtype:"dataview",itemSelector:"div.team-view",tpl:['<tpl for=".">','<div class="team-view">','<div class="team-view-bg">','<div class="team-view-item">','<tpl if="IMAGE">','<img src="{IMAGE}"/>',"</tpl>","<strong>{NAMA}</strong>",'<div style="font-size: 12px">{ROLE}</div>',"</div>","</div>","</div>","</tpl>"],plugins:{ptype:"ux-animated-dataview"},store:{autoLoad:true,fields:["ID","NAMA","ROLE","IMAGE"],proxy:{type:"ajax",url:webservice.location+"aplikasi/teams",reader:{type:"json",rootProperty:"data"}}}}]},0,["aplikasi-teams-form"],["component","box","container","panel","form","com-form","aplikasi-teams-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"aplikasi-teams-form":true},["widget.aplikasi-teams-form"],0,[aplikasi.teams,"Form"],0));(Ext.cmd.derive("aplikasi.tentang.Workspace",com.Form,{layout:"fit",bodyPadding:0,ui:"panel-cyan",title:"&nbsp;Tentang Aplikasi",titleFieldConfig:{iconCls:"x-fa fa-info"},fullscreenEnabled:true,menuConfig:{enabled:true,width:250,buttonConfig:{}},fullscreenConfig:{},header:{items:[{}]},load:function(m){var l=this,k=[];k.push({text:"Catatan Release",leaf:true,className:"aplikasi.tentang.changelog.Form",idClassName:"aplikasi-pengaturan-changelog-form"});k.push({text:"Kontak",leaf:true,className:"aplikasi.tentang.kontak.Form",idClassName:"aplikasi-pengaturan-kontak-form"});k.push({text:"Informasi",leaf:true,className:"aplikasi.tentang.informasi.Form",idClassName:"aplikasi-pengaturan-informasi-form"});this.setMenus(k)}},0,["aplikasi-tentang-workspace"],["component","box","container","panel","form","com-form","aplikasi-tentang-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"aplikasi-tentang-workspace":true},["widget.aplikasi-tentang-workspace"],0,[aplikasi.tentang,"Workspace"],0));(Ext.cmd.derive("aplikasi.tentang.changelog.Form",com.Form,{title:"Catatan Release",iconCls:"x-fa fa-file-text-o",layout:"fit",ui:"panel-cyan",scrollable:"y",bodyPadding:0,items:[{xtype:"panel",bodyStyle:"background: rgb(40, 44, 52)"}],listeners:{afterrender:function(){var m=this.down("panel"),k=webservice.location+"aplikasi/tentang/changelog",l="<iframe style='width: 100%; height: 100%' frameborder=false src='"+k+"'></iframe>";m.update(l)}}},0,["aplikasi-tentang-changelog-form"],["component","box","container","panel","form","com-form","aplikasi-tentang-changelog-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"aplikasi-tentang-changelog-form":true},["widget.aplikasi-tentang-changelog-form"],0,[aplikasi.tentang.changelog,"Form"],0));(Ext.cmd.derive("aplikasi.tentang.informasi.Form",com.Form,{title:"Informasi",iconCls:"x-fa fa-book",layout:"fit",scrollable:"y",bodyPadding:0,ui:"panel-gray",items:[{xtype:"panel",bodyStyle:"background: rgb(40, 44, 52)"}],listeners:{afterrender:function(){var m=this.down("panel"),k=webservice.location+"aplikasi/tentang/contributor",l="<iframe style='width: 100%; height: 100%' frameborder=false src='"+k+"'></iframe>";m.update(l)}}},0,["aplikasi-tentang-informasi-form"],["component","box","container","panel","form","com-form","aplikasi-tentang-informasi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"aplikasi-tentang-informasi-form":true},["widget.aplikasi-tentang-informasi-form"],0,[aplikasi.tentang.informasi,"Form"],0));(Ext.cmd.derive("aplikasi.tentang.kontak.Form",com.Form,{title:"Kontak",iconCls:"x-fa fa-book",layout:"fit",scrollable:"y",items:[{xtype:"panel"}],listeners:{afterrender:function(){var m=this.down("panel"),k=webservice.location+"aplikasi/tentang/kontak",l="<iframe style='width: 100%; height: 100%' frameborder=false src='"+k+"'></iframe>";m.update(l)}}},0,["aplikasi-tentang-kontak-form"],["component","box","container","panel","form","com-form","aplikasi-tentang-kontak-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"aplikasi-tentang-kontak-form":true},["widget.aplikasi-tentang-kontak-form"],0,[aplikasi.tentang.kontak,"Form"],0));(Ext.cmd.derive("master.jenispesertapenjamin.Model",data.model.Model,{serviceName:"general/jenis-peserta-penjamin",fields:[{name:"JENIS",type:"int"},{name:"ID",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[master.jenispesertapenjamin,"Model"],0));(Ext.cmd.derive("master.jenispesertapenjamin.Store",data.store.Store,{model:"master.jenispesertapenjamin.Model"},0,0,0,0,["store.master-jenispesertapenjamin-store"],0,[master.jenispesertapenjamin,"Store"],0));(Ext.cmd.derive("master.mapping.groupreferensikelas.Model",data.model.Model,{serviceName:"general/group/referensi/kelas",fields:[{name:"ID",type:"int"},{name:"REFERENSI_KELAS",type:"int"},{name:"KELAS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[master.mapping.groupreferensikelas,"Model"],0));(Ext.cmd.derive("master.mapping.groupreferensikelas.Store",data.store.Store,{model:"master.mapping.groupreferensikelas.Model"},0,0,0,0,["store.master-mapping-groupreferensikelas-store"],0,[master.mapping.groupreferensikelas,"Store"],0));(Ext.cmd.derive("master.marginpenjaminfarmasi.Model",data.model.Model,{serviceName:"general/marginpenjaminfarmasi",fields:[{name:"ID",type:"int"},{name:"PENJAMIN",type:"int"},{name:"JENIS",type:"int"},{name:"MARGIN",type:"float"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL_SK",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"NOMOR_SK",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[master.marginpenjaminfarmasi,"Model"],0));(Ext.cmd.derive("master.marginpenjaminfarmasi.Store",data.store.Store,{model:"master.marginpenjaminfarmasi.Model"},0,0,0,0,["store.master-marginpenjaminfarmasi-store"],0,[master.marginpenjaminfarmasi,"Store"],0));(Ext.cmd.derive("master.negara.Model",data.model.Model,{serviceName:"general/negara",fields:[{name:"ID",type:"int"},{name:"DESKRIPSI",type:"string"},{name:"SINGKATAN",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[master.negara,"Model"],0));(Ext.cmd.derive("master.negara.Store",data.store.Store,{model:"master.negara.Model"},0,0,0,0,["store.master-negara-store"],0,[master.negara,"Store"],0));(Ext.cmd.derive("master.paketdetil.distribusitarif.Model",data.model.Model,{serviceName:"general/distribusitarifpaketdetil",fields:[{name:"ID",type:"int"},{name:"PAKET_DETIL",type:"int"},{name:"ADMINISTRASI",type:"int"},{name:"SARANA",type:"int"},{name:"BHP",type:"int"},{name:"DOKTER_OPERATOR",type:"int"},{name:"DOKTER_ANASTESI",type:"int"},{name:"DOKTER_LAINNYA",type:"int"},{name:"PENATA_ANASTESI",type:"int"},{name:"PARAMEDIS",type:"int"},{name:"NON_MEDIS",type:"int"},{name:"TARIF",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL_SK",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"NOMOR_SK",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[master.paketdetil.distribusitarif,"Model"],0));(Ext.cmd.derive("master.paketdetil.distribusitarif.Store",data.store.Store,{model:"master.paketdetil.distribusitarif.Model"},0,0,0,0,["store.master-paketdetil-distribusitarif-Store"],0,[master.paketdetil.distribusitarif,"Store"],0));(Ext.cmd.derive("master.penyedia.Model",data.model.Model,{serviceName:"inventory/penyedia",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"ALAMAT",type:"string"},{name:"TELEPON",type:"string"},{name:"FAX",type:"string"},{name:"TANGGAL",type:"date",defaultValue:new Date(),dateFormat:"y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[master.penyedia,"Model"],0));(Ext.cmd.derive("master.penyedia.Store",data.store.Store,{model:"master.penyedia.Model"},0,0,0,0,["store.master-penyedia-store"],0,[master.penyedia,"Store"],0));(Ext.cmd.derive("master.ruangan.kelas.Model",data.model.Model,{serviceName:"general/ruangan/kelas",fields:[{name:"ID",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"RUANGAN",type:"string"},{name:"KELAS",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[master.ruangan.kelas,"Model"],0));(Ext.cmd.derive("master.ruangan.kelas.Store",data.store.Store,{model:"master.ruangan.kelas.Model"},0,0,0,0,["store.ruangan-kelas-store"],0,[master.ruangan.kelas,"Store"],0));(Ext.cmd.derive("master.tindakanpaket.Model",data.model.Model,{serviceName:"general/tindakanpaket",fields:[{name:"ID",type:"int"},{name:"NAMA",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[master.tindakanpaket,"Model"],0));(Ext.cmd.derive("master.tindakanpaket.Store",data.store.Store,{model:"master.tindakanpaket.Model"},0,0,0,0,["store.tindakan-paket-store"],0,[master.tindakanpaket,"Store"],0));(Ext.cmd.derive("master.Workspace",com.Form,{controller:"workspace-master",layout:"fit",bodyPadding:0,items:[{xtype:"com-form",ui:"panel-black",title:"Master",titleFieldConfig:{},fullscreenEnabled:true,menuConfig:{enabled:true,width:257,buttonConfig:{}},fullscreenConfig:{},header:{items:[{}]}}],load:function(q){var n=this,o=this.down("com-form");var m=[],p=Ext.JSON.decode(Ext.util.Base64.decode(n.app.xuam));p.forEach(function(f,e){f=Ext.JSON.decode(Ext.util.Base64.decode(f));if(f.ID.substring(0,2)=="19"&&f.LEVEL==2){m.push({text:f.DESKRIPSI,leaf:true,iconCls:f.ICON_CLS,className:f.CLASS,idClassName:n.replaceAll(f.CLASS.toLowerCase(),".","_")})}});o.setMenus(m)}},0,["workspace-master"],["component","box","container","panel","form","com-form","workspace-master"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-master":true},["widget.workspace-master"],0,[master,"Workspace"],0));(Ext.cmd.derive("master.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.workspace-master"],0,[master,"WorkspaceController"],0));(Ext.cmd.derive("master.aturanpakai.Combo",com.Combo,{viewModel:{stores:{store:{type:"referensi-store"}}},bind:{store:"{store}"},emptyText:"[ Pilih Aturan Pakai ]",queryMode:"remote",hideTrigger:true,queryParam:"QUERY",valueField:"ID",minChars:1,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div style="height: 25px;">[ {ID} ] - <strong>{DESKRIPSI}</strong> </div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{ID} - {DESKRIPSI}","</tpl>")},0,["aturanpakai-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","aturanpakai-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"aturanpakai-combo":true},["widget.aturanpakai-combo"],0,[master.aturanpakai,"Combo"],0));(Ext.cmd.derive("master.aturanpakai.ViewModel",Ext.app.ViewModel,{formulas:{init:function(f){f("aturanpakaistore").load()}},stores:{aturanpakaistore:{type:"referensi-store",queryParams:{JENIS:41}}}},0,0,0,0,["viewmodel.aturanpakaimodel"],0,[master.aturanpakai,"ViewModel"],0));(Ext.cmd.derive("master.aturanpakai.Workspace",Ext.form.Panel,{layout:{type:"vbox",align:"stretch"},bodyPadding:4,header:false,border:false,defaults:{margin:"0 1 0 1"},initComponent:function(){this.items=[{layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 1 0 1"},bodyPadding:5,defaultType:"combobox",items:[{xtype:"aturanpakai-combo",params:{JENIS:41},flex:1}]}];Ext.form.Panel.prototype.initComponent.apply(this,arguments)}},0,["workspace-combo-aturanpakai"],["component","box","container","panel","form","workspace-combo-aturanpakai"],{component:true,box:true,container:true,panel:true,form:true,"workspace-combo-aturanpakai":true},["widget.workspace-combo-aturanpakai"],0,[master.aturanpakai,"Workspace"],0));(Ext.cmd.derive("master.barang.Combo",com.Combo,{viewModel:{stores:{store:{type:"barang-ruangan-store"}}},bind:{store:"{store}"},emptyText:"[ Masukkan Nama Obat ]",queryMode:"remote",hideTrigger:true,queryParam:"QUERY",displayField:"NAMA",valueField:"BARANG",typeAhead:true,minChars:2,tpl:new Ext.XTemplate('<tpl for=".">','<div class="x-boundlist-item" style="font-size: 12px; line-height: 15px; padding: 3px 10px">','<div style="font-weight: bold; white-space:normal !important;">[ {BARANG} ] - {REFERENSI.BARANG.NAMA}</div>','<div style="white-space:normal !important;">Kategory: {[this.getKategory(values.REFERENSI.BARANG)]}</div>','<div style="white-space:normal !important;">Merk: {[this.getMerk(values.REFERENSI.BARANG)]}</div>','<div style="font-weight: bold; white-space:normal !important;">Stok: {STOK}</div>',"</div>","</tpl>",{getKategory:function(k){var l=k.REFERENSI?k.REFERENSI:null,m=l?(l.KATEGORI?l.KATEGORI.NAMA:"-"):"-";return m},getMerk:function(k){var l=k.REFERENSI?k.REFERENSI:null,m=l?(l.MERK?l.MERK.DESKRIPSI:"-"):"-";return m}}),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{BARANG} - {REFERENSI.BARANG.NAMA}","</tpl>")},0,["barang-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","barang-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"barang-combo":true},["widget.barang-combo"],0,[master.barang,"Combo"],0));(Ext.cmd.derive("master.barang.ComboMaster",com.Combo,{viewModel:{stores:{store:{type:"barang-store"}}},bind:{store:"{store}"},emptyText:"[ Masukkan Nama Obat ]",queryMode:"remote",hideTrigger:true,queryParam:"QUERY",displayField:"NAMA",valueField:"ID",typeAhead:true,minChars:2,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">',"[ {ID} ] - <strong>{NAMA} ~ {REFERENSI.SATUAN.DESKRIPSI}~{REFERENSI.KATEGORI.NAMA} ~ {REFERENSI.MERK.DESKRIPSI}</strong>","</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{ID} - {NAMA} ~ {REFERENSI.SATUAN.DESKRIPSI}~{REFERENSI.KATEGORI.NAMA} ~ {REFERENSI.MERK.DESKRIPSI}","</tpl>")},0,["barang-combo-master"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","barang-combo-master"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"barang-combo-master":true},["widget.barang-combo-master"],0,[master.barang,"ComboMaster"],0));(Ext.cmd.derive("master.barang.Workspace",Ext.form.Panel,{layout:{type:"vbox",align:"stretch"},bodyPadding:4,header:false,border:false,defaults:{margin:"0 1 0 1"},flex:1,initComponent:function(){this.items=[{xtype:"barang-combo",reference:"barangcombo",allowBlank:false,name:"FARMASI"}];Ext.form.Panel.prototype.initComponent.apply(this,arguments)},loadStore:function(m){var p=this,n="101010101",o=p.down("barang-combo"),q=o.getViewModel().get("store");q.queryParams={RUANGAN:n,STATUS:1}}},0,["workspace-combo-barang"],["component","box","container","panel","form","workspace-combo-barang"],{component:true,box:true,container:true,panel:true,form:true,"workspace-combo-barang":true},["widget.workspace-combo-barang"],0,[master.barang,"Workspace"],0));(Ext.cmd.derive("master.barangruangan.Combo",com.Combo,{viewModel:{stores:{store:{type:"barang-ruangan-store"}}},bind:{store:"{store}"},emptyText:"[ Masukkan Nama Obat ]",queryMode:"remote",hideTrigger:true,queryParam:"QUERY",displayField:"NAMA",valueField:"BARANG",minChars:1,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div style="height: 25px;">[ {BARANG} ] - <strong>{REFERENSI.BARANG.NAMA}</strong> , <strong>{REFERENSI.BARANG.REFERENSI.KATEGORI.NAMA}</strong> , <strong>{REFERENSI.BARANG.REFERENSI.SATUAN.NAMA}</strong>, <strong>{STOK}</strong></div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{BARANG} - {REFERENSI.BARANG.NAMA}","</tpl>")},0,["barang-ruangan-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","barang-ruangan-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"barang-ruangan-combo":true},["widget.barang-ruangan-combo"],0,[master.barangruangan,"Combo"],0));(Ext.cmd.derive("master.barangruangan.List",com.Grid,{controller:"barang-ruangan-list",flex:1,viewModel:{stores:{store:{type:"barang-ruangan-store"}}},cls:"x-br-top",border:true,ruangan:false,initComponent:function(){var f=this;if(f.ruangan){f.header={items:[{xtype:"search-field",cls:"x-text-border",autoFocus:true,emptyText:"Nama Barang",flex:1,enableKeyEvents:true,listeners:{search:"onSearch",clear:"onClear"}}]}}f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"ID ",dataIndex:"ID",flex:1,hidden:true},{text:"Barang",dataIndex:"ID",flex:2,renderer:"onBarangRender"},{xtype:"templatecolumn",text:"Kategori",flex:1,tpl:"<div>{REFERENSI.BARANG.REFERENSI.KATEGORI.NAMA}</div>"},{xtype:"templatecolumn",text:"Merk",flex:1,tpl:"<div>{REFERENSI.BARANG.REFERENSI.MERK.DESKRIPSI}</div>"},{xtype:"templatecolumn",text:"Penyedia",flex:1,tpl:"<div>{REFERENSI.BARANG.REFERENSI.PENYEDIA.NAMA}</div>"},{text:"Stok",xtype:"numbercolumn",dataIndex:"STOK",format:"0,00",align:"right",flex:1},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}];f.dockedItems=[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",items:[{xtype:"search-field",cls:"x-text-border",hidden:f.ruangan,emptyText:"Cari Nama Obat",flex:1,listeners:{search:"onSearch",clear:"onClear"}}]}];com.Grid.prototype.initComponent.apply(this,arguments)},loadHalPertama:function(m,q){var n=this,o=n.getViewModel(),p=o.get("store");if(m){if(q){p.queryParams={RUANGAN:m.get("ID"),start:0,page:1};p.load({callback:function(g,e,f){if(f){delete p.queryParams.start;delete p.queryParams.page}}})}}}},0,["barang-ruangan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","barang-ruangan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"barang-ruangan-list":true},["widget.barang-ruangan-list"],0,[master.barangruangan,"List"],0));(Ext.cmd.derive("master.barangruangan.ListController",Ext.app.ViewController,{onBarangRender:function(e,w,x,v,f,t){var u=x.get("REFERENSI"),g=u?(u.BARANG?u.BARANG.NAMA:""):"";return g},onChange:function(u,g,x){var w=this,f=w.getView(),v=w.getViewModel(),t=v.get("store"),e=t.getAt(g);e.set("STATUS",x?1:0);e.scope=this;e.save({callback:function(l,k,m){if(m){f.notifyMessage("Status di"+(x==true?"Aktifkan":"Non Aktifkan"));t.reload()}}})},onSearch:function(q,o){var f=this,e=f.getViewModel(),p=e.get("store");parameter=p.getQueryParams();p.queryParams={QUERY:o,RUANGAN:parameter.RUANGAN,start:0,page:1};p.load()},onClear:function(){var l=this,k=l.getViewModel(),m=k.get("store");delete m.queryParams.QUERY;delete m.queryParams.start;delete m.queryParams.page;m.load()}},0,0,0,0,["controller.barang-ruangan-list"],0,[master.barangruangan,"ListController"],0));(Ext.cmd.derive("master.barangruangan.Workspace",com.Form,{controller:"barang-ruangan-workspace",layout:"border",border:false,defaults:{border:false},initComponent:function(){var f=this;f.items=[{region:"west",title:"Daftar Barang",xtype:"barang-list",collapsible:true,flex:0.7,showSearch:true,reference:"baranglist",hideHeaders:true,split:true,multiSelect:true,viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrop:false},copy:true},listeners:{itemdblclick:"onItemDblClickBarang"}},{region:"center",ruangan:true,xtype:"barang-ruangan-list",reference:"barangruanganlist",viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrag:false},listeners:{scope:f.getController(),drop:"onDropBarang"}}}];f.callParent(arguments)},load:function(m){var o=this,p=o.getViewModel(),q=o.down("barang-list"),n=o.down("barang-ruangan-list");if(m){q.loadStore({STATUS:1});o.loadRecord(m);n.loadHalPertama(m,true)}}},0,["barang-ruangan-workspace"],["component","box","container","panel","form","com-form","barang-ruangan-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"barang-ruangan-workspace":true},["widget.barang-ruangan-workspace"],0,[master.barangruangan,"Workspace"],0));(Ext.cmd.derive("master.barangruangan.WorkspaceController",Ext.app.ViewController,{onItemDblClickBarang:function(q,n){var m=this,o=m.getViewModel(),p=new Date();data=o.get("record");n=Ext.create("data.model.BarangRuangan",{BARANG:n.get("ID"),RUANGAN:data.get("ID"),STOK:0,TANGGAL:p,STATUS:1});m.simpanBarangRuangan(n)},onDropBarang:function(e,g,f,A){var D=this,z=D.getViewModel(),w=z.get("record"),C=Ext.Array.clone(g.records),x=w.get("ID"),y=new Date(),B=0;g.records=[];Ext.Array.each(C,function(k){k=Ext.create("data.model.BarangRuangan",{BARANG:k.get("ID"),RUANGAN:x,STOK:0,TANGGAL:y,STATUS:1});B++;D.simpanBarangRuangan(k,false,function(l,m){g.records.push(k);if(B==C.length){D.loadBarangRuangan()}})})},privates:{simpanBarangRuangan:function(s,q,f){var t=this,p=t.getView(),q=q!=undefined?q:true,e=s.get("ID");s.showError=true;s.save({callback:function(l,n,m){if(m){var k=l.get("REFERENSI"),g=k?(k.BARANG?k.BARANG.NAMA:""):"";p.notifyMessage((!Ext.isNumeric(e)?"Barang <b>"+g+"</b>":"Data")+" telah tersimpan");if(q){t.loadBarangRuangan()}}if(Ext.isFunction(f)){f(l,m)}}})},loadBarangRuangan:function(){var l=this,m=l.getReferences(),k=m.barangruanganlist;k.reload()}}},0,0,0,0,["controller.barang-ruangan-workspace"],0,[master.barangruangan,"WorkspaceController"],0));(Ext.cmd.derive("master.pegawai.Combo",com.Combo,{viewModel:{stores:{store:{type:"pegawai-store"}}},emptyText:"[Masukkan NIP/Nama Dokter]",queryMode:"remote",hideTrigger:true,queryParam:"QUERY",displayField:"NAMA",valueField:"NIP",minChars:2,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div style="height: 17px;"><strong>{NAMA}</strong></div>','<div style="font-size: 12px;">{NIP}</div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{NIP} - {NAMA}","</tpl>")},0,["pegawai-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","pegawai-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"pegawai-combo":true},["widget.pegawai-combo"],0,[master.pegawai,"Combo"],0));(Ext.cmd.derive("master.dokter.Combo",master.pegawai.Combo,{viewModel:{stores:{store:{type:"dokter-store"}}},valueField:"ID",loadStore:function(){var f=this.getViewModel().get("store");if(f){f.load()}}},0,["dokter-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","pegawai-combo","dokter-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"pegawai-combo":true,"dokter-combo":true},["widget.dokter-combo"],0,[master.dokter,"Combo"],0));(Ext.cmd.derive("master.dokter.List",Ext.form.Panel,{layout:{type:"vbox",align:"stretch"},items:[{xtype:"toolbar",border:false,items:["->",{},{xtype:"button",text:"+"}]},{}]},0,["dokter-list"],["component","box","container","panel","form","dokter-list"],{component:true,box:true,container:true,panel:true,form:true,"dokter-list":true},["widget.dokter-list"],0,[master.dokter,"List"],0));(Ext.cmd.derive("master.dokter.ListController",Ext.app.ViewController,{nama:"",nip:"",init:function(){var n=this,o=n.getView(),m=n.getViewModel(),e=m.get("dokterstore");o.down("pegawai-combo").getViewModel().set("store",e)},onSelectDokter:function(g,k){nip=k.get("NIP");nama=k.get("NAMA")},addDokterClick:function(){var k=this;var g=new data.model.Dokter({NAMA:nama,NIP:nip});k.getStore("doktergridstore").insert(0,g);this.getReferences("combo_pegawai").setValue()},onRemoveClick:function(m,l){var k=this;k.getStore("doktergridstore").removeAt(l)}},0,0,0,0,["controller.dokter-list"],0,[master.dokter,"ListController"],0));(Ext.cmd.derive("master.dokter.ViewModel",Ext.app.ViewModel,{data:{},stores:{dokterstore:{type:"dokter-store"}}},0,0,0,0,["viewmodel.dokter-model"],0,[master.dokter,"ViewModel"],0));(Ext.cmd.derive("master.dokterruangan.Form",com.Form,{controller:"form-dokterruangan",model:"data.model.DokterRuangan",layout:{type:"hbox",align:"stretch"},border:false,bodyPadding:0,defaults:{margin:"0 2 0 2"},defaultType:"button",items:[{xtype:"dokter-combo",name:"DOKTER",reference:"combodokter",hideTrigger:false,forceSelection:true,flex:1,multiSelect:true,emptyText:"[ PILIH DOKTER RUANGAN ]",allowBlank:false,displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">{NAMA}<tpl if="xindex < xcount">, </tpl></tpl>')},{text:"ADD",width:60,listeners:{click:"onSimpan"}},{text:"ALL",width:60,listeners:{click:"onAllDokter"}}]},0,["form-dokterruangan"],["component","box","container","panel","form","com-form","form-dokterruangan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-dokterruangan":true},["widget.form-dokterruangan"],0,[master.dokterruangan,"Form"],0));(Ext.cmd.derive("master.dokterruangan.FormController",Ext.app.ViewController,{onSimpan:function(l){var k=this,m=k.getView();m.save(l)},onAllDokter:function(){var k=this,m=k.getView(),l=m.getRecord();if(l){l.set("ALL",1);l.save({callback:function(e,g,f){if(f){m.fireEvent("save",e)}}})}}},0,0,0,0,["controller.form-dokterruangan"],0,[master.dokterruangan,"FormController"],0));(Ext.cmd.derive("master.dokterruangan.List",com.Grid,{controller:"dokterruangan-list",viewModel:{stores:{store:{type:"dokter-ruangan-store"}}},cls:"x-br-top",border:true,columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"NIP ",dataIndex:"ID",flex:1,renderer:"onNIPDokterRuanganRender"},{text:"NAMA",dataIndex:"ID",flex:4,renderer:"onNamaDokterRuanganRender"},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}]},0,["dokterruangan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","dokterruangan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"dokterruangan-list":true},["widget.dokterruangan-list"],0,[master.dokterruangan,"List"],0));(Ext.cmd.derive("master.dokterruangan.ListController",Ext.app.ViewController,{onChange:function(s,w,x){var p=this,v=p.getView(),q=p.getViewModel(),u=q.get("store"),t=u.getAt(w);if(t){t.set("STATUS",x?1:0);t.scope=p;t.save({callback:function(e,g,f){if(f){v.notifyMessage("Status di "+(x==true?"Aktifkan":"NonAktifkan"))}else{t.set("STATUS",x?0:1)}}})}},onNIPDokterRuanganRender:function(m,p,n){var q=n.get("REFERENSI"),o=q?(q.DOKTER?q.DOKTER.NIP:""):"";return o},onNamaDokterRuanganRender:function(m,o,n){var q=n.get("REFERENSI"),p=q?(q.DOKTER?q.DOKTER.NAMA:""):"";return p}},0,0,0,0,["controller.dokterruangan-list"],0,[master.dokterruangan,"ListController"],0));(Ext.cmd.derive("master.dokterruangan.Workspace",com.Form,{controller:"workspace-dokterruangan",viewModel:{data:{hideForm:true}},border:false,defaults:{border:false},layout:"border",initComponent:function(){var g=this,k=g.getController();g.items=[{region:"north",layout:{type:"hbox",align:"stretch"},margin:"2.2.2.2",items:[{xtype:"form-dokterruangan",reference:"formdokterruangan",hidden:true,flex:1,bind:{hidden:"{hideForm}"},listeners:{scope:k,save:"onSuccess"}},{xtype:"component",flex:0.7},{xtype:"button",margin:2,height:32,cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Dokter Ruangan",listeners:{scope:k,click:"onAddDokterRuangan"}}]},{region:"center",xtype:"dokterruangan-list",reference:"dokterruanganlist"}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(l){var n=this,o=n.getViewModel(),m=n.down("dokterruangan-list");m.setListConfig({paging:true});if(l){n.loadRecord(l);m.load({RUANGAN:l.get("ID")});o.set("hideForm",true)}}},0,["workspace-dokterruangan"],["component","box","container","panel","form","com-form","workspace-dokterruangan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-dokterruangan":true},["widget.workspace-dokterruangan"],0,[master.dokterruangan,"Workspace"],0));(Ext.cmd.derive("master.dokterruangan.WorkspaceController",Ext.app.ViewController,{onAddDokterRuangan:function(s){var p=this,u=p.getView(),q=p.getViewModel(),t=p.getReferences(),o=q.get("record"),v=q.get("hideForm");q.set("hideForm",!v);t.formdokterruangan.createRecord({RUANGAN:o.get("ID"),STATUS:1});t.formdokterruangan.focus("DOKTER")},onSuccess:function(){var n=this,q=n.getView(),o=n.getViewModel(),p=n.getReferences(),m=o.get("record");p.dokterruanganlist.reload();p.formdokterruangan.createRecord({RUANGAN:m.get("ID"),STATUS:1})}},0,0,0,0,["controller.workspace-dokterruangan"],0,[master.dokterruangan,"WorkspaceController"],0));(Ext.cmd.derive("master.doktersmf.Form",Ext.form.Panel,{controller:"form-doktersmf",border:false,items:[{layout:"border",layout:{type:"hbox",align:"stretch"},border:false,defaults:{margin:"2 2 3 1",flex:1},bodyPadding:2,items:[{xtype:"combo",bodyPadding:2,name:"DOKTER",bind:{store:"{dokterstore}"},displayField:"NAMA",valueField:"ID",flex:4,margin:"2 2 2 2",emptyText:"[ PILIH DOKTER SMF ]",allowBlank:false,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div style="height: 17px;"><strong>{NAMA}</strong></div>','<div style="font-size: 12px;">{NIP}</div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{NIP} - {NAMA}","</tpl>")},{xtype:"button",text:"ADD",flex:1,margin:"2 2 2 2",listeners:{click:"onSimpan"}}]}]},0,["form-doktersmf"],["component","box","container","panel","form","form-doktersmf"],{component:true,box:true,container:true,panel:true,form:true,"form-doktersmf":true},["widget.form-doktersmf"],0,[master.doktersmf,"Form"],0));(Ext.cmd.derive("master.doktersmf.FormController",Ext.app.ViewController,{onSimpan:function(m){var n=this,o=n.getView(),e=o.getForm().getValues();model=o.getRecord();if(o.getForm().isValid()){model.set(e);model.showError=true;model.animateTarget=m;model.scope=n;model.save({callback:function(f,k,g){if(k.hasException()||!g){}if(g){Ext.toast({html:"Data telah disimpan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});o.fireEvent("success",f)}}})}}},0,0,0,0,["controller.form-doktersmf"],0,[master.doktersmf,"FormController"],0));(Ext.cmd.derive("master.doktersmf.List",Ext.grid.Panel,{controller:"doktersmf-list",flex:1,bind:{store:"{doktersmfstore}"},cls:"x-br-top",border:true,columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"ID ",dataIndex:"ID",flex:1},{text:"DOKTER SMF",dataIndex:"DOKTER SMF",flex:4,renderer:"onDokterSmfRender"},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}],dockedItems:[{xtype:"pagingtoolbar",dock:"bottom",displayInfo:true,items:["-",{},{},{xtype:"textfield",cls:"x-text-border",iconCls:"iconSearch",autoFocus:true,emptyText:"Cari berdasarkan DOKTER SMF",reference:"cari_doktersmf",enableKeyEvents:true,width:275,triggers:{clear:{weight:0,cls:"x-form-clear-trigger",hidden:true,handler:"onClearClick"},search:{weight:1,cls:"x-form-search-trigger",handler:"onSearchClick"}},listeners:{}}]}]},0,["doktersmf-list"],["component","box","container","panel","tablepanel","gridpanel","grid","doktersmf-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"doktersmf-list":true},["widget.doktersmf-list"],0,[master.doktersmf,"List"],0));(Ext.cmd.derive("master.doktersmf.ListController",Ext.app.ViewController,{onSelectDokterSmf:function(g,k){},addDokterSmfClick:function(){},onRemoveClick:function(m,l){var k=this;k.getStore("doktersmfgridstore").removeAt(l)},onDokterSmfRender:function(z,v,f,x,g,w){var k=this,e=k.getViewModel(),y=e.get("doktersmfcombostore");return this.getDeskripsi(y,f.get("DOKTER SMF"))},getDeskripsi:function(m,l){var k=m.findRecord("ID",l,0,false,true);if(k==null){return l}return k.get("DESKRIPSI")}},0,0,0,0,["controller.doktersmf-list"],0,[master.doktersmf,"ListController"],0));(Ext.cmd.derive("master.doktersmf.ViewModel",Ext.app.ViewModel,{formulas:{init:function(f){f("doktersmfcombostore").load()}},stores:{doktersmfcombostore:{type:"referensi-store",queryParams:{JENIS:26,STATUS:1}},doktersmfstore:{type:"dokter-smf-store"},dokterstore:{type:"dokter-store"}}},0,0,0,0,["viewmodel.doktersmfmodel"],0,[master.doktersmf,"ViewModel"],0));(Ext.cmd.derive("master.doktersmf.Workspace",Ext.form.Panel,{controller:"workspace-doktersmf",viewModel:{type:"doktersmfmodel",data:{hideForm:true}},border:false,layout:"border",initComponent:function(){var f=this;f.items=[{region:"north",layout:"hbox",border:false,header:{items:[{xtype:"button",margin:2,height:32,cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Dokter Smf",listeners:{click:"onAddDokterSmf"}}]},bodyPadding:2,items:[{xtype:"form-doktersmf",width:"40%",reference:"formdoktersmf",bind:{hidden:"{hideForm}"},listeners:{success:"onSuccess"}}]},{region:"center",xtype:"doktersmf-list",border:false,reference:"doktersmflist"}];f.callParent(arguments);f.down("form-doktersmf").setHidden(true)},load:function(g){var k=this.getViewModel().get("doktersmfstore");if(g){if(k){k.queryParams={RUANGAN:g.get("ID")};k.removeAll();k.load()}}}},0,["workspace-doktersmf"],["component","box","container","panel","form","workspace-doktersmf"],{component:true,box:true,container:true,panel:true,form:true,"workspace-doktersmf":true},["widget.workspace-doktersmf"],0,[master.doktersmf,"Workspace"],0));(Ext.cmd.derive("master.doktersmf.WorkspaceController",Ext.app.ViewController,{onAddDokterSmf:function(k){var g=this;vm=g.getViewModel(),a=vm.get("hideForm");doktersmf=vm.get("doktersmfstore"),refs=g.getReferences(),model=Ext.create("data.model.DokterSmf",{});model.set(doktersmf.getQueryParams());model.set("STATUS",1);if(a==true){vm.set("hideForm",false)}else{vm.set("hideForm",true)}refs.formdoktersmf.loadRecord(model)},onSuccess:function(){var n=this,o=n.getView(),m=n.getViewModel(),e=n.getReferences();o.getForm().reset();e.doktersmflist.getStore().load();m.set("hideForm",true)}},0,0,0,0,["controller.workspace-doktersmf"],0,[master.doktersmf,"WorkspaceController"],0));(Ext.cmd.derive("master.grouptindakanlab.Detil",com.Form,{controller:"grouptindakanlab-detil",viewModel:{data:{record:undefined,uisAktif:["soft-black","soft-green"]},formulas:{getAktifStatusText:function(f){return f("record.STATUS")==1?"Aktif":""},getNonAktifStatusText:function(f){return f("record.STATUS")==0?"Non Aktif":""}}},bind:{title:"{record.DESKRIPSI}"},header:{iconCls:"x-fa fa-list",margin:0,padding:"5 10 5 10",height:50,layout:{type:"hbox",align:"stretch"},items:[{xtype:"fieldcontainer",defaultType:"button",border:false,layout:"hbox",defaults:{width:80,padding:5,handler:"onStatus"},border:false,items:[{reference:"btnAktif",tooltip:"Aktifkan",bind:{text:"{getAktifStatusText}"},status:1,handler:"onStatus"},{reference:"btnNonAktif",tooltip:"Non Aktifkan",bind:{text:"{getNonAktifStatusText}"},status:0,handler:"onStatus"}]}]},loadRecord:function(q){var e=this,f=e.getForm().loadRecord(q),t=e.getViewModel(),g=t.get("uisAktif"),s=e.getController().getReferences();if(q){t.set("record",q);e.setUiButtons(q.get("STATUS"))}return f},setUiButtons:function(q){var o=this,f=o.getViewModel(),p=f.get("uisAktif"),e=o.getController().getReferences();e.btnAktif.setUI(p[q==1?1:0]);e.btnNonAktif.setUI(p[q==0?1:0])}},0,["grouptindakanlab-detil"],["component","box","container","panel","form","com-form","grouptindakanlab-detil"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"grouptindakanlab-detil":true},["widget.grouptindakanlab-detil"],0,[master.grouptindakanlab,"Detil"],0));(Ext.cmd.derive("master.grouptindakanlab.DetilController",Ext.app.ViewController,{onStatus:function(e){var n="Anda Yakin Ingin"+(e.status==1?"":"Non")+"Aktifkan group tindakan lab Ini ?",m=this.getViewModel().get("record"),o=this.getView();Ext.Msg.show({message:n,title:"Perhatian",ui:"panel-red",buttons:Ext.Msg.YESNO,headerPosition:"left",buttonAlign:"left",icon:Ext.Msg.QUESTION,animateTarget:e,fn:function(g){if(g==="yes"){var f=m.get("STATUS");m.set("STATUS",e.status);m.showError=true;m.animateTarget=e;m.scope=this;m.save({callback:function(l,k,q){if(k.hasException()||!q){m.set("STATUS",f);o.setUiButtons(f)}if(q){o.setUiButtons(e.status);o.notifyMessage((e.status==1?"":"Non ")+"Aktif group tindakan lab berhasil")}}})}}})}},0,0,0,0,["controller.grouptindakanlab-detil"],0,[master.grouptindakanlab,"DetilController"],0));(Ext.cmd.derive("master.grouptindakanlab.Form",com.Form,{controller:"form-grouptindakanlab",bodyPadding:10,items:[{xtype:"textfield",name:"DESKRIPSI",labelWidth:100,width:"100%",fieldLabel:"Deskripsi",allowBlank:false}],buttons:[{xtype:"label",style:"color : red; white-space:normal !important;",bind:{text:"{warning}"}},"->",{text:"Simpan",handler:"onSimpan"}]},0,["form-grouptindakanlab"],["component","box","container","panel","form","com-form","form-grouptindakanlab"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-grouptindakanlab":true},["widget.form-grouptindakanlab"],0,[master.grouptindakanlab,"Form"],0));(Ext.cmd.derive("master.grouptindakanlab.FormController",Ext.app.ViewController,{init:function(){var g=this,k=g.getView();k.down("[name=DESKRIPSI]").focus(false,1000)},onSimpan:function(f){var o=this,p=o.getView(),q=p.getForm().getValues(),e=o.getViewModel().get("record");if(p.getForm().isValid()){e.set(q);e.showError=true;e.animateTarget=f;e.scope=o;e.save({callback:function(g,l,k){if(k){p.notifyMessage("Data telah tersimpan");p.fireEvent("success",k)}}})}}},0,0,0,0,["controller.form-grouptindakanlab"],0,[master.grouptindakanlab,"FormController"],0));(Ext.cmd.derive("master.grouptindakanlab.List",com.Grid,{controller:"list-group-tindakan-lab",viewModel:{stores:{store:{type:"group-tindakan-lab-store"}}},layout:"fit",initComponent:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:40},{text:"Tindakan",dataIndex:"TINDAKAN",renderer:"onRenderNama",flex:2},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}];com.Grid.prototype.initComponent.apply(this,arguments);f.setGridConfig({paging:true})},load:function(l){var m=this,n=m.getViewModel(),o=n.getStore("store");if(l){o.queryParams={GROUP_LAB:l};o.removeAll();o.load()}}},0,["list-group-tindakan-lab"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","list-group-tindakan-lab"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"list-group-tindakan-lab":true},["widget.list-group-tindakan-lab"],0,[master.grouptindakanlab,"List"],0));(Ext.cmd.derive("master.grouptindakanlab.ListController",Ext.app.ViewController,{onChange:function(t,g,e){var v=this,u=v.getViewModel(),s=u.get("store"),f=s.getAt(g);console.log(f);data=f.get("GROUP_LAB")+"-"+f.get("TINDAKAN");console.log(data);f.setId(data);f.set("STATUS",e?1:0);f.scope=this;f.save({callback:function(l,k,m){if(m){v.getView().notifyMessage("Status di"+(e==true?"Aktifkan":"NonAktifkan "))}}})},onRenderNama:function(u,e,v,t,w,g){var x=v.get("REFERENSI"),k=x?(x.TINDAKAN?x.TINDAKAN.NAMA:""):"";return k}},0,0,0,0,["controller.list-group-tindakan-lab"],0,[master.grouptindakanlab,"ListController"],0));(Ext.cmd.derive("master.grouptindakanlab.Tree",Ext.tree.Panel,{controller:"group-tindakan-lab-tree",autoScroll:true,viewModel:{stores:{store:{type:"tree-grouplab-store",queryParams:{TREE:1}}}},border:false,scrollable:true,rootVisible:false,bind:{store:"{store}"},setParams:function(l){var k=this,m=k.getViewModel().get("store");if(m){m.queryParams=Ext.apply(m.queryParams,l)}},loadStore:function(){var g=this,k=g.getViewModel().get("store");if(k){k.removeAll();k.load()}}},0,["group-tindakan-lab-tree"],["component","box","container","panel","tablepanel","treepanel","group-tindakan-lab-tree"],{component:true,box:true,container:true,panel:true,tablepanel:true,treepanel:true,"group-tindakan-lab-tree":true},["widget.group-tindakan-lab-tree"],0,[master.grouptindakanlab,"Tree"],0));(Ext.cmd.derive("master.grouptindakanlab.TreeController",Ext.app.ViewController,{init:function(){var n=this,o=n.getView(),m=n.getViewModel(),e=m.get("store");e.on("load",function(f,g){if(g.length==0){e.removeAll()}o.expandAll();if(g.length>0){o.setSelection(g[0])}})}},0,0,0,0,["controller.group-tindakan-lab-tree"],0,[master.grouptindakanlab,"TreeController"],0));(Ext.cmd.derive("master.grouptindakanlab.Workspace",com.Form,{controller:"workspace-grouptindakanlab",viewModel:{data:{group:undefined}},layout:"border",initComponent:function(){var f=this;f.createMenuContext();f.items=[{region:"west",iconCls:"x-fa fa-align-left",title:"Daftar Tindakan",xtype:"tindakan-list",ui:"panel-cyan",showSearch:true,collapsible:true,flex:0.7,reference:"tindakanlist",hideHeaders:true,split:true,multiSelect:true,viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrop:false},copy:true},listeners:{itemdblclick:"onItemDblClickTindakan"}},{region:"center",xtype:"container",cls:"x-br-right",layout:{type:"vbox",align:"stretch"},items:[{xtype:"grouptindakanlab-detil",ui:"panel-cyan",height:37},{xtype:"list-group-tindakan-lab",flex:1,reference:"listtindakangroup",viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrag:false},listeners:{scope:f.getController(),drop:"onDropTindakan"}}}]},{region:"east",title:"Group",iconCls:"x-fa fa-outdent",flex:0.5,ui:"panel-cyan",split:true,header:{height:37},collapsible:true,reference:"treegrouptindakanlab",xtype:"group-tindakan-lab-tree",border:false,tools:[{xtype:"tool",cls:"x-fa fa-refresh hide-icon-tools",width:20,height:20,tooltip:"Reload Group Lab",reference:"load_grouplab",listeners:{scope:f.getController(),click:"onReload"}},{xtype:"tool",cls:"x-fa fa-plus hide-icon-tools",width:20,height:20,tooltip:"Tambah Group Master",reference:"tambah_group",listeners:{scope:f.getController(),click:"onAddGroup"}}],listeners:{select:"onGroupSelect",rowcontextmenu:"onKlikKananMenu"}}];com.Form.prototype.initComponent.apply(this,arguments)},createMenuContext:function(){var f=this;f.menucontext=new Ext.menu.Menu({items:[{text:"Tambah Sub",iconCls:"x-fa fa-file",handler:function(){f.getController().onAddGroup()}},{text:"Refresh",iconCls:"x-fa fa-refresh",handler:function(){f.getController().onReload()}}]});return f.menucontext},load:function(g){var k=this.down("tindakan-list");k.loadStore({start:0,limit:3000,JENIS_KUNJUNGAN:4,STATUS:1})}},0,["workspace-group-tindakan-lab"],["component","box","container","panel","form","com-form","workspace-group-tindakan-lab"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-group-tindakan-lab":true},["widget.workspace-group-tindakan-lab"],0,[master.grouptindakanlab,"Workspace"],0));(Ext.cmd.derive("master.grouptindakanlab.WorkspaceController",Ext.app.ViewController,{onAddGroup:function(n){var m=this,o=m.getReferences(),l=o.treegrouptindakanlab.getSelection()[0];if(n){this.onViewFormGroup(n,undefined)}else{this.onViewFormGroup(o.treegrouptindakanlab,l)}},onReload:function(){var l=this,k=l.getView(),m=k.down("group-tindakan-lab-tree");m.getStore().load()},onGroupSelect:function(l,A,D,k,B){var C=this,f=C.getView(),y=C.getViewModel(),x=f.down("group-tindakan-lab-tree"),z=x.getController().getReferences().tambah_group,g=A.get("JENIS");if(z){z.setVisible(g!=2)}y.set("group",A.get("ID"));f.down("grouptindakanlab-detil").loadRecord(Ext.create("data.model.GroupLab",A.data));f.down("list-group-tindakan-lab").load(A.get("ID"))},onItemDblClickTindakan:function(o,m){var l=this,n=l.getViewModel();m=Ext.create("data.model.GroupTindakanLab",{GROUP_LAB:n.get("group"),TINDAKAN:m.get("ID"),STATUS:1});l.simpanGroupTindakan(m,n.get("group"))},onDropTindakan:function(f,v,g,z){var e=this,y=e.getViewModel(),w=y.get("group"),B=Ext.Array.clone(v.records),x=w,A=0;v.records=[];Ext.Array.each(B,function(k){k=Ext.create("data.model.GroupTindakanLab",{GROUP_LAB:x,TINDAKAN:k.get("ID"),STATUS:1});A++;e.simpanGroupTindakan(k,x,false,function(l,m){v.records.push(k);if(A==B.length){e.loadGroupTindakan(x)}})})},onKlikKananMenu:function(q,p,g,o,n){this.showMenu(n)},privates:{simpanGroupTindakan:function(s,f,q,p){var t=this,q=q!=undefined?q:true,e=s.get("ID");s.showError=true;s.save({callback:function(l,n,m){if(m){var k=l.get("REFERENSI"),g=k?(k.TINDAKAN?k.TINDAKAN.NAMA:""):"";t.getView().notifyMessage((!Ext.isNumeric(e)?"Data <b>"+g+"</b>":"Data")+" telah tersimpan");if(q){t.loadGroupTindakan(f)}}if(Ext.isFunction(p)){p(l,m)}}})},loadGroupTindakan:function(k){var l=this,m=l.getView();m.down("list-group-tindakan-lab").load(k)},showMenu:function(p){var s=this,u=s.getView().menucontext,v=u.items.items[0],t=s.getReferences(),f=t.treegrouptindakanlab.getSelection()[0],q=p.getXY();if(f){if(f.get("JENIS")==1&&f.get("STATUS")==1){v.setText("TAMBAH SUB "+f.get("DESKRIPSI"));v.setHidden(false)}else{v.setHidden(true)}}p.stopEvent();u.showAt(q)},onViewFormGroup:function(s,w){var p=this,v=p.getView(),t=Ext.create("data.model.GroupLabTree",{}),u=p.getReferences(),x="Master Group Tindakan Lab",q="";treegroup=u.treegrouptindakanlab;if(w){x=" Sub Group Tindakan Lab * "+w.get("DESKRIPSI")+" *";t.set("PARENT",{ID:w.get("ID"),JENIS:w.get("JENIS")});t.set("JENIS",w.get("JENIS")+1);t.set("STATUS",1)}else{q="* Untuk menambah sub group silahkan klik kanan pada group yang ingin ditambahkan";t.set("JENIS",1);t.set("STATUS",1)}v.openDialog("",true,"50%",30,{xtype:"form-grouptindakanlab",viewModel:{data:{record:t,warning:q}},iconCls:"x-fa fa-edit",title:x,showCloseButton:true,ui:"panel-cyan"},function(f,e){var g=e.down("form-grouptindakanlab");g.on("success",function(){treegroup.getStore().removeAll();treegroup.getStore().load();e.close()})},s)}}},0,0,0,0,["controller.workspace-grouptindakanlab"],0,[master.grouptindakanlab,"WorkspaceController"],0));(Ext.cmd.derive("master.inventory.barang.Form",com.Form,{model:"data.model.Barang",controller:"form-barang",viewModel:{stores:{gologan:Ext.create("Ext.data.Store",{fields:["ID","DESKRIPSI"],data:[{ID:1,DESKRIPSI:"Generik"},{ID:2,DESKRIPSI:"Non Generik"}]}),formularium:Ext.create("Ext.data.Store",{fields:["ID","DESKRIPSI"],data:[{ID:1,DESKRIPSI:"FORMULARIUM"},{ID:2,DESKRIPSI:"Non FORMULARIUM"}]})}},border:false,layout:{type:"vbox"},flex:1,border:false,defaults:{margin:"5 5 0 5",width:"100%"},initComponent:function(){this.items=[{layout:"hbox",border:false,defaults:{flex:3,margin:"1 1 1 1"},defaultType:"textfield",items:[{name:"KATEGORI",reference:"hasil",hidden:true,bind:"{record.KATEGORI}"},{name:"NAMA",allowBlank:false,reference:"namabarang",emptyText:"[ NAMA OBAT ]",bind:"{record.NAMA}"},{xtype:"numberfield",name:"STOK",flex:1,hideTrigger:true,emptyText:"[ STOK MINIMAL ]",bind:"{record.STOK}"}]},{xtype:"referensi-combo",name:"GENERIK",params:{JENIS:42,STATUS:1},firstLoad:true,emptyText:"[ NAMA GENERIK ]",bind:"{record.GENERIK}"},{xtype:"referensi-combo",name:"MERK",params:{JENIS:39,STATUS:1},firstLoad:true,allowBlank:false,editable:true,emptyText:"[ MEREK]",bind:"{record.MERK}"},{layout:"hbox",border:false,defaults:{margin:"1 1 1 1",flex:1},defaultType:"kategori-combo",items:[{name:"SATUAN_JENIS",params:{JENIS:1,STATUS:1},reference:"satuan",emptyText:"[ JENIS INVENTORY ]",listeners:{select:"onSelectBarang"}},{name:"JENIS",params:{JENIS:2,STATUS:1},firstLoad:false,reference:"jeniskategori",emptyText:"[ JENIS KATEGORI BARANG ]",listeners:{select:"onSelectJenis"}}]},{xtype:"kategori-combo",name:"RINCIAN_JENIS",params:{JENIS:3,STATUS:1},firstLoad:false,reference:"kategori",emptyText:"[ KATEGORI BARANG ]",listeners:{select:"onSelectKategori"}},{xtype:"referensi-combo",name:"JENIS_PENGGUNAAN_OBAT",params:{JENIS:55,STATUS:1},firstLoad:true,emptyText:"[ JENIS PENGGUNAAN OBAT ]",bind:"{record.JENIS_PENGGUNAAN_OBAT}"},{layout:"hbox",border:false,defaults:{margin:"1 10 1 1"},items:[{xtype:"combo",name:"SATUAN",allowBlank:false,queryMode:"local",forceSelection:true,flex:1,reference:"combosatuan",bind:{store:"{satuantore}",value:"{record.SATUAN}"},displayField:"NAMA",valueField:"ID",emptyText:"[ SATUAN OBAT ]",tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div style="height: 30px;"><strong>{NAMA} </strong> ( {DESKRIPSI} )</div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{NAMA} - {DESKRIPSI} ","</tpl>")},{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-black",tooltip:"Tambah Satuan Barang",reference:"tambahsatuan",bind:{hidden:"{formConfig.viewOnly}"},listeners:{click:"onTambahSatuan"}}]},{xtype:"penyedia-combo",name:"PENYEDIA",bind:"{record.PENYEDIA}"},{xtype:"combo",name:"JENIS_GENERIK",queryMode:"local",bind:{store:"{gologan}",value:"{record.JENIS_GENERIK}"},displayField:"DESKRIPSI",reference:"jenisgenerik",valueField:"ID",emptyText:"[ JENIS GENERIK ]"},{xtype:"combo",name:"FORMULARIUM",queryMode:"local",bind:{store:"{formularium}",value:"{record.FORMULARIUM}"},displayField:"DESKRIPSI",reference:"jenisformularium",valueField:"ID",emptyText:"[ FORMULARIUM ]"}];this.buttons=[{text:"Simpan",ui:"soft-green",iconCls:"x-fa fa-save",bind:{hidden:"{formConfig.viewOnly}"},listeners:{click:"onSimpan"}},{text:"Reset",ui:"soft-red",iconCls:"x-fa fa-times",bind:{hidden:"{formConfig.viewOnly}"},listeners:{click:"onBatal"}}];com.Form.prototype.initComponent.apply(this,arguments)},onLoadRecord:function(u,y){var t=u.app.xpriv("190801",false),x=u.down("[name=SATUAN_JENIS]"),B=u.down("[name=JENIS]"),z=u.down("[name=RINCIAN_JENIS]"),v=u.down("[name=PENYEDIA]");u.setFormConfig({viewOnly:t});if(!Ext.isEmpty(y.get("PENYEDIA"))){var s=u.getReferensi(y.data,"PENYEDIA");if(s){v.selectFromRecord(Ext.create("data.model.Penyedia",s))}}var A=y.getJenisKategori(1);if(A){x.select(A);var w=y.getJenisKategori(2);if(w){B.setQueryParams({ID:A});B.loadToSelect(w,function(){var e=y.getJenisKategori(3);if(e){z.setQueryParams({ID:w});z.loadToSelect(e)}})}}},clearJenisKategori:function(){var m=this,n=m.down("[name=SATUAN_JENIS]"),o=m.down("[name=JENIS]"),l=m.down("[name=RINCIAN_JENIS]");o.removeDataStore();l.removeDataStore();n.select(null);o.select(null);l.select(null)},onBeforeGetRecord:function(k,g){g.TANGGAL=k.getSysdate()}},0,["form-barang"],["component","box","container","panel","form","com-form","form-barang"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-barang":true},["widget.form-barang"],0,[master.inventory.barang,"Form"],0));(Ext.cmd.derive("master.inventory.barang.FormController",Ext.app.ViewController,{onTambahSatuan:function(m){var n=this,f=n.getView(),o=n.getReferences();f.openDialog("",true,"70%","65%",{xtype:"workspace-satuan",showCloseButton:true,ui:"panel-gray",iconCls:"x-fa fa-edit",title:"Input Satuan"},function(g,k){var e=k.down("workspace-satuan");e.load({});k.on("close",function(){o.combosatuan.getStore().load()})},m)},onSelectBarang:function(n,l){var m=this,o=m.getReferences();if(l){o.jeniskategori.select(null);o.kategori.select(null);o.jeniskategori.removeDataStore();o.kategori.removeDataStore();o.hasil.setValue(l.get("ID"));o.jeniskategori.setQueryParams({ID:l.get("ID")});o.jeniskategori.load()}},onSelectJenis:function(n,l){var m=this,o=m.getReferences();delete o.jeniskategori.getQueryParams().ID;if(l){o.kategori.select(null);o.kategori.removeDataStore();o.hasil.setValue(l.get("ID"));o.kategori.setQueryParams({ID:l.get("ID")});o.kategori.load()}},onSelectKategori:function(l,k){var m=this.getReferences();delete m.kategori.getQueryParams().ID;if(k){m.hasil.setValue(k.get("ID"))}},onSimpan:function(k){var m=this.getView(),l=this.getReferences();m.save(k,{success:"Data Barang Telah Tersimpan"},function(e,g,f){l.namabarang.setDisabled(false);m.clearJenisKategori()})},onBatal:function(m){var l=this,n=l.getReferences(),o=l.getView();n.namabarang.setDisabled(false);o.clearJenisKategori();o.fireEvent("batal");o.focus("NAMA")}},0,0,0,0,["controller.form-barang"],0,[master.inventory.barang,"FormController"],0));(Ext.cmd.derive("master.inventory.barang.List",com.Grid,{controller:"barang-list",flex:1,viewModel:{stores:{store:{type:"barang-store"},storeCekRuangan:{type:"barang-ruangan-store",queryParams:{STATUS:1,CEKSTOK:"CEK",start:0,limit:1}}}},border:false,showSearch:false,reference:"master-obat",initComponent:function(){var f=this;if(f.showSearch){f.header={items:[{xtype:"search-field",cls:"x-text-border",autoFocus:true,emptyText:"Cari Nama Obat",flex:1,listeners:{search:"onsearch",clear:"onClear"}}]}}f.initColumns();f.dockedItems=[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",displayInfo:true,items:["-",{},{},{xtype:"search-field",hidden:f.hideHeaders,cls:"x-text-border",autoFocus:true,emptyText:"Cari Nama Obat",flex:3,listeners:{search:"onsearch",clear:"onClear"}},{xtype:"combobox",reference:"statusbarang",emptyText:"[ Filter Status ]",store:Ext.create("Ext.data.Store",{fields:["value","desk"],data:[{value:"1",desk:"Aktif"},{value:"0",desk:"Tidak Aktif"}]}),queryMode:"local",displayField:"desk",flex:1,valueField:"value",listeners:{select:"onSelectStatus"}}]}];com.Grid.prototype.initComponent.apply(this,arguments)},privates:{initColumns:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",align:"left",hidden:f.hideHeaders,width:40},{text:"NAMA BARANG",dataIndex:"NAMA",hidden:f.hideHeaders,flex:1},{text:"KATEGORI",dataIndex:"KATEGORI",flex:1,hidden:f.hideHeaders,renderer:"onKategoriRender"},{text:"SATUAN",dataIndex:"SATUAN",flex:1,hidden:f.hideHeaders,renderer:"onSatuanRender"},{text:"MERK",dataIndex:"MERK",flex:1,hidden:f.hideHeaders,renderer:"onMerkrender"},{text:"PENYEDIAN",dataIndex:"PENYEDIA",flex:1,hidden:f.hideHeaders,renderer:"onPenyediarender"},{text:"GENERIK",dataIndex:"GENERIK",flex:1,hidden:f.hideHeaders,renderer:"onGenerikrender"},{text:"JENIS PENGGUNAAN",dataIndex:"JENIS_PENGGUNAAN_OBAT",flex:1,hidden:f.hideHeaders,renderer:"onJenisPenggunaanrender"},{text:"STOK MINIMUM",dataIndex:"STOK",flex:1,hidden:f.hideHeaders},{xtype:"checkcolumn",header:"STATUS",hidden:f.hideHeaders,dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}},{text:"#",align:"center",width:80,xtype:"widgetcolumn",hidden:f.hideHeaders,widget:{xtype:"button",padding:3,ui:"soft-blue",text:"Harga",listeners:{click:"onClickHarga"}}},{xtype:"templatecolumn",flex:1,hidden:!f.hideHeaders,tpl:'<div style="font-weight: bold; white-space:normal !important;">{NAMA} - {REFERENSI.KATEGORI.NAMA}  ({REFERENSI.SATUAN.NAMA})</div>'}]}},loadStore:function(l){var k=this,m=k.getViewModel().get("store");if(m){m.removeAll();m.queryParams=m.queryParams||{};if(l){m.queryParams=l}m.load()}},isCekStokAda:function(k){var l=this,m=l.getViewModel().get("storeCekRuangan");m.load(function(f,g,e){if(Ext.isArray(f)){k(f.length>0)}})}},0,["barang-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","barang-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"barang-list":true},["widget.barang-list"],0,[master.inventory.barang,"List"],0));(Ext.cmd.derive("master.inventory.barang.ListController",Ext.app.ViewController,{onChange:function(g,B,x){var w=this,e=w.getView(),v=w.getViewModel(),f=v.get("store"),A=v.get("storeCekRuangan"),y=f.getAt(B),z=e.app.xpriv("190801",false);if(!z){A.queryParams.BARANG=y.get("ID");w.getView().isCekStokAda(function(k){if(k){w.getView().notifyMessage("Gagal NonAktifkan, Masih Ada Ruangan Yang Mempunyai Stok")}else{y.set("STATUS",x?1:0);y.scope=this;y.save({callback:function(m,l,n){if(n){w.getView().notifyMessage("Status di"+(x==true?"Aktifkan":"NonAktifkan"))}else{y.set("STATUS",x?0:1)}}})}})}else{f.reload()}},onsearch:function(s,f){var e=this,p=e.getView(),t=e.getViewModel(),q=t.get("store");if(p.showSearch){q.queryParams={QUERY:f,STATUS:1,page:1,start:0}}else{q.queryParams={QUERY:f,page:1,start:0}}q.removeAll();q.load()},onSelectStatus:function(q,o){var f=this,e=f.getViewModel(),p=e.get("store");p.queryParams={QUERY:"",STATUS:o.get("value")};p.removeAll();p.load()},onClear:function(){var l=this,k=l.getViewModel(),m=k.get("store");delete m.queryParams.QUERY;delete m.queryParams.page;delete m.queryParams.start;m.removeAll();m.load()},onMerkrender:function(e,w,x,v,f,t){var u=x.get("REFERENSI"),g=u?(u.MERK?u.MERK.DESKRIPSI:""):"";return g},onGenerikrender:function(e,w,x,v,f,t){var u=x.get("REFERENSI"),g=u?(u.GENERIK?u.GENERIK.DESKRIPSI:""):"";return g},onPenyediarender:function(e,w,x,v,f,t){var u=x.get("REFERENSI"),g=u?(u.PENYEDIA?u.PENYEDIA.NAMA:""):"";return g},onJenisPenggunaanrender:function(e,w,x,v,f,t){var u=x.get("JENIS_PENGGUNAAN_OBAT");if(u==1){var g="Obat Dalam"}else{if(u==2){var g="Obat Luar"}else{var g=""}}return g},onKategoriRender:function(e,w,x,v,f,t){var u=x.get("REFERENSI"),g=u?(u.KATEGORI?u.KATEGORI.NAMA:""):"";return g},onSatuanRender:function(e,w,x,v,f,t){var u=x.get("REFERENSI"),g=u?(u.SATUAN?u.SATUAN.DESKRIPSI:""):"";return g},onOlehRender:function(e,w,x,v,f,t){var u=x.get("REFERENSI"),g=u?(u.SATUAN?u.SATUAN.OLEH:""):"";return g},onClickHarga:function(u){var v=this,s=v.getView(),f=u.getWidgetRecord(),p=v.getViewModel(),t=f.get("ID");var q=f.get("NAMA");s.openWindow({title:"Tarif Tindakan",iconCls:"x-fa fa-money",ui:"danger-blue",header:{margin:0,padding:"10 15 10 15"},closable:true,maximized:true,constrain:s,layout:"border",border:false,items:[{region:"north",bodyPadding:5,html:"<h2> "+q+" </h2><hr>"},{region:"center",bodyPadding:5,flex:1,xtype:"hargabarang-workspace"}]},function(e,g){g.down("hargabarang-workspace").load(f.get("ID"))})}},0,0,0,0,["controller.barang-list"],0,[master.inventory.barang,"ListController"],0));(Ext.cmd.derive("master.inventory.barang.ViewModel",Ext.app.ViewModel,{stores:{satuantore:{type:"satuan-store",queryParams:{STATUS:1}}}},0,0,0,0,["viewmodel.barang-model"],0,[master.inventory.barang,"ViewModel"],0));(Ext.cmd.derive("master.inventory.barang.Workspace",com.Form,{controller:"workspace-barang",viewModel:{type:"barang-model"},layout:"border",bodyPadding:2,defaults:{border:false,margin:"2 2 2 2"},initComponent:function(){var f=this;f.items=[{region:"center",ui:"panel-green",title:"List Barang",iconCls:"x-fa fa-list",xtype:"barang-list",flex:2,reference:"listmasterobat",hideHeaders:false,listeners:{select:"onSelect"}},{region:"east",flex:1,ui:"panel-green",reference:"formbarang",xtype:"form-barang",title:"TAMBAH OBAT BARU",collapsed:true,collapsible:true,split:true,listeners:{batal:"onBatal",save:"onSuccess"}}];f.callParent(arguments)},load:function(l){var m=this.down("barang-list"),n=this.down("form-barang"),o=this.getViewModel();n.createRecord({});m.loadStore(l);o.get("satuantore").load()}},0,["workspace-barang"],["component","box","container","panel","form","com-form","workspace-barang"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-barang":true},["widget.workspace-barang"],0,[master.inventory.barang,"Workspace"],0));(Ext.cmd.derive("master.inventory.barang.WorkspaceController",Ext.app.ViewController,{onSelect:function(n,o,q){var p=this,e=p.getReferences();e.formbarang.setCollapsed(false);e.formbarang.refs.namabarang.setDisabled(true);e.formbarang.loadRecord(o.clone())},confForm:function(){var f=this.getReferences();f.formbarang.createRecord({})},onBatal:function(){this.confForm()},onSuccess:function(){var f=this.getReferences();this.confForm();f.listmasterobat.getStore().load()}},0,0,0,0,["controller.workspace-barang"],0,[master.inventory.barang,"WorkspaceController"],0));(Ext.cmd.derive("master.inventory.barang.hargabarang.Form",com.Form,{controller:"hargabarang-form",viewModel:{data:{temp:undefined,viewOnlyBtn:false}},model:"data.model.HargaBarang",layout:"fit",border:false,fieldDefaults:{labelAlign:"top"},initComponent:function(){var k=this;k.items=[{flex:1,layout:{type:"vbox",align:"stretch"},title:"FORM",iconCls:"x-fa fa-file-o",border:false,items:[{layout:"hbox",defaults:{flex:1,margin:"2 2 2 2",bind:{readOnly:"{!formConfig.viewOnly}"},border:false},bodyPadding:10,border:false,items:[{xtype:"numberfield",hideTrigger:true,reference:"hargabeli",fieldLabel:"HARGA BELI",name:"HARGA_BELI",bind:{value:"{record.HARGA_BELI}"}},{xtype:"numberfield",hideTrigger:true,reference:"hargajual",fieldLabel:"HARGA JUAL",name:"HARGA_JUAL",bind:{value:"{record.HARGA_JUAL}"}}]},{layout:"hbox",defaults:{flex:1,margin:"2 2 2 2",border:false,bind:{readOnly:"{!formConfig.viewOnly}"}},bodyPadding:10,border:false,items:[{xtype:"numberfield",hideTrigger:true,reference:"ppn",fieldLabel:"PPN",name:"PPN",bind:{value:"{record.PPN}"}},{xtype:"datefield",fieldLabel:"MASA BERLAKU",format:"Y-m-d",name:"MASA_BERLAKU",bind:{value:"{record.MASA_BERLAKU}"}}]}],buttons:[{text:"Simpan",ui:"soft-blue",iconCls:"x-fa fa-save",handler:"onSimpan",bind:{hidden:"{formConfig.simpan || viewOnlyBtn}"},tooltip:{text:"Simpan",mouseOffset:[0,-75]}},{text:"Reset",ui:"soft-red",iconCls:"x-fa fa-refresh",handler:"onReset",bind:{hidden:"{formConfig.simpan || viewOnlyBtn}"},tooltip:{text:"Reset",mouseOffset:[0,-75]}},{text:"Ganti Harga",ui:"soft-green",iconCls:"x-fa fa-history",handler:"onGanti",bind:{hidden:"{!formConfig.simpan || viewOnlyBtn}"},tooltip:{text:"Ganti Harga",mouseOffset:[0,-75]}}]}];com.Form.prototype.initComponent.apply(this,arguments);var g=this.app.xpriv("190801",false);k.getViewModel().set("viewOnlyBtn",g)},onBeforeGetRecord:function(m,l){var n=m.down("[name=HARGA_BELI]").getValue(),o=m.down("[name=HARGA_JUAL]").getValue();l.HARGA_BELI=n;l.HARGA_JUAL=o}},0,["hargabarang-form"],["component","box","container","panel","form","com-form","hargabarang-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"hargabarang-form":true},["widget.hargabarang-form"],0,[master.inventory.barang.hargabarang,"Form"],0));(Ext.cmd.derive("master.inventory.barang.hargabarang.FormController",Ext.app.ViewController,{onReset:function(){var m=this,o=m.getView(),n=m.getViewModel().get("temp"),l=o.getRecord();if(n){obj={BARANG:n.get("BARANG"),STATUS:1,TANGGAL:o.getSysdate()}}else{obj={BARANG:l.get("BARANG"),STATUS:1,TANGGAL:o.getSysdate()}}o.getForm().reset();o.createRecord(obj)},onSimpan:function(m){var l=this,o=l.getView(),n=l.getViewModel().get("temp");if(n){n.set("STATUS",0);n.animateTarget=m;n.scope=l;n.showError=true;n.save({callback:function(g,f,e){if(e){o.save(m,{},function(k,t,s){if(s){l.getViewModel().set("temp",undefined)}})}}})}else{o.save(m)}},onGanti:function(o){var m=this,p=m.getView(),n=m.getViewModel(),q=n.get("record");Ext.Msg.show({title:"Konfirmasi",message:"Apakah anda ingin mengganti harga barang?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(e){if(e=="yes"){n.set("temp",Ext.create("data.model.HargaBarang",q.data));p.setFormConfig({viewOnly:true,simpan:false});m.onReset()}}})}},0,0,0,0,["controller.hargabarang-form"],0,[master.inventory.barang.hargabarang,"FormController"],0));(Ext.cmd.derive("master.inventory.barang.hargabarang.List",com.Grid,{viewModel:{stores:{store:{type:"harga-barang-store"}}},cls:"x-br-top",border:true,reference:"master-negara",initComponent:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:70},{xtype:"numbercolumn",text:"HARGA JUAL ",dataIndex:"HARGA_JUAL",flex:1,format:"0,000.00"},{xtype:"numbercolumn",text:"HARGA BELI ",dataIndex:"HARGA_BELI",flex:1,format:"0,000.00"},{text:"PPN ",dataIndex:"PPN",flex:1},{xtype:"datecolumn",text:"MASA BERLAKU ",dataIndex:"MASA_BERLAKU",flex:1}];com.Grid.prototype.initComponent.apply(this,arguments)}},0,["hargabarang-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","hargabarang-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"hargabarang-list":true},["widget.hargabarang-list"],0,[master.inventory.barang.hargabarang,"List"],0));(Ext.cmd.derive("master.inventory.barang.hargabarang.Workspace",com.Tab,{controller:"harga-barang-tab",viewModel:{stores:{store:{type:"harga-barang-store"}}},defaults:{flex:1,bodyPadding:5},layout:"fit",ui:"header-tab",initComponent:function(){this.items=[{title:"HARGA BARANG ",xtype:"hargabarang-form",layout:"fit",reference:"hargabarangform",history:false,listeners:{reload:"onReload",save:"onSuccess"}},{title:"HISTORY",xtype:"hargabarang-list",reference:"historyharga"}];com.Tab.prototype.initComponent.apply(this,arguments)},load:function(k){var m=this.getViewModel().get("store"),l=this.down("hargabarang-form");list=this.down("hargabarang-list");if(k){m.queryParams={BARANG:k,STATUS:1},m.load({callback:function(f,e,o){if(o){var g=f[0].get("STATUS")==1;l.setFormConfig({viewOnly:!g,simpan:g});l.loadRecord(f[0])}else{l.setFormConfig({viewOnly:!g,simpan:false});l.createRecord({BARANG:k,STATUS:1,TANGGAL:l.getSysdate()})}}});list.setGridConfig({paging:true});list.load({BARANG:k,STATUS:0})}}},0,["hargabarang-workspace"],["component","box","container","panel","tabpanel","com-tab","hargabarang-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"hargabarang-workspace":true},["widget.hargabarang-workspace"],0,[master.inventory.barang.hargabarang,"Workspace"],0));(Ext.cmd.derive("master.inventory.barang.hargabarang.WorkspaceController",Ext.app.ViewController,{onSuccess:function(k){var l=this,m=l.getView();if(k){m.load(k.get("BARANG"))}}},0,0,0,0,["controller.harga-barang-tab"],0,[master.inventory.barang.hargabarang,"WorkspaceController"],0));(Ext.cmd.derive("master.inventory.groupfilter.Combo",com.Combo,{viewModel:{stores:{store:{type:"referensi-store",autoLoad:true}}},bind:{store:"{store}"},name:"GRUP_FILTER",queryMode:"local",params:{JENIS:79},emptyText:"[ Grup filter ]",displayField:"DESKRIPSI",valueField:"ID",listeners:{select:"onSelectGroupFIlter"}},0,["groupfilter-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","groupfilter-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"groupfilter-combo":true},["widget.groupfilter-combo"],0,[master.inventory.groupfilter,"Combo"],0));(Ext.cmd.derive("master.inventory.kategori.Combo",com.Combo,{viewModel:{stores:{store:{type:"kategori-store",params:{STATUS:1,JENIS:3}}}},bind:{store:"{store}"},emptyText:"[ Masukkan Kategori Barang ]",queryMode:"local",displayField:"NAMA",valueField:"ID",allowBlank:false,typeAhead:true,forceSelection:true,validateOnBlur:true,firstLoad:true},0,["kategori-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","kategori-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"kategori-combo":true},["widget.kategori-combo"],0,[master.inventory.kategori,"Combo"],0));(Ext.cmd.derive("master.inventory.kategori.ComboSelection",Ext.form.Panel,{controller:"kategori-selection",viewModel:{stores:{kategoristore1:{type:"kategori-store",queryParams:{JENIS:1,STATUS:1},autoLoad:true},kategoristore2:{type:"kategori-store",queryParams:{JENIS:2,STATUS:1}},kategoristore3:{type:"kategori-store",queryParams:{JENIS:3,STATUS:1}}}},bodyPadding:5,layout:{type:"vbox",align:"stretch"},defaultType:"fieldcontainer",defaults:{margin:"0 0 2 0 ",layout:{type:"hbox",align:"stretch"}},ruanganSelected:false,items:[{xtype:"combobox",margin:"0 2 2 0",padding:0,labelAlign:"top",enterFocus:true,flex:1,forceSelection:true,name:"JENIS_INVENTORY",emptyText:"[ Pilih Jenis Inventory]",queryMode:"local",typeAhead:true,reference:"instalasi",displayField:"NAMA",valueField:"ID",allowBlank:false,bind:{store:"{kategoristore1}"},listeners:{specialkey:"onFocusEnter",select:"onSelectedJenisInventory",blur:"onBlurJenisInventory"}},{defaultType:"combobox",defaults:{margin:"0 2 0 0",padding:0,labelAlign:"top",enterFocus:true,flex:1,forceSelection:true,queryMode:"local",typeAhead:true,displayField:"NAMA",valueField:"ID",allowBlank:false},items:[{name:"JENIS_KATEGORI",bind:{store:"{kategoristore2}"},emptyText:"[ Pilih Jenis Kategori]",reference:"jenis_kategori",listeners:{specialkey:"onFocusEnter",select:"onSelectedJenisKategori",blur:"onBlurJenisKategori"}},{name:"KATEGORI",bind:{store:"{kategoristore3}"},emptyText:"[Pilih Kategori]",reference:"kategori",listeners:{specialkey:"onFocusEnter",select:"onSelectedKategori",blur:"onBlurKategori"}}]}],getFormData:function(){var f=this.getForm().getValues();delete f.JENIS_INVENTORY;delete f.JENIS_KATEGORI;delete f.KATEGORI;return f},select:function(k){if(Ext.getClassName(k)=="data.model.Ruangan"){var l=this.down("[reference=ruangan]"),m=this.down("[reference=kategori]");l.setValue(k.get("ID"));this.ruanganSelected=k}}},0,["kategori-selection"],["component","box","container","panel","form","kategori-selection"],{component:true,box:true,container:true,panel:true,form:true,"kategori-selection":true},["widget.kategori-selection"],0,[master.inventory.kategori,"ComboSelection"],0));(Ext.cmd.derive("master.inventory.kategori.ComboSelectionController",Ext.app.ViewController,{init:function(){var e=this,g=e.getView(),u=e.getViewModel(),s=e.getReferences(),t=u.get("kategoristore1"),v=u.get("kategoristore2"),f=u.get("kategoristore3");t.on("load",function(){var k=s.ruangan.getValue();if(k==null){return}if(k.length>0&&t!=null){s.instalasi.setValue(k.substring(0,5))}v.removeAll();s.unit.select(null);f.removeAll();s.subunit.select(null);g.fireEvent("load",1);if(k.length>0&&v!=null){v.queryParams.ID=k.substring(0,5);v.load()}});v.on("load",function(k,m){var l=s.ruangan.getValue();if(l==null){return}if(l.length>5&&v!=null){s.unit.setValue(l.substring(0,7))}if(m.length==1){s.unit.select(m[0]);s.unit.fireEvent("select",s.unit,m[0]);s.subunit.focus(false,100)}f.removeAll();s.subunit.select(null);g.fireEvent("load",2);if(l.length>5&&f!=null){f.queryParams.ID=l.substring(0,7);f.load()}});f.on("load",function(k,l){if(l.length==1||g.ruanganSelected){var m=g.ruanganSelected?g.ruanganSelected:l[0];s.subunit.select(m);s.subunit.fireEvent("select",s.subunit,m);g.fireEvent("nextfocus")}})},onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSelectedInstalasi:function(q,o){var f=this,p=f.getView(),e=f.getViewModel().get("unitstore");f.getReferences().unit.select(null);f.getReferences().subunit.select(null);f.removeStoreData(f.getReferences().unit,"unitstore");f.removeStoreData(f.getReferences().subunit,"ruanganstore");p.fireEvent("selected",o,1);if(o){if(!p.ruanganSelected){f.getReferences().ruangan.setValue(o.get("ID"))}e.queryParams.ID=o.get("ID");e.load()}},onSelectedUnit:function(q,o){var e=this,p=e.getView(),f=e.getViewModel().get("ruanganstore");e.getReferences().subunit.select(null);e.removeStoreData(e.getReferences().subunit,"ruanganstore");p.fireEvent("selected",o,2);if(o){if(!p.ruanganSelected){e.getReferences().ruangan.setValue(o.get("ID"))}f.queryParams.ID=o.get("ID");f.load()}},onSelectedRuangan:function(e,n){var m=this,o=m.getView();o.fireEvent("selected",n,3);if(n){m.getReferences().ruangan.setValue(n.get("ID"));o.ruanganSelected=false}},onBlurJenisInventory:function(k){var g=k.getSelection();if(g==null){this.getView().fireEvent("blurselection",1);this.removeStoreData(this.getReferences().jenis_kategori,"kategoristore2");this.removeStoreData(this.getReferences().kategori,"kategoristore3")}},onBlurJenisKategori:function(k){var g=k.getSelection();if(g==null){this.getView().fireEvent("blurselection",2);this.removeStoreData(this.getReferences().kategori,"kategoristore3")}},onBlurKategori:function(k){var g=k.getSelection();if(g==null){this.getView().fireEvent("blurselection",3)}},removeStoreData:function(l,k){var m=this;m.getViewModel().get(k).removeAll();l.select(null)}},0,0,0,0,["controller.kategori-selection"],0,[master.inventory.kategori,"ComboSelectionController"],0));(Ext.cmd.derive("master.inventory.kategori.Form",com.Form,{controller:"form-kategori",model:"data.model.Kategori",layout:"hbox",items:[{xtype:"textfield",name:"NAMA",labelWidth:120,flex:1,fieldLabel:"Nama / Deskripsi",allowBlank:false}],buttons:[{text:"Simpan",handler:"onSimpan"}]},0,["form-kategori"],["component","box","container","panel","form","com-form","form-kategori"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-kategori":true},["widget.form-kategori"],0,[master.inventory.kategori,"Form"],0));(Ext.cmd.derive("master.inventory.kategori.FormController",Ext.app.ViewController,{init:function(){var g=this,k=g.getView();k.down("[name=NAMA]").focus(false,1000)},onSimpan:function(f){var o=this,p=o.getView(),q=p.getForm().getValues(),e=o.getViewModel().get("record");if(p.getForm().isValid()){e.set(q);e.showError=true;e.animateTarget=f;e.scope=o;e.save({callback:function(g,l,k){if(l.hasException()||!k){}if(k){p.notifyMessage("Data telah tersimpan");p.fireEvent("success",g)}}})}}},0,0,0,0,["controller.form-kategori"],0,[master.inventory.kategori,"FormController"],0));(Ext.cmd.derive("master.inventory.kategori.List",com.Grid,{controller:"kategori-list",flex:1,border:true,viewModel:{stores:{store:{type:"kategori-store"}},data:{record:undefined,hideTambah:true}},header:{items:[{xtype:"tool",cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Kategory",bind:{hidden:"{hideTambah}"},listeners:{click:"onAddKategori"}}]},columns:[{xtype:"rownumberer",text:"No",align:"left",width:70},{text:"NAMA",dataIndex:"NAMA",flex:3},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}],loadData:function(g){var k=this;vm=k.getViewModel();jenis=g.get("JENIS");jenis=jenis+1;vm.set("hideTambah",false);vm.set("record",g);k.load({JENIS:jenis,ID:g.get("ID")})}},0,["kategori-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","kategori-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"kategori-list":true},["widget.kategori-list"],0,[master.inventory.kategori,"List"],0));(Ext.cmd.derive("master.inventory.kategori.ListController",Ext.app.ViewController,{onAddKategori:function(){var g=this,k=g.getView();vm=g.getViewModel();model={};selects=vm.get("record");if(selects){model.PARENT={ID:selects.get("ID"),JENIS:selects.get("JENIS")};model.JENIS=selects.get("JENIS")+1;model.STATUS=1}k.openDialog("",true,520,150,{xtype:"form-kategori",showCloseButton:true,ui:"panel-blue",iconCls:"x-fa fa-edit",title:"Form Kategori"},function(e,f){var m=f.down("form-kategori");m.createRecord(model);m.focus("NAMA");m.on("success",function(l){k.refresh();f.close()})})},onChange:function(t,g,e){var v=this,u=v.getViewModel(),s=u.get("store"),f=s.getAt(g);f.set("STATUS",e?1:0);f.scope=this;f.save({callback:function(l,k,m){if(m){v.getView().notifyMessage("Status di"+(e==true?"Aktifkan":"NonAktifkan"))}else{f.set("STATUS",e?0:1)}}})}},0,0,0,0,["controller.kategori-list"],0,[master.inventory.kategori,"ListController"],0));(Ext.cmd.derive("master.inventory.kategori.Workspace",com.Form,{controller:"workspace-kategori",layout:"border",defaults:{margin:"2.2.2.2"},initComponent:function(){var f=this;f.items=[{region:"west",ui:"panel-blue",title:"Jenis Inventory",reference:"kategori1",iconCls:"x-fa fa-list",xtype:"kategori-list",listeners:{select:"onSelectJenisKategory"}},{region:"center",reference:"kategori2",ui:"panel-blue",title:"Kategory Barang",iconCls:"x-fa fa-list",xtype:"kategori-list",listeners:{select:"onSelectKategory"}},{region:"east",title:"Jenis Kategory",iconCls:"x-fa fa-list",ui:"panel-blue",reference:"kategori3",xtype:"kategori-list"}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(){var f=this;ref=f.down("[reference=kategori1]");ref.load({JENIS:1})}},0,["workspace-kategory"],["component","box","container","panel","form","com-form","workspace-kategory"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-kategory":true},["widget.workspace-kategory"],0,[master.inventory.kategori,"Workspace"],0));(Ext.cmd.derive("master.inventory.kategori.WorkspaceController",Ext.app.ViewController,{onSelectJenisKategory:function(m,n,q){var o=this,p=o.getReferences();p.kategori2.loadData(n)},onSelectKategory:function(m,n,q){var o=this,p=o.getReferences();p.kategori3.loadData(n)}},0,0,0,0,["controller.workspace-kategori"],0,[master.inventory.kategori,"WorkspaceController"],0));(Ext.cmd.derive("master.inventory.kelompokgroup.Combo",com.Combo,{viewModel:{stores:{store:{type:"referensi-store"}}},bind:{store:"{store}"},name:"KELOMPOK_GRUP",multiSelect:true,queryMode:"local",emptyText:"[ Kelompo Group ]",displayField:"DESKRIPSI",valueField:"ID"},0,["kelompokgroup-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","kelompokgroup-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"kelompokgroup-combo":true},["widget.kelompokgroup-combo"],0,[master.inventory.kelompokgroup,"Combo"],0));(Ext.cmd.derive("master.inventory.satuan.Form",com.Form,{controller:"form-satuan",model:"data.model.Satuan",layout:{type:"hbox"},border:false,defaults:{margin:"2 2 2 2",flex:1},defaultType:"textfield",initComponent:function(){var f=this;f.items=[{maxLength:25,emptyText:"[ SINGKATAN ]",name:"NAMA"},{maxLength:50,emptyText:"[ DESKRIPSI ]",name:"DESKRIPSI"},{xtype:"button",text:"Simpan",flex:0.4,ui:"soft-green",iconCls:"x-fa fa-save",listeners:{click:"onSimpan"}}];com.Form.prototype.initComponent.apply(this,arguments)}},0,["form-satuan"],["component","box","container","panel","form","com-form","form-satuan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-satuan":true},["widget.form-satuan"],0,[master.inventory.satuan,"Form"],0));(Ext.cmd.derive("master.inventory.satuan.FormController",Ext.app.ViewController,{onSimpan:function(f){this.getView().save(f)}},0,0,0,0,["controller.form-satuan"],0,[master.inventory.satuan,"FormController"],0));(Ext.cmd.derive("master.inventory.satuan.List",com.Grid,{viewModel:{stores:{store:{type:"satuan-store"}}},flex:1,border:false,reference:"master-obat",columns:[{xtype:"rownumberer",text:"No",align:"left",width:40},{text:"SINGKATAN",dataIndex:"NAMA",flex:1},{text:"DESKRIPSI",dataIndex:"DESKRIPSI",flex:2},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",stopSelection:true}]},0,["satuan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","satuan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"satuan-list":true},["widget.satuan-list"],0,[master.inventory.satuan,"List"],0));(Ext.cmd.derive("master.inventory.satuan.Workspace",com.Form,{controller:"workspace-satuan",defaults:{margin:"2 2 2 2"},layout:"border",bodyPadding:2,initComponent:function(){var f=this;f.items=[{region:"north",reference:"form",title:"Form Input",xtype:"form-satuan",listeners:{save:"onSave"}},{region:"center",layout:"fit",xtype:"satuan-list",reference:"satuanlist",title:"Daftar Satuan"}];f.callParent(arguments)},load:function(l){var n=this,m=n.down("satuan-list"),o=n.down("form-satuan");m.setGridConfig({paging:true});m.load({});o.createRecord({STATUS:1,TANGGAL:n.getSysdate()})}},0,["workspace-satuan"],["component","box","container","panel","form","com-form","workspace-satuan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-satuan":true},["widget.workspace-satuan"],0,[master.inventory.satuan,"Workspace"],0));(Ext.cmd.derive("master.inventory.satuan.WorkspaceController",Ext.app.ViewController,{onSave:function(m){var l=this,o=l.getView(),n=l.getReferences();n.satuanlist.reload();n.form.createRecord({STATUS:1,TANGGAL:o.getSysdate()})}},0,0,0,0,["controller.workspace-satuan"],0,[master.inventory.satuan,"WorkspaceController"],0));(Ext.cmd.derive("master.jenispesertapenjamin.Combo",com.Combo,{viewModel:{stores:{store:{type:"master-jenispesertapenjamin-store",pageSize:500}}}},0,["master-jenispesertapenjamin-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","master-jenispesertapenjamin-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"master-jenispesertapenjamin-combo":true},["widget.master-jenispesertapenjamin-combo"],0,[master.jenispesertapenjamin,"Combo"],0));(Ext.cmd.derive("master.kamar.Combo",com.Combo,{viewModel:{stores:{store:{type:"ruang-kamar-store"}}},emptyText:"[Pilih Kamar]",displayField:"KAMAR",valueField:"ID",minChars:2,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div"><strong>{KAMAR}</strong></div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{KAMAR}","</tpl>")},0,["master-kamar-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","master-kamar-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"master-kamar-combo":true},["widget.master-kamar-combo"],0,[master.kamar,"Combo"],0));(Ext.cmd.derive("master.kamar.Form",com.Form,{controller:"form-kamar",model:"data.model.RuangKamar",border:false,items:[{layout:"border",layout:{type:"hbox",align:"stretch"},border:false,defaults:{margin:"2 2 3 1",flex:1},bodyPadding:1,items:[{xtype:"textfield",name:"KAMAR",emptyText:"[ MASUKKAN KAMAR ]",flex:3,allowBlank:false},{xtype:"combo",flex:3,name:"KELAS",bind:{store:"{kelasstore}"},emptyText:"[ PILIH KELAS]",displayField:"DESKRIPSI",queryMode:"local",forceSelection:true,valueField:"ID",allowBlank:false},{xtype:"button",text:"Simpan",handler:"onSimpan"},{xtype:"button",text:"Batal",handler:"onBatal"}]}]},0,["form-kamar"],["component","box","container","panel","form","com-form","form-kamar"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-kamar":true},["widget.form-kamar"],0,[master.kamar,"Form"],0));(Ext.cmd.derive("master.kamar.FormController",Ext.app.ViewController,{onSimpan:function(e){var l=this,m=l.getView();m.save(e)},onBatal:function(k){var l=this,m=l.getView();m.fireEvent("batal")}},0,0,0,0,["controller.form-kamar"],0,[master.kamar,"FormController"],0));(Ext.cmd.derive("master.kamar.List",com.Grid,{controller:"kamar-list",flex:1,viewModel:{stores:{store:{type:"ruang-kamar-store"}}},border:false,columns:[{text:"Kamar ",dataIndex:"KAMAR",flex:1},{text:"Kelas",dataIndex:"KELAS",flex:1,renderer:"onKelasRender"},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",listeners:{checkchange:"onChange"}}]},0,["kamar-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","kamar-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"kamar-list":true},["widget.kamar-list"],0,[master.kamar,"List"],0));(Ext.cmd.derive("master.kamar.ListController",Ext.app.ViewController,{onKelasRender:function(u,e,v,t,w,g){var x=v.get("REFERENSI"),k=x?(x.KELAS?x.KELAS.DESKRIPSI:""):"";return k},onChange:function(u,g,x){var w=this,f=w.getView(),v=w.getViewModel(),t=v.get("store"),e=t.getAt(g);e.set("STATUS",x?1:0);e.scope=this;e.save({callback:function(l,k,m){if(m){f.notifyMessage("Status KAMAR di"+(x==true?"Aktifkan":"Non Aktifkan"))}}})}},0,0,0,0,["controller.kamar-list"],0,[master.kamar,"ListController"],0));(Ext.cmd.derive("master.kamar.ViewModel",Ext.app.ViewModel,{formulas:{init:function(f){f("kelasstore").load()}},stores:{kelasstore:{type:"referensi-store",queryParams:{JENIS:19,STATUS:1},autoLoad:true}}},0,0,0,0,["viewmodel.kamarmodel"],0,[master.kamar,"ViewModel"],0));(Ext.cmd.derive("master.kamar.Workspace",com.Form,{controller:"workspace-kamar",viewModel:{type:"kamarmodel",data:{hideForm:true}},layout:"border",defaults:{border:false},initComponent:function(){var f=this;controller=f.getController();f.items=[{region:"north",title:"Kamar",header:{items:[{xtype:"button",margin:2,height:32,cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Kamar",listeners:{click:"onAddKamar"}}]},layout:"fit",items:[{xtype:"form-kamar",bind:{hidden:"{hideForm}"},reference:"formkamar",border:false,listeners:{scope:controller,batal:"onBatal",save:"onSuccess"}}]},{region:"center",cls:"x-br-top x-br-left",xtype:"kamar-list",reference:"kamarlist",title:"Daftar Kamar",flex:1.5,listeners:{scope:f.getController(),select:"onSelectKamar"}},{iconCls:"x-fa fa-list",title:"Tempat Tidur",reference:"tempattidurlist",region:"east",xtype:"tempat-tidur-list",iconCls:"x-fa fa-bed",collapsible:true,split:true,flex:1,border:true,header:{items:[{xtype:"tool",reference:"tomboltidur",cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Tempat Tidur",listeners:{scope:f.getController(),click:"onAddTempatTidur"}}]}}];f.callParent(arguments);f.down("form-kamar").setHidden(true)},load:function(m){var o=this,p=o.getViewModel(),q=o.down("kamar-list"),n=o.down("tempat-tidur-list");if(m){o.loadRecord(m);q.load({RUANGAN:m.get("ID")});n.load({RUANG_KAMAR:0});p.set("hideForm",true)}}},0,["workspace-kamar"],["component","box","container","panel","form","com-form","workspace-kamar"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-kamar":true},["widget.workspace-kamar"],0,[master.kamar,"Workspace"],0));(Ext.cmd.derive("master.kamar.WorkspaceController",Ext.app.ViewController,{idKamar:undefined,onAddKamar:function(e){var p=this,t=p.getView(),q=p.getViewModel(),s=p.getReferences(),v=q.get("record"),u=q.get("hideForm");q.set("hideForm",!u);s.formkamar.createRecord({RUANGAN:v.get("ID"),STATUS:1});s.formkamar.focus("KAMAR")},onBatal:function(){var n=this,o=n.getView(),e=n.getReferences(),m=n.getViewModel();e.formkamar.reset();e.formkamar.createRecord({RUANGAN:rec.get("ID"),STATUS:1});m.set("hideForm",true)},onSuccess:function(){var n=this,q=n.getView(),o=n.getViewModel(),p=n.getReferences(),m=o.get("record");p.kamarlist.reload();p.formkamar.createRecord({RUANGAN:m.get("ID"),STATUS:1})},onSelectKamar:function(e,u,t,v){var p=this,q=p.getViewModel(),s=p.getReferences();if(u){p.idKamar=u.get("ID");s.tempattidurlist.load({RUANG_KAMAR:u.get("ID")})}},onAddTempatTidur:function(m){var l=this,o=l.getView(),n=l.getReferences();if(l.idKamar){o.openDialog("",true,"55%",20,{xtype:"form-tempat-tidur",showCloseButton:true,ui:"panel-cyan",iconCls:"x-fa fa-hospital-o",title:"Input Kamar"},function(f,g){var e=g.down("form-tempat-tidur");e.createRecord({RUANG_KAMAR:l.idKamar,STATUS:1});e.on("save",function(){n.tempattidurlist.reload();g.close()})},m)}else{o.notifyMessage("Silahkan pilih kamar terlebih dahulu","danger-red")}}},0,0,0,0,["controller.workspace-kamar"],0,[master.kamar,"WorkspaceController"],0));(Ext.cmd.derive("master.kamar.tempattidur.Form",com.Form,{controller:"form-tempat-tidur",model:"data.model.RuangKamarTidur",bodyPadding:10,items:[{xtype:"textfield",name:"TEMPAT_TIDUR",labelWidth:100,width:"100%",fieldLabel:"Tempa Tidur",allowBlank:false}],buttons:[{text:"Simpan",handler:"onSimpan"}]},0,["form-tempat-tidur"],["component","box","container","panel","form","com-form","form-tempat-tidur"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-tempat-tidur":true},["widget.form-tempat-tidur"],0,[master.kamar.tempattidur,"Form"],0));(Ext.cmd.derive("master.kamar.tempattidur.FormController",Ext.app.ViewController,{init:function(){var g=this,k=g.getView();k.down("[name=TEMPAT_TIDUR]").focus(false,1000)},onSimpan:function(e){var l=this,m=l.getView();m.save(e)}},0,0,0,0,["controller.form-tempat-tidur"],0,[master.kamar.tempattidur,"FormController"],0));(Ext.cmd.derive("master.kamar.tempattidur.List",com.Grid,{controller:"tempat-tidur-list",viewModel:{stores:{store:{type:"ruangkamartidur-store"}}},flex:1,border:false,columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"Nama Tempat Tidur ",dataIndex:"TEMPAT_TIDUR",flex:1},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:"20%",listeners:{checkchange:"onChange"}}]},0,["tempat-tidur-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","tempat-tidur-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"tempat-tidur-list":true},["widget.tempat-tidur-list"],0,[master.kamar.tempattidur,"List"],0));(Ext.cmd.derive("master.kamar.tempattidur.ListController",Ext.app.ViewController,{onChange:function(u,g,x){var w=this,f=w.getView(),v=w.getViewModel(),t=v.get("store"),e=t.getAt(g);e.set("STATUS",x?1:0);e.scope=this;e.save({callback:function(l,k,m){if(m){f.notifyMessage("Status KAMAR di"+(x==true?"Aktifkan":"Non Aktifkan"))}}})}},0,0,0,0,["controller.tempat-tidur-list"],0,[master.kamar.tempattidur,"ListController"],0));(Ext.cmd.derive("master.manajemenpengguna.ViewModel",Ext.app.ViewModel,{data:{pegawai:undefined,pengguna:undefined},formulas:{getNamaPegawai:function(m){var k=m("pegawai.GELAR_DEPAN")||"",l=m("pegawai.GELAR_BELAKANG")||"";k=k==""?"":k+". ";l=l==""?"":", "+l;return k+m("pegawai.NAMA")+l},getNipPegawai:function(k){var g=k("pegawai.NIP");return g},getLoginPengguna:function(g){var k=g("pengguna.LOGIN");return k},getPasswordPengguna:function(g){var k=g("pengguna.PASSWORD");return k},getIconSex:function(f){return"x-fa fa-"+(f("pegawai.JENIS_KELAMIN")==1?"male":"female")}},stores:{pegawaistore:{type:"pegawai-store"},smfstore:{type:"referensi-store",queryParams:{JENIS:26,STATUS:1}},jenisprofesistore:{type:"referensi-store",queryParams:{JENIS:36}},grouppenggunaaksesmodulestore:("data.store.GroupPenggunaAksesModule",{}),treemodulesstore:("data.store.TreeModules",{}),penggunastore:("data.store.Pengguna",{}),penggunaaksesstore:("data.store.PenggunaAkses",{}),grouppenggunastore:{type:"referensi-store",queryParams:{JENIS:43}}}},0,0,0,0,["viewmodel.manajemenpenggunamodel"],0,[master.manajemenpengguna,"ViewModel"],0));(Ext.cmd.derive("master.manajemenpengguna.Workspace",Ext.tab.Panel,{controller:"workspace-manajemen-pengguna",layout:"border",border:false,initComponent:function(){var f=this;f.items=[{title:"Daftar Pengguna",iconCls:"x-fa fa-user",layout:"fit",items:[{title:"Daftar Pengguna",ui:"panel-cyan",xtype:"pengguna-list",iconCls:"x-fa fa-list",reference:"penggunalist"}]},{title:"Group Pengguna Akses Modul",iconCls:"x-fa fa-users",xtype:"workspace-groupmodul"}];f.callParent(arguments)},load:function(g){var k=this;c=this.down("pengguna-list"),b=this.down("workspace-groupmodul");c.load(g);b.load()}},0,["workspace-manajemen-pengguna"],["component","box","container","panel","tabpanel","workspace-manajemen-pengguna"],{component:true,box:true,container:true,panel:true,tabpanel:true,"workspace-manajemen-pengguna":true},["widget.workspace-manajemen-pengguna"],0,[master.manajemenpengguna,"Workspace"],0));(Ext.cmd.derive("master.manajemenpengguna.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.workspace-manajemen-pengguna"],0,[master.manajemenpengguna,"WorkspaceController"],0));(Ext.cmd.derive("master.manajemenpengguna.group.List",com.Grid,{controller:"pengguna-group-list",viewModel:{stores:{store:{type:"referensi-store",queryParams:{JENIS:43,STATUS:1}}}},checkboxModel:false,doAfterLoad:Ext.emptyFn,initComponent:function(){var k=this,g=k.getViewModel().get("store");k.columns=[{xtype:"rownumberer",text:"No",align:"left",width:60,hidden:k.checkboxModel},{text:"Nama Group",flex:1,dataIndex:"DESKRIPSI",renderer:"onRenderer"}];g.on("load",function(e){k.doAfterLoad(e)});k.callParent(arguments)},selectAkses:function(o,q){var p=this,s=p.getSelectionModel(),t=p.getStore("store");if(s&&p.checkboxModel){var n=t.findRecord("ID",o,0,false,true,false);if(n){s.select(n,q)}}}},0,["pengguna-group-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","pengguna-group-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"pengguna-group-list":true},["widget.pengguna-group-list"],0,[master.manajemenpengguna.group,"List"],0));(Ext.cmd.derive("master.manajemenpengguna.group.ListController",Ext.app.ViewController,{onRenderer:function(v,p,o,u){var q=this,t=q.getView().getSelectionModel();if(t&&q.getView().checkboxModel){var s=o.get("checked")?(o.get("checked")==1):false;if(s){t.select(o,true)}}return v}},0,0,0,0,["controller.pengguna-group-list"],0,[master.manajemenpengguna.group,"ListController"],0));(Ext.cmd.derive("master.manajemenpengguna.groupmodul.Workspace",com.Form,{controller:"workspace-groupmodul",viewModel:{stores:{store:{type:"grouppenggunaaksesmodule-store"}}},layout:"border",defaults:{flex:1},border:false,bodyPadding:0,title:"Group Pengguna Akses Modul",initComponent:function(){var f=this;f.items=[{region:"center",xtype:"pengguna-group-list",title:"Group Pengguna",ui:"panel-cyan",iconCls:"x-fa fa-list",reference:"penggunagrouplist",checkboxModel:false,listeners:{select:"onSelectGroup"}},{region:"east",title:"Modul Akses",iconCls:"x-fa fa-bars",ui:"panel-cyan",xtype:"pengguna-modul-check-tree",reference:"penggunamodulchecktree",listeners:{checkchange:"onCheckChange"}}];f.buttons=[{text:"Simpan",ui:"soft-blue",iconCls:"x-fa fa-save",handler:"onSimpan",tooltip:{text:"Simpan",mouseOffset:[0,-75]}},{text:"Refresh",ui:"soft-red",iconCls:"x-fa fa-refresh",handler:"onRefresh",tooltip:{text:"Refresh",mouseOffset:[0,-75]}}];f.callParent(arguments)},load:function(k){var g=this.down("[reference=penggunagrouplist]");g.loadStore(k)}},0,["workspace-groupmodul"],["component","box","container","panel","form","com-form","workspace-groupmodul"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-groupmodul":true},["widget.workspace-groupmodul"],0,[master.manajemenpengguna.groupmodul,"Workspace"],0));(Ext.cmd.derive("master.manajemenpengguna.groupmodul.WorkspaceController",Ext.app.ViewController,{init:function(){var l=this,m=l.getView(),k=l.getViewModel().get("store");if(k){k.on("beforesync",function(){m.setLoading(true)})}},onRefresh:function(){var l=this,k=l.getReferences(),m=l.getViewModel().get("store");if(m){m.reload();k.penggunamodulchecktree.loadStore()}},onCheckChange:function(l,k){var m=this;m.storeData(l,k);l.cascadeBy(function(e){e.set("checked",k);m.storeData(e,k)})},privates:{storeData:function(e,v){var u=this,t=u.getReferences(),g=t.penggunagrouplist.getSelection(),s=u.getViewModel().get("store"),f=s.findRecord("MODUL",e.get("ID"),0,false,true,true);if(f){if(Ext.isNumeric(f.get("ID"))&&f.get("ID")!=0){f.set("STATUS",v?1:0);u.checkGroup(e,v)}else{if(!v){s.remove(f);u.checkGroup(e,v)}}}else{if(v){s.add(Ext.create("data.model.GroupPenggunaAksesModule",{GROUP_PENGGUNA:g[0].get("ID"),MODUL:e.get("ID"),STATUS:1}))}u.checkGroup(e,v)}},checkGroup:function(x,t){var p=this,q=p.getReferences(),v=q.penggunamodulchecktree,u=v.getStore(),s=x.get("ID").length,w=parseInt(s)-2;if(w!=0){id_substr=x.get("ID").substr(0,w);find=u.findRecord("ID",id_substr,0,false,true,true);if(t){find.set("checked",t);if(find){p.storeData(find,t)}}}}},onSelectGroup:function(t,f,g){var e=this,s=e.getReferences(),q=e.getViewModel().get("store");if(q){q.removeAll();q.commitChanges();q.queryParams={GROUP_PENGGUNA:f.get("ID")};q.load()}s.penggunamodulchecktree.setParams({GROUP_PENGGUNA:f.get("ID"),TIPE:1});s.penggunamodulchecktree.loadStore()},onSimpan:function(l){var m=this,n=m.getView(),o=m.getViewModel().get("store");o.sync({callback:function(g,e,f){n.setLoading(false);n.notifyMessage("Data Group Pengguna Akses Module telah disimpan","danger-blue")}})}},0,0,0,0,["controller.workspace-groupmodul"],0,[master.manajemenpengguna.groupmodul,"WorkspaceController"],0));(Ext.cmd.derive("master.manajemenpengguna.modul.CheckTree",Ext.tree.Panel,{controller:"pengguna-modul-check-tree",autoScroll:true,viewModel:{stores:{store:{type:"tree-modules-store",autoLoad:false,queryParams:{TREE:1}}}},border:false,scrollable:true,rootVisible:false,bind:{store:"{store}"},animate:true,setParams:function(l){var k=this,m=k.getViewModel().get("store");if(m){m.queryParams=Ext.apply(m.queryParams,l)}},loadStore:function(){var g=this,k=g.getViewModel().get("store");if(k){k.removeAll();k.load()}}},0,["pengguna-modul-check-tree"],["component","box","container","panel","tablepanel","treepanel","pengguna-modul-check-tree"],{component:true,box:true,container:true,panel:true,tablepanel:true,treepanel:true,"pengguna-modul-check-tree":true},["widget.pengguna-modul-check-tree"],0,[master.manajemenpengguna.modul,"CheckTree"],0));(Ext.cmd.derive("master.manajemenpengguna.modul.CheckTreeController",Ext.app.ViewController,{init:function(){var n=this,o=n.getView(),m=n.getViewModel(),e=m.get("store");e.on("load",function(f,g){if(g.length==0){e.removeAll()}o.expandAll();if(g.length>0){o.setSelection(g[0])}})}},0,0,0,0,["controller.pengguna-modul-check-tree"],0,[master.manajemenpengguna.modul,"CheckTreeController"],0));(Ext.cmd.derive("master.manajemenpengguna.pengguna.Detil",Ext.form.Panel,{controller:"pengguna-detil",viewModel:{type:"manajemenpenggunamodel",data:{viewInfoDetil:false}},layout:{type:"vbox",align:"stretch"},border:false,initComponent:function(){var f=this;f.items=[{xtype:"fieldset",flex:1,defaultType:"displayfield",margin:"5 5 5 5",border:false,cls:" shadow-panel x-color-w",items:[{margin:"10 10 10 10",bind:{html:"<h1>{getNamaPegawai}</h1>"}},{margin:"10 10 10 10",bind:{html:"<h3>Nip : {getNipPegawai}</h3>"}}]}];f.callParent(arguments)},loadStore:function(){var g=this,k=g.getViewModel().get("store");if(k){k.removeAll();k.load()}}},0,["pengguna-detil"],["component","box","container","panel","form","pengguna-detil"],{component:true,box:true,container:true,panel:true,form:true,"pengguna-detil":true},["widget.pengguna-detil"],0,[master.manajemenpengguna.pengguna,"Detil"],0));(Ext.cmd.derive("master.manajemenpengguna.pengguna.DetilController",Ext.app.ViewController,{},0,0,0,0,["controller.pengguna-detil"],0,[master.manajemenpengguna.pengguna,"DetilController"],0));(Ext.cmd.derive("master.manajemenpengguna.pengguna.Form",com.Form,{controller:"pengguna-form",viewModel:{stores:{store:{type:"pengguna-store"}},data:{viewInfoDetil:false,hideForm:true}},defaultType:"textfield",defaults:{anchor:"100%"},model:"data.model.Pengguna",title:"Form Pengguna",initComponent:function(){var f=this;f.items=[{fieldLabel:"Username",labelAlign:"right",allowBlank:false,reference:"username",emptyText:"Input Username",maxLength:50,enforceMaxLength:true,name:"LOGIN"},{fieldLabel:"Password",labelAlign:"right",reference:"pass",emptyText:"Input Password",inputType:"password",maxLength:50,enforceMaxLength:true,name:"PASSWORD"},{fieldLabel:"Ulangi Password",labelAlign:"right",reference:"repeatpass",inputType:"password",emptyText:"Ulangi Password",maxLength:50,enforceMaxLength:true,name:"ULANGPASSWORD"},{fieldLabel:"NIK",labelAlign:"right",allowBlank:false,reference:"nik",enforceMaxLength:true,maxLength:16,emptyText:"Input Nomor Induk Kependudukan",name:"NIK"},{fieldLabel:"Jenis Pengguna",labelAlign:"right",name:"JENIS",xtype:"referensi-combo",defaultValue:1,params:{JENIS:69},firstLoad:true,reference:"jenispengguna",emptyText:"[Pilih Jenis Pengguna]",allowBlank:false,typeAhead:true,enterFocus:true}],f.buttons=[{text:"Simpan",ui:"soft-blue",iconCls:"x-fa fa-save",listeners:{click:"onSimpan"},tooltip:{text:"Simpan",mouseOffset:[0,-75]}},{text:"Reset",ui:"soft-red",iconCls:"x-fa fa-refresh",handler:"onReset",tooltip:{text:"Reset",mouseOffset:[0,-75]}}];f.callParent(arguments)},storeload:function(q){var n=this,p=n.down("[reference = username]"),o=Ext.create("data.model.Pengguna",{}),m=n.getViewModel().get("store");if(m){m.removeAll();m.queryParams={NIP:q.get("NIP")};m.load({callback:function(k,g,e){if(e){var f=m.getAt(0);n.loadRecord(f);n.getViewModel().set("hideForm",false)}else{n.createRecord({STATUS:1,NAMA:q.get("NAMA"),NIP:q.get("NIP")})}}})}}},0,["pengguna-form"],["component","box","container","panel","form","com-form","pengguna-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pengguna-form":true},["widget.pengguna-form"],0,[master.manajemenpengguna.pengguna,"Form"],0));(Ext.cmd.derive("master.manajemenpengguna.pengguna.FormController",Ext.app.ViewController,{onReset:function(){var g=this,k=g.getView();k.getForm().reset()},onSimpan:function(e){var f=this,q=f.getView(),p=f.getReferences(),s=q.getForm().getValues(),t=q.getRecord();if(q.getForm().isValid()){if(p.pass.getValue()==p.repeatpass.getValue()){t.set(s);t.showError=true;t.animateTarget=e;t.scope=f;t.save({callback:function(g,l,k){if(l.hasException()||!k){}if(k){q.notifyMessage("Data Telah Tersimpan");q.fireEvent("getView",k)}}})}else{q.notifyMessage("Password Berbeda Silahkan samakan PASSWORD")}}}},0,0,0,0,["controller.pengguna-form"],0,[master.manajemenpengguna.pengguna,"FormController"],0));(Ext.cmd.derive("master.manajemenpengguna.pengguna.List",com.Grid,{controller:"pengguna-list",viewModel:{stores:{store:{type:"pengguna-store"}}},initComponent:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"NIP",flex:1,dataIndex:"NIP"},{text:"LOGIN",flex:1,dataIndex:"LOGIN"},{text:"NAMA",flex:1,dataIndex:"NAMA"},{text:"NIK",flex:1,dataIndex:"NIK"},{text:"JENIS",flex:1,dataIndex:"JENIS",renderer:"onJenisRenderer"},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}},{text:"#",align:"center",width:90,xtype:"widgetcolumn",widget:{xtype:"button",text:"Akses",tooltip:"Akses User",padding:3,ui:"soft-red",margin:"2.2.2.2",iconCls:"x-fa fa-pencil",listeners:{click:"onClickAkses"}}}],f.dockedItems=[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",displayInfo:true,items:["-",{},{},{xtype:"search-field",cls:"x-text-border",autoFocus:true,emptyText:"Nama",flex:1,listeners:{search:"onsearch",clear:"onClear"}}]}];f.callParent(arguments)}},0,["pengguna-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","pengguna-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"pengguna-list":true},["widget.pengguna-list"],0,[master.manajemenpengguna.pengguna,"List"],0));(Ext.cmd.derive("master.manajemenpengguna.pengguna.ListController",Ext.app.ViewController,{onJenisRenderer:function(p,s,q,w,u,v){var t=q.get("REFERENSI"),x=t?(t.JENIS_PENGGUNA?t.JENIS_PENGGUNA.DESKRIPSI:""):"";return x},onClickAkses:function(o){var m=this,n=m.getView(),e=o.getWidgetRecord();n.openDialog("",true,0,0,{xtype:"workspace-pengguna",viewModel:{data:{pegawai:e,pengguna:e,viewInfoDetil:true}},showCloseButton:true,ui:"panel-red",iconCls:"x-fa fa-unlock-alt"},function(g,k){var f=k.down("workspace-pengguna");f.load(e)},o)},onChange:function(u,g,x){var w=this,f=w.getView(),v=w.getViewModel(),t=v.get("store"),e=t.getAt(g);e.set("STATUS",x?1:0);e.scope=this;e.save({callback:function(l,k,m){if(m){f.notifyMessage("Status di"+(x==true?"Aktifkan":"Non Aktifkan"),"danger-blue");f.reload()}}})},onsearch:function(q,o){var f=this,e=f.getViewModel(),p=e.get("store");p.queryParams={NAMA:o,page:1,start:0};p.load()},onClear:function(){var l=this,k=l.getViewModel(),m=k.get("store");delete m.queryParams.NAMA;delete m.queryParams.page;delete m.queryParams.start;m.load()}},0,0,0,0,["controller.pengguna-list"],0,[master.manajemenpengguna.pengguna,"ListController"],0));(Ext.cmd.derive("master.manajemenpengguna.pengguna.Workspace",com.Form,{controller:"workspace-pengguna",viewModel:{stores:{penggunaaksesstore:{type:"pengguna-akses-store"},store:{type:"pengguna-store"},penggunaaksesruangan:{type:"pengguna-akses-ruangan-store"}},data:{viewInfoDetil:false},formulas:{getNamaPegawai:function(m){var k=m("pegawai.GELAR_DEPAN")||"",l=m("pegawai.GELAR_BELAKANG")||"";k=k==""?"":k+". ";l=l==""?"":", "+l;return k+m("pegawai.NAMA")+l},getNipPegawai:function(k){var g=k("pegawai.NIP");return g}}},layout:"fit",bind:{title:"Nama Pengguna : <strong>{getNamaPegawai}</strong> / NIP : <strong>{getNipPegawai}</strong>"},initComponent:function(){var f=this;f.items=[{xtype:"form",border:false,layout:"border",items:[{region:"west",xtype:"pengguna-group-list",flex:1,reference:"penggunagrouplist",checkboxModel:true,selModel:{selType:"checkboxmodel",mode:"MULTI",checkOnly:true},listeners:{select:"onSelectGroup",deselect:"onDeselectGroup",itemclick:"onItemClick"}},{region:"center",title:"Modul Akses",xtype:"pengguna-modul-check-tree",flex:1,reference:"penggunamodulchecktree",listeners:{checkchange:"onCheckChange"}},{region:"east",xtype:"ruangan-list",checkboxModel:true,selModel:{selType:"checkboxmodel",mode:"MULTI",checkOnly:true},flex:1,reference:"penggunaaksesruangan",listeners:{select:"onSelectAksesRuangan",deselect:"onDeselectAksesRuangan"}}],buttons:[{text:"Simpan",ui:"soft-blue",iconCls:"x-fa fa-save",handler:"onSimpan",tooltip:{text:"Simpan",mouseOffset:[0,-75]}},{text:"Refresh",ui:"soft-red",iconCls:"x-fa fa-refresh",handler:"onRefresh",tooltip:{text:"Refresh",mouseOffset:[0,-75]}}]}];f.callParent(arguments)},load:function(f){}},0,["workspace-pengguna"],["component","box","container","panel","form","com-form","workspace-pengguna"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-pengguna":true},["widget.workspace-pengguna"],0,[master.manajemenpengguna.pengguna,"Workspace"],0));(Ext.cmd.derive("master.manajemenpengguna.pengguna.WorkspaceController",Ext.app.ViewController,{init:function(){var v=this,s=v.getView(),o=this.getViewModel(),p=o.get("penggunaaksesstore"),t=o.get("penggunaaksesruangan"),u=o.get("pengguna"),q=this.getReferences();t.on("beforesync",function(){s.setLoading(true)});p.on("beforesync",function(){s.setLoading(true)});q.penggunagrouplist.loadStore();p.removeAll();p.queryParams={PENGGUNA:u.get("ID")};t.removeAll();t.queryParams={PENGGUNA:u.get("ID")};q.penggunaaksesruangan.setParams({RUANGAN_AKSES:1,TREE:0,PENGGUNA:u.get("ID"),STATUS:1});q.penggunaaksesruangan.loadStore();new Ext.util.DelayedTask(function(){p.on("load",function(g,f,e){if(e){Ext.Array.each(f,function(k){if(k.get("STATUS")==1){var m=k.get("REFERENSI"),l=m?m.GROUP_PENGGUNA.GROUP_PENGGUNA:null;q.penggunagrouplist.selectAkses(l,k.get("STATUS")==1)}})}});p.load();t.load()}).delay(1000)},onRefresh:function(){var l=this,k=l.getReferences(),m=l.getViewModel().get("store");if(m){m.reload();k.penggunamodulchecktree.loadStore();k.penggunaaksesruangan.loadStore()}},onCheckChange:function(l,k){var m=this;if(m.storeData){m.storeData(l,k);l.cascadeBy(function(e){e.set("checked",k);m.storeData(e,k)})}},storeData:function(e,x){var w=this,t=w.getReferences(),g=t.penggunagrouplist.getSelection(),u=w.getViewModel().get("penggunaaksesstore"),v=w.getViewModel().get("pengguna"),f=u.findRecord("GROUP_PENGGUNA_AKSES_MODULE",e.get("GPAM"),0,false,true,true);if(f){if(Ext.isNumeric(f.get("ID"))&&f.get("ID")!=0){f.set("STATUS",x?1:0);w.checkGroup(e,x)}else{if(!x){u.remove(f);w.checkGroup(e,x)}}}else{if(v){if(x){u.add(Ext.create("data.model.PenggunaAkses",{GROUP_PENGGUNA_AKSES_MODULE:e.get("GPAM"),PENGGUNA:v.get("ID"),STATUS:1}))}w.checkGroup(e,x)}}},checkGroup:function(x,t){var p=this,q=p.getReferences(),v=q.penggunamodulchecktree,u=v.getStore(),s=x.get("ID").length,w=parseInt(s)-2;if(w!=0){id_substr=x.get("ID").substr(0,w);find=u.findRecord("ID",id_substr,0,false,true,true);if(t){find.set("checked",t);if(find){p.storeData(find,t)}}}},onSelectGroup:function(u,e,f){var v=this,s=v.getViewModel().get("store"),g=v.getViewModel().get("pengguna"),t=v.getReferences();t.penggunamodulchecktree.setParams({GROUP_PENGGUNA:e.get("ID"),TIPE:2,PENGGUNA:g.get("ID")});t.penggunamodulchecktree.loadStore();t.penggunamodulchecktree.setTitle("Modul Akses - "+e.get("DESKRIPSI"))},onDeselectGroup:function(l,k,m){},onItemClick:function(k,g){this.onSelectGroup(k,g)},onSelectAksesRuangan:function(l,k,m){this.checkedAksesRuangan(k,true)},onDeselectAksesRuangan:function(l,k,m){this.checkedAksesRuangan(k,false)},onSimpan:function(m){var n=this,p=n.getView(),q=n.getStore("penggunaaksesstore"),o=n.getStore("penggunaaksesruangan");q.sync({callback:function(f,g,e){n.getView().setLoading(false);p.notifyMessage("Data Pengguna Akses Modul telah disimpan","danger-blue")}});o.sync({callback:function(f,g,e){n.getView().setLoading(false);p.notifyMessage("Data Pengguna Akses Ruangan telah disimpan","danger-blue")}})},privates:{checkedAksesRuangan:function(n,p){var q=this,t=q.getViewModel().get("pengguna"),s=q.getStore("penggunaaksesruangan"),o=s.findRecord("RUANGAN",n.get("ID"),0,false,true,false);if(o){if(Ext.isNumeric(o.get("ID"))&&o.get("ID")!=0){o.set("STATUS",p?1:0)}else{if(!p){s.remove(o)}}}else{if(p){s.add(Ext.create("data.model.PenggunaAksesRuangan",{PENGGUNA:t.get("ID"),RUANGAN:n.get("ID"),STATUS:1}))}}}}},0,0,0,0,["controller.workspace-pengguna"],0,[master.manajemenpengguna.pengguna,"WorkspaceController"],0));(Ext.cmd.derive("master.mapping.Workspace",com.Form,{layout:"fit",bodyPadding:0,items:[{xtype:"com-form",ui:"panel-purple",title:"&nbsp;Mapping",titleFieldConfig:{iconCls:"x-fa fa-map-signs"},fullscreenEnabled:true,menuConfig:{enabled:true,width:250,buttonConfig:{}},fullscreenConfig:{},header:{items:[{}]}}],load:function(o){var m=this,n=this.down("com-form"),l=[];l.push({text:"Group Referensi Kelas",leaf:true,className:"master.mapping.groupreferensikelas.Grid",idClassName:"master-mapping-groupreferensikelas-grid"});n.setMenus(l)}},0,["master-mapping-workspace"],["component","box","container","panel","form","com-form","master-mapping-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"master-mapping-workspace":true},["widget.master-mapping-workspace"],0,[master.mapping,"Workspace"],0));(Ext.cmd.derive("master.mapping.groupreferensikelas.Grid",com.Grid,{controller:"master-mapping-groupreferensikelas-grid",viewModel:{stores:{store:{type:"master-mapping-groupreferensikelas-store"}}},initComponent:function(){var f=this;f.comboReferensiKelas=Ext.create("master.referensi.Combo",{params:{JENIS:19,STATUS:1},editable:false,firstLoad:true,listeners:{select:"onSelect"}});f.comboKelas=Ext.create("Ext.form.field.ComboBox",{displayField:"DESKRIPSI",valueField:"ID",editable:false,store:Ext.create("Ext.data.Store",{fields:["ID","DESKRIPSI"],data:[{ID:0,DESKRIPSI:"Non Kelas"},{ID:1,DESKRIPSI:"Kelas III"},{ID:2,DESKRIPSI:"Kelas II"},{ID:3,DESKRIPSI:"Kelas I"},{ID:4,DESKRIPSI:"VIP"},{ID:5,DESKRIPSI:"VVIP"}]}),listeners:{select:"onSelectKelas"}});f.columns=[{text:"Referensi Kelas",dataIndex:"REFERENSI_KELAS",sortable:false,editor:f.comboReferensiKelas,renderer:"onRendererReferensiKelas",flex:1},{text:"Kelas",dataIndex:"KELAS",sortable:false,editor:f.comboKelas,renderer:"onRendererKelas",flex:1}];com.Grid.prototype.initComponent.apply(this,arguments)},dockedItems:[{xtype:"toolbar",items:["->",{iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan"},{iconCls:"x-fa fa-plus",tooltip:"Tambah",handler:"onTambah"},{iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],plugins:{ptype:"cellediting",clicksToEdit:1}},0,["master-mapping-groupreferensikelas-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","master-mapping-groupreferensikelas-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"master-mapping-groupreferensikelas-grid":true},["widget.master-mapping-groupreferensikelas-grid"],0,[master.mapping.groupreferensikelas,"Grid"],0));(Ext.cmd.derive("master.mapping.groupreferensikelas.GridController",Ext.app.ViewController,{onSelect:function(o,l){var m=this.getView().getSelection();if(l){if(Ext.isArray(m)){if(m.length>0){var n=m[0].get("REFERENSI")||{};n.REFERENSI_KELAS=l.data;m[0].set("REFERENSI",n)}}}},onSelectKelas:function(o,l){var m=this.getView().getSelection();if(l){if(Ext.isArray(m)){if(m.length>0){var n=m[0].get("REFERENSI")||{};n.KELAS=l.data;m[0].set("REFERENSI",n)}}}},onRendererReferensiKelas:function(m,p,q){var o=q.get("REFERENSI"),n=o?o.REFERENSI_KELAS:null;if(n){return n.DESKRIPSI}return m},onRendererKelas:function(n,q,s){var t=this.getView(),p=s.get("REFERENSI"),o=p?p.KELAS:null;if(o){return o.DESKRIPSI}return n},onSimpan:function(o){var n=this,p=n.getStore("store"),m=p.getModifiedRecords(),q=0;Ext.Array.each(m,function(f){var e=Ext.clone(f);delete e.data.REFERENSI;e.save({callback:function(l,k,g){if(g){if(q===(m.length-1)){n.getView().notifyMessage("Data telah disimpan")}}q++}})});n.onRefresh()},onTambah:function(l){var k=this,m=k.getStore("store");m.insert(0,Ext.create("master.mapping.groupreferensikelas.Model",{}))},onRefresh:function(){this.getView().reload()}},0,0,0,0,["controller.master-mapping-groupreferensikelas-grid"],0,[master.mapping.groupreferensikelas,"GridController"],0));(Ext.cmd.derive("master.marginpenjaminfarmasi.Form",com.Form,{controller:"master-form-marginpenjaminfarmasi",viewModel:{stores:{storesCekDuplikat:{type:"master-marginpenjaminfarmasi-store",queryParams:{STATUS:1,start:0,limit:1}}},data:{isNewForm:true}},layout:{type:"hbox"},defaults:{flex:1,margin:"0 10 0 0"},model:"master.marginpenjaminfarmasi.Model",initComponent:function(){var f=this;f.items=[{xtype:"referensi-combo",params:{JENIS:10},firstLoad:true,name:"PENJAMIN",allowBlank:false,emptyText:"[ Cara Bayar ]",flex:2},{xtype:"referensi-combo",params:{JENIS:78},emptyText:"[ Jenis ]",firstLoad:true,name:"JENIS",allowBlank:false},{xtype:"numberfield",emptyText:"[ Margin % ]",name:"MARGIN",allowBlank:false,hideTrigger:true},{xtype:"textfield",emptyText:"[ No.SK ]",name:"NOMOR_SK",allowBlank:false},{xtype:"datefield",emptyText:"[ Tanggal SK ]",name:"TANGGAL_SK",format:"Y-m-d",allowBlank:false},{xtype:"button",text:"Simpan",flex:0.6,ui:"soft-blue",handler:"onSimpan"}];com.Form.prototype.initComponent.apply(this,arguments)},onBeforeGetRecord:function(o,m){var q=o.getViewModel(),n=o.down("[name=TANGGAL_SK]").getValue(),p=Ext.Date.clone(n);p.setHours(0);p.setMinutes(0);p.setSeconds(0);m.TANGGAL_SK=p},isDuplikcatDataEntry:function(p,n,m){var o=this,q=o.getViewModel().get("storesCekDuplikat");if(q){q.queryParams=q.queryParams||{};q.queryParams={PENJAMIN:p,JENIS:n,STATUS:1,start:0,limit:1};q.load(function(g,e,f){if(Ext.isArray(g)){m(g.length>0)}})}}},0,["master-form-marginpenjaminfarmasi"],["component","box","container","panel","form","com-form","master-form-marginpenjaminfarmasi"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"master-form-marginpenjaminfarmasi":true},["widget.master-form-marginpenjaminfarmasi"],0,[master.marginpenjaminfarmasi,"Form"],0));(Ext.cmd.derive("master.marginpenjaminfarmasi.FormController",Ext.app.ViewController,{onSimpan:function(p){var n=this,q=n.getView(),o=q.getRecord().get("PENJAMIN"),m=q.getRecord().get("JENIS");q.isDuplikcatDataEntry(o,m,function(e){if(e){Ext.Msg.show({title:"Informasi",message:"Data Dengan Cara Bayar Tersebut Sudah Ada, Apakah Anda Ingin Update Data Tersebut .?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(g){if(g==="yes"){var k=n.getViewModel().get("storesCekDuplikat"),f=k.getAt(0);f.set("STATUS",0);f.save({callback:function(v,u,l){if(l){q.save(p)}else{q.notifyMessage("Gagal")}}})}}})}else{q.save(p)}})}},0,0,0,0,["controller.master-form-marginpenjaminfarmasi"],0,[master.marginpenjaminfarmasi,"FormController"],0));(Ext.cmd.derive("master.marginpenjaminfarmasi.List",com.Grid,{controller:"master-list-marginpenjaminfarmasi",flex:1,viewModel:{stores:{store:{type:"master-marginpenjaminfarmasi-store"}}},header:{iconCls:"x-fa fa-list",padding:"7px 7px 7px 7px",title:"Detail"},ui:"panel-cyan",hideColumns:false,layout:"fit",initComponent:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:40},{xtype:"templatecolumn",text:"Cara Bayar",flex:2,tpl:'<div style="white-space:normal !important;">{REFERENSI.PENJAMIN.DESKRIPSI}</div>'},{xtype:"templatecolumn",text:"Jenis",flex:1,tpl:'<div style="white-space:normal !important;">{REFERENSI.JENIS.DESKRIPSI}</div>'},{xtype:"templatecolumn",text:"Margin",flex:1,tpl:'<div style="white-space:normal !important;">{MARGIN} %</div>'},{text:"No.SK",dataIndex:"NOMOR_SK",flex:1},{xtype:"datecolumn",text:"Tgl.SK",dataIndex:"TANGGAL_SK",flex:1},{xtype:"actioncolumn",align:"center",width:75,hidden:f.hideColumns,text:"#",items:[{xtype:"tool",iconCls:"x-fa fa-history",tooltip:"History",handler:"onHistory"}]}],f.dockedItems=[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",displayInfo:true}];com.Grid.prototype.initComponent.apply(this,arguments)},onLoadRecord:function(){var g=this,k=g.getViewModel().get("store");k.queryParams=k.queryParams||{};k.queryParams={STATUS:1};k.load()},onLoadHistory:function(m){var k=this,l=k.getViewModel().get("store");l.queryParams=l.queryParams||{};l.queryParams={PENJAMIN:m.get("PENJAMIN"),JENIS:m.get("JENIS"),STATUS:0};l.load()}},0,["master-list-marginpenjaminfarmasi"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","master-list-marginpenjaminfarmasi"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"master-list-marginpenjaminfarmasi":true},["widget.master-list-marginpenjaminfarmasi"],0,[master.marginpenjaminfarmasi,"List"],0));(Ext.cmd.derive("master.marginpenjaminfarmasi.ListController",Ext.app.ViewController,{onChange:function(x,w,p){var q=this,s=q.getViewModel(),v=q.getView(),u=s.get("store"),t=u.getAt(w);t.set("STATUS",p?1:0);t.scope=this;t.save({callback:function(g,f,e){if(e){v.notifyMessage("Status di "+(p==true?"Aktifkan":"NonAktifkan"),"danger-red")}else{t.set("STATUS",p?0:1)}}})},onHistory:function(o,v,p){var q=this,t=q.getView(),s=q.getViewModel().get("store"),u=s.getAt(v);dialog=t.openDialog("",true,0,0,{xtype:"master-list-marginpenjaminfarmasi",title:"History Tarif Margin & Tuslah",ui:"panel-cyan",showCloseButton:true,hideColumns:true,listeners:{close:function(){dialog.close();t.onLoadRecord()}}},function(g,e){var f=e.down("master-list-marginpenjaminfarmasi");f.onLoadHistory(u);f.on("success",function(k){t.refresh();win.close()})})}},0,0,0,0,["controller.master-list-marginpenjaminfarmasi"],0,[master.marginpenjaminfarmasi,"ListController"],0));(Ext.cmd.derive("master.marginpenjaminfarmasi.Workspace",com.Form,{controller:"master-workspace-marginpenjaminfarmasi",layout:{type:"hbox",align:"stretch"},flex:1,title:"Margin Obat",initComponent:function(){var f=this;f.items=[{flex:1,header:{iconCls:"x-fa fa-money",padding:"7px 7px 7px 7px",title:"Margin Obat"},ui:"panel-cyan",margin:"2px 2px 2px 2px",layout:"border",items:[{region:"north",border:true,xtype:"master-form-marginpenjaminfarmasi",reference:"formmarginpenjaminfarmasi",listeners:{save:"onSuccess"}},{region:"center",xtype:"master-list-marginpenjaminfarmasi",reference:"listmarginpenjaminfarmasi",listeners:{success:"onSuccess"}}]}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(){var l=this,m=l.down("master-form-marginpenjaminfarmasi"),k=l.down("master-list-marginpenjaminfarmasi");m.createRecord({});k.onLoadRecord()}},0,["master-workspace-marginpenjaminfarmasi"],["component","box","container","panel","form","com-form","master-workspace-marginpenjaminfarmasi"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"master-workspace-marginpenjaminfarmasi":true},["widget.master-workspace-marginpenjaminfarmasi"],0,[master.marginpenjaminfarmasi,"Workspace"],0));(Ext.cmd.derive("master.marginpenjaminfarmasi.WorkspaceController",Ext.app.ViewController,{onSuccess:function(q,n,s){var o=this,t=o.getView(),p=o.getViewModel();t.load()}},0,0,0,0,["controller.master-workspace-marginpenjaminfarmasi"],0,[master.marginpenjaminfarmasi,"WorkspaceController"],0));(Ext.cmd.derive("master.negara.Form",com.Form,{controller:"form-negara",layout:{type:"hbox",align:"stretch"},model:"master.negara.Model",bodyPadding:1,header:false,border:false,defaults:{margin:"0 1 0 1"},defaultType:"textfield",initComponent:function(){this.items=[{maxLength:75,name:"DESKRIPSI",reference:"nama_negara",emptyText:"[Nama Negara]",flex:3},{maxLength:75,name:"SINGKATAN",emptyText:"[Singkatan]",flex:1},{xtype:"button",text:"Simpan",ui:"soft-green",iconCls:"x-fa fa-save",handler:"onSimpan"},{text:"Batal",xtype:"button",ui:"soft-red",iconCls:"x-fa fa-times",handler:"onBatal"}];com.Form.prototype.initComponent.apply(this,arguments)}},0,["form-negara"],["component","box","container","panel","form","com-form","form-negara"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-negara":true},["widget.form-negara"],0,[master.negara,"Form"],0));(Ext.cmd.derive("master.negara.FormController",Ext.app.ViewController,{onSimpan:function(e){var l=this,m=l.getView();m.save(e)},onBatal:function(g){var k=this;k.getView().fireEvent("batal")}},0,0,0,0,["controller.form-negara"],0,[master.negara,"FormController"],0));(Ext.cmd.derive("master.negara.List",com.Grid,{controller:"negara-list",flex:1,viewModel:{stores:{store:{type:"master-negara-store"}}},cls:"x-br-top",border:true,reference:"master-negara",columns:[{xtype:"rownumberer",text:"No",align:"left",width:70},{text:"Nama Negara ",dataIndex:"DESKRIPSI",flex:4},{text:"Singkatan ",dataIndex:"SINGKATAN",flex:1},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,stopSelection:true,listeners:{checkchange:"onChange"}}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",displayInfo:true,items:["-",{},{},{xtype:"search-field",cls:"x-text-border",autoFocus:true,emptyText:"Cari berdasarkan Nama Negara",flex:1,listeners:{search:"onsearch",clear:"onClear"}}]}]},0,["negara-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","negara-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"negara-list":true},["widget.negara-list"],0,[master.negara,"List"],0));(Ext.cmd.derive("master.negara.ListController",Ext.app.ViewController,{onsearch:function(q,o){var f=this,e=f.getViewModel(),p=e.get("store");p.queryParams={DESKRIPSI:o,page:1,start:0};p.load()},onClear:function(){var l=this,k=l.getViewModel(),m=k.get("store");delete m.queryParams.DESKRIPSI;delete m.queryParams.page;delete m.queryParams.start;m.load()},onChange:function(t,g,e){var v=this,u=v.getViewModel(),s=u.get("store"),f=s.getAt(g);f.set("STATUS",e?1:0);f.scope=this;f.save({callback:function(l,k,m){if(m){v.getView().notifyMessage("Status Negara di"+(e==true?"Aktifkan":"Non Aktifkan"))}}})}},0,0,0,0,["controller.negara-list"],0,[master.negara,"ListController"],0));(Ext.cmd.derive("master.negara.ViewModel",Ext.app.ViewModel,{stores:{negarastore:{type:"master-negara-store"}}},0,0,0,0,["viewmodel.negaramodel"],0,[master.negara,"ViewModel"],0));(Ext.cmd.derive("master.negara.Workspace",com.Form,{controller:"workspace-negara",viewModel:{data:{hideForm:true}},border:false,layout:"border",initComponent:function(){var f=this;f.items=[{region:"north",title:"Negara",ui:"panel-gray",iconCls:"x-fa fa-list",header:{items:[{xtype:"button",margin:2,height:32,cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Negara",listeners:{click:"onAddNegara"}}]},layout:"fit",items:[{xtype:"form-negara",bind:{hidden:"{hideForm}"},reference:"formnegara",listeners:{scope:f.getController(),batal:"onBatal",save:"onSuccess"}}]},{region:"center",xtype:"negara-list",border:false,reference:"negaralist",listeners:{select:"onSelect"}}];f.callParent(arguments)},load:function(){var l=this,k=l.down("negara-list"),m=l.getViewModel();m.set("hideForm",true);k.load({})}},0,["workspace-negara"],["component","box","container","panel","form","com-form","workspace-negara"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-negara":true},["widget.workspace-negara"],0,[master.negara,"Workspace"],0));(Ext.cmd.derive("master.negara.WorkspaceController",Ext.app.ViewController,{onAddNegara:function(f){this.confForm()},onBatal:function(){this.confForm()},confForm:function(){var m=this,l=m.getViewModel(),n=l.get("hideForm"),o=m.getReferences();l.set("hideForm",!n);o.formnegara.createRecord({STATUS:1})},onSelect:function(s,f,g){var e=this,t=e.getViewModel(),q=e.getReferences();t.set("hideForm",false);q.formnegara.loadRecord(f)},onSuccess:function(){var k=this,e=k.getReferences();e.negaralist.reload();k.confForm()}},0,0,0,0,["controller.workspace-negara"],0,[master.negara,"WorkspaceController"],0));(Ext.cmd.derive("master.paket.Combo",com.Combo,{viewModel:{stores:{store:{type:"paket-store"}}},emptyText:"[Pilih Paket]",displayField:"NAMA"},0,["paket-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","paket-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"paket-combo":true},["widget.paket-combo"],0,[master.paket,"Combo"],0));(Ext.cmd.derive("master.paket.Form",com.Form,{controller:"form-paket",viewModel:{stores:{combokelasstore:{type:"referensi-store",queryParams:{JENIS:19},autoLoad:true},combojeniskunjunganstore:{type:"referensi-store",queryParams:{JENIS:15},autoLoad:true}}},model:"data.model.Paket",border:false,items:[{xtype:"form",flex:1,border:false,defaults:{margin:"2 2 2 2",flex:1},items:[{layout:"hbox",flex:1,border:false,defaults:{margin:"2 2 2 2",flex:1},items:[{xtype:"textfield",name:"NAMA",allowBlank:false,emptyText:"[ NAMA PAKET ]"}]},{layout:"hbox",flex:1,border:false,defaults:{xtype:"combo",queryMode:"local",allowBlank:false,displayField:"DESKRIPSI",valueField:"ID",margin:"2 2 2 2",flex:1,listeners:{specialkey:"onFocusEnter"}},items:[{name:"KELAS",bind:{store:"{combokelasstore}"},emptyText:"[ KELAS ]"},{name:"UNTUK_KUNJUNGAN",bind:{store:"{combojeniskunjunganstore}"},emptyText:"[ JENIS KUNJUNGAN ]"}]},{layout:"hbox",flex:1,border:false,defaults:{xtype:"numberfield",hideTrigger:true,margin:"2 2 2 2",flex:1},items:[{name:"LAMA",emptyText:"[ LAMA KUNJUNGAN ]"},{name:"TARIF",emptyText:"[ TARIF KUNJUNGAN ]"}]}]}],buttons:[{text:"Simpan",ui:"soft-green",iconCls:"x-fa fa-save",listeners:{click:"onSimpan"}},{text:"BATAL",ui:"soft-red",iconCls:"x-fa fa-refresh",listeners:{click:"onBatal"}}]},0,["form-paket"],["component","box","container","panel","form","com-form","form-paket"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-paket":true},["widget.form-paket"],0,[master.paket,"Form"],0));(Ext.cmd.derive("master.paket.FormController",Ext.app.ViewController,{onSimpan:function(g){var k=this.getView();k.save(g)},onBatal:function(){var f=this.getView();f.getForm().reset();f.createRecord({STATUS:1})}},0,0,0,0,["controller.form-paket"],0,[master.paket,"FormController"],0));(Ext.cmd.derive("master.paket.List",com.Grid,{controller:"paket-list",viewModel:{stores:{store:{type:"paket-store"}}},border:false,title:"Daftar Paket",iconCls:"x-fa fa-list",tools:[{type:"plus",tooltip:"Tambah Paket",callback:"onAddPaket"}],columns:[{xtype:"rownumberer",text:"No",align:"left",width:40},{text:"NAMA PAKET",dataIndex:"NAMA",flex:2},{text:"TARIF",dataIndex:"TARIF",flex:1,align:"right"},{text:"Distribusi",xtype:"actioncolumn",align:"center",width:100,items:[{xtype:"tool",iconCls:"x-fa fa-pencil-square-o",tooltip:"Distribusi Tarif Paket",handler:"onClickDistribusiPaket"}]}]},0,["paket-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","paket-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"paket-list":true},["widget.paket-list"],0,[master.paket,"List"],0));(Ext.cmd.derive("master.paket.ListController",Ext.app.ViewController,{onClickDistribusiPaket:function(z,q,w){var t=this,s=t.getView(),v=z.getStore().getAt(q),x=v.get("ID"),y=v.get("REFERENSI")?v.get("REFERENSI").KELAS.DESKRIPSI:"",u="( "+x+" )  "+v.get("NAMA")+" - "+y;s.openDialog("",true,0,0,{title:u,xtype:"workspace-paket-distribusitarif",ui:"panel-cyan",showCloseButton:true},function(f,e){var g=e.down("workspace-paket-distribusitarif");g.load(v.get("ID"));e.on({close:function(){s.reload()}})})},onAddPaket:function(l){var k=this,m=k.getView();m.openDialog("",true,100,195,{xtype:"form-paket",title:"Form Paket",ui:"panel-cyan",showCloseButton:true},function(f,e){var g=e.down("form-paket");g.on("save",function(q,t,s){m.reload();e.close()});g.createRecord({STATUS:1,TANGGAL:m.getSysdate()})},l)}},0,0,0,0,["controller.paket-list"],0,[master.paket,"ListController"],0));(Ext.cmd.derive("master.paket.Workspace",com.Form,{controller:"workspace-paket",layout:"border",title:"Paket",iconCls:"x-fa fa-cart-plus",defaults:{margin:"3 3 3 3",border:false},items:[{region:"center",ui:"panel-blue",xtype:"workspace-paketdetil",reference:"paketdetil"},{region:"east",header:{height:35},ui:"panel-blue",title:"Daftar Paket",xtype:"paket-list",reference:"paketlist",collapsible:true,floatable:true,split:true,flex:1,listeners:{select:"onSelectPaket"},doAfterLoad:function(m,n,l,o){if(l){if(n.length>0){m.setSelection(n[0])}}}}],load:function(k){var l=this,m=l.down("paket-list");m.setGridConfig({paging:true});m.load({})}},0,["workspace-paket"],["component","box","container","panel","form","com-form","workspace-paket"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-paket":true},["widget.workspace-paket"],0,[master.paket,"Workspace"],0));(Ext.cmd.derive("master.paket.WorkspaceController",Ext.app.ViewController,{onSelectPaket:function(o,m,q){var n=this,p=n.getReferences();if(m){p.paketdetil.load(m);p.paketdetil.loadRecord(m);p.paketdetil.setTitle("Daftar Item Paket - "+m.get("NAMA"))}}},0,0,0,0,["controller.workspace-paket"],0,[master.paket,"WorkspaceController"],0));(Ext.cmd.derive("master.paket.distribusitarif.Form",com.Form,{viewModel:{data:{temporery:undefined},formulas:{getTotal:function(C){var y=C("record.ADMINISTRASI"),x=C("record.SARANA"),A=C("record.BHP"),B=C("record.DOKTER_OPERATOR"),t=C("record.DOKTER_ANASTESI"),z=C("record.DOKTER_LAINNYA"),u=C("record.PENATA_ANASTESI"),D=C("record.PARAMEDIS"),w=C("record.NON_MEDIS"),v=y+x+A+B+t+z+u+D+w;return v}}},controller:"paket-distribusitarif-form",model:"data.model.DistribusiTarifPaket",layout:{align:"stretch",type:"hbox"},defaults:{border:false},items:[{layout:{type:"vbox",align:"stretch"},defaults:{xtype:"numberfield",hideTrigger:true,labelAlign:"top",margin:"5 5 5 5",bind:{readOnly:"{formConfig.simpan}"}},flex:1,items:[{fieldLabel:"Administrasi",bind:{value:"{record.ADMINISTRASI}"},name:"ADMINISTRASI"},{fieldLabel:"Sarana",bind:{value:"{record.SARANA}"},name:"SARANA"},{fieldLabel:"BHP",bind:{value:"{record.BHP}"},name:"BHP"},{fieldLabel:"Dokter Operator",bind:{value:"{record.DOKTER_OPERATOR}"},name:"DOKTER_OPERATOR"},{fieldLabel:"Dokter Anastesi",bind:{value:"{record.DOKTER_ANASTESI}"},name:"DOKTER_ANASTESI"},{fieldLabel:"Dokter Lainya",bind:{value:"{record.DOKTER_LAINNYA}"},name:"DOKTER_LAINNYA"}]},{layout:{type:"vbox",align:"stretch"},defaults:{labelAlign:"top",margin:"5 5 5 5",bind:{readOnly:"{formConfig.simpan}"}},flex:1,items:[{xtype:"numberfield",fieldLabel:"Penata Anastesi",hideTrigger:true,bind:{value:"{record.PENATA_ANASTESI}"},name:"PENATA_ANASTESI"},{xtype:"numberfield",fieldLabel:"Paramedis",hideTrigger:true,bind:{value:"{record.PARAMEDIS}"},name:"PARAMEDIS"},{xtype:"numberfield",fieldLabel:"Non Medis",hideTrigger:true,bind:{value:"{record.NON_MEDIS}"},name:"NON_MEDIS"},{xtype:"numberfield",fieldLabel:"Tarif",hideTrigger:true,readOnly:true,bind:{value:"{getTotal}"},name:"TARIF"},{xtype:"datefield",fieldLabel:"Tanggal SK",name:"TANGGAL_SK"},{xtype:"textfield",fieldLabel:"Nomor SK",name:"NOMOR_SK"}]}],buttons:[{text:"Ganti Distribusi Tarif Paket",bind:{hidden:"{!formConfig.simpan}"},ui:"soft-red",iconCls:"x-fa fa-exchange",handler:"onGanti",tooltip:{text:"Ganti Distribusi Tarif Paket"}},{text:"Simpan",ui:"soft-blue",iconCls:"x-fa fa-save",handler:"onSimpan",bind:{hidden:"{formConfig.simpan}"},tooltip:{text:"Simpan"}},{text:"Reset",bind:{hidden:"{formConfig.simpan}"},ui:"soft-red",iconCls:"x-fa fa-refresh",handler:"onReset",tooltip:{text:"Reset"}}]},0,["paket-distribusitarif-form"],["component","box","container","panel","form","com-form","paket-distribusitarif-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"paket-distribusitarif-form":true},["widget.paket-distribusitarif-form"],0,[master.paket.distribusitarif,"Form"],0));(Ext.cmd.derive("master.paket.distribusitarif.FormController",Ext.app.ViewController,{onReset:function(){var m=this,o=m.getView(),n=m.getViewModel().get("temporery"),l=o.getRecord();if(n){obj={PAKET:n.get("PAKET"),STATUS:1,TANGGAL:o.getSysdate()}}else{obj={PAKET:l.get("PAKET"),STATUS:1,TANGGAL:o.getSysdate()}}o.getForm().reset();o.createRecord(obj)},onSimpan:function(n){var m=this,p=m.getView(),q=p.getRecord(),o=m.getViewModel().get("temporery");if(o){o.set("STATUS",0);o.save();o.animateTarget=n;o.scope=m;o.showError=true;o.save({callback:function(f,e,g){if(g){p.save(n,{},function(k,t,l){if(l){m.getViewModel().set("temporery",undefined)}})}}})}else{p.save(n)}},onGanti:function(o){var m=this,p=m.getView(),n=m.getViewModel(),q=p.getRecord();p.showMessageBox({title:"Konfirmasi",message:"Apakah anda ingin mengganti tarif?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:o,fn:function(e){if(e=="yes"){n.set("temporery",Ext.create("data.model.DistribusiTarifPaket",q.data));p.setFormConfig({viewOnly:!status,simpan:false});m.onReset()}}})}},0,0,0,0,["controller.paket-distribusitarif-form"],0,[master.paket.distribusitarif,"FormController"],0));(Ext.cmd.derive("master.paket.distribusitarif.List",com.Grid,{controller:"paket-distribusitarif-list",viewModel:{stores:{store:{type:"distribusi-tarif-paket-store"}}},cls:"x-br-top",border:false,reference:"discountList",columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{xtype:"numbercolumn",text:"ADMINISTRASI",dataIndex:"ADMINISTRASI",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"SARANA",dataIndex:"SARANA",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"DOKTER OPERATOR",dataIndex:"DOKTER_OPERATOR",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"DOKTER ANASTESI",dataIndex:"DOKTER_ANASTESI",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"DOKTER LAINNYA",dataIndex:"DOKTER_LAINNYA",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"PENATA ANASTESI",dataIndex:"PENATA_ANASTESI",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"PARAMEDIS",dataIndex:"PARAMEDIS",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"NON MEDIS",dataIndex:"NON_MEDIS",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"TARIF",dataIndex:"TARIF",flex:1,format:"0,00",align:"right"},{text:"NOMOR SK",dataIndex:"NOMOR_SK",flex:1},{xtype:"datecolumn",text:"TANGGAL SK",dataIndex:"TANGGAL_SK",flex:1,format:"d-m-Y H:i:s",align:"center"}]},0,["paket-distribusitarif-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","paket-distribusitarif-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"paket-distribusitarif-list":true},["widget.paket-distribusitarif-list"],0,[master.paket.distribusitarif,"List"],0));(Ext.cmd.derive("master.paket.distribusitarif.ListController",Ext.app.ViewController,{},0,0,0,0,["controller.paket-distribusitarif-list"],0,[master.paket.distribusitarif,"ListController"],0));(Ext.cmd.derive("master.paket.distribusitarif.Workspace",com.Form,{controller:"workspace-paket-distribusitarif",viewModel:{stores:{store:{type:"distribusi-tarif-paket-store"}}},layout:"fit",items:[{xtype:"tabpanel",layout:"border",ui:"header-tab",items:[{title:"FORM",xtype:"paket-distribusitarif-form",reference:"distribusiform",listeners:{save:"onSuccess"}},{title:"HISTORY",xtype:"paket-distribusitarif-list",reference:"distribusilist"}]}],load:function(m){var o=this,q=this.getViewModel().get("store"),p=o.down("paket-distribusitarif-form"),n=o.down("paket-distribusitarif-list");if(m){q.queryParams={PAKET:m,STATUS:1},q.load({callback:function(l,k,f){if(f){var e=l[0].get("STATUS")==1;p.setFormConfig({viewOnly:!e,simpan:e});p.loadRecord(l[0])}else{p.setFormConfig({viewOnly:!e,simpan:false});var g={PAKET:m,STATUS:1,TANGGAL:p.getSysdate()};p.createRecord(g)}}});n.load({PAKET:m,STATUS:0})}}},0,["workspace-paket-distribusitarif"],["component","box","container","panel","form","com-form","workspace-paket-distribusitarif"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-paket-distribusitarif":true},["widget.workspace-paket-distribusitarif"],0,[master.paket.distribusitarif,"Workspace"],0));(Ext.cmd.derive("master.paket.distribusitarif.WorkspaceController",Ext.app.ViewController,{onSuccess:function(k){var l=this,m=l.getView();if(k){m.load(k.get("PAKET"))}}},0,0,0,0,["controller.workspace-paket-distribusitarif"],0,[master.paket.distribusitarif,"WorkspaceController"],0));(Ext.cmd.derive("master.paketdetil.Form",com.Form,{viewModel:{stores:{comboobatstore:{type:"barang-store",queryParams:{STATUS:1},autoLoad:true},combotindakanstore:{type:"tindakan-store",queryParams:{STATUS:1},autoLoad:true},combojenisstore:{type:"referensi-store",queryParams:{JENIS:37},autoLoad:true},comboadministrasistore:{type:"administrasi-store",queryParams:{STATUS:1},autoLoad:true},comboo2store:{type:"referensi-store",queryParams:{JENIS:0},autoLoad:true}},data:{store:undefined}},model:"data.model.PaketDetil",controller:"form-paketdetil",border:false,items:[{layout:"hbox",flex:1,border:false,defaults:{margin:"2 2 2 2"},items:[{xtype:"combo",border:false,flex:2,name:"JENIS",bind:{store:"{combojenisstore}"},displayField:"DESKRIPSI",valueField:"ID",allowBlank:false,emptyText:"[ Jenis Items ]",listeners:{select:"onSelect"}},{xtype:"combo",flex:2,forceSelection:true,multiSelect:true,name:"ITEM",queryMode:"remote",bind:{store:"{store}"},displayField:"NAMA",queryParam:"QUERY",minChars:2,reference:"item",valueField:"ID",emptyText:"[ NAMA PAKET ]"},{xtype:"numberfield",flex:1,name:"QTY",allowBlank:false,reference:"qty",hideTrigger:true,emptyText:"[ QTY ]"},{xtype:"button",text:"Add",ui:"soft-green",iconCls:"x-fa fa-save",border:false,listeners:{click:"onSimpan"}}]}]},0,["form-paketdetil"],["component","box","container","panel","form","com-form","form-paketdetil"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-paketdetil":true},["widget.form-paketdetil"],0,[master.paketdetil,"Form"],0));(Ext.cmd.derive("master.paketdetil.FormController",Ext.app.ViewController,{selectId:0,onSelect:function(v,t,s,u){var e=this,q=e.getReferences(),f=e.getViewModel();q.item.select(null);e.selectId=t.get("ID"),store=null;if(t.get("ID")==1){store=f.getStore("combotindakanstore")}if(t.get("ID")==2){store=f.getStore("comboobatstore")}if(t.get("ID")==3){store=f.getStore("comboadministrasistore")}if(t.get("ID")==4){store=f.getStore("comboo2store")}q.qty.setValue(t.get("ID")>2?1:0);q.qty.setReadOnly(t.get("ID")>2);f.set("store",store);e.getView().fireEvent("select",t.get("ID"))},onSimpan:function(p){var o=this,s=o.getView(),q=o.getReferences(),n=s.getRecord(),t=q.item.getSelection();if(t==null&&o.selectId!=4){s.notifyMessage("Silahkan pilih Item Paket terlebih dahulu !","danger-red");return}if(n){s.save(p)}else{s.notifyMessage("Silahkan pilih Paket terlebih dahulu !","danger-red")}},onBatal:function(g){var k=this.getView();k.getForm().reset()}},0,0,0,0,["controller.form-paketdetil"],0,[master.paketdetil,"FormController"],0));(Ext.cmd.derive("master.paketdetil.List",com.Grid,{controller:"paketdetil-list",viewModel:{data:{tindakan:false,id:undefined,listConfig:{enabledDistribusiTarif:false}},stores:{store:{type:"paketdetil-store"}}},flex:1,border:false,tindakan:false,reference:"master-obat",columns:[{xtype:"rownumberer",text:"No",align:"left",width:40},{text:"NAMA ITEM",dataIndex:"ITEM",flex:4,renderer:"onItem"},{text:"QTY",dataIndex:"QTY",flex:1,align:"right",format:"0,000.00"},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",stopSelection:true,listeners:{checkchange:"onChange",headertriggerclick:"onHeaderTriggerClick",focusleave:"onFocusLeave"}},{text:"Distribusi",xtype:"actioncolumn",align:"center",bind:{hidden:"{!listConfig.enabledDistribusiTarif}"},width:100,items:[{xtype:"tool",iconCls:"x-fa fa-pencil-square-o",tooltip:"Distribusi Tarif",handler:"onClickDistribusiTarif"}]}]},0,["paketdetil-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","paketdetil-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"paketdetil-list":true},["widget.paketdetil-list"],0,[master.paketdetil,"List"],0));(Ext.cmd.derive("master.paketdetil.ListController",Ext.app.ViewController,{menu:undefined,statusMenuItem:undefined,lastSelectedStatus:1,onItem:function(q,f,t,v,s,u){var g=t.get("REFERENSI");return g?(g.NAMA_ITEM?g.NAMA_ITEM.NAMA:""):""},onChange:function(s,v,x){var p=this,q=p.getViewModel(),u=p.getView(),t=q.get("store"),w=t.getAt(v);w.set("STATUS",x?1:0);w.scope=this;w.save({callback:function(k,g,e){if(e){var f="Status Item Paket di"+(x==true?"Aktifkan":"Non Aktifkan");u.notifyMessage(f)}}})},onClickDistribusiTarif:function(z,q,w){var t=this,s=t.getView(),v=z.getStore().getAt(q),y=v.get("ID"),x=v.get("REFERENSI"),u=x?(x.NAMA_ITEM?x.NAMA_ITEM.NAMA:""):"";s.openDialog("",true,0,0,{title:u,xtype:"workspace-paketdetil-distribusitarif",ui:"panel-cyan",showCloseButton:true},function(f,e){var g=e.down("workspace-paketdetil-distribusitarif");g.load(v.get("ID"));e.on({close:function(){s.reload()}})})},onHeaderTriggerClick:function(q,p,v,s,t){var e=this,u=q.getMenu();e.menu=u;if(e.statusMenuItem==undefined){e.statusMenuItem=u.add({text:"Status",menu:[{xtype:"segmentedbutton",vertical:true,defaults:{textAlign:"left"},items:[{text:"All",STATUS:-1,pressed:e.lastSelectedStatus==-1?true:false},{text:"Aktif",STATUS:1,pressed:e.lastSelectedStatus==1?true:false},{text:"Tidak Aktif",STATUS:0,pressed:e.lastSelectedStatus==0?true:false}],listeners:{scope:e,toggle:"onStatus"}}]})}},onStatus:function(m,o){var n=this,q=n.getView(),p=q.getStore();n.lastSelectedStatus=o.STATUS;if(o.STATUS==-1){delete p.queryParams.STATUS}else{q.setParams({STATUS:o.STATUS})}if(n.menu){n.menu.remove(n.statusMenuItem);n.menu.hide();n.statusMenuItem=undefined}q.load()},onFocusLeave:function(){if(this.menu){this.menu.remove(this.statusMenuItem);this.statusMenuItem=undefined}}},0,0,0,0,["controller.paketdetil-list"],0,[master.paketdetil,"ListController"],0));(Ext.cmd.derive("master.paketdetil.Workspace",com.Form,{controller:"workspace-paketdetil",border:false,title:"Daftar Item Paket",layout:"border",model:"data.model.Paket",viewModel:{data:{record:undefined,uisAktif:["soft-black","soft-green"]},formulas:{getAktifStatusText:function(f){return f("record.STATUS")==1?"Aktif":""},getNonAktifStatusText:function(f){return f("record.STATUS")==0?"Non Aktif":""}}},header:{iconCls:"x-fa fa-list",margin:0,padding:"2 5 2 5",height:35,layout:{type:"hbox",align:"stretch"},bind:{title:"{getTitle}"},items:[{xtype:"fieldcontainer",defaultType:"button",border:false,layout:"hbox",defaults:{width:80,handler:"onStatus"},border:false,items:[{reference:"btnAktif",tooltip:"Aktifkan",bind:{text:"{getAktifStatusText}"},status:1},{reference:"btnNonAktif",tooltip:"Non Aktifkan",bind:{text:"{getNonAktifStatusText}"},status:0}]}]},defaults:{margin:"2 2 2 2"},bodyPadding:2,items:[{region:"north",title:"Form Item Paket",xtype:"panel",iconCls:"x-fa fa-pencil-square-o",layout:"hbox",defaults:{margin:"2 2 2 2"},margin:"2 2 2 2",items:[{xtype:"form-paketdetil",flex:1,reference:"formpaketdetil",listeners:{save:"onSuccess",select:"onSelect"}}]},{region:"center",xtype:"com-tab",reference:"paketdetiltab",items:[{xtype:"paketdetil-list",iconCls:"x-fa fa-stethoscope",tooltip:"Daftar Tindakan",border:false,tindakan:false,jenis:1,reference:"tindakanlist"},{xtype:"paketdetil-list",iconCls:"x-fa fa-medkit",tooltip:"Daftar Farmasi",border:false,tindakan:true,jenis:2,reference:"farmasilist"},{xtype:"paketdetil-list",iconCls:"x-fa fa-money",tooltip:"Daftar Administrasi",border:false,tindakan:false,jenis:3,reference:"administrasilist"},{xtype:"paketdetil-list",iconCls:"x-fa fa-heart",tooltip:"Daftar O2",border:false,tindakan:true,jenis:4,reference:"o2list"}]}],load:function(p){var v=this,o=v.down("[reference=formpaketdetil]"),t=v.down("[reference=tindakanlist]"),q=v.down("[reference=farmasilist]"),s=v.down("[reference=administrasilist]"),u=v.down("[reference=o2list]");if(p){v.loadRecord(p);t.setListConfig({enabledDistribusiTarif:true});t.loadStore({PAKET:p.get("ID"),JENIS:1,STATUS:1});q.loadStore({PAKET:p.get("ID"),JENIS:2,STATUS:1});s.loadStore({PAKET:p.get("ID"),JENIS:3,STATUS:1});u.loadStore({PAKET:p.get("ID"),JENIS:4,STATUS:1});o.createRecord({PAKET:p.get("ID"),STATUS:1})}},onLoadRecord:function(l,k){var l=this,m=l.getViewModel();if(k){l.setUiButtons(k.get("STATUS"))}},setUiButtons:function(q){var m=this,n=m.getViewModel(),o=n.get("uisAktif"),p=m.getController().getReferences();p.btnAktif.setUI(o[q==1?1:0]);p.btnNonAktif.setUI(o[q==0?1:0])}},0,["workspace-paketdetil"],["component","box","container","panel","form","com-form","workspace-paketdetil"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-paketdetil":true},["widget.workspace-paketdetil"],0,[master.paketdetil,"Workspace"],0));(Ext.cmd.derive("master.paketdetil.DetilController",Ext.app.ViewController,{onSuccess:function(){var n=this,o=n.getViewModel(),m=o.get("record"),p=n.getReferences();p.tindakanlist.reload();p.farmasilist.reload();p.formpaketdetil.reset();p.formpaketdetil.createRecord({PAKET:m.get("ID"),STATUS:1});var q=p.paketdetiltab.getActiveTab();if(q){if(q.reload){q.reload()}}},onBatal:function(){var m=this,n=m.getViewModel(),l=n.get("record"),o=m.getReferences();o.formpaketdetil.reset();o.formpaketdetil.createRecord({PAKET:l.get("ID"),STATUS:1})},onSelect:function(k){var g=this.getReferences();g.paketdetiltab.setActiveTab(k-1)},onStatus:function(n){var l="Anda Yakin Ingin"+(n.status==1?"":"Non")+"Aktifkan Paket Ini ?",m=this.getViewModel().get("record"),o=this.getView();o.showMessageBox({title:"Paket",message:l,ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:n,fn:function(e){if(e==="yes"){var f=m.get("STATUS");m.set("STATUS",n.status);m.showError=true;m.animateTarget=n;m.scope=this;m.save({callback:function(k,q,g){if(q.hasException()||!g){m.set("STATUS",f);o.setUiButtons(f)}if(g){o.setUiButtons(n.status);o.notifyMessage((n.status==1?"":"Non ")+"Aktif Paket berhasil")}}})}}})}},0,0,0,0,["controller.workspace-paketdetil"],0,[master.paketdetil,"DetilController"],0));(Ext.cmd.derive("master.paketdetil.distribusitarif.Form",com.Form,{viewModel:{data:{temporery:undefined},formulas:{getTotal:function(C){var y=C("record.ADMINISTRASI"),x=C("record.SARANA"),A=C("record.BHP"),B=C("record.DOKTER_OPERATOR"),t=C("record.DOKTER_ANASTESI"),z=C("record.DOKTER_LAINNYA"),u=C("record.PENATA_ANASTESI"),D=C("record.PARAMEDIS"),w=C("record.NON_MEDIS"),v=y+x+A+B+t+z+u+D+w;return v}}},controller:"paketdetil-distribusitarif-form",model:"master.paketdetil.distribusitarif.Model",layout:{align:"stretch",type:"hbox"},defaults:{border:false},items:[{layout:{type:"vbox",align:"stretch"},defaults:{xtype:"numberfield",labelAlign:"top",margin:"5 5 5 5",hideTrigger:true,bind:{readOnly:"{formConfig.simpan}"}},flex:1,items:[{fieldLabel:"Administrasi",bind:{value:"{record.ADMINISTRASI}"},name:"ADMINISTRASI"},{fieldLabel:"Sarana",bind:{value:"{record.SARANA}"},name:"SARANA"},{fieldLabel:"BHP",bind:{value:"{record.BHP}"},name:"BHP"},{fieldLabel:"Dokter Operator",bind:{value:"{record.DOKTER_OPERATOR}"},name:"DOKTER_OPERATOR"},{fieldLabel:"Dokter Anastesi",bind:{value:"{record.DOKTER_ANASTESI}"},name:"DOKTER_ANASTESI"},{fieldLabel:"Dokter Lainya",bind:{value:"{record.DOKTER_LAINNYA}"},name:"DOKTER_LAINNYA"}]},{layout:{type:"vbox",align:"stretch"},defaults:{labelAlign:"top",margin:"5 5 5 5",bind:{readOnly:"{formConfig.simpan}"}},flex:1,items:[{xtype:"numberfield",fieldLabel:"Penata Anastesi",hideTrigger:true,bind:{value:"{record.PENATA_ANASTESI}"},name:"PENATA_ANASTESI"},{xtype:"numberfield",fieldLabel:"Paramedis",hideTrigger:true,bind:{value:"{record.PARAMEDIS}"},name:"PARAMEDIS"},{xtype:"numberfield",fieldLabel:"Non Medis",hideTrigger:true,bind:{value:"{record.NON_MEDIS}"},name:"NON_MEDIS"},{xtype:"numberfield",fieldLabel:"Tarif",hideTrigger:true,readOnly:true,bind:{value:"{getTotal}"},name:"TARIF"},{xtype:"datefield",fieldLabel:"Tanggal SK",name:"TANGGAL_SK"},{xtype:"textfield",fieldLabel:"Nomor SK",name:"NOMOR_SK"}]}],buttons:[{text:"Ganti Distribusi Tarif Paket Detil",bind:{hidden:"{!formConfig.simpan}"},ui:"soft-red",iconCls:"x-fa fa-exchange",handler:"onGanti",tooltip:{text:"Ganti Distribusi Tarif Paket Detil"}},{text:"Simpan",ui:"soft-blue",iconCls:"x-fa fa-save",handler:"onSimpan",bind:{hidden:"{formConfig.simpan}"},tooltip:{text:"Simpan"}},{text:"Reset",bind:{hidden:"{formConfig.simpan}"},ui:"soft-red",iconCls:"x-fa fa-refresh",handler:"onReset",tooltip:{text:"Reset"}}]},0,["paketdetil-distribusitarif-form"],["component","box","container","panel","form","com-form","paketdetil-distribusitarif-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"paketdetil-distribusitarif-form":true},["widget.paketdetil-distribusitarif-form"],0,[master.paketdetil.distribusitarif,"Form"],0));(Ext.cmd.derive("master.paketdetil.distribusitarif.FormController",Ext.app.ViewController,{onReset:function(){var m=this,o=m.getView(),n=m.getViewModel().get("temporery"),l=o.getRecord();if(n){obj={PAKET_DETIL:n.get("PAKET_DETIL"),STATUS:1,TANGGAL:o.getSysdate()}}else{obj={PAKET_DETIL:l.get("PAKET_DETIL"),STATUS:1,TANGGAL:o.getSysdate()}}o.getForm().reset();o.createRecord(obj)},onSimpan:function(n){var m=this,p=m.getView(),q=p.getRecord(),o=m.getViewModel().get("temporery");if(o){o.set("STATUS",0);o.save();o.animateTarget=n;o.scope=m;o.showError=true;o.save({callback:function(f,e,g){if(g){p.save(n,{},function(k,t,l){if(l){m.getViewModel().set("temporery",undefined)}})}}})}else{p.save(n)}},onGanti:function(o){var m=this,p=m.getView(),n=m.getViewModel(),q=p.getRecord();p.showMessageBox({title:"Konfirmasi",message:"Apakah anda ingin mengganti tarif?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:o,fn:function(e){if(e=="yes"){n.set("temporery",Ext.create("master.paketdetil.distribusitarif.Model",q.data));p.setFormConfig({viewOnly:!status,simpan:false});m.onReset()}}})}},0,0,0,0,["controller.paketdetil-distribusitarif-form"],0,[master.paketdetil.distribusitarif,"FormController"],0));(Ext.cmd.derive("master.paketdetil.distribusitarif.List",com.Grid,{controller:"paketdetil-distribusitarif-list",viewModel:{stores:{store:{type:"master-paketdetil-distribusitarif-Store"}}},cls:"x-br-top",border:false,reference:"discountList",columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{xtype:"numbercolumn",text:"ADMINISTRASI",dataIndex:"ADMINISTRASI",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"SARANA",dataIndex:"SARANA",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"DOKTER OPERATOR",dataIndex:"DOKTER_OPERATOR",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"DOKTER ANASTESI",dataIndex:"DOKTER_ANASTESI",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"DOKTER LAINNYA",dataIndex:"DOKTER_LAINNYA",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"PENATA ANASTESI",dataIndex:"PENATA_ANASTESI",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"PARAMEDIS",dataIndex:"PARAMEDIS",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"NON MEDIS",dataIndex:"NON_MEDIS",flex:1,format:"0,00",align:"right"},{xtype:"numbercolumn",text:"TARIF",dataIndex:"TARIF",flex:1,format:"0,00",align:"right"},{text:"NOMOR SK",dataIndex:"NOMOR_SK",flex:1},{xtype:"datecolumn",text:"TANGGAL SK",dataIndex:"TANGGAL_SK",flex:1,format:"d-m-Y H:i:s",align:"center"}]},0,["paketdetil-distribusitarif-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","paketdetil-distribusitarif-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"paketdetil-distribusitarif-list":true},["widget.paketdetil-distribusitarif-list"],0,[master.paketdetil.distribusitarif,"List"],0));(Ext.cmd.derive("master.paketdetil.distribusitarif.ListController",Ext.app.ViewController,{},0,0,0,0,["controller.paketdetil-distribusitarif-list"],0,[master.paketdetil.distribusitarif,"ListController"],0));(Ext.cmd.derive("master.paketdetil.distribusitarif.Workspace",com.Form,{controller:"workspace-paketdetil-distribusitarif",viewModel:{stores:{store:{type:"master-paketdetil-distribusitarif-Store"}}},layout:"fit",items:[{xtype:"tabpanel",layout:"border",ui:"header-tab",items:[{title:"FORM",xtype:"paketdetil-distribusitarif-form",reference:"distribusiform",listeners:{save:"onSuccess"}},{title:"HISTORY",xtype:"paketdetil-distribusitarif-list",reference:"distribusilist"}]}],load:function(m){var o=this,q=this.getViewModel().get("store"),p=o.down("paketdetil-distribusitarif-form"),n=o.down("paketdetil-distribusitarif-list");if(m){q.queryParams={PAKET_DETIL:m,STATUS:1},q.load({callback:function(l,k,f){if(f){var e=l[0].get("STATUS")==1;p.setFormConfig({viewOnly:!e,simpan:e});p.loadRecord(l[0])}else{p.setFormConfig({viewOnly:!e,simpan:false});var g={PAKET_DETIL:m,STATUS:1,TANGGAL:p.getSysdate()};p.createRecord(g)}}});n.load({PAKET_DETIL:m,STATUS:0})}}},0,["workspace-paketdetil-distribusitarif"],["component","box","container","panel","form","com-form","workspace-paketdetil-distribusitarif"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-paketdetil-distribusitarif":true},["widget.workspace-paketdetil-distribusitarif"],0,[master.paketdetil.distribusitarif,"Workspace"],0));(Ext.cmd.derive("master.paketdetil.distribusitarif.WorkspaceController",Ext.app.ViewController,{onSuccess:function(k){var l=this,m=l.getView();if(k){m.load(k.get("PAKET_DETIL"))}}},0,0,0,0,["controller.workspace-paketdetil-distribusitarif"],0,[master.paketdetil.distribusitarif,"WorkspaceController"],0));(Ext.cmd.derive("master.pakettindakanfarmasi.Combo",com.Combo,{viewModel:{stores:{store:{type:"tindakan-paket-store"}}},bind:{store:"{store}"},emptyText:"[ Masukkan Nama Paket ]",queryMode:"remote",hideTrigger:true,queryParam:"QUERY",displayField:"NAMA",valueField:"ID",typeAhead:true,minChars:2,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">',"[ {ID} ] - <strong>{NAMA}</strong>","</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{ID} - {NAMA}","</tpl>")},0,["paket-tindakan-farmasi-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","paket-tindakan-farmasi-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"paket-tindakan-farmasi-combo":true},["widget.paket-tindakan-farmasi-combo"],0,[master.pakettindakanfarmasi,"Combo"],0));(Ext.cmd.derive("master.pakettindakanfarmasi.Detil",com.Grid,{controller:"detil-barang-tindakan-paket",flex:1,viewModel:{stores:{store:{type:"tindakan-paket-farmasi-store",autoSync:true}}},cls:"x-br-top",border:true,initComponent:function(){var f=this;f.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1});f.plugins=[f.cellEditing];f.columns=[{xtype:"templatecolumn",text:"Nama Obat",align:"left",tpl:'<div style="font-weight: bold; white-space:normal !important;">{REFERENSI.BARANG.NAMA}</div>',flex:1},{text:"Qty",width:90,dataIndex:"JUMLAH",editor:{xtype:"numberfield",allowBlank:false,hideTrigger:true}},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:50,stopSelection:true,listeners:{checkchange:"onChange"}}],f.dockedItems=[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom"}];com.Grid.prototype.initComponent.apply(this,arguments)},onLoadRecord:function(k){var l=this,m=l.getViewModel().get("store");m.removeAll();m.queryParams={TINDAKAN:k};m.load()}},0,["detil-barang-tindakan-paket"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","detil-barang-tindakan-paket"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"detil-barang-tindakan-paket":true},["widget.detil-barang-tindakan-paket"],0,[master.pakettindakanfarmasi,"Detil"],0));(Ext.cmd.derive("master.pakettindakanfarmasi.DetilController",Ext.app.ViewController,{onChange:function(t,g,e){var v=this,u=v.getViewModel(),s=u.get("store"),f=s.getAt(g);f.set("STATUS",e?1:0);f.scope=this;f.save({callback:function(l,k,m){if(m){Ext.toast({headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",html:"Status Item Paket di"+(e==true?"Aktifkan":"Non Aktifkan"),align:"t"})}}})}},0,0,0,0,["controller.detil-barang-tindakan-paket"],0,[master.pakettindakanfarmasi,"DetilController"],0));(Ext.cmd.derive("master.pakettindakanfarmasi.Form",com.Form,{controller:"form-paket-farmasi",model:"master.tindakanpaket.Model",bodyPadding:10,items:[{xtype:"textfield",name:"NAMA",labelWidth:150,width:500,fieldLabel:"Nama / Deskripsi",allowBlank:false}],buttons:[{text:"Simpan",handler:"onSimpan"}]},0,["form-paket-farmasi"],["component","box","container","panel","form","com-form","form-paket-farmasi"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-paket-farmasi":true},["widget.form-paket-farmasi"],0,[master.pakettindakanfarmasi,"Form"],0));(Ext.cmd.derive("master.pakettindakanfarmasi.FormController",Ext.app.ViewController,{init:function(){var g=this,k=g.getView();k.down("[name=NAMA]").focus(false,1000)},onSimpan:function(f){var o=this,p=o.getView(),q=p.getForm().getValues(),e=o.getViewModel().get("record");if(p.getForm().isValid()){e.set(q);e.showError=true;e.animateTarget=f;e.scope=o;e.save({callback:function(g,l,k){if(l.hasException()||!k){}if(k){p.notifyMessage("Data telah tersimpan");p.fireEvent("success",g)}}})}}},0,0,0,0,["controller.form-paket-farmasi"],0,[master.pakettindakanfarmasi,"FormController"],0));(Ext.cmd.derive("master.pakettindakanfarmasi.List",com.Grid,{controller:"list-tindakan-paket",flex:1,viewModel:{stores:{store:{type:"tindakan-paket-store"},paketstore:{type:"tindakan-paket-farmasi-store"}},data:{hiddenStatus:true,hiddenPilihan:true}},cls:"x-br-top",border:true,header:{items:[{xtype:"button",iconCls:"x-fa fa-plus",margin:"0 0 0 1",tooltip:"Tambah Paket",reference:"BtnAddPaket",listeners:{click:"onAddPaket"}}]},columns:[{xtype:"templatecolumn",text:"Tindakan",align:"left",tpl:'<div style="font-weight: bold; white-space:normal !important;">{NAMA}</div>',flex:1},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,stopSelection:true,listeners:{checkchange:"onChange"},bind:{hidden:"{hiddenStatus}"}},{text:"Pilih",xtype:"actioncolumn",align:"center",width:50,items:[{xtype:"tool",iconCls:"x-fa fa-arrow-circle-right",handler:"onOrderPaket"}],bind:{hidden:"{hiddenPilihan}"}}],onLoadRecord:function(l){var m=this,n=m.getViewModel(),o=n.get("store");if(l==1){n.set("hiddenStatus",true);n.set("hiddenPilihan",false);o.removeAll();o.queryParams={STATUS:1};o.load()}else{n.set("hiddenStatus",false);n.set("hiddenPilihan",true);o.load()}},setView:function(f){this.ownerCt.setLoadData(f)}},0,["list-master-tindakan-paket"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","list-master-tindakan-paket"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"list-master-tindakan-paket":true},["widget.list-master-tindakan-paket"],0,[master.pakettindakanfarmasi,"List"],0));(Ext.cmd.derive("master.pakettindakanfarmasi.ListBarang",com.Grid,{flex:1,viewModel:{stores:{store:{type:"barang-store",autoLoad:true}}},cls:"x-br-top",border:true,header:{items:[{xtype:"search-field",cls:"x-text-border",autoFocus:true,emptyText:"Cari ...",flex:1,listeners:{search:"onsearch",clear:"onClear"}}]},columns:[{xtype:"templatecolumn",text:"Nama Obat",align:"left",tpl:'<div style="font-weight: bold; white-space:normal !important;">{NAMA}</div>',flex:1}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",displayInfo:true}]},0,["list-barang-paket"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","list-barang-paket"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"list-barang-paket":true},["widget.list-barang-paket"],0,[master.pakettindakanfarmasi,"ListBarang"],0));(Ext.cmd.derive("master.pakettindakanfarmasi.ListController",Ext.app.ViewController,{onAddPaket:function(){var g=this,k=g.getView();vm=g.getViewModel();model={};k.openDialog("",true,520,150,{xtype:"form-paket-farmasi",title:"Paket Baru",showCloseButton:true,ui:"panel-red"},function(e,f){var m=f.down("form-paket-farmasi");m.createRecord({});m.focus("NAMA");m.on("success",function(l){k.refresh();f.close()})})},onChange:function(t,g,e){var v=this,u=v.getViewModel(),s=u.get("store"),f=s.getAt(g);f.set("STATUS",e?1:0);f.scope=this;f.save({callback:function(l,k,m){if(m){v.getView().notifyMessage("Status Item Paket di"+(e==true?"Aktifkan":"Non Aktifkan"))}}})},onsearch:function(q,o){var f=this,e=f.getViewModel(),p=e.get("store");p.queryParams={QUERY:o};p.removeAll();p.load()},onClear:function(){var l=this,k=l.getViewModel(),m=k.get("store");delete m.queryParams.QUERY;m.removeAll();m.load()},onOrderPaket:function(n,l,o){var m=n.getStore().getAt(l);this.setOrderData(m.get("ID"))},setOrderData:function(k){var l=this,m=l.getView().ownerCt.getViewModel().get("paketstore");m.removeAll();m.queryParams=m.queryParams||{};m.queryParams={TINDAKAN:k,STATUS:1};m.load({callback:function(g,e,f){if(f){l.getView().fireEvent("orderpaket",data)}}})}},0,0,0,0,["controller.list-tindakan-paket"],0,[master.pakettindakanfarmasi,"ListController"],0));(Ext.cmd.derive("master.pakettindakanfarmasi.Workspace",com.Form,{controller:"workspace-paket-tindakan-farmasi",layout:"border",defaults:{margin:"2.2.2.2",flex:1},initComponent:function(){var f=this;f.items=[{region:"west",ui:"panel-red",title:"Tindakan",reference:"tindakanpaketfarmasi",iconCls:"x-fa fa-list",xtype:"list-master-tindakan-paket",listeners:{select:"onSelectTindakan"}},{region:"center",header:{height:35},ui:"panel-red",reference:"paketbarangfarmasi",title:"Paket Farmasi",iconCls:"x-fa fa-list",xtype:"detil-barang-tindakan-paket",viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrag:false},listeners:{scope:f.getController(),drop:"onDropBarang"}}},{region:"east",title:"Barang",ui:"panel-red",showSearch:true,hideHeaders:true,iconCls:"x-fa fa-list",reference:"daftarpeket",xtype:"barang-list",viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrop:false},copy:true}}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(){var f=this;ref=f.down("[reference=tindakanpaketfarmasi]");barang=f.down("[reference=daftarpeket]");ref.onLoadRecord(0);barang.load({STATUS:1})}},0,["workspace-paket-tindakan-farmasi"],["component","box","container","panel","form","com-form","workspace-paket-tindakan-farmasi"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-paket-tindakan-farmasi":true},["widget.workspace-paket-tindakan-farmasi"],0,[master.pakettindakanfarmasi,"Workspace"],0));(Ext.cmd.derive("master.pakettindakanfarmasi.WorkspaceController",Ext.app.ViewController,{onSelectTindakan:function(o,l){var m=this,n=m.getReferences().paketbarangfarmasi;n.onLoadRecord(l.get("ID"))},onDropBarang:function(F,f,e,B){var E=this,z=E.getReferences().tindakanpaketfarmasi.getSelection(),A=z[0].get("ID"),y=E.getViewModel(),g=y.get("record"),D=Ext.Array.clone(f.records),x=new Date(),C=0;if(z[0].get("ID")){f.records=[];Ext.Array.each(D,function(k){k=Ext.create("inventory.paketfarmasi.Model",{BARANG:k.get("ID"),TINDAKAN:A});C++;E.simpanPaketFarmasi(k,false,function(l,m){f.records.push(k);if(C==D.length){E.loadBarangPaket(A)}})})}},privates:{simpanPaketFarmasi:function(q,p,o){var e=this,p=p!=undefined?p:true,f=q.get("ID");q.showError=true;q.save({callback:function(g,l,k){if(k){e.getView().notifyMessage("Sukses")}if(Ext.isFunction(o)){o(g,k)}}})},loadBarangPaket:function(l){var m=this,n=m.getReferences(),o=n.paketbarangfarmasi;o.onLoadRecord(l)}}},0,0,0,0,["controller.workspace-paket-tindakan-farmasi"],0,[master.pakettindakanfarmasi,"WorkspaceController"],0));(Ext.cmd.derive("master.paramedis.Combo",master.pegawai.Combo,{viewModel:{stores:{store:{type:"perawat-store"}}},valueField:"ID",loadStore:function(){var f=this.getViewModel().get("store");if(f){f.load()}}},0,["paramedis-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","pegawai-combo","paramedis-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"pegawai-combo":true,"paramedis-combo":true},["widget.paramedis-combo"],0,[master.paramedis,"Combo"],0));(Ext.cmd.derive("master.parameterhasil.Form",com.Form,{controller:"parameterhasil-form",model:"data.model.ParameterTindakanLab",layout:{type:"hbox"},defaults:{margin:"0 2 2 2"},defaultType:"textfield",initComponent:function(){var f=this;f.comboSatuan=Ext.create("master.referensi.Combo",{params:{JENIS:35},emptyText:"SATUAN",name:"SATUAN",flex:1,monitorTab:true,selectOnTab:true,editable:true});f.comboSatuan.getViewModel().get("store").load();f.items=[{name:"PARAMETER",emptyText:"PARAMETER",flex:2,bind:{readOnly:"{formConfig.simpan}"}},{name:"NILAI_RUJUKAN",emptyText:"NILAI RUJUKAN",flex:1},{xtype:f.comboSatuan},{name:"INDEKS",emptyText:"INDEKS",flex:1}],f.buttons=[{text:"Simpan",ui:"soft-green",iconCls:"x-fa fa-save",listeners:{click:"onSimpan"}},{text:"Reset",ui:"soft-red",iconCls:"x-fa fa-times",listeners:{click:"onBatal"}}];com.Form.prototype.initComponent.apply(this,arguments)}},0,["parameterhasil-form"],["component","box","container","panel","form","com-form","parameterhasil-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"parameterhasil-form":true},["widget.parameterhasil-form"],0,[master.parameterhasil,"Form"],0));(Ext.cmd.derive("master.parameterhasil.FormController",Ext.app.ViewController,{onSimpan:function(l){var k=this,m=k.getView();m.save(l)},onBatal:function(k){var l=this,m=l.getView();m.fireEvent("save",true)}},0,0,0,0,["controller.parameterhasil-form"],0,[master.parameterhasil,"FormController"],0));(Ext.cmd.derive("master.parameterhasil.List",com.Grid,{controller:"parameterhasil-list",viewModel:{stores:{store:{type:"parametertindakanlab-store"}}},border:false,columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"ID",dataIndex:"ID",flex:1},{text:"PARAMETER",dataIndex:"PARAMETER",flex:2},{text:"NILAI RUJUKAN",flex:2,dataIndex:"NILAI_RUJUKAN"},{text:"SATUAN",dataIndex:"SATUAN",flex:1,renderer:"onRenderSatuan"},{text:"INDEKS",dataIndex:"INDEKS",flex:2},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}]},0,["parameterhasil-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","parameterhasil-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"parameterhasil-list":true},["widget.parameterhasil-list"],0,[master.parameterhasil,"List"],0));(Ext.cmd.derive("master.parameterhasil.ListController",Ext.app.ViewController,{onRenderSatuan:function(l,n,m){var o=m.get("REFERENSI");satuan=o?(o.SATUAN?o.SATUAN.DESKRIPSI:""):"";return satuan},onChange:function(u,g,x){var w=this,f=w.getView(),v=w.getViewModel(),t=v.get("store"),e=t.getAt(g);e.set("STATUS",x?1:0);e.scope=this;e.save({callback:function(l,k,m){if(m){f.notifyMessage("Status Parameter di"+(x==true?"Aktifkan":"NonAktifkan "))}}})}},0,0,0,0,["controller.parameterhasil-list"],0,[master.parameterhasil,"ListController"],0));(Ext.cmd.derive("master.parameterhasil.Workspace",com.Form,{controller:"workspace-parameterhasil",border:false,layout:"border",defaults:{margin:"2 2 2 2",border:false},bodyPadding:0,initComponent:function(){var f=this;f.items=[{region:"north",reference:"parameterhasilform",xtype:"parameterhasil-form",reference:"form",listeners:{save:"onSuccess"},title:"Form Parameter Tindakan"},{region:"center",xtype:"parameterhasil-list",flex:2,reference:"parameterhasillist",listeners:{select:"onSelect"}}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(m){var o=this,p=this.down("parameterhasil-form"),q=this.getViewModel(),n=this.down("parameterhasil-list");if(m){q.set("record",m);p.setFormConfig({viewOnly:false,simpan:false});n.load({TINDAKAN:m.get("TINDAKAN")});n.setGridConfig({paging:true});p.createRecord({TINDAKAN:m.get("TINDAKAN"),STATUS:1,TANGGAL:p.getSysdate()})}}},0,["workspace-parameterhasil"],["component","box","container","panel","form","com-form","workspace-parameterhasil"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-parameterhasil":true},["widget.workspace-parameterhasil"],0,[master.parameterhasil,"Workspace"],0));(Ext.cmd.derive("master.parameterhasil.WorkspaceController",Ext.app.ViewController,{onSelect:function(n,o,q){var p=this,f=p.getReferences();f.form.loadRecord(o);f.form.setFormConfig({viewOnly:false,simpan:true})},onSuccess:function(){var e=this,k=e.getView();k.load(e.getViewModel().get("record"))}},0,0,0,0,["controller.workspace-parameterhasil"],0,[master.parameterhasil,"WorkspaceController"],0));(Ext.cmd.derive("master.pegawai.Form",com.Form,{controller:"master-pegawai-form",model:"data.model.Pegawai",layout:{type:"vbox",align:"stretch"},isCreate:false,bodyPadding:15,defaults:{margin:"0 0 0 0"},initComponent:function(){var f=this;f.items=[{flex:1,layout:{type:"vbox",align:"stretch"},header:{margin:0,padding:"5 8 5 8"},scrollable:true,ui:"panel-cyan",title:"Identitas",border:true,bodyPadding:5,items:[{xtype:"fieldcontainer",scrollable:true,layout:{type:"hbox",align:"stretch"},defaultType:"textfield",defaults:{flex:1,enterFocus:true,margin:"0 2 0 1"},items:[{name:"NIP",hidden:true},{maxLength:75,name:"NIP_BARU",reference:"nip",emptyText:"[ NIP ]",allowBlank:false},{name:"GELAR_DEPAN",enforceMaxLength:true,maxLength:25,emptyText:"[Gelar Depan]"},{name:"NAMA",enforceMaxLength:true,allowBlank:false,maxLength:75,flex:3,emptyText:"[Masukkan Nama Tanpa Gelar]"},{name:"GELAR_BELAKANG",enforceMaxLength:true,maxLength:35,emptyText:"[Gelar Blkg]"}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 2 0 1",flex:1},items:[{xtype:"master-wilayah-tempatlahir-combo",firstLoad:true,name:"TEMPAT_LAHIR",enterFocus:true,forceSelection:false,valueField:"DESKRIPSI",emptyText:"[Pilih Tempat Lahir]"},{xtype:"datefield",name:"TANGGAL_LAHIR",enterFocus:true,allowBlank:false,maxValue:f.getSysdate(),width:200,emptyText:"[Tgl. Lahir (tgl/bln/thn)]",format:"d-m-Y H:i:s",reference:"tgl_lahir"},{xtype:"referensi-combo",params:{JENIS:2,STATUS:1},firstLoad:true,name:"JENIS_KELAMIN",enterFocus:true,emptyText:"[Pilih Jenis Kelamin]"},{xtype:"referensi-combo",params:{JENIS:1,STATUS:1},firstLoad:true,name:"AGAMA",enterFocus:true,emptyText:"[Agama]"},{xtype:"referensi-combo",params:{JENIS:36,STATUS:1},firstLoad:true,name:"PROFESI",enterFocus:true,emptyText:"[Jenis Profesi]"},{xtype:"referensi-combo",params:{JENIS:26,STATUS:1},firstLoad:true,name:"SMF",enterFocus:true,emptyText:"[PILIH S M F]"}]},{xtype:"fieldcontainer",layout:{type:"hbox"},scrollable:true,flex:1,defaults:{margin:"0 10 0 0",flex:1},defaultType:"fieldcontainer",items:[{cls:"shadow-panel",reference:"panelleft",layout:{type:"vbox",align:"stretch"},defaults:{border:false,ui:"panel-cyan",margin:"0 0 5 0"},items:[{xtype:"pegawai-kartuidentitas-form",reference:"frmkartuidentitas",listeners:{specialkey:"onFocusEnter"}},{xtype:"pegawai-kontak-workspace",border:false,height:300,reference:"frmkontak"}]},{cls:"shadow-panel",reference:"panelright",layout:{type:"vbox",align:"stretch"},defaults:{border:false,ui:"panel-cyan",margin:"0 0 5 0"},items:[{xtype:"form-alamat",reference:"frmAlamat",title:"Alamat"}]}]}]}];com.Form.prototype.initComponent.apply(this,arguments)},onLoadRecord:function(u,p){var u=this,v=u.down("[name=NIP]"),q=u.down("[name=NIP_BARU]"),s=u.down("[reference=frmAlamat]"),o=u.down("pegawai-kartuidentitas-form"),t=u.down("pegawai-kontak-workspace");t.load(p,false);if(!p.get("KARTU_IDENTITAS")){p.set("KARTU_IDENTITAS",[new pegawai.kartuidentitas.Model({NIP:p.get("NIP")})])}s.loadRecord(p);o.loadRecord(p);q.setValue(v.getValue().indexOf("data.model.Pegawai")<0?v.getValue():"");q.focus(100,true)},onBeforeGetRecord:function(n,l){var m=n.down("[name=TANGGAL_LAHIR]").getValue(),o=Ext.Date.clone(m);l.TANGGAL_LAHIR=o},buttons:[{iconCls:"x-fa fa-save",text:"Simpan",handler:"onSimpan"}]},0,["master-pegawai-form"],["component","box","container","panel","form","com-form","master-pegawai-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"master-pegawai-form":true},["widget.master-pegawai-form"],0,[master.pegawai,"Form"],0));(Ext.cmd.derive("master.pegawai.FormController",Ext.app.ViewController,{onFocusEnter:function(g,k){},onSimpan:function(p){var o=this,q=o.getView();model=q.getRecord(),nipbaru=q.down("[name = NIP_BARU]"),refs=o.getReferences(),data=model.data,alamat=refs.frmAlamat.getFormData(),kip=refs.frmkartuidentitas.getFormData(),kontak=q.down("pegawai-kontak-workspace");if(model){delete data.PROPINSI;delete data.KABUPATEN;delete data.KECAMATAN;delete data.KELURAHAN;delete data.JENIS;delete data.NOMOR;delete data.REFERENSI;var n=Ext.merge(data,alamat);o.clearReferenceInModel(model.data);model.set(n);if(kip){var m=kip;kip[0]["NIP"]=nipbaru.getValue();model.set("KARTU_IDENTITAS",m)}if(q.getForm().isValid()){q.setLoading(true);model.showError=true;model.animateTarget=q;model.scope=o;model.save({callback:function(f,e,g){q.setLoading(false);if(e.hasException()||!g){}if(g){q.notifyMessage("Data Pegawai telah tersimpan","danger-blue");kontak.saveList(f);q.fireEvent("save",f)}}})}}},clearReferenceInModel:function(f){delete f.KARTU_IDENTITAS}},0,0,0,0,["controller.master-pegawai-form"],0,[master.pegawai,"FormController"],0));(Ext.cmd.derive("master.pegawai.Grid",com.Grid,{controller:"master-pegawai-grid",viewModel:{stores:{store:{type:"pegawai-store"}}},header:{items:[{xtype:"search-field",emptyText:"Cari NIP / Nama",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}},{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-green",handler:"onTambah",tooltip:"Pegawai Baru"}]},actions:{edit:{iconCls:"x-fa fa-edit",tooltip:"Ubah Pegawai",handler:"onUbah"},pengguna:{iconCls:"x-fa fa-unlock-alt x-color-red",tooltip:"Create / Edit Pengguna",handler:"onPengguna"}},columns:[{xtype:"rownumberer",text:"No",menuDisabled:true,sortable:false,align:"left",width:70},{text:"NIP",dataIndex:"NIP",menuDisabled:true,sortable:false,width:200},{text:"Nama Lengkap",dataIndex:"NAMA",menuDisabled:true,sortable:false,flex:2},{text:"Tempat / Tgl.Lahir",flex:2,menuDisabled:true,sortable:false,renderer:"onRendererTempatLahir"},{text:"Jenis Kelamin",dataIndex:"JENIS_KELAMIN",flex:1,menuDisabled:true,sortable:false,renderer:"onRendererJenisKelamin"},{text:"Alamat",dataIndex:"ALAMAT",menuDisabled:true,sortable:false,flex:2},{text:"Profesi",dataIndex:"PROFESI",flex:1,menuDisabled:true,sortable:false,renderer:"onRendererProfesi"},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",menuDisabled:true,sortable:false,width:90,listeners:{checkchange:"onChangeStatus"}},{menuDisabled:true,sortable:false,align:"center",xtype:"actioncolumn",width:100,items:["@edit","@pengguna"]}]},0,["master-pegawai-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","master-pegawai-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"master-pegawai-grid":true},["widget.master-pegawai-grid"],0,[master.pegawai,"Grid"],0));(Ext.cmd.derive("master.pegawai.GridController",Ext.app.ViewController,{query:"",onSearch:function(k,g){this.query=g;this.cari()},onClear:function(){this.query="";this.cari()},onChange:function(o,m){var n=this,q=n.getView(),p=q.down("search-field");if(m==""){p.onClearClick()}},onRendererJenisKelamin:function(f){return f==1?"Laki - laki":"Perempuan"},onRendererTempatLahir:function(q,f,u,v,s,t){var p=Ext.Date.format(u.get("TANGGAL_LAHIR"),"d F Y");tempatlahir=u.get("TEMPAT_LAHIR")+",  "+p;return tempatlahir},onRendererProfesi:function(w,k,u,t,e,s){var x=u.get("REFERENSI"),v=x?(x.PROFESI?x.PROFESI.DESKRIPSI:""):"";return v},onChangeStatus:function(q,v,w){var x=this,u=x.getView(),p=x.getViewModel(),t=p.get("store"),s=t.getAt(v);s.set("STATUS",w?1:0);s.scope=x;s.save({callback:function(g,f,e){if(e){u.notifyMessage("Status Pegawai di"+(e==true?"Aktifkan":"NonAktifkan "),"danger-blue")}}})},onTambah:function(f){this.openWindow(f,true,{})},onUbah:function(q,g,s,t,p,o){this.openWindow(q,false,o)},onPengguna:function(s,w,t,v,g,x){var q=this,u=q.getView();u.openDialog("",true,"55%","50%",{xtype:"pengguna-form",showCloseButton:true,ui:"panel-red",iconCls:"x-fa fa-unlock-alt",title:x.get("NAMA")+" ("+x.get("NIP")+")"},function(f,e){var k=e.down("pengguna-form");k.storeload(x);k.on("getView",function(){e.close()})},s)},privates:{cari:function(){var k=this,m=k.getView(),l=m.down("pagingtoolbar");if(k.query==""){delete m.getStore().queryParams.QUERY}else{m.setParams({QUERY:k.query})}if(l){l.moveFirst()}else{m.load()}},openWindow:function(o,p,m){var n=this,q=n.getView();q.openDialog("",true,"90%","90%",{xtype:"master-pegawai-form",ui:"panel-cyan",showCloseButton:true,title:(p?"Tambah":"Ubah")+" Pegawai",isCreate:p},function(e,f){var g=f.down("master-pegawai-form");if(p){g.createRecord(m)}else{g.loadRecord(m)}g.on("save",function(){f.close();n.cari()})})}}},0,0,0,0,["controller.master-pegawai-grid"],0,[master.pegawai,"GridController"],0));(Ext.cmd.derive("master.pegawai.Workspace",com.Form,{controller:"master-pegawai-workspace",bodyPadding:0,border:false,layout:"fit",items:[{xtype:"master-pegawai-grid",ui:"panel-cyan",title:"Daftar Pegawai"}],load:function(){var g=this,k=g.down("master-pegawai-grid");k.setGridConfig({paging:true});k.load()}},0,["master-pegawai-workspace"],["component","box","container","panel","form","com-form","master-pegawai-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"master-pegawai-workspace":true},["widget.master-pegawai-workspace"],0,[master.pegawai,"Workspace"],0));(Ext.cmd.derive("master.pegawai.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.master-pegawai-workspace"],0,[master.pegawai,"WorkspaceController"],0));(Ext.cmd.derive("master.referensi.Combo",com.Combo,{viewModel:{stores:{store:{type:"referensi-store"}}}},0,["referensi-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","referensi-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"referensi-combo":true},["widget.referensi-combo"],0,[master.referensi,"Combo"],0));(Ext.cmd.derive("master.ruangan.Combo",com.Combo,{viewModel:{stores:{store:{type:"ruangan-store"}}},emptyText:"[Pilih Ruangan]",displayField:"DESKRIPSI",valueField:"ID",minChars:2,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div"><strong>{DESKRIPSI}</strong></div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{DESKRIPSI}","</tpl>")},0,["ruangan-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","ruangan-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"ruangan-combo":true},["widget.ruangan-combo"],0,[master.ruangan,"Combo"],0));(Ext.cmd.derive("master.penjaminruangan.Grid",com.Grid,{controller:"grid-penjaminruangan",viewModel:{stores:{store:{type:"penjamin-ruangan-store"}}},title:"Penjamin Ruangan",tools:[{type:"save",tooltip:"Simpan",handler:"onSimpan"},{type:"plus",tooltip:"Tambah",handler:"onTambah"},{type:"refresh",tooltip:"Refresh",handler:"onRefresh"}],plugins:{ptype:"cellediting",clicksToEdit:1},columns:[{text:"Id",align:"left",width:60,dataIndex:"ID",hidden:true},{text:"Penjamin",flex:1,dataIndex:"PENJAMIN",editor:{xtype:"referensi-combo",params:{JENIS:10,STATUS:1},firstLoad:true,allowBlank:false,listeners:{select:"onPenjaminCombo"}},renderer:"onPenjaminRenderer"},{text:"Penjamin Ruangan",flex:1,dataIndex:"RUANGAN_PENJAMIN",editor:"textfield"},{text:"Ruangan Rumah Sakit",flex:1,dataIndex:"RUANGAN_RS",editor:{xtype:"ruangan-combo",params:{JENIS:5,STATUS:1},firstLoad:true,allowBlank:false,listeners:{select:"onRuanganCombo"}},renderer:"onRuanganRenderer"},{xtype:"widgetcolumn",text:"Status",flex:1,dataIndex:"STATUS",widget:{xtype:"checkbox",listeners:{change:"onStatusCheck"}}}]},0,["grid-penjaminruangan"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","grid-penjaminruangan"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"grid-penjaminruangan":true},["widget.grid-penjaminruangan"],0,[master.penjaminruangan,"Grid"],0));(Ext.cmd.derive("master.penjaminruangan.GridController",Ext.app.ViewController,{onSimpan:function(o){var n=this,p=n.getStore("store"),m=p.getModifiedRecords(),q=0;Ext.Array.each(m,function(e){e.save({callback:function(k,g,f){if(f){if(q===(m.length-1)){n.getView().notifyMessage("Data telah disimpan")}}q++}})})},onRefresh:function(l){var k=this,m=k.getView();m.refresh()},onStatusCheck:function(q,o,s){var p=this,n=o?1:0,t=q.getWidgetRecord();if(t){if(t.get("STATUS")===n){return}t.set("STATUS",n);t.save({callback:function(g,f,e){if(e){p.getView().notifyMessage("Data telah disimpan")}}})}},onTambah:function(l){var k=this,m=k.getStore("store");m.insert(0,Ext.create("data.model.PenjaminRuangan",{PENJAMIN:2,REFERENSI:{PENJAMIN:{ID:2,DESKRIPSI:"BPJS / JKN"}}}))},onPenjaminCombo:function(o,l){var m=this.getView().getSelection();if(l){if(Ext.isArray(m)){if(m.length>0){var n=m[0].get("REFERENSI")||{};n.PENJAMIN=l.data;m[0].set("REFERENSI",n)}}}},onPenjaminRenderer:function(m,o,p){var n=p.get("REFERENSI"),q=n?n.PENJAMIN:null;if(q){return q.DESKRIPSI}return m},onRuanganCombo:function(o,l){var m=this.getView().getSelection();if(l){if(Ext.isArray(m)){if(m.length>0){var n=m[0].get("REFERENSI")||{};n.RUANGAN_RS=l.data;m[0].set("REFERENSI",n)}}}},onRuanganRenderer:function(m,o,p){var n=p.get("REFERENSI"),q=n?n.RUANGAN_RS:null;if(q){return q.DESKRIPSI}return m}},0,0,0,0,["controller.grid-penjaminruangan"],0,[master.penjaminruangan,"GridController"],0));(Ext.cmd.derive("master.penjaminruangan.Workspace",com.Form,{layout:"border",items:[{xtype:"grid-penjaminruangan",ui:"panel-red",region:"center"}],load:function(k){var l=this,m=l.down("grid-penjaminruangan");m.load({})}},0,["workspace-penjaminruangan"],["component","box","container","panel","form","com-form","workspace-penjaminruangan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-penjaminruangan":true},["widget.workspace-penjaminruangan"],0,[master.penjaminruangan,"Workspace"],0));(Ext.cmd.derive("master.penyedia.Combo",com.Combo,{viewModel:{stores:{store:{type:"penyedia-store"}}},bind:{store:"{store}"},emptyText:"[ Masukkan Nama PBF ]",queryMode:"remote",queryParam:"QUERY",displayField:"NAMA",valueField:"ID",typeAhead:true,minChars:1,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">',"{NAMA}","</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{NAMA}","</tpl>")},0,["penyedia-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","penyedia-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"penyedia-combo":true},["widget.penyedia-combo"],0,[master.penyedia,"Combo"],0));(Ext.cmd.derive("master.penyedia.Form",com.Form,{controller:"penyedia-form",model:"master.penyedia.Model",layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 2 2 0"},fieldDefaults:{labelAlign:"top",msgTarget:"side"},defaultType:"textfield",bodyPadding:5,initComponent:function(){var g=this,k=new Date();g.items=[{name:"NAMA",reference:"namapenyedia",fieldLabel:"Nama Penyedia"},{xtype:"textarea",fieldLabel:"Alamat",name:"ALAMAT",flex:1},{fieldLabel:"Telepon",name:"TELEPON"},{fieldLabel:"Fax",name:"FAX"}],g.buttons=[{text:"Simpan",ui:"soft-green",iconCls:"x-fa fa-save",listeners:{click:"onSimpan"}},{text:"Reset",ui:"soft-red",iconCls:"x-fa fa-times",listeners:{click:"onBatal"}}];com.Form.prototype.initComponent.apply(this,arguments)}},0,["penyedia-form"],["component","box","container","panel","form","com-form","penyedia-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"penyedia-form":true},["widget.penyedia-form"],0,[master.penyedia,"Form"],0));(Ext.cmd.derive("master.penyedia.FormController",Ext.app.ViewController,{onSimpan:function(g){var l=this,m=l.getView();m.save(g)},onBatal:function(l){var k=this.getReferences(),m=this.getView();k.namapenyedia.focus(true);m.fireEvent("batal")}},0,0,0,0,["controller.penyedia-form"],0,[master.penyedia,"FormController"],0));(Ext.cmd.derive("master.penyedia.List",com.Grid,{controller:"penyedia-list",viewModel:{stores:{store:{type:"master-penyedia-store"}}},border:false,columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"ID",dataIndex:"ID",width:60},{text:"Nama",dataIndex:"NAMA",flex:2},{text:"Alamat",flex:2,dataIndex:"ALAMAT"},{text:"No.Telepon",dataIndex:"TELEPON",flex:1},{text:"Fax",dataIndex:"FAX",flex:2},{text:"Tanggal",dataIndex:"TANGGAL",flex:1},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",displayInfo:true,items:["-",{},{},{xtype:"search-field",cls:"x-text-border",autoFocus:true,emptyText:"Cari berdasarkan Nama Penyedia",flex:1,listeners:{search:"onsearch",clear:"onClear"}}]}]},0,["penyedia-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","penyedia-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"penyedia-list":true},["widget.penyedia-list"],0,[master.penyedia,"List"],0));(Ext.cmd.derive("master.penyedia.barang.ListController",Ext.app.ViewController,{onChange:function(t,g,e){var v=this,u=v.getViewModel(),s=u.get("store"),f=s.getAt(g);f.set("STATUS",e?1:0);f.scope=this;f.save({callback:function(l,k,m){if(m){v.getView().notifyMessage("Status di"+(e==true?"Aktifkan":"NonAktifkan"))}else{f.set("STATUS",e?0:1)}}})},onsearch:function(q,o){var f=this,e=f.getViewModel(),p=e.get("store");p.queryParams={QUERY:o,page:1,start:0};p.removeAll();p.load()},onClear:function(){var l=this,k=l.getViewModel(),m=k.get("store");delete m.queryParams.QUERY;delete m.queryParams.page;delete m.queryParams.start;m.removeAll();m.load()}},0,0,0,0,["controller.penyedia-list"],0,[master.penyedia.barang,"ListController"],0));(Ext.cmd.derive("master.penyedia.Workspace",com.Form,{controller:"workspace-penyedia",border:false,layout:"border",bodyPadding:2,defaults:{margin:"2 2 2 2",border:false},initComponent:function(){var f=this;f.items=[{region:"center",ui:"panel-gray",xtype:"penyedia-list",flex:2,title:"Daftar Penyedia",reference:"penyedialist",listeners:{select:"onSelect"}},{region:"east",ui:"panel-gray",reference:"penyediaform",xtype:"penyedia-form",title:"Tambah Penyedia",collapsed:true,collapsible:true,flex:1,split:true,listeners:{batal:"onBatal",save:"onSuccess"}}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(){var f=this;listpenyedia=f.down("penyedia-list");form=f.down("penyedia-form");listpenyedia.load({});form.createRecord({STATUS:1,TANGGAL:f.getSysdate()})}},0,["workspace-penyedia"],["component","box","container","panel","form","com-form","workspace-penyedia"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-penyedia":true},["widget.workspace-penyedia"],0,[master.penyedia,"Workspace"],0));(Ext.cmd.derive("master.penyedia.WorkspaceController",Ext.app.ViewController,{onSelect:function(s,f,g){var e=this,t=e.getViewModel(),q=e.getReferences();q.penyediaform.setCollapsed(false);q.penyediaform.loadRecord(f)},onSuccess:function(){var k=this,e=k.getReferences();k.confForm();e.penyedialist.reload()},onBatal:function(){this.confForm()},confForm:function(){var g=this.getReferences(),k=this.getView();g.penyediaform.getForm().reset();g.penyediaform.createRecord({STATUS:1,TANGGAL:k.getSysdate()})}},0,0,0,0,["controller.workspace-penyedia"],0,[master.penyedia,"WorkspaceController"],0));(Ext.cmd.derive("master.perawatruangan.Form",com.Form,{controller:"form-perawatruangan",model:"data.model.PerawatRuangan",layout:{type:"hbox",align:"stretch"},border:false,defaults:{margin:"2 2 2 2"},bodyPadding:0,items:[{xtype:"paramedis-combo",name:"PERAWAT",reference:"comboperawat",flex:1,emptyText:"[ PILIH PARAMEDIS RUANGAN ]",allowBlank:false},{xtype:"button",text:"ADD",width:60,listeners:{click:"onSimpan"}}]},0,["form-perawatruangan"],["component","box","container","panel","form","com-form","form-perawatruangan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-perawatruangan":true},["widget.form-perawatruangan"],0,[master.perawatruangan,"Form"],0));(Ext.cmd.derive("master.perawatruangan.FormController",Ext.app.ViewController,{onSimpan:function(l){var k=this,m=k.getView();m.save(l)}},0,0,0,0,["controller.form-perawatruangan"],0,[master.perawatruangan,"FormController"],0));(Ext.cmd.derive("master.perawatruangan.List",com.Grid,{controller:"perawatruangan-list",viewModel:{stores:{store:{type:"perawat-ruangan-store"}}},cls:"x-br-top",border:true,columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"ID ",dataIndex:"ID",flex:1},{text:"NIP",dataIndex:"NIP",flex:3,renderer:"onNIPRender"},{text:"NAMA",dataIndex:"PERAWAT",flex:4,renderer:"onNamaRender"},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}]},0,["perawatruangan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","perawatruangan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"perawatruangan-list":true},["widget.perawatruangan-list"],0,[master.perawatruangan,"List"],0));(Ext.cmd.derive("master.perawatruangan.ListController",Ext.app.ViewController,{onChange:function(s,w,x){var p=this,v=p.getView(),q=p.getViewModel(),u=q.get("store"),t=u.getAt(w);if(t){t.set("STATUS",x?1:0);t.scope=p;t.save({callback:function(e,g,f){if(f){v.notifyMessage("Status di "+(x==true?"Aktifkan":"NonAktifkan"))}else{t.set("STATUS",x?0:1)}}})}},onNIPRender:function(m,p,n){var q=n.get("REFERENSI"),o=q?(q.PERAWAT?q.PERAWAT.NIP:""):"";return o},onNamaRender:function(m,o,n){var q=n.get("REFERENSI"),p=q?(q.PERAWAT?q.PERAWAT.NAMA:""):"";return p}},0,0,0,0,["controller.perawatruangan-list"],0,[master.perawatruangan,"ListController"],0));(Ext.cmd.derive("master.perawatruangan.ViewModel",Ext.app.ViewModel,{formulas:{init:function(f){f("perawatruangancombostore").load();f("pegawaistore").load();f("perawatstore").load()}},stores:{perawatruangancombostore:{type:"perawat-store"},pegawaistore:{type:"pegawai-store"},perawatstore:{type:"perawat-store"}}},0,0,0,0,["viewmodel.perawatruanganmodel"],0,[master.perawatruangan,"ViewModel"],0));(Ext.cmd.derive("master.perawatruangan.Workspace",com.Form,{controller:"workspace-perawatruangan",viewModel:{data:{hideForm:true}},border:false,defaults:{border:false},layout:"border",initComponent:function(){var g=this,k=g.getController();g.items=[{region:"north",layout:{type:"hbox",align:"stretch"},items:[{xtype:"form-perawatruangan",reference:"formperawatruangan",hidden:true,bind:{hidden:"{hideForm}"},flex:1,listeners:{scope:k,save:"onSuccess"}},{xtype:"component",flex:0.7},{xtype:"button",margin:2,height:32,cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Perawat Ruangan",listeners:{scope:k,click:"onAddPerawatRuangan"}}]},{region:"center",xtype:"perawatruangan-list",reference:"perawatruanganlist"}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(l){var m=this,n=m.getViewModel(),o=m.down("perawatruangan-list");if(l){m.loadRecord(l);o.load({RUANGAN:l.get("ID")});n.set("hideForm",true)}}},0,["workspace-perawatruangan"],["component","box","container","panel","form","com-form","workspace-perawatruangan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-perawatruangan":true},["widget.workspace-perawatruangan"],0,[master.perawatruangan,"Workspace"],0));(Ext.cmd.derive("master.perawatruangan.WorkspaceController",Ext.app.ViewController,{onAddPerawatRuangan:function(s){var p=this,u=p.getView(),q=p.getViewModel(),t=p.getReferences(),o=q.get("record"),v=q.get("hideForm");q.set("hideForm",!v);t.formperawatruangan.createRecord({RUANGAN:o.get("ID"),STATUS:1});t.formperawatruangan.focus("PERAWAT")},onSuccess:function(){var n=this,q=n.getView(),o=n.getViewModel(),p=n.getReferences(),m=o.get("record");p.perawatruanganlist.reload();p.formperawatruangan.createRecord({RUANGAN:m.get("ID"),STATUS:1})}},0,0,0,0,["controller.workspace-perawatruangan"],0,[master.perawatruangan,"WorkspaceController"],0));(Ext.cmd.derive("master.ppk.Combo",com.Combo,{viewModel:{stores:{store:{type:"ppk-store"}}},queryMode:"remote",queryParam:"NAMA",displayField:"NAMA",emptyText:"[Masukkan P P K]",typeAhead:true,hideTrigger:true,tpl:new Ext.XTemplate('<tpl for=".">','<div class="x-boundlist-item" style="font-size: 12px; line-height: 15px; padding: 3px 10px">','<div style="font-weight: bold; white-space:normal !important;">{[this.getKode(values)]} - {NAMA}</div>','<div style="white-space:normal !important;">{ALAMAT}</div>','<div style="white-space:normal !important;">{DESWILAYAH}</div>',"</div>","</tpl>",{getKode:function(f){return f.KODE?f.KODE:""}}),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{NAMA}","</tpl>")},0,["master-ppk-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","master-ppk-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"master-ppk-combo":true},["widget.master-ppk-combo"],0,[master.ppk,"Combo"],0));(Ext.cmd.derive("master.ppk.Form",com.Form,{controller:"master-ppk-form",model:"data.model.Ppk",layout:{type:"vbox",align:"stretch"},isCreate:false,bodyPadding:15,defaults:{margin:"0 0 0 0"},items:[{xtype:"fieldcontainer",layout:"hbox",defaults:{xtype:"textfield",labelAlign:"top",bind:{readOnly:"{formConfig.viewOnly}"},margin:"0 1 0 0"},items:[{fieldLabel:"Kode Faskes",name:"KODE"},{fieldLabel:"Kode Faskes BPJS",name:"BPJS"}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{xtype:"referensi-combo",labelAlign:"top",bind:{readOnly:"{formConfig.viewOnly}"},margin:"0 1 0 0",editable:false},items:[{fieldLabel:"Jenis",width:150,name:"JENIS",params:{JENIS:11,STATUS:1},emptyText:"[Jenis]"},{fieldLabel:"Kepemilikan",width:250,name:"KEPEMILIKAN",params:{JENIS:28,STATUS:1},emptyText:"[Kepemilikan]"},{fieldLabel:"Tipe",width:250,name:"JPK",params:{JENIS:29,STATUS:1},emptyText:"[Jenis Pelayanan]"},{xtype:"combobox",fieldLabel:"Kelas",width:250,name:"KELAS",store:{fields:[{name:"ID"}],data:[{ID:"A"},{ID:"B"},{ID:"C"},{ID:"D"}]},displayField:"ID",valueField:"ID"}]},{xtype:"textfield",fieldLabel:"Nama",labelAlign:"top",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}"},name:"NAMA"},{xtype:"fieldcontainer",layout:"hbox",defaults:{xtype:"textfield",labelAlign:"top",bind:{readOnly:"{formConfig.viewOnly}"},margin:"0 1 0 0"},items:[{fieldLabel:"Alamat",name:"ALAMAT",flex:1},{fieldLabel:"RT",name:"RT",width:50},{fieldLabel:"RW",name:"RW",width:50},{fieldLabel:"Kodepos",name:"KODEPOS",width:60}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{xtype:"textfield",labelAlign:"top",bind:{readOnly:"{formConfig.viewOnly}"},margin:"0 1 0 0"},items:[{fieldLabel:"Telepon",name:"TELEPON"},{fieldLabel:"Fax",name:"FAX"},{xtype:"master-wilayah-combo",fieldLabel:"Kota/Kabupaten",labelAlign:"top",allowBlank:false,name:"WILAYAH",flex:1,bind:{readOnly:"{formConfig.viewOnly}"},params:{JENIS:2,STATUS:1},listeners:{select:"onSelectWilayah"}},{name:"DESWILAYAH",hidden:true}]}],onLoadRecord:function(s,v){var o=s.down("[name=JENIS]"),t=s.down("[name=KEPEMILIKAN]"),u=s.down("[name=JPK]"),q=s.down("[name=KELAS]"),p=s.down("[name=WILAYAH]");if(s.isCreate){o.select(1);t.select(1);u.select(1);q.select("D")}o.load();t.load();u.load();p.load()},buttons:[{iconCls:"x-fa fa-save",text:"Simpan",handler:"onSimpan"}]},0,["master-ppk-form"],["component","box","container","panel","form","com-form","master-ppk-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"master-ppk-form":true},["widget.master-ppk-form"],0,[master.ppk,"Form"],0));(Ext.cmd.derive("master.ppk.FormController",Ext.app.ViewController,{onSelectWilayah:function(l,k){var m=this.getView();if(k){m.down("[name=DESWILAYAH]").setValue(k.get("DESKRIPSI"))}},onSimpan:function(f){this.getView().save(f)}},0,0,0,0,["controller.master-ppk-form"],0,[master.ppk,"FormController"],0));(Ext.cmd.derive("master.ppk.Grid",com.Grid,{controller:"master-ppk-grid",viewModel:{stores:{store:{type:"ppk-store"}}},header:{items:[{xtype:"search-field",emptyText:"Cari Kode / Nama PPK",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}},{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-green",handler:"onTambah",tooltip:"PPK Baru"}]},actions:{edit:{iconCls:"x-fa fa-edit",tooltip:"Ubah PPK",handler:"onUbah"}},columns:[{xtype:"rownumberer",text:"No",menuDisabled:true,sortable:false,align:"left",width:70},{text:"Kode",menuDisabled:true,sortable:false,dataIndex:"KODE",align:"center",width:80},{text:"Kode BPJS",menuDisabled:true,sortable:false,dataIndex:"BPJS",align:"center",width:80},{text:"Jenis",xtype:"templatecolumn",menuDisabled:true,sortable:false,tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">{[this.getReferensi(values.REFERENSI)]}</div>',{getReferensi:function(f){return f?(f.JENIS?f.JENIS.DESKRIPSI:"-"):"-"}}),width:100},{text:"Kepemilikan",xtype:"templatecolumn",menuDisabled:true,sortable:false,tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">{[this.getReferensi(values.REFERENSI)]}</div>',{getReferensi:function(f){return f?(f.KEPEMILIKAN?f.KEPEMILIKAN.DESKRIPSI:"-"):"-"}}),width:100},{text:"Tipe",xtype:"templatecolumn",menuDisabled:true,sortable:false,tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">{[this.getReferensi(values.REFERENSI)]}</div>',{getReferensi:function(f){return f?(f.JPK?f.JPK.DESKRIPSI:"-"):"-"}}),width:100},{text:"Nama",menuDisabled:true,sortable:false,dataIndex:"NAMA",width:300},{text:"Kelas",menuDisabled:true,sortable:false,dataIndex:"KELAS",align:"center",width:60},{text:"Alamat",menuDisabled:true,sortable:false,dataIndex:"ALAMAT",xtype:"templatecolumn",tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">{ALAMAT}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.getInfo(values)]}</div>',{getInfo:function(f){return"RT."+(f.RT?f.RT:"-")+"/ RW."+(f.RW?f.RW:"-")+" | Kodepos "+(f.KODEPOS?f.KODEPOS:"-")+" | Telp. "+(f.TELEPON?f.TELEPON:"-")+" | Fax. "+(f.FAX?f.FAX:"-")}}),width:250},{text:"Kota/Kab.",menuDisabled:true,sortable:false,dataIndex:"DESWILAYAH",width:100},{text:"Status",xtype:"templatecolumn",menuDisabled:true,sortable:false,tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">{[this.getStatus(values.STATUS)]}</div>',{getStatus:function(f){return f===1?"Aktif":"Tidak Aktif"}})},{menuDisabled:true,sortable:false,align:"center",xtype:"actioncolumn",width:50,items:["@edit"]}],cari:function(g){var k=this.down("search-field");k.setValue(g);k.fireEvent("search",k,g)}},0,["master-ppk-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","master-ppk-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"master-ppk-grid":true},["widget.master-ppk-grid"],0,[master.ppk,"Grid"],0));(Ext.cmd.derive("master.ppk.GridController",Ext.app.ViewController,{query:"",onSearch:function(k,g){this.query=g;this.cari()},onClear:function(){this.query="";this.cari()},onChange:function(o,m){var n=this,q=n.getView(),p=q.down("search-field");if(m==""){p.onClearClick()}},onTambah:function(f){this.openWindow(f,true,{})},onUbah:function(q,g,s,t,p,o){this.openWindow(q,false,o)},privates:{cari:function(){var k=this,m=k.getView(),l=m.down("pagingtoolbar");if(k.query==""){delete m.getStore().queryParams.QUERY}else{m.setParams({QUERY:k.query})}if(l){l.moveFirst()}else{m.load()}},openWindow:function(o,p,m){var n=this,q=n.getView();q.openDialog("",true,"90%","90%",{xtype:"master-ppk-form",ui:"panel-cyan",showCloseButton:true,title:(p?"Tambah":"Ubah")+" Pemberi Pelayanan Kesehatan (PPK)",isCreate:p},function(e,f){form=f.down("master-ppk-form");if(p){form.createRecord(m)}else{form.loadRecord(m)}form.on("save",function(){f.close();n.cari()});form.focus("KODE")})}}},0,0,0,0,["controller.master-ppk-grid"],0,[master.ppk,"GridController"],0));(Ext.cmd.derive("master.ppk.Workspace",com.Form,{controller:"master-ppk-workspace",bodyPadding:0,border:false,layout:"fit",items:[{xtype:"master-ppk-grid",ui:"panel-blue",title:"Pemberi Pelayanan Kesehatan (PPK)"}],load:function(){var g=this,k=g.down("master-ppk-grid");k.setGridConfig({paging:true});k.load()}},0,["master-ppk-workspace"],["component","box","container","panel","form","com-form","master-ppk-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"master-ppk-workspace":true},["widget.master-ppk-workspace"],0,[master.ppk,"Workspace"],0));(Ext.cmd.derive("master.ppk.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.master-ppk-workspace"],0,[master.ppk,"WorkspaceController"],0));(Ext.cmd.derive("master.referensi.Form",com.Form,{controller:"master-referensi-form",model:"data.model.Referensi",header:false,border:true,bodyPadding:5,layout:"fit",defaults:{margin:"0 1 0 1"},items:{xtype:"textfield",maxLength:500,enforceMaxLength:true,name:"DESKRIPSI",reference:"deksripsi",emptyText:"[Nama Deskripsi]"},buttons:[{text:"Simpan",ui:"soft-green",iconCls:"x-fa fa-save",handler:"onSimpan"}]},0,["master-referensi-form"],["component","box","container","panel","form","com-form","master-referensi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"master-referensi-form":true},["widget.master-referensi-form"],0,[master.referensi,"Form"],0));(Ext.cmd.derive("master.referensi.FormController",Ext.app.ViewController,{onSimpan:function(l){var k=this,m=k.getView();m.save(l)}},0,0,0,0,["controller.master-referensi-form"],0,[master.referensi,"FormController"],0));(Ext.cmd.derive("master.referensi.Grid",com.Grid,{controller:"master-referensi-grid",viewModel:{data:{listConfig:{tambah:true,status:true}},stores:{store:{type:"referensi-store"}}},title:"Detil Referensi",border:false,ui:"panel-blue",header:{items:[{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-green",handler:"onTambah",bind:{hidden:"{!listConfig.tambah}"},tooltip:"Tambah Detil Referensi"}]},columns:[{xtype:"rownumberer",text:"No",align:"left",width:40},{text:"DESKRIPSI",dataIndex:"DESKRIPSI",flex:2},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",flex:0.3,stopSelection:true,bind:{hidden:"{!listConfig.status}"},listeners:{checkchange:"onCheck"}}]},0,["master-referensi-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","master-referensi-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"master-referensi-grid":true},["widget.master-referensi-grid"],0,[master.referensi,"Grid"],0));(Ext.cmd.derive("master.referensi.GridController",Ext.app.ViewController,{onCheck:function(q,y,t){var v=this,u=v.getView(),x=v.getViewModel(),s=x.get("store"),w=s.getAt(y),z=w.get("JENIS")+"-"+w.get("ID");w.setId(z);w.set("STATUS",t?1:0);w.save({callback:function(g,f,e){if(e){u.notifyMessage("Detil Referensi: "+w.get("DESKRIPSI")+" telah di"+(t==true?" Aktifkan":" Non Aktifkan"))}}})},onTambah:function(k){var g=this.getView().getParams();this.openWindow(k,true,{JENIS:g.JENIS,STATUS:1})},privates:{openWindow:function(o,p,m){var n=this,q=n.getView();q.openDialog("",true,"30%","30%",{xtype:"master-referensi-form",ui:"panel-cyan",showCloseButton:true,title:(p?"Tambah":"Ubah")+" Detil Referensi",isCreate:p},function(e,f){form=f.down("master-referensi-form");if(p){form.createRecord(m)}else{form.loadRecord(m)}form.on("save",function(){f.close();q.reload()});form.focus("DESKRIPSI")})}}},0,0,0,0,["controller.master-referensi-grid"],0,[master.referensi,"GridController"],0));(Ext.cmd.derive("master.referensi.Workspace",com.Form,{controller:"master-referensi-workspace",layout:"border",defaults:{border:false,margin:"1 1 1 1"},bodyPadding:0,items:[{region:"center",xtype:"master-referensi-grid",reference:"referensi"},{iconCls:"x-fa fa-list",reference:"jenisreferensi",region:"west",xtype:"master-referensi-jenis-grid",flex:0.35,split:true,listeners:{select:"onSelectJenis"}}],load:function(){var f=this.down("master-referensi-jenis-grid");f.doAfterLoad=function(m,n,e,o){if(e){if(n.length>0){f.setSelection(n[0])}}};f.load()}},0,["master-referensi-workspace"],["component","box","container","panel","form","com-form","master-referensi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"master-referensi-workspace":true},["widget.master-referensi-workspace"],0,[master.referensi,"Workspace"],0));(Ext.cmd.derive("master.referensi.WorkspaceController",Ext.app.ViewController,{onSelectJenis:function(e,u,t){var p=this,s=p.getView(),v=u.get("ID"),q=p.getReferences();if(u){q.referensi.load({JENIS:v})}},onRefreshJenis:function(){var g=this,k=g.getReferences();k.jenisreferensi.reload()}},0,0,0,0,["controller.master-referensi-workspace"],0,[master.referensi,"WorkspaceController"],0));(Ext.cmd.derive("master.referensi.jenis.Grid",com.Grid,{viewModel:{stores:{store:{type:"jenisreferensi-store"}}},title:"Referensi",ui:"panel-blue",border:false,header:{height:38},tools:[{xtype:"tool",cls:"x-fa fa-history hide-icon-tools",width:20,height:20,tooltip:"Refresh",listeners:{click:"onRefreshJenis"}}],columns:[{xtype:"templatecolumn",cls:"laporan-main laporan-dataview",flex:1,tpl:new Ext.XTemplate('<div class="thumb-wrap" style="padding: 5px">','<div class="thumb">','<div style="white-space:normal !important;">{DESKRIPSI} {[this.getSingkatan(values.SINGKATAN)]}</div>',"</div>","</div>",{getSingkatan:function(f){return f!=""?"("+f+")":""}})}]},0,["master-referensi-jenis-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","master-referensi-jenis-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"master-referensi-jenis-grid":true},["widget.master-referensi-jenis-grid"],0,[master.referensi.jenis,"Grid"],0));(Ext.cmd.derive("master.ruangan.Detil",com.Form,{controller:"ruangan-detil",model:"data.model.Ruangan",viewModel:{data:{uisAktif:["soft-black","soft-green"],record:undefined,recordTree:undefined,visibleJenisRawatInap:false,visibleRawatJalan:false},formulas:{getAktifStatusText:function(f){return f("record.STATUS")==1?"Aktif":""},getNonAktifStatusText:function(f){return f("record.STATUS")==0?"Non Aktif":""}}},bind:{title:"{record.DESKRIPSI}"},header:{iconCls:"x-fa fa-list",margin:0,padding:"5 10 5 10",height:50,layout:{type:"hbox",align:"stretch"},bind:{title:"{getTitle}"},items:[{xtype:"fieldcontainer",width:"60%",defaultType:"button",border:false,layout:"hbox",defaults:{width:90},border:false,items:[{xtype:"referensi-combo",params:{JENIS:15,STATUS:1},firstLoad:true,name:"JENIS_KUNJUNGAN",reference:"combojeniskunjungan",flex:1,margin:"0 2 2 2",emptyText:"[ JENIS KUNJUNGAN ]",listeners:{select:"onSelect"}},{xtype:"referensi-combo",params:{JENIS:75,STATUS:1},firstLoad:true,name:"REF_ID",reference:"combojenisri",flex:1,margin:"0 2 2 2",emptyText:"[ JENIS RAWAT INAP ]",bind:{hidden:"{!visibleJenisRawatInap}"},listeners:{select:"onSelectJenisRawatInap"}},{xtype:"checkbox",boxLabel:"<font color = 'white'> Poli Eksekutif </font>",width:110,name:"POLI_EKS",boxLabelAlign:"before",reference:"polieksekutif",margin:"0 15 2 5",bind:{hidden:"{!visibleRawatJalan}"},listeners:{change:"onChangePoliEks"}},{reference:"btnAktif",tooltip:"Aktifkan",bind:{text:"{getAktifStatusText}"},status:1,handler:"onStatus"},{reference:"btnNonAktif",tooltip:"Non Aktifkan",bind:{text:"{getNonAktifStatusText}"},status:0,handler:"onStatus"}]}]},listeners:{afterrender:"onAfterRender"},setUiButtons:function(p){var m=this,n=m.getViewModel(),q=n.get("uisAktif"),o=m.getReferences();o.btnAktif.setUI(q[p==1?1:0]);o.btnNonAktif.setUI(q[p==0?1:0])},load:function(m){var n=this,o=n.getViewModel(),l=n.down("[name=POLI_EKS]");if(m){o.set("recordTree",m);n.createRecord({ID:m.get("ID"),JENIS:m.get("JENIS"),JENIS_KUNJUNGAN:m.get("JENIS_KUNJUNGAN"),REF_ID:m.get("REF_ID"),DESKRIPSI:m.get("DESKRIPSI"),STATUS:m.get("STATUS")});o.set("visibleJenisRawatInap",m.get("JENIS_KUNJUNGAN")==3);o.set("visibleRawatJalan",m.get("JENIS_KUNJUNGAN")==1);if(m.get("JENIS_KUNJUNGAN")==1){if(l){l.setValue(m.get("REF_ID")==1)}}n.setUiButtons(m.get("STATUS"))}}},0,["ruangan-detil"],["component","box","container","panel","form","com-form","ruangan-detil"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"ruangan-detil":true},["widget.ruangan-detil"],0,[master.ruangan,"Detil"],0));(Ext.cmd.derive("master.ruangan.DetilController",Ext.app.ViewController,{onStatus:function(p){var o=this,t=o.getView(),s=o.getViewModel().get("recordTree"),q=t.getRecord(),n="Anda Yakin Ingin "+(p.status==1?"":"Non ")+"Aktifkan Ruangan Ini ?";if(q){Ext.Msg.show({message:n,buttons:Ext.Msg.YESNO,headerPosition:"left",buttonAlign:"left",icon:Ext.Msg.QUESTION,animateTarget:p,fn:function(f){if(f==="yes"){var e=q.get("STATUS");q.set("STATUS",p.status);t.save(p,{success:(p.status==1?"":"Non ")+"Aktif Ruangan berhasil"},function(l,k,g){if(g){t.setUiButtons(p.status);s.set("STATUS",p.status)}else{q.set("STATUS",e);t.setUiButtons(e)}})}}})}},onSelect:function(q,v){var o=this,u=o.getView(),p=o.getViewModel(),s=u.getRecord(),t=p.get("recordTree");if(v){s.set("JENIS_KUNJUNGAN",v.get("ID"));p.set("visibleJenisRawatInap",v.get("ID")==3);p.set("visibleRawatJalan",v.get("ID")==1);u.save(q,{success:"Update Jenis Kunjungan Ruangan berhasil"},function(f,g,e){if(f){t.set("JENIS_KUNJUNGAN",v.get("ID"));u.load(f)}})}},onSelectJenisRawatInap:function(p,n){var o=this,t=o.getView(),q=t.getRecord(),s=o.getViewModel().get("recordTree");if(n){q.set("REF_ID",n.get("ID"));t.save(p,{success:"Update Jenis Ruangan Rawat Inap berhasil"},function(f,g,e){if(f){s.set("REF_ID",n.get("ID"));t.load(f)}})}},onChangePoliEks:function(q,u){var t=this,s=t.getView(),x=t.getViewModel(),w=x.get("record"),v=Ext.create("data.model.Ruangan",{ID:w.get("ID"),REF_ID:w.get("REF_ID")}),y=u?1:0,z=x.get("recordTree");if(w.get("REF_ID")!=y){v.set("REF_ID",y);v.showError=true;v.animateTarget=q;v.save({failure:function(e,f){w.set("REF_ID",y==1?0:1);s.notifyMessage("Update Poli Eksekutif Ruangan Rawat Jalan gagal","danger-red")},success:function(e,f){w.set("REF_ID",y);z.set("REF_ID",y);s.notifyMessage("Update Poli Eksekutif Ruangan Rawat Jalan berhasil")}})}},onAfterRender:function(){var l=this,o=l.getView(),m=l.getViewModel(),n=m.get("record");if(n){o.setUiButtons(n.get("STATUS"))}}},0,0,0,0,["controller.ruangan-detil"],0,[master.ruangan,"DetilController"],0));(Ext.cmd.derive("master.ruangan.Form",com.Form,{controller:"form-ruangan",model:"data.model.Ruangan",title:"Form Ruangan",bodyPadding:10,items:[{xtype:"textfield",name:"DESKRIPSI",labelWidth:100,width:500,fieldLabel:"Deskripsi",allowBlank:false}],buttons:[{text:"Simpan",handler:"onSimpan"}]},0,["form-ruangan"],["component","box","container","panel","form","com-form","form-ruangan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-ruangan":true},["widget.form-ruangan"],0,[master.ruangan,"Form"],0));(Ext.cmd.derive("master.ruangan.FormController",Ext.app.ViewController,{init:function(){var g=this,k=g.getView();k.down("[name=DESKRIPSI]").focus(false,1000)},onSimpan:function(f){var o=this,p=o.getView(),q=p.getForm().getValues(),e=o.getViewModel().get("record");if(p.getForm().isValid()){e.set(q);e.showError=true;e.animateTarget=f;e.scope=o;e.save({callback:function(g,l,k){if(l.hasException()||!k){}if(k){p.notifyMessage("Data telah tersimpan");p.fireEvent("save",g)}}})}}},0,0,0,0,["controller.form-ruangan"],0,[master.ruangan,"FormController"],0));(Ext.cmd.derive("master.Links",com.Tab,{cls:"x-br-top",items:[{title:"Dokter",iconCls:"x-fa fa-user-secret",xtype:"workspace-dokterruangan"},{title:"SMF",iconCls:"x-fa fa-user-md",xtype:"smf-ruangan-workspace"},{title:"Paramedis",iconCls:"x-fa fa-stethoscope",xtype:"workspace-perawatruangan"},{title:"Staff",iconCls:"x-fa fa-user",xtype:"workspace-staffruangan"},{title:"Kamar",iconCls:"x-fa fa-hospital-o",xtype:"workspace-kamar"},{title:"Tindakan",iconCls:"x-fa fa-medkit",xtype:"tindakan-ruangan-workspace"},{title:"Barang",iconCls:"x-fa fa-cubes",xtype:"barang-ruangan-workspace"},{title:"Kelas",iconCls:"x-fa fa-star",xtype:"ruangan-kelas-workspace"}],load:function(g){var k=this.getActiveTab();if(k){k.load(g)}}},0,["ruangan-links"],["component","box","container","panel","tabpanel","com-tab","ruangan-links"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"ruangan-links":true},["widget.ruangan-links"],0,[master,"Links"],0));(Ext.cmd.derive("master.ruangan.List",com.Grid,{controller:"ruangan-list",viewModel:{stores:{store:{type:"ruangan-store",queryParams:{}}}},checkboxModel:false,ruanganAkses:true,initComponent:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:60,hidden:f.checkboxModel},{text:f.ruanganAkses?"Ruangan Akses":"Ruangan",flex:1,dataIndex:"DESKRIPSI",renderer:"onRenderer"},{text:"Status",flex:1,hidden:f.ruanganAkses,dataIndex:"STATUS",renderer:"onStatus"}];com.Grid.prototype.initComponent.apply(this,arguments)},doAfterLoad:function(p,x,w,v){var s=this,u=s.getSelectionModel();if(Ext.isArray(x)){if(x.length>0){for(var t=0;t<x.length;t++){if(u){if(s.checkboxModel){var q=x[t].get("checked")?(x[t].get("checked")==1):false;if(q){u.select(x[t],true)}}}}}(new Ext.util.DelayedTask(function(){})).delay(100)}}},0,["ruangan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","ruangan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"ruangan-list":true},["widget.ruangan-list"],0,[master.ruangan,"List"],0));(Ext.cmd.derive("master.ruangan.ListController",Ext.app.ViewController,{onRenderer:function(z,q,y,s){var v=this,t=v.getView(),w=z.length,u=((y.get("JENIS")-1)*10),x=t.getSelectionModel();return t.ruanganAkses?Ext.String.leftPad(z,w+u,"&nbsp;"):z},onStatus:function(n,q,o,t){var s=this,p=(o.get("STATUS")==1)?"Aktif":"Non Aktif";if(o.get("STATUS")==1){return'<span style="color:green;">'+p+"</span>"}else{return'<span style="color:red;">'+p+"</span>"}}},0,0,0,0,["controller.ruangan-list"],0,[master.ruangan,"ListController"],0));(Ext.cmd.derive("master.ruangan.RuanganSelection",com.Form,{controller:"ruangan-selection",viewModel:{data:{ikutIbu:false},stores:{instalasistore:{type:"ruangan-store",queryParams:{JENIS:3,STATUS:1}},unitstore:{type:"ruangan-store",queryParams:{JENIS:4,STATUS:1}},ruanganstore:{type:"ruangan-store",queryParams:{JENIS:5,STATUS:1}}}},bodyPadding:5,notJenisKunjungan:[0],layout:{type:"vbox",align:"stretch"},defaultType:"fieldcontainer",defaults:{margin:"0 0 2 0 ",layout:{type:"hbox",align:"stretch"}},ruanganSelected:false,items:[{xtype:"textfield",name:"RUANGAN",reference:"ruangan",hidden:true,inputType:"hidden"},{xtype:"combobox",margin:"0 2 2 0",padding:0,labelAlign:"top",enterFocus:true,flex:1,forceSelection:true,name:"INSTALASI",emptyText:"[Pilih Instalasi]",queryMode:"local",typeAhead:true,reference:"instalasi",displayField:"DESKRIPSI",valueField:"ID",allowBlank:false,bind:{store:"{instalasistore}",readOnly:"{ikutIbu}"},listeners:{specialkey:"onFocusEnter",select:"onSelectedInstalasi",blur:"onBlurInstalasi"}},{defaultType:"combobox",defaults:{margin:"0 2 0 0",padding:0,labelAlign:"top",enterFocus:true,flex:1,forceSelection:true,queryMode:"local",typeAhead:true,displayField:"DESKRIPSI",valueField:"ID",allowBlank:false},items:[{name:"UNIT",bind:{store:"{unitstore}",readOnly:"{ikutIbu}"},emptyText:"[Pilih Unit]",reference:"unit",listeners:{specialkey:"onFocusEnter",select:"onSelectedUnit",blur:"onBlurUnit"}},{name:"SUBUNIT",bind:{store:"{ruanganstore}",readOnly:"{ikutIbu}"},emptyText:"[Pilih Ruangan]",reference:"subunit",listeners:{specialkey:"onFocusEnter",select:"onSelectedRuangan",blur:"onBlurSubUnit"}}]}],getFormData:function(){var f=this.getForm().getValues();delete f.INSTALASI;delete f.UNIT;delete f.SUBUNIT;return f},select:function(k){if(Ext.getClassName(k)=="data.model.Ruangan"){var l=this.down("[reference=ruangan]"),m=this.down("[reference=subunit]");l.setValue(k.get("ID"));this.ruanganSelected=k}},setIkutIbu:function(f){this.getViewModel().set("ikutIbu",f)},onLoadRecord:function(m,l){var n=m.getViewModel(),o=n.get("instalasistore");if(o){o.setQueryParams({JENIS:3,STATUS:1,NOT:Ext.JSON.encode({JENIS_KUNJUNGAN:m.notJenisKunjungan})});o.load()}}},0,["ruangan-selection"],["component","box","container","panel","form","com-form","ruangan-selection"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"ruangan-selection":true},["widget.ruangan-selection"],0,[master.ruangan,"RuanganSelection"],0));(Ext.cmd.derive("master.ruangan.RuanganSelectionController",Ext.app.ViewController,{init:function(){var e=this,g=e.getView(),u=e.getViewModel(),s=e.getReferences(),t=u.get("instalasistore"),v=u.get("unitstore"),f=u.get("ruanganstore");t.on("load",function(){var k=s.ruangan.getValue();if(k==null){return}if(k.length>0&&t!=null){s.instalasi.setValue(k.substring(0,5))}v.removeAll();s.unit.select(null);f.removeAll();s.subunit.select(null);g.fireEvent("load",1);if(k.length>0&&v!=null){v.queryParams.ID=k.substring(0,5);v.load()}});v.on("load",function(k,m){var l=s.ruangan.getValue();if(l==null){return}if(l.length>5&&v!=null){s.unit.setValue(l.substring(0,7))}if(m.length==1){s.unit.select(m[0]);s.unit.fireEvent("select",s.unit,m[0]);s.subunit.focus(false,100)}f.removeAll();s.subunit.select(null);g.fireEvent("load",2);if(l.length>5&&f!=null){f.queryParams.ID=l.substring(0,7);f.load()}});f.on("load",function(k,l){if(l.length==1||g.ruanganSelected){var m=g.ruanganSelected?g.ruanganSelected:l[0];s.subunit.select(m);s.subunit.fireEvent("select",s.subunit,m);g.fireEvent("nextfocus")}})},onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSelectedInstalasi:function(q,o){var f=this,p=f.getView(),e=f.getViewModel().get("unitstore");f.getReferences().unit.select(null);f.getReferences().subunit.select(null);f.removeStoreData(f.getReferences().unit,"unitstore");f.removeStoreData(f.getReferences().subunit,"ruanganstore");p.fireEvent("selected",o,1);if(o){if(!p.ruanganSelected){f.getReferences().ruangan.setValue(o.get("ID"))}e.queryParams.ID=o.get("ID");e.load()}},onSelectedUnit:function(q,o){var e=this,p=e.getView(),f=e.getViewModel().get("ruanganstore");e.getReferences().subunit.select(null);e.removeStoreData(e.getReferences().subunit,"ruanganstore");p.fireEvent("selected",o,2);if(o){if(!p.ruanganSelected){e.getReferences().ruangan.setValue(o.get("ID"))}f.queryParams.ID=o.get("ID");f.load()}},onSelectedRuangan:function(e,n){var m=this,o=m.getView();o.fireEvent("selected",n,3);if(n){m.getReferences().ruangan.setValue(n.get("ID"));o.ruanganSelected=false}},onBlurInstalasi:function(k){var g=k.getSelection();if(g==null){this.getView().fireEvent("blurselection",1);this.removeStoreData(this.getReferences().unit,"unitstore");this.removeStoreData(this.getReferences().subunit,"ruanganstore")}},onBlurUnit:function(k){var g=k.getSelection();if(g==null){this.getView().fireEvent("blurselection",2);this.removeStoreData(this.getReferences().subunit,"ruanganstore")}},onBlurSubUnit:function(k){var g=k.getSelection();if(g==null){this.getView().fireEvent("blurselection",3)}},removeStoreData:function(l,k){var m=this;m.getViewModel().get(k).removeAll();l.select(null)}},0,0,0,0,["controller.ruangan-selection"],0,[master.ruangan,"RuanganSelectionController"],0));(Ext.cmd.derive("master.ruangan.Tree",com.Tree,{controller:"ruangan-tree",viewModel:{data:{treeConfig:{add:false}},stores:{store:{type:"tree-ruangan-store",queryParams:{TREE:1}}}},tools:[{xtype:"tool",cls:"x-fa fa-plus hide-icon-tools",width:20,height:20,tooltip:"Tambah Ruangan",reference:"tambah_ruangan",bind:{hidden:"{!treeConfig.add}"},listeners:{click:"onAddRuangan"}},{xtype:"tool",cls:"x-fa fa-history hide-icon-tools",width:20,height:20,tooltip:"Reload Ruangan",reference:"Load_ruangan",listeners:{click:"onReload"}}],header:{iconCls:"x-fa fa-list",padding:"10 10 10 5"},doAfterLoad:function(n,m,l,o){if(Ext.isArray(m)){if(m.length>0){n.setSelection(m[0])}(new Ext.util.DelayedTask(function(){n.expandAll()})).delay(100)}}},0,["ruangan-tree"],["component","box","container","panel","tablepanel","treepanel","com-tree","ruangan-tree"],{component:true,box:true,container:true,panel:true,tablepanel:true,treepanel:true,"com-tree":true,"ruangan-tree":true},["widget.ruangan-tree"],0,[master.ruangan,"Tree"],0));(Ext.cmd.derive("master.ruangan.TreeController",Ext.app.ViewController,{onAddRuangan:function(){var l=this,o=l.getView(),n={},m=o.getSelection();if(m.length>0){n.PARENT={ID:m[0].get("ID"),JENIS:m[0].get("JENIS")};n.JENIS=m[0].get("JENIS")+1;n.STATUS=1}o.openDialog("",true,520,150,{xtype:"form-ruangan",iconCls:"x-fa fa-edit",title:"Form Ruangan",showCloseButton:true,ui:"panel-blue"},function(g,e){var f=e.down("form-ruangan");f.createRecord(n);f.focus("DESKRIPSI");f.on("save",function(k){o.refresh();e.close()})})},onReload:function(){this.getView().refresh()}},0,0,0,0,["controller.ruangan-tree"],0,[master.ruangan,"TreeController"],0));(Ext.cmd.derive("master.ruangan.Workspace",com.Form,{controller:"workspace-ruangan",layout:"border",border:false,initComponent:function(){var g=this,k=g.getController();g.items=[{xtype:"ruangan-tree",ui:"panel-blue",reference:"ruangantree",region:"east",title:"Ruangan",width:250,header:{height:45},listeners:{select:"onRuanganSelect"}},{region:"center",xtype:"container",cls:"x-br-right",layout:{type:"vbox",align:"stretch"},items:[{ui:"panel-blue",xtype:"ruangan-detil",reference:"ruangandetil",height:45},{xtype:"ruangan-links",reference:"ruanganlinks",flex:1,listeners:{tabchange:"onTabChange"}}]}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(){var g=this,k=g.down("ruangan-tree");k.setTreeConfig({add:true});k.load({})}},0,["workspace-ruangan"],["component","box","container","panel","form","com-form","workspace-ruangan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-ruangan":true},["widget.workspace-ruangan"],0,[master.ruangan,"Workspace"],0));(Ext.cmd.derive("master.ruangan.WorkspaceController",Ext.app.ViewController,{ruanganSelected:undefined,onTabChange:function(g,k){if(k.load){k.load(this.ruanganSelected)}},onRuanganSelect:function(p,n){var o=this,q=o.lookupReference("ruangantree"),t=o.lookupReference("ruangandetil"),s=o.lookupReference("ruanganlinks");if(n){o.ruanganSelected=n;t.load(n);q.setTreeConfig({add:n.get("JENIS")!==5});s.load(n)}}},0,0,0,0,["controller.workspace-ruangan"],0,[master.ruangan,"WorkspaceController"],0));(Ext.cmd.derive("master.ruangan.kelas.List",com.Grid,{controller:"ruangan-kelas-list",viewModel:{stores:{store:{type:"ruangan-kelas-store"}}},cls:"x-br-top",border:true,columns:[{text:"Kelas",dataIndex:"KELAS",flex:4,renderer:"onKelasRender"},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}]},0,["ruangan-kelas-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","ruangan-kelas-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"ruangan-kelas-list":true},["widget.ruangan-kelas-list"],0,[master.ruangan.kelas,"List"],0));(Ext.cmd.derive("master.ruangan.kelas.ListController",Ext.app.ViewController,{onChange:function(t,w,p){var q=this,s=q.getViewModel(),v=q.getView(),u=s.get("store"),x=u.getAt(w);x.set("STATUS",p?1:0);x.scope=this;x.save({callback:function(e,g,f){if(f){v.notifyMessage("Status ruangan kelas di "+(p==true?"Aktifkan":"Non Aktifkan"),"danger-blue");v.reload()}}})},onKelasRender:function(o,q,p,v,t,u){var s=p.get("REFERENSI");return s?(s.KELAS?s.KELAS.DESKRIPSI:""):""}},0,0,0,0,["controller.ruangan-kelas-list"],0,[master.ruangan.kelas,"ListController"],0));(Ext.cmd.derive("master.ruangan.kelas.Workspace",com.Form,{controller:"ruangan-kelas-workspace",layout:"border",border:false,initComponent:function(){var f=this;f.items=[{region:"west",title:"Daftar Kelas",xtype:"master-referensi-grid",border:false,collapsible:true,flex:0.7,reference:"referensilist",split:true,multiSelect:true,viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrop:false},copy:true},listeners:{itemdblclick:"onItemDblClickReferensi"}},{region:"center",border:false,xtype:"ruangan-kelas-list",reference:"ruangankelaslist",viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrag:false},listeners:{scope:f.getController(),drop:"onDropRuanganKelas"}}}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(n){var p=this,q=p.getViewModel(),m=p.down("master-referensi-grid"),o=p.down("ruangan-kelas-list");m.setListConfig({tambah:false,status:false});m.load({JENIS:19});if(n){o.loadStore({start:0,limit:3000,RUANGAN:n.get("ID")});p.loadRecord(n)}}},0,["ruangan-kelas-workspace"],["component","box","container","panel","form","com-form","ruangan-kelas-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"ruangan-kelas-workspace":true},["widget.ruangan-kelas-workspace"],0,[master.ruangan.kelas,"Workspace"],0));(Ext.cmd.derive("master.ruangan.kelas.WorkspaceController",Ext.app.ViewController,{onItemDblClickReferensi:function(q,m){var o=this,p=o.getViewModel(),n=p.get("record");m=Ext.create("master.ruangan.kelas.Model",{RUANGAN:n.get("ID"),KELAS:m.get("ID"),STATUS:1});o.simpanRuanganKelas(m)},onDropRuanganKelas:function(y,w,s,q){var u=this,z=u.getViewModel(),x=z.get("record"),t=Ext.Array.clone(w.records),v=0;w.records=[];Ext.Array.each(t,function(e){e=Ext.create("master.ruangan.kelas.Model",{RUANGAN:x.get("ID"),KELAS:e.get("ID"),STATUS:1});v++;u.simpanRuanganKelas(e,false,function(f,g){w.records.push(f);if(v==t.length){u.loadRuanganKelas()}})})},privates:{simpanRuanganKelas:function(p,s,n){var q=this,t=q.getView(),s=s!=undefined?s:true,o=p.get("ID");p.showError=true;p.save({callback:function(e,l,f){if(f){var k=e.get("REFERENSI"),g=k?(k.KELAS?k.KELAS.DESKRIPSI:""):"";t.notifyMessage((!Ext.isNumeric(o)?"Kelas <b>"+g+"</b>":"Data")+" telah tersimpan","danger-blue");if(s){q.loadRuanganKelas()}}if(Ext.isFunction(n)){n(e,f)}}})},loadRuanganKelas:function(){var g=this,k=g.getReferences();k.ruangankelaslist.reload()}}},0,0,0,0,["controller.ruangan-kelas-workspace"],0,[master.ruangan.kelas,"WorkspaceController"],0));(Ext.cmd.derive("master.ruanganfarmasi.Combo",com.Combo,{viewModel:{stores:{store:{type:"ruangan-farmasi-store"}}},emptyText:"[Pilih Depo Layanan]",displayField:"FARMASI",valueField:"FARMASI",minChars:2,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div"><strong>{REFERENSI.FARMASI.DESKRIPSI}</strong></div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{REFERENSI.FARMASI.DESKRIPSI}","</tpl>")},0,["ruangan-farmasi-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","ruangan-farmasi-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"ruangan-farmasi-combo":true},["widget.ruangan-farmasi-combo"],0,[master.ruanganfarmasi,"Combo"],0));(Ext.cmd.derive("master.ruangankonsul.Combo",com.Combo,{viewModel:{stores:{store:{type:"ruangan-konsul-store"}}},emptyText:"[Pilih Tujuan Konsul]",displayField:"KONSUL",valueField:"KONSUL",tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div"><strong>{REFERENSI.KONSUL.DESKRIPSI}</strong></div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{REFERENSI.KONSUL.DESKRIPSI}","</tpl>")},0,["ruangan-konsul-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","ruangan-konsul-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"ruangan-konsul-combo":true},["widget.ruangan-konsul-combo"],0,[master.ruangankonsul,"Combo"],0));(Ext.cmd.derive("master.ruanganlab.Combo",com.Combo,{viewModel:{stores:{store:{type:"ruangan-lab-store"}}},emptyText:"[Pilih Tujuan Laboratorium]",displayField:"LABORATORIUM",valueField:"LABORATORIUM",minChars:2,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div"><strong>{REFERENSI.LABORATORIUM.DESKRIPSI}</strong></div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{REFERENSI.LABORATORIUM.DESKRIPSI}","</tpl>")},0,["ruangan-lab-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","ruangan-lab-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"ruangan-lab-combo":true},["widget.ruangan-lab-combo"],0,[master.ruanganlab,"Combo"],0));(Ext.cmd.derive("master.ruanganmutasi.Combo",com.Combo,{viewModel:{stores:{store:{type:"ruangan-mutasi-store"}}},emptyText:"[Pilih Tujuan Mutasi]",displayField:"MUTASI",valueField:"MUTASI",tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div"><strong>{REFERENSI.MUTASI.DESKRIPSI}</strong></div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{REFERENSI.MUTASI.DESKRIPSI}","</tpl>")},0,["ruangan-mutasi-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","ruangan-mutasi-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"ruangan-mutasi-combo":true},["widget.ruangan-mutasi-combo"],0,[master.ruanganmutasi,"Combo"],0));(Ext.cmd.derive("master.ruanganoperasi.Combo",com.Combo,{viewModel:{stores:{store:{type:"ruangan-operasi-store"}}},emptyText:"[Pilih Tujuan Operasi]",displayField:"OPERASI",valueField:"OPERASI",tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div"><strong>{REFERENSI.OPERASI.DESKRIPSI}</strong></div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{REFERENSI.OPERASI.DESKRIPSI}","</tpl>")},0,["ruangan-operasi-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","ruangan-operasi-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"ruangan-operasi-combo":true},["widget.ruangan-operasi-combo"],0,[master.ruanganoperasi,"Combo"],0));(Ext.cmd.derive("master.ruanganrad.Combo",com.Combo,{viewModel:{stores:{store:{type:"ruangan-rad-store"}}},emptyText:"[Pilih Tujuan Radiologi]",displayField:"RADIOLOGI",valueField:"RADIOLOGI",minChars:2,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div"><strong>{REFERENSI.RADIOLOGI.DESKRIPSI}</strong></div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{REFERENSI.RADIOLOGI.DESKRIPSI}","</tpl>")},0,["ruangan-rad-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","ruangan-rad-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"ruangan-rad-combo":true},["widget.ruangan-rad-combo"],0,[master.ruanganrad,"Combo"],0));(Ext.cmd.derive("master.smfruangan.Form",com.Form,{controller:"smf-ruangan-form",model:"data.model.SmfRuangan",layout:{type:"hbox",align:"stretch"},border:false,defaults:{margin:2},bodyPadding:0,defaultType:"button",items:[{xtype:"referensi-combo",params:{JENIS:26,STATUS:1},firstLoad:true,name:"SMF",width:"60%",multiSelect:true,reference:"combosmf",emptyText:"[ PILIH SMF ]",allowBlank:false},{text:"ADD",listeners:{click:"onSimpan"}},{text:"ALL",listeners:{click:"onAllSmf"}}]},0,["smf-ruangan-form"],["component","box","container","panel","form","com-form","smf-ruangan-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"smf-ruangan-form":true},["widget.smf-ruangan-form"],0,[master.smfruangan,"Form"],0));(Ext.cmd.derive("master.smfruangan.FormController",Ext.app.ViewController,{onSimpan:function(l){var k=this,m=k.getView();m.save(l)},onAllSmf:function(){var k=this,m=k.getView(),l=m.getRecord();if(l){l.set("ALL",1);l.save({callback:function(e,g,f){if(f){m.fireEvent("save",e)}}})}}},0,0,0,0,["controller.smf-ruangan-form"],0,[master.smfruangan,"FormController"],0));(Ext.cmd.derive("master.smfruangan.List",com.Grid,{controller:"smf-ruangan-list",viewModel:{stores:{store:{type:"smf-ruangan-store"}}},cls:"x-br-top",borde:true,columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"ID ",dataIndex:"ID",flex:1,hidden:true},{text:"SMF",dataIndex:"SMF",flex:4,renderer:"onSmfRender"},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}]},0,["smf-ruangan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","smf-ruangan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"smf-ruangan-list":true},["widget.smf-ruangan-list"],0,[master.smfruangan,"List"],0));(Ext.cmd.derive("master.smfruangan.ListController",Ext.app.ViewController,{onChange:function(s,w,x){var p=this,v=p.getView(),q=p.getViewModel(),u=q.get("store"),t=u.getAt(w);if(t){t.set("STATUS",x?1:0);t.scope=p;t.save({callback:function(e,g,f){if(f){v.notifyMessage("Status SMF di "+(x==true?"Aktifkan":"NonAktifkan"))}else{t.set("STATUS",x?0:1)}}})}},onSmfRender:function(m,o,n){var q=n.get("REFERENSI"),p=q?(q.SMF?q.SMF.DESKRIPSI:""):"";return p}},0,0,0,0,["controller.smf-ruangan-list"],0,[master.smfruangan,"ListController"],0));(Ext.cmd.derive("master.smfruangan.Workspace",com.Form,{controller:"smf-ruangan-workspace",viewModel:{data:{hideForm:true}},layout:"border",defaults:{border:false},initComponent:function(){var g=this,k=g.getController();g.items=[{region:"north",layout:{type:"hbox",align:"stretch"},margin:"2.2.2.2",items:[{xtype:"smf-ruangan-form",reference:"formsmfruangan",hidden:true,bind:{hidden:"{hideForm}"},flex:1,listeners:{scope:k,save:"onSuccess"}},{xtype:"component",flex:0.7},{xtype:"button",margin:2,height:32,cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Smf",listeners:{scope:k,click:"onAddSmf"}}]},{region:"center",xtype:"smf-ruangan-list",reference:"smfruanganlist"}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(l){var m=this,n=m.getViewModel(),o=m.down("smf-ruangan-list");if(l){m.loadRecord(l);o.load({RUANGAN:l.get("ID")});n.set("hideForm",true)}}},0,["smf-ruangan-workspace"],["component","box","container","panel","form","com-form","smf-ruangan-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"smf-ruangan-workspace":true},["widget.smf-ruangan-workspace"],0,[master.smfruangan,"Workspace"],0));(Ext.cmd.derive("master.smfruangan.WorkspaceController",Ext.app.ViewController,{onAddSmf:function(s){var p=this,u=p.getView(),q=p.getViewModel(),t=p.getReferences(),o=q.get("record"),v=q.get("hideForm");q.set("hideForm",!v);t.formsmfruangan.createRecord({RUANGAN:o.get("ID"),STATUS:1});t.formsmfruangan.focus("SMF")},onSuccess:function(){var n=this,q=n.getView(),o=n.getViewModel(),p=n.getReferences(),m=o.get("record");p.smfruanganlist.reload();p.formsmfruangan.createRecord({RUANGAN:m.get("ID"),STATUS:1});o.set("hideForm",true)}},0,0,0,0,["controller.smf-ruangan-workspace"],0,[master.smfruangan,"WorkspaceController"],0));(Ext.cmd.derive("master.staff.Combo",master.pegawai.Combo,{viewModel:{stores:{store:{type:"staff-store"}}},valueField:"ID",loadStore:function(){var f=this.getViewModel().get("store");if(f){f.load()}}},0,["staff-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","pegawai-combo","staff-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"pegawai-combo":true,"staff-combo":true},["widget.staff-combo"],0,[master.staff,"Combo"],0));(Ext.cmd.derive("master.staff.Form",com.Form,{controller:"form-staff",viewModel:{stores:{store:{type:"staff-store",autoLoad:true}}},model:"data.model.StaffRuangan",border:false,items:[{layout:"border",layout:{type:"hbox",align:"stretch"},border:false,defaults:{margin:"2 2 3 1",flex:1},items:[{xtype:"combo",bodyPadding:2,name:"STAFF",bind:{store:"{store}"},displayField:"NAMA",valueField:"ID",queryMode:"local",flex:4,margin:"2 2 2 2",emptyText:"[ PILIH STAFF ]",allowBlank:false,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div style="height: 17px;"><strong>{NAMA}</strong></div>','<div style="font-size: 12px;">{NIP}</div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{NIP} - {NAMA}","</tpl>")},{xtype:"button",text:"ADD",margin:"2 2 2 2",listeners:{click:"onSimpan"}}]}]},0,["form-staff"],["component","box","container","panel","form","com-form","form-staff"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-staff":true},["widget.form-staff"],0,[master.staff,"Form"],0));(Ext.cmd.derive("master.staff.FormController",Ext.app.ViewController,{onSimpan:function(k){var l=this,m=l.getView();m.save(k)}},0,0,0,0,["controller.form-staff"],0,[master.staff,"FormController"],0));(Ext.cmd.derive("master.staff.List",com.Grid,{controller:"staff-list",viewModel:{stores:{store:{type:"staff-ruangan-store"}}},cls:"x-br-top",border:true,columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"ID ",dataIndex:"ID",flex:1},{text:"NIP",dataIndex:"ID",flex:2,renderer:"onStaffRender"},{text:"NAMA",dataIndex:"ID",flex:4,renderer:"onNamaStaffRender"},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}]},0,["staff-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","staff-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"staff-list":true},["widget.staff-list"],0,[master.staff,"List"],0));(Ext.cmd.derive("master.staff.ListController",Ext.app.ViewController,{onRemoveClick:function(m,l){var k=this;k.getStore("staffgridstore").removeAt(l)},onStaffRender:function(u,k,t,s,e,q){var v=t.get("REFERENSI");nip=v?(v.STAFF?v.STAFF.NIP:""):"";return nip},onNamaStaffRender:function(u,q,v,t,p,s){var k=v.get("REFERENSI");staff=k?(k.STAFF?k.STAFF.NAMA:""):"";return staff},onChange:function(t,g,e){var v=this,u=v.getViewModel(),s=u.get("staffruanganstore"),f=s.getAt(g);f.set("STATUS",e?1:0);f.scope=this;f.save({callback:function(l,k,m){if(m){Ext.toast({headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",html:"Status STAFF di"+(e==true?"Aktifkan":"Non Aktifkan"),align:"t"})}}})}},0,0,0,0,["controller.staff-list"],0,[master.staff,"ListController"],0));(Ext.cmd.derive("master.staff.Workspace",com.Form,{controller:"workspace-staff",viewModel:{data:{hideForm:true}},border:false,layout:"border",initComponent:function(){var f=this;f.items=[{region:"north",layout:{type:"hbox",align:"stretch"},border:false,items:[{xtype:"form-staff",reference:"formstaff",hidden:true,bind:{hidden:"{hideForm}"},flex:1,listeners:{scope:f.getController(),save:"onSuccess"}},{xtype:"component",flex:1},{xtype:"button",margin:2,height:32,cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Staff",listeners:{scope:f.getController(),click:"onAddStaff"}}]},{region:"center",xtype:"staff-list",border:false,reference:"stafflist"}];f.callParent(arguments);f.down("form-staff").setHidden(true)},load:function(m){var n=this,o=this.getViewModel(),l=n.down("staff-list");if(m){n.loadRecord(m);l.load({RUANGAN:m.get("ID")});o.set("hideForm",true)}}},0,["workspace-staff"],["component","box","container","panel","form","com-form","workspace-staff"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-staff":true},["widget.workspace-staff"],0,[master.staff,"Workspace"],0));(Ext.cmd.derive("master.staff.WorkspaceController",Ext.app.ViewController,{onAddStaff:function(u){var p=this,t=p.getView(),q=p.getViewModel(),s=p.getReferences(),o=q.get("record"),v=q.get("hideForm");q.set("hideForm",!v);s.formstaff.createRecord({RUANGAN:o.get("ID"),STATUS:1});s.formstaff.focus("STAFF")},onSuccess:function(){var n=this,q=n.getView(),o=n.getViewModel(),p=n.getReferences(),m=o.get("record");p.stafflist.reload();p.formstaff.createRecord({RUANGAN:m.get("ID"),STATUS:1});o.set("hideForm",true)}},0,0,0,0,["controller.workspace-staff"],0,[master.staff,"WorkspaceController"],0));(Ext.cmd.derive("master.staffruangan.Form",com.Form,{controller:"form-staffruangan",model:"data.model.StaffRuangan",border:false,layout:{type:"hbox",align:"stretch"},border:false,defaults:{margin:"2 2 2 2"},bodyPadding:0,items:[{xtype:"staff-combo",name:"STAFF",reference:"combostaff",flex:1,emptyText:"[ PILIH STAFF RUANGAN ]",allowBlank:false},{xtype:"button",text:"ADD",width:60,listeners:{click:"onSimpan"}}]},0,["form-staffruangan"],["component","box","container","panel","form","com-form","form-staffruangan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-staffruangan":true},["widget.form-staffruangan"],0,[master.staffruangan,"Form"],0));(Ext.cmd.derive("master.staffruangan.FormController",Ext.app.ViewController,{onSimpan:function(l){var k=this,m=k.getView();m.save(l)}},0,0,0,0,["controller.form-staffruangan"],0,[master.staffruangan,"FormController"],0));(Ext.cmd.derive("master.staffruangan.List",com.Grid,{controller:"staffruangan-list",viewModel:{stores:{store:{type:"staff-ruangan-store"}}},cls:"x-br-top",border:true,columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"ID ",dataIndex:"ID",flex:1},{text:"NIP",dataIndex:"ID",flex:2,renderer:"onNIPRender"},{text:"NAMA",dataIndex:"ID",flex:4,renderer:"onNamaRender"},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}]},0,["staffruangan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","staffruangan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"staffruangan-list":true},["widget.staffruangan-list"],0,[master.staffruangan,"List"],0));(Ext.cmd.derive("master.staffruangan.ListController",Ext.app.ViewController,{onChange:function(s,w,x){var p=this,v=p.getView(),q=p.getViewModel(),u=q.get("store"),t=u.getAt(w);if(t){t.set("STATUS",x?1:0);t.scope=p;t.save({callback:function(e,g,f){if(f){v.notifyMessage("Status di "+(x==true?"Aktifkan":"NonAktifkan"))}else{t.set("STATUS",x?0:1)}}})}},onNIPRender:function(m,p,n){var q=n.get("REFERENSI"),o=q?(q.STAFF?q.STAFF.NIP:""):"";return o},onNamaRender:function(m,o,n){var q=n.get("REFERENSI"),p=q?(q.STAFF?q.STAFF.NAMA:""):"";return p}},0,0,0,0,["controller.staffruangan-list"],0,[master.staffruangan,"ListController"],0));(Ext.cmd.derive("master.staffruangan.Workspace",com.Form,{controller:"workspace-staffruangan",viewModel:{data:{hideForm:true}},border:false,defaults:{border:false},layout:"border",initComponent:function(){var g=this,k=g.getController();g.items=[{region:"north",layout:{type:"hbox",align:"stretch"},items:[{xtype:"form-staffruangan",reference:"formstaffruangan",hidden:true,bind:{hidden:"{hideForm}"},flex:1,listeners:{scope:k,save:"onSuccess"}},{xtype:"component",flex:0.7},{xtype:"button",margin:2,height:32,cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Staff",listeners:{scope:k,click:"onAddStaffRuangan"}}]},{region:"center",xtype:"staffruangan-list",reference:"staffruanganlist"}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(l){var m=this,n=m.getViewModel(),o=m.down("staffruangan-list");if(l){m.loadRecord(l);o.load({RUANGAN:l.get("ID")});n.set("hideForm",true)}}},0,["workspace-staffruangan"],["component","box","container","panel","form","com-form","workspace-staffruangan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-staffruangan":true},["widget.workspace-staffruangan"],0,[master.staffruangan,"Workspace"],0));(Ext.cmd.derive("master.staffruangan.WorkspaceController",Ext.app.ViewController,{onAddStaffRuangan:function(s){var p=this,u=p.getView(),q=p.getViewModel(),t=p.getReferences(),o=q.get("record"),v=q.get("hideForm");q.set("hideForm",!v);t.formstaffruangan.createRecord({RUANGAN:o.get("ID"),STATUS:1});t.formstaffruangan.focus("STAFF")},onSuccess:function(){var n=this,q=n.getView(),o=n.getViewModel(),p=n.getReferences(),m=o.get("record");p.staffruanganlist.reload();p.formstaffruangan.createRecord({RUANGAN:m.get("ID"),STATUS:1})}},0,0,0,0,["controller.workspace-staffruangan"],0,[master.staffruangan,"WorkspaceController"],0));(Ext.cmd.derive("master.tarif.Workspace",com.Tab,{controller:"master-tarif-workspace",defaults:{textAlign:"left"},tabPosition:"right",tabRotation:0,cls:"x-br-right x-br-top",ui:"nav-tab",initComponent:function(){var f=this;f.items=[{title:"Tarif Administrasi",iconCls:"x-fa fa-money",xtype:"workspace-tarif-administrasi"},{title:"Tarif Ruang Rawat",iconCls:"x-fa fa-wheelchair",xtype:"workspace-tarifruangrawat"},{title:"Tarif O2",iconCls:"x-fa fa-heart",xtype:"workspace-tarifo2"},{title:"Tarif Farmasi Per-Kelas",iconCls:"x-fa fa-tags",xtype:"workspace-tarifkelasfarmasi"}];com.Tab.prototype.initComponent.apply(this,arguments)},load:function(){var f=this.getActiveTab();if(f){f.load({})}},listeners:{tabchange:"onTabChange"}},0,["master-tarif-workspace"],["component","box","container","panel","tabpanel","com-tab","master-tarif-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"master-tarif-workspace":true},["widget.master-tarif-workspace"],0,[master.tarif,"Workspace"],0));(Ext.cmd.derive("master.tarif.WorkspaceController",Ext.app.ViewController,{onTabChange:function(g,k){if(k.load){k.load({})}}},0,0,0,0,["controller.master-tarif-workspace"],0,[master.tarif,"WorkspaceController"],0));(Ext.cmd.derive("master.tarifadministrasi.Form",com.Form,{controller:"form-tarif-administrasi",viewModel:{stores:{administrasiStore:{type:"administrasi-store",queryParams:{STATUS:1},autoLoad:true}},data:{oldTarif:undefined,newTarif:false}},model:"data.model.TarifAdministrasi",initComponent:function(){var f=this;f.items=[{region:"north",layout:"hbox",defaults:{margin:"2.2.2.2",flex:1},items:[{xtype:"combobox",bind:{store:"{administrasiStore}"},displayField:"NAMA",valueField:"ID",name:"ADMINISTRASI",emptyText:"[ ADMINISTRASI ]"},{xtype:"referensi-combo",name:"JENIS_KUNJUNGAN",emptyText:"[ KUNJUNGAN ]"},{xtype:"checkbox",boxLabel:"Pasien Baru",boxLabelAlign:"before",name:"PASIEN_BARU"}]},{region:"center",layout:"hbox",defaults:{margin:"2.2.2.2",flex:1},items:[{xtype:"numberfield",hideTrigger:true,name:"TARIF",emptyText:"[ TARIF ]"},{xtype:"datetimefield",name:"TANGGAL_SK",format:"Y-m-d H:i:s",emptyText:"[ TANGGAL SK ]"},{xtype:"textfield",name:"NOMOR_SK",emptyText:"[ NOMOR SK ]"}]}];f.buttons=[{xtype:"button",iconCls:"x-fa fa-save",text:"Simpan",handler:"onSimpan"}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(m,q){var o=this,p=o.getViewModel(),n=o.down("referensi-combo");if(m){p.set("oldTarif",m)}p.set("newTarif",q);if(q){o.createRecord({STATUS:1,TANGGAL:Ext.util.Format.date(o.getSysdate(),"Y-m-d H:i:s")})}else{o.createRecord({STATUS:1,TANGGAL:Ext.util.Format.date(o.getSysdate(),"Y-m-d H:i:s"),ADMINISTRASI:m.get("ADMINISTRASI"),JENIS_KUNJUNGAN:m.get("JENIS_KUNJUNGAN"),PASIEN_BARU:m.get("PASIEN_BARU"),TARIF:m.get("TARIF"),TANGGAL_SK:m.get("TANGGAL_SK"),NOMOR_SK:m.get("NOMOR_SK")})}n.getStore().setQueryParams({STATUS:1,JENIS:15});n.load()},onBeforeGetRecord:function(l,k){var m=l.down("[name=PASIEN_BARU]").getValue();k.PASIEN_BARU=m?1:0}},0,["form-tarif-administrasi"],["component","box","container","panel","form","com-form","form-tarif-administrasi"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-tarif-administrasi":true},["widget.form-tarif-administrasi"],0,[master.tarifadministrasi,"Form"],0));(Ext.cmd.derive("master.tarifadministrasi.FormController",Ext.app.ViewController,{onSimpan:function(q){var o=this,t=o.getView(),p=o.getViewModel(),n=p.get("oldTarif"),s=p.get("newTarif");if(s){t.save(q)}else{Ext.Msg.show({title:"Perhatian",message:"Apakah anda ingin menganti tarif ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:q,fn:function(e){if(e==="yes"){n.set("STATUS",0);n.scope=o;n.save({callback:function(g,f,k){if(k){t.save(q)}else{t.notifyMessage("Tarif tidak dapat di ganti","danger-red")}}})}}})}},onBatal:function(l){var k=this,m=k.getView();m.fireEvent("cancel",true)}},0,0,0,0,["controller.form-tarif-administrasi"],0,[master.tarifadministrasi,"FormController"],0));(Ext.cmd.derive("master.tarifadministrasi.List",com.Grid,{controller:"list-tarif-administrasi",viewModel:{data:{listConfig:{viewOnly:false}},stores:{store:{type:"tarif-administrasi-store"}}},initComponent:function(){var f=this;if(!f.history){f.dockedItems=[{xtype:"toolbar",dock:"top",items:["->",{xtype:"button",iconCls:"x-fa fa-add",ui:"soft-green",text:"Tarif Baru",iconCls:"x-fa fa-plus-circle",handler:"onClickNewTarif",bind:{hidden:"{listConfig.viewOnly}"}}]}]}f.columns=[{dataIndex:"ADMINISTRASI",flex:0.75,text:"Administrasi",xtype:"templatecolumn",tpl:'<div style="white-space:normal !important;">{REFERENSI.ADMINISTRASI.NAMA}</div>'},{dataIndex:"JENIS_KUNJUNGAN",flex:1,text:"Jenis Kunjungan",xtype:"templatecolumn",tpl:'<div style="white-space:normal !important;">{REFERENSI.JENIS_KUNJUNGAN.DESKRIPSI}</div>'},{dataIndex:"PASIEN_BARU",width:100,align:"center",text:"Pasien Baru?",xtype:"templatecolumn",tpl:new Ext.XTemplate("{[this.getJenisPasien(values.PASIEN_BARU)]}",{getJenisPasien:function(e){return e===0?"Tidak":"Ya"}})},{dataIndex:"TARIF",flex:0.5,xtype:"numbercolumn",format:"0.00",align:"right",text:"Tarif (Rp)"},{dataIndex:"TANGGAL_SK",flex:0.5,xtype:"datecolumn",format:"H:i:s d-m-Y",text:"Tanggal SK"},{dataIndex:"NOMOR_SK",flex:1,text:"Nomor SK"},{xtype:"widgetcolumn",text:"act",hidden:f.history,bind:{hidden:"{listConfig.viewOnly}"},widget:{xtype:"fieldcontainer",defaultType:"button",layout:{type:"vbox",align:"stretch"},defaults:{padding:2,margin:"0 2 1 0"},items:[{text:"Ganti",handler:"onClickGanti",ui:"soft-red",iconCls:"x-fa fa-refresh"}]}}];com.Grid.prototype.initComponent.apply(this,arguments)},onBeforeLoad:function(m,n,o){var l=m.app.xpriv("191201",false);m.setListConfig({viewOnly:m.app.xpriv("191201",false)})}},0,["list-tarif-administrasi"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","list-tarif-administrasi"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"list-tarif-administrasi":true},["widget.list-tarif-administrasi"],0,[master.tarifadministrasi,"List"],0));(Ext.cmd.derive("master.tarifadministrasi.ListController",Ext.app.ViewController,{onClickGanti:function(m){var l=this,k=m.ownerCt.getWidgetRecord();l.showForm(m,k,false,"Ganti Tarif")},onClickEdit:function(q,n,s){var p=this,t=p.getView(),o=q.getStore().getAt(n);t.fireEvent("editTarif",o)},onClickNewTarif:function(l){var k=this,m=k.getView();k.showForm(l,{},true,"Tarif Baru")},privates:{showForm:function(q,n,s,o){var p=this,t=p.getView();t.openDialog("",true,"50%","25%",{title:o,showCloseButton:true,ui:(s)?"panel-green":"panel-red",iconCls:"x-fa fa-edit",xtype:"form-tarif-administrasi"},function(g,e){var f=e.down("form-tarif-administrasi");f.load(n,s);f.on("save",function(){e.close()});e.on("close",function(){t.reload()})},q)}}},0,0,0,0,["controller.list-tarif-administrasi"],0,[master.tarifadministrasi,"ListController"],0));(Ext.cmd.derive("master.tarifadministrasi.Workspace",com.Tab,{controller:"workspace-tarif-administrasi",title:"Tarif Administrasi",border:true,layout:"border",defaults:{border:true,margin:"1.1.1.1"},initComponent:function(){var f=this;f.items=[{title:"Tarif Administrasi",iconCls:"x-fa fa-list",history:false,xtype:"list-tarif-administrasi",flex:1},{title:"HISTORY",iconCls:"x-fa fa-history",history:true,xtype:"list-tarif-administrasi",flex:1}];com.Tab.prototype.initComponent.apply(this,arguments)},listeners:{tabchange:"onTabChange"},load:function(){var l=this,m=l.getViewModel(),n=l.getController(),o=l.getActiveTab();o.setLoading(true);n.onTabChange(l,o)}},0,["workspace-tarif-administrasi"],["component","box","container","panel","tabpanel","com-tab","workspace-tarif-administrasi"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"workspace-tarif-administrasi":true},["widget.workspace-tarif-administrasi"],0,[master.tarifadministrasi,"Workspace"],0));(Ext.cmd.derive("master.tarifadministrasi.WorkspaceController",Ext.app.ViewController,{onEditTarif:function(l){var m=this,n=m.getReferences(),o=m.getView();n.form.loadRecord(l)},onTabChange:function(g,k){if(!k.history){params={STATUS:1}}else{params={STATUS:0}}if(k.load){k.loadStore(params)}},onSave:function(){var g=this,k=g.getView();k.load()},onCancel:function(){var g=this,k=g.getView();k.load()}},0,0,0,0,["controller.workspace-tarif-administrasi"],0,[master.tarifadministrasi,"WorkspaceController"],0));(Ext.cmd.derive("master.tarifkelasfarmasi.List",com.Grid,{controller:"list-tarifkelasfarmasi",viewModel:{data:{tarifruangrawat:undefined,hideSimpan:true,allhide:true,allTarif:false,listConfig:{viewOnly:false}},stores:{store:{type:"tariffarmasiperkelas-store"},kelasstore:{type:"referensi-store",queryParams:{JENIS:19}}}},history:false,hideGantiTarif:false,cls:"x-br-top",dockedItems:[{xtype:"toolbar",dock:"top",bind:{hidden:"{listConfig.viewOnly}"},items:["->",{xtype:"checkbox",bind:{hidden:"{hideSimpan}"},boxLabel:"Samakan Data",reference:"smtarif",listeners:{change:"onSamakanTarif"}},{text:"Ganti Semua Tarif",xtype:"button",ui:"soft-red",bind:{hidden:"{allhide}"},reference:"all",listeners:{click:"onClickAll"}},{text:"SIMPAN",xtype:"button",ui:"soft-green",bind:{hidden:"{hideSimpan}"},reference:"simpan",listeners:{click:"onSimpan"}}]}],initComponent:function(){var k=this,g=k.getViewModel().get("store");k.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit"}});k.columns=[{text:"Kelas",dataIndex:"KELAS",flex:1,renderer:"onRenderKelas"},{text:"Farmasi ( Berdasarkan Persentase % )",dataIndex:"FARMASI",flex:1,editor:{xtype:"numberfield",allowBlank:false,listeners:{change:"onChange"}}},{xtype:"datecolumn",text:"Tanggal",format:"Y-m-d H:i:s",dataIndex:"TANGGAL",flex:1,editor:{xtype:"datefield",format:"Y-m-d H:i:s",listeners:{change:"onChange"}}},{text:"Action",xtype:"widgetcolumn",hidden:k.history,width:"10%",bind:{hidden:"{listConfig.viewOnly}"},onWidgetAttach:function(f,m,e){m.setHidden(!Ext.isNumeric(e.get("ID")))},widget:{xtype:"button",text:"Ganti Tarif",action:0,listeners:{click:"onClickGantiTarif"}}}];if(!k.history){k.plugins=[k.cellEditing];k.cellModel={selType:"cellmodel"}}g.on("load",function(e,q,f){if(k.getViewModel()){var p=k.getViewModel().get("kelasstore"),o=[];p.each(function(m){var l=g.findRecord("KELAS",m.get("ID"),0,false,true);if(!l){if(!k.history){o.push(Ext.create("data.model.TarifFarmasiPerKelas",{KELAS:m.get("ID"),STATUS:1}))}}});g.add(o);k.getViewModel().set("hideSimpan",o.length==0);k.getViewModel().set("allhide",o.length==0);if(o.length==0){if(!k.history){k.getViewModel().set("allhide",k.history)}else{k.getViewModel().set("hideSimpan",true);k.getViewModel().set("allhide",true)}}}});com.Grid.prototype.initComponent.apply(this,arguments)},loadData:function(){var n=this,l=n.app.xpriv("191201",false),o=n.getViewModel(),m=o.get("kelasstore");o.set("hideSimpan",l);o.set("allhide",l);o.set("allTarif",l);m.load({callback:function(g,f,e){if(e){n.load({STATUS:1})}}})},onBeforeLoad:function(m,n,o){var l=m.app.xpriv("191201",false);m.setListConfig({viewOnly:l})}},0,["list-tarifkelasfarmasi"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","list-tarifkelasfarmasi"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"list-tarifkelasfarmasi":true},["widget.list-tarifkelasfarmasi"],0,[master.tarifkelasfarmasi,"List"],0));(Ext.cmd.derive("master.tarifkelasfarmasi.ListController",Ext.app.ViewController,{recordSelected:undefined,onSamakanTarif:function(k,g){if(!g){this.getView().loadStore(this.getViewModel().get("store"))}},onRenderKelas:function(y,v,e,x,g,w){var k=this,z=k.getViewModel(),f=z.get("kelasstore");return this.getDeskripsi(f,e.get("KELAS"))},getDeskripsi:function(m,l){var k=m.findRecord("ID",l,0,false,true);if(k==null){return l}return k.get("DESKRIPSI")},onBeforeEdit:function(k,m){var l=m.record;this.recordSelected=l;if(Ext.isNumeric(l.get("ID"))&&l.get("ID")>0){m.cancel=true}if(m.colIdx==0||m.colIdx==10){m.cancel=true}if(!m.cancel){this.getViewModel().set("hideSimpan",false)}if(!m.cancel){this.getViewModel().set("allhide",true)}},onSimpan:function(f){var n=this,o=n.getViewModel();rec=o.get("dataTarif");allganti=o.get("farmasiperkelas");allTarif=o.get("allTarif");if(allTarif){total=allganti.totalCount;for(var m=0;m<total;m++){a=1;record=allganti.getAt(m);record.set("STATUS",0);record.scope=this;record.save({callback:function(e,k,g){total2=allganti.totalCount;b=total2;if(g){if(a==b){n.simpan(f)}}a++}})}}else{if(rec){rec.scope=this;rec.save({callback:function(e,k,g){if(g){n.simpan(f)}}})}else{n.simpan(f)}}},privates:{simpan:function(m){var k=this,l=k.getViewModel();store=l.get("store"),rec=store.getModifiedRecords(),c=0,dataarray=[];Ext.Array.each(rec,function(e){if(e.modified){dataarray.push(e)}});Ext.Array.each(dataarray,function(e){e.save({callback:function(f,o,g){if(dataarray.length-1==c){if(g){k.getView().notifyMessage("Data telah tersimpan")}store.removeAll();l.set("allTarif",false);store.load();k.getView().refresh()}c++}})})}},onChange:function(m,l){var k=this;refs=k.getReferences().smtarif.getValue();if(refs){if(k.recordSelected){k.getViewModel().get("store").each(function(f){var e=true;if(Ext.isNumeric(f.get("ID"))&&f.get("ID")>0){e=false}if(f.get("ID")==k.recordSelected.get("ID")){e=false}if(e){f.set(m.dataIndex,l)}})}}},onClickGantiTarif:function(o){var m=this,n=m.getViewModel(),l=o.getWidgetRecord();store=m.getViewModel().get("store");Ext.Msg.show({title:"Konfirmasis",message:"Apakah anda ingin mengganti tarif?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(e){if(e==="yes"){l.set("STATUS",0);n.set("dataTarif",l);var f=Ext.create("data.model.TarifFarmasiPerKelas",{KELAS:l.get("KELAS"),TANGGAL:"",FARMASI:0,STATUS:1});store.remove(l);store.insert(store.totalCount,f)}}})},onClickAll:function(n){var p=this,q=p.getViewModel(),o=p.getViewModel().get("store"),t=p.getViewModel().get("kelasstore"),s=[];Ext.Msg.show({title:"Konfirmasis",message:"Apakah anda ingin mengganti semua tarif?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(e){if(e==="yes"){q.set("allTarif",true);o.removeAll();t.each(function(f){s.push(Ext.create("data.model.TarifFarmasiPerKelas",{KELAS:f.get("ID"),TANGGAL:"",FARMASI:0,STATUS:1}))});o.insert(0,s)}}})}},0,0,0,0,["controller.list-tarifkelasfarmasi"],0,[master.tarifkelasfarmasi,"ListController"],0));(Ext.cmd.derive("master.tarifkelasfarmasi.ListHistory",com.Grid,{viewModel:{stores:{store:{type:"tariffarmasiperkelas-store"},kelasstore:{type:"referensi-store",queryParams:{JENIS:19}}}},cls:"x-br-top",initComponent:function(){this.columns=[{text:"Kelas",dataIndex:"KELAS",flex:1,renderer:function(y,v,e,x,g,w){var k=this,z=k.getViewModel(),f=z.get("kelasstore");return this.getDeskripsi(f,e.get("KELAS"))}},{text:"Farmasi ( Berdasarkan Persentase % )",dataIndex:"FARMASI",flex:1},{text:"Tanggal",xtype:"datecolumn",format:"Y-m-d H:i:s",dataIndex:"TANGGAL",flex:1}];com.Grid.prototype.initComponent.apply(this,arguments)},loadStore:function(){var f=this.getViewModel().get("store");vm=this.getViewModel().get("kelasstore");vm.load({callback:function(e,m,l){if(l){f.removeAll();f.queryParams={STATUS:0};f.load()}}})},getDeskripsi:function(m,l){var k=m.findRecord("ID",l,0,false,true);if(k==null){return l}return k.get("DESKRIPSI")}},0,["historyfarmasikelas-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","historyfarmasikelas-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"historyfarmasikelas-list":true},["widget.historyfarmasikelas-list"],0,[master.tarifkelasfarmasi,"ListHistory"],0));(Ext.cmd.derive("master.tarifkelasfarmasi.ViewModel",Ext.app.ViewModel,{},0,0,0,0,["viewmodel.tarifkelasfarmasimodel"],0,[master.tarifkelasfarmasi,"ViewModel"],0));(Ext.cmd.derive("master.tarifkelasfarmasi.Workspace",com.Form,{controller:"workspace-tarifkelasfarmasi",layout:"border",initComponent:function(){this.items=[{region:"center",title:"TARIF FARMASI PER-KELAS ",flex:1,xtype:"list-tarifkelasfarmasi",reference:"list",history:false,listeners:{refresh:"onTarifRefresh"}}];this.buttons=[{text:"HISTORY",ui:"soft-blue",iconCls:"x-fa fa-history",handler:"onClickHistory"}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(){var f=this.down("[reference=list]");f.loadData()}},0,["workspace-tarifkelasfarmasi"],["component","box","container","panel","form","com-form","workspace-tarifkelasfarmasi"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-tarifkelasfarmasi":true},["widget.workspace-tarifkelasfarmasi"],0,[master.tarifkelasfarmasi,"Workspace"],0));(Ext.cmd.derive("master.tarifkelasfarmasi.WorkspaceController",Ext.app.ViewController,{onClickHistory:function(f){var l=this,m=l.getView();m.openDialog("",true,0,0,{xtype:"historyfarmasikelas-list",showCloseButton:true,ui:"panel-blue",iconCls:"x-fa fa-history",title:"History Tarif"},function(k,e){var g=e.down("historyfarmasikelas-list");g.loadStore()},f)}},0,0,0,0,["controller.workspace-tarifkelasfarmasi"],0,[master.tarifkelasfarmasi,"WorkspaceController"],0));(Ext.cmd.derive("master.tarifo2.Form",com.Form,{controller:"form-tarifo2",layout:{type:"hbox",align:"stretch"},bodyPadding:4,border:true,defaults:{margin:"0 1 0 1"},viewModel:{data:{datarecord:undefined}},model:"data.model.TarifO2",initComponent:function(){this.items=[{xtype:"numberfield",name:"TARIF",emptyText:"[ Tarif ]",flex:1,allowBlank:false,hideTrigger:true,bind:{readOnly:"{formConfig.simpan}"}},{xtype:"datefield",name:"TANGGAL_SK",emptyText:"[ Tanggal SK ]",format:"Y-m-d H:i:s",allowBlank:false,flex:1,bind:{readOnly:"{formConfig.simpan}"}},{xtype:"textfield",name:"NOMOR_SK",emptyText:"[ Nomor SK ]",flex:1,bind:{readOnly:"{formConfig.simpan}"}},{text:"Ganti Tarif",xtype:"button",ui:"soft-black",bind:{hidden:"{!formConfig.simpan}"},handler:"onGantiTarif"},{text:"Simpan",xtype:"button",ui:"soft-green",iconCls:"x-fa fa-save",bind:{hidden:"{formConfig.simpan}"},handler:"onSimpan"},{text:"Reset",xtype:"button",ui:"soft-red",iconCls:"x-fa fa-times",bind:{hidden:"{formConfig.simpan}"},handler:"onReset"}];com.Form.prototype.initComponent.apply(this,arguments)}},0,["form-tarifo2"],["component","box","container","panel","form","com-form","form-tarifo2"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-tarifo2":true},["widget.form-tarifo2"],0,[master.tarifo2,"Form"],0));(Ext.cmd.derive("master.tarifo2.FormController",Ext.app.ViewController,{onReset:function(){var m=this,o=m.getView(),n=m.getViewModel().get("datarecord"),l=o.getRecord();if(n){obj={STATUS:1,TANGGAL:o.getSysdate()}}else{obj={STATUS:1,TANGGAL:o.getSysdate()}}o.getForm().reset();o.createRecord(obj)},onSimpan:function(m){var l=this,o=l.getView(),n=l.getViewModel().get("datarecord");if(n){n.set("STATUS",0);n.animateTarget=m;n.scope=l;n.showError=true;n.save({callback:function(g,f,e){if(e){o.save(m);l.getViewModel().set("datarecord",undefined)}}})}else{o.save(m)}},onGantiTarif:function(o){var m=this,p=m.getView(),n=m.getViewModel(),q=p.getRecord();Ext.Msg.show({title:"Konfirmasi",message:"Apakah anda ingin mengganti tarif?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(e){if(e=="yes"){n.set("datarecord",Ext.create("data.model.TarifO2",q.data));p.setFormConfig({viewOnly:!status,simpan:false});m.onReset()}}})}},0,0,0,0,["controller.form-tarifo2"],0,[master.tarifo2,"FormController"],0));(Ext.cmd.derive("master.tarifo2.List",com.Grid,{viewModel:{stores:{store:{type:"tarifo2-store"}}},columns:[{xtype:"rownumberer",text:"No",align:"left",width:100},{text:"TARIF",dataIndex:"TARIF",flex:1},{xtype:"datecolumn",format:"Y-m-d H:i:s",text:"TANGGAL SK",dataIndex:"TANGGAL_SK",flex:1},{text:"NOMOR SK",dataIndex:"NOMOR_SK",flex:3}]},0,["tarifo2-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","tarifo2-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"tarifo2-list":true},["widget.tarifo2-list"],0,[master.tarifo2,"List"],0));(Ext.cmd.derive("master.tarifo2.Workspace",com.Form,{controller:"workspace-tarifo2",layout:"border",viewModel:{stores:{tarif:{type:"tarifo2-store"}},data:{hideAddTarif:true}},defaults:{border:false},initComponent:function(){this.items=[{region:"north",title:"Form",iconCls:"x-fa fa-edit",xtype:"form-tarifo2",listeners:{save:"onSave"},bind:{hidden:"{hideAddTarif}"}},{region:"center",title:"History",iconCls:"x-fa fa-list",xtype:"tarifo2-list"}];com.Form.prototype.initComponent.apply(this,arguments)},load:function(o){var q=this,s=q.down("form-tarifo2"),p=q.down("tarifo2-list"),t=q.getViewModel(),u=t.get("tarif"),v=q.app.xpriv("191201",false);t.set("hideAddTarif",v);q.setFormConfig({viewOnly:v});u.queryParams={STATUS:1};u.load({callback:function(e,g,f){if(f){s.loadRecord(e[0]);s.setFormConfig({viewOnly:f,simpan:f})}else{s.createRecord({TANGGAL:q.getSysdate(),STATUS:1});s.setFormConfig({viewOnly:v,simpan:!v})}}});p.load({STATUS:0})}},0,["workspace-tarifo2"],["component","box","container","panel","form","com-form","workspace-tarifo2"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-tarifo2":true},["widget.workspace-tarifo2"],0,[master.tarifo2,"Workspace"],0));(Ext.cmd.derive("master.tarifo2.WorkspaceController",Ext.app.ViewController,{onSave:function(f){this.getView().load(f)}},0,0,0,0,["controller.workspace-tarifo2"],0,[master.tarifo2,"WorkspaceController"],0));(Ext.cmd.derive("master.tarifruangrawat.List",com.Grid,{controller:"tarifruangrawat-list",viewModel:{data:{tarifruangrawat:undefined,hideSimpan:true,allhide:true,listConfig:{viewOnly:false}},stores:{store:{type:"tarifruangrawat-store"},kelasstore:{type:"referensi-store",queryParams:{JENIS:19,STATUS:1}}}},history:false,cls:"x-br-top",autoScroll:true,dockedItems:[{xtype:"toolbar",dock:"top",items:["->",{xtype:"checkbox",bind:{hidden:"{hideSimpan}"},boxLabel:"Samakan Data",reference:"smtarif"},{text:"Ganti Semua Tarif",xtype:"button",reference:"tombolAll",bind:{hidden:"{allhide || listConfig.viewOnly}"},reference:"all",listeners:{click:"onClickAll"}},{text:"SIMPAN",xtype:"button",iconCls:"x-fa fa-save",hidden:true,bind:{hidden:"{hideSimpan}"},reference:"simpan",listeners:{click:"onSimpan"}}]}],initComponent:function(){var k=this,l=k.getViewModel(),m=l.get("store");k.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit"}});k.columns=[{text:"Kelas",dataIndex:"KELAS",flex:1,renderer:"onRenderKelas",editor:{xtype:"combo",bind:{store:"{kelasstore}"},displayField:"DESKRIPSI",valueField:"ID"}},{xtype:"numbercolumn",text:"Sarana",format:"0,000",dataIndex:"SARANA",align:"right",width:120,editor:{xtype:"numberfield",allowBlank:false,listeners:{change:"onChange"}}},{xtype:"numbercolumn",text:"Jasa Pelayanan",format:"0,000",dataIndex:"JASA_PELAYANAN",align:"right",width:130,editor:{xtype:"numberfield",allowBlank:false,listeners:{change:"onChange"}}},{xtype:"templatecolumn",text:"Tarif",align:"right",width:120,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 14px; white-space:normal !important;">{[this.getTotal(values)]} </div>',{getTotal:function(e){var f=Number(e.SARANA)+Number(e.JASA_PELAYANAN);return Ext.util.Format.number(f<0?0:f,"0,000")}})},{text:"Tanggal SK ",xtype:"datecolumn",format:"Y-m-d H:i:s",dataIndex:"TANGGAL_SK",editor:{xtype:"datefield",format:"d/m/Y",listeners:{change:"onChange"}},width:120},{text:"Nomor SK ",dataIndex:"NOMOR_SK",width:120,editor:{allowBlank:false,listeners:{change:"onChange"}}},{text:"Action",xtype:"widgetcolumn",width:"10%",hidden:k.history,bind:{hidden:"{listConfig.viewOnly}"},onWidgetAttach:function(f,g,e){g.setHidden(!Ext.isNumeric(e.get("ID")))},widget:{xtype:"button",text:"Ganti Tarif",action:0,listeners:{click:"onClickGantiTarif"}}}];if(!k.history){k.plugins=[k.cellEditing];k.selModel={selType:"cellmodel"}}com.Grid.prototype.initComponent.apply(this,arguments)},doAfterLoad:function(u,y,v,x){var z=u.getViewModel(),s=z.get("store"),q=u.app.xpriv("191201",false),t=z.get("kelasstore"),w=[];if(t){t.each(function(e){var f=s.findRecord("KELAS",e.get("ID"),0,false,true,true);if(!f){if(!u.history){w.push(Ext.create("data.model.TarifRuangRawat",{KELAS:e.get("ID")}))}}});s.add(w);z.set("hideSimpan",w.length==0||q);z.set("allhide",w.length==0||q);if(w.length==0){if(!u.history){z.set("allhide",u.history)}}}},loadStore:function(l){var m=this,n=this.getViewModel(),o=n.get("kelasstore");if(o){if(m.history){delete o.queryParams.STATUS}o.load({callback:function(g,f,e){if(e){m.load(l)}}})}},onBeforeLoad:function(m,n,o){var l=m.app.xpriv("191201",false);m.setListConfig({viewOnly:l})}},0,["tarifruangrawat-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","tarifruangrawat-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"tarifruangrawat-list":true},["widget.tarifruangrawat-list"],0,[master.tarifruangrawat,"List"],0));(Ext.cmd.derive("master.tarifruangrawat.ListController",Ext.app.ViewController,{recordSelected:undefined,onRenderKelas:function(z,k,x,t,v,w){var u=this,y=u.getViewModel(),s=y.get("kelasstore");return u.getDeskripsi(s,x.get("KELAS"))},getDeskripsi:function(l,k){var m=l.findRecord("ID",k,0,false,true);if(m==null){return k}return m.get("DESKRIPSI")},onBeforeEdit:function(o,q){var n=this,p=n.getViewModel(),m=q.record;n.recordSelected=m;if(Ext.isNumeric(m.get("ID"))&&m.get("ID")>0){q.cancel=true}if(q.colIdx==0||q.colIdx==10){q.cancel=true}if(!q.cancel){p.set("hideSimpan",false)}if(!q.cancel){p.set("allhide",true)}},onSimpan:function(s){var o=this,u=o.getView(),q=o.getViewModel(),t=q.get("store"),v=t.getModifiedRecords(),p=[];Ext.Array.each(v,function(e){if(e.modified){p.push(e)}});o.total=p.length-1;o.count=0;u.setLoading(true);Ext.Array.each(p,function(e){e.save({callback:function(f,k,g){if(g){if(o.count==o.total){u.notifyMessage("Data telah tersimpan");u.refresh()}}o.count++}})})},onChange:function(p,q){var n=this,o=n.getViewModel(),s=n.getReferences(),t=o.get("store");if(s.smtarif.getValue()){if(n.recordSelected){t.each(function(f){var e=true;if(Ext.isNumeric(f.get("ID"))&&f.get("ID")>0){e=false}if(f.get("ID")==n.recordSelected.get("ID")){e=false}if(e){f.set(p.dataIndex,q)}})}}},onClickGantiTarif:function(p){var n=this,q=n.getView(),o=n.getViewModel(),m=p.getWidgetRecord();Ext.Msg.show({title:"Konfirmasi",message:"Apakah anda ingin mengganti tarif?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:p,fn:function(e){if(e==="yes"){m.set("STATUS",0);m.scope=this;q.setLoading(true);m.save({callback:function(f,k,g){if(g){q.notifyMessage("Silahkan input Tarif Baru");q.refresh()}else{q.setLoading(false)}}})}}})},onClickAll:function(o){var m=this,q=m.getView(),n=m.getViewModel(),p=n.get("store");Ext.Msg.show({title:"Konfirmasis",message:"Apakah anda ingin mengganti semua tarif?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:o,fn:function(f){if(f==="yes"){m.total=p.totalCount-1;m.count=0;q.setLoading(true);for(var e=0;e<=m.total;e++){rec=p.getAt(e);rec.set("STATUS",0);rec.scope=this;rec.save({callback:function(g,l,k){if(k){if(m.count==m.total){q.notifyMessage("Silahkan input Tarif Baru");q.refresh()}}m.count++}})}}}})}},0,0,0,0,["controller.tarifruangrawat-list"],0,[master.tarifruangrawat,"ListController"],0));(Ext.cmd.derive("master.tarifruangrawat.Workspace",com.Form,{controller:"workspace-tarifruangrawat",layout:"fit",items:[{region:"center",title:"TARIF RUANG RAWAT ",xtype:"tarifruangrawat-list",flex:1,reference:"tarifruangrawatlist"}],buttons:[{text:"HISTORY",ui:"soft-blue",iconCls:"x-fa fa-history",handler:"onClickHistory"}],load:function(){var f=this.down("[reference=tarifruangrawatlist]");f.loadStore({STATUS:1})}},0,["workspace-tarifruangrawat"],["component","box","container","panel","form","com-form","workspace-tarifruangrawat"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-tarifruangrawat":true},["widget.workspace-tarifruangrawat"],0,[master.tarifruangrawat,"Workspace"],0));(Ext.cmd.derive("master.tarifruangrawat.WorkspaceController",Ext.app.ViewController,{onClickHistory:function(l){var k=this,m=k.getView();m.openDialog("",true,0,0,{title:"History Tarif Ruang Rawat",showCloseButton:true,ui:"panel-blue",iconCls:"x-fa fa-edit",xtype:"tarifruangrawat-list",history:true},function(g,e){var f=e.down("tarifruangrawat-list");f.loadStore({STATUS:0})},l)}},0,0,0,0,["controller.workspace-tarifruangrawat"],0,[master.tarifruangrawat,"WorkspaceController"],0));(Ext.cmd.derive("master.tenagamedis.Combo",master.pegawai.Combo,{viewModel:{stores:{store:{type:"tenaga-medis-store"}}},valueField:"ID"},0,["tenaga-medis-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","pegawai-combo","tenaga-medis-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"pegawai-combo":true,"tenaga-medis-combo":true},["widget.tenaga-medis-combo"],0,[master.tenagamedis,"Combo"],0));(Ext.cmd.derive("master.tindakan.Combo",com.Combo,{viewModel:{stores:{store:{type:"tindakan-store"}}},emptyText:"[Masukkan Nama Tindakan]",queryMode:"remote",params:{start:0,limit:3000},hideTrigger:true,queryParam:"QUERY",displayField:"NAMA",minChars:2,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">',"<div ><strong>{NAMA}</strong></div>",'<div style="font-size: 12px;">{ID}</div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{ID} - {NAMA}","</tpl>")},0,["tindakan-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","tindakan-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"tindakan-combo":true},["widget.tindakan-combo"],0,[master.tindakan,"Combo"],0));(Ext.cmd.derive("master.tindakan.Form",com.Form,{controller:"form-tindakan",layout:{type:"hbox",align:"stretch"},model:"data.model.Tindakan",header:false,border:true,defaults:{margin:"0 1 0 1"},initComponent:function(){this.items=[{xtype:"textfield",name:"NAMA",reference:"deksripsi",emptyText:"[Nama Tindakan]",flex:3},{xtype:"referensi-combo",params:{JENIS:74,STATUS:1},firstLoad:true,name:"JENIS",reference:"combojenis",flex:1,emptyText:"[ Jenis/Kategori/Kelompok Tindakan ]",allowBlank:false},{xtype:"button",text:"Simpan",ui:"soft-green",iconCls:"x-fa fa-save",handler:"onSimpan"},{text:"Batal",xtype:"button",ui:"soft-red",iconCls:"x-fa fa-times",handler:"onBatal"}];com.Form.prototype.initComponent.apply(this,arguments)}},0,["form-tindakan"],["component","box","container","panel","form","com-form","form-tindakan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-tindakan":true},["widget.form-tindakan"],0,[master.tindakan,"Form"],0));(Ext.cmd.derive("master.tindakan.FormController",Ext.app.ViewController,{onSimpan:function(l){var k=this,m=k.getView();m.save(l)},onBatal:function(k){var l=this,m=l.getView();m.fireEvent("batal")}},0,0,0,0,["controller.form-tindakan"],0,[master.tindakan,"FormController"],0));(Ext.cmd.derive("master.tindakan.List",com.Grid,{controller:"tindakan-list",viewModel:{stores:{store:{type:"tindakan-store"}}},cls:"x-br-top",border:true,showSearch:false,initComponent:function(){var f=this;if(f.showSearch){f.header={items:[{xtype:"search-field",cls:"x-text-border",iconCls:"iconSearch",autoFocus:true,emptyText:"Cari Tindakan",enableKeyEvents:true,flex:1,listeners:{search:"onSearch",clear:"onClear"}}]}}f.initColumns();f.callParent(arguments)},privates:{initColumns:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:40,hidden:f.hideHeaders},{text:" ID ",dataIndex:"ID",flex:1,hidden:f.hideHeaders},{text:"Nama Tindakan ",dataIndex:"NAMA",flex:4,hidden:f.hideHeaders},{xtype:"templatecolumn",text:"Kategori Tindakan ",dataIndex:"JENIS",flex:4,hidden:f.hideHeaders,tpl:'<div style="white-space:normal !important;">{REFERENSI.JENIS.DESKRIPSI}</div>'},{xtype:"checkcolumn",header:"Status",dataIndex:"STATUS",width:90,stopSelection:true,hidden:f.hideHeaders,listeners:{checkchange:"onChange"}},{text:"Action",width:98,xtype:"widgetcolumn",hidden:f.hideHeaders,widget:{xtype:"button",padding:3,ui:"soft-blue",text:"Input Tarif",listeners:{click:"onClickTarif"}}},{xtype:"templatecolumn",flex:1,hidden:!f.hideHeaders,tpl:'<div style="font-weight: bold; white-space:normal !important;">{ID} - {NAMA}</div>'},{xtype:"templatecolumn",align:"right",hidden:!f.hideHeaders,tpl:new Ext.XTemplate("<div>{[this.numberFormat(values.REFERENSI.TARIF.TARIF)]}</div>",{numberFormat:function(e){return Ext.util.Format.number(e,"0,000")}})}]}},loadStore:function(l){var k=this,m=k.getViewModel().get("store");if(m){m.removeAll();m.queryParams=m.queryParams||{};if(l){if(Ext.getClassName(l)=="data.model.Ruangan"){m.queryParams={RUANGAN:l.get("RUANGAN")}}else{m.queryParams=l}}m.load()}},clearSearch:function(){this.down("search-field").setValue("")},refresh:function(){var f=this.getViewModel().get("store");if(f){f.reload()}},removeDataStore:function(){this.getViewModel().get("store").removeAll()}},0,["tindakan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","tindakan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"tindakan-list":true},["widget.tindakan-list"],0,[master.tindakan,"List"],0));(Ext.cmd.derive("master.tindakan.ListController",Ext.app.ViewController,{onChange:function(g,z,w){var v=this,e=v.getView(),u=v.getViewModel(),f=u.get("store"),x=f.getAt(z),y=e.app.xpriv("190501",false);if(!y){x.set("STATUS",w?1:0);x.scope=this;x.save({callback:function(l,k,m){if(m){e.notifyMessage("Status Tindakan di"+(w==true?"Aktifkan":"NonAktifkan"))}else{x.set("STATUS",w?0:1)}}})}else{f.reload()}},onSearch:function(k,g){this.doSearch(g)},onClear:function(){this.doSearch("")},privates:{doSearch:function(g){var k=this.getStore("store");if(k){k.clearFilter(true);k.filterBy(function(f,m){var e=f.get("NAMA").toUpperCase().indexOf(g.toUpperCase());return e>=0})}}},onClickTarif:function(t){var v=this,q=v.getView(),e=t.getWidgetRecord(),u=v.getViewModel(),s=e.get("ID");var f="( "+s+" )  "+e.get("NAMA");q.openWindow({title:"Tarif Tindakan",iconCls:"x-fa fa-money",ui:"danger-blue",header:{margin:0,padding:"10 15 10 15"},closable:true,maximized:true,constrain:q,layout:"border",border:false,items:[{region:"north",bodyPadding:5,html:"<h2> "+f+" </h2><hr>"},{region:"center",bodyPadding:5,flex:1,xtype:"tarif-tab"}]},function(k,g){g.down("tarif-tab").load(e)})},onRenderTanggal:function(f){return Ext.Date.format(f,"d F Y")}},0,0,0,0,["controller.tindakan-list"],0,[master.tindakan,"ListController"],0));(Ext.cmd.derive("master.tindakan.ViewModel",Ext.app.ViewModel,{stores:{kelasstore:{type:"referensi-store",queryParams:{JENIS:19,STATUS:1},autoLoad:true}}},0,0,0,0,["viewmodel.tindakanmodel"],0,[master.tindakan,"ViewModel"],0));(Ext.cmd.derive("master.tindakan.Workspace",com.Form,{controller:"workspace-tindakan",viewModel:{data:{hideForm:true}},layout:"border",border:false,initComponent:function(){var f=this;f.items=[{region:"north",ui:"panel-gray",title:"Tindakan",iconCls:"x-fa fa-list",header:{items:[{xtype:"button",margin:2,height:32,cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Tindakan",listeners:{click:"onAddTindakan"}}]},layout:"fit",items:[{xtype:"form-tindakan",bind:{hidden:"{hideForm}"},reference:"formtindakan",listeners:{scope:f.getController(),batal:"onBatal",save:"onSuccess"}}]},{region:"center",xtype:"tindakan-list",border:false,reference:"tindakanlist",showSearch:true,listeners:{select:"onSelect"}}];f.callParent(arguments);f.down("form-tindakan").setHidden(true)},load:function(k){var m=this.down("tindakan-list");var l={};l={start:0,limit:9000};m.loadStore(l)}},0,["workspace-tindakan"],["component","box","container","panel","form","com-form","workspace-tindakan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-tindakan":true},["widget.workspace-tindakan"],0,[master.tindakan,"Workspace"],0));(Ext.cmd.derive("master.tindakan.WorkspaceController",Ext.app.ViewController,{onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onAddTindakan:function(f){this.confForm()},onBatal:function(f){this.confForm()},confForm:function(){var l=this,o=l.getView(),m=l.getViewModel(),n=l.getReferences();hide=m.get("hideForm");m.set("hideForm",!hide);o.getForm().reset();n.formtindakan.createRecord({STATUS:1})},onSelect:function(s,f,g){var e=this,t=e.getViewModel(),q=e.getReferences();t.set("hideForm",false);q.formtindakan.loadRecord(f)},onSuccess:function(){var g=this,k=g.getReferences();g.confForm();k.tindakanlist.reload()}},0,0,0,0,["controller.workspace-tindakan"],0,[master.tindakan,"WorkspaceController"],0));(Ext.cmd.derive("master.tindakan.tarif.List",com.Grid,{controller:"tarif-list",viewModel:{data:{tindakan:undefined,hideSimpan:true,allhide:true,disabledsimpan:true,listConfig:{viewOnly:false}},stores:{store:{type:"tariftindakan-store"},kelasstore:{type:"referensi-store",queryParams:{JENIS:19,STATUS:1}}}},history:false,hideGantiTarif:false,cls:"x-br-top",autoScroll:true,dockedItems:[{xtype:"toolbar",dock:"top",bind:{hidden:"{listConfig.viewOnly}"},items:["->",{xtype:"checkbox",bind:{hidden:"{hideSimpan}"},boxLabel:"Samakan Tarif",reference:"smtarif"},{text:"Ganti Semua Tarif",xtype:"button",ui:"soft-red",reference:"tombolAll",bind:{hidden:"{allhide}"},reference:"all",listeners:{click:"onClickAll"}},{text:"SIMPAN",xtype:"button",ui:"soft-green",hidden:true,bind:{hidden:"{hideSimpan}",disabled:"{disabledsimpan}"},reference:"simpan",listeners:{click:"onSimpan"}}]}],initComponent:function(){var k=this,l=k.getViewModel(),m=l.get("store");k.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit",afteredit:"onAfterEdit"}});k.columns=[{text:"Kelas",dataIndex:"KELAS",width:"10%",sortable:false,renderer:"onRenderKelas",editor:{xtype:"combo",bind:{store:"{kelasstore}"},displayField:"DESKRIPSI",valueField:"ID"}},{text:"Administrasi ",dataIndex:"ADMINISTRASI",width:"10%",sortable:false,editor:{xtype:"numberfield",allowBlank:false,listeners:{change:"onChange"}}},{text:"Sarana ",dataIndex:"SARANA",width:"10%",sortable:false,editor:{allowBlank:false,xtype:"numberfield",listeners:{change:"onChange"}}},{text:"B H P ",dataIndex:"BHP",width:"10%",sortable:false,editor:{xtype:"numberfield",allowBlank:false,listeners:{change:"onChange"}}},{text:"Dokter Operator ",dataIndex:"DOKTER_OPERATOR",width:"10%",sortable:false,editor:{xtype:"numberfield",allowBlank:false,listeners:{change:"onChange"}}},{text:"Dokter Anastesi ",dataIndex:"DOKTER_ANASTESI",width:"10%",sortable:false,editor:{xtype:"numberfield",allowBlank:false,listeners:{change:"onChange"}}},{text:"Dokter Lainnya ",dataIndex:"DOKTER_LAINNYA",width:"10%",sortable:false,editor:{xtype:"numberfield",allowBlank:false,listeners:{change:"onChange"}}},{text:"Penata Anastesi ",dataIndex:"PENATA_ANASTESI",width:"10%",sortable:false,editor:{xtype:"numberfield",allowBlank:false,listeners:{change:"onChange"}}},{text:"Paramedis ",dataIndex:"PARAMEDIS",width:"10%",sortable:false,editor:{xtype:"numberfield",allowBlank:false,listeners:{change:"onChange"}}},{text:"Non Medis ",dataIndex:"NON_MEDIS",width:"10%",sortable:false,editor:{xtype:"numberfield",allowBlank:false,listeners:{change:"onChange"}}},{text:"Total ",dataIndex:"TARIF",width:"10%",sortable:false},{text:"Tanggal SK ",dataIndex:"TANGGAL_SK",sortable:false,editor:{xtype:"datefield",format:"d/m/Y",listeners:{change:"onChange"}},width:"10%",renderer:"onRenderTanggal"},{text:"Nomor SK ",dataIndex:"NOMOR_SK",width:"10%",sortable:false,editor:{allowBlank:false,listeners:{change:"onChange"}}},{text:"Action",xtype:"widgetcolumn",reference:"gantitarif",width:"10%",hidden:k.hideGantiTarif,onWidgetAttach:function(f,g,e){g.setHidden(!Ext.isNumeric(e.get("ID")))},widget:{xtype:"button",text:"Ganti Tarif",action:0,hidden:true,listeners:{click:"onClickGantiTarif"}}}];if(!k.history){k.plugins=[k.cellEditing];k.selModel={selType:"cellmodel"}}com.Grid.prototype.initComponent.apply(this,arguments)},doAfterLoad:function(u,y,v,x){var z=u.getViewModel(),t=z.get("tindakan"),q=z.get("store"),s=z.get("kelasstore"),w=[];if(s){s.each(function(e){var f=q.findRecord("KELAS",e.get("ID"),0,false,true,true);if(!f){if(!u.history){w.push(Ext.create("data.model.TarifTindakan",{TINDAKAN:q.queryParams.TINDAKAN,KELAS:e.get("ID")}))}}});q.add(w);z.set("hideSimpan",w.length==0);z.set("allhide",w.length==0);if(w.length==0){if(!u.history){z.set("allhide",u.history)}}}},loadStore:function(m){var o=this,p=this.getViewModel(),n=o.app.xpriv("190501",false),q=p.get("kelasstore");p.set("hideSimpan",n);p.set("allhide",n);p.set("disabledsimpan",n);if(q){q.load({callback:function(f,e,g){if(g){o.load(m)}}})}},onBeforeLoad:function(m,n,o){var l=m.app.xpriv("190501",false);m.setListConfig({viewOnly:l})}},0,["tarif-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","tarif-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"tarif-list":true},["widget.tarif-list"],0,[master.tindakan.tarif,"List"],0));(Ext.cmd.derive("master.tindakan.tarif.ListController",Ext.app.ViewController,{solsimdisabled:true,recordSelected:undefined,onRenderTanggal:function(f){return Ext.Date.format(f,"d/m/Y")},onRenderKelas:function(z,k,x,t,v,w){var u=this,y=u.getViewModel(),s=y.get("kelasstore");return u.getDeskripsi(s,x.get("KELAS"))},getDeskripsi:function(l,k){var m=l.findRecord("ID",k,0,false,true);if(m==null){return k}return m.get("DESKRIPSI")},onAfterEdit:function(p,s){var o=this,t=o.getView(),q=o.getViewModel(),n=s.record;store=q.get("store"),recmodif=store.getModifiedRecords();o.count=0;Ext.Array.each(recmodif,function(e){if(e.modified){if(e.get("TANGGAL_SK")==null){o.count++}}});if(o.count>0){t.notifyMessage("Pengisian Distribusi harap melengkapi column tanggal SK");o.solsimdisabled=true}else{o.solsimdisabled=false}q.set("disabledsimpan",o.solsimdisabled)},onBeforeEdit:function(p,s){var o=this,q=o.getViewModel(),t=o.getView(),n=s.record;store=q.get("store"),recmodif=store.getModifiedRecords(),o.recordSelected=n;if(t.app.xpriv("190501",false)){s.cancel=true}if(Ext.isNumeric(n.get("ID"))&&n.get("ID")>0){s.cancel=true}if(s.colIdx==0||s.colIdx==10){s.cancel=true}if(!s.cancel){q.set("hideSimpan",false)}if(!s.cancel){q.set("allhide",true)}},onSimpan:function(s){var o=this,u=o.getView(),q=o.getViewModel(),t=q.get("store"),v=t.getModifiedRecords(),p=[];Ext.Array.each(v,function(e){if(e.modified){p.push(e)}});o.total=p.length-1;o.count=0;u.setLoading(true);Ext.Array.each(p,function(e){e.save({callback:function(f,k,g){if(g){if(o.count==o.total){u.notifyMessage("Data telah tersimpan");u.refresh()}}o.count++}})})},onChange:function(p,q){var n=this,o=n.getViewModel(),s=n.getReferences(),t=o.get("store");if(s.smtarif.getValue()){if(n.recordSelected){t.each(function(f){var e=true;if(Ext.isNumeric(f.get("ID"))&&f.get("ID")>0){e=false}if(f.get("ID")==n.recordSelected.get("ID")){e=false}if(e){f.set(p.dataIndex,q)}})}}},onClickGantiTarif:function(p){var n=this,q=n.getView(),o=n.getViewModel(),m=p.getWidgetRecord();Ext.Msg.show({title:"Konfirmasi",message:"Apakah anda ingin mengganti tarif?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:p,fn:function(e){if(e==="yes"){m.set("STATUS",0);m.scope=this;q.setLoading(true);m.save({callback:function(f,k,g){if(g){q.notifyMessage("Silahkan input Tarif Baru");q.refresh()}else{q.setLoading(false)}}})}}})},onClickAll:function(o){var m=this,q=m.getView(),n=m.getViewModel(),p=n.get("store");Ext.Msg.show({title:"Konfirmasis",message:"Apakah anda ingin mengganti semua tarif?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:o,fn:function(f){if(f==="yes"){m.total=p.totalCount-1;m.count=0;q.setLoading(true);for(var e=0;e<=m.total;e++){rec=p.getAt(e);rec.set("STATUS",0);rec.scope=this;rec.save({callback:function(g,l,k){if(k){if(m.count==m.total){q.notifyMessage("Silahkan input Tarif Baru");q.refresh()}}m.count++}})}}}})}},0,0,0,0,["controller.tarif-list"],0,[master.tindakan.tarif,"ListController"],0));(Ext.cmd.derive("master.tindakan.tarif.Tab",com.Tab,{controller:"tarif-tab",viewModel:{data:{tindakan:undefined}},defaults:{bodyPadding:5},initComponent:function(){this.items=[{title:"TARIF TINDAKAN ",xtype:"tarif-list",reference:"tariflist",history:false,listeners:{reload:"onReload"}},{title:"HISTORY",xtype:"tarif-list",reference:"historytarif",layout:"fit",history:true,hideGantiTarif:true}];com.Tab.prototype.initComponent.apply(this,arguments)},listeners:{tabchange:"onTabChange"},load:function(p){var m=this,n=m.getViewModel(),o=m.getController(),q=m.getActiveTab();if(p){n.set("tindakan",p)}q.setLoading(true);o.onTabChange(m,q)}},0,["tarif-tab"],["component","box","container","panel","tabpanel","com-tab","tarif-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"tarif-tab":true},["widget.tarif-tab"],0,[master.tindakan.tarif,"Tab"],0));(Ext.cmd.derive("master.tindakan.tarif.TabController",Ext.app.ViewController,{onTabChange:function(l,n){var o=this.getViewModel().get("tindakan"),m={TINDAKAN:o.get("ID")};if(!n.history){m.STATUS=1}else{m.STATUS=0}if(n.load){n.loadStore(m)}}},0,0,0,0,["controller.tarif-tab"],0,[master.tindakan.tarif,"TabController"],0));(Ext.cmd.derive("master.tindakanruangan.Form",Ext.form.Panel,{controller:"tindakan-ruangan-form",layout:{type:"hbox",align:"stretch"},border:false,items:[{xtype:"combo",bodyPadding:2,name:"TINDAKAN",bind:{store:"{tindakanstore}"},displayField:"NAMA",valueField:"ID",queryMode:"local",forceSelection:true,flex:4,multiSelect:true,width:"50%",reference:"combotindakan",margin:2,emptyText:"[ PILIH TINDAKAN ]",allowBlank:false,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div style="height: 17px;"><strong>{NAMA}</strong></div>','<div style="font-size: 12px;">{ID}</div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">{NAMA}<tpl if="xindex < xcount">, </tpl></tpl>')},{xtype:"button",text:"ADD",margin:2,listeners:{click:"onSimpan"}},{xtype:"button",text:"ALL",margin:2,listeners:{click:"onAllTindakan"}}]},0,["tindakan-ruangan-form"],["component","box","container","panel","form","tindakan-ruangan-form"],{component:true,box:true,container:true,panel:true,form:true,"tindakan-ruangan-form":true},["widget.tindakan-ruangan-form"],0,[master.tindakanruangan,"Form"],0));(Ext.cmd.derive("master.tindakanruangan.FormController",Ext.app.ViewController,{onSimpan:function(m){var n=this,o=n.getView(),e=o.getForm().getValues();model=o.getRecord();if(o.getForm().isValid()){model.set(e);model.showError=true;model.animateTarget=m;model.scope=n;model.save({callback:function(f,k,g){if(k.hasException()||!g){}if(g){Ext.toast({html:"Data telah disimpan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});o.fireEvent("success",f)}}})}},onAllTindakan:function(){var f=this,p=f.getView(),q=p.getRecord(),o=f.getReferences().combotindakan.getStore();for(var e=0;e<o.totalCount;e++){tindakan=o.getAt(e);q.set("TINDAKAN",tindakan.get("ID"));q.save({callback:function(g,l,k){if(l.hasException()||!k){}if(k){p.fireEvent("success",g)}}})}}},0,0,0,0,["controller.tindakan-ruangan-form"],0,[master.tindakanruangan,"FormController"],0));(Ext.cmd.derive("master.tindakanruangan.List",com.Grid,{controller:"tindakan-ruangan-list",flex:1,viewModel:{stores:{store:{type:"tindakan-ruangan-store"}}},cls:"x-br-top",border:true,header:{items:[{xtype:"search-field",cls:"x-text-border",iconCls:"iconSearch",autoFocus:true,emptyText:"Cari Tindakan",enableKeyEvents:true,flex:1,listeners:{search:"onSearch",clear:"onClear"}}]},columns:[{text:"ID ",dataIndex:"TINDAKAN",flex:1,hidden:false},{text:"TINDAKAN",dataIndex:"TINDAKAN",flex:4,renderer:"onTindakanRender"},{text:"Parameter",width:100,xtype:"widgetcolumn",widget:{xtype:"button",padding:2,text:"Parameter",listeners:{click:"onClickParameter"}}},{xtype:"checkcolumn",header:"#",dataIndex:"STATUS",width:50,listeners:{checkchange:"onChange"}}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom"}],loadHalPertama:function(m,q){var n=this,o=n.getViewModel(),p=o.get("store");if(m){if(q){p.queryParams={RUANGAN:m.get("ID"),start:0,page:1};p.load({callback:function(g,e,f){if(f){delete p.queryParams.start;delete p.queryParams.page}}})}}}},0,["tindakan-ruangan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","tindakan-ruangan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"tindakan-ruangan-list":true},["widget.tindakan-ruangan-list"],0,[master.tindakanruangan,"List"],0));(Ext.cmd.derive("master.tindakanruangan.ListController",Ext.app.ViewController,{onChange:function(u,g,x){var w=this,f=w.getView(),v=w.getViewModel(),t=v.get("store"),e=t.getAt(g);e.set("STATUS",x?1:0);e.scope=this;e.save({callback:function(l,k,m){if(m){f.notifyMessage("Status TINDAKAN di"+(x==true?"Aktifkan":"Non Aktifkan"));t.reload()}}})},onTindakanRender:function(z,v,f,x,g,w){var k=this,e=f.get("REFERENSI"),y=e?(e.TINDAKAN?e.TINDAKAN.NAMA:""):"";return y},onSearch:function(q,e){var p=this,o=p.getViewModel(),q=o.get("store"),n=q.getQueryParams();q.queryParams={QUERY:e,RUANGAN:n.RUANGAN,start:0,page:1};q.removeAll();q.load()},onClear:function(){var l=this,k=l.getViewModel(),m=k.get("store");delete m.queryParams.QUERY;delete m.queryParams.start;delete m.queryParams.page;m.removeAll();m.load()},onClickParameter:function(f){var m=this,o=m.getView(),n=f.getWidgetRecord();o.openDialog("",true,"70%","65%",{xtype:"workspace-parameterhasil",showCloseButton:true,ui:"panel-cyan",iconCls:"x-fa fa-medkit",title:n.get("TINDAKAN")+" - "+n.get("REFERENSI").TINDAKAN.NAMA},function(g,k){var e=k.down("workspace-parameterhasil");e.load(n)},f)}},0,0,0,0,["controller.tindakan-ruangan-list"],0,[master.tindakanruangan,"ListController"],0));(Ext.cmd.derive("master.tindakanruangan.Workspace",com.Form,{controller:"tindakan-ruangan-workspace",layout:"border",border:false,defaults:{border:false},initComponent:function(){var f=this;f.items=[{region:"west",title:"Daftar Tindakan",xtype:"tindakan-list",showSearch:true,collapsible:true,flex:0.7,reference:"tindakanlist",hideHeaders:true,split:true,multiSelect:true,viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrop:false},copy:true},listeners:{itemdblclick:"onItemDblClickTindakan"}},{region:"center",xtype:"tindakan-ruangan-list",reference:"tindakanruanganlist",viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrag:false},listeners:{scope:f.getController(),drop:"onDropTindakan"}}}];f.callParent(arguments)},load:function(m){var o=this,p=o.getViewModel(),q=o.down("tindakan-list"),n=o.down("tindakan-ruangan-list");if(m){q.loadStore({start:0,limit:9000,STATUS:1});o.loadRecord(m);n.loadHalPertama(m,true)}}},0,["tindakan-ruangan-workspace"],["component","box","container","panel","form","com-form","tindakan-ruangan-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"tindakan-ruangan-workspace":true},["widget.tindakan-ruangan-workspace"],0,[master.tindakanruangan,"Workspace"],0));(Ext.cmd.derive("master.tindakanruangan.WorkspaceController",Ext.app.ViewController,{onItemDblClickTindakan:function(q,n){var m=this,p=m.getViewModel(),o=p.get("record");n=Ext.create("data.model.TindakanRuangan",{RUANGAN:o.get("ID"),TINDAKAN:n.get("ID"),STATUS:1});m.simpanTindakanRuangan(n)},onDropTindakan:function(f,v,g,z){var e=this,y=e.getViewModel(),w=y.get("record"),B=Ext.Array.clone(v.records),x=w.get("ID"),A=0;v.records=[];Ext.Array.each(B,function(k){k=Ext.create("data.model.TindakanRuangan",{RUANGAN:x,TINDAKAN:k.get("ID"),STATUS:1});A++;e.simpanTindakanRuangan(k,false,function(l,m){v.records.push(k);if(A==B.length){e.loadTindakanRuangan()}})})},privates:{simpanTindakanRuangan:function(s,q,f){var t=this,p=t.getView(),q=q!=undefined?q:true,e=s.get("ID");s.showError=true;s.save({callback:function(l,n,m){if(m){var k=l.get("REFERENSI"),g=k?(k.TINDAKAN?k.TINDAKAN.NAMA:""):"";p.notifyMessage((!Ext.isNumeric(e)?"Tindakan <b>"+g+"</b>":"Data")+" telah tersimpan");if(q){t.loadTindakanRuangan()}}if(Ext.isFunction(f)){f(l,m)}}})},loadTindakanRuangan:function(){var l=this,m=l.getReferences(),k=m.tindakanruanganlist;k.reload()}}},0,0,0,0,["controller.tindakan-ruangan-workspace"],0,[master.tindakanruangan,"WorkspaceController"],0));(Ext.cmd.derive("master.wilayah.Combo",com.Combo,{viewModel:{stores:{store:{type:"wilayah-store"}}}},0,["master-wilayah-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","master-wilayah-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"master-wilayah-combo":true},["widget.master-wilayah-combo"],0,[master.wilayah,"Combo"],0));(Ext.cmd.derive("master.wilayah.Form",com.Form,{controller:"form-wilayah",model:"data.model.Wilayah",layout:{type:"vbox",align:"stretch"},bodyPadding:4,header:false,border:true,defaults:{margin:"0 1 0 1"},initComponent:function(){this.items=[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 1 0 1"},items:[{xtype:"textfield",maxLength:75,name:"DESKRIPSI",reference:"nama_wilayah",emptyText:"[ Nama Wilayah ]",width:"100%",bodyPadding:5}]}];this.buttons=[{text:"Simpan",xtype:"button",ui:"soft-green",iconCls:"x-fa fa-save",handler:"onSimpan"}];com.Form.prototype.initComponent.apply(this,arguments)}},0,["form-wilayah"],["component","box","container","panel","form","com-form","form-wilayah"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-wilayah":true},["widget.form-wilayah"],0,[master.wilayah,"Form"],0));(Ext.cmd.derive("master.wilayah.FormController",Ext.app.ViewController,{onSimpan:function(m){var k=this,l=k.getView();l.save(m,{success:"Data telah tersimpan",failed:"Gagal menyimpan data"},function(e,g,f){if(f){l.fireEvent("save",f)}})},onSelectedProp:function(g,e){var s=this,u=s.getViewModel().get("kabupatenstore"),t=s.getViewModel().get("wilayahstore"),f=e.get("ID"),v=e.get("JENIS")+1;if(e){u.queryParams.ID=f;t.queryParams.JENIS=v;t.queryParams.ID=f;u.load();t.load()}},onSelectedKab:function(g,e){var s=this,u=s.getViewModel().get("kecamatanstore"),t=s.getViewModel().get("wilayahstore"),f=e.get("ID"),v=e.get("JENIS")+1;if(e){u.queryParams.ID=f;t.queryParams.JENIS=v;t.queryParams.ID=f;u.load();t.load()}},onSelectedKec:function(g,e){var q=this,s=q.getViewModel().get("wilayahstore"),f=e.get("ID"),t=e.get("JENIS")+1;if(e){s.queryParams.ID=f;s.queryParams.JENIS=t;s.load()}}},0,0,0,0,["controller.form-wilayah"],0,[master.wilayah,"FormController"],0));(Ext.cmd.derive("master.wilayah.List",com.Grid,{controller:"wilayah-list",flex:1,bind:{store:"{wilayahstore}"},cls:"x-br-top",border:true,reference:"master-wilayah",columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"ID",dataIndex:"ID",flex:1},{text:"Nama Wilayah ",dataIndex:"DESKRIPSI",flex:4},{text:"Jenis",dataIndex:"JENIS",flex:1,renderer:"onRenderJenis"},{xtype:"widgetcolumn",text:"Act",widget:{xtype:"fieldcontainer",defaultType:"button",layout:{type:"vbox",align:"stretch"},defaults:{padding:2,margin:"0 2 1 0"},items:[{text:"Edit",ui:"soft-red",handler:"clickEdit"}]}},{xtype:"checkcolumn",header:"STATUS",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}]},0,["wilayah-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","wilayah-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"wilayah-list":true},["widget.wilayah-list"],0,[master.wilayah,"List"],0));(Ext.cmd.derive("master.wilayah.ListController",Ext.app.ViewController,{onChange:function(t,g,e){var v=this,u=v.getViewModel(),s=u.get("wilayahstore"),f=s.getAt(g);id=f.get("ID")+"-"+f.get("JENIS");f.setId(id);f.set("STATUS",e?1:0);f.scope=this;f.save({callback:function(l,k,m){if(m){v.getView().notifyMessage("Status Wilayah di"+(e==true?"Aktifkan":"NonAktifkan "))}}})},onRenderJenis:function(z,v,f,x,g,w){var k=this,e=k.getViewModel(),y=e.get("jeniswilayahstore");return this.getDeskripsi(y,f.get("JENIS"))},getDeskripsi:function(m,l){var k=m.findRecord("ID",l,0,false,true);if(k==null){return l}return k.get("DESKRIPSI")},clickEdit:function(n){var m=this,o=m.getView(),l=n.ownerCt.getWidgetRecord();id=l.get("ID")+"-"+l.get("JENIS");l.setId(id);show=o.openDialog("",true,"50%","25%",{xtype:"form-wilayah",showCloseButton:true,ui:"panel-cyan",title:"Form",tanpaNorm:true,listeners:{berhasil:function(e){show.close();o.getStore().reload()}}},function(f,g){var e=g.down("form-wilayah");e.load(l);e.on("save",function(){g.close();list.reload()})},n)}},0,0,0,0,["controller.wilayah-list"],0,[master.wilayah,"ListController"],0));(Ext.cmd.derive("master.wilayah.ViewModel",Ext.app.ViewModel,{stores:{wilayahstore:{type:"wilayah-store",queryParams:{JENIS:1}},jeniswilayahstore:{type:"jeniswilayah-store"}}},0,0,0,0,["viewmodel.wilayahmodel"],0,[master.wilayah,"ViewModel"],0));(Ext.cmd.derive("master.wilayah.Workspace",com.Form,{controller:"workspace-wilayah",viewModel:{type:"wilayahmodel",data:{kab:true,kec:true,kel:true,datwilayah:undefined}},layout:"border",initComponent:function(){var f=this;f.items=[{region:"center",xtype:"wilayah-list",border:false,title:"Wilayah",iconCls:"x-fa fa-list",ui:"panel-gray",reference:"wilayahlist",flex:1,header:{items:[{xtype:"button",margin:2,height:32,ui:"soft-green",cls:"x-fa fa-plus hide-icon-tools",tooltip:"Tambah Wilayah",listeners:{scope:f.getController(),click:"onAddWilayah"}},{text:"Provinsi",name:"prof",xtype:"button",listeners:{scope:f.getController(),click:"onClickProv"}},{text:"Kabupaten",xtype:"button",bind:{hidden:"{kab}"},listeners:{scope:f.getController(),click:"onClickKab"}},{text:"Kecamatan",xtype:"button",bind:{hidden:"{kec}"},listeners:{scope:f.getController(),click:"onClickKec"}}]},listeners:{itemdblclick:"onItemwilayah"}}];f.callParent(arguments)},load:function(){var g=this,k=g.getViewModel();k.get("wilayahstore").load();k.get("jeniswilayahstore").load()}},0,["workspace-wilayah"],["component","box","container","panel","form","com-form","workspace-wilayah"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-wilayah":true},["widget.workspace-wilayah"],0,[master.wilayah,"Workspace"],0));(Ext.cmd.derive("master.wilayah.WorkspaceController",Ext.app.ViewController,{onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onAddWilayah:function(q){var v=this,u=v.getView(),x=v.getViewModel(),s=v.getReferences(),w=s.wilayahlist,t=x.get("wilayahstore"),f=t.getQueryParams();if(f.JENIS==1){f={ID:0,JENIS:1}}show=u.openDialog("",true,"50%","25%",{xtype:"form-wilayah",showCloseButton:true,ui:"panel-cyan",title:"Form",listeners:{berhasil:function(){show.close();t.reload()}}},function(k,e){var g=e.down("form-wilayah");g.createRecord({STATUS:1,PARENT:f});g.on("save",function(){e.close();w.reload()})},q)},onItemwilayah:function(x,A,w,l,B,k){var f=this,z=f.getViewModel(),g=A.get("JENIS")+1,y=z.get("wilayahstore");if(A){if(g>4){f.getView().notifyMessage("data telah menunjukkan Wilayah kelurahan")}else{y.removeAll();if(g==2){z.set("kab",false)}if(g==3){z.set("kec",false)}if(g==4){z.set("kel",false)}y.queryParams.JENIS=g;y.queryParams.ID=A.get("ID");y.load()}}},onClickProv:function(n){var m=this,g=m.getViewModel(),o=g.get("wilayahstore");o.queryParams.JENIS=1;delete o.queryParams.ID;o.load();g.set("kab",true);g.set("kec",true);g.set("kel",true)},onClickKab:function(n){var m=this,g=m.getViewModel(),o=g.get("wilayahstore");par=o.getQueryParams().ID;kon=new String(par);pot=kon.substr(0,2);o.queryParams.JENIS=2;o.queryParams.ID=pot;o.load();g.set("kec",true);g.set("kel",true)},onClickKec:function(n){var m=this,g=m.getViewModel(),o=g.get("wilayahstore");par=o.getQueryParams().ID;kon=new String(par);pot=kon.substr(0,4);o.queryParams.JENIS=3;o.queryParams.ID=pot;o.load();g.set("kel",true)}},0,0,0,0,["controller.workspace-wilayah"],0,[master.wilayah,"WorkspaceController"],0));(Ext.cmd.derive("master.wilayah.tempatlahir.Combo",com.Combo,{viewModel:{stores:{store:{type:"tempat-lahir-store"}}}},0,["master-wilayah-tempatlahir-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","master-wilayah-tempatlahir-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"master-wilayah-tempatlahir-combo":true},["widget.master-wilayah-tempatlahir-combo"],0,[master.wilayah.tempatlahir,"Combo"],0));(Ext.cmd.derive("SIMpel.Application",Ext.app.Application,{name:"SIMpel",defaultToken:"welcome",login:false,xpriv:undefined,stores:[],launch:function(){var m=Ext.get("splashScreen"),o=Ext.get("splashScreenProgress"),l=Ext.get("splashScreenLoading"),n=Ext.get("splashScreenProgressInner");l.update("Membuat Tampilan...");n.setStyle("width","300px");(new Ext.util.DelayedTask(function(){Ext.destroy(m)})).delay(1000)},onAppUpdate:function(){Ext.Msg.confirm("Update Aplikasi","Anda ingin mengupdate aplikasi?",function(f){if(f==="yes"){window.location.reload()}})}},0,0,0,0,0,0,[SIMpel,"Application"],0));(Ext.cmd.derive("SIMpel.view.main.MainController",Ext.app.ViewController,{routes:{":node":{action:"onNodeNav",before:"onBeforeNodeNav"}},listen:{controller:{"*":{changeroute:"changeRoute",unmatchedroute:"onUnmatchedRoute"}}},login:true,task:undefined,activeItem:undefined,pkgs:{count:0,loadCount:0},init:function(){var o=this,l=Ext.util.LocalStorage.get("id"),m=["Generic Open Source",""],n=false;Ext.tip.QuickTipManager.init();window.autoload={status:false};Ext.Object.each(l._store,function(f,k,e){var g=Ext.JSON.decode(k);if(!n){if(g.name.indexOf("SIMpel")==0){window.version=g.version;window.appType=g.type;window.appTypeDescriptions=g.typeDescriptions;n=true}}});window.refreshPanelPencarian=true;Ext.getHead().dom.getElementsByTagName("title")[0].text="Sistem Informasi Manajemen Pelayanan Rumah Sakit "+m[window.appType]+" Versi "+window.version;o.task={interval:1000,run:function(){o.task.interval=60000;o.isAuthenticated()}};Ext.TaskManager.start(o.task)},onBeforeNodeNav:function(g,k){},onNodeNav:function(f){},changeRoute:function(k,g){this.redirectTo(g)},onUnmatchedRoute:function(f){if(f){this.onBadRoute()}},getExistingItem:function(g){var k=this.getView();return k.down("component[routeId="+g+"]")},getActiveItem:function(){var f=this.getView();return f.getLayout().getActiveItem()},setActiveItem:function(g){var k=this.getView();k.getLayout().setActiveItem(g)},isLogin:function(){return this.login},toWelcome:function(){var f=this.getExistingItem("welcome");this.activeItem=f;this.setActiveItem(f);this.changeRoute(this,"welcome");f.focus()},toMain:function(){var f=this.getExistingItem("main");f.load();this.activeItem=f;this.setActiveItem(f);this.changeRoute(this,"main")},onBadRoute:function(){var f=SIMpel.app.getApplication();this.changeRoute(this,f.getDefaultToken())},onLogout:function(){this.task.interval=1000;Ext.TaskManager.stop(this.task);this.executeAuthenticated({success:false})},onLogin:function(k){var g=this.getExistingItem("welcome");g.hideFormLogin();this.executeAuthenticated(k)},destroy:function(){Ext.app.ViewController.prototype.destroy.call(this);Ext.TaskManager.stop(this.task)},privates:{isAuthenticated:function(){var k=this,g=SIMpel.app.getApplication();Ext.Ajax.request({url:webservice.location+"authentication/isAuthenticate",useDefaultXhrHeader:false,withCredentials:true,success:function(e){var f=Ext.JSON.decode(e.responseText);k.executeAuthenticated(f)},failure:function(e){}})},executeAuthenticated:function(m){var l=this,k=SIMpel.app.getApplication();if(m.success){k.xpriv=m.data.XPRIV;l.initService(m,function(){if(l.pkgs.count==l.pkgs.loadCount){if(l.activeItem==undefined){l.toMain()}else{if(l.activeItem.routeId=="welcome"){l.toMain()}}if(l.activeItem.routeId=="main"){l.activeItem.refreshStatusTransaksiKasir()}l.login=true;k.login=true;window.autoload.status=true}})}else{if(l.activeItem==undefined){l.toWelcome()}else{if(l.activeItem.routeId=="main"){l.toWelcome()}}l.login=false;k.login=false;k.xpriv=undefined;window.autoload.status=false;window.refreshPanelPencarian=true}},initService:function(m,k){var l=this;webservice.app=webservice.app||{};if(webservice.app.pauseAutoRefresh==undefined){webservice.app.pauseAutoRefresh=false}webservice.app.usrid=m.data.ID;webservice.app.usrNm=m.data.NAME;webservice.app.usrLg=m.data.LGN;webservice.app.usrTp=m.data.JNS;webservice.app.penggunaRuangan=m.data.RUANGANS;webservice.app.privPencarian=m.data.XPRIVPENCARIAN;webservice.app.xuam=m.data.XUAM;webservice.app.ts=m.data.TIMESTAMP;webservice.app.pc=m.data.PC;webservice.app.usrNik=m.data.NIK;if(webservice.app.xpriv==undefined){webservice.app.xpriv=function(q,e){var s=m.data.XPRIV,t=Ext.Object.getValues(s),f=false;if(!e){return s.hasOwnProperty(q)}for(var g=0;g<t.length;g++){if(t[g].indexOf(q)==0){f=true;break}}return f}}webservice.app.trxksr=m.data.NO_TRX_KSR;webservice.app.sysdate=m.data.SYSDATE;if(webservice.app.xitr==undefined){webservice.app.xitr=function(f,o){var e=m.data.XITR,g=null;Ext.Array.each(e,function(n){Ext.Object.each(n,function(t,s){if(t==f&&s==o){g=n;return}});if(g){return}});return g}}if(webservice.app.requestPrint==undefined){webservice.app.location=window.location;webservice.app.requestPrint=function(g,p){var q=Ext.create("com.Form"),e=q.getPropertyConfig(26)=="TRUE";if(!e){if(g.REQUEST_FOR_PRINT){g.REQUEST_FOR_PRINT=false}}var f=Ext.create("data.model.RequestReport",g);f.save({callback:function(w,x,n){if(x.hasException()){var y=x.getError(),z=Ext.JSON.decode(y.response.responseText);Ext.MessageBox.show({title:"Kesalahan Request Print",msg:"<strong>"+y.status+" - "+y.statusText+"</strong><br/>"+z.detail,buttons:Ext.MessageBox.OK,scope:this,icon:"error"})}if(n){var z=Ext.JSON.decode(x.getResponse().responseText);if(g.REQUEST_FOR_PRINT){if(g.MULTI_PRINT){var o=window.open("printdoc:"+z.content);o.close()}else{window.open("printdoc:"+z.content,"_self")}}else{if(g.EXT!="pdf"&&g.EXT!="html"){window.open(z.url)}else{if(Ext.isFunction(p)){p(z.url)}else{window.open(z.url)}}}}delete f;delete q}})}}l.loadPackages(k)},loadPackages:function(l){var m=this,o=Ext.JSON.decode(Ext.util.Base64.decode(webservice.app.xuam)),n="packages/classic/";o.forEach(function(e,f){e=Ext.JSON.decode(Ext.util.Base64.decode(e));if(e.PACKAGE_NAME){m.pkgs.count++;Ext.Loader.loadScript({url:n+e.PACKAGE_NAME+".js",onLoad:function(){m.pkgs.loadCount++;l()}})}});if(m.pkgs.count==0){l()}}}},0,0,0,0,["controller.main"],0,[SIMpel.view.main,"MainController"],0));(Ext.cmd.derive("SIMpel.view.main.MainModel",Ext.app.ViewModel,{data:{name:"SIMpel"}},0,0,0,0,["viewmodel.main"],0,[SIMpel.view.main,"MainModel"],0));(Ext.cmd.derive("SIMpel.view.modules.Footer",Ext.toolbar.Toolbar,{controller:"main-footer",viewModel:{data:{version:"",info:{teks:""}},stores:{infoStore:{type:"info-teks-store",queryParams:{JENIS:2,PUBLISH:1,STATUS:1}}}},height:35,createdYear:2015,initComponent:function(){var k=this,g=Ext.util.Format.date(new Date(),"Y");k.items=[{xtype:"component",style:"cursor: pointer;",id:"teamsimpel",bind:{html:"<div style='padding-bottom: 3px;'><strong>Copyright</strong> <span class='fa fa-copyright'></span>&nbsp;"+k.createdYear+(k.createdYear==g?"":" - "+g)+" @ <span class='simpel-simpel' style='color: rgb(18,96,96); font-size: 17px;'></span> {appName} Ver. {version}</div>"},listeners:{click:{element:"el",fn:"onTeamsClick"}}},"-",{xtype:"component",reference:"notifikasiresep",bind:{html:"<span style='color:{warna}'><b>Jumlah Resep Yang Belum Terlayani <strong>( {resep} )</strong></b></span>"}},{xtype:"component",flex:1,bind:{html:'<marquee style="padding-top: 1px; font-weight: bold; font-size: 17px; font-family: Alliance; line-height: 21px">{info.teks}</marquee>'}},"-",{xtype:"label",text:Ext.util.Format.date(new Date(),"d/m/Y H:i:s"),reference:"infoTanggal"}];Ext.toolbar.Toolbar.prototype.initComponent.apply(this,arguments)},listeners:{afterrender:"onAfterRender"},autoRefresh:function(){var n=this,l=SIMpel.app.getApplication(),m=n.getViewModel().get("store"),o=n.down("[reference=notifikasiresep]");if(n.task==undefined){n.task={interval:20000,run:function(){if(m&&l.login){m.removeAll();m.queryParams={STATUS:1,limit:1};m.load({callback:function(k,f,g){if(g){var e=f._resultSet.total}else{var e=0}if(n.getViewModel().get("resep")<e){n.onWindow(e," Resep Masuk","left","t")}else{n.onWindow(e," Resep Yang Belum Terlayani","left","b")}if(e>0){n.getViewModel().set("resep",e);n.getViewModel().set("warna","blue")}else{n.getViewModel().set("resep",0);n.getViewModel().set("warna","red")}}})}else{Ext.TaskManager.stop(n.task)}}}}Ext.TaskManager.start(n.task)},onWindow:function(m,n,o,l){if(m==0){return}Ext.toast({html:"Ada "+m+" "+n,headerPosition:o,style:"padding: 10px 10px 10px 10px",border:false,header:{width:13},ui:"danger-blue",align:l})}},0,["main-footer"],["component","box","container","toolbar","main-footer"],{component:true,box:true,container:true,toolbar:true,"main-footer":true},["widget.main-footer"],0,[SIMpel.view.modules,"Footer"],0));(Ext.cmd.derive("SIMpel.view.modules.FooterController",Ext.app.ViewController,{onAfterRender:function(){var l=this,m=l.getViewModel();m.set("version",window.version);m.set("appName",window.appTypeDescriptions[window.appType]);var k=Ext.create("Ext.tip.ToolTip",{target:"teamsimpel",html:'Klik utk melihat Team <span class="simpel-simpel"></span>&nbsp;SIMpel'});l.reloadInfoTeks();if(l.task==undefined){l.task={interval:1000,run:function(){var e=webservice.app?webservice.app:false;if(e){e.sysdate=Ext.isDate(e.sysdate)?Ext.Date.add(e.sysdate,Ext.Date.SECOND,1):Ext.Date.parse(e.sysdate,"Y-m-d H:i:s");l.getReferences().infoTanggal.setText(Ext.util.Format.date(e.sysdate,"d/m/Y H:i:s"))}if(window.isModifiedInfoTeks!=undefined){if(window.isModifiedInfoTeks){window.isModifiedInfoTeks=false;l.reloadInfoTeks()}}}}}if(l.taskInfo==undefined){l.taskInfo={interval:15000,run:function(){if(window.autoload.status){l.reloadInfoTeks()}}}}Ext.TaskManager.start(l.task);Ext.TaskManager.start(l.taskInfo)},reloadInfoTeks:function(){var k=this,l=k.getViewModel(),m=l.get("infoStore");m.load({callback:function(f,g,o){var e=[];Ext.Array.each(f,function(n){var t=n.get("WARNA")?"#"+n.get("WARNA"):"",s=n.get("TEKS");e.push("<span style='color: "+t+";'>"+s+"</span>")});l.set("info.teks",e.join(" # "))}})},onTeamsClick:function(){var f=Ext.create("aplikasi.teams.Form",{ui:"panel-cyan",title:"Team SIMpelDevelopment",showCloseButton:true});f.openDialog("",true,0,0,f)}},0,0,0,0,["controller.main-footer"],0,[SIMpel.view.modules,"FooterController"],0));(Ext.cmd.derive("SIMpel.view.modules.Header",Ext.container.Container,{cls:"main-header",layout:{type:"vbox",align:"stretch"},controller:"header",viewModel:{data:{headerConfig:{openKasir:false,closeKasir:false,privPencarian:undefined},instansi:undefined},stores:{store:{type:"instansi-store"}}},height:48,items:[{xtype:"component",height:2,cls:"bgheaderTop"},{xtype:"toolbar",padding:0,height:46,defaults:{height:44,width:50,margin:"0 0 0 0"},border:true,cls:"shadow-panel",items:[{xtype:"image",src:"classic/resources/images/simrsgos2.png",id:"simpelicon",padding:"0 5 0 5",width:124,height:17,listeners:{click:{element:"el",fn:"onSIMpelClick"}}},{iconCls:"x-fa fa-navicon",cls:"x-btn-nav",handler:"onIconMenuClick"},{xtype:"container",cls:"x-bold-text x-br-right",width:400,padding:"7 0 0 0",layout:{type:"hbox",pack:"center"},items:[{xtype:"image",bind:{src:"classic/resources/images/{instansi}.png"},width:30,height:30,alt:"no-image",margin:"0 5 0 0"},{xtype:"component",style:"padding-top: 8px;",cls:"x-bold-text",bind:{data:{items:"{store.data.items}"}},tpl:new Ext.XTemplate('<tpl for="items">',"{data.REFERENSI.PPK.NAMA}","</tpl>")}]},{xtype:"panel-pencarian",reference:"panelpencarian",flex:2},{iconCls:"fas fa-folder-open",cls:"x-btn-white",handler:"onOpenKasir",tooltip:"Buka Transaksi Kasir",hidden:true,bind:{hidden:"{!headerConfig.openKasir}"}},{iconCls:"fas fa-folder",cls:"x-btn-white",handler:"onCloseKasir",tooltip:"Tutup Transaksi Kasir",hidden:true,bind:{hidden:"{!headerConfig.closeKasir}"}},{iconCls:"fas fa-sign-out-alt",cls:"x-btn-white",handler:"onLogout",tooltip:"Logout"}]}],listeners:{afterrender:"onAfterRender"},setHeaderConfig:function(s){var n=this,o=n.getViewModel(),p=n.down("panel-pencarian"),t=n.ownerCt,q=t.down("workspace");p.wsCtrl=q.getController();if(window.refreshPanelPencarian){p.load(s.privPencarian)}_config=o.get("headerConfig");s=Ext.apply(_config,s);o.set("headerConfig",s);o.notify()}},0,["main-header"],["component","box","container","main-header"],{component:true,box:true,container:true,"main-header":true},["widget.main-header"],0,[SIMpel.view.modules,"Header"],0));(Ext.cmd.derive("SIMpel.view.modules.HeaderController",Ext.app.ViewController,{onAfterRender:function(){var n=this,p=n.getViewModel(),q=p.get("store"),o=Ext.getStore("instansi");if(o){p.set("store",o);new Ext.util.DelayedTask(function(){var e=o.getAt(0);if(e){p.set("instansi",e.get("PPK"))}}).delay(4000)}else{q.doAfterLoad=function(e,g,k,f){if(f&&Ext.isArray(g)){if(g.length>0){p.set("instansi",g[0].get("PPK"))}}};q.load()}var m=Ext.create("Ext.tip.ToolTip",{target:"simpelicon",html:"Klik utk Reload aplikasi"})},onIconMenuClick:function(){this.getView().fireEvent("menubarheaderclick")},onOpenKasir:function(f){this.transaksiKasir(f,{JENIS:1})},onCloseKasir:function(k){var g=webservice.app?(webservice.app.trxksr?webservice.app.trxksr:false):false;if(g){this.transaksiKasir(k,{NOMOR:g,JENIS:2})}},onLogout:function(){var f=this;Ext.Ajax.request({url:webservice.location+"authentication/logout",success:function(k){var e=webservice.app.ppk;webservice.app=undefined;webservice.app={};webservice.app.ppk=e;f.getView().fireEvent("logout")}})},onSIMpelClick:function(){window.location.reload(true)},privates:{transaksiKasir:function(m,p){var n=this,o=n.getViewModel(),q=Ext.create("data.model.TransaksiKasir",p);if(p.JENIS==1){o.set("headerConfig.openKasir",p.JENIS!=1)}else{o.set("headerConfig.closeKasir",p.JENIS!=2)}q.animateTarget=m;q.scope=this;q.showError=true;q.save({callback:function(g,f,e){if(e){Ext.toast({html:"Anda telah "+(p.JENIS==1?"Membuka Transaksi Kasir":"Menutup Transaksi Kasir"),headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});if(p.JENIS==1){webservice.app.trxksr=Number(p.NOMOR);o.set("headerConfig.openKasir",false);o.set("headerConfig.closeKasir",true)}else{o.set("headerConfig.openKasir",true);o.set("headerConfig.closeKasir",false)}}}})}}},0,0,0,0,["controller.header"],0,[SIMpel.view.modules,"HeaderController"],0));(Ext.cmd.derive("SIMpel.view.modules.Main",Ext.container.Container,{controller:"main-module",cls:"main-modules",layout:{type:"vbox",align:"stretch"},items:[{xtype:"main-header",listeners:{menubarheaderclick:"onMenuBarHeaderClick",logout:"onLogout"}},{xtype:"container",flex:1,reference:"mainContent",layout:{type:"hbox",align:"stretch",animate:true,animatePolicy:{x:true,width:true}},items:[{xtype:"sidenav",reference:"sideNav"},{xtype:"workspace",reference:"mainworkspace",flex:1}]},{xtype:"main-footer",cls:"x-br-top"}],load:function(){var k=this,m=webservice.app.xpriv("12",true),l=webservice.app.trxksr?true:false;k.down("main-header").setHeaderConfig({openKasir:m&&!l,closeKasir:m&&l,privPencarian:webservice.app.privPencarian});k.down("sidenav").load();k.down("workspace").load();k.down("main-footer").autoRefresh()},refreshStatusTransaksiKasir:function(){var k=this,m=webservice.app.xpriv("12",true),l=webservice.app.trxksr?true:false;k.down("main-header").setHeaderConfig({openKasir:m&&!l,closeKasir:m&&l,privPencarian:webservice.app.privPencarian})}},0,["main-modules"],["component","box","container","main-modules"],{component:true,box:true,container:true,"main-modules":true},["widget.main-modules"],0,[SIMpel.view.modules,"Main"],0));(Ext.cmd.derive("SIMpel.view.modules.MainController",Ext.app.ViewController,{routes:{":node/:module":{action:"onNodeNav",before:"onBeforeNodeNav"}},onBeforeNodeNav:function(n,q,o){var t=this.getView().ownerCt.getController(),s=t.isLogin(),p=t.getExistingItem(n);if(s){if(!p||n=="welcome"){t.onBadRoute()}else{o.resume()}}else{t.toWelcome()}},onNodeNav:function(m,o){var p=this.getView().ownerCt.getController(),n=p.getActiveItem(),q=this.getView();workspace=q.down("workspace"),tbActive=workspace.getActiveTab(),lsMain=localStorage.getItem(m),modules={modules:[]},tab=workspace.down("component[routeId="+o+"]"),route=this.getRoutes(m,o);if(!tab){tab=tbActive}if(n.routeId!=m){p.setActiveItem(p.getExistingItem(m))}if(tab){workspace.setActiveTab(tab)}},getRoutes:function(){return Ext.Array.toArray(arguments).join("/")},onMenuBarHeaderClick:function(){var o=this.getReferences(),l=o.sideNav,m=o.mainContent,n=l.width==250?0:250;Ext.suspendLayouts();l.setStyle("position","absolute");l.setWidth(n);Ext.resumeLayouts();m.layout.animatePolicy=m.layout.animate=null;m.updateLayout()},onLogout:function(){var k=this.getReferences(),g=k.mainworkspace;while(g.items.getCount()>1){g.remove(g.items.getAt(1))}g.items.getAt(0).unload();this.getView().fireEvent("logout")},onNavSelectionChange:function(t,p){var q=this,v=q.getView(),s=v.down("workspace").getController(),w=webservice.app.requestPrint;if(p){if(!p.get("isOpenWindow")){var u=p.get("options")||{};s.createWorkspace(null,p.get("iconCls")==""?"fas fa-home":p.get("iconCls"),true,p.get("className"),p.get("idClassName"),p.get("text"),u,{requestreport:function(e,f,l){var k=Ext.create("com.Form"),g=f.NAME.split(".");rptName=g[g.length-1];if(rptName.indexOf("-")==-1){rptName=k.kode+rptName;g[g.length-1]=rptName;f.NAME=g.join(".")}if(w){k.cetak(f,function(m){if(l){window.open(m)}else{k.printPreview(e,m)}})}},onTabPasien:function(e,n,k,B,f,m,g,o,l){var A=this;s.createWorkspace(e,n,k,B,f,m)}},function(e){if(e.loadStore){e.loadStore(null)}else{if(e.load){e.load(null)}}})}else{var x=Ext.create("com.Window",{constrain:v});x.setWindowConfig(p.get("options"));x.show()}t.setSelection(null);q.onMenuBarHeaderClick()}},openDialog:function(p,q,u,v,t,w){var x=(u==0&&v==0)?true:false,s=Ext.create("Ext.Window",{modal:q,closable:true,maximizable:true,maximized:x,resizable:false,constrain:this.getView(),header:{height:20,cls:"bgheaderTop"},layout:"fit",minWidth:900,minHeight:400,border:false,width:u,height:v,items:[t]});s.on("show",function(){if(Ext.isFunction(w)){w("onshow",s)}});s.show()}},0,0,0,0,["controller.main-module"],0,[SIMpel.view.modules,"MainController"],0));(Ext.cmd.derive("SIMpel.view.modules.Nav",Ext.container.Container,{viewModel:{stores:{store:{type:"tree"}}},layout:{type:"vbox",align:"stretch"},width:0,cls:"x-nav-border",items:[{xtype:"aplikasi-pengguna-info-panel",cls:"x-color-w",height:200},{xtype:"container",scrollable:"y",cls:"x-color-w",flex:1,items:[{xtype:"treelist",ui:"navigation",expanderFirst:false,expanderOnly:false,bind:{store:"{store}"},listeners:{selectionchange:"onNavSelectionChange"}}]}],load:function(){var q=this,p=[],n=webservice.app.xpriv,s=Ext.create("com.Form"),t=Ext.JSON.decode(Ext.util.Base64.decode(webservice.app.xuam)),o=q.down("aplikasi-pengguna-info-panel");if(o){o.load()}t.forEach(function(e,f){e=Ext.JSON.decode(Ext.util.Base64.decode(e));if(e.MENU_HOME==1){p.push({text:e.DESKRIPSI,leaf:true,iconCls:e.ICON_CLS,className:e.CLASS,idClassName:s.replaceAll(e.CLASS.toLowerCase(),".","_")})}});p.push({text:"Tentang Aplikasi",leaf:true,iconCls:"fas fa-info",isOpenWindow:true,options:{icon:"fas fa-info",title:"Tentang Aplikasi",menus:[{iconCls:"fas fa-file-alt",text:"Catatan Release",leaf:true,active:true,className:"aplikasi.tentang.changelog.Form",idClassName:"aplikasi-tentang-changelog-form"},{iconCls:"fas fa-book",text:"Kontak",leaf:true,className:"aplikasi.tentang.kontak.Form",idClassName:"aplikasi-tentang-kontak-form"},{iconCls:"fas fa-info",text:"Informasi",leaf:true,className:"aplikasi.tentang.informasi.Form",idClassName:"aplikasi-tentang-informasi-form"}]}});q.getViewModel().set("store",Ext.create("Ext.data.TreeStore",{root:{expanded:true,children:p}}))}},0,["sidenav"],["component","box","container","sidenav"],{component:true,box:true,container:true,sidenav:true},["widget.sidenav"],0,[SIMpel.view.modules,"Nav"],0));(Ext.cmd.derive("SIMpel.view.modules.Pencarian",Ext.container.Container,{controller:"panel-pencarian",viewModel:{data:{enabledCombo:false}},layout:{type:"hbox",align:"stretch"},wsCtrl:undefined,items:[{xtype:"combobox",name:"JENISPENCARIAN",border:true,allowBlank:false,enterFocus:true,enforceMaxLength:true,forceSelection:true,validateOnBlur:true,displayField:"NAMA",bind:{hidden:"{!enableCombo}"},valueField:"ID",queryMode:"local",editable:false,store:{model:"data.model.PenggunaAksesPencarian"},listeners:{select:"onSelectJenisPencarian"}},{xtype:"container",flex:1,layout:"card"}],load:function(m){var o=this,p=o.getViewModel(),n=o.down("combobox"),q=o.down("container");q.suspendLayouts();q.removeAll(true);q.resumeLayouts();p.set("enableCombo",m.length>1);n.getStore().removeAll();n.getStore().loadData(m);if(Ext.isArray(m)){Ext.Array.each(m,function(f,e){var g=Ext.create(f.CLASS,{flex:1,listeners:{opentab:"onOpenTab"}});q.add(g);g.load({});f.INDEX=e})}n.select(Ext.create("data.model.PenggunaAksesPencarian",m[0]));window.refreshPanelPencarian=false}},0,["panel-pencarian"],["component","box","container","panel-pencarian"],{component:true,box:true,container:true,"panel-pencarian":true},["widget.panel-pencarian"],0,[SIMpel.view.modules,"Pencarian"],0));(Ext.cmd.derive("SIMpel.view.modules.PencarianController",Ext.app.ViewController,{onOpenTab:function(B,w,t,A,C,v,D,y,u){var z=this,x=z.getView();x.wsCtrl.createWorkspace(B,w,t,A,C,v)},onSelectJenisPencarian:function(o,m){var n=this,p=n.getView(),q=p.down("container");q.getLayout().setActiveItem(m.get("INDEX"))}},0,0,0,0,["controller.panel-pencarian"],0,[SIMpel.view.modules,"PencarianController"],0));(Ext.cmd.derive("SIMpel.view.modules.Workspace",Ext.tab.Panel,{controller:"workspace",cls:"workspace",items:[{iconCls:"fas fa-home",routeId:"1",xtype:"home-dashboard"}],plugins:{ptype:"tabclosemenu",closeAllTabsText:"Tutup semua tab",closeOthersTabsText:"Tutup semua tab kecuali tab ini",closeTabText:"Tutup tab ini"},load:function(){this.down("home-dashboard").load()},unload:function(){this.down("home-dashboard").unload()}},0,["workspace"],["component","box","container","panel","tabpanel","workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,workspace:true},["widget.workspace"],0,[SIMpel.view.modules,"Workspace"],0));(Ext.cmd.derive("SIMpel.view.modules.WorkspaceController",Ext.app.ViewController,{location:undefined,init:function(){this.location=window.location},createWorkspace:function(B,u,v,t,C,y,D,z,w){var A=this,x={itemId:C,viewModel:{data:{record:B}},title:y,closable:v,iconCls:u,listeners:z};_option=Ext.apply(x,D);A.createTab(B,t,x,w)},createTab:function(x,p,u,w){var q=this,v=q.getView(),s,t=v.getComponent(u.itemId);if(t!=null){v.setActiveTab(t);return}s=Ext.create(p,u);Ext.suspendLayouts();v.add(s);v.setActiveTab(s);if(Ext.isFunction(w)){w(s)}Ext.resumeLayouts()},toFormatNorm:function(l){var m=Ext.String.leftPad(l,8,"0"),k=Ext.String.insert(Ext.String.insert(Ext.String.insert(m,".",2),".",5),".",8);return k},showResult:function(k,g){this.showToast(Ext.String.format("You clicked the {0} button",k))}},0,0,0,0,["controller.workspace"],0,[SIMpel.view.modules,"WorkspaceController"],0));(Ext.cmd.derive("SIMpel.view.modules.home.Dashboard",Ext.container.Container,{controller:"home-dashboard",layout:"responsivecolumn",scrollable:"y",items:[],createWidgets:function(){var m=this,l=webservice.app.xpriv;m.suspendLayouts();if(l("110101",false)||l("11080101",false)){m.add({xtype:"pendaftaran-widget-pengunjung",border:true,responsiveCls:"big-33 small-100",height:350})}if(l("110104",false)||l("11080104",false)){m.add({xtype:"laboratorium-widget-orders",border:true,responsiveCls:"big-33 small-100",height:350})}if(l("110105",false)||l("11080105",false)){m.add({xtype:"radiologi-widget-orders",border:true,responsiveCls:"big-33 small-100",height:350})}if(l("110106",false)||l("11080106",false)){m.add({xtype:"resep-widget-orders",border:true,responsiveCls:"big-33 small-100",height:350})}if(l("110102",false)||l("11080102",false)){m.add({xtype:"pendaftaran-widget-konsul",border:true,responsiveCls:"big-33 small-100",height:350})}if(l("110103",false)||l("11080103",false)){m.add({xtype:"pendaftaran-widget-mutasi",border:true,responsiveCls:"big-33 small-100",height:350})}if(l("110101",false)||l("11080101",false)||l("110104",false)||l("11080104",false)||l("110105",false)||l("11080105",false)||l("110106",false)||l("11080106",false)){var k=Ext.create("kunjungan.List",{title:"Kunjungan Pasien",iconCls:"x-fa fa-list",hideHeaders:true,viewConfig:{loadMask:false},border:true,responsiveCls:"big-33 small-100",ui:"panel-purple",height:350});k.setListConfig({paging:true,hiddenPencarian:true,pencarian:{norm:{enabled:true}},gridMode:false,filter:{status:{enabled:true}}});m.add(k)}if(l("1214",false)){m.add({xtype:"pembayaran-penjualan-Workspace",border:true,responsiveCls:"big-33 small-100",height:350})}if(l("25010306",false)){m.add({xtype:"plugins-bpjs-sep-pengajuan-grid",viewConfig:{loadMask:false},border:true,responsiveCls:"big-33 small-100",height:350})}m.resumeLayouts()},load:function(){this.getController().load()},unload:function(){this.getController().unload()},listeners:{activate:"onActivate",deactivate:"onDeactivate"}},0,["home-dashboard"],["component","box","container","home-dashboard"],{component:true,box:true,container:true,"home-dashboard":true},["widget.home-dashboard"],0,[SIMpel.view.modules.home,"Dashboard"],0));(Ext.cmd.derive("SIMpel.view.modules.home.DashboardController",Ext.app.ViewController,{task:undefined,firstLoadStore:true,load:function(){var n=this,o=n.getView(),m=SIMpel.app.getApplication(),l=webservice.app;o.createWidgets();if(n.task==undefined){n.task={run:function(){if(m.login&&!l.pauseAutoRefresh){n.task.interval=15000;if(n.firstLoadStore){o.items.each(function(g,f,e){try{g.loadStore({STATUS:1})}catch(k){}});n.firstLoadStore=false}else{o.items.each(function(e){try{e.refresh()}catch(f){}})}}},interval:500}}Ext.TaskManager.start(n.task)},unload:function(){Ext.TaskManager.stop(this.task);this.getView().removeAll();this.firstLoadStore=true},onTerima:function(m){var n=this,q=n.getView(),o=q.ownerCt.getController(),p=m.get("REFERENSI").PENDAFTARAN?m.get("REFERENSI").PENDAFTARAN:m.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN;data.model.Pasien.load(p.REFERENSI.PASIEN.NORM,{success:function(g,f){var e="x-fa fa-"+(g.get("JENIS_KELAMIN")==1?"male":"female");o.createWorkspace(g,e,true,"pasien.Workspace","psn-"+g.getId(),o.toFormatNorm(g.getId()))},failure:function(e,f){}})},onActivate:function(){this.task.interval=500;Ext.TaskManager.start(this.task)},onDeactivate:function(){Ext.TaskManager.stop(this.task)},destroy:function(){var f=this;Ext.TaskManager.stop(f.task);Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.home-dashboard"],0,[SIMpel.view.modules.home,"DashboardController"],0));(Ext.cmd.derive("SIMpel.view.welcome.Container",Ext.container.Container,{viewModel:{data:{showFormLogin:false,instansi:undefined,version:"",appName:"SIMRSGOS",opensource:""},stores:{store:{type:"aplikasi-instansi-store",storeId:"instansi",autoLoad:true}}},layout:{type:"vbox",align:"stretch"},cls:"welcome",defaultFocus:"login",initComponent:function(){var k=this,l=k.getViewModel(),m=l.get("store");m.doAfterLoad=function(g,e,o,f){if(o){if(Ext.isArray(e)){if(e.length>0){k.getViewModel().set("instansi",e[0].get("PPK"));webservice.app=webservice.app||{};webservice.app.ppk=webservice.app.ppk||e[0].data}}}else{k.handleException(f)}l.set("version",window.version);l.set("appName",window.appTypeDescriptions[window.appType]);l.set("opensource",window.appType==0?"Generic Open Source":"")};Ext.container.Container.prototype.initComponent.call(this)},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",layout:"hbox",padding:5,items:[{xtype:"image",bind:{src:"classic/resources/images/SIMpel.png"},alt:"no-image",height:32,width:32},{xtype:"component",html:"<div style='font-size: 17px; font-weight: bold; margin-top: 11px; font-family: Alliance'>SIMpel</div>"}]},{xtype:"component",flex:1},{xtype:"container",layout:"hbox",padding:5,items:[{xtype:"image",bind:{src:"classic/resources/images/germas.png"},alt:"no-image",height:32,width:32,margin:"0 2 0 0"},{xtype:"component",html:"<div style='font-size: 17px; font-weight: bold; margin-bottom: 2px;'>GERMAS</div><div style='font-size: 8px; line-height: 0px'>Gerakan Masyarakat</div><div style='font-size: 8px;'>Hidup Sehat</div>"}]},{xtype:"container",layout:"hbox",padding:5,items:[{xtype:"image",bind:{src:"classic/resources/images/kemkes.png"},alt:"no-image",height:32,width:32,margin:"0 2 0 0"},{xtype:"component",html:"<div style='font-size: 17px; font-weight: bold; margin-bottom: 2px;'>K E M K E S</div><div style='font-size: 8px; line-height: 0px'>Kementerian Kesehatan</div><div style='font-size: 8px;'>Republik Indonesia</div>"}]}]},{xtype:"container",flex:1,layout:{type:"vbox",align:"middle",pack:"center"},reference:"containerauth",items:[{xtype:"container",width:700,height:350,style:"background: rgba(39,75,104,0.5); border-radius: 30px; position: absolute",items:[{xtype:"container",style:"padding: 40px 30px; color: white; font-weight: normal; font-family: Alliance;",width:350,items:[{xtype:"image",bind:{src:"classic/resources/images/{instansi}.png"},alt:"no-image",height:150},{xtype:"component",bind:{data:{items:"{store.data.items}"}},tpl:new Ext.XTemplate("<tpl for='items'>","<div>","<h1 style='line-height: 21px;'>{data.REFERENSI.PPK.NAMA}</h1>","<div><span class='fas fa-street-view'></span>&nbsp;{data.REFERENSI.PPK.ALAMAT}</div>","<div><span class='fas fa-phone'></span>&nbsp;{data.REFERENSI.PPK.TELEPON} / <span class='fas fa-fax'></span>&nbsp; {data.REFERENSI.PPK.FAX}</div>","<div><span class='fas fa-envelope'></span>&nbsp;{data.EMAIL}</div>","<div><span class='fas fa-globe'></span>&nbsp;{data.WEBSITE}</div>","</div>","</tpl>")}]},{xtype:"aplikasi-login-form",hidden:true,width:350,height:380,style:"Background: white; position: absolute; box-shadow: -20px 0 15px rgba(0,0,0,.2); left: 350px; box-sizing: border-box; border-radius: 15px; top: -15px",bind:{hidden:"{!showFormLogin}"},listeners:{login:"onLogin"}}]}]},{xtype:"component",margin:"0 0 3 0",bind:{html:"<div style='text-align: center; color: #485d3f; font-weight: normal; font-family: Alliance;'><div style='font-size: 14px; font-weight: bold;'>Selamat Datang di {appName} {version}</div><span>Sistem Informasi Manajemen Rumah Sakit {opensource}</span><span>&nbsp; Versi {version}</span></div>"}}],focus:function(){var g=this.down("[reference=containerauth]"),k=this.down("aplikasi-login-form");if(navigator.vendor.indexOf("Google")<0){g.removeAll();g.add({bodyStyle:"background: transparent",html:"<div style='text-align: center; color: white; text-shadow: rgb(150, 150, 150) 0px 0px 4px; font-weight: normal; font-family: Alliance;'><div style='font-weight: bold; font-size: 25px; color: #ef0f07; padding-bottom: 10px; white-space:normal !important;'>Web Browser ini tidak di support untuk penggunaan "+window.appTypeDescriptions[window.appType]+"</div><div style='font-size: 17px'>Silahkan menggunakan Web Browser Chrome.</div><div style='font-size: 17px'>Terima Kasih</div></div>"})}else{this.getViewModel().set("showFormLogin",true);k.reset();k.focus()}},hideFormLogin:function(){this.getViewModel().set("showFormLogin",false)},handleException:function(t){var w=this;if(t.hasException()){try{var s=t.getError(),x=s?s.response.responseText:t.getResponse().responseText,u=Ext.JSON.decode(x),e=u.detail?(Ext.isObject(u.detail)?Ext.JSON.encode(u.detail):u.detail):"Koneksi Gagal";if(!s){s={status:u.status,statusText:""}}if(e!="Koneksi Gagal"){q=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:s.status+" - "+s.statusText});q.show({msg:e,buttons:Ext.MessageBox.OK,animateTarget:w.animateTarget,scope:w.scope,icon:Ext.Msg.ERROR})}}catch(v){var q=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:"Error"});q.show({msg:"Koneksi Gagal",buttons:Ext.MessageBox.OK,animateTarget:w.animateTarget,scope:w.scope,icon:Ext.Msg.ERROR})}}}},0,["welcome"],["component","box","container","welcome"],{component:true,box:true,container:true,welcome:true},["widget.welcome"],0,[SIMpel.view.welcome,"Container"],0));(Ext.cmd.derive("SIMpel.view.main.Main",Ext.container.Container,{controller:"main",viewModel:"main",layout:"card",activeItem:0,items:[{xtype:"welcome",routeId:"welcome"},{xtype:"main-modules",routeId:"main",listeners:{logout:"onLogout"}}]},0,["app-main"],["component","box","container","app-main"],{component:true,box:true,container:true,"app-main":true},["widget.app-main"],0,[SIMpel.view.main,"Main"],0));Ext.application({name:"SIMpel",extend:SIMpel.Application,mainView:"SIMpel.view.main.Main"});(Ext.cmd.derive("pegawai.absensi.mesin.Model",data.model.Model,{serviceName:"pegawai/absensi/mesin",fields:[{name:"ID",type:"int"},{name:"NAMA_MESIN",type:"string"},{name:"IP",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.absensi.mesin,"Model"],0));(Ext.cmd.derive("pegawai.absensi.mesin.Store",data.store.Store,{model:"pegawai.absensi.mesin.Model"},0,0,0,0,["store.pegawai-absensi-mesin-store"],0,[pegawai.absensi.mesin,"Store"],0));(Ext.cmd.derive("pegawai.absensi.penarikan.Model",data.model.Model,{serviceName:"pegawai/absensi/penarikan",fields:[{name:"ID",type:"int"},{name:"NAMA_MESIN",type:"string"},{name:"IP",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.absensi.penarikan,"Model"],0));(Ext.cmd.derive("pegawai.absensi.penarikan.Store",data.store.Store,{model:"pegawai.absensi.penarikan.Model"},0,0,0,0,["store.pegawai-absensi-penarikan-store"],0,[pegawai.absensi.penarikan,"Store"],0));(Ext.cmd.derive("pegawai.absensi.presensi.Model",data.model.Model,{serviceName:"pegawai/absensi/presensi",fields:[{name:"ID",type:"int"},{name:"KODE_MESIN",type:"string"},{name:"KODE_ABSEN",type:"string"},{name:"IO_MODE",type:"string"},{name:"WAKTU_PRESENSI",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.absensi.presensi,"Model"],0));(Ext.cmd.derive("pegawai.absensi.presensi.Store",data.store.Store,{model:"pegawai.absensi.presensi.Model"},0,0,0,0,["store.pegawai-absensi-presensi-store"],0,[pegawai.absensi.presensi,"Store"],0));(Ext.cmd.derive("pegawai.absensi.waktupenarikan.Model",data.model.Model,{serviceName:"pegawai/absensi/waktupenarikan",fields:[{name:"ID",type:"int"},{name:"MESIN",type:"string"},{name:"WAKTU",type:"date",dateFormat:"H:i:s"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.absensi.waktupenarikan,"Model"],0));(Ext.cmd.derive("pegawai.absensi.waktupenarikan.Store",data.store.Store,{model:"pegawai.absensi.waktupenarikan.Model"},0,0,0,0,["store.pegawai-absensi-waktupenarikan-store"],0,[pegawai.absensi.waktupenarikan,"Store"],0));(Ext.cmd.derive("pegawai.dasarjadwal.Model",data.model.Model,{serviceName:"pegawai/dasarjadwal",fields:[{name:"ID",type:"int"},{name:"NIP",type:"string"},{name:"SCHEDULE",type:"int"},{name:"TANGGAL_BERLAKU",dateFormat:"Y-m-d",type:"date"},{name:"TANGGAL",dateFormat:"Y-m-d",type:"date"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.dasarjadwal,"Model"],0));(Ext.cmd.derive("pegawai.dasarjadwal.Store",data.store.Store,{model:"pegawai.dasarjadwal.Model"},0,0,0,0,["store.pegawai-dasarjadwal-store"],0,[pegawai.dasarjadwal,"Store"],0));(Ext.cmd.derive("pegawai.jadwaldinas.Model",data.model.Model,{serviceName:"pegawai/jadwaldinas",fields:[{name:"ID",type:"int"},{name:"NIP",type:"string"},{name:"DINAS",type:"int"},{name:"RUANGAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.jadwaldinas,"Model"],0));(Ext.cmd.derive("pegawai.jadwaldinas.Store",data.store.Store,{model:"pegawai.jadwaldinas.Model"},0,0,0,0,["store.pegawai-jadwaldinas-store"],0,[pegawai.jadwaldinas,"Store"],0));(Ext.cmd.derive("pegawai.kartuasuransi.Model",data.model.Model,{serviceName:"pegawai/kartuasuransipegawai",fields:[{name:"ID",type:"int"},{name:"JENIS",type:"int"},{name:"NIP",type:"string"},{name:"NOMOR",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.kartuasuransi,"Model"],0));(Ext.cmd.derive("pegawai.kartuasuransi.Store",data.store.Store,{model:"pegawai.kartuasuransi.Model"},0,0,0,0,["store.pegawai-kartuasuransi-store"],0,[pegawai.kartuasuransi,"Store"],0));(Ext.cmd.derive("pegawai.kartuidentitas.Model",data.model.Model,{serviceName:"pegawai/kartuidentitas",fields:[{name:"ID",type:"int"},{name:"JENIS",type:"int",defaultValue:1},{name:"NIP",type:"int"},{name:"NOMOR",type:"string"},{name:"ALAMAT",type:"string"},{name:"RT",type:"string"},{name:"RW",type:"string"},{name:"KODEPOS",type:"string"},{name:"WILAYAH",type:"string"}]},0,0,0,0,0,0,[pegawai.kartuidentitas,"Model"],0));(Ext.cmd.derive("pegawai.kartuidentitas.Store",data.store.Store,{model:"pegawai.kartuidentitas.Model"},0,0,0,0,["store.pegawai-kartuidentitas-store"],0,[pegawai.kartuidentitas,"Store"],0));(Ext.cmd.derive("pegawai.keluarga.Model",data.model.Model,{serviceName:"pegawai/keluarga",fields:[{name:"ID",type:"int"},{name:"NIP",type:"string"},{name:"SHDK",type:"int"},{name:"NAMA",type:"string"},{name:"JENIS_KELAMIN",type:"int"},{name:"ALAMAT",type:"string"},{name:"PENDIDIKAN",type:"int"},{name:"PEKERJAAN",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.keluarga,"Model"],0));(Ext.cmd.derive("pegawai.keluarga.Store",data.store.Store,{model:"pegawai.keluarga.Model"},0,0,0,0,["store.pegawai-keluarga-store"],0,[pegawai.keluarga,"Store"],0));(Ext.cmd.derive("pegawai.kodeabsensi.Model",data.model.Model,{serviceName:"pegawai/kodeabsensi",fields:[{name:"ID",type:"int"},{name:"NIP",type:"string"},{name:"KODE_ABSEN",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.kodeabsensi,"Model"],0));(Ext.cmd.derive("pegawai.kodeabsensi.Store",data.store.Store,{model:"pegawai.kodeabsensi.Model"},0,0,0,0,["store.pegawai-kodeabsensi-store"],0,[pegawai.kodeabsensi,"Store"],0));(Ext.cmd.derive("pegawai.kontak.Model",data.model.Model,{serviceName:"pegawai/kontakpegawai",fields:[{name:"ID",type:"int"},{name:"JENIS",type:"int"},{name:"NIP",type:"string"},{name:"NOMOR",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.kontak,"Model"],0));(Ext.cmd.derive("pegawai.kontak.Store",data.store.Store,{model:"pegawai.kontak.Model"},0,0,0,0,["store.pegawai-kontak-store"],0,[pegawai.kontak,"Store"],0));(Ext.cmd.derive("pegawai.pegawaiabsen.Model",data.model.Model,{serviceName:"pegawai/pegawaiabsen",fields:[{name:"ID",type:"int"},{name:"JENIS",type:"int"},{name:"NIP",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d"},{name:"KETERANGAN",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.pegawaiabsen,"Model"],0));(Ext.cmd.derive("pegawai.pegawaiabsen.Store",data.store.Store,{model:"pegawai.pegawaiabsen.Model"},0,0,0,0,["store.pegawai-pegawaiabsen-store"],0,[pegawai.pegawaiabsen,"Store"],0));(Ext.cmd.derive("pegawai.pendidikan.Model",data.model.Model,{serviceName:"pegawai/pendidikan",fields:[{name:"ID",type:"int"},{name:"NIP",type:"string"},{name:"JENIS_PENDIDIKAN",type:"int"},{name:"NAMA_LEMBAGA",type:"string"},{name:"ALAMAT",type:"string"},{name:"TAHUN_KELULUSAN",dateFormat:"Y",type:"date"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.pendidikan,"Model"],0));(Ext.cmd.derive("pegawai.pendidikan.Store",data.store.Store,{model:"pegawai.pendidikan.Model"},0,0,0,0,["store.pegawai-pendidikan-store"],0,[pegawai.pendidikan,"Store"],0));(Ext.cmd.derive("pegawai.penempatan.Model",data.model.Model,{serviceName:"pegawai/penempatan",fields:[{name:"ID",type:"int"},{name:"SK",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.penempatan,"Model"],0));(Ext.cmd.derive("pegawai.penempatan.Store",data.store.Store,{model:"pegawai.penempatan.Model"},0,0,0,0,["store.pegawai-penempatan-store"],0,[pegawai.penempatan,"Store"],0));(Ext.cmd.derive("pegawai.penempatan.detil.Model",data.model.Model,{serviceName:"pegawai/penempatan/detil",fields:[{name:"ID",type:"int"},{name:"PENEMPATAN",type:"int"},{name:"NIP",type:"string"},{name:"RUANGAN",type:"string"},{name:"JABATAN",type:"int"},{name:"TANGGAL_BERLAKU",type:"date",dateFormat:"Y-m-d"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.penempatan.detil,"Model"],0));(Ext.cmd.derive("pegawai.penempatan.detil.Store",data.store.Store,{model:"pegawai.penempatan.detil.Model"},0,0,0,0,["store.pegawai-penempatan-detil-store"],0,[pegawai.penempatan.detil,"Store"],0));(Ext.cmd.derive("pegawai.penempatan.sekarang.Model",data.model.Model,{serviceName:"pegawai/penempatan/sekarang",fields:[{name:"NIP",type:"string"},{name:"RUANGAN",type:"string"},{name:"JABATAN",type:"int"},{name:"TANGGAL_BERLAKU",type:"date",dateFormat:"Y-m-d"},{name:"STATUS",type:"int",defaultValue:1}]},0,0,0,0,0,0,[pegawai.penempatan.sekarang,"Model"],0));(Ext.cmd.derive("pegawai.penempatan.sekarang.Store",data.store.Store,{model:"pegawai.penempatan.sekarang.Model"},0,0,0,0,["store.pegawai-penempatan-sekarang-store"],0,[pegawai.penempatan.sekarang,"Store"],0));(Ext.cmd.derive("pegawai.rincianabsensi.Model",data.model.Model,{serviceName:"pegawai/rincianabsensi",fields:[{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"NIP",type:"string"},{name:"NAMA_JADWAL",type:"string"},{name:"HARI_KERJA",type:"int"},{name:"JADWAL_DATANG",type:"string"},{name:"JADWAL_PULANG",type:"string"},{name:"MASUK",type:"string"},{name:"PULANG",type:"string"},{name:"HADIR_KERJA",type:"int"},{name:"HADIR_LIBUR",type:"int"},{name:"EFEKTIF",type:"string"},{name:"LAMBAT",type:"string"},{name:"PULANG_CEPAT",type:"string"},{name:"LEMBUR_KERJA",type:"string"},{name:"LEMBUR_LIBUR",type:"string"},{name:"ABSENT_NAME",type:"string"},{name:"ALPA",type:"int"},{name:"SAKIT",type:"int"},{name:"IZIN",type:"int"},{name:"CUTI",type:"int"},{name:"TUGAS",type:"int"},{name:"LAIN_LAIN",type:"int"},{name:"KETERANGAN",type:"string"}]},0,0,0,0,0,0,[pegawai.rincianabsensi,"Model"],0));(Ext.cmd.derive("pegawai.rincianabsensi.Store",data.store.Store,{model:"pegawai.rincianabsensi.Model"},0,0,0,0,["store.pegawai-rincianabsensi-store"],0,[pegawai.rincianabsensi,"Store"],0));(Ext.cmd.derive("pegawai.schedule.Model",data.model.Model,{serviceName:"pegawai/schedule",fields:[{name:"ID",type:"int"},{name:"DESK",type:"string"},{name:"STATUS_SHIFT",type:"int"},{name:"KET",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.schedule,"Model"],0));(Ext.cmd.derive("pegawai.schedule.Store",data.store.Store,{model:"pegawai.schedule.Model"},0,0,0,0,["store.pegawai-schedule-store"],0,[pegawai.schedule,"Store"],0));(Ext.cmd.derive("pegawai.schedule.detail.Model",data.model.Model,{serviceName:"pegawai/schedule/detail",fields:[{name:"ID",type:"int"},{name:"SCHEDULE",type:"int"},{name:"SHIFT",type:"int"},{name:"DAY",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.schedule.detail,"Model"],0));(Ext.cmd.derive("pegawai.schedule.detail.Store",data.store.Store,{model:"pegawai.schedule.detail.Model"},0,0,0,0,["store.pegawai-schedule-detail-store"],0,[pegawai.schedule.detail,"Store"],0));(Ext.cmd.derive("pegawai.schedule.shift.Model",data.model.Model,{serviceName:"pegawai/shift",fields:[{name:"ID",type:"int"},{name:"SCHEDULE",type:"int"},{name:"JENIS_JADWAL",type:"int"},{name:"KET",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.schedule.shift,"Model"],0));(Ext.cmd.derive("pegawai.schedule.shift.Store",data.store.Store,{model:"pegawai.schedule.shift.Model"},0,0,0,0,["store.pegawai-schedule-shift-store"],0,[pegawai.schedule.shift,"Store"],0));(Ext.cmd.derive("pegawai.schedule.shift.detail.Model",data.model.Model,{serviceName:"pegawai/shift/detail",fields:[{name:"ID",type:"int"},{name:"ID_SHIFT",type:"int"},{name:"JAM_MASUK",type:"string"},{name:"JAM_PULANG",type:"string"},{name:"TGL_BERLAKU",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.schedule.shift.detail,"Model"],0));(Ext.cmd.derive("pegawai.schedule.shift.detail.Store",data.store.Store,{model:"pegawai.schedule.shift.detail.Model"},0,0,0,0,["store.pegawai-schedule-shift-detail-store"],0,[pegawai.schedule.shift.detail,"Store"],0));(Ext.cmd.derive("pegawai.statuspegawai.Model",data.model.Model,{serviceName:"pegawai/statuspegawai",fields:[{name:"ID",type:"int"},{name:"NIP",type:"string"},{name:"STATUS_PEGAWAI",type:"int"},{name:"TMT",type:"date",dateFormat:"Y-m-d"},{name:"SK_PENGANGKATAN",type:"string"},{name:"TANGGAL_SK",type:"date",dateFormat:"Y-m-d"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.statuspegawai,"Model"],0));(Ext.cmd.derive("pegawai.statuspegawai.Store",data.store.Store,{model:"pegawai.statuspegawai.Model"},0,0,0,0,["store.pegawai-statuspegawai-store"],0,[pegawai.statuspegawai,"Store"],0));(Ext.cmd.derive("pegawai.strsip.Model",data.model.Model,{serviceName:"pegawai/strsip",fields:[{name:"ID",type:"int"},{name:"NIP",type:"string"},{name:"JENIS",type:"int"},{name:"NOMOR",type:"string"},{name:"TANGGAL_BERLAKU",dateFormat:"Y-m-d",type:"date"},{name:"BERLAKU_SAMPAI",dateFormat:"Y-m-d",type:"date"},{name:"FILE",type:"string"},{name:"TYPE",type:"string"},{name:"TANGGAL",dateFormat:"Y-m-d",type:"date"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.strsip,"Model"],0));(Ext.cmd.derive("pegawai.strsip.Store",data.store.Store,{model:"pegawai.strsip.Model"},0,0,0,0,["store.pegawai-strsip-store"],0,[pegawai.strsip,"Store"],0));(Ext.cmd.derive("pegawai.waktudinasruangan.Model",data.model.Model,{serviceName:"pegawai/waktudinasruangan",fields:[{name:"ID",type:"int"},{name:"RUANGAN",type:"string"},{name:"JAM_MASUK",type:"date",dateFormat:"H:i:s"},{name:"JAM_PULANG",type:"date",dateFormat:"H:i:s"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pegawai.waktudinasruangan,"Model"],0));(Ext.cmd.derive("pegawai.waktudinasruangan.Store",data.store.Store,{model:"pegawai.waktudinasruangan.Model"},0,0,0,0,["store.pegawai-waktudinasruangan-store"],0,[pegawai.waktudinasruangan,"Store"],0));(Ext.cmd.derive("pegawai.kartuidentitas.Form",com.Form,{title:"Kartu Identitas",header:{iconCls:"x-fa fa-credit-card",margin:0,padding:"5 15 5 15",layout:{type:"hbox",align:"middle"}},viewModel:{data:{isNewForm:true,pegawai:undefined}},layout:{type:"vbox",align:"stretch"},bodyPadding:5,defaults:{margin:"0 0 3"},items:[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"referensi-combo",params:{JENIS:9,STATUS:1},firstLoad:true,name:"JENIS",enterFocus:true,typeAhead:true,forceSelection:true,validateOnBlur:true,emptyText:"[Jenis Kartu]",margin:"0 1 0 1",flex:1,listeners:{specialkey:"onFocusEnter"}},{xtype:"textfield",name:"NOMOR",enterFocus:true,margin:"0 1 0 1",emptyText:"[Nomor Kartu]",flex:1}]},{xtype:"form-alamat",header:false,bodyPadding:0,border:false,listeners:{specialkey:"onFocusEnter"}}],getFormData:function(){var m=this.getForm().getValues(),f=this.down("form-alamat").getFormData(),e=!(m.NOMOR==""||m.NOMOR==null||Number(m.JENIS)==0);delete m.PROPINSI;delete m.KABUPATEN;delete m.KECAMATAN;m.WILAYAH=m.KELURAHAN;delete m.KELURAHAN;m=Ext.merge(m,f);return e?[m]:null},loadRecord:function(f){var e=this,m=f.get("KARTU_IDENTITAS")||null,m=Ext.isArray(m)?m[0]:m;m=Ext.getClassName(m)==""?new pegawai.kartuidentitas.Model(m):m;if(m){e.down("form-alamat").loadRecord(m)}return e.getForm().loadRecord(m)}},0,["pegawai-kartuidentitas-form"],["component","box","container","panel","form","com-form","pegawai-kartuidentitas-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pegawai-kartuidentitas-form":true},["widget.pegawai-kartuidentitas-form"],0,[pegawai.kartuidentitas,"Form"],0));(Ext.cmd.derive("pegawai.kartuidentitas.FormController",Ext.app.ViewController,{onSimpan:function(m){var k=this,l=k.getView();l.save(m)}},0,0,0,0,["controller.pegawai-kartuidentitas-form"],0,[pegawai.kartuidentitas,"FormController"],0));(Ext.cmd.derive("pegawai.kartuidentitas.Workspace",com.Form,{viewModel:{stores:{store:{type:"pegawai-kartuidentitas-store"}},data:{pgwi:undefined}},items:[{xtype:"pegawai-kartuidentitas-form",reference:"formkartuidentitaspegawai",listeners:{save:"onSuccess"}}],load:function(f){var e=this,s=e.getViewModel(),t=e.down("pegawai-kartuidentitas-form"),q=e.getViewModel().get("store"),p=t.getViewModel().get("jeniskipstore");p.load();params={NIP:f.get("NIP")};q.setQueryParams(params);q.load(function(g,l,k){if(k){if(g.length>0){t.loadRecord(g[0])}}else{t.createRecord({STATUS:1,NIP:f.get("NIP")})}})}},0,["pegawai-kartuidentitas-workspace"],["component","box","container","panel","form","com-form","pegawai-kartuidentitas-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pegawai-kartuidentitas-workspace":true},["widget.pegawai-kartuidentitas-workspace"],0,[pegawai.kartuidentitas,"Workspace"],0));(Ext.cmd.derive("pegawai.kontak.Form",com.Form,{controller:"pegawai-kontak-form",viewModel:{data:{isNewForm:true,pegawai:undefined}},layout:{type:"hbox"},defaults:{margin:"0 5 0 0"},model:"pegawai.kontak.Model",initComponent:function(){var f=this;f.items=[{xtype:"textfield",emptyText:"[ Nomor ]",name:"NOMOR",reference:"nomor",flex:2},{xtype:"referensi-combo",params:{JENIS:8,STATUS:1},firstLoad:true,name:"JENIS",enterFocus:true,emptyText:"[Jenis Kontak]",flex:1},{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-blue",handler:"onSimpan"}];f.callParent(arguments)},onLoadRecord:function(k){var g=this;g.getViewModel().set("isNewForm",false);g.getViewModel().set("pegawai",k)}},0,["pegawai-kontak-form"],["component","box","container","panel","form","com-form","pegawai-kontak-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pegawai-kontak-form":true},["widget.pegawai-kontak-form"],0,[pegawai.kontak,"Form"],0));(Ext.cmd.derive("pegawai.kontak.FormController",Ext.app.ViewController,{onSimpan:function(q){var e=this,p=e.getView(),n=p.down("[name = JENIS]"),o=n.getSelection();p.fireEvent("simpan",q,o)}},0,0,0,0,["controller.pegawai-kontak-form"],0,[pegawai.kontak,"FormController"],0));(Ext.cmd.derive("pegawai.kontak.List",com.Grid,{controller:"pegawai-kontak-list",viewModel:{stores:{store:{type:"pegawai-kontak-store"}}},ui:"panel-gray",layout:"fit",initComponent:function(){var f=this;f.columns=[{align:"left",text:"Nomor",dataIndex:"NOMOR",flex:2},{xtype:"templatecolumn",align:"left",text:"Jenis",dataIndex:"JENIS",tpl:'<div style="white-space:normal !important;color:black">{REFERENSI.JENIS.DESKRIPSI}</div>',flex:1},{xtype:"checkcolumn",header:"Status",dataIndex:"STATUS",width:90,listeners:{checkchange:"onChange"}}];f.callParent(arguments)},load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Pegawai"){var m=k;k={NIP:m.get("NIP")}}l.setParams(k);l.callParent(k)}},0,["pegawai-kontak-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","pegawai-kontak-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"pegawai-kontak-list":true},["widget.pegawai-kontak-list"],0,[pegawai.kontak,"List"],0));(Ext.cmd.derive("pegawai.kontak.ListController",Ext.app.ViewController,{onChange:function(x,e,w){console.log(w);var v=this,u=v.getViewModel(),f=v.getView(),g=u.get("store"),t=g.getAt(e);t.set("STATUS",w?1:0);t.scope=this;t.save({callback:function(k,l,m){if(m){f.notifyMessage("Status di "+(w==true?"Aktifkan":"NonAktifkan"),"danger-red")}else{t.set("STATUS",w?0:1)}}})}},0,0,0,0,["controller.pegawai-kontak-list"],0,[pegawai.kontak,"ListController"],0));(Ext.cmd.derive("pegawai.kontak.Workspace",com.Form,{controller:"pegawai-kontak-workspace",viewModel:{stores:{store:{type:"pegawai-kontak-store"}},data:{pgwi:undefined}},title:"Kontak",header:{iconCls:"x-fa fa-phone",margin:0},layout:"border",items:[{region:"north",border:true,xtype:"pegawai-kontak-form",reference:"formkontakpegawai",listeners:{simpan:"onSimpan"}},{region:"center",layout:"fit",flex:1,xtype:"pegawai-kontak-list",reference:"listkontakpegawai",listeners:{success:"onSuccess"}}],load:function(m,n){var l=this,o=l.getViewModel(),n=n?n:false;form=l.down("pegawai-kontak-form"),list=l.down("pegawai-kontak-list");store=l.getViewModel().get("store"),params={NIP:m.get("NIP")};list.load({NIP:m.get("NIP")});list.setGridConfig({paging:n});form.createRecord({STATUS:1,NIP:m.get("NIP")});o.set("pgwi",m);store.setQueryParams(params);store.load(function(e,g,f){if(f){if(e.length>0){m.history=e[0]}}})},saveList:function(m){var n=this,l=n.down("pegawai-kontak-list"),o=l.getStore();o.each(function(e){e.set("NIP",m.get("NIP_BARU"))});o.sync({callback:function(f,e,g){n.notifyMessage("Kontak tersimpan");n.load(m)}})}},0,["pegawai-kontak-workspace"],["component","box","container","panel","form","com-form","pegawai-kontak-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pegawai-kontak-workspace":true},["widget.pegawai-kontak-workspace"],0,[pegawai.kontak,"Workspace"],0));(Ext.cmd.derive("pegawai.kontak.WorkspaceController",Ext.app.ViewController,{onSuccess:function(t,e,s){var v=this,g=v.getView(),u=v.getViewModel(),f=u.get("pgwi");g.load(f)},onSimpan:function(k,C){var E=this,e=E.getView(),A=E.getViewModel(),l=A.get("pgwi"),F=E.getReferences(),z=F.formkontakpegawai,D=F.listkontakpegawai,g=D.getStore(),f=(g.length==0)?0:g.length+1,B=z.getRecord();if(Ext.isNumeric(l.get("ID"))){z.save(k);e.load(l)}else{B.set("REFERENSI",{JENIS:C.getData()});g.insert(f,B)}}},0,0,0,0,["controller.pegawai-kontak-workspace"],0,[pegawai.kontak,"WorkspaceController"],0));(Ext.cmd.derive("pasien.keluarga.kontak.Model",data.model.Model,{serviceName:"general/kontakkeluargapasien",fields:[{name:"SHDK",type:"int"},{name:"JENIS",type:"int"},{name:"NORM",type:"int"},{name:"NOMOR",type:"string"}]},0,0,0,0,0,0,[pasien.keluarga.kontak,"Model"],0));(Ext.cmd.derive("pasien.keluarga.kontak.Store",data.store.Store,{model:"pasien.keluarga.kontak.Model"},0,0,0,0,["store.pasien-keluarga-kontak-store"],0,[pasien.keluarga.kontak,"Store"],0));(Ext.cmd.derive("pasien.photo.Model",data.model.Model,{serviceName:"general/photopasien",fields:[{name:"NORM"},{name:"DATA"},{name:"TIPE",type:"string"}]},0,0,0,0,0,0,[pasien.photo,"Model"],0));(Ext.cmd.derive("pasien.Dashboard",com.Dashboard,{controller:"pasien-dashboard",items:[{reference:"leftwidget",items:[{xtype:"pasien-widget-info",responsiveCls:"big-100 small-100"}]},{reference:"rightwidget"}],createPendaftaranWidget:function(){var k=this,g=k.down("[reference=rightwidget]");g.add({xtype:"pendaftaran-widget-info",responsiveCls:"big-100 small-100",listeners:{baru:"onBaru",detil:"onDetilPendaftaran",icd:"onICD",cetakbukti:"onCetakBukti",cetakbarcode:"onCetakBarcodePendaftaran",cetaktracert:"onCetakTracert",cetakgelang:"onCetakGelang",history:"onHistory"}})},createKunjunganWidget:function(){var k=this,g=k.down("[reference=rightwidget]");g.add({xtype:"kunjungan-widget-info",responsiveCls:"big-100 small-100",listeners:{detilkunjungan:"onDetilKunjungan",historykunjungan:"onHistoryKunjungan"}})},createPembayaranWidget:function(){var g=this,k=g.down("[reference=leftwidget]");k.add({xtype:"pembayaran-widget-info",responsiveCls:"big-100 small-100",listeners:{viewtagihan:"onViewTagihan",historytagihan:"onHistoryTagihan"}})},createJadwalKontrolWidget:function(){var k=this,g=k.down("[reference=rightwidget]");g.add({xtype:"rekammedis-perencanaan-jadwalkontrol-widget-info",responsiveCls:"big-100 small-100"})},listeners:{afterrender:"onAfterRender",activate:"onActivate",deactivate:"onDeactivate"}},0,["pasien-dashboard"],["component","box","container","com-dashboard","pasien-dashboard"],{component:true,box:true,container:true,"com-dashboard":true,"pasien-dashboard":true},["widget.pasien-dashboard"],0,[pasien,"Dashboard"],0));(Ext.cmd.derive("pasien.DashboardController",Ext.app.ViewController,{task:undefined,onAfterRender:function(){var e=this,p=e.getView(),q=e.getReferences(),o=webservice.app,n=o.xpriv;p.down("pasien-widget-info").setViewConfig({photo:n("100706",false),detil:true,edit:n("100701",false),kartu:n("10080101",false)||n("10080201",false),barcode:n("10080102",false)||n("10080202",false)});p.suspendLayouts();if(n("10",true)){p.createPendaftaranWidget()}if(n("12",true)){p.createPembayaranWidget()}if(n("11",true)){p.createKunjunganWidget()}if(n("10",true)||n("11",true)){p.createJadwalKontrolWidget()}e.updateLayoutData();p.resumeLayouts();e.task={run:function(){if(!o.pauseAutoRefresh){e.task.interval=60000;q.leftwidget.items.each(function(f){try{f.refresh()}catch(g){}});q.rightwidget.items.each(function(f){try{f.refresh()}catch(g){}})}},interval:500};Ext.TaskManager.start(e.task)},updateLayoutData:function(){var l=this,o=l.getViewModel(),n=l.getReferences(),m=o.get("pasien");n.leftwidget.items.each(function(f){var e=f.getViewModel(),g=e.get("pasien");e.set("pasien",m);e.notify()});n.rightwidget.items.each(function(f){var e=f.getViewModel(),g=e.get("pasien");e.set("pasien",m);e.notify()})},setActiveItem:function(m){var l=this,n=l.getView().ownerCt,o=n.getLayout();if(m=="pasien-form"){n.createPasienForm()}if(m=="pendaftaran-form"){n.createPendaftaranForm()}o.setActiveItem(n.getIndexItem(m));return o.getActiveItem()},onCamera:function(q){var e=this,o=e.getViewModel().get("pasien"),p=e.getView(),n=p.down("pasien-widget-info");p.openDialog("",true,800,600,{xtype:"com-camera",title:"Capture Photo Pasien",ui:"panel-blue",iconCls:"x-fa fa-camera",showCloseButton:true},function(g,f){e.onDeactivate();var k=f.down("com-camera");f.on({close:function(){e.onActivate()}});k.on({upload:function(l){p.setLoading(true);f.close();var m=Ext.create("pasien.photo.Model",{NORM:o.get("NORM"),DATA:Ext.util.Base64.encode(l)});m.animateTarget=q;m.scope=e;m.showError=true;m.save({callback:function(x,v,w){if(w){n.refresh();p.notifyMessage("Upload photo sukses")}p.setLoading(false)}})}})})},onTakePhoto:function(x){var g=this,k=g.getView(),C=g.getViewModel(),e=C.get("pasien"),B=k.down("pasien-widget-info"),z=x.fileInputEl.dom.files;if(z.length>0){var f=new FileReader(),D=z[0],A=D.type,y=D.size/1024;if(!(A=="image/jpeg"||A=="image/png")){k.notifyMessage("Format file harus jpg/png");x.reset();return}if(y>250){k.notifyMessage("Ukuran file tidak lebih dari 250Kb");x.reset();return}k.setLoading(true);f.readAsDataURL(D);f.onload=function(m){var l=Ext.create("pasien.photo.Model",{NORM:e.get("NORM"),DATA:Ext.util.Base64.encode(m.target.result)});l.animateTarget=x;l.scope=g;l.showError=true;l.save({callback:function(p,n,o){if(o){B.refresh();k.notifyMessage("Upload photo sukses")}x.reset();k.setLoading(false)}});delete f}}},onEdit:function(){if(webservice.app.xpriv("100701",false)){var m=this,l=m.getViewModel().get("pasien"),k=m.setActiveItem("pasien-form");k.loadRecord(l)}},onDetil:function(){var m=this,k=m.getViewModel().get("pasien"),l=m.getView();l.openDialog("",true,0,0,{xtype:"pasien-detil",title:"Detil Pasien",ui:"panel-cyan",showCloseButton:true,viewModel:{data:{pasien:k,viewInfoDetil:true}}},function(e,g){m.onDeactivate();var f=g.down("pasien-detil");g.on({close:function(){m.onActivate()}})})},onCetakKartu:function(){var l=this,m=l.getViewModel().get("pasien"),n=l.getView().ownerCt,o=n.getController();o.onCetakKartu(m)},onCetakBarcode:function(s,g){var f=this,p=f.getViewModel().get("pasien"),q=f.getView().ownerCt,t=q.getController();t.onCetakBarcodePasien(p)},onBaru:function(){var t=this,q=t.getView(),p=t.getViewModel().get("pasien"),f=t.setActiveItem("pendaftaran-form"),s=q.down("pendaftaran-widget-info"),e=f.getViewModel();e.set("pasien",p);e.set("pendaftaran",Ext.create("data.model.Pendaftaran",{NORM:p.get("NORM")}));f.setTitle("Pendaftaran Kunjungan Pasien an. <b>"+p.get("NAMA")+"</b>");s.getViewModel().set("buttons.baru",false);f.getController().init()},onDetilPendaftaran:function(o){var m=this,l=m.getView().ownerCt,n=m.getView();n.openDialog("",true,0,0,{xtype:"pendaftaran-detil",title:"Detil Pendaftaran Kunjungan",ui:"panel-cyan",showCloseButton:true},function(e,f){m.onDeactivate();wrksp=f.down("pendaftaran-detil");wrksp.on({cetakbukti:function(k){l.getController().onCetakBukti(k)},cetakbarcode:function(k){l.getController().onCetakBarcodePendaftaran(k)},cetaktracert:function(k){l.getController().onCetakTracert(k)},cetaksep:function(k){l.getController().onCetakSep(k)},cetakgelang:function(k){l.getController().onCetakGelang(k)}});f.on({close:function(){m.onActivate()}});var g=new Ext.util.DelayedTask(function(){wrksp.load(o)});g.delay(100)})},onICD:function(s,e,f){var t=this,q=t.getViewModel().get("pasien"),p=t.getView();p.openDialog("",true,0,0,{xtype:"workspace-icd",title:"ICD",ui:"panel-cyan",showCloseButton:true},function(g,l){t.onDeactivate();wrksp=l.down("workspace-icd");l.on({close:function(){t.onActivate()}});var k=new Ext.util.DelayedTask(function(){wrksp.load(q,s,e,f)});k.delay(100)})},onHistory:function(m){var k=this,l=k.getView();l.openDialog("",true,"90%","70%",{xtype:"pendaftaran-list",ui:"panel-cyan",showCloseButton:true,title:"History Pendaftaran Kunjungan Pasien "+m.get("NAMA")+"("+m.get("NORM")+")"},function(f,g){k.onDeactivate();wrksp=g.down("pendaftaran-list");wrksp.setListConfig({paging:true});wrksp.on({lihat:function(o){if(data.model){data.model.Pendaftaran.load(o.get("NOMOR"),{callback:function(t,n,s){if(s){k.onDetilPendaftaran(t)}}})}},icd:function(o){if(data.model){data.model.Pendaftaran.load(o.get("NOMOR"),{callback:function(x,u,w){if(w){var n=x.get("TUJUAN")?Ext.create("data.model.TujuanPasien",x.get("TUJUAN")):null,v=x.get("PENJAMIN")?Ext.create("data.model.Penjamin",x.get("PENJAMIN")):null;k.onICD(x,n,v)}}})}}});g.on({close:function(){k.onActivate()}});var e=new Ext.util.DelayedTask(function(){wrksp.loadStore({NORM:m.get("NORM")})});e.delay(100)})},onCetakBukti:function(o){var m=this,n=m.getView().ownerCt,l=n.getController();l.onCetakBukti(o)},onCetakBarcodePendaftaran:function(o){var m=this,n=m.getView().ownerCt,l=n.getController();l.onCetakBarcodePendaftaran(o)},onCetakTracert:function(o){var m=this,n=m.getView().ownerCt,l=n.getController();l.onCetakTracert(o)},onCetakGelang:function(o){var m=this,n=m.getView().ownerCt,l=n.getController();l.onCetakGelang(o)},onDetilKunjungan:function(u,g,t,e,w,x){var v=this,f=v.getView();f.openWindow({header:false,border:false,modal:true,maximized:true,constrain:f,layout:"fit",items:[{xtype:"layanan-workspace",ui:"panel-cyan",iconCls:"x-fa fa-file-text-o",showCloseButton:true}]},function(l,n){v.onDeactivate();var m=n.down("layanan-workspace");m.on({close:function(){if(Ext.isFunction(x)){x()}},reopen:function(o){n.close();v.onDetilKunjungan(u,g,t,o,w,x)}});n.on({close:function(){v.onActivate();if(Ext.isFunction(x)){x()}}});var k=new Ext.util.DelayedTask(function(){m.load(g,t,e)});k.delay(100)})},onHistoryKunjungan:function(t,g,s,e,v){var u=this,f=u.getView();f.openDialog("",true,"90%","70%",{xtype:"kunjungan-list",ui:"panel-cyan",showCloseButton:true,title:"History Kunjungan Pasien "+g.get("NAMA")+"("+g.get("NORM")+")"},function(l,n){var m=n.down("kunjungan-list");u.onDeactivate();m.setListConfig({paging:true,filter:{status:{enabled:true}}});m.on({lihat:function(o){if(data.model){data.model.Kunjungan.load(o.get("NOMOR"),{callback:function(A,p,q){if(q){var D=A.get("REFERENSI"),C=Ext.create("data.model.Pendaftaran",D.PENDAFTARAN),B=Ext.create("data.model.Penjamin",D.PENDAFTARAN.REFERENSI.PENJAMIN);u.onDetilKunjungan(t,g,C,A,B,function(){m.refresh()})}}})}}});n.on({close:function(){u.onActivate()}});var k=new Ext.util.DelayedTask(function(){m.loadStore({NORM:g.get("NORM")})});k.delay(100)})},onViewTagihan:function(f,s){var e=this,t=e.getViewModel(),q=t.get("pasien"),p=e.getView();p.openDialog("",true,0,0,{xtype:"workspace-tagihan",ui:"panel-cyan",showCloseButton:true},function(g,l){e.onDeactivate();wrksp=l.down("workspace-tagihan");l.on({close:function(){if(s){if(s.refresh){s.refresh()}}e.onActivate()}});var k=new Ext.util.DelayedTask(function(){wrksp.load(f,q)});k.delay(100)})},onHistoryTagihan:function(o){var m=this,l=m.getViewModel(),o=l.get("pasien"),n=m.getView();n.openDialog("",true,"50%",400,{xtype:"tagihan-list",iconCls:"x-fa fa-history",title:"History Tagihan / Pembayaran",ui:"panel-cyan",showCloseButton:true},function(e,f){m.onDeactivate();list=f.down("tagihan-list");list.setListConfig({pasienInfo:false,paging:true});list.on({viewtagihan:function(k){m.onViewTagihan(k,list)}});f.on({close:function(){m.onActivate()}});var g=new Ext.util.DelayedTask(function(){list.loadStore({REF:o.get("NORM"),JENIS:1,STATUS:2})});g.delay(100)})},onActivate:function(){if(this.task){this.task.interval=500;Ext.TaskManager.start(this.task)}},onDeactivate:function(){Ext.TaskManager.stop(this.task)},destroy:function(){var f=this;Ext.TaskManager.stop(f.task);f.callParent()}},0,0,0,0,["controller.pasien-dashboard"],0,[pasien,"DashboardController"],0));(Ext.cmd.derive("pasien.Detil",com.Form,{controller:"pasien-detil",viewModel:{type:"pasienmodel",data:{viewInfoDetil:false,showEditButtonInDetil:false,glyphButtonDetil:"xf139@FontAwesome",buttonDetilUp:true,iconUp:"xf139@FontAwesome",iconDown:"xf13a@FontAwesome"},formulas:{isDetilUp:function(f){}}},layout:{type:"vbox",align:"stretch"},initComponent:function(){var f=this;f.items=[f.reviewPasien(),f.referensiPasien(),f.lytFoother()];f.callParent(arguments)},reviewPasien:function(){var f=this;return{xtype:"panel",title:"Detail Pasien",bind:{iconCls:"{getIconSex}"},collapsible:true,plugins:"responsive",responsiveConfig:{"width < 600":{layout:{type:"vbox",align:"stretch"}},"width >= 600":{layout:{type:"hbox",align:"stretch"}}},items:[{xtype:"fieldset",flex:1,border:false,defaultType:"displayfield",cls:" shadow-panel x-color-w",fieldDefaults:{labelWidth:120,margin:0,padding:0,style:"min-height: 10px"},items:[{xtype:"fieldcontainer",flex:1,border:false,layout:{type:"hbox",align:"stretch"},items:[{xtype:"image",cls:"photo-image",width:120,height:130,bind:{src:webservice.location+"general/photopasien?NORM={pasien.NORM}&JENIS_KELAMIN={pasien.JENIS_KELAMIN}"},alt:"No Photo"},{xtype:"fieldcontainer",flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"component",flex:1,style:"text-align: right; padding-top: 2px; font-size: 2em; font-weight: bold",bind:{html:"{getFormatNorm}"}},{xtype:"component",flex:1,style:"text-align: left; font-weight: bold; padding-left: 10px",bind:"{getNamaLengkap} / {pasien.PANGGILAN}"},{xtype:"component",flex:1,style:"text-align: left; padding-left: 10px",bind:"{getTempatLahir} / {getTglLahir}"},{xtype:"component",flex:1,style:"text-align: left; padding-left: 10px",bind:"{getUmur}"},{xtype:"component",flex:1,style:"text-align: left; padding-left: 10px",bind:"{getAgama} / {getJenisKelamin}"}]}]},{fieldLabel:"Alamat",labelWidth:115,bind:"{pasien.ALAMAT}"},{xtype:"container",padding:0,border:false,layout:"hbox",items:[{xtype:"displayfield",labelSeparator:"",hideEmptyLabel:false,labelWidth:115},{xtype:"displayfield",fieldLabel:"RT",labelWidth:30,bind:"{pasien.RT}"},{xtype:"displayfield",fieldLabel:"RW",labelWidth:30,bind:"{pasien.RW}"},{xtype:"displayfield",fieldLabel:"KODE POS",labelWidth:100,bind:"{pasien.KODEPOS}"}]}]},{xtype:"fieldset",flex:1,border:false,defaultType:"displayfield",style:"padding-top: 0px;",cls:"x-color-w shadow-panel",fieldDefaults:{labelWidth:140,margin:0,padding:0},items:[{fieldLabel:"Pendidikan",bind:"{getPendidikan}"},{fieldLabel:"Pekerjaan",bind:"{getPekerjaan}"},{fieldLabel:"Status Perkawinan",bind:"{getStatusPerkawinan}"},{fieldLabel:"Golongan Darah",bind:"{getGolonganDarah}"},{fieldLabel:"Kewarganegaraan",bind:"{getKewarganegaraan}"}]}]}},referensiPasien:function(){var f=this;return{xtype:"tabpanel",plain:false,cls:"x-br-top",ui:"header-tab",padding:"10 0 0 0 ",tabBar:{layout:{pack:"left"}},flex:1,bind:{hidden:"{!isDetilUp}"},animate:true,items:[{title:"Kartu Identitas",xtype:"grid",bind:{store:"{kipstore}"},columns:[{xtype:"rownumberer",text:"No.",align:"left",width:45},{text:"No. Kartu",dataIndex:"NOMOR",width:150},{text:"Jenis",dataIndex:"JENIS",width:200,renderer:"onRendererJenisKIP"},{text:"Alamat",dataIndex:"ALAMAT",flex:1}]},{title:"Kartu Jaminan",xtype:"grid",bind:{store:"{kapstore}"},columns:[{xtype:"rownumberer",text:"No.",align:"left",width:45},{text:"No. Kartu",dataIndex:"NOMOR",width:200},{text:"Jenis",dataIndex:"JENIS",flex:1,renderer:"onRendererJenisKAP"}]},{title:"Keluarga Pasien",glyph:"xf0c0@FontAwesome",xtype:"grid",bind:{store:"{keluargastore}"},columns:[{xtype:"rownumberer",text:"No.",align:"left",width:45},{text:"Nama",dataIndex:"NAMA",flex:2},{text:"Jenis Kelamin",dataIndex:"JENIS_KELAMIN",flex:1,renderer:"onRendererJK"},{text:"Hubungan",dataIndex:"SHDK",flex:1,renderer:"onRendererSHDK"},{text:"Alamat",dataIndex:"ALAMAT",flex:1},{text:"Pendidikan",dataIndex:"PENDIDIKAN",flex:1,renderer:"onRendererPendidikan"},{text:"Pekerjaan",dataIndex:"PEKERJAAN",flex:1,renderer:"onRendererPekerjaan"}]},{title:"Kontak",glyph:"xf095@FontAwesome",xtype:"grid",bind:{store:"{kontakpasienstore}"},columns:[{xtype:"rownumberer",text:"No.",align:"left",width:45},{text:"Nomor",dataIndex:"NOMOR",width:200},{text:"Jenis",dataIndex:"JENIS",flex:1,renderer:"onRendererJenisKontak"}]}]}},lytFoother:function(){return{xtype:"container",height:25,border:true,cls:"x-color x-br-top"}}},0,["pasien-detil"],["component","box","container","panel","form","com-form","pasien-detil"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pasien-detil":true},["widget.pasien-detil"],0,[pasien,"Detil"],0));(Ext.cmd.derive("pasien.DetilController",Ext.app.ViewController,{initViewModel:function(){var n=this,q=n.getViewModel(),o=q.get("pasien"),p=o.get("NORM")||0,e=o.get("KELUARGA");n.getStore("jeniskipstore").initStore("jeniskip");n.getStore("jeniskapstore").initStore("jeniskap");n.getStore("jeniskelaminstore").initStore("jeniskelamin");n.getStore("shdkstore").initStore("shdk");n.getStore("pendidikanstore").initStore("pendidikan");n.getStore("pekerjaanstore").initStore("pekerjaan");n.getStore("jeniskontakstore").initStore("jeniskontak");n.getStore("golongandarahstore").initStore("golongandarah");n.getStore("statusperkawinanstore").initStore("statusperkawinan");n.getStore("negarastore").initStore("negara");q.get("kipstore").load({params:{NORM:p}});q.get("kapstore").load({params:{NORM:p}});if(e!=undefined){q.get("keluargastore").removeAll();q.get("keluargastore").loadData(e)}else{q.get("keluargastore").load({params:{NORM:p}})}q.get("kontakpasienstore").load({params:{NORM:p}})},onEditClick:function(){this.getView().fireEvent("editclick",this.getViewModel().get("pasien"))},onDetilClick:function(){var k=this.getViewModel(),g=k.get("isDetilUp");if(g){k.set("glyphButtonDetil",k.get("iconDown"))}else{k.set("glyphButtonDetil",k.get("iconUp"))}k.set("buttonDetilUp",!g)},onRendererJenisKIP:function(l,q,p,s,k,t){return this.getViewModel().getDeskripsi(this.getStore("jeniskipstore"),l)},onRendererJenisKAP:function(l,q,p,s,k,t){return this.getViewModel().getDeskripsi(this.getStore("jeniskapstore"),l)},onRendererJK:function(l,q,p,s,k,t){return this.getViewModel().getDeskripsi(this.getStore("jeniskelaminstore"),l)},onRendererSHDK:function(l,q,p,s,k,t){return this.getViewModel().getDeskripsi(this.getStore("shdkstore"),l)},onRendererPendidikan:function(l,q,p,s,k,t){return this.getViewModel().getDeskripsi(this.getStore("pendidikanstore"),l)},onRendererPekerjaan:function(l,q,p,s,k,t){return this.getViewModel().getDeskripsi(this.getStore("pekerjaanstore"),l)},onRendererJenisKontak:function(l,q,p,s,k,t){return this.getViewModel().getDeskripsi(this.getStore("jeniskontakstore"),l)}},0,0,0,0,["controller.pasien-detil"],0,[pasien,"DetilController"],0));(Ext.cmd.derive("pasien.Form",com.Form,{controller:"pasien-form",model:"data.model.Pasien",viewModel:{type:"pasienmodel",data:{hideBatal:true,hideReset:true,hideSimpanCetak:false}},layout:{type:"vbox",align:"stretch"},defaults:{bodyPadding:10},isOpenWindow:false,initComponent:function(){var f=this;f.items=[{xtype:"form-identitas",cls:"shadow-panel",border:true,margin:"0 0 15 0",reference:"identitas"},{xtype:"fieldcontainer",flex:1,scrollable:true,layout:{type:"hbox"},items:[{xtype:"fieldcontainer",flex:1,cls:"shadow-panel",margin:"0 10 0 0",layout:{type:"vbox",align:"stretch"},items:[{xtype:"form-alamat",border:true,cls:"shadow-panel",margin:"0 0 15 0",reference:"frmAlamat",listeners:{specialkey:"onFocusEnter"}},{xtype:"form-kartu-identitas",cls:"shadow-panel",border:true,reference:"kip"}]},{xtype:"fieldcontainer",flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"form-kontak",flex:1,cls:"shadow-panel",margin:"0 0 15 0",border:true,reference:"kontaks",listeners:{specialkey:"onFocusEnter"}},{xtype:"form-keluarga",flex:1,cls:"shadow-panel",border:true,reference:"keluarga",listeners:{specialkey:"onFocusEnter"}}]}]}];f.callParent(arguments)},buttons:{items:[{text:"Simpan",iconCls:"x-fa fa-save",ui:"soft-blue",margin:1,reference:"simpan",handler:"onSimpan"},{text:"Simpan & Cetak Kartu",iconCls:"x-fa fa-save",ui:"soft-green",reference:"simpancetak",margin:1,handler:"onSimpanCetak",hidden:true,bind:{hidden:"{hideSimpanCetak}"}},{text:"Reset",iconCls:"x-fa fa-refresh",margin:"0 5 0 0",ui:"soft-black",hidden:true,bind:{hidden:"{hideReset}"},handler:"onReset"},{text:"Batal",iconCls:"x-fa fa-times",ui:"soft-red",margin:"0 5 0 0",hidden:true,bind:{hidden:"{hideBatal}"},handler:"onBatal"}]},onLoadRecord:function(g,k){g.getController().loadRecord(k)}},0,["pasien-form"],["component","box","container","panel","form","com-form","pasien-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pasien-form":true},["widget.pasien-form"],0,[pasien,"Form"],0));(Ext.cmd.derive("pasien.FormAlamat",Ext.form.Panel,{title:"Alamat Sekarang",layout:{type:"vbox",align:"stretch"},header:{iconCls:"x-fa fa-location-arrow",margin:0,padding:"10 15 10 15"},controller:"form-alamat",viewModel:{stores:{propinsistore:{type:"wilayah-store",queryParams:{JENIS:1}},kabupatenstore:{type:"wilayah-store",queryParams:{JENIS:2}},kecamatanstore:{type:"wilayah-store",queryParams:{JENIS:3}},kelurahanstore:{type:"wilayah-store",queryParams:{JENIS:4}}}},bodyPadding:5,defaults:{margin:"0 0 3 0"},items:[{xtype:"textfield",name:"WILAYAH",reference:"wil",hidden:true,inputType:"hidden"},{xtype:"textfield",name:"ALAMAT",enterFocus:true,enforceMaxLength:true,maxLength:150,reference:"ALAMAT",margin:"0 2 3 1",flex:1,emptyText:"[Alamat]",listeners:{specialkey:"onFocusEnter"}},{xtype:"fieldcontainer",layout:{type:"hbox"},margin:0,defaultType:"textfield",defaults:{margin:"0 1 3 1",enterFocus:true,enforceMaxLength:true,flex:1,listeners:{specialkey:"onFocusEnter"}},items:[{name:"RT",maxLength:3,reference:"RT",emptyText:"[RT]"},{name:"RW",reference:"RW",maxLength:3,emptyText:"[RW]"},{xtype:"numberfield",hideTrigger:true,name:"KODEPOS",reference:"KODEPOS",margin:"0 2 0 1",maxLength:5,emptyText:"[Kode Pos]"}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaultType:"combobox",defaults:{enterFocus:true,typeAhead:true,forceSelection:true,validateOnBlur:true,flex:1,queryMode:"local",displayField:"DESKRIPSI",valueField:"ID"},items:[{emptyText:"[Propinsi]",margin:"0 1 0 1",name:"PROPINSI",reference:"prop",bind:{store:"{propinsistore}"},listeners:{specialkey:"onFocusEnter",select:"onSelectedProp",blur:"onBlurProp"}},{emptyText:"[Kabupaten / Kota]",margin:"0 2 0 1",name:"KABUPATEN",reference:"kab",bind:{store:"{kabupatenstore}"},listeners:{specialkey:"onFocusEnter",select:"onSelectedKab",blur:"onBlurKab"}}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaultType:"combobox",defaults:{enterFocus:true,typeAhead:true,forceSelection:true,validateOnBlur:true,flex:1,queryMode:"local",displayField:"DESKRIPSI",valueField:"ID"},items:[{emptyText:"[Kecamatan]",margin:"0 1 0 1",name:"KECAMATAN",reference:"kec",bind:{store:"{kecamatanstore}"},listeners:{specialkey:"onFocusEnter",select:"onSelectedKec",blur:"onBlurKec"}},{emptyText:"[Kelurahan / Desa]",margin:"0 2 0 1",name:"KELURAHAN",reference:"kel",bind:{store:"{kelurahanstore}"},listeners:{specialkey:"onFocusEnter",select:"onSelectedKel"}}]}],getFormData:function(){var f=this.getForm().getValues();f.WILAYAH=f.KELURAHAN||f.KECAMATAN||f.KABUPATEN||f.PROPINSI;delete f.PROPINSI;delete f.KABUPATEN;delete f.KECAMATAN;delete f.KELURAHAN;return f},loadRecord:function(s){var o=this,p=s.get("WILAYAH"),m=o.getViewModel(),n=o.getController(),v=n.getReferences(),u=m.get("propinsistore"),l=m.get("kabupatenstore"),t=m.get("kecamatanstore"),q=m.get("kelurahanstore"),D=false;if(!(p==null||p=="")){p=p+"";if(u){new Ext.util.DelayedTask(function(){if(u.getCount()>0){if(p.length>0&&u!=null){v.prop.setValue(p.substring(0,2))}if(p.length>2&&l!=null){l.queryParams.ID=p.substring(0,2);l.load()}}}).delay(500)}else{D=true}}else{D=true}if(D){l.removeAll();v.kab.select(null);t.removeAll();v.kec.select(null);q.removeAll();v.kel.select(null)}return o.getForm().loadRecord(s)},setWilayah:function(t){var u=this,s=u.getViewModel(),g=s.get("propinsistore"),f=s.get("kabupatenstore"),e=u.down("[name=WILAYAH]"),v=u.down("[name=PROPINSI]");e.setValue(t);if(g.getCount()>0){if(t.length>0&&g!=null){v.setValue(t.substring(0,2))}if(t.length>2&&f!=null){f.queryParams.ID=t.substring(0,2);f.load()}}}},0,["form-alamat"],["component","box","container","panel","form","form-alamat"],{component:true,box:true,container:true,panel:true,form:true,"form-alamat":true},["widget.form-alamat"],0,[pasien,"FormAlamat"],0));(Ext.cmd.derive("pasien.FormAlamatController",Ext.app.ViewController,{init:function(){var u=this,k=u.getViewModel(),t=u.getReferences(),l=k.get("propinsistore"),v=k.get("kabupatenstore"),n=k.get("kecamatanstore"),m=k.get("kelurahanstore");l.on("load",function(){var e=t.wil.getValue();if(e.length>0&&l!=null){t.prop.setValue(e.substring(0,2))}v.removeAll();t.kab.select(null);n.removeAll();t.kec.select(null);m.removeAll();t.kel.select(null);if(e.length>0&&v!=null){v.queryParams.ID=e.substring(0,2);v.load()}});v.on("load",function(){var e=t.wil.getValue();if(e.length>2&&v!=null){t.kab.setValue(e.substring(0,4))}n.removeAll();t.kec.select(null);m.removeAll();t.kel.select(null);if(e.length>2&&n!=null){n.queryParams.ID=e.substring(0,4);n.load()}});n.on("load",function(){var e=t.wil.getValue();if(e.length>4&&n!=null){t.kec.setValue(e.substring(0,6))}m.removeAll();t.kel.select(null);if(e.length>4&&m!=null){m.queryParams.ID=e.substring(0,6);m.load()}});m.on("load",function(){var e=t.wil.getValue();t.kel.setValue(e)})},initViewModel:function(){var k=this,g=k.getViewModel();g.get("propinsistore").initStore("propinsi")},onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSelectedProp:function(e,f){var o=this,g=o.getViewModel().get("kabupatenstore");if(f){this.getReferences().wil.setValue(f.get("ID"));g.queryParams.ID=f.get("ID");g.load()}},onSelectedKab:function(o,f){var g=this,e=g.getViewModel().get("kecamatanstore");if(f){this.getReferences().wil.setValue(f.get("ID"));e.queryParams.ID=f.get("ID");e.load()}},onSelectedKec:function(e,f){var g=this,o=g.getViewModel().get("kelurahanstore");if(f){this.getReferences().wil.setValue(f.get("ID"));o.queryParams.ID=f.get("ID");o.load()}},onSelectedKel:function(k,g){if(g){this.getReferences().wil.setValue(g.get("ID"))}},onBlurProp:function(k){var g=k.getSelection();if(g==null){this.removeStoreData(this.getReferences().kab,"kabupatenstore");this.removeStoreData(this.getReferences().kec,"kecamatanstore");this.removeStoreData(this.getReferences().kel,"kelurahanstore")}},onBlurKab:function(k){var g=k.getSelection();if(g==null){this.removeStoreData(this.getReferences().kec,"kecamatanstore");this.removeStoreData(this.getReferences().kel,"kelurahanstore")}},onBlurKec:function(k){var g=k.getSelection();if(g==null){this.removeStoreData(this.getReferences().kel,"kelurahanstore")}},removeStoreData:function(m,e){var f=this;f.getViewModel().get(e).removeAll();m.select(null)}},0,0,0,0,["controller.form-alamat"],0,[pasien,"FormAlamatController"],0));(Ext.cmd.derive("pasien.FormController",Ext.app.ViewController,{changeTglLhr:false,firstLoad:true,totalStore:12,ctrStore:12,initViewModel:function(){var k=this,g=k.getViewModel();g.get("agamastore").initStore("agama",function(){k.ctrStore--});g.get("jeniskelaminstore").initStore("jeniskelamin",function(){k.ctrStore--});g.get("pendidikanstore").initStore("pendidikan",function(){k.ctrStore--});g.get("pekerjaanstore").initStore("pekerjaan",function(){k.ctrStore--});g.get("statusperkawinanstore").initStore("statusperkawinan",function(){k.ctrStore--});g.get("golongandarahstore").initStore("golongandarah",function(){k.ctrStore--});g.get("shdkstore").initStore("shdk",function(){k.ctrStore--});g.get("jeniskontakstore").initStore("jeniskontak",function(){k.ctrStore--});g.get("negarastore").initStore("negara",function(){k.ctrStore--});g.get("tempatlahirstore").initStore("tempatlahir",function(){k.ctrStore--});g.get("jeniskipstore").initStore("jeniskip",function(){k.ctrStore--});g.get("jeniskapstore").initStore("jeniskap",function(){k.ctrStore--})},loadRecord:function(g){var v=this,f=v.getViewModel(),x=v.getView(),w=v.getReferences(),y=g.get("NORM")||0,u=g.get("KELUARGA"),e=Ext.getStore("instansi"),z=e?e.getAt(0).get("REFERENSI").PPK.WILAYAH:"";x.setLoading(true);if(v.task==undefined){v.task={interval:500,run:function(){if(v.ctrStore==0){v.ctrStore=v.totalStore;Ext.TaskManager.stop(v.task);f.set("pasien",g);var k=Ext.isNumeric(g.get("NORM"))&&g.get("NORM")>0;if(!x.isOpenWindow){f.set("hideBatal",!k);f.set("hideReset",k)}if(!g.get("WILAYAH")){g.set("WILAYAH",z)}if(!g.get("KARTUIDENTITAS")){g.set("KARTUIDENTITAS",[new data.model.KIP({WILAYAH:z})])}if(!g.get("KONTAK")){g.set("KONTAK",[new data.model.KontakPasien()])}w.identitas.loadRecord(g);w.frmAlamat.loadRecord(g);w.kip.loadRecord(g);w.kontaks.loadRecord(g);w.keluarga.loadRecord(g)}x.setLoading(false)}}}Ext.TaskManager.start(v.task)},onReset:function(){var f=this;f.loadRecord(f.getViewModel().get("pasien"))},onBatal:function(f){this.getView().fireEvent("batal",f)},onSimpan:function(k){var g=this;if(g.getView().getForm().isValid()){this.simpan(k,function(f,e,m){if(f){g.getView().fireEvent("simpansuccess",k,e,true,m,false)}})}},onSimpanCetak:function(e){var m=this,f=m.getView();if(m.getView().getForm().isValid()){this.simpan(e,function(l,g,o){if(l){var k=Ext.create("data.model.KartuPasien",{NORM:g.get("NORM"),JENIS:1});k.animateTarget=e;k.scope=m;k.showError=true;k.save({callback:function(t,n,s){if(s){f.fireEvent("cetakkartu",g);new Ext.util.DelayedTask(function(){f.fireEvent("cetakbarcode",g)}).delay(1000);new Ext.util.DelayedTask(function(){f.fireEvent("simpansuccess",e,g,true,o,true)}).delay(2000)}}})}})}},privates:{disableBtnSimpan:function(g){var k=this.getReferences();k.simpan.setDisabled(g);k.simpancetak.setDisabled(g)},simpan:function(k,f){var E=this,G=E.getView(),D=E.getViewModel().get("pasien"),C=D.data,F=E.getReferences(),m=F.identitas.getFormData(),l=F.frmAlamat.getFormData(),e=F.kip.getFormData(),g=F.kontaks.getFormData(),B=F.keluarga.getFormData(),H=!E.getViewModel().get("hideBatal");E.clearReferenceInModel(C);m=Ext.merge(m,l);if(e){m.KARTUIDENTITAS=e}if(g){m.KONTAK=g}if(B){m.KELUARGA=B}D.set(m);D.animateTarget=k;D.scope=E;D.showError=true;G.setLoading(true);D.save({callback:function(n,o,q){G.setLoading(false);if(q){var p="Pasien An. "+D.get("NAMA")+(H?" berhasil dilakukan perubahan data":" berhasil didaftarkan");Ext.toast({html:p,headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});E.loadRecord(n);if(f!=undefined){f(true,n,H)}}}})}},onFocusEnter:function(o,p){if(p.getKey()===p.ENTER){var g=this.getView().query("component[enterFocus=true]"),q=g.indexOf(o)+1,e=q>=g.length?null:g[q];if(e){e.focus()}}},onChangeNomorKIP:function(e,f){var g=this,q=g.getView(),p=this.getViewModel();if(g.firstLoad){g.firstLoad=false}else{g.disableBtnSimpan(true)}if(f.trim().length==16){data.model.KIP.load(e.getValue(),{success:function(k,l){if(k.get("NORM")!=p.get("pasien.NORM")){data.model.Pasien.load(k.get("NORM"),{success:function(n,m){Ext.MessageBox.show({title:"Pencarian Pasien",msg:"Pasien tersebut sudah terdaftar dgn Nomor Kartu "+e.getValue()+" ini :<br/><h2>"+n.get("NAMA")+" - "+p.toFormatNorm(n.get("NORM"))+"</h2><p>Anda ingin menampilkan data pasien ini ?</p>",buttons:Ext.MessageBox.YESNO,animateTarget:e,scope:this,icon:Ext.MessageBox.INFO,fn:function(o){if(o=="yes"){q.fireEvent("simpansuccess",e,n,false,false,false)}e.setValue("");e.focus();g.disableBtnSimpan(false)}})}})}}})}},onBlurNorm:function(q){var n=this,p=n.getView(),e=n.getViewModel(),o=""+q.getValue();if(q.getValue()==null){return}if(o.length>0){if(data.model){data.model.Pasien.load(o,{success:function(f){Ext.MessageBox.show({title:"Pencarian Pasien",msg:"Pasien tersebut sudah terdaftar:<br/><h2>"+f.get("NAMA")+" - "+e.toFormatNorm(f.get("NORM"))+"</h2><p>Anda ingin menampilkan data pasien ini ?</p>",buttons:Ext.MessageBox.YESNO,animateTarget:q,scope:n,icon:Ext.MessageBox.INFO,fn:function(g){if(g=="yes"){n.getView().fireEvent("simpansuccess",q,f,false,false,false)}q.setValue("");q.focus()}})}})}}},onBlurNomorKIP:function(l){var H=this,I=H.getView(),f=I.down("form-kartu-identitas"),e=""+l.getValue(),m=H.getViewModel(),E=m.get("pasien");H.disableBtnSimpan(false);if(l.getValue()==null){return}if(e.length==16&&f.getJenis()==1){var k=e.substring(6,12),J=k.substring(0,2),n=k.substring(2,4),F=k.substring(4,6),D=(Number(J)-40)<1?1:2;J=Ext.String.leftPad((D==1?J:(Number(J)-40)),2,"0");var G=Ext.Date.parse(F+"-"+n+"-"+J,"y-m-d"),g=I.down("form-identitas");if(!Ext.isNumeric(E.get("NORM"))){g.setJenisKelamin(D);g.setTanggalLahir(G)}f.getFormAlamat().setWilayah(e.substring(0,6))}},onAlamatSkrgOnChange:function(l,x){var k=this,n=k.getViewModel().get("pasien"),m=k.getReferences(),w=m.frmAlamat.getFormData(),p=m.kip.getFormData(),o=n.get("KARTUIDENTITAS");if(x){o=o?o[0]:{};if(p){p=Ext.merge(p,w)}else{p=w}o=Ext.Object.merge(o.data?o.data:o,p);n.get("KARTUIDENTITAS")[0]=o;m.kip.loadRecord(n)}m.kip.down("[name=NOMOR]").allowBlank=!x},onChangeUmurTgl:function(f,m){var e=this;if(m==null){return}if(Ext.isDate(m)){e.changeTglLhr=true;umur=e.getViewModel().getTglToUmur(new Date(),m);e.getReferences().umur_tahun.setValue(umur.thn);e.getReferences().umurBulan.setValue(umur.bln);e.getReferences().umurHari.setValue(umur.hr)}},onChangeUmurTahun:function(k){var g=this;if(!g.changeTglLhr){thn=g.getViewModel().getUmurToTglLahir(k.getValue());g.getReferences().tgl_lahir.setValue(thn)}g.changeTglLhr=false},onBlurTglLahir:function(){var f=this.getReferences().umur_tahun.getValue();this.dibawahUmur(f>-1?f:-1)},onBlurUmurTahun:function(k){var g=this.getReferences().umur_tahun.getValue();this.dibawahUmur(g>-1?g:-1)},dibawahUmur:function(k){if(k==null){return}var g=this.getReferences().identitas;if(k>=0){if(k<=12){g.down("[name=STATUS_PERKAWINAN]").setValue(1)}if(k<=5){g.down("[name=PENDIDIKAN]").setValue(1)}if(k>=6&&k<=11){g.down("[name=PENDIDIKAN]").setValue(2)}if(k>=12&&k<=14){g.down("[name=PENDIDIKAN]").setValue(3)}if(k>=14&&k<=17){g.down("[name=PENDIDIKAN]").setValue(4)}if(k<=17){g.down("[name=PEKERJAAN]").setValue(1)}}},clearReferenceInModel:function(f){delete f.KARTUIDENTITAS;delete f.KONTAK;delete f.KELUARGA}},0,0,0,0,["controller.pasien-form"],0,[pasien,"FormController"],0));(Ext.cmd.derive("pasien.FormIdentitas",com.Form,{title:"Data Identitas",header:{iconCls:"x-fa fa-user",margin:0,padding:"0 15 0 15",layout:{type:"hbox",align:"middle"},items:[{xtype:"component",flex:1},{xtype:"displayfield",cls:"x-color-blue x-font-weight",bind:"{getInfoNoRM}"}]},bodyPadding:5,layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 0 3 0"},items:[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},flex:1,defaults:{margin:"0 1"},items:[{xtype:"numberfield",name:"NORM",hidden:true},{xtype:"numberfield",name:"NORM_MANUAL",emptyText:"[Masukkan Norm Manual]",enterFocus:true,enforceMaxLength:true,maxLength:8,hideTrigger:true,bind:{hidden:"{formConfig.hideNorm}"},listeners:{specialkey:"onFocusEnter",blur:"onBlurNorm"}},{xtype:"textfield",name:"GELAR_DEPAN",enterFocus:true,enforceMaxLength:true,maxLength:25,flex:1,emptyText:"[Gelar Depan]",listeners:{specialkey:"onFocusEnter"}},{xtype:"textfield",name:"NAMA",enterFocus:true,enforceMaxLength:true,allowBlank:false,maxLength:75,flex:3,emptyText:"[Masukkan Nama Tanpa Gelar]",listeners:{specialkey:"onFocusEnter"}},{xtype:"textfield",name:"GELAR_BELAKANG",enterFocus:true,enforceMaxLength:true,maxLength:35,flex:2,emptyText:"[Gelar Blkg]",listeners:{specialkey:"onFocusEnter"}},{xtype:"component",html:"/",style:"padding-top: 7px; text-align: center",width:10},{xtype:"textfield",name:"PANGGILAN",enterFocus:true,enforceMaxLength:true,maxLength:15,width:187,emptyText:"[Masukkan Nama Panggilan]",listeners:{specialkey:"onFocusEnter"}}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaultType:"combobox",defaults:{margin:"0 1"},items:[{name:"TEMPAT_LAHIR",enterFocus:true,enforceMaxLength:true,maxLength:35,flex:1,displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",typeAhead:true,emptyText:"[Pilih Tempat Lahir]",bind:{store:"{tempatlahirstore}"},listeners:{specialkey:"onFocusEnter"}},{xtype:"datefield",name:"TANGGAL_LAHIR",enterFocus:true,allowBlank:false,maxValue:new Date(),width:200,emptyText:"[Tgl. Lahir (tgl/bln/thn)]",format:"d/m/Y",reference:"tgl_lahir",listeners:{change:"onChangeUmurTgl",blur:"onBlurTglLahir",specialkey:"onFocusEnter"}},{xtype:"numberfield",hideTrigger:true,name:"UMUR_TAHUN",width:85,enterFocus:true,emptyText:"Umur Thn",reference:"umur_tahun",listeners:{change:"onChangeUmurTahun",blur:"onBlurUmurTahun",specialkey:"onFocusEnter"}},{xtype:"numberfield",hideTrigger:true,name:"UMUR_BULAN",width:85,enterFocus:true,emptyText:"Umur Bln",reference:"umurBulan",readonly:true,listeners:{specialkey:"onFocusEnter"}},{xtype:"numberfield",hideTrigger:true,name:"UMUR_TGL",width:85,enterFocus:true,readonly:true,emptyText:"Umur hr",reference:"umurHari",listeners:{specialkey:"onFocusEnter"}},{xtype:"referensi-combo",name:"JENIS_KELAMIN",enterFocus:true,params:{JENIS:2,STATUS:1},emptyText:"[Pilih Jenis Kelamin]",allowBlank:false,listeners:{specialkey:"onFocusEnter"}}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaultType:"referensi-combo",defaults:{margin:"0 1",flex:1,enterFocus:true,listeners:{specialkey:"onFocusEnter"}},items:[{name:"AGAMA",emptyText:"[Agama]",bind:{store:"{agamastore}"}},{name:"STATUS_PERKAWINAN",emptyText:"[Status Perkawinan]",bind:{store:"{statusperkawinanstore}"}},{name:"PENDIDIKAN",emptyText:"[Pendidikan]",bind:{store:"{pendidikanstore}"}},{name:"PEKERJAAN",emptyText:"[Pekerjaan]",bind:{store:"{pekerjaanstore}"}}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaultType:"referensi-combo",defaults:{margin:"0 1",enterFocus:true,listeners:{specialkey:"onFocusEnter"}},items:[{name:"GOLONGAN_DARAH",flex:1,emptyText:"[Gol. Darah]",params:{JENIS:6,STATUS:1},tooltip:"Golongan Darah"},{name:"KEWARGANEGARAAN",flex:1,emptyText:"[Kewarganegaraan]",bind:{store:"{negarastore}"}},{name:"SUKU",flex:1,emptyText:"[Suku]",params:{JENIS:140,STATUS:1}},{name:"STATUS",flex:1,emptyText:"[Status]",firstLoad:true,params:{JENIS:13,STATUS:1},bind:{hidden:"{!formConfig.status}"}}]}],getFormData:function(){var f=this.getForm().getValues();tgl=this.down("[name=TANGGAL_LAHIR]").getValue();f.TANGGAL_LAHIR=tgl;delete f.UMUR_BULAN;delete f.UMUR_TAHUN;delete f.UMUR_TGL;return f},onLoadRecord:function(J,E){if(E){var m={hideNorm:Ext.isNumeric(E.get("NORM")),status:false},f=J.down("[name=NORM_MANUAL]"),H=J.down("[name=GELAR_DEPAN]"),F=J.down("[name=JENIS_KELAMIN]"),G=J.down("[name=AGAMA]"),l=J.down("[name=STATUS_PERKAWINAN]"),k=J.down("[name=PENDIDIKAN]"),e=J.down("[name=PEKERJAAN]"),g=J.down("[name=GOLONGAN_DARAH]"),n=J.down("[name=KEWARGANEGARAAN]"),D=J.down("[name=SUKU]"),I=J.getPropertyConfig("1");if(J.getPropertyConfig("2")=="FALSE"){m.hideNorm=true}if(I!="FALSE"){f.setMaxValue(I)}m.status=J.app.xpriv("10070101",false);J.setFormConfig(m);if(!m.hideNorm){f.focus(false,100)}else{H.focus(false,100)}F.load();F.doAfterLoad=function(s,p,o){if(E.get("JENIS_KELAMIN_DESK")){J.comboSelectFromStore("jeniskelamin","DESKRIPSI",E.get("JENIS_KELAMIN_DESK"),F,false)}else{var t=E.get("JENIS_KELAMIN")?E.get("JENIS_KELAMIN"):1,q=o.findRecord("ID",t,0,true,false,true);F.select(q)}};if(E.get("AGAMA")){J.comboSelectFromStore("agama","ID",E.get("AGAMA"),G)}else{if(E.get("AGAMA_DESK")){J.comboSelectFromStore("agama","DESKRIPSI",E.get("AGAMA_DESK"),G,false)}}if(E.get("STATUS_PERKAWINAN")){J.comboSelectFromStore("statusperkawinan","ID",E.get("STATUS_PERKAWINAN"),l)}else{if(E.get("STATUS_PERKAWINAN_DESK")){J.comboSelectFromStore("statusperkawinan","DESKRIPSI",E.get("STATUS_PERKAWINAN_DESK"),l,false)}}g.load();g.doAfterLoad=function(s,p,o){if(E.get("GOLONGAN_DARAH_DESK")){p.comboSelectFromStore("golongandarah","DESKRIPSI",E.get("GOLONGAN_DARAH_DESK"),g,false)}else{var t=E.get("GOLONGAN_DARAH")?E.get("GOLONGAN_DARAH"):1,q=o.findRecord("ID",E.get("GOLONGAN_DARAH"),0,true,false,true);g.select(q)}};if(E.get("KEWARGANEGARAAN")){J.comboSelectFromStore("negara","ID",E.get("KEWARGANEGARAAN"),n)}else{n.select(null);n.select(Ext.create("data.model.Negara",{ID:71,DESKRIPSI:"INDONESIA"}))}D.loadToSelect(E.get("SUKU"));new Ext.util.DelayedTask(function(){if(E.get("PENDIDIKAN")){J.comboSelectFromStore("pendidikan","ID",E.get("PENDIDIKAN"),k)}else{if(E.get("PENDIDIKAN_DESK")){J.comboSelectFromStore("pendidikan","DESKRIPSI",E.get("PENDIDIKAN_DESK"),k,false)}}}).delay(500);new Ext.util.DelayedTask(function(){if(E.get("PEKERJAAN")){J.comboSelectFromStore("pekerjaan","ID",E.get("PEKERJAAN"),e)}else{if(E.get("PEKERJAAN_DESK")){J.comboSelectFromStore("pekerjaan","DESKRIPSI",E.get("PEKERJAAN_DESK"),e,false)}}}).delay(1000)}},comboSelectFromStore:function(w,e,z,B,g,x){var y=Ext.getStore(w),v=g!=undefined?g:true,f=x!=undefined?x:false,A=y.findRecord(e,z,0,v,f,true);B.select(A)},setJenisKelamin:function(k){var m=this,l=m.down("[name=JENIS_KELAMIN]");m.comboSelectFromStore("jeniskelamin","ID",k,l,false)},setTanggalLahir:function(f){var s=this,t=s.down("[name=TANGGAL_LAHIR]"),p=s.getSysdate(),e=Ext.util.Format.date(t.getValue(),"Y-m-d"),q=Ext.util.Format.date(p,"Y-m-d");if(e==q){t.setValue(f)}}},0,["form-identitas"],["component","box","container","panel","form","com-form","form-identitas"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-identitas":true},["widget.form-identitas"],0,[pasien,"FormIdentitas"],0));(Ext.cmd.derive("pasien.FormKartuIdentitas",Ext.form.Panel,{title:"Kartu Identitas",header:{iconCls:"x-fa fa-credit-card",margin:0,padding:"5 15 5 15",layout:{type:"hbox",align:"middle"},items:[{xtype:"component",flex:1},{xtype:"checkboxfield",boxLabel:"Sama Dengan Alamat Sekarang",name:"ALAMAT",checked:false,reference:"isAlamatSkrg",listeners:{change:"onAlamatSkrgOnChange"}}]},layout:{type:"vbox",align:"stretch"},bodyPadding:5,defaults:{margin:"0 0 3"},items:[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaultType:"combobox",items:[{xtype:"numberfield",inputType:"hidden",name:"NORM",hidden:true},{name:"JENIS",enterFocus:true,typeAhead:true,forceSelection:true,validateOnBlur:true,emptyText:"[Jenis Kartu]",queryMode:"local",margin:"0 1 0 1",flex:1,displayField:"DESKRIPSI",valueField:"ID",bind:{store:"{jeniskipstore}"},listeners:{specialkey:"onFocusEnter"}},{xtype:"textfield",name:"NOMOR",enterFocus:true,margin:"0 1 0 1",emptyText:"[Nomor Kartu]",flex:1,listeners:{specialkey:"onFocusEnter",change:"onChangeNomorKIP",blur:"onBlurNomorKIP"}}]},{xtype:"form-alamat",header:false,bodyPadding:0,bodyStyle:"background: white",border:false,listeners:{specialkey:"onFocusEnter"}}],getFormData:function(){var m=this.getForm().getValues(),f=this.down("form-alamat").getFormData(),e=!(m.NOMOR==""||m.NOMOR==null||Number(m.JENIS)==0);delete m.PROPINSI;delete m.KABUPATEN;delete m.KECAMATAN;m.WILAYAH=m.KELURAHAN;delete m.KELURAHAN;m=Ext.merge(m,f);return e?[m]:null},loadRecord:function(f){var e=this,m=f.get("KARTUIDENTITAS")||null,m=Ext.isArray(m)?m[0]:m;m=Ext.getClassName(m)==""?new data.model.KIP(m):m;if(m){e.down("form-alamat").loadRecord(m)}return e.getForm().loadRecord(m)},getFormAlamat:function(){return this.down("form-alamat")},getJenis:function(){return this.down("[name=JENIS]").getValue()}},0,["form-kartu-identitas"],["component","box","container","panel","form","form-kartu-identitas"],{component:true,box:true,container:true,panel:true,form:true,"form-kartu-identitas":true},["widget.form-kartu-identitas"],0,[pasien,"FormKartuIdentitas"],0));(Ext.cmd.derive("pasien.FormKeluarga",Ext.form.Panel,{controller:"form-keluarga",title:"Keluarga",layout:{type:"vbox",align:"stretch"},header:{iconCls:"x-fa fa-group",margin:0,padding:"10 15 10 15"},tools:[{xtype:"tool",cls:"x-fa fa-plus hide-icon-tools",width:20,height:20,listeners:{click:"onAdd"}}],bodyPadding:5,defaults:{margin:"0 0 10 0"},items:[{xtype:"keluarga",bodyStyle:"background: white",border:false,hideDelete:true,listeners:{specialkey:"onFocusEnter"}},{xtype:"keluarga",bodyStyle:"background: white",border:false,hideDelete:true,listeners:{specialkey:"onFocusEnter"}}],getFormData:function(){var f=[];this.items.each(function(p){var g=p.down("kontak").getFormData(),o=p.down("form").getForm().getValues(),e=o.NAMA!=""&&Number(o.SHDK)>0&&Number(o.JENIS_KELAMIN)>0;if(e){if(g){o.KONTAK=[g]}f.push(o)}});return f.length>0?f:null},loadRecord:function(e){var g=this,f=e.get("KELUARGA")||null;len=f?f.length:0;for(var o=g.items.getCount();o<len;o++){g.getController().onAdd(null)}g.items.each(function(k,l){if(len>0){k.loadRecord(f[l])}});return true}},0,["form-keluarga"],["component","box","container","panel","form","form-keluarga"],{component:true,box:true,container:true,panel:true,form:true,"form-keluarga":true},["widget.form-keluarga"],0,[pasien,"FormKeluarga"],0));(Ext.cmd.derive("pasien.FormKeluargaController",Ext.app.ViewController,{onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onAdd:function(e){var f=this.getView(),m=Ext.create("pasien.Keluarga",{listeners:{specialkey:"onFocusEnter",ondelete:"onDelete"}});f.add(m);m.down("textfield").focus()},onDelete:function(f){this.getView().remove(f.ownerCt.ownerCt.ownerCt)}},0,0,0,0,["controller.form-keluarga"],0,[pasien,"FormKeluargaController"],0));(Ext.cmd.derive("pasien.FormKontak",Ext.form.Panel,{controller:"form-kontak",title:"Kontak",layout:{type:"vbox",align:"stretch"},cls:"icon-title",header:{iconCls:"x-fa fa-phone",margin:0,padding:"10 15 10 15"},tools:[{xtype:"tool",cls:"x-fa fa-plus hide-icon-tools",width:20,height:20,listeners:{click:"onAdd"}}],bodyPadding:5,defaults:{margin:"0 0 5 0"},items:[{xtype:"kontak",listeners:{specialkey:"onFocusEnter"},hideDelete:true}],getFormData:function(){var f=[];this.items.each(function(e){var k=e.getFormData();if(k){f.push(k)}});return f.length>0?f:null},loadRecord:function(e){var g=this,f=e.get("KONTAK")||null;load=g.getForm().loadRecord(e);len=f?f.length:0;for(var o=g.items.getCount();o<len;o++){g.getController().onAdd(null)}g.items.each(function(k,l){if(len>0){k.loadRecord(f[l])}});return load}},0,["form-kontak"],["component","box","container","panel","form","form-kontak"],{component:true,box:true,container:true,panel:true,form:true,"form-kontak":true},["widget.form-kontak"],0,[pasien,"FormKontak"],0));(Ext.cmd.derive("pasien.FormKontakController",Ext.app.ViewController,{onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onAdd:function(m){var e=this.getView(),f=Ext.create("pasien.Kontak",{});e.add(f);f.down("textfield").focus()},onDelete:function(f){this.getView().remove(f.ownerCt)}},0,0,0,0,["controller.form-kontak"],0,[pasien,"FormKontakController"],0));(Ext.cmd.derive("pasien.Grid",com.Grid,{controller:"pasien-grid",viewModel:{data:{filter:{NAMA:"",TANGGAL_LAHIR:"",ALAMAT:""}},stores:{store:{type:"pasien-store"}}},title:"Daftar Pasien",ui:"panel-cyan",tbar:[{xtype:"textfield",flex:1,jns:1,bind:"{filter.NAMA}",emptyText:"Nama Pasien",listeners:{change:"onCari"}},{xtype:"datefield",flex:1,jns:2,bind:"{filter.TANGGAL_LAHIR}",emptyText:"Tanggal Lahir",listeners:{blur:"onCari"},format:"d/m/Y"},{xtype:"textfield",flex:1,jns:3,bind:"{filter.ALAMAT}",emptyText:"Alamat Pasien",listeners:{change:"onCari"}}],actions:{buka:{iconCls:"x-fa fa-folder-open",tooltip:"Buka Pasien",handler:"onBuka"}},columns:[{xtype:"rownumberer",text:"No",menuDisabled:true,sortable:false,align:"left",width:70},{text:"No RM",dataIndex:"NORM",width:70},{text:"Nama Pasien",dataIndex:"NAMA",flex:1},{text:"Alamat",dataIndex:"ALAMAT",flex:1},{xtype:"datecolumn",text:"Tanggal Lahir",dataIndex:"TANGGAL_LAHIR",format:"d/m/Y",width:90},{text:"Tempat Lahir",dataIndex:"TEMPAT_LAHIR",width:200,renderer:"onRendererTempatLahir"},{text:"Nama Ibu",flex:1,renderer:"onRendererNamaIbu"},{menuDisabled:true,sortable:false,align:"center",xtype:"actioncolumn",width:50,items:["@buka"]}],createMenuContext:function(){var f=this;f.menucontext=new Ext.menu.Menu({items:[{text:"Detail Pasien",glyph:"xf05a@FontAwesome",handler:function(){f.getController().onDetilPasien()}},{text:"Daftarkan Kunjungan",glyph:"xf234@FontAwesome",handler:function(){f.getController().onPendaftaranKunjungan()}},{text:"Refresh",glyph:"xf021@FontAwesome",handler:function(){f.refresh()}}]});return f.menucontext},initComponent:function(){this.createMenuContext();com.Grid.prototype.initComponent.apply(this,arguments)},listeners:{rowcontextmenu:"onKlikKananMenu",itemdblclick:"onItemDoubleClick",itemkeydown:"onItemKeydown"}},0,["pasien-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","pasien-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"pasien-grid":true},["widget.pasien-grid"],0,[pasien,"Grid"],0));(Ext.cmd.derive("pasien.GridController",Ext.app.ViewController,{onCari:function(t,g){var e=this,q=e.getView(),u=e.getViewModel(),s=q.down("pagingtoolbar"),v=t.getValue();if(t.jns==1){u.set("filter.NAMA",g)}if(t.jns==3){u.set("filter.ALAMAT",g)}if(t.jns==2){if(v==null){u.set("filter.TANGGAL_LAHIR",null)}else{u.set("filter.TANGGAL_LAHIR",Ext.util.Format.date(v,"Y-m-d"))}}q.setParams(u.get("filter"));if(s){s.moveFirst()}else{q.load()}},onRendererTempatLahir:function(o,e,n){var p=n.get("REFERENSI"),q=p?(p.TEMPATLAHIR?p.TEMPATLAHIR.DESKRIPSI:""):"";return Ext.isNumeric(o)?q:o},onRendererNamaIbu:function(k,q,p,s,e,t){return this.getNamaIbu(p.get("KELUARGA"))},getNamaIbu:function(g){if(g==null||g.length==0){return""}var k=null;Ext.Array.each(g,function(e){if(e.SHDK=="7"&&e.JENIS_KELAMIN=="2"){k=e}});return k==null?"":k.NAMA},onPendaftaranKunjungan:function(m){var l=this,n=l.getView(),o=m!=null?m:n.getSelection()[0];n.fireEvent("pendaftarankunjungan",o)},onItemDoubleClick:function(q,o,g,e,p){this.onPendaftaranKunjungan(o)},onItemKeydown:function(s,q,p,t,f){var e=this;if(f.getKey()==f.ENTER){e.onPendaftaranKunjungan(q)}},onBuka:function(s,e,q,f,u,v){var t=this;new Ext.util.DelayedTask(function(){t.onPendaftaranKunjungan(v)}).delay(200)},onKlikKananMenu:function(f,k,e,l,w){var v=this,g=v.getView(),x=w.getXY();w.stopEvent();g.menucontext.showAt(x)},onDetilPasien:function(){var g=this.getView(),k=g.getSelection()[0];g.fireEvent("detailpasien",k)}},0,0,0,0,["controller.pasien-grid"],0,[pasien,"GridController"],0));(Ext.cmd.derive("pasien.Keluarga",com.Form,{controller:"keluarga",layout:{type:"vbox",align:"stretch"},viewModel:{stores:{jeniskelaminstore:{type:"referensi-store",queryParams:{JENIS:2}},pendidikanstore:{type:"referensi-store",queryParams:{JENIS:3}},pekerjaanstore:{type:"referensi-store",queryParams:{JENIS:4}},shdkstore:{type:"referensi-store",queryParams:{JENIS:7}}}},header:false,border:false,hideDelete:false,hideKontak:false,defaults:{margin:"0 1 0 1"},bodyPadding:0,initComponent:function(){this.items=[{xtype:"form",layout:{type:"vbox",align:"stretch"},header:false,border:false,defaults:{margin:"0 0 2 0"},bodyStyle:"background: white",items:[{xtype:"fieldcontainer",flex:1,layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 1 0 1"},items:[{xtype:"numberfield",inputType:"hidden",name:"NORM",hidden:true},{xtype:"numberfield",inputType:"hidden",name:"ID",hidden:true},{xtype:"combobox",name:"SHDK",enterFocus:true,forceSelection:true,validateOnBlur:true,emptyText:"[Hubungan dgn Pasien]",bind:{store:"{shdkstore}",readOnly:"{formConfig.viewOnly}"},queryMode:"local",displayField:"DESKRIPSI",valueField:"ID",flex:1,listeners:{specialkey:"onFocusEnter",select:"onSelected"}},{xtype:"textfield",enforceMaxLength:true,maxLength:75,name:"NAMA",enterFocus:true,emptyText:"[Nama Keluarga tanpa Gelar]",width:300,bind:{readOnly:"{formConfig.viewOnly}"},listeners:{specialkey:"onFocusEnter"}},{xtype:"button",hidden:this.hideDelete,ui:"soft-red",iconCls:"x-fa fa-times",handler:"onDelete"}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaultType:"combobox",defaults:{margin:"0 1 0 1",enterFocus:true,typeAhead:true,forceSelection:true,queryMode:"local",displayField:"DESKRIPSI",valueField:"ID",listeners:{specialkey:"onFocusEnter"},bind:{readOnly:"{formConfig.viewOnly}"}},items:[{name:"JENIS_KELAMIN",width:150,emptyText:"[Jenis Kelamin]",bind:{store:"{jeniskelaminstore}",readOnly:"{formConfig.viewOnly}"}},{name:"PENDIDIKAN",flex:1,emptyText:"[Pendidikan]",bind:{store:"{pendidikanstore}",readOnly:"{formConfig.viewOnly}"}},{name:"PEKERJAAN",flex:1,emptyText:"[Pekerjaan]",bind:{store:"{pekerjaanstore}",readOnly:"{formConfig.viewOnly}"}}]},{xtype:"textfield",name:"ALAMAT",margin:"0 1 3 1",enterFocus:true,enforceMaxLength:true,maxLength:150,emptyText:"[Masukan Alamat]",listeners:{specialkey:"onFocusEnter"},bind:{readOnly:"{formConfig.viewOnly}"}}]},{xtype:"kontak",hideDelete:true,margin:"0 1 0 1",hidden:this.hideKontak}];com.Form.prototype.initComponent.apply(this,arguments)},loadRecord:function(e){var q=this,g=e||null,p=e?e.KONTAK?e.KONTAK:null:null,f=p?p.length>0?p[p.length-1]:null:null,g=Ext.getClassName(g)==""?new data.model.KeluargaPasien(g):g;if(f){q.down("kontak").loadRecord(new pasien.keluarga.kontak.Model(f))}return q.getForm().loadRecord(g)}},0,["keluarga"],["component","box","container","panel","form","com-form","keluarga"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,keluarga:true},["widget.keluarga"],0,[pasien,"Keluarga"],0));(Ext.cmd.derive("pasien.KeluargaController",Ext.app.ViewController,{initViewModel:function(){var k=this,g=k.getViewModel();g.get("jeniskelaminstore").initStore("jeniskelamin");g.get("pendidikanstore").initStore("pendidikan");g.get("pekerjaanstore").initStore("pekerjaan");g.get("shdkstore").initStore("shdk")},onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSelected:function(e,m){var f=this.getView().down("combobox[name=JENIS_KELAMIN]");if(m.get("ID")==2){f.setValue(1)}else{if(m.get("ID")==3){f.setValue(2)}else{f.select(null)}}},onDelete:function(f){this.getView().fireEvent("ondelete",f)}},0,0,0,0,["controller.keluarga"],0,[pasien,"KeluargaController"],0));(Ext.cmd.derive("pasien.Kontak",com.Form,{layout:{type:"hbox",align:"stretch"},header:false,border:false,refId:"NORM",hideDelete:false,controller:"kontak",viewModel:{stores:{jeniskontakstore:{type:"referensi-store",queryParams:{JENIS:8}}}},defaults:{margin:"0 1 0 1"},bodyPadding:0,bodyStyle:"background: white",initComponent:function(){var f=this;f.items=[{xtype:"numberfield",inputType:"hidden",name:f.refId,hidden:true},{xtype:"textfield",hideTrigger:true,enterFocus:true,enforceMaxLength:true,maxLength:35,name:"NOMOR",hidden:f.hidden,emptyText:"Ex.0411-123456 / 085342123456",width:250,bind:{readOnly:"{formConfig.viewOnly}"},listeners:{specialkey:"onFocusEnter"}},{xtype:"combobox",name:"JENIS",enterFocus:true,typeAhead:true,forceSelection:true,validateOnBlur:true,emptyText:"[Jenis Kontak]",queryMode:"local",displayField:"DESKRIPSI",valueField:"ID",flex:1,hidden:f.hidden,bind:{store:"{jeniskontakstore}",readOnly:"{formConfig.viewOnly}"},listeners:{specialkey:"onFocusEnter"}},{xtype:"button",hidden:f.hideDelete,iconCls:"x-fa fa-times",ui:"soft-red",handler:"onDelete"}];f.callParent(arguments)},getFormData:function(){var g=this.getForm().getValues(),k=g.NOMOR!=""&&Number(g.JENIS)>0;return k?g:null},loadRecord:function(f){var e=this,m=f||null,m=Ext.getClassName(m)==""?new data.model.KontakPasien(m):m;return e.getForm().loadRecord(m)}},0,["kontak"],["component","box","container","panel","form","com-form","kontak"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,kontak:true},["widget.kontak"],0,[pasien,"Kontak"],0));(Ext.cmd.derive("pasien.KontakController",Ext.app.ViewController,{initViewModel:function(){var k=this,g=k.getViewModel();g.get("jeniskontakstore").initStore("jeniskontak")},onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)}},0,0,0,0,["controller.kontak"],0,[pasien,"KontakController"],0));(Ext.cmd.derive("pasien.Pencarian",com.Form,{controller:"pasien-pencarian",layout:{type:"hbox",align:"stretch"},viewModel:{formConfig:{baru:false}},bodyPadding:0,items:[{xtype:"search-field",cls:"x-text-border",iconCls:"iconSearch",autoFocus:true,emptyText:"Cari Pasien dgn Memasukkan No.RM/No.KTP/Nama",reference:"cari_text",enableKeyEvents:true,flex:1,listeners:{search:"onSearch",change:"onChange"}},{iconCls:"x-fa fa-user-plus x-color-gray",cls:"x-btn-white",xtype:"button",handler:"onBaru",width:50,tooltip:"Pasien Baru",hidden:true,bind:{hidden:"{!formConfig.baru}"}},{iconCls:"x-fa fa-list x-color-gray",cls:"x-btn-white",width:50,xtype:"button",handler:"onList",tooltip:"Daftar Pasien"}],onLoadRecord:function(){var f=this;f.setFormConfig({baru:webservice.app.xpriv("1001",false)})}},0,["pasien-pencarian"],["component","box","container","panel","form","com-form","pasien-pencarian"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pasien-pencarian":true},["widget.pasien-pencarian"],0,[pasien,"Pencarian"],0));(Ext.cmd.derive("pasien.PencarianController",Ext.app.ViewController,{dukcapil:{integrasi:undefined,service:undefined},pusdatin:{integrasi:undefined,service:undefined},init:function(){var k=this,g=k.getView();k.dukcapil.integrasi=g.app.xitr("ID",4);if(k.dukcapil.integrasi){k.dukcapil.service=Ext.create(k.dukcapil.integrasi.NAMA_KLAS,{})}k.pusdatin.integrasi=g.app.xitr("ID",5);if(k.pusdatin.integrasi){k.pusdatin.service=Ext.create(k.pusdatin.integrasi.NAMA_KLAS,{})}},onSearch:function(){this.doCari()},doCari:function(){var g=this,k=this.getReferences().cari_text.getValue();if(k.trim().length==0){return}if(Ext.isNumeric(k)){if(k.length==16){g.cariPasienDgnNomor(k)}else{g.cariPasienDgnNorm(k)}}else{g.cariPasienDgnNama(k)}},cariPasienDgnNorm:function(k){var m=this,l=m.getView();if(data.model){data.model.Pasien.load(k,{success:function(e){l.fireEvent("opentab",e,m.getIconSex(e),true,"pasien.Workspace","psn-"+e.getId(),m.toFormatNorm(e.getId()))},failure:function(){l.notifyMessage("Pasien tidak ditemukan","danger-red")}})}},cariPasienDgnNomor:function(k){var m=this,l=m.getView();if(data.model){data.model.KIP.load(k,{success:function(e){m.cariPasienDgnNorm(e.get("NORM"))},failure:function(){if(m.dukcapil.service){m.dukcapil.service.nik(k,function(f,q,e){if(f){if(q.status==200){var p=Ext.create("data.model.Pasien",q.data),g=p.getId().replace("data.model.","");l.fireEvent("opentab",p,m.getIconSex(p),true,"pasien.Workspace",g,g)}else{m.requestPusdatinNIK(k)}}else{m.requestPusdatinNIK(k)}})}else{m.requestPusdatinNIK(k)}}})}},cariPasienDgnNama:function(k){var m=this,l=m.getView();l.openDialog("",true,0,0,{xtype:"pasien-grid",showCloseButton:true,viewModel:{data:{filter:{NAMA:k}}}},function(e,g){var f=g.down("pasien-grid");f.setListConfig({paging:true});f.on({pendaftarankunjungan:function(o){g.close();l.fireEvent("opentab",o,m.getIconSex(o),true,"pasien.Workspace","psn-"+o.getId(),m.toFormatNorm(o.getId()))},detailpasien:function(o){l.openDialog("",true,0,0,{xtype:"pasien-detil",title:"Detil Pasien",ui:"panel-cyan",showCloseButton:true,viewModel:{data:{pasien:o,viewInfoDetil:true}}})}});if(k==""){f.load()}})},onList:function(){this.cariPasienDgnNama("")},onClearText:function(){this.getReferences().cari_text.onClearClick()},onChange:function(e,o){var n=this,p=n.getView(),q=p.down("search-field");if(o==""){q.onClearClick()}},onBaru:function(){var m=this,l=m.getView(),k=new data.model.Pasien();id=k.getId().replace("data.model.","");l.fireEvent("opentab",k,m.getIconSex(k),true,"pasien.Workspace",id,id)},privates:{getIconSex:function(f){return"x-fa fa-"+(f.get("JENIS_KELAMIN")==1?"male":"female")},toFormatNorm:function(m){var l=Ext.String.leftPad(m,8,"0"),k=Ext.String.insert(Ext.String.insert(Ext.String.insert(l,".",2),".",5),".",8);return k},requestPusdatinNIK:function(m){var k=this,l=k.getView();if(k.pusdatin.service){k.pusdatin.service.nik(m,function(f,q,e){if(f){if(q.status==200){var p=Ext.create("data.model.Pasien",q.data),g=p.getId().replace("data.model.","");l.fireEvent("opentab",p,k.getIconSex(p),true,"pasien.Workspace",g,g)}else{l.notifyMessage("Pasien tidak ditemukan","danger-red")}}else{l.notifyMessage("Pasien tidak ditemukan","danger-red")}})}else{l.notifyMessage("Pasien tidak ditemukan","danger-red")}}}},0,0,0,0,["controller.pasien-pencarian"],0,[pasien,"PencarianController"],0));(Ext.cmd.derive("pasien.ShortDetil",com.Form,{controller:"pasien-short-detil",viewModel:{data:{record:undefined,formConfig:{edit:false}},stores:{store:{type:"pasien-store"}},formulas:{getNamaLengkap:function(f){var e=f("record.GELAR_DEPAN")||"",m=f("record.GELAR_BELAKANG")||"";e=e==""?"":e+". ";m=m==""?"":", "+m;return e+f("record.NAMA")+m},getFormatNorm:function(k){var g=k("record.NORM")||0;if(g>0){return this.toFormatNorm(g)}return""},getTempatLahir:function(g){var f=g("record.TEMPAT_LAHIR"),o=f?g("record.REFERENSI"):null,e=o?(o.TEMPATLAHIR?o.TEMPATLAHIR.DESKRIPSI:f):f;return Ext.isNumeric(f)?e:f},getTglLahir:function(f){return Ext.Date.format(f("record.TANGGAL_LAHIR"),"d F Y")},getInfoTanggal:function(e){var m=e("record.TANGGAL"),f=m?Ext.Date.format(m,"d-m-Y H:i:s"):"";return f},getIconSex:function(f){return"x-fa fa-"+(f("record.JENIS_KELAMIN")==1?"mars":"venus")},getUmur:function(k){var g=this.getTglToUmur(new Date(),k("record.TANGGAL_LAHIR"));return Ext.util.Format.format("{0}Thn {1}bln {2}hr",g.thn,g.bln,g.hr)},getStatus:function(m){var k=m("record.REFERENSI"),l=k?(k.STATUS?k.STATUS.DESKRIPSI:""):"";return l}},toFormatNorm:function(e){var f=Ext.String.leftPad(e,8,"0"),m=Ext.String.insert(Ext.String.insert(Ext.String.insert(f,".",2),".",5),".",8);return m},getTglToUmur:function(m,e){var f=Ext.Date.diff(e,m,Ext.Date.DAY);thn=Math.floor(f/365);bln=Math.floor((f%365)/30);hr=Math.floor((f%365)%30);return{thn:thn,bln:bln,hr:hr}}},layout:{type:"vbox",align:"stretch"},config:{hideNorm:false,hideKontak:true},defaults:{style:"font-size: 13px;",margin:"0 0 1 0"},initComponent:function(){var f=this;f.items=[{xtype:"container",flex:1,layout:"hbox",margin:"10 0 2 0",items:[{xtype:"component",style:"font-size: 1.8em; font-weight: bold",margin:"0 10 0 0",bind:{html:"{getFormatNorm}"},hidden:f.hideNorm},{xtype:"button",padding:1,iconCls:"x-fa fa-pencil-square-o",tooltip:"Edit Pasien",ui:"soft-purple",hidden:true,bind:{hidden:"{!formConfig.edit}"},handler:"onEdit"}]},{xtype:"component",style:"font-weight: bold; font-size: 17px",margin:"0 0 3 0",bind:{html:"{getNamaLengkap}"}},{xtype:"component",bind:{html:"{getTempatLahir}, {getTglLahir} / {getUmur}"}},{xtype:"component",bind:{html:'<span class="{getIconSex}"></span>&nbsp;{record.REFERENSI.JENISKELAMIN.DESKRIPSI} / Status. {getStatus}'}},{xtype:"component",cls:"x-color-gray",hidden:f.hideKontak,bind:{data:{KONTAK:"{record.KONTAK}"}},tpl:new Ext.XTemplate('<tpl for="KONTAK">','<span class="{[this.getJenis(values.JENIS)]}">&nbsp;{NOMOR}&nbsp;&nbsp;</span>',"</tpl>",{getJenis:function(e){if(e==3){return"fa fa-mobile"}else{if(e==2){return"fa fa-phone-square"}else{if(e==1){return"fa fa-home"}else{return""}}}}})}];f.callParent(arguments)},load:function(o,g){var p=this,q=p.getViewModel(),f=q.get("store");if(Ext.getClassName(o)=="data.model.Pasien"){q.set("record",o)}else{f.queryParams=o;f.load(function(k,l,e){if(e&&k.length>0){q.set("record",k[0]);if(Ext.isFunction(g)){g(k[0])}}})}},getRecord:function(){return this.getViewModel().get("record")}},0,["pasien-short-detil"],["component","box","container","panel","form","com-form","pasien-short-detil"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pasien-short-detil":true},["widget.pasien-short-detil"],0,[pasien,"ShortDetil"],0));(Ext.cmd.derive("pasien.ShortDetilController",Ext.app.ViewController,{onEdit:function(){var m=this,k=m.getViewModel().get("record"),l=m.getView();l.openDialog("",true,0,0,{xtype:"pasien-form"},function(e,g){var f=g.down("pasien-form");f.getViewModel().set("hideSimpanCetak",true);f.loadRecord(k);f.on({batal:function(){g.close()}})})}},0,0,0,0,["controller.pasien-short-detil"],0,[pasien,"ShortDetilController"],0));(Ext.cmd.derive("pasien.ViewModel",Ext.app.ViewModel,{data:{filter:{NAMA:"",TANGGAL_LAHIR:"",ALAMAT:""},pasien:undefined},formulas:{getInfoNoRM:function(k){var g=k("pasien.NORM")||0;if(g>0){return this.toFormatNorm(g)}return"[No Rekam Medis]"},getTitle:function(e){var f=e("pasien"),m=e("pasien.NORM")||0;if(m>0){return f.NORM+" - "+f.NAMA}return"Pasien Baru"},getFormatNorm:function(k){var g=k("pasien.NORM")||0;return this.toFormatNorm(g)},getNamaLengkap:function(f){var e=f("pasien.GELAR_DEPAN")||"",m=f("pasien.GELAR_BELAKANG")||"";e=e==""?"":e+". ";m=m==""?"":", "+m;return e+f("pasien.NAMA")+m},getTempatLahir:function(o){var n=o("pasien.TEMPAT_LAHIR"),m=o("pasien.REFERENSI"),l=m?(m.TEMPATLAHIR?m.TEMPATLAHIR.DESKRIPSI:"-"):"-";return Ext.isNumeric(n)?l:n},getTglLahir:function(f){return Ext.Date.format(f("pasien.TANGGAL_LAHIR"),"d F Y")},getUmur:function(k){var g=this.getTglToUmur(new Date(),k("pasien.TANGGAL_LAHIR"));return Ext.util.Format.format("{0}Thn {1}bln {2}hr",g.thn,g.bln,g.hr)},getAgama:function(f){return this.getDeskripsi(f("agamastore"),f("pasien.AGAMA"))},getJenisKelamin:function(l){var k=l("pasien.REFERENSI"),m=k?(k.JENISKELAMIN?k.JENISKELAMIN.DESKRIPSI:""):"";return m},getPendidikan:function(f){return this.getDeskripsi(f("pendidikanstore"),f("pasien.PENDIDIKAN"))},getPekerjaan:function(f){return this.getDeskripsi(f("pekerjaanstore"),f("pasien.PEKERJAAN"))},getStatusPerkawinan:function(f){return this.getDeskripsi(f("statusperkawinanstore"),f("pasien.STATUS_PERKAWINAN"))},getGolonganDarah:function(f){return this.getDeskripsi(f("golongandarahstore"),f("pasien.GOLONGAN_DARAH"))},getKewarganegaraan:function(f){return this.getDeskripsi(f("negarastore"),f("pasien.KEWARGANEGARAAN"))},getIconSex:function(f){return"x-fa fa-"+(f("pasien.JENIS_KELAMIN")==1?"male":"female")},getIconSexOthers:function(f){return"x-fa fa-"+(f("pasien.JENIS_KELAMIN")==1?"mars":"venus")},getStatus:function(m){var k=m("pasien.REFERENSI"),l=k?(k.STATUS?k.STATUS.DESKRIPSI:""):"";return l}},getDeskripsi:function(f,m){var e=f?f.findRecord("ID",m,0,true,false,true):null;if(e==null){return"-"}return e.get("DESKRIPSI")},toFormatNorm:function(e){var f=Ext.String.leftPad(e,8,"0"),m=Ext.String.insert(Ext.String.insert(Ext.String.insert(f,".",2),".",5),".",8);return m},getUmurToTglLahir:function(k){var g=new Date();g.setMonth(0);g.setDate(1);g=Ext.Date.subtract(g,Ext.Date.YEAR,k);return g},getTglToUmur:function(q,p){p=p?p:new Date();var n=Ext.Date.diff(p,q,Ext.Date.YEAR),o=Ext.Date.diff(p,q,Ext.Date.MONTH),e=Ext.Date.getDaysInMonth(p)-p.getDate();o=o-(n*12);if(q.getMonth()==1&&q.getDate()>=28&&p.getDate()>28){o-=1}if(q.getDate()>=p.getDate()){e=q.getDate()-p.getDate()}else{e=e+q.getDate()}return{thn:n,bln:o,hr:e}},stores:{pasienstore:Ext.create("data.store.Pasien",{}),agamastore:{type:"referensi-store",queryParams:{JENIS:1}},jeniskelaminstore:{type:"referensi-store",queryParams:{JENIS:2}},gangguankehamilanstore:{type:"referensi-store",queryParams:{JENIS:47}},pendidikanstore:{type:"referensi-store",queryParams:{JENIS:3}},pekerjaanstore:{type:"referensi-store",queryParams:{JENIS:4}},statusperkawinanstore:{type:"referensi-store",queryParams:{JENIS:5}},golongandarahstore:{type:"referensi-store",queryParams:{JENIS:6}},shdkstore:{type:"referensi-store",queryParams:{JENIS:7}},jeniskontakstore:{type:"referensi-store",queryParams:{JENIS:8}},negarastore:{type:"negara-store"},tempatlahirstore:{type:"tempat-lahir-store"},propinsistore:{type:"wilayah-store",queryParams:{JENIS:1},autoLoad:true},kabupatenstore:{type:"wilayah-store",queryParams:{JENIS:2}},kecamatanstore:{type:"wilayah-store",queryParams:{JENIS:3}},kelurahanstore:{type:"wilayah-store",queryParams:{JENIS:4}},jeniskipstore:{type:"referensi-store",queryParams:{JENIS:9}},jeniskapstore:{type:"referensi-store",queryParams:{JENIS:10}},kipstore:{type:"kip-store"},kapstore:{type:"kap-store"},keluargastore:{type:"keluarga-pasien-store"},kontakpasienstore:{type:"kontak-pasien-store"}}},0,0,0,0,["viewmodel.pasienmodel"],0,[pasien,"ViewModel"],0));(Ext.cmd.derive("pasien.Workspace",com.Form,{controller:"pasien-workspace",viewModel:{type:"pasienmodel",data:{record:undefined,pendaftaran:undefined,xpriv:undefined}},layout:"card",formSelected:undefined,initComponent:function(){var g=this,k=g.getViewModel().get("record");g.items=[{xtype:"pasien-dashboard",reference:"pasiendashboard",viewModel:{data:{pasien:k}}}];g.callParent(arguments)},getIndexItem:function(k){var m=this,l=-1;m.items.eachKey(function(e){if(e.indexOf(k)>-1){l=m.items.indexOfKey(e)}});return l},createPasienForm:function(){var f=this;if(Ext.getClassName(f.items.getAt(0))!="pasien.Form"){if(f.formSelected){f.remove(f.formSelected,true)}f.formSelected=f.add({xtype:"pasien-form",scrollable:true,listeners:{simpansuccess:"onSimpanPasien",batal:"onBatalForm"}})}},createPendaftaranForm:function(){var f=this;if(Ext.getClassName(f.items.getAt(3))!="pendaftaran.Form"){if(f.formSelected){f.remove(f.formSelected,true)}f.formSelected=f.add({xtype:"pendaftaran-form",scrollable:true,listeners:{simpansuccess:"onSimpanPendaftaran",cetakbukti:"onCetakBukti",cetakbarcode:"onCetakBarcodePendaftaran",cetaktracert:"onCetakTracert",cetakmr1:"onCetakMR1",cetaksep:"onCetakSep",cetakgelang:"onCetakGelang",batal:"onBatalForm"}});f.formSelected=f.down("pendaftaran-form");f.formSelected.loadRecord({})}},listeners:{activate:"onActivate",deactivate:"onDeactivate"}},0,["pasien-workspace"],["component","box","container","panel","form","com-form","pasien-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pasien-workspace":true},["widget.pasien-workspace"],0,[pasien,"Workspace"],0));(Ext.cmd.derive("pasien.WorkspaceController",Ext.app.ViewController,{initViewModel:function(){var f=this.getViewModel();f.get("agamastore").initStore("agama");f.get("jeniskelaminstore").initStore("jeniskelamin");f.get("pendidikanstore").initStore("pendidikan");f.get("pekerjaanstore").initStore("pekerjaan");f.get("statusperkawinanstore").initStore("statusperkawinan");f.get("golongandarahstore").initStore("golongandarah");f.get("shdkstore").initStore("shdk");f.get("jeniskontakstore").initStore("jeniskontak");f.get("negarastore").initStore("negara");f.get("tempatlahirstore").initStore("tempatlahir");f.get("jeniskipstore").initStore("jeniskip");f.get("jeniskapstore").initStore("jeniskap")},init:function(){var s=this,q=s.getViewModel(),p=s.getView(),f=q.get("record"),t="pasien-dashboard",e=SIMpel.app.getApplication();q.set("title","Pasien Baru");if(f==null){t="pasien-form"}else{if(Ext.isNumeric(f.get("NORM"))){q.set("title",f.get("NORM")+" - "+f.get("NAMA"))}else{t="pasien-form"}}q.set("xpriv",e.xpriv);if(t=="pasien-form"){p.createPasienForm()}p.getLayout().setActiveItem(p.getIndexItem(t));if(t=="pasien-form"){p.getLayout().getActiveItem().loadRecord(f)}},onBatalForm:function(){this.getView().getLayout().setActiveItem(this.getView().getIndexItem("pasien-dashboard"))},onSimpanPasien:function(x,z,e,y,w){var f=this,u=f.getView(),v=u.ownerCt.getController(),g="x-fa fa-"+(z.get("JENIS_KELAMIN")==1?"male":"female");if(!y){v.createWorkspace(z,g,true,"pasien.Workspace","psn-"+z.getId(),v.toFormatNorm(z.getId()))}else{u.getLayout().setActiveItem(u.getIndexItem("pasien-dashboard"))}if(w){f.onCetakKartu(z);new Ext.util.DelayedTask(function(){f.onCetakBarcodePasien(z);if(!y&&e){u.ownerCt.remove(u)}}).delay(2000)}else{if(!y&&e){u.ownerCt.remove(u)}}},onCetakKartu:function(k){var g=this.getView();g.cetak({NAME:"pasien.CetakKartu",TYPE:"Word",EXT:"docx",PARAMETER:{PNORM:k.get("NORM")},REQUEST_FOR_PRINT:true,PRINT_NAME:"CetakKartu"})},onCetakBarcodePasien:function(k){var g=this.getView();g.cetak({NAME:"pasien.CetakBarcodeRM",TYPE:"Word",EXT:"docx",PARAMETER:{PNORM:k.get("NORM")},REQUEST_FOR_PRINT:true,PRINT_NAME:"CetakBarcodePasien"})},onSimpanPendaftaran:function(s,f,q){var e=this,p=e.getView(),t=e.getViewModel();t.set("pendaftaran",f);p.getLayout().setActiveItem(p.getIndexItem("pasien-dashboard"))},onCetakBukti:function(o){var m=this,n=m.getView(),l=m.getViewModel(),o=Ext.getClassName(o)=="data.model.Pendaftaran"?o:l.get("pendaftaran");n.cetak({NAME:"pendaftaran.CetakBuktiRegistrasi",TYPE:"Word",EXT:"docx",PARAMETER:{PNOPEN:o.get("NOMOR")},REQUEST_FOR_PRINT:true,PRINT_NAME:"CetakBukti"})},onCetakBarcodePendaftaran:function(q){var t=this,p=t.getView();if(q){var s=q.get("TUJUAN"),e=s?s.REFERENSI.RUANGAN:null,f=e?e.JENIS_KUNJUNGAN:1;if(f==1||f==2||f==3){p.cetak({NAME:"pendaftaran."+p.kode+"CetakBarcodePendaftaran",TYPE:"Word",EXT:"docx",PARAMETER:{PNOPEN:q.get("NOMOR")},REQUEST_FOR_PRINT:true,PRINT_NAME:"CetakBarcodePendaftaran"})}}},onCetakTracert:function(x){var e=this,f=e.getView();if(x){var D=x.get("TUJUAN"),z=D?D.REFERENSI.RUANGAN:null,g=z?z.JENIS_KUNJUNGAN:1,C=x.get("REFERENSI"),y=Ext.Date.format(Ext.Date.parse(C.SYSDATE,"Y-m-d H:i:s"),"Y-m-d"),k=C.PASIEN,B=Ext.Date.format(Ext.Date.parse(k.TANGGAL,"Y-m-d H:i:s"),"Y-m-d"),A=f.getPropertyConfig(29)=="TRUE"?g==3:false;if((g==1||A)&&(y>B)){f.cetak({NAME:"pendaftaran.CetakTracertPasien",TYPE:"Word",EXT:"docx",PARAMETER:{PNOPEN:x.get("NOMOR")},REQUEST_FOR_PRINT:true,PRINT_NAME:"CetakTracert"})}}},onCetakMR1:function(k){var F=this,e=F.getView();if(k){var E=k.get("TUJUAN"),A=E?E.REFERENSI.RUANGAN:null,f=A?A.JENIS_KUNJUNGAN:1,D=k.get("REFERENSI"),l=Ext.Date.format(Ext.Date.parse(D.SYSDATE,"Y-m-d H:i:s"),"Y-m-d"),g=D.PASIEN,C=Ext.Date.format(Ext.Date.parse(g.TANGGAL,"Y-m-d H:i:s"),"Y-m-d"),B={NAME:"mr.",TYPE:"Word",EXT:"docx",PARAMETER:{PNOPEN:k.get("NOMOR"),CETAK_HEADER:1},REQUEST_FOR_PRINT:true,PRINT_NAME:"CetakMR"},z=(f==1||f==14||f==4||f==5?"CetakMR1RawatJalan":(f==2?"CetakMR2RawatDarurat":e.kode+"CetakMR1RawatInap"));if(z==""){return}B.NAME=B.NAME+z;e.cetak(B);if(f==3){B.NAME="mr."+e.kode+"CetakMR1aRawatInap";e.cetak(B)}}},onCetakSep:function(e){var n=this,q=n.getView();if(e){var p=e.get("PENJAMIN");if(p){var o=q.app.xitr("ID",1);if(o){if(o.REF==p.JENIS){q.cetak({NAME:"bpjs.CetakSEP",TYPE:"Word",EXT:"docx",PARAMETER:{PSEP:p.NOMOR,CETAK_HEADER:1},REQUEST_FOR_PRINT:true,PRINT_NAME:"CetakSEP"})}}}}},onCetakGelang:function(q){var t=this,p=t.getView();if(q){var s=q.get("TUJUAN"),e=s?s.REFERENSI.RUANGAN:null,f=e?e.JENIS_KUNJUNGAN:1;if(f==2||f==3){_type="Pdf",_ext="pdf",_print=false,_title="Cetak Gelang",option={NAME:"pendaftaran."+p.kode+"CetakGelang",TYPE:_type,EXT:_ext,PARAMETER:{PNOPEN:q.get("NOMOR")},REQUEST_FOR_PRINT:_print,PRINT_NAME:"CetakGelang"},option.NAME=option.NAME;option.TYPE=_type;option.EXT=_ext;option.REQUEST_FOR_PRINT=_print;p.cetak(option,function(g){p.printPreview(_title,g)})}}},onActivate:function(){var f=this.lookupReference("pasiendashboard");if(f){f.fireEvent("activate")}},onDeactivate:function(){var f=this.lookupReference("pasiendashboard");if(f){f.fireEvent("deactivate")}}},0,0,0,0,["controller.pasien-workspace"],0,[pasien,"WorkspaceController"],0));(Ext.cmd.derive("pasien.tagihan.List",Ext.grid.Panel,{controller:"tagihan-pasien",viewModel:{stores:{store:{type:"tagihan-store"}}},title:"Tagihan Pasien",hideHeaders:true,waitRefresh:true,bind:{store:"{store}"},columns:[{xtype:"templatecolumn",flex:2,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[this.numberFormat(values.TOTAL)]} </div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{getFormatNorm:function(m){var f=Ext.String.leftPad(m,8,"0"),e=Ext.String.insert(Ext.String.insert(Ext.String.insert(f,".",2),".",5),".",8);return e},tanggalFormat:function(g){var k=Ext.isDate(g)?g:Ext.Date.parse(g,"Y-m-d H:i:s");return Ext.Date.format(k,"d-m-Y H:i:s")},numberFormat:function(f){return Ext.util.Format.number(f,"0,000")}})},{xtype:"widgetcolumn",text:"Status",flex:1,align:"right",widget:{xtype:"fieldcontainer",defaults:{padding:2},items:[{xtype:"button",text:"View",action:0,margin:"0 1 0 0",handler:"onView"}]}}],loadStore:function(g){var k=this.getViewModel().get("store");console.log(g);if(k){k.removeAll();k.queryParams=g;this.waitRefresh=true;k.load()}},setListConfig:function(f){var m=this,e=m.getViewModel();_config=e.get("listConfig");f=Ext.apply(_config,f);e.set("listConfig",f);e.notify()},refresh:function(){var f=this.getViewModel().get("store");if(!this.waitRefresh){if(f){f.reload()}}}},0,["tagihan-pasien"],["component","box","container","panel","tablepanel","gridpanel","grid","tagihan-pasien"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"tagihan-pasien":true},["widget.tagihan-pasien"],0,[pasien.tagihan,"List"],0));(Ext.cmd.derive("pasien.tagihan.ListController",Ext.app.ViewController,{init:function(){var g=this,k=g.getStore("store");if(k){k.on("load",function(f,e){if(e.length==0){k.removeAll()}g.getView().waitRefresh=false})}},onView:function(k){var g=this;console.log(g)}},0,0,0,0,["controller.tagihan-pasien"],0,[pasien.tagihan,"ListController"],0));(Ext.cmd.derive("pasien.widget.Desc",Ext.container.Container,{layout:{type:"vbox",align:"stretch"},cls:"x-br-top",defaults:{style:"font-size: 13px;",margin:"0 0 1 0"},items:[{xtype:"component",style:"font-weight: bold; font-size: 17px",margin:"0 0 3 0",bind:{html:"{getNamaLengkap}"}},{xtype:"component",bind:{html:"{getTempatLahir}, {getTglLahir} / {getUmur}"}},{xtype:"component",bind:{html:'<span class="{getIconSexOthers}"></span>&nbsp;{getJenisKelamin} / Status. {getStatus}'}},{xtype:"component",cls:"x-color-gray",bind:{data:{KONTAK:"{pasien.KONTAK}"}},tpl:new Ext.XTemplate('<tpl for="KONTAK">','<span class="{[this.getJenis(values.JENIS)]}">&nbsp;{NOMOR}&nbsp;&nbsp;</span>',"</tpl>",{getJenis:function(f){if(f==3){return"fa fa-mobile"}else{if(f==2){return"fa fa-phone-square"}else{if(f==1){return"fa fa-home"}else{return""}}}}})}]},0,["pasien-widget-desc"],["component","box","container","pasien-widget-desc"],{component:true,box:true,container:true,"pasien-widget-desc":true},["widget.pasien-widget-desc"],0,[pasien.widget,"Desc"],0));(Ext.cmd.derive("pasien.widget.Info",Ext.form.Panel,{viewModel:{type:"pasienmodel",data:{viewConfig:{photo:false,detil:false,edit:false,kartu:false,barcode:false}}},cls:"shadow-panel",border:true,layout:{type:"vbox",align:"stretch"},header:{bind:{iconCls:"{getIconSex}"},title:"Pasien Info",margin:0,padding:"5 10 5 10",cls:"x-color-w",layout:{type:"hbox",align:"middle"},items:[{xtype:"component",flex:1},{xtype:"button",iconCls:"x-fa fa-camera",hidden:true,margin:"0 0 0 1",bind:{hidden:"{!viewConfig.photo}"},handler:"onCamera"},{xtype:"filefield",buttonConfig:{text:"",iconCls:"x-fa fa-upload",ui:"soft-black",tooltip:"Upload Photo",accept:".jpg,.png"},width:32,buttonOnly:true,hidden:true,margin:"0 0 0 1",listeners:{change:"onTakePhoto"},bind:{hidden:"{!viewConfig.photo}"}},{xtype:"button",iconCls:"x-fa fa-list",tooltip:"Tampilkan Detil Pasien",ui:"soft-blue",margin:"0 0 0 1",handler:"onDetil",hidden:true,bind:{hidden:"{!viewConfig.detil}"}},{xtype:"button",iconCls:"x-fa fa-pencil-square-o",tooltip:"Edit Pasien",ui:"soft-purple",margin:"0 0 0 1",handler:"onEdit",hidden:true,bind:{hidden:"{!viewConfig.edit}"}},{xtype:"button",iconCls:"x-fa fa-print",tooltip:"Cetak Kartu Pasien",ui:"soft-saphire",margin:"0 0 0 1",handler:"onCetakKartu",hidden:true,bind:{hidden:"{!viewConfig.kartu}"}},{xtype:"button",iconCls:"x-fa fa-barcode",tooltip:"Cetak Barcode Pasien",ui:"soft-cyan",margin:"0 0 0 1",handler:"onCetakBarcode",hidden:true,bind:{hidden:"{!viewConfig.barcode}"}}]},bodyPadding:5,items:[{xtype:"fieldcontainer",flex:1,margin:"0 0 15 0",layout:{type:"hbox",align:"stretch"},items:[{xtype:"image",cls:"photo-image",width:120,height:130,bind:{src:webservice.location+"general/photopasien?NORM={pasien.NORM}&JENIS_KELAMIN={pasien.JENIS_KELAMIN}"},alt:"No Photo"},{xtype:"component",flex:1,style:"text-align: right; padding-top: 10px; font-size: 2em; font-weight: bold",bind:{html:"{getFormatNorm}"}}]},{xtype:"pasien-widget-desc",flex:1}],refresh:function(){var e=this,p=e.down("image"),q=e.getViewModel(),n=q.get("pasien"),o=p.getSrc();p.setSrc("");p.setSrc(o)},setViewConfig:function(f){var m=this,e=m.getViewModel();_config=e.get("viewConfig");f=Ext.apply(_config,f);e.set("viewConfig",f);e.notify()}},0,["pasien-widget-info"],["component","box","container","panel","form","pasien-widget-info"],{component:true,box:true,container:true,panel:true,form:true,"pasien-widget-info":true},["widget.pasien-widget-info"],0,[pasien.widget,"Info"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.ketersediaankamar.Model",data.model.Model,{serviceName:"plugins/bpjs/aplicaresKetersediaanKamarRS",fields:[{name:"kodekelas",type:"string"},{name:"namakelas",type:"string"},{name:"koderuang",type:"string"},{name:"namaruang",type:"string"},{name:"kapasitas",type:"int"},{name:"tersedia",type:"int"},{name:"tersediapria",type:"int"},{name:"tersediawanita",type:"int"},{name:"tersediapriawanita",type:"int"},{name:"lastupdate",type:"date"}]},0,0,0,0,0,0,[plugins.bpjs.aplicares.ketersediaankamar,"Model"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.ketersediaankamar.Store",data.store.Store,{model:"plugins.bpjs.aplicares.ketersediaankamar.Model"},0,0,0,0,["store.plugins-bpjs-aplicares-ketersediaankamar-store"],0,[plugins.bpjs.aplicares.ketersediaankamar,"Store"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.mapkelas.Model",data.model.Model,{serviceName:"plugins/bpjs/aplicaresMapKelas",fields:[{name:"id",type:"int"},{name:"kelas",type:"string"},{name:"kelas_rs",type:"int"},{name:"status",type:"int",defaultValue:1}],idProperty:"id"},0,0,0,0,0,0,[plugins.bpjs.aplicares.mapkelas,"Model"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.mapkelas.Store",data.store.Store,{model:"plugins.bpjs.aplicares.mapkelas.Model"},0,0,0,0,["store.plugins-bpjs-aplicares-mapkelas-store"],0,[plugins.bpjs.aplicares.mapkelas,"Store"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.referensikamar.Model",data.model.Model,{serviceName:"plugins/bpjs/aplicaresReferensiKamar",fields:[{name:"kodekelas",type:"string"},{name:"namakelas",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.aplicares.referensikamar,"Model"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.referensikamar.Store",data.store.Store,{model:"plugins.bpjs.aplicares.referensikamar.Model"},0,0,0,0,["store.plugins-bpjs-aplicares-referensikamar-store"],0,[plugins.bpjs.aplicares.referensikamar,"Store"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.tempattidur.Model",data.model.Model,{serviceName:"plugins/bpjs/aplicaresTempatTidur",fields:[{name:"id",type:"int"},{name:"kodekelas",type:"string"},{name:"koderuang",type:"string"},{name:"namaruang",type:"string"},{name:"kapasitas",type:"int"},{name:"tersedia",type:"int"},{name:"tersediapria",type:"int"},{name:"tersediawanita",type:"int"},{name:"tersediapriawanita",type:"int"},{name:"tanggal_updated",type:"date"},{name:"ruang_baru",type:"int"},{name:"hapus_ruang",type:"int"},{name:"kirim",type:"int"}],idProperty:"id"},0,0,0,0,0,0,[plugins.bpjs.aplicares.tempattidur,"Model"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.tempattidur.Store",data.store.Store,{model:"plugins.bpjs.aplicares.tempattidur.Model"},0,0,0,0,["store.plugins-bpjs-aplicares-tempattidur-store"],0,[plugins.bpjs.aplicares.tempattidur,"Store"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.histori.pelayanan.Model",data.model.Model,{serviceName:"plugins/bpjs/monitoringHistoriPelayanan",fields:[{name:"noKartu",type:"string"},{name:"namaPeserta",type:"string"},{name:"noSep",type:"string"},{name:"poli",type:"string"},{name:"ppkPelayanan",type:"string"},{name:"tglPlgSep",type:"date",dateFormat:"Y-m-d"},{name:"tglSep",type:"date",dateFormat:"Y-m-d"},{name:"kelasRawat",type:"string"},{name:"jnsPelayanan",type:"string"},{name:"diagnosa",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.monitoring.histori.pelayanan,"Model"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.histori.pelayanan.Store",data.store.Store,{model:"plugins.bpjs.monitoring.histori.pelayanan.Model"},0,0,0,0,["store.plugins-bpjs-monitoring-histori-pelayanan-store"],0,[plugins.bpjs.monitoring.histori.pelayanan,"Store"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.klaim.Model",data.model.Model,{serviceName:"plugins/bpjs/monitoringKlaim",timeout:120000,fields:[{name:"Inacbg"},{name:"biaya"},{name:"kelasRawat",type:"string"},{name:"noFPK",type:"string"},{name:"noSEP",type:"string"},{name:"peserta"},{name:"poli",type:"string"},{name:"status",type:"string"},{name:"tglPulang",type:"date",dateFormat:"Y-m-d"},{name:"tglSep",type:"date",dateFormat:"Y-m-d"}]},0,0,0,0,0,0,[plugins.bpjs.monitoring.klaim,"Model"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.klaim.Store",data.store.Store,{model:"plugins.bpjs.monitoring.klaim.Model"},0,0,0,0,["store.plugins-bpjs-monitoring-klaim-store"],0,[plugins.bpjs.monitoring.klaim,"Store"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.klaim.jasaraharja.Model",data.model.Model,{serviceName:"plugins/bpjs/monitoringKlaimJaminanJasaRaharja",fields:[{name:"sep"},{name:"jasaraharja"}]},0,0,0,0,0,0,[plugins.bpjs.monitoring.klaim.jasaraharja,"Model"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.klaim.jasaraharja.Store",data.store.Store,{model:"plugins.bpjs.monitoring.klaim.jasaraharja.Model"},0,0,0,0,["store.plugins-bpjs-monitoring-klaim-jasaraharja-store"],0,[plugins.bpjs.monitoring.klaim.jasaraharja,"Store"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.kunjungan.Model",data.model.Model,{serviceName:"plugins/bpjs/monitoringKunjungan",fields:[{name:"diagnosa",type:"string"},{name:"jnsPelayanan",type:"string"},{name:"kelasRawat",type:"string"},{name:"nama",type:"string"},{name:"noKartu",type:"string"},{name:"noSep",type:"string"},{name:"poli",type:"string"},{name:"tglPlgSep",type:"date",dateFormat:"Y-m-d"},{name:"tglSep",type:"date",dateFormat:"Y-m-d"}]},0,0,0,0,0,0,[plugins.bpjs.monitoring.kunjungan,"Model"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.kunjungan.Store",data.store.Store,{model:"plugins.bpjs.monitoring.kunjungan.Model"},0,0,0,0,["store.plugins-bpjs-monitoring-kunjungan-store"],0,[plugins.bpjs.monitoring.kunjungan,"Store"],0));(Ext.cmd.derive("plugins.bpjs.referensi.carakeluar.Model",data.model.Model,{serviceName:"plugins/bpjs/caraKeluar",fields:[{name:"kode",type:"string"},{name:"nama",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.referensi.carakeluar,"Model"],0));(Ext.cmd.derive("plugins.bpjs.referensi.carakeluar.Store",data.store.Store,{model:"plugins.bpjs.referensi.carakeluar.Model"},0,0,0,0,["store.bpjs-referensi-carakeluar-store"],0,[plugins.bpjs.referensi.carakeluar,"Store"],0));(Ext.cmd.derive("plugins.bpjs.referensi.dokter.Model",data.model.Model,{serviceName:"plugins/bpjs/dokter",fields:[{name:"kode",type:"string"},{name:"nama",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.referensi.dokter,"Model"],0));(Ext.cmd.derive("plugins.bpjs.referensi.dokter.Store",data.store.Store,{model:"plugins.bpjs.referensi.dokter.Model"},0,0,0,0,["store.bpjs-referensi-dokter-store"],0,[plugins.bpjs.referensi.dokter,"Store"],0));(Ext.cmd.derive("plugins.bpjs.referensi.dpjp.Model",data.model.Model,{serviceName:"plugins/bpjs/dpjp",fields:[{name:"kode",type:"string"},{name:"nama",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.referensi.dpjp,"Model"],0));(Ext.cmd.derive("plugins.bpjs.referensi.dpjp.Store",data.store.Store,{model:"plugins.bpjs.referensi.dpjp.Model"},0,0,0,0,["store.bpjs-referensi-dpjp-store"],0,[plugins.bpjs.referensi.dpjp,"Store"],0));(Ext.cmd.derive("plugins.bpjs.referensi.faskes.Model",data.model.Model,{serviceName:"plugins/bpjs/faskes",fields:[{name:"kdCabang",type:"string"},{name:"nmCabang",type:"string"},{name:"kdProvider",type:"string"},{name:"nmProvider",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.referensi.faskes,"Model"],0));(Ext.cmd.derive("plugins.bpjs.referensi.faskes.Store",data.store.Store,{model:"plugins.bpjs.referensi.faskes.Model"},0,0,0,0,["store.bpjs-referensi-faskes-store"],0,[plugins.bpjs.referensi.faskes,"Store"],0));(Ext.cmd.derive("plugins.bpjs.referensi.kelasrawat.Model",data.model.Model,{serviceName:"plugins/bpjs/kelasRawat",fields:[{name:"kode",type:"string"},{name:"nama",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.referensi.kelasrawat,"Model"],0));(Ext.cmd.derive("plugins.bpjs.referensi.kelasrawat.Store",data.store.Store,{model:"plugins.bpjs.referensi.kelasrawat.Model"},0,0,0,0,["store.bpjs-referensi-kelasrawat-store"],0,[plugins.bpjs.referensi.kelasrawat,"Store"],0));(Ext.cmd.derive("plugins.bpjs.referensi.pascapulang.Model",data.model.Model,{serviceName:"plugins/bpjs/pascaPulang",fields:[{name:"kode",type:"string"},{name:"nama",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.referensi.pascapulang,"Model"],0));(Ext.cmd.derive("plugins.bpjs.referensi.pascapulang.Store",data.store.Store,{model:"plugins.bpjs.referensi.pascapulang.Model"},0,0,0,0,["store.bpjs-referensi-pascapulang-store"],0,[plugins.bpjs.referensi.pascapulang,"Store"],0));(Ext.cmd.derive("plugins.bpjs.referensi.poli.Model",data.model.Model,{serviceName:"plugins/bpjs/poli",fields:[{name:"kdPoli",type:"string"},{name:"nmPoli",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.referensi.poli,"Model"],0));(Ext.cmd.derive("plugins.bpjs.referensi.poli.Store",data.store.Store,{model:"plugins.bpjs.referensi.poli.Model"},0,0,0,0,["store.bpjs-referensi-poli-store"],0,[plugins.bpjs.referensi.poli,"Store"],0));(Ext.cmd.derive("plugins.bpjs.referensi.ruangrawat.Model",data.model.Model,{serviceName:"plugins/bpjs/ruangRawat",fields:[{name:"kode",type:"string"},{name:"nama",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.referensi.ruangrawat,"Model"],0));(Ext.cmd.derive("plugins.bpjs.referensi.ruangrawat.Store",data.store.Store,{model:"plugins.bpjs.referensi.ruangrawat.Model"},0,0,0,0,["store.bpjs-referensi-ruangrawat-store"],0,[plugins.bpjs.referensi.ruangrawat,"Store"],0));(Ext.cmd.derive("plugins.bpjs.referensi.spesialistik.Model",data.model.Model,{serviceName:"plugins/bpjs/spesialistik",fields:[{name:"kode",type:"string"},{name:"nama",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.referensi.spesialistik,"Model"],0));(Ext.cmd.derive("plugins.bpjs.referensi.spesialistik.Store",data.store.Store,{model:"plugins.bpjs.referensi.spesialistik.Model"},0,0,0,0,["store.bpjs-referensi-spesialistik-store"],0,[plugins.bpjs.referensi.spesialistik,"Store"],0));(Ext.cmd.derive("plugins.bpjs.referensi.wilayah.Model",data.model.Model,{serviceName:"plugins/bpjs/wilayah",fields:[{name:"kode",type:"string"},{name:"nama",type:"string"}]},0,0,0,0,0,0,[plugins.bpjs.referensi.wilayah,"Model"],0));(Ext.cmd.derive("plugins.bpjs.referensi.wilayah.Store",data.store.Store,{model:"plugins.bpjs.referensi.wilayah.Model"},0,0,0,0,["store.bpjs-referensi-wilayah-store"],0,[plugins.bpjs.referensi.wilayah,"Store"],0));(Ext.cmd.derive("plugins.bpjs.rujukan.Model",data.model.Model,{serviceName:"plugins/bpjs/listRujukan",fields:[{name:"noKunjungan",type:"string"},{name:"tglKunjungan",type:"date",dateFormat:"Y-m-d"},{name:"keluhan",type:"string"},{name:"diagnosa"},{name:"pelayanan"},{name:"peserta"},{name:"poliRujukan"},{name:"provPerujuk"}]},0,0,0,0,0,0,[plugins.bpjs.rujukan,"Model"],0));(Ext.cmd.derive("plugins.bpjs.rujukan.Store",data.store.Store,{model:"plugins.bpjs.rujukan.Model"},0,0,0,0,["store.plugins-bpjs-rujukan-store"],0,[plugins.bpjs.rujukan,"Store"],0));(Ext.cmd.derive("plugins.bpjs.sep.pengajuan.Model",data.model.Model,{serviceName:"plugins/bpjs/daftarPengajuan",fields:[{name:"noKartu",type:"string"},{name:"tglSep",type:"date",dateFormat:"Y-m-d"},{name:"jnsPelayanan",type:"int"},{name:"keterangan",type:"string"},{name:"user",type:"string"},{name:"tgl",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"tglAprove",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"userAprove",type:"string"},{name:"status",type:"int"}]},0,0,0,0,0,0,[plugins.bpjs.sep.pengajuan,"Model"],0));(Ext.cmd.derive("plugins.bpjs.sep.pengajuan.Store",data.store.Store,{model:"plugins.bpjs.sep.pengajuan.Model"},0,0,0,0,["store.plugins-bpjs-sep-pengajuan-store"],0,[plugins.bpjs.sep.pengajuan,"Store"],0));(Ext.cmd.derive("plugins.inacbg.grouping.pendukung.dokumen.Model",data.model.Model,{serviceName:"plugins/inacbg/dokumenPendukung",fields:[{name:"id",type:"int"},{name:"no_klaim",type:"string"},{name:"file_id",type:"int"},{name:"file_class",type:"string"},{name:"file_size",type:"float"},{name:"file_type",type:"string"},{name:"file_content",type:"string"},{name:"kirim_bpjs",type:"int"},{name:"status",type:"int",defaultValue:1}],idProperty:"id"},0,0,0,0,0,0,[plugins.inacbg.grouping.pendukung.dokumen,"Model"],0));(Ext.cmd.derive("plugins.inacbg.grouping.pendukung.dokumen.Store",data.store.Store,{model:"plugins.inacbg.grouping.pendukung.dokumen.Model"},0,0,0,0,["store.plugins-inacbg-grouping-pendukung-dokumen-store"],0,[plugins.inacbg.grouping.pendukung.dokumen,"Store"],0));(Ext.cmd.derive("plugins.inacbg.tipe.Model",data.model.Model,{serviceName:"inacbgservice/tipe",fields:[{name:"ID",type:"int"},{name:"VERSION",type:"string"},{name:"NAMA",type:"string"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[plugins.inacbg.tipe,"Model"],0));(Ext.cmd.derive("plugins.inacbg.tipe.Store",data.store.Store,{model:"plugins.inacbg.tipe.Model"},0,0,0,0,["store.inacbg-tipe-store"],0,[plugins.inacbg.tipe,"Store"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.golongandarah.Model",data.model.Model,{serviceName:"plugins/kemkes/dashboardGolonganDarah",fields:[{name:"TAHUN",type:"int"},{name:"BULAN",type:"int"},{name:"KODE",type:"int"},{name:"REF_ID_KEMKES",type:"string"},{name:"JUMLAH_PASIEN",type:"int"},{name:"TANGGAL_UPDATED",type:"date"},{name:"KIRIM",type:"int"}]},0,0,0,0,0,0,[plugins.kemkes.dashboard.golongandarah,"Model"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.golongandarah.Store",data.store.Store,{model:"plugins.kemkes.dashboard.golongandarah.Model"},0,0,0,0,["store.plugins-kemkes-dashboard-golongandarah-store"],0,[plugins.kemkes.dashboard.golongandarah,"Store"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.indikator.Model",data.model.Model,{serviceName:"plugins/kemkes/dashboardIndikatorPelayanan",fields:[{name:"TANGGAL",type:"date"},{name:"PERIODE",type:"string"},{name:"JENIS",type:"int"},{name:"REF_ID_KEMKES",type:"string"},{name:"BOR",type:"float"},{name:"ALOS",type:"float"},{name:"BTO",type:"float"},{name:"TOI",type:"float"},{name:"NDR",type:"float"},{name:"GDR",type:"float"},{name:"TANGGAL_UPDATED",type:"date"},{name:"KIRIM",type:"int"}]},0,0,0,0,0,0,[plugins.kemkes.dashboard.indikator,"Model"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.indikator.Store",data.store.Store,{model:"plugins.kemkes.dashboard.indikator.Model"},0,0,0,0,["store.plugins-kemkes-dashboard-indikator-store"],0,[plugins.kemkes.dashboard.indikator,"Store"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.kematian.Model",data.model.Model,{serviceName:"plugins/kemkes/dashboardJumlahKematian",fields:[{name:"TAHUN",type:"int"},{name:"BULAN",type:"int"},{name:"REF_ID_KEMKES",type:"string"},{name:"KONTEN",type:"string"},{name:"TANGGAL_UPDATED",type:"date"},{name:"KIRIM",type:"int"}]},0,0,0,0,0,0,[plugins.kemkes.dashboard.kematian,"Model"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.kematian.Store",data.store.Store,{model:"plugins.kemkes.dashboard.kematian.Model"},0,0,0,0,["store.plugins-kemkes-dashboard-kematian-store"],0,[plugins.kemkes.dashboard.kematian,"Store"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.kunjungan.Model",data.model.Model,{serviceName:"plugins/kemkes/dashboardKunjungan",fields:[{name:"TANGGAL",type:"date"},{name:"REF_ID_KEMKES",type:"string"},{name:"RJ",type:"int"},{name:"RD",type:"int"},{name:"RI",type:"int"},{name:"TANGGAL_UPDATED",type:"date"},{name:"KIRIM",type:"int"}]},0,0,0,0,0,0,[plugins.kemkes.dashboard.kunjungan,"Model"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.kunjungan.Store",data.store.Store,{model:"plugins.kemkes.dashboard.kunjungan.Model"},0,0,0,0,["store.plugins-kemkes-dashboard-kunjungan-store"],0,[plugins.kemkes.dashboard.kunjungan,"Store"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.penyakit10besar.Model",data.model.Model,{serviceName:"plugins/kemkes/dashboardPenyakit10Besar",fields:[{name:"TAHUN",type:"int"},{name:"BULAN",type:"int"},{name:"JENIS_PELAYANAN",type:"int"},{name:"REF_ID_KEMKES",type:"string"},{name:"KONTEN",type:"string"},{name:"TANGGAL_UPDATED",type:"date"},{name:"KIRIM",type:"int"}]},0,0,0,0,0,0,[plugins.kemkes.dashboard.penyakit10besar,"Model"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.penyakit10besar.Store",data.store.Store,{model:"plugins.kemkes.dashboard.penyakit10besar.Model"},0,0,0,0,["store.plugins-kemkes-dashboard-penyakit10besar-store"],0,[plugins.kemkes.dashboard.penyakit10besar,"Store"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.rujukan.Model",data.model.Model,{serviceName:"plugins/kemkes/dashboardRujukan",fields:[{name:"TANGGAL",type:"date"},{name:"REF_ID_KEMKES",type:"string"},{name:"MASUK",type:"int"},{name:"KELUAR",type:"int"},{name:"BALIK",type:"int"},{name:"TANGGAL_UPDATED",type:"date"},{name:"KIRIM",type:"int"}]},0,0,0,0,0,0,[plugins.kemkes.dashboard.rujukan,"Model"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.rujukan.Store",data.store.Store,{model:"plugins.kemkes.dashboard.rujukan.Model"},0,0,0,0,["store.plugins-kemkes-dashboard-rujukan-store"],0,[plugins.kemkes.dashboard.rujukan,"Store"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.rujukan.penyakit10besar.Model",data.model.Model,{serviceName:"plugins/kemkes/dashboardPenyakitRujukan10Besar",fields:[{name:"TAHUN",type:"int"},{name:"BULAN",type:"int"},{name:"JENIS_RUJUKAN",type:"int"},{name:"REF_ID_KEMKES",type:"string"},{name:"KONTEN",type:"string"},{name:"TANGGAL_UPDATED",type:"date"},{name:"KIRIM",type:"int"}]},0,0,0,0,0,0,[plugins.kemkes.dashboard.rujukan.penyakit10besar,"Model"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.rujukan.penyakit10besar.Store",data.store.Store,{model:"plugins.kemkes.dashboard.rujukan.penyakit10besar.Model"},0,0,0,0,["store.plugins-kemkes-dashboard-rujukan-penyakit10besar-store"],0,[plugins.kemkes.dashboard.rujukan.penyakit10besar,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.kebutuhan.apd.Model",data.model.Model,{serviceName:"plugins/kemkes/dataKebutuhanApd",fields:[{name:"id_kebutuhan",type:"int"},{name:"jumlah_eksisting",type:"int"},{name:"jumlah",type:"int"},{name:"jumlah_diterima",type:"int"},{name:"baru",type:"int"},{name:"tgl_kirim",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"kirim",type:"int"},{name:"response",type:"string"}],idProperty:"id_kebutuhan"},0,0,0,0,0,0,[plugins.kemkes.rsonline.data.kebutuhan.apd,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.kebutuhan.apd.Store",data.store.Store,{model:"plugins.kemkes.rsonline.data.kebutuhan.apd.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-data-kebutuhan-apd-store"],0,[plugins.kemkes.rsonline.data.kebutuhan.apd,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.kebutuhan.sdm.Model",data.model.Model,{serviceName:"plugins/kemkes/dataKebutuhanSdm",fields:[{name:"id_kebutuhan",type:"int"},{name:"jumlah_eksisting",type:"int"},{name:"jumlah",type:"int"},{name:"jumlah_diterima",type:"int"},{name:"baru",type:"int"},{name:"tgl_kirim",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"kirim",type:"int"},{name:"response",type:"string"}],idProperty:"id_kebutuhan"},0,0,0,0,0,0,[plugins.kemkes.rsonline.data.kebutuhan.sdm,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.kebutuhan.sdm.Store",data.store.Store,{model:"plugins.kemkes.rsonline.data.kebutuhan.sdm.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-data-kebutuhan-sdm-store"],0,[plugins.kemkes.rsonline.data.kebutuhan.sdm,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.tempattidur.Model",data.model.Model,{serviceName:"plugins/kemkes/dataTempatTidur",fields:[{name:"id_tt",type:"int"},{name:"jumlah_ruang",type:"int"},{name:"jumlah",type:"int"},{name:"terpakai",type:"int"},{name:"baru",type:"int"},{name:"tgl_kirim",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"kirim",type:"int"},{name:"response",type:"string"}],idProperty:"id_tt"},0,0,0,0,0,0,[plugins.kemkes.rsonline.data.tempattidur,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.tempattidur.Store",data.store.Store,{model:"plugins.kemkes.rsonline.data.tempattidur.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-data-tempattidur-store"],0,[plugins.kemkes.rsonline.data.tempattidur,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.diagnosapasien.Model",data.model.Model,{serviceName:"plugins/kemkes/diagnosaPasien",fields:[{name:"id",type:"int"},{name:"nomr",type:"int"},{name:"icd",type:"string"},{name:"level",type:"int"}],idProperty:"id"},0,0,0,0,0,0,[plugins.kemkes.rsonline.diagnosapasien,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.diagnosapasien.Store",data.store.Store,{model:"plugins.kemkes.rsonline.diagnosapasien.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-diagnosapasien-store"],0,[plugins.kemkes.rsonline.diagnosapasien,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.pasien.Model",data.model.Model,{serviceName:"plugins/kemkes/pasien",fields:[{name:"noc",type:"string"},{name:"nomr",type:"int"},{name:"initial",type:"string"},{name:"nama_lengkap",type:"string"},{name:"tglmasuk",type:"date",dateFormat:"Y-m-d"},{name:"gender",type:"int",defaultValue:1},{name:"birthdate",type:"date",dateFormat:"Y-m-d"},{name:"kewarganegaraan",type:"int",defaultValue:1},{name:"jenis_pasien",type:"int",defaultValue:1},{name:"sumber_penularan",type:"int",defaultValue:3},{name:"kecamatan",type:"string"},{name:"tglkeluar",type:"date",dateFormat:"Y-m-d"},{name:"status_keluar",type:"int",defaultValue:0},{name:"tgl_lapor",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"status_rawat",type:"int"},{name:"status_isolasi",type:"int"},{name:"email",type:"string"},{name:"notelp",type:"string"},{name:"sebab_kematian",type:"string"}],idProperty:"nomr"},0,0,0,0,0,0,[plugins.kemkes.rsonline.pasien,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.pasien.Store",data.store.Store,{model:"plugins.kemkes.rsonline.pasien.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-pasien-store"],0,[plugins.kemkes.rsonline.pasien,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.jeniskelamin.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=jenisKelamin",fields:[{name:"id_gender",type:"int"},{name:"gender",type:"string"}],idProperty:"id_gender"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.jeniskelamin,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.jeniskelamin.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.jeniskelamin.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-jeniskelamin-store"],0,[plugins.kemkes.rsonline.referensi.jeniskelamin,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.jenispasien.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=jenisPasien",fields:[{name:"id_jenis_pasien",type:"int"},{name:"deskripsi",type:"string"}],idProperty:"id_jenis_pasien"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.jenispasien,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.jenispasien.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.jenispasien.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-jenispasien-store"],0,[plugins.kemkes.rsonline.referensi.jenispasien,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.kebutuhan.apd.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=kebutuhanApd",fields:[{name:"id_kebutuhan",type:"int"},{name:"kebutuhan",type:"string"}],idProperty:"id_kebutuhan"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.kebutuhan.apd,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.kebutuhan.apd.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.kebutuhan.apd.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-kebutuhan-apd-store"],0,[plugins.kemkes.rsonline.referensi.kebutuhan.apd,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.kebutuhan.sdm.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=kebutuhanSdm",fields:[{name:"id_kebutuhan",type:"int"},{name:"kebutuhan",type:"string"}],idProperty:"id_kebutuhan"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.kebutuhan.sdm,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.kebutuhan.sdm.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.kebutuhan.sdm.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-kebutuhan-sdm-store"],0,[plugins.kemkes.rsonline.referensi.kebutuhan.sdm,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.status.isolasi.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=statusIsolasi",fields:[{name:"id_isolasi",type:"int"},{name:"id_status_rawat",type:"int"},{name:"status_isolasi",type:"string"}],idProperty:"id_isolasi"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.status.isolasi,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.status.isolasi.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.status.isolasi.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-status-isolasi-store"],0,[plugins.kemkes.rsonline.referensi.status.isolasi,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.status.keluar.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=statusKeluar",fields:[{name:"id_status_rawat",type:"int"},{name:"status",type:"string"}],idProperty:"id_status_rawat"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.status.keluar,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.status.keluar.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.status.keluar.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-status-keluar-store"],0,[plugins.kemkes.rsonline.referensi.status.keluar,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.status.rawat.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=statusRawat",fields:[{name:"id_status",type:"int"},{name:"status",type:"string"}],idProperty:"id_status"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.status.rawat,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.status.rawat.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.status.rawat.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-status-rawat-store"],0,[plugins.kemkes.rsonline.referensi.status.rawat,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.sumberpenularan.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=sumberPenularan",fields:[{name:"id_source",type:"int"},{name:"sources",type:"string"}],idProperty:"id_source"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.sumberpenularan,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.sumberpenularan.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.sumberpenularan.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-sumberpenularan-store"],0,[plugins.kemkes.rsonline.referensi.sumberpenularan,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.tempattidur.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=tempatTidur",fields:[{name:"kode_tt",type:"int"},{name:"nama_tt",type:"string"}],idProperty:"kode_tt"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.tempattidur,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.tempattidur.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.tempattidur.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-tempattidur-store"],0,[plugins.kemkes.rsonline.referensi.tempattidur,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.kabupaten.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=kabupaten",fields:[{name:"kode",type:"string"},{name:"propinsi",type:"string"},{name:"nama",type:"string"}],idProperty:"kode"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.wilayah.kabupaten,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.kabupaten.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.wilayah.kabupaten.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-wilayah-kabupaten-store"],0,[plugins.kemkes.rsonline.referensi.wilayah.kabupaten,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.kecamatan.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=kecamatan",fields:[{name:"kode",type:"string"},{name:"kabkota",type:"string"},{name:"nama",type:"string"}],idProperty:"kode"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.wilayah.kecamatan,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.kecamatan.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.wilayah.kecamatan.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-wilayah-kecamatan-store"],0,[plugins.kemkes.rsonline.referensi.wilayah.kecamatan,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.negara.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=kewarganegaraan",fields:[{name:"id_nation",type:"int"},{name:"nationality",type:"string"}],idProperty:"id_nation"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.wilayah.negara,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.negara.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.wilayah.negara.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-wilayah-negara-store"],0,[plugins.kemkes.rsonline.referensi.wilayah.negara,"Store"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.propinsi.Model",data.model.Model,{serviceName:"plugins/kemkes/referensi?nama=propinsi",fields:[{name:"prop_kode",type:"string"},{name:"propinsi_nama",type:"string"}],idProperty:"prop_kode"},0,0,0,0,0,0,[plugins.kemkes.rsonline.referensi.wilayah.propinsi,"Model"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.propinsi.Store",data.store.Store,{model:"plugins.kemkes.rsonline.referensi.wilayah.propinsi.Model"},0,0,0,0,["store.plugins-kemkes-rsonline-referensi-wilayah-propinsi-store"],0,[plugins.kemkes.rsonline.referensi.wilayah.propinsi,"Store"],0));(Ext.cmd.derive("plugins.kemkes.siranap.kelas.Model",data.model.Model,{serviceName:"plugins/kemkes/kelas",fields:[{name:"ID",type:"string"},{name:"DESKRIPSI",type:"string"}],idProperty:"ID"},0,0,0,0,0,0,[plugins.kemkes.siranap.kelas,"Model"],0));(Ext.cmd.derive("plugins.kemkes.siranap.kelas.Store",data.store.Store,{model:"plugins.kemkes.siranap.kelas.Model"},0,0,0,0,["store.plugins-kemkes-siranap-kelas-store"],0,[plugins.kemkes.siranap.kelas,"Store"],0));(Ext.cmd.derive("plugins.kemkes.siranap.kelas.simrs_kemkes.Model",data.model.Model,{serviceName:"plugins/kemkes/kelasSimrsKemkes",fields:[{name:"ID",type:"int"},{name:"KELAS",type:"int"},{name:"KEMKES_KELAS",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[plugins.kemkes.siranap.kelas.simrs_kemkes,"Model"],0));(Ext.cmd.derive("plugins.kemkes.siranap.kelas.simrs_kemkes.Store",data.store.Store,{model:"plugins.kemkes.siranap.kelas.simrs_kemkes.Model"},0,0,0,0,["store.plugins-kemkes-siranap-kelas-simrs_kemkes-store"],0,[plugins.kemkes.siranap.kelas.simrs_kemkes,"Store"],0));(Ext.cmd.derive("plugins.kemkes.siranap.ruangan.Model",data.model.Model,{serviceName:"plugins/kemkes/ruangan",fields:[{name:"ID",type:"string"},{name:"DESKRIPSI",type:"string"}],idProperty:"ID"},0,0,0,0,0,0,[plugins.kemkes.siranap.ruangan,"Model"],0));(Ext.cmd.derive("plugins.kemkes.siranap.ruangan.Store",data.store.Store,{model:"plugins.kemkes.siranap.ruangan.Model"},0,0,0,0,["store.plugins-kemkes-siranap-ruangan-store"],0,[plugins.kemkes.siranap.ruangan,"Store"],0));(Ext.cmd.derive("plugins.kemkes.siranap.ruangan.simrs_kemkes.Model",data.model.Model,{serviceName:"plugins/kemkes/ruanganSimrsKemkes",fields:[{name:"ID",type:"int"},{name:"RUANGAN",type:"string"},{name:"KEMKES_RUANGAN",type:"string"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[plugins.kemkes.siranap.ruangan.simrs_kemkes,"Model"],0));(Ext.cmd.derive("plugins.kemkes.siranap.ruangan.simrs_kemkes.Store",data.store.Store,{model:"plugins.kemkes.siranap.ruangan.simrs_kemkes.Model"},0,0,0,0,["store.plugins-kemkes-siranap-ruangan-simrs_kemkes-store"],0,[plugins.kemkes.siranap.ruangan.simrs_kemkes,"Store"],0));(Ext.cmd.derive("plugins.kemkes.siranap.tempattidur.Model",data.model.Model,{serviceName:"plugins/kemkes/tempatTidur",fields:[{name:"kode_ruang",type:"string"},{name:"tipe_pasien",type:"string"},{name:"total_TT",type:"int"},{name:"terpakai_male",type:"int"},{name:"terpakai_female",type:"int"},{name:"kosong_male",type:"int"},{name:"kosong_female",type:"int"},{name:"waiting",type:"int"},{name:"tgl_update",type:"date"}]},0,0,0,0,0,0,[plugins.kemkes.siranap.tempattidur,"Model"],0));(Ext.cmd.derive("plugins.kemkes.siranap.tempattidur.Store",data.store.Store,{model:"plugins.kemkes.siranap.tempattidur.Model"},0,0,0,0,["store.plugins-kemkes-siranap-tempattidur-store"],0,[plugins.kemkes.siranap.tempattidur,"Store"],0));(Ext.cmd.derive("plugins.kemkes.sitt.Model",data.model.Model,{serviceName:"plugins/kemkes/sitt",fields:[{name:"id",type:"int"},{name:"nourut_pasien",type:"int"},{name:"id_tb_03",type:"string"},{name:"id_periode_laporan",type:"int"},{name:"tahun_buat_laporan",type:"int"},{name:"kd_wasor",type:"string"},{name:"noregkab",type:"string"},{name:"kd_pasien",type:"string"},{name:"nik",type:"string"},{name:"jenis_kelamin",type:"int"},{name:"alamat_lengkap",type:"string"},{name:"id_propinsi",type:"string"},{name:"kd_kabupaten",type:"string"},{name:"id_kecamatan",type:"string"},{name:"id_kelurahan",type:"string"},{name:"kd_fasyankes",type:"string"},{name:"nama_rujukan",type:"int"},{name:"sebutkan1",type:"string"},{name:"tipe_diagnosis",type:"int"},{name:"klasifikasi_lokasi_anatomi",type:"int"},{name:"klasifikasi_riwayat_pengobatan",type:"int"},{name:"klasifikasi_status_hiv",type:"int"},{name:"total_skoring_anak",type:"int"},{name:"konfirmasiSkoring5",type:"int"},{name:"konfirmasiSkoring6",type:"int"},{name:"tanggal_mulai_pengobatan",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"paduan_oat",type:"int"},{name:"sumber_obat",type:"int"},{name:"sebutkan",type:"string"},{name:"sebelum_pengobatan_hasil_mikroskopis",type:"int"},{name:"sebelum_pengobatan_hasil_tes_cepat",type:"int"},{name:"sebelum_pengobatan_hasil_biakan",type:"int"},{name:"noreglab_bulan_2",type:"string"},{name:"hasil_mikroskopis_bulan_2",type:"int"},{name:"noreglab_bulan_3",type:"string"},{name:"hasil_mikroskopis_bulan_3",type:"int"},{name:"noreglab_bulan_5",type:"string"},{name:"hasil_mikroskopis_bulan_5",type:"int"},{name:"akhir_pengobatan_noreglab",type:"string"},{name:"akhir_pengobatan_hasil_mikroskopis",type:"int"},{name:"tanggal_buat_laporan",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"tanggal_updated",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"oleh",type:"int"},{name:"kirim",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[plugins.kemkes.sitt,"Model"],0));(Ext.cmd.derive("plugins.kemkes.sitt.Store",data.store.Store,{model:"plugins.kemkes.sitt.Model"},0,0,0,0,["store.plugins-kemkes-sitt-store"],0,[plugins.kemkes.sitt,"Store"],0));(Ext.cmd.derive("plugins.BaseService",Ext.Base,{scope:this,animateTarget:null,showError:true,request:function(q,p,n,o){var e=this;Ext.Ajax.request({url:webservice.location+"plugins/"+q,method:p,jsonData:n,success:function(f,g){if(Ext.isFunction(o)){o(true,Ext.JSON.decode(f.responseText),g)}},failure:function(u,m){if(e.showError){try{var l=Ext.JSON.decode(u.responseText),k=l.detail?(Ext.isObject(l.detail)?Ext.JSON.encode(l.detail):l.detail):"Koneksi Gagal",g=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:u.status+" - "+u.statusText,header:{padding:5}});g.show({msg:k,buttons:Ext.MessageBox.OK,animateTarget:e.animateTarget,scope:e.scope,icon:Ext.Msg.ERROR})}catch(f){var g=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:"Error",header:{padding:5}});g.show({msg:"Koneksi Gagal",buttons:Ext.MessageBox.OK,animateTarget:e.animateTarget,scope:e.scope,icon:Ext.Msg.ERROR})}}if(Ext.isFunction(o)){o(false,u,m)}}})},enabledShowError:function(f){this.showError=f}},0,["baseservice"],["baseservice"],{baseservice:true},["widget.baseservice"],0,[plugins,"BaseService"],0));(Ext.cmd.derive("plugins.bpjs.Service",Ext.Base,{scope:this,animateTarget:null,showError:true,privates:{request:function(p,g,q,o){var f=this;Ext.Ajax.request({url:webservice.location+"plugins/"+p,method:g,jsonData:q,success:function(k,e){if(Ext.isFunction(o)){o(true,Ext.JSON.decode(k.responseText),e)}},failure:function(m,e){if(f.showError){try{var n=Ext.JSON.decode(m.responseText),l=n.detail?(Ext.isObject(n.detail)?Ext.JSON.encode(n.detail):n.detail):"Koneksi Gagal",t=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:m.status+" - "+m.statusText,header:{padding:5}});t.show({msg:l,buttons:Ext.MessageBox.OK,animateTarget:f.animateTarget,scope:f.scope,icon:Ext.Msg.ERROR})}catch(k){var t=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:"Error",header:{padding:5}});t.show({msg:"Koneksi Gagal",buttons:Ext.MessageBox.OK,animateTarget:f.animateTarget,scope:f.scope,icon:Ext.Msg.ERROR})}}if(Ext.isFunction(o)){o(false,m,e)}}})}},enabledShowError:function(f){this.showError=f},getPesertaByNoKartu:function(k,g){this.request("bpjs/"+k.nomor+"?tglSEP="+k.tglSEP,"GET","",g)},getPersertaByNIK:function(k,g){this.request("bpjs/nik/"+k.nomor+"?tglSEP="+k.tglSEP,"GET","",g)},buatSEP:function(k,g){this.request("bpjs","POST",k,g)},updateSEP:function(k,g){this.request("bpjs/updateSEP","POST",k,g)},cekSEP:function(k,g){this.request("bpjs/cekSEP/"+k,"GET","",g)},storeNoTransaksiDiKunjungan:function(g,e,f){var o={noSEP:g,noTrans:e};this.request("bpjs/mappingDataTransaksi","POST",o,f)},updateTanggalPulang:function(g,k){this.request("bpjs/updateTanggalPulang","POST",g,k)},batalkanSEP:function(e,m){var f={noSEP:e.nomor,user:e.user};this.request("bpjs/batalkanSEP","POST",f,m)},pengajuanSEP:function(g,k){this.request("bpjs/pengajuanSEP","POST",g,k)},aprovalPengajuanSEP:function(g,k){this.request("bpjs/aprovalPengajuanSEP","POST",g,k)},batalPengajuanSEP:function(g,k){this.request("bpjs/batalPengajuanSEP","POST",g,k)},kunjunganPeserta:function(e,m){var f={noSEP:e};this.request("bpjs/kunjunganPeserta","POST",f,m)},monitoringVerifikasiKlaim:function(g,k){this.request("bpjs/monitoringVerifikasiKlaim","POST",g,k)},riwayatPelayananPeserta:function(e,m){var f={noKartu:e};this.request("bpjs/riwayatPelayananPeserta","POST",f,m)},inacbg:function(e,m){var f={noSEP:e};this.request("bpjs/inacbg","POST",f,m)},cariRujukanDgnNoRujukan:function(g,k){this.request("bpjs/cariRujukanDgnNoRujukan/"+g,"GET","",k)},cariRujukanDgnNoKartuBPJS:function(g,k){this.request("bpjs/cariRujukanDgnNoKartuBPJS/"+g,"GET","",k)},buatRujukan:function(g,k){this.request("bpjs/insertRujukan","POST",g,k)},updateRujukan:function(g,k){this.request("bpjs/updateRujukan","POST",g,k)},deleteRujukan:function(g,k){this.request("bpjs/deleteRujukan","POST",g,k)},simpanRujukan:function(g,k){this.request("bpjs/simpanRujukan","POST",g,k)},diagnosa:function(g,k){this.request("bpjs/diagnosa?query="+g,"GET","",k)},procedure:function(g,k){this.request("bpjs/procedure?query="+g,"GET","",k)},hapusTempatTidur:function(g,k){this.request("bpjs/aplicaresHapusTempatTidur","POST",g,k)}},0,["bpjservice"],["bpjservice"],{bpjservice:true},["widget.bpjservice"],0,[plugins.bpjs,"Service"],0));(Ext.cmd.derive("plugins.bpjs.Tab",com.Tab,{controller:"plugins-bpjs-tab",items:[{title:"Referensi",xtype:"workspace-bpjs-referensi"},{title:"Peserta",xtype:"form-bpjs-peserta"},{title:"SEP",xtype:"workspace-bpjs-sep"},{title:"Rujukan",xtype:"workspace-bpjs-rujukan"},{title:"Monitoring",xtype:"workspace-bpjs-monitoring"}],load:function(){var f=this.getActiveTab();if(f){if(f.load){f.load({})}}},listeners:{tabchange:"onTabChange"}},0,["plugins-bpjs-tab"],["component","box","container","panel","tabpanel","com-tab","plugins-bpjs-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"plugins-bpjs-tab":true},["widget.plugins-bpjs-tab"],0,[plugins.bpjs,"Tab"],0));(Ext.cmd.derive("plugins.bpjs.TabController",Ext.app.ViewController,{onTabChange:function(k,g){if(g.load){g.load({})}}},0,0,0,0,["controller.plugins-bpjs-tab"],0,[plugins.bpjs,"TabController"],0));(Ext.cmd.derive("plugins.bpjs.Workspace",com.Form,{controller:"workspace-bpjs",layout:"fit",bodyPadding:0,items:[{xtype:"com-form",ui:"panel-cyan",title:"&nbsp;BPJS",titleFieldConfig:{iconCls:"simpel-bpjs"},fullscreenEnabled:true,menuConfig:{enabled:true,width:190,buttonConfig:{}},fullscreenConfig:{},header:{items:[{}]}}],load:function(n){var l=this,o=this.down("com-form"),m=[];m.push({text:"VClaim",leaf:true,className:"plugins.bpjs.Tab",idClassName:"plugins-bpjs-tab"});m.push({text:"Aplicares",leaf:true,className:"plugins.bpjs.aplicares.Tab",idClassName:"plugins-bpjs-aplicares-tab"});o.setMenus(m)}},0,["workspace-bpjs"],["component","box","container","panel","form","com-form","workspace-bpjs"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-bpjs":true},["widget.workspace-bpjs"],0,[plugins.bpjs,"Workspace"],0));(Ext.cmd.derive("plugins.bpjs.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.workspace-bpjs"],0,[plugins.bpjs,"WorkspaceController"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.Tab",com.Tab,{controller:"plugins-bpjs-aplicares-tab",items:[{title:"Referensi Kamar",xtype:"plugins-bpjs-aplicares-referensikamar-grid"},{title:"Map Kelas",xtype:"plugins-bpjs-aplicares-mapkelas-grid"},{title:"Ketersediaan Kamar",xtype:"plugins-bpjs-aplicares-ketersediaankamar-grid"},{title:"Monitoring Tempat Tidur",xtype:"plugins-bpjs-aplicares-tempattidur-grid"}],load:function(){var f=this.getActiveTab();if(f){if(f.load){f.load({})}}},listeners:{tabchange:"onTabChange"}},0,["plugins-bpjs-aplicares-tab"],["component","box","container","panel","tabpanel","com-tab","plugins-bpjs-aplicares-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"plugins-bpjs-aplicares-tab":true},["widget.plugins-bpjs-aplicares-tab"],0,[plugins.bpjs.aplicares,"Tab"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.TabController",Ext.app.ViewController,{onTabChange:function(k,g){if(g.load){g.load({})}}},0,0,0,0,["controller.plugins-bpjs-aplicares-tab"],0,[plugins.bpjs.aplicares,"TabController"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.ketersediaankamar.Grid",com.Grid,{controller:"plugins-bpjs-aplicares-ketersediaankamar-grid",viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"plugins-bpjs-aplicares-ketersediaankamar-store"}}},columns:[{text:"Ruangan",dataIndex:"namaruang",sortable:false,flex:1},{text:"Kelas",dataIndex:"namakelas",sortable:false},{xtype:"numbercolumn",text:"Kapasitas",dataIndex:"kapasitas",format:"###",sortable:false,align:"right"},{text:"Tersedia",columns:[{xtype:"numbercolumn",text:"Total",dataIndex:"tersedia",format:"###",sortable:false,align:"right",width:77},{xtype:"numbercolumn",text:"L",dataIndex:"tersediapria",format:"###",sortable:false,align:"right",width:77},{xtype:"numbercolumn",text:"P",dataIndex:"tersediawanita",format:"###",sortable:false,align:"right",width:77},{xtype:"numbercolumn",text:"LP",dataIndex:"tersediapriawanita",format:"###",sortable:false,align:"right",width:77}]},{xtype:"datecolumn",format:"d-m-Y H:i:s",text:"Update Terakhir",dataIndex:"lastupdate",sortable:false,width:140,align:"center"}],dockedItems:[{xtype:"toolbar",items:[{xtype:"plugins-bpjs-referensi-faskes-combo",name:"faskes",params:{jenis:2},flex:1},{xtype:"button",iconCls:"x-fa fa-search",handler:"onSearch"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-bpjs-aplicares-ketersediaankamar-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-bpjs-aplicares-ketersediaankamar-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-bpjs-aplicares-ketersediaankamar-grid":true},["widget.plugins-bpjs-aplicares-ketersediaankamar-grid"],0,[plugins.bpjs.aplicares.ketersediaankamar,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.ketersediaankamar.GridController",Ext.app.ViewController,{onSearch:function(f){this.cari(f)},privates:{cari:function(n){var o=this,p=o.getView(),q=p.down("pagingtoolbar"),e=p.down("[name=faskes]").getSelection();p.removeDataStore();p.setParams({faskes:e?e.get("kdProvider"):""});if(q){q.moveFirst()}else{p.load()}}}},0,0,0,0,["controller.plugins-bpjs-aplicares-ketersediaankamar-grid"],0,[plugins.bpjs.aplicares.ketersediaankamar,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.mapkelas.Grid",com.Grid,{controller:"plugins-bpjs-aplicares-mapkelas-grid",viewModel:{stores:{store:{type:"plugins-bpjs-aplicares-mapkelas-store"}}},initComponent:function(){this.comboReferensiKelas=Ext.create("master.referensi.Combo",{params:{JENIS:19,STATUS:1},editable:false,firstLoad:true,listeners:{select:"onSelectKelasRS"}});this.columns=[{text:"Kelas",dataIndex:"kelas",sortable:false,editor:{xtype:"plugins-bpjs-aplicares-referensikamar-combo",firstLoad:true,allowBlank:false,listeners:{select:"onSelectKelas"}},renderer:"onRendererKelas",flex:1},{text:"Kelas RS",dataIndex:"kelas_rs",sortable:false,editor:this.comboReferensiKelas,renderer:"onRendererKelasRS",flex:1},{xtype:"widgetcolumn",text:"Status",dataIndex:"status",widget:{xtype:"checkbox",listeners:{change:"onStatusCheck"}}}];com.Grid.prototype.initComponent.apply(this,arguments)},dockedItems:[{xtype:"toolbar",items:["->",{iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan"},{iconCls:"x-fa fa-plus",tooltip:"Tambah",handler:"onTambah"},{iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],plugins:{ptype:"cellediting",clicksToEdit:1},doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-bpjs-aplicares-mapkelas-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-bpjs-aplicares-mapkelas-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-bpjs-aplicares-mapkelas-grid":true},["widget.plugins-bpjs-aplicares-mapkelas-grid"],0,[plugins.bpjs.aplicares.mapkelas,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.mapkelas.GridController",Ext.app.ViewController,{onSelectKelas:function(n,m){var l=this.getView().getSelection();if(m){if(Ext.isArray(l)){if(l.length>0){var o=l[0].get("REFERENSI")||{};o.KELAS=m.data;l[0].set("REFERENSI",o)}}}},onSelectKelasRS:function(n,m){var l=this.getView().getSelection();if(m){if(Ext.isArray(l)){if(l.length>0){var o=l[0].get("REFERENSI")||{};o.KELAS_RS=m.data;l[0].set("REFERENSI",o)}}}},onRendererKelas:function(o,q,p){var e=p.get("REFERENSI"),n=e?e.KELAS:null;if(n){return n.namakelas}return o},onRendererKelasRS:function(f,s,q){var p=this.getView(),t=q.get("REFERENSI"),e=t?t.KELAS_RS:null;if(e){return e.DESKRIPSI}return this.getReferensiKelasRS(f)},onStatusCheck:function(s,e,q){var t=this,f=e?1:0,p=s.getWidgetRecord();if(p){if(p.get("status")===f){return}p.set("status",f);p.save({callback:function(l,g,k){if(k){t.getView().notifyMessage("Data telah disimpan")}}})}},onSimpan:function(e){var n=this,q=n.getStore("store"),o=q.getModifiedRecords(),p=0;Ext.Array.each(o,function(f){var g=Ext.clone(f);delete g.data.REFERENSI;g.save({callback:function(k,l,m){if(m){if(p===(o.length-1)){n.getView().notifyMessage("Data telah disimpan")}}p++}})});n.onRefresh()},onTambah:function(m){var k=this,l=k.getStore("store");l.insert(0,Ext.create("plugins.bpjs.aplicares.mapkelas.Model",{}))},onRefresh:function(){this.getView().reload()},getReferensiKelasRS:function(k){var m=this.getView().comboReferensiKelas.getStore(),l=m.findRecord("ID",k,0,true,false,true);return l?l.get("DESKRIPSI"):k}},0,0,0,0,["controller.plugins-bpjs-aplicares-mapkelas-grid"],0,[plugins.bpjs.aplicares.mapkelas,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.referensikamar.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-bpjs-aplicares-referensikamar-store"}}},queryMode:"remote",editable:false,valueField:"kodekelas",displayField:"namakelas",emptyText:"[Pilih Kelas]",tpl:new Ext.XTemplate('<tpl for=".">','<div class="x-boundlist-item" style="font-size: 12px; line-height: 15px; padding: 3px 10px">','<div style="font-weight: bold; white-space:normal !important;">{kodekelas} - {namakelas}</div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{namakelas}","</tpl>")},0,["plugins-bpjs-aplicares-referensikamar-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-bpjs-aplicares-referensikamar-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-bpjs-aplicares-referensikamar-combo":true},["widget.plugins-bpjs-aplicares-referensikamar-combo"],0,[plugins.bpjs.aplicares.referensikamar,"Combo"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.referensikamar.Grid",com.Grid,{viewModel:{stores:{store:{type:"plugins-bpjs-aplicares-referensikamar-store"}}},columns:[{text:"Kode",dataIndex:"kodekelas",sortable:false,width:150,align:"center"},{text:"Nama",dataIndex:"namakelas",sortable:false,flex:1}],doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-bpjs-aplicares-referensikamar-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-bpjs-aplicares-referensikamar-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-bpjs-aplicares-referensikamar-grid":true},["widget.plugins-bpjs-aplicares-referensikamar-grid"],0,[plugins.bpjs.aplicares.referensikamar,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.tempattidur.Grid",com.Grid,{controller:"plugins-bpjs-aplicares-tempattidur-grid",viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"plugins-bpjs-aplicares-tempattidur-store"}}},initComponent:function(){var f=this;f.callParent(arguments);f.createMenuContext()},columns:[{text:"Ruangan",dataIndex:"namaruang",sortable:false,flex:1},{xtype:"templatecolumn",text:"Kelas",sortable:false,tpl:"{REFERENSI.KELAS.namakelas}"},{xtype:"numbercolumn",text:"Kapa<br/>sitas",dataIndex:"kapasitas",format:"###",sortable:false,align:"right",width:72},{text:"Tersedia",columns:[{xtype:"numbercolumn",text:"Total",dataIndex:"tersedia",format:"###",sortable:false,align:"right",width:77},{xtype:"numbercolumn",text:"L",dataIndex:"tersediapria",format:"###",sortable:false,align:"right",width:54},{xtype:"numbercolumn",text:"P",dataIndex:"tersediawanita",format:"###",sortable:false,align:"right",width:54},{xtype:"numbercolumn",text:"LP",dataIndex:"tersediapriawanita",format:"###",sortable:false,align:"right",width:61}]},{xtype:"datecolumn",format:"d-m-Y H:i:s",text:"Tgl. Update",dataIndex:"tanggal_updated",sortable:false,width:140,align:"center"},{text:"Status",columns:[{xtype:"templatecolumn",text:"Baru?",sortable:false,align:"center",width:57,tpl:new Ext.XTemplate("{[this.getStatus(values.ruang_baru)]}",{getStatus:function(f){return f==1?"Ya":"Tdk"}})},{xtype:"templatecolumn",text:"Hapus?",sortable:false,align:"center",width:64,tpl:new Ext.XTemplate("{[this.getStatus(values.hapus_ruang)]}",{getStatus:function(f){return f==1?"Ya":"Tdk"}})},{xtype:"templatecolumn",text:"Kirim",sortable:false,align:"center",width:72,tpl:new Ext.XTemplate("{[this.getStatus(values.kirim)]}",{getStatus:function(f){return f==1?"Proses":"Selesai"}})}]}],doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}},createMenuContext:function(){var k=this,g=[{text:"Hapus Tempat Tidur",iconCls:"x-fa fa-trash",scope:k.getController(),handler:"onHapusTempatTidur"}];k.menucontext=new Ext.menu.Menu({items:g});return k.menucontext},listeners:{rowcontextmenu:"onKlikKanan"}},0,["plugins-bpjs-aplicares-tempattidur-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-bpjs-aplicares-tempattidur-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-bpjs-aplicares-tempattidur-grid":true},["widget.plugins-bpjs-aplicares-tempattidur-grid"],0,[plugins.bpjs.aplicares.tempattidur,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.aplicares.tempattidur.GridController",Ext.app.ViewController,{itemDelete:undefined,init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onKlikKanan:function(y,f,u,w,t){var v=this,x=v.getView(),z=x.getSelection();if(z.length>0){var g=t.getXY();v.itemDelete=z[0];if(v.itemDelete.get("ruang_baru")==0&&v.itemDelete.get("hapus_ruang")==0){t.stopEvent();x.menucontext.showAt(g)}}},onHapusTempatTidur:function(o){var l=this,n=this.getView();if(l.itemDelete!=undefined){var m="<b>"+l.itemDelete.get("namaruang")+" / "+l.itemDelete.get("REFERENSI").KELAS.namakelas+"</b>";n.showMessageBox({title:"Hapus Tempat Tidur",message:"Anda yakin ingin hapus tempat tidur "+m+" ?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:o,fn:function(e){if(e==="yes"){if(l.service){n.setLoading(true);l.service.hapusTempatTidur({id:l.itemDelete.get("id")},function(f,g){if(f){n.notifyMessage("Tempat Tidur "+m+" berhasi dihapus...");n.reload()}n.setLoading(false);l.itemDelete=undefined})}}}})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.plugins-bpjs-aplicares-tempattidur-grid"],0,[plugins.bpjs.aplicares.tempattidur,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.klaim.pengajuan.Workspace",com.Tab,{controller:"workspace-bpjs-klaim-pengajuan",defaults:{textAlign:"left"},tabPosition:"right",tabRotation:0,initComponent:function(){var f=this;f.items=[{title:"Insert LPK"},{title:"Update LPK"},{title:"Delete LPK"},{title:"Data Lembar Pengajuan Klaim"}];f.callParent(arguments)},load:function(){var f=this.getActiveTab();if(f){if(f.load){f.load({})}}},listeners:{tabchange:"onTabChange"}},0,["workspace-bpjs-klaim-pengajuan"],["component","box","container","panel","tabpanel","com-tab","workspace-bpjs-klaim-pengajuan"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"workspace-bpjs-klaim-pengajuan":true},["widget.workspace-bpjs-klaim-pengajuan"],0,[plugins.bpjs.klaim.pengajuan,"Workspace"],0));(Ext.cmd.derive("plugins.bpjs.klaim.pengajuan.WorkspaceController",Ext.app.ViewController,{onTabChange:function(k,g){if(g.load){g.load({})}}},0,0,0,0,["controller.workspace-bpjs-klaim-pengajuan"],0,[plugins.bpjs.klaim.pengajuan,"WorkspaceController"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.Workspace",com.Tab,{controller:"workspace-bpjs-monitoring",defaults:{textAlign:"left"},tabPosition:"right",tabRotation:0,initComponent:function(){var f=this;f.items=[{title:"Data Kunjungan",xtype:"plugins-bpjs-monitoring-kunjungan-grid"},{title:"Data Klaim",xtype:"plugins-bpjs-monitoring-klaim-grid"},{title:"Data Histori Pelayanan Peserta",xtype:"plugins-bpjs-monitoring-histori-pelayanan-grid"},{title:"Data Klaim Jaminan Jasa Raharja",xtype:"plugins-bpjs-monitoring-klaim-jasaraharja-grid"}];f.callParent(arguments)},load:function(){var f=this.getActiveTab();if(f){if(f.load){f.load({})}}},listeners:{tabchange:"onTabChange"}},0,["workspace-bpjs-monitoring"],["component","box","container","panel","tabpanel","com-tab","workspace-bpjs-monitoring"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"workspace-bpjs-monitoring":true},["widget.workspace-bpjs-monitoring"],0,[plugins.bpjs.monitoring,"Workspace"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.WorkspaceController",Ext.app.ViewController,{onTabChange:function(k,g){if(g.load){g.load({})}}},0,0,0,0,["controller.workspace-bpjs-monitoring"],0,[plugins.bpjs.monitoring,"WorkspaceController"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.histori.pelayanan.Grid",com.Grid,{controller:"plugins-bpjs-monitoring-histori-pelayanan-grid",viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"plugins-bpjs-monitoring-histori-pelayanan-store",queryParams:{noKartu:"",tglMulai:Ext.util.Format.date(new Date(),"Y-m-d"),tglAkhir:Ext.util.Format.date(new Date(),"Y-m-d")}}}},columns:[{text:"Kunjungan",columns:[{text:"No. SEP",dataIndex:"noSep",sortable:false,width:150,align:"center",editor:{readOnly:true,selectOnFocus:true}},{text:"Tgl. SEP",dataIndex:"tglSep",sortable:false,width:100,align:"center"},{text:"Tgl. Pulang",dataIndex:"tglPlgSep",sortable:false,width:100,align:"center"},{text:"Kelas Rawat",dataIndex:"kelasRawat",sortable:false,width:150,align:"center"},{text:"Poli",dataIndex:"poli",sortable:false},{text:"PPK Pelayanan",dataIndex:"ppkPelayanan",sortable:false},{text:"Jenis Pelayanan",dataIndex:"jnsPelayanan",sortable:false},{text:"Diagnosa",dataIndex:"diagnosa",sortable:false}]},{text:"Peserta",flex:1,columns:[{text:"No. Kartu",sortable:false,width:150,align:"center",dataIndex:"noKartu",editor:{readOnly:true,selectOnFocus:true}},{xtype:"templatecolumn",text:"Nama",sortable:false,tpl:"{namaPeserta}"}]}],plugins:[{ptype:"cellediting",clicksToEdit:1}],dockedItems:[{xtype:"toolbar",items:[{xtype:"textfield",name:"nomor",emptyText:"Nomor Kartu",flex:1},{xtype:"datefield",fieldLabel:"Tgl. Mulai",labelWidth:70,name:"mulai",width:200,format:"d-m-Y",value:new Date()},{xtype:"datefield",fieldLabel:"Tgl. Akhir",labelWidth:70,name:"akhir",width:200,format:"d-m-Y",value:new Date()},{xtype:"button",iconCls:"x-fa fa-search",handler:"onSearch"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){try{if(!g){if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-bpjs-monitoring-histori-pelayanan-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-bpjs-monitoring-histori-pelayanan-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-bpjs-monitoring-histori-pelayanan-grid":true},["widget.plugins-bpjs-monitoring-histori-pelayanan-grid"],0,[plugins.bpjs.monitoring.histori.pelayanan,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.histori.pelayanan.GridController",Ext.app.ViewController,{onSearch:function(f){this.cari()},privates:{cari:function(){var e=this,p=e.getView(),q=p.down("pagingtoolbar"),f=p.down("[name=nomor]").getValue(),s=Ext.util.Format.date(p.down("[name=mulai]").getValue(),"Y-m-d"),t=Ext.util.Format.date(p.down("[name=akhir]").getValue(),"Y-m-d");p.removeDataStore();p.setParams({noKartu:f,tglMulai:s,tglAkhir:t});if(q){q.moveFirst()}else{p.load()}}}},0,0,0,0,["controller.plugins-bpjs-monitoring-histori-pelayanan-grid"],0,[plugins.bpjs.monitoring.histori.pelayanan,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.klaim.Grid",com.Grid,{controller:"plugins-bpjs-monitoring-klaim-grid",viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"plugins-bpjs-monitoring-klaim-store",queryParams:{tanggal:Ext.util.Format.date(new Date(),"Y-m-d"),jenis:2,status:3}}}},columns:[{text:"Kunjungan",columns:[{text:"No. SEP",dataIndex:"noSEP",sortable:false,width:150,align:"center",editor:{readOnly:true,selectOnFocus:true}},{text:"No. FPK",dataIndex:"noFPK",sortable:false,width:150,align:"center",editor:{readOnly:true,selectOnFocus:true}},{xtype:"datecolumn",format:"d-m-Y",text:"Tgl. SEP",dataIndex:"tglSep",sortable:false,width:100,align:"center"},{xtype:"datecolumn",format:"d-m-Y",text:"Tgl. Pulang",dataIndex:"tglPulang",sortable:false,width:100,align:"center"},{text:"Kelas Rawat",dataIndex:"kelasRawat",sortable:false,width:150,align:"center"},{text:"Poli",dataIndex:"poli",sortable:false}]},{text:"Biaya",columns:[{xtype:"templatecolumn",text:"Pengajuan",sortable:false,width:150,align:"right",tpl:new Ext.XTemplate("{[this.getFormatNumber(values.biaya.byPengajuan)]}",{getFormatNumber:function(f){return f===0?"":Ext.util.Format.number(f,"0,000.00")}})},{xtype:"templatecolumn",text:"Setujui",sortable:false,width:150,align:"right",tpl:new Ext.XTemplate("{[this.getFormatNumber(values.biaya.bySetujui)]}",{getFormatNumber:function(f){return f===0?"":Ext.util.Format.number(f,"0,000.00")}})},{xtype:"templatecolumn",text:"Tarif Gruper",sortable:false,width:150,align:"right",tpl:new Ext.XTemplate("{[this.getFormatNumber(values.biaya.byTarifGruper)]}",{getFormatNumber:function(f){return f===0?"":Ext.util.Format.number(f,"0,000.00")}})},{xtype:"templatecolumn",text:"Tarif RS",sortable:false,width:150,align:"right",tpl:new Ext.XTemplate("{[this.getFormatNumber(values.biaya.byTarifRS)]}",{getFormatNumber:function(f){return f===0?"":Ext.util.Format.number(f,"0,000.00")}})},{xtype:"templatecolumn",text:"TopUp",sortable:false,width:150,align:"right",tpl:new Ext.XTemplate("{[this.getFormatNumber(values.biaya.byTopup)]}",{getFormatNumber:function(f){return f===0?"":Ext.util.Format.number(f,"0,000.00")}})}]},{text:"Peserta",columns:[{xtype:"templatecolumn",text:"No. Kartu",sortable:false,width:150,align:"center",tpl:"{peserta.noKartu}"},{xtype:"templatecolumn",text:"No. RM",sortable:false,width:150,align:"center",tpl:"{peserta.noMR}"},{xtype:"templatecolumn",text:"Nama",sortable:false,tpl:"{peserta.nama}"}]},{text:"Inacbg",columns:[{xtype:"templatecolumn",text:"Kode",sortable:false,width:150,align:"center",tpl:"{Inacbg.kode}"},{xtype:"templatecolumn",text:"Nama",sortable:false,tpl:"{Inacbg.nama}"}]},{text:"Status",dataIndex:"status",sortable:false}],plugins:[{ptype:"cellediting",clicksToEdit:1}],dockedItems:[{xtype:"toolbar",items:[{xtype:"datefield",fieldLabel:"Tgl. Pulang",labelWidth:70,width:200,format:"d-m-Y",value:new Date()},{xtype:"combobox",name:"jenis",store:Ext.create("Ext.data.Store",{fields:["id","name"],data:[{id:1,name:"Rawat Inap"},{id:2,name:"Rawat Jalan"}]}),displayField:"name",valueField:"id",editable:false,value:2},{xtype:"combobox",name:"status",store:Ext.create("Ext.data.Store",{fields:["id","name"],data:[{id:1,name:"Proses Verifikasi"},{id:2,name:"Pending Verifikasi"},{id:3,name:"Klaim"}]}),displayField:"name",valueField:"id",editable:false,value:3},{xtype:"button",iconCls:"x-fa fa-search",text:"Ambil dari BPJS",valueId:1,handler:"onSearch"},{xtype:"button",iconCls:"x-fa fa-search",text:"Tampilkan",valueId:2,handler:"onSearch"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){try{if(!g){if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-bpjs-monitoring-klaim-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-bpjs-monitoring-klaim-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-bpjs-monitoring-klaim-grid":true},["widget.plugins-bpjs-monitoring-klaim-grid"],0,[plugins.bpjs.monitoring.klaim,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.klaim.GridController",Ext.app.ViewController,{onSearch:function(f){this.cari(f)},privates:{cari:function(s){var u=this,f=u.getView(),g=f.down("pagingtoolbar"),v=Ext.util.Format.date(f.down("datefield").getValue(),"Y-m-d"),t=f.down("combobox[name=jenis]").getSelection(),e=f.down("combobox[name=status]").getSelection();f.removeDataStore();f.setParams({tanggal:v,jenis:t?t.get("id"):"",status:e?e.get("id"):"",jenisPengambilanData:s.valueId});if(g){g.moveFirst()}else{f.load()}}}},0,0,0,0,["controller.plugins-bpjs-monitoring-klaim-grid"],0,[plugins.bpjs.monitoring.klaim,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.klaim.jasaraharja.Grid",com.Grid,{controller:"plugins-bpjs-monitoring-klaim-jasaraharja-grid",viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"plugins-bpjs-monitoring-klaim-jasaraharja-store",queryParams:{tglMulai:Ext.util.Format.date(new Date(),"Y-m-d"),tglAkhir:Ext.util.Format.date(new Date(),"Y-m-d")}}}},columns:[{text:"Peserta",columns:[{xtype:"templatecolumn",text:"No. Kartu",sortable:false,width:150,align:"center",tpl:"{sep.peserta.noKartu}"},{xtype:"templatecolumn",text:"No. RM",sortable:false,width:100,align:"center",tpl:"{sep.peserta.noMR}"},{xtype:"templatecolumn",text:"Nama",sortable:false,tpl:"{sep.peserta.nama}"}]},{text:"Kunjungan",columns:[{xtype:"templatecolumn",text:"No. SEP",sortable:false,width:150,align:"center",tpl:"{sep.noSEP}"},{xtype:"templatecolumn",text:"Tgl. SEP",sortable:false,width:100,align:"center",tpl:new Ext.XTemplate("{[this.getFormatDate(values.sep.tglSep)]}",{getFormatDate:function(f){return Ext.util.Format.date(f,"d-m-Y")}})},{xtype:"templatecolumn",text:"Tgl. Pulang",sortable:false,width:100,align:"center",tpl:new Ext.XTemplate("{[this.getFormatDate(values.sep.tglPlgSEP)]}",{getFormatDate:function(f){return Ext.util.Format.date(f,"d-m-Y")}})},{xtype:"templatecolumn",text:"Jenis Pelayanan",sortable:false,tpl:"{sep.jnsPelayanan}"},{xtype:"templatecolumn",text:"Poli",sortable:false,tpl:"{sep.poli}"},{xtype:"templatecolumn",text:"Diagnosa",sortable:false,tpl:"{sep.diagnosa}"}]},{text:"Jasa Raharja",columns:[{xtype:"templatecolumn",text:"No. Register",sortable:false,width:150,align:"center",tpl:"{jasaRaharja.noRegister}"},{xtype:"templatecolumn",text:"Tgl. Kejadian",sortable:false,width:100,align:"center",tpl:new Ext.XTemplate("{[this.getFormatDate(values.jasaRaharja.tglKejadian)]}",{getFormatDate:function(f){return Ext.util.Format.date(f,"d-m-Y")}})},{xtype:"templatecolumn",text:"Plafon",sortable:false,width:140,align:"right",tpl:new Ext.XTemplate("{[this.getFormatNumber(values.jasaRaharja.plafon)]}",{getFormatNumber:function(f){return f===0?"":Ext.util.Format.number(f,"0,000.00")}})},{xtype:"templatecolumn",text:"Dijamin",sortable:false,width:140,align:"right",tpl:new Ext.XTemplate("{[this.getFormatNumber(values.jasaRaharja.biayaDijamin)]}",{getFormatNumber:function(f){return f===0?"":Ext.util.Format.number(f,"0,000.00")}})},{xtype:"templatecolumn",text:"Dibayar",sortable:false,width:140,align:"right",tpl:new Ext.XTemplate("{[this.getFormatNumber(values.jasaRaharja.jmlDibayar)]}",{getFormatNumber:function(f){return f===0?"":Ext.util.Format.number(f,"0,000.00")}})},{xtype:"templatecolumn",text:"Status Dijamin",sortable:false,tpl:"{jasaRaharja.ketStatusDijamin}"},{xtype:"templatecolumn",text:"Status Dikirim",sortable:false,tpl:"{jasaRaharja.ketStatusDikirim}"},{xtype:"templatecolumn",text:"Result",sortable:false,tpl:"{jasaRaharja.resultsJasaRaharja}"}]}],dockedItems:[{xtype:"toolbar",items:[{xtype:"datefield",fieldLabel:"Tgl. Mulai",labelWidth:70,name:"mulai",width:200,format:"d-m-Y",value:new Date()},{xtype:"datefield",fieldLabel:"Tgl. Akhir",labelWidth:70,name:"akhir",width:200,format:"d-m-Y",value:new Date()},{xtype:"button",iconCls:"x-fa fa-search",handler:"onSearch"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){try{if(!g){if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-bpjs-monitoring-klaim-jasaraharja-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-bpjs-monitoring-klaim-jasaraharja-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-bpjs-monitoring-klaim-jasaraharja-grid":true},["widget.plugins-bpjs-monitoring-klaim-jasaraharja-grid"],0,[plugins.bpjs.monitoring.klaim.jasaraharja,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.klaim.jasaraharja.GridController",Ext.app.ViewController,{onSearch:function(f){this.cari()},privates:{cari:function(){var o=this,p=o.getView(),q=p.down("pagingtoolbar"),e=Ext.util.Format.date(p.down("[name=mulai]").getValue(),"Y-m-d"),n=Ext.util.Format.date(p.down("[name=akhir]").getValue(),"Y-m-d");p.removeDataStore();p.setParams({tglMulai:e,tglAkhir:n});if(q){q.moveFirst()}else{p.load()}}}},0,0,0,0,["controller.plugins-bpjs-monitoring-klaim-jasaraharja-grid"],0,[plugins.bpjs.monitoring.klaim.jasaraharja,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.kunjungan.Grid",com.Grid,{controller:"plugins-bpjs-monitoring-kunjungan-grid",viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"plugins-bpjs-monitoring-kunjungan-store",queryParams:{tanggal:Ext.util.Format.date(new Date(),"Y-m-d"),jenis:2}}}},columns:[{text:"No. Kartu",dataIndex:"noKartu",sortable:false,width:110,align:"center",editor:{readOnly:true,selectOnFocus:true}},{text:"Nama",dataIndex:"nama",sortable:false,flex:1},{text:"No. SEP",dataIndex:"noSep",sortable:false,width:170,align:"center",editor:{readOnly:true,selectOnFocus:true}},{xtype:"datecolumn",format:"d-m-Y",text:"Tgl. SEP",dataIndex:"tglSep",sortable:false,width:100,align:"center"},{xtype:"datecolumn",format:"d-m-Y",text:"Tgl. Pulang SEP",dataIndex:"tglPlgSep",sortable:false,width:100,align:"center"},{text:"Jenis Pelayanan",dataIndex:"jnsPelayanan",sortable:false},{text:"Kelas Rawat",dataIndex:"kelasRawat",sortable:false},{text:"Poli",dataIndex:"poli",sortable:false},{text:"Diagnosa",dataIndex:"diagnosa",sortable:false}],plugins:[{ptype:"cellediting",clicksToEdit:1}],dockedItems:[{xtype:"toolbar",items:[{xtype:"datefield",fieldLabel:"Tgl. SEP",labelWidth:50,width:180,format:"d-m-Y",value:new Date()},{xtype:"combobox",name:"jenis",store:Ext.create("Ext.data.Store",{fields:["id","name"],data:[{id:1,name:"Rawat Inap"},{id:2,name:"Rawat Jalan"}]}),displayField:"name",valueField:"id",editable:false,value:2},{xtype:"button",iconCls:"x-fa fa-search",handler:"onSearch"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){try{if(!g){if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-bpjs-monitoring-kunjungan-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-bpjs-monitoring-kunjungan-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-bpjs-monitoring-kunjungan-grid":true},["widget.plugins-bpjs-monitoring-kunjungan-grid"],0,[plugins.bpjs.monitoring.kunjungan,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.monitoring.kunjungan.GridController",Ext.app.ViewController,{onSearch:function(f){this.cari()},privates:{cari:function(){var e=this,p=e.getView(),q=p.down("pagingtoolbar"),n=Ext.util.Format.date(p.down("datefield").getValue(),"Y-m-d"),o=p.down("combobox").getSelection();p.removeDataStore();p.setParams({tanggal:n,jenis:o?o.get("id"):""});if(q){q.moveFirst()}else{p.load()}}}},0,0,0,0,["controller.plugins-bpjs-monitoring-kunjungan-grid"],0,[plugins.bpjs.monitoring.kunjungan,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.peserta.Form",com.Form,{controller:"form-bpjs-peserta",viewModel:{data:{emptytext:"Masukkan No. Kartu"}},layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox"},items:[{xtype:"segmentedbutton",items:[{text:"No. Kartu",idx:1,pressed:true},{text:"NIK",idx:2}],listeners:{toggle:"onToggleButton"}},{xtype:"textfield",bind:{emptyText:"{emptytext}"},flex:1,reference:"nomor"},{xtype:"datefield",reference:"tglSEP",format:"d-m-Y",value:new Date(),width:120},{xtype:"button",iconCls:"x-fa fa-search",tooltip:"Cari",handler:"onButtonCari"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}]},0,["form-bpjs-peserta"],["component","box","container","panel","form","com-form","form-bpjs-peserta"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-bpjs-peserta":true},["widget.form-bpjs-peserta"],0,[plugins.bpjs.peserta,"Form"],0));(Ext.cmd.derive("plugins.bpjs.peserta.FormController",Ext.app.ViewController,{idxSelected:1,init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onToggleButton:function(l,m,k){this.getViewModel().set("emptytext","Masukkan "+m.text);this.idxSelected=m.idx},onButtonCari:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(o.nomor.getValue()===""){return}if(m.service){if(m.idxSelected===1){n.setLoading(true);m.service.getPesertaByNoKartu({nomor:o.nomor.getValue(),tglSEP:Ext.util.Format.date(o.tglSEP.getValue(),"Y-m-d")},function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}if(m.idxSelected===2){n.setLoading(true);m.service.getPersertaByNIK({nomor:o.nomor.getValue(),tglSEP:Ext.util.Format.date(o.tglSEP.getValue(),"Y-m-d")},function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-bpjs-peserta"],0,[plugins.bpjs.peserta,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.referensi.Workspace",com.Tab,{controller:"workspace-bpjs-referensi",defaults:{textAlign:"left"},tabPosition:"right",tabRotation:0,initComponent:function(){var f=this;f.items=[{title:"Diagnosa",xtype:"form-bpjs-referensi-diagnosa"},{title:"Poli",xtype:"grid-bpjs-referensi-poli"},{title:"Fasilitas Kesehatan",xtype:"grid-bpjs-referensi-faskes"},{title:"Procedure",xtype:"form-bpjs-referensi-procedure"},{title:"Kelas Rawat",xtype:"grid-bpjs-referensi-kelasrawat"},{title:"DPJP",xtype:"grid-bpjs-referensi-dpjp"},{title:"Dokter",xtype:"grid-bpjs-referensi-dokter"},{title:"Spesialistik",xtype:"grid-bpjs-referensi-spesialistik"},{title:"Ruang Rawat",xtype:"grid-bpjs-referensi-ruangrawat"},{title:"Cara Keluar",xtype:"grid-bpjs-referensi-carakeluar"},{title:"Pasca Pulang",xtype:"grid-bpjs-referensi-pascapulang"}];f.callParent(arguments)},load:function(){var f=this.getActiveTab();if(f){if(f.load){f.load({})}}},listeners:{tabchange:"onTabChange"}},0,["workspace-bpjs-referensi"],["component","box","container","panel","tabpanel","com-tab","workspace-bpjs-referensi"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"workspace-bpjs-referensi":true},["widget.workspace-bpjs-referensi"],0,[plugins.bpjs.referensi,"Workspace"],0));(Ext.cmd.derive("plugins.bpjs.referensi.WorkspaceController",Ext.app.ViewController,{onTabChange:function(k,g){if(g.load){g.load({})}}},0,0,0,0,["controller.workspace-bpjs-referensi"],0,[plugins.bpjs.referensi,"WorkspaceController"],0));(Ext.cmd.derive("plugins.bpjs.referensi.carakeluar.Grid",com.Grid,{viewModel:{stores:{store:{type:"bpjs-referensi-carakeluar-store"}}},columns:[{text:"Kode",dataIndex:"kode",sortable:false,width:150,align:"center"},{text:"Nama",dataIndex:"nama",sortable:false,flex:1}],doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["grid-bpjs-referensi-carakeluar"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","grid-bpjs-referensi-carakeluar"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"grid-bpjs-referensi-carakeluar":true},["widget.grid-bpjs-referensi-carakeluar"],0,[plugins.bpjs.referensi.carakeluar,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.referensi.diagnosa.Form",com.Form,{controller:"form-bpjs-referensi-diagnosa",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox"},items:[{xtype:"textfield",fieldLabel:"Diagnosa (ICD-10)",labelWidth:110,emptyText:"Masukkan Kode atau Nama Diagnosa (ICD-10)",reference:"nomor",flex:1},{xtype:"button",text:"Tampilkan Detail",iconCls:"x-fa fa-list",handler:"onTampilkan"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}]},0,["form-bpjs-referensi-diagnosa"],["component","box","container","panel","form","com-form","form-bpjs-referensi-diagnosa"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-bpjs-referensi-diagnosa":true},["widget.form-bpjs-referensi-diagnosa"],0,[plugins.bpjs.referensi.diagnosa,"Form"],0));(Ext.cmd.derive("plugins.bpjs.referensi.diagnosa.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onTampilkan:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(o.nomor.getValue()===""){return}if(m.service){n.setLoading(true);m.service.diagnosa(o.nomor.getValue(),function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-bpjs-referensi-diagnosa"],0,[plugins.bpjs.referensi.diagnosa,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.referensi.dokter.Grid",com.Grid,{controller:"grid-bpjs-referensi-dokter",viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"bpjs-referensi-dokter-store"}}},columns:[{text:"Kode",dataIndex:"kode",sortable:false,width:150,align:"center"},{text:"Nama",dataIndex:"nama",sortable:false,flex:1}],dockedItems:[{xtype:"toolbar",items:[{xtype:"textfield",emptyText:"Nama Dokter / DPJP",flex:1},{xtype:"button",iconCls:"x-fa fa-search",handler:"onSearch"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){try{if(!g){if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["grid-bpjs-referensi-dokter"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","grid-bpjs-referensi-dokter"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"grid-bpjs-referensi-dokter":true},["widget.grid-bpjs-referensi-dokter"],0,[plugins.bpjs.referensi.dokter,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.referensi.dokter.GridController",Ext.app.ViewController,{onSearch:function(f){this.cari()},privates:{cari:function(){var m=this,n=m.getView(),o=n.down("pagingtoolbar"),l=n.down("textfield");n.removeDataStore();n.setParams({query:l.getValue()});if(o){o.moveFirst()}else{n.load()}}}},0,0,0,0,["controller.grid-bpjs-referensi-dokter"],0,[plugins.bpjs.referensi.dokter,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.referensi.dpjp.Combo",com.Combo,{viewModel:{stores:{store:{type:"bpjs-referensi-dpjp-store"}}},emptyText:"[ Pilih DPJP ]",displayField:"nama",valueField:"kode"},0,["plugins-bpjs-referensi-dpjp-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-bpjs-referensi-dpjp-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-bpjs-referensi-dpjp-combo":true},["widget.plugins-bpjs-referensi-dpjp-combo"],0,[plugins.bpjs.referensi.dpjp,"Combo"],0));(Ext.cmd.derive("plugins.bpjs.referensi.dpjp.Grid",com.Grid,{controller:"grid-bpjs-referensi-dpjp",viewModel:{data:{listConfig:{paging:true},jenisPelayanan:2},stores:{store:{type:"bpjs-referensi-dpjp-store"}}},columns:[{text:"Kode",dataIndex:"kode",sortable:false,width:150,align:"center"},{text:"Nama",dataIndex:"nama",sortable:false,flex:1}],dockedItems:[{xtype:"toolbar",items:[{xtype:"combobox",store:Ext.create("Ext.data.Store",{fields:["id","name"],data:[{id:1,name:"Rawat Inap"},{id:2,name:"Rawat Jalan"}]}),displayField:"name",valueField:"id",editable:false,bind:{value:"{jenisPelayanan}"}},{xtype:"datefield",format:"d-m-Y",value:new Date(),width:120},{xtype:"referensi-combo",emptyText:"[Pilih Poliklinik]",params:{JENIS:70,STATUS:1},firstLoad:true,flex:1,bind:{hidden:"{jenisPelayanan == 1}"}},{xtype:"plugins-bpjs-referensi-spesialistik-combo",flex:1,bind:{hidden:"{jenisPelayanan == 2}"}},{xtype:"button",iconCls:"x-fa fa-search",handler:"onSearch"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(y,f,v,t){try{if(!v){if(t.error){var u=t.error.response,g=Ext.JSON.decode(u.responseText),w=g.detail?(Ext.isObject(g.detail)?Ext.JSON.encode(g.detail):g.detail):"Koneksi Gagal";y.notifyMessage(w,"danger-red")}}var z=y.down("plugins-bpjs-referensi-spesialistik-combo");z.load()}catch(x){y.notifyMessage("Koneksi Gagal","danger-red")}}},0,["grid-bpjs-referensi-dpjp"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","grid-bpjs-referensi-dpjp"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"grid-bpjs-referensi-dpjp":true},["widget.grid-bpjs-referensi-dpjp"],0,[plugins.bpjs.referensi.dpjp,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.referensi.dpjp.GridController",Ext.app.ViewController,{onSearch:function(f){this.cari()},privates:{cari:function(){var w=this,g=w.getView(),t=g.down("pagingtoolbar"),u=g.down("combobox").getSelection().get("id"),v=Ext.util.Format.date(g.down("datefield").getValue(),"Y-m-d"),f=g.down("referensi-combo").getSelection(),e=g.down("plugins-bpjs-referensi-spesialistik-combo").getSelection(),x=u==1?(e?e.get("kode"):""):(f?f.get("REF_ID"):"");g.removeDataStore();g.setParams({jenisPelayanan:u,tglPelayanan:v,kodeSpesialis:x});if(t){t.moveFirst()}else{g.load()}}}},0,0,0,0,["controller.grid-bpjs-referensi-dpjp"],0,[plugins.bpjs.referensi.dpjp,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.referensi.faskes.Combo",com.Combo,{viewModel:{stores:{store:{type:"bpjs-referensi-faskes-store"}}},queryMode:"remote",queryParam:"nama",displayField:"nmProvider",emptyText:"[Masukkan P P K]",typeAhead:true,hideTrigger:true,tpl:new Ext.XTemplate('<tpl for=".">','<div class="x-boundlist-item" style="font-size: 12px; line-height: 15px; padding: 3px 10px">','<div style="font-weight: bold; white-space:normal !important;">{[this.getKode(values)]} - {nmProvider}</div>',"</div>","</tpl>",{getKode:function(f){return f.kdProvider?f.kdProvider:""}}),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{nmProvider}","</tpl>")},0,["plugins-bpjs-referensi-faskes-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-bpjs-referensi-faskes-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-bpjs-referensi-faskes-combo":true},["widget.plugins-bpjs-referensi-faskes-combo"],0,[plugins.bpjs.referensi.faskes,"Combo"],0));(Ext.cmd.derive("plugins.bpjs.referensi.faskes.Grid",com.Grid,{controller:"grid-bpjs-referensi-faskes",viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"bpjs-referensi-faskes-store"}}},columns:[{text:"Kode Provider",dataIndex:"kdProvider",sortable:false,width:150,align:"center"},{text:"Nama Provider",dataIndex:"nmProvider",sortable:false,flex:1},{text:"Kode Cabang",dataIndex:"kdCabang",sortable:false,width:150,align:"center"},{text:"Nama Cabang",dataIndex:"nmCabang",sortable:false,flex:1}],dockedItems:[{xtype:"toolbar",items:[{xtype:"textfield",emptyText:"Cari Nama / Kode Faskes",flex:1},{xtype:"combobox",name:"jenis",store:Ext.create("Ext.data.Store",{fields:["id","name"],data:[{id:1,name:"Faskes 1"},{id:2,name:"Faskes 2/RS"}]}),displayField:"name",valueField:"id",editable:false,value:2},{xtype:"button",iconCls:"x-fa fa-search",handler:"onSearch"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){try{if(!g){if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["grid-bpjs-referensi-faskes"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","grid-bpjs-referensi-faskes"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"grid-bpjs-referensi-faskes":true},["widget.grid-bpjs-referensi-faskes"],0,[plugins.bpjs.referensi.faskes,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.referensi.faskes.GridController",Ext.app.ViewController,{onSearch:function(f){this.cari()},privates:{cari:function(){var n=this,p=n.getView(),q=p.down("pagingtoolbar"),e=p.down("textfield"),o=p.down("combobox").getSelection();p.removeDataStore();p.setParams({nama:e.getValue(),jenis:o?o.get("id"):""});if(q){q.moveFirst()}else{p.load()}}}},0,0,0,0,["controller.grid-bpjs-referensi-faskes"],0,[plugins.bpjs.referensi.faskes,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.referensi.kelasrawat.Grid",com.Grid,{viewModel:{stores:{store:{type:"bpjs-referensi-kelasrawat-store"}}},columns:[{text:"Kode",dataIndex:"kode",sortable:false,width:150,align:"center"},{text:"Nama",dataIndex:"nama",sortable:false,flex:1}],doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["grid-bpjs-referensi-kelasrawat"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","grid-bpjs-referensi-kelasrawat"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"grid-bpjs-referensi-kelasrawat":true},["widget.grid-bpjs-referensi-kelasrawat"],0,[plugins.bpjs.referensi.kelasrawat,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.referensi.pascapulang.Grid",com.Grid,{viewModel:{stores:{store:{type:"bpjs-referensi-pascapulang-store"}}},columns:[{text:"Kode",dataIndex:"kode",sortable:false,width:150,align:"center"},{text:"Nama",dataIndex:"nama",sortable:false,flex:1}],doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["grid-bpjs-referensi-pascapulang"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","grid-bpjs-referensi-pascapulang"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"grid-bpjs-referensi-pascapulang":true},["widget.grid-bpjs-referensi-pascapulang"],0,[plugins.bpjs.referensi.pascapulang,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.referensi.poli.Grid",com.Grid,{controller:"grid-bpjs-referensi-poli",viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"bpjs-referensi-poli-store"}}},columns:[{text:"Kode Poli",dataIndex:"kdPoli",sortable:false,width:150,align:"center"},{text:"Nama Poli",dataIndex:"nmPoli",sortable:false,flex:1}],dockedItems:[{xtype:"toolbar",items:[{xtype:"search-field",emptyText:"Cari Poli / Kode Poli",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){try{if(!g){if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["grid-bpjs-referensi-poli"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","grid-bpjs-referensi-poli"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"grid-bpjs-referensi-poli":true},["widget.grid-bpjs-referensi-poli"],0,[plugins.bpjs.referensi.poli,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.referensi.poli.GridController",Ext.app.ViewController,{query:"",onSearch:function(g,k){this.query=k;this.cari()},onClear:function(){this.query="";this.cari()},onChange:function(q,f,e){var t=this,p=t.getView(),s=p.down("search-field");if(f===""){s.onClearClick()}},privates:{cari:function(){var k=this,l=k.getView(),m=l.down("pagingtoolbar");l.removeDataStore();l.setParams({query:k.query});if(m){m.moveFirst()}else{l.load()}}}},0,0,0,0,["controller.grid-bpjs-referensi-poli"],0,[plugins.bpjs.referensi.poli,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.referensi.procedure.Form",com.Form,{controller:"form-bpjs-referensi-procedure",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox"},items:[{xtype:"textfield",fieldLabel:"Procedure",labelWidth:110,emptyText:"Masukkan Kode atau Nama procedure",reference:"nomor",flex:1},{xtype:"button",text:"Tampilkan Detail",iconCls:"x-fa fa-list",handler:"onTampilkan"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}]},0,["form-bpjs-referensi-procedure"],["component","box","container","panel","form","com-form","form-bpjs-referensi-procedure"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-bpjs-referensi-procedure":true},["widget.form-bpjs-referensi-procedure"],0,[plugins.bpjs.referensi.procedure,"Form"],0));(Ext.cmd.derive("plugins.bpjs.referensi.procedure.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onTampilkan:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(o.nomor.getValue()===""){return}if(m.service){n.setLoading(true);m.service.procedure(o.nomor.getValue(),function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-bpjs-referensi-procedure"],0,[plugins.bpjs.referensi.procedure,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.referensi.ruangrawat.Grid",com.Grid,{viewModel:{stores:{store:{type:"bpjs-referensi-ruangrawat-store"}}},columns:[{text:"Kode",dataIndex:"kode",sortable:false,width:150,align:"center"},{text:"Nama",dataIndex:"nama",sortable:false,flex:1}],doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["grid-bpjs-referensi-ruangrawat"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","grid-bpjs-referensi-ruangrawat"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"grid-bpjs-referensi-ruangrawat":true},["widget.grid-bpjs-referensi-ruangrawat"],0,[plugins.bpjs.referensi.ruangrawat,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.referensi.spesialistik.Combo",com.Combo,{viewModel:{stores:{store:{type:"bpjs-referensi-spesialistik-store"}}},emptyText:"[ Pilih Spesialistik ]",displayField:"nama",valueField:"kode"},0,["plugins-bpjs-referensi-spesialistik-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-bpjs-referensi-spesialistik-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-bpjs-referensi-spesialistik-combo":true},["widget.plugins-bpjs-referensi-spesialistik-combo"],0,[plugins.bpjs.referensi.spesialistik,"Combo"],0));(Ext.cmd.derive("plugins.bpjs.referensi.spesialistik.Grid",com.Grid,{viewModel:{stores:{store:{type:"bpjs-referensi-spesialistik-store"}}},columns:[{text:"Kode",dataIndex:"kode",sortable:false,width:150,align:"center"},{text:"Nama",dataIndex:"nama",sortable:false,flex:1}],doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["grid-bpjs-referensi-spesialistik"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","grid-bpjs-referensi-spesialistik"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"grid-bpjs-referensi-spesialistik":true},["widget.grid-bpjs-referensi-spesialistik"],0,[plugins.bpjs.referensi.spesialistik,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.referensi.wilayah.Combo",com.Combo,{viewModel:{stores:{store:{type:"bpjs-referensi-wilayah-store"}}},emptyText:"[ Pilih Wilayah ]",params:{tipe:1},displayField:"nama",valueField:"kode"},0,["plugins-bpjs-referensi-wilayah-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-bpjs-referensi-wilayah-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-bpjs-referensi-wilayah-combo":true},["widget.plugins-bpjs-referensi-wilayah-combo"],0,[plugins.bpjs.referensi.wilayah,"Combo"],0));(Ext.cmd.derive("plugins.bpjs.rujukan.Grid",com.Grid,{controller:"plugins-bpjs-rujukan-grid",viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"plugins-bpjs-rujukan-store",queryParams:{noKartu:"",faskes:2}}}},columns:[{text:"Kunjungan",columns:[{text:"No. Kunjungan",dataIndex:"noKunjungan",sortable:false,width:150,align:"center",editor:{readOnly:true,selectOnFocus:true}},{xtype:"datecolumn",format:"d-m-Y",text:"Tgl. Kunjungan",dataIndex:"tglKunjungan",sortable:false,width:100,align:"center"},{xtype:"templatecolumn",text:"Pelayanan",sortable:false,width:150,tpl:"{pelayanan.nama}"},{text:"Keluhan",dataIndex:"keluhan",sortable:false,width:150,align:"center"}]},{text:"Peserta",flex:1,columns:[{xtype:"templatecolumn",text:"No. Kartu",sortable:false,width:135,align:"center",tpl:"{peserta.noKartu}"},{xtype:"templatecolumn",text:"No. RM",sortable:false,width:120,align:"center",tpl:"{peserta.mr.noMR}"},{xtype:"templatecolumn",text:"Nama",sortable:false,tpl:"{peserta.nama}"}]},{text:"Diagnosa",flex:1,columns:[{xtype:"templatecolumn",text:"Kode",sortable:false,width:150,align:"center",tpl:"{diagnosa.kode}"},{xtype:"templatecolumn",text:"Nama",sortable:false,tpl:"{diagnosa.nama}"}]},{text:"Poli Rujukan",flex:1,columns:[{xtype:"templatecolumn",text:"Kode",sortable:false,width:150,align:"center",tpl:"{poliRujukan.kode}"},{xtype:"templatecolumn",text:"Nama",sortable:false,tpl:"{poliRujukan.nama}"}]},{text:"Perujuk",flex:1,columns:[{xtype:"templatecolumn",text:"Kode",sortable:false,width:150,align:"center",tpl:"{provPerujuk.kode}"},{xtype:"templatecolumn",text:"Nama",sortable:false,tpl:"{provPerujuk.nama}"}]}],plugins:[{ptype:"cellediting",clicksToEdit:1}],dockedItems:[{xtype:"toolbar",items:[{xtype:"textfield",name:"nomor",emptyText:"Nomor Kartu",flex:1},{xtype:"combobox",name:"faskes",store:Ext.create("Ext.data.Store",{fields:["id","name"],data:[{id:1,name:"Faskes 1"},{id:2,name:"Faskes 2/RS"}]}),displayField:"name",valueField:"id",editable:false,value:2},{xtype:"button",iconCls:"x-fa fa-search",handler:"onSearch"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){try{if(!g){if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}},setNomorKartu:function(m){var k=this.down("[name=nomor]"),l=this.down("button");k.setValue(m);k.setDisabled(true);this.setParams({noKartu:m})}},0,["plugins-bpjs-rujukan-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-bpjs-rujukan-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-bpjs-rujukan-grid":true},["widget.plugins-bpjs-rujukan-grid"],0,[plugins.bpjs.rujukan,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.rujukan.GridController",Ext.app.ViewController,{onSearch:function(f){this.cari()},privates:{cari:function(){var n=this,p=n.getView(),q=p.down("pagingtoolbar"),o=p.down("[name=nomor]").getValue(),e=p.down("combobox").getSelection();p.removeDataStore();p.setParams({noKartu:o,faskes:e?e.get("id"):"2"});if(q){q.moveFirst()}else{p.load()}}}},0,0,0,0,["controller.plugins-bpjs-rujukan-grid"],0,[plugins.bpjs.rujukan,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.rujukan.Workspace",com.Tab,{controller:"workspace-bpjs-rujukan",defaults:{textAlign:"left"},tabPosition:"right",tabRotation:0,initComponent:function(){var f=this;f.items=[{title:"Pencarian",xtype:"form-bpjs-rujukan-pencarian"},{title:"Cari Data Rujukan",xtype:"plugins-bpjs-rujukan-grid"}];f.callParent(arguments)},load:function(){var f=this.getActiveTab();if(f){if(f.load){f.load({})}}},listeners:{tabchange:"onTabChange"}},0,["workspace-bpjs-rujukan"],["component","box","container","panel","tabpanel","com-tab","workspace-bpjs-rujukan"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"workspace-bpjs-rujukan":true},["widget.workspace-bpjs-rujukan"],0,[plugins.bpjs.rujukan,"Workspace"],0));(Ext.cmd.derive("plugins.bpjs.rujukan.WorkspaceController",Ext.app.ViewController,{onTabChange:function(k,g){if(g.load){g.load({})}}},0,0,0,0,["controller.workspace-bpjs-rujukan"],0,[plugins.bpjs.rujukan,"WorkspaceController"],0));(Ext.cmd.derive("plugins.bpjs.rujukan.pencarian.Form",com.Form,{controller:"form-bpjs-rujukan-pencarian",viewModel:{data:{emptytext:"Masukkan No. Rujukan"}},layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox"},items:[{xtype:"segmentedbutton",items:[{text:"No. Rujukan",idx:1,pressed:true},{text:"No. Kartu BPJS",idx:2}],listeners:{toggle:"onToggleButton"}},{xtype:"textfield",bind:{emptyText:"{emptytext}"},flex:1,reference:"nomor"},{xtype:"button",iconCls:"x-fa fa-search",tooltip:"Cari",handler:"onButtonCari"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}]},0,["form-bpjs-rujukan-pencarian"],["component","box","container","panel","form","com-form","form-bpjs-rujukan-pencarian"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-bpjs-rujukan-pencarian":true},["widget.form-bpjs-rujukan-pencarian"],0,[plugins.bpjs.rujukan.pencarian,"Form"],0));(Ext.cmd.derive("plugins.bpjs.rujukan.pencarian.FormController",Ext.app.ViewController,{idxSelected:1,init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onToggleButton:function(l,m,k){this.getViewModel().set("emptytext","Masukkan "+m.text);this.idxSelected=m.idx},onButtonCari:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(o.nomor.getValue()===""){return}if(m.service){if(m.idxSelected===1){n.setLoading(true);m.service.cariRujukanDgnNoRujukan(o.nomor.getValue(),function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}if(m.idxSelected===2){n.setLoading(true);m.service.cariRujukanDgnNoKartuBPJS(o.nomor.getValue(),function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-bpjs-rujukan-pencarian"],0,[plugins.bpjs.rujukan.pencarian,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.Workspace",com.Tab,{controller:"workspace-bpjs-sep",defaults:{textAlign:"left"},tabPosition:"right",tabRotation:0,initComponent:function(){var f=this;f.items=[{title:"Insert SEP",xtype:"form-sep-insert"},{title:"Update SEP",xtype:"form-sep-update"},{title:"Hapus SEP",xtype:"form-sep-hapus"},{title:"Cari SEP",xtype:"form-sep-detail"},{title:"Pengajuan",xtype:"plugins-bpjs-sep-pengajuan-form"},{title:"Aproval Pengajuan",xtype:"plugins-bpjs-sep-pengajuan-aproval-form"},{title:"Update Tanggal Pulang",xtype:"form-sep-update-tanggal-pulang"},{title:"Integrasi SEP dengan Inacbg",xtype:"form-sep-integrasi-inacbg"},{title:"Mapping Transaksi SEP",xtype:"form-sep-mapping-transaksi"},{title:"Monitoring Verifikasi Klaim",xtype:"form-sep-monitoring-verifikasi-klaim"},{title:"Data Kunjungan Peserta",xtype:"form-sep-kunjungan-peserta"},{title:"Data Riwayat Pelayanan Peserta",xtype:"form-sep-riwayat-pelayanan-peserta"}];f.callParent(arguments)},load:function(){var f=this.getActiveTab();if(f){if(f.load){f.load({})}}},listeners:{tabchange:"onTabChange"}},0,["workspace-bpjs-sep"],["component","box","container","panel","tabpanel","com-tab","workspace-bpjs-sep"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"workspace-bpjs-sep":true},["widget.workspace-bpjs-sep"],0,[plugins.bpjs.sep,"Workspace"],0));(Ext.cmd.derive("plugins.bpjs.sep.WorkspaceController",Ext.app.ViewController,{onTabChange:function(k,g){if(g.load){g.load({})}}},0,0,0,0,["controller.workspace-bpjs-sep"],0,[plugins.bpjs.sep,"WorkspaceController"],0));(Ext.cmd.derive("plugins.bpjs.sep.detail.Form",com.Form,{controller:"form-sep-detail",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox"},items:[{xtype:"textfield",fieldLabel:"No. SEP",reference:"nomor",flex:1},{xtype:"button",text:"Tampilkan Detail",iconCls:"x-fa fa-list",handler:"onTampilkan"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}]},0,["form-sep-detail"],["component","box","container","panel","form","com-form","form-sep-detail"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-sep-detail":true},["widget.form-sep-detail"],0,[plugins.bpjs.sep.detail,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.detail.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onTampilkan:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(o.nomor.getValue()===""){return}if(m.service){n.setLoading(true);m.service.cekSEP(o.nomor.getValue(),function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-sep-detail"],0,[plugins.bpjs.sep.detail,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.hapus.Form",com.Form,{controller:"form-sep-hapus",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox"},items:[{xtype:"textfield",fieldLabel:"No. SEP",reference:"nomor",emptyText:"Masukkan No. SEP",flex:1},{xtype:"button",ui:"soft-red",text:"Hapus",iconCls:"x-fa fa-minus-circle",tooltip:"Hapus SEP",handler:"onHapus"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}]},0,["form-sep-hapus"],["component","box","container","panel","form","com-form","form-sep-hapus"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-sep-hapus":true},["widget.form-sep-hapus"],0,[plugins.bpjs.sep.hapus,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.hapus.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onHapus:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(o.nomor.getValue()===""){return}if(m.service){n.setLoading(true);m.service.batalkanSEP({nomor:o.nomor.getValue(),user:n.app.usrNm},function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-sep-hapus"],0,[plugins.bpjs.sep.hapus,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.insert.Form",com.Form,{controller:"form-sep-insert",klsRawat:3,jnsPelayanan:2,lakaLantas:2,asalRujukan:1,poliEksekutif:0,cob:0,katarak:0,penjamin:0,suplesi:0,layout:{type:"vbox",align:"stretch"},defaults:{xtype:"fieldcontainer",layout:{type:"hbox"},margin:"1 0 0 0"},items:[{fieldLabel:"No. Kartu",items:[{xtype:"textfield",emptyText:"Masukkan No. Kartu",margin:"0 15 0 0",reference:"noKartu",flex:1},{xtype:"datefield",fieldLabel:"Tgl. SEP",labelWidth:50,format:"d/m/Y",reference:"tglSep",width:180,margin:"0 1 0 0"},{xtype:"timefield",format:"H:i:s",width:110,reference:"wktSep"}]},{fieldLabel:"Asal Rujukan",items:[{xtype:"segmentedbutton",items:[{text:"Faskes 1",idx:1,pressed:true},{text:"Faskes 2(RS)",idx:2}],listeners:{toggle:"onToggleAsalRujukan"},margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"Nomor",emptyText:"Masukkan No. Rujukan",margin:"0 15 0 0",reference:"noRujukan",labelWidth:45,flex:1},{xtype:"textfield",fieldLabel:"PPK",emptyText:"Masukkan PPK Rujukan",margin:"0 15 0 0",reference:"ppkRujukan",labelWidth:27,width:120},{xtype:"datefield",fieldLabel:"Tgl.",labelWidth:27,format:"d/m/Y",reference:"tglRujukan",width:157,margin:"0 1 0 0"},{xtype:"timefield",format:"H:i:s",width:110,reference:"wktRujukan"}]},{fieldLabel:"Jenis Pelayanan",items:[{xtype:"segmentedbutton",items:[{text:"Rawat Inap",idx:1},{text:"Rawat Jalan",idx:2,pressed:true}],listeners:{toggle:"onToggleButtonRawat"},margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"Catatan",labelWidth:50,reference:"catatan",emptyText:"Masukkan Catatan",flex:1}]},{fieldLabel:"Diagnosa Awal",items:[{xtype:"textfield",emptyText:"Masukkan Diagnosa Awal",reference:"diagAwal",margin:"0 15 0 0",flex:1},{xtype:"textfield",fieldLabel:"Poli Tujuan",labelWidth:70,emptyText:"Masukkan Poli Tujuan",reference:"poliTujuan",margin:"0 15 0 0",flex:1},{fieldLabel:"Poli Eksekutif?",xtype:"fieldcontainer",labelWidth:90,items:[{xtype:"segmentedbutton",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onTogglePoliEksekutif"}}]}]},{fieldLabel:"Kelas Rawat",defaults:{margin:"0 15 0 0"},items:[{xtype:"segmentedbutton",items:[{text:"Kelas 1",idx:1},{text:"Kelas 2",idx:2},{text:"Kelas 3",idx:3,pressed:true}],listeners:{toggle:"onToggleButtonKelas"}},{fieldLabel:"COB?",xtype:"fieldcontainer",labelWidth:35,items:[{xtype:"segmentedbutton",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onToggleCOB"}}]},{fieldLabel:"Katarak?",xtype:"fieldcontainer",labelWidth:60,items:[{xtype:"segmentedbutton",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onToggleKatarak"}}]}]},{fieldLabel:"SKDP",items:[{xtype:"textfield",emptyText:"Masukkan No. Surat",reference:"nosuratskdp",flex:2},{xtype:"plugins-bpjs-referensi-spesialistik-combo",reference:"spesialiscombo",flex:1,listeners:{select:"onSelectSpesialistik"}},{xtype:"plugins-bpjs-referensi-dpjp-combo",flex:1,reference:"dpjpcombo"}]},{fieldLabel:"Laka Lantas",items:[{xtype:"segmentedbutton",items:[{text:"Kasus Kecelakaan",idx:1},{text:"Bukan Kasus Kecelakaan",idx:2,pressed:true}],listeners:{toggle:"onToggleButtonLakaLantas"},margin:"0 15 0 0"},{xtype:"combobox",fieldLabel:"Penjamin",labelWidth:60,store:{fields:["ID","DESKRIPSI"],data:[{ID:1,DESKRIPSI:"PT. Jasa Raharja"},{ID:2,DESKRIPSI:"BPJS Ketenagakerjaan"},{ID:3,DESKRIPSI:"PT. TASPEN"},{ID:4,DESKRIPSI:"PT. ASABRI"}]},displayField:"DESKRIPSI",valueField:"ID",editable:false,listeners:{select:"onSelectPenjamin"},margin:"0 15 0 0"},{xtype:"datefield",fieldLabel:"Tgl. Kejadian",labelWidth:90,format:"d/m/Y",reference:"tglkejadian",width:220,margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"Keterangan",labelWidth:90,emptyText:"Masukkan Keterangan",reference:"lokasiLaka",flex:1}]},{fieldLabel:"Suplesi",items:[{xtype:"segmentedbutton",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onToggleButtonSuplesi"},margin:"0 15 0 0"},{xtype:"textfield",emptyText:"Masukkan No. Suplesi",reference:"nosuplesi",flex:1},{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_PROPINSI",firstLoad:true,reference:"propinsicombo",emptyText:"[Propinsi]",flex:1,listeners:{select:"onSelectWilayah"}},{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_KABUPATEN",reference:"kabupatencombo",params:{tipe:2},emptyText:"[Kabupaten]",flex:1,listeners:{select:"onSelectWilayah"}},{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_KECAMATAN",reference:"kecamatancombo",params:{tipe:3},flex:1,emptyText:"[Kecamatan]"}]},{fieldLabel:"User",items:[{xtype:"textfield",emptyText:"Masukkan Nama Pengguna",flex:1,reference:"user",margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"No. MR",labelWidth:50,emptyText:"Masukkan Nomor Rekam Medis",reference:"noMr",flex:1,margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"No. Telp.",labelWidth:55,emptyText:"No. Telepon Peserta/Pasien",reference:"noTelp",flex:1}]},{xtype:"fieldcontainer",items:[{xtype:"component",flex:1},{xtype:"button",text:"Generate SEP",handler:"onGenerateSEP"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}],load:function(){var g=this.down("[reference=tglSep]"),f=this.down("[reference=wktSep]"),t=this.down("[reference=tglRujukan]"),s=this.down("[reference=wktRujukan]"),e=this.down("[reference=tglkejadian]"),u=this.down("[reference=spesialiscombo]"),v=this.down("[reference=propinsicombo]");g.setValue(this.getSysdate());f.setValue(this.getSysdate());t.setValue(this.getSysdate());s.setValue(this.getSysdate());e.setValue(this.getSysdate());u.load();v.load()}},0,["form-sep-insert"],["component","box","container","panel","form","com-form","form-sep-insert"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-sep-insert":true},["widget.form-sep-insert"],0,[plugins.bpjs.sep.insert,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.insert.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onToggleButtonKelas:function(l,m,k){this.getView().klsRawat=m.idx},onToggleButtonRawat:function(l,m,k){this.getView().jnsPelayanan=m.idx},onToggleAsalRujukan:function(l,m,k){this.getView().asalRujukan=m.idx},onTogglePoliEksekutif:function(l,m,k){this.getView().poliEksekutif=m.idx},onToggleCOB:function(l,m,k){this.getView().cob=m.idx},onToggleKatarak:function(l,m,k){this.getView().katarak=m.idx},onSelectSpesialistik:function(t,e){var u=this,f=u.getView(),s=u.getReferences(),g=s.dpjpcombo.getStore(),v=s.tglSep.getValue();if(e){g.setQueryParams({jenisPelayanan:f.jnsPelayanan,tglPelayanan:Ext.util.Format.date(v,"Y-m-d"),kodeSpesialis:e.get("kode")});g.load()}},onToggleButtonLakaLantas:function(l,m,k){this.getView().lakaLantas=m.idx},onSelectPenjamin:function(g,k){if(k){this.getView().penjamin=k.get("ID")}},onToggleButtonSuplesi:function(l,m,k){this.getView().suplesi=m.idx},onSelectWilayah:function(m,k){var l=this.getReferences();if(m.params.tipe==1){l.kecamatancombo.getStore().removeAll();l.kabupatencombo.getStore().removeAll();l.kabupatencombo.params.kodePropinsi=k.get("kode");l.kabupatencombo.load()}if(m.params.tipe==2){l.kecamatancombo.getStore().removeAll();l.kecamatancombo.params.kodeKabupaten=k.get("kode");l.kecamatancombo.load()}},onGenerateSEP:function(k){var F=this,e=F.getView(),H=F.getReferences();H.response.setValue("");if(F.service){var D=H.tglSep.getValue(),l=H.wktSep.getValue(),m=H.tglRujukan.getValue(),G=H.wktRujukan.getValue(),C=H.tglkejadian.getValue(),E=H.dpjpcombo.getSelection(),g=H.propinsicombo.getSelection(),B=H.kabupatencombo.getSelection(),f=H.kecamatancombo.getSelection();D.setHours(l.getHours());D.setMinutes(l.getMinutes());D.setSeconds(l.getSeconds());m.setHours(G.getHours());m.setMinutes(G.getMinutes());m.setSeconds(G.getSeconds());e.setLoading(true);F.service.buatSEP({noKartu:H.noKartu.getValue(),tglSep:Ext.util.Format.date(D,"Y-m-d H:i:s"),tglRujukan:Ext.util.Format.date(m,"Y-m-d H:i:s"),asalRujukan:e.asalRujukan,noRujukan:H.noRujukan.getValue(),ppkRujukan:H.ppkRujukan.getValue(),jnsPelayanan:e.jnsPelayanan,catatan:H.catatan.getValue(),diagAwal:H.diagAwal.getValue(),poliTujuan:H.poliTujuan.getValue(),eksekutif:e.poliEksekutif,klsRawat:e.klsRawat,cob:e.cob,katarak:e.katarak,noSuratSKDP:H.nosuratskdp.getValue(),dpjpSKDP:E?E.get("kode"):"",lakaLantas:e.lakaLantas,penjamin:e.penjamin,tglKejadian:Ext.util.Format.date(C,"Y-m-d"),suplesi:e.suplesi,noSuplesi:H.nosuplesi.getValue(),lokasiLaka:H.lokasiLaka.getValue(),propinsi:g?g.get("kode"):"",kabupaten:B?B.get("kode"):"",kecamatan:f?f.get("kode"):"",user:H.user.getValue(),norm:H.noMr.getValue(),noTelp:H.noTelp.getValue()},function(o,n){if(o){H.response.setValue(JSON.stringify(n,undefined,2))}e.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-sep-insert"],0,[plugins.bpjs.sep.insert,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.integrasi.inacbg.Form",com.Form,{controller:"form-sep-integrasi-inacbg",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox"},items:[{xtype:"textfield",fieldLabel:"No. SEP",reference:"nomor",emptyText:"Masukkan No. SEP",flex:1},{xtype:"button",ui:"soft-cyan",text:"Tampilkan",iconCls:"x-fa fa-list",tooltip:"Tampilkan",handler:"onTampilkan"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}]},0,["form-sep-integrasi-inacbg"],["component","box","container","panel","form","com-form","form-sep-integrasi-inacbg"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-sep-integrasi-inacbg":true},["widget.form-sep-integrasi-inacbg"],0,[plugins.bpjs.sep.integrasi.inacbg,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.integrasi.inacbg.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onTampilkan:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(o.nomor.getValue()===""){return}if(m.service){n.setLoading(true);m.service.inacbg(o.nomor.getValue(),function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-sep-integrasi-inacbg"],0,[plugins.bpjs.sep.integrasi.inacbg,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.kunjungan.Form",com.Form,{controller:"form-sep-kunjungan-peserta",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox"},items:[{xtype:"textfield",fieldLabel:"No. SEP",reference:"nomor",emptyText:"Masukkan No. SEP",flex:1},{xtype:"button",ui:"soft-cyan",text:"Tampilkan",iconCls:"x-fa fa-list",tooltip:"Tampilkan",handler:"onTampilkan"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}]},0,["form-sep-kunjungan-peserta"],["component","box","container","panel","form","com-form","form-sep-kunjungan-peserta"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-sep-kunjungan-peserta":true},["widget.form-sep-kunjungan-peserta"],0,[plugins.bpjs.sep.kunjungan,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.kunjungan.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onTampilkan:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(o.nomor.getValue()===""){return}if(m.service){n.setLoading(true);m.service.kunjunganPeserta(o.nomor.getValue(),function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-sep-kunjungan-peserta"],0,[plugins.bpjs.sep.kunjungan,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.mapping.transaksi.Form",com.Form,{controller:"form-sep-mapping-transaksi",layout:{type:"vbox",align:"stretch"},defaults:{margin:"1 0 0 0"},items:[{xtype:"textfield",fieldLabel:"No. SEP",reference:"nomor",emptyText:"Masukkan No. SEP"},{xtype:"textfield",fieldLabel:"No. Transaksi",emptyText:"Masukkan No. Transaksi (No. Pendaftaran di SIMRS)",reference:"notrx"},{xtype:"fieldcontainer",layout:"hbox",items:[{xtype:"component",flex:1},{xtype:"button",text:"Update",tooltip:"Update",handler:"onUpdate"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}]},0,["form-sep-mapping-transaksi"],["component","box","container","panel","form","com-form","form-sep-mapping-transaksi"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-sep-mapping-transaksi":true},["widget.form-sep-mapping-transaksi"],0,[plugins.bpjs.sep.mapping.transaksi,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.mapping.transaksi.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onUpdate:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(o.nomor.getValue()===""){return}if(m.service){n.setLoading(true);m.service.storeNoTransaksiDiKunjungan(o.nomor.getValue(),o.notrx.getValue(),function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-sep-mapping-transaksi"],0,[plugins.bpjs.sep.mapping.transaksi,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.monitoring.verifikasiklaim.Form",com.Form,{controller:"form-sep-monitoring-verifikasi-klaim",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"vbox",align:"stretch"},defaults:{xtype:"fieldcontainer",margin:"0 0 1 0"},items:[{fieldLabel:"Tgl. Masuk",layout:"hbox",items:[{xtype:"datefield",format:"d/m/Y",reference:"tglMasuk",margin:"0 15 0 0"},{xtype:"datefield",fieldLabel:"Tgl. Keluar",labelWidth:70,reference:"tglKeluar",format:"d/m/Y"}]},{fieldLabel:"Kelas Rawat",items:[{xtype:"segmentedbutton",items:[{text:"Kelas 1",idx:1,pressed:true},{text:"Kelas 2",idx:2},{text:"Kelas 3",idx:3}],listeners:{toggle:"onToggleButtonKelas"}}]},{fieldLabel:"Jenis Pelayanan",items:[{xtype:"segmentedbutton",items:[{text:"Rawat Inap",idx:1,pressed:true},{text:"Rawat Jalan",idx:2}],listeners:{toggle:"onToggleButtonRawat"}}]},{fieldLabel:"Pencarian",items:[{xtype:"segmentedbutton",items:[{text:"Tanggal Masuk",idx:0,pressed:true},{text:"Tanggal Keluar",idx:1}],listeners:{toggle:"onToggleButtonTgl"}}]},{fieldLabel:"Status",items:[{xtype:"segmentedbutton",items:[{text:"Klaim baru",idx:"00",pressed:true},{text:"Klaim Terima CBG",idx:"10"},{text:"Klaim Layak",idx:"21"},{text:"Klaim Tidak Layak",idx:"22"},{text:"Klaim Pending",idx:"23"},{text:"Terverifikasi",idx:"30"},{text:"Proses Cabang",idx:"40"}],listeners:{toggle:"onToggleButtonStatus"}}]},{layout:{type:"hbox",align:"stretch"},items:[{xtype:"component",flex:1},{xtype:"button",iconCls:"x-fa fa-list",text:"Tampilkan",handler:"onTampilkan"}]}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}],load:function(){var g=this.down("[reference=tglMasuk]"),k=this.down("[reference=tglKeluar]");g.setValue(this.getSysdate());k.setValue(this.getSysdate())}},0,["form-sep-monitoring-verifikasi-klaim"],["component","box","container","panel","form","com-form","form-sep-monitoring-verifikasi-klaim"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-sep-monitoring-verifikasi-klaim":true},["widget.form-sep-monitoring-verifikasi-klaim"],0,[plugins.bpjs.sep.monitoring.verifikasiklaim,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.monitoring.verifikasiklaim.FormController",Ext.app.ViewController,{klsRawat:1,jnsPelayanan:1,cari:0,status:"00",init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onToggleButtonKelas:function(l,m,k){this.klsRawat=m.idx},onToggleButtonRawat:function(l,m,k){this.jnsPelayanan=m.idx},onToggleButtonTgl:function(l,m,k){this.cari=m.idx},onToggleButtonStatus:function(l,m,k){this.status=m.idx},onTampilkan:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(m.service){n.setLoading(true);m.service.monitoringVerifikasiKlaim({tglMasuk:Ext.util.Format.date(o.tglMasuk.getValue(),"Y-m-d"),tglKeluar:Ext.util.Format.date(o.tglKeluar.getValue(),"Y-m-d"),kelasRawat:m.klsRawat,jnsPelayanan:m.jnsPelayanan,cari:m.cari,status:m.status},function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-sep-monitoring-verifikasi-klaim"],0,[plugins.bpjs.sep.monitoring.verifikasiklaim,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.pengajuan.Form",com.Form,{controller:"plugins-bpjs-sep-pengajuan-form",viewModel:{data:{isInap:false}},layout:{type:"vbox",align:"stretch"},defaults:{xtype:"fieldcontainer",layout:{type:"hbox"},margin:"1 0 0 0"},items:[{fieldLabel:"No. Kartu",items:[{xtype:"textfield",emptyText:"Masukkan No. Kartu",margin:"0 15 0 0",reference:"noKartu",flex:1,bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"datefield",fieldLabel:"Tgl. SEP",labelWidth:50,format:"d/m/Y",reference:"tglSep",width:180}]},{fieldLabel:"Jenis Pelayanan",items:[{xtype:"segmentedbutton",items:[{text:"Rawat Inap",idx:1,bind:{pressed:"{isInap}"}},{text:"Rawat Jalan",idx:2,bind:{pressed:"{!isInap}"}}],listeners:{toggle:"onToggleButtonRawat"},margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"Keterangan",labelWidth:75,reference:"keterangan",emptyText:"Masukkan Keterangan",flex:1}]},{xtype:"fieldcontainer",layout:"hbox",items:[{xtype:"component",flex:1},{xtype:"button",text:"Ajukan",tooltip:"Pengajuan",handler:"onAjukan"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}],load:function(){var f=this.down("datefield");f.setValue(this.getSysdate())},setData:function(k){var m=this.getViewModel(),l=this.getReferences();l.noKartu.setValue(k.noKartu);l.tglSep.setValue(k.tglSep);m.set("isInap",k.jenisPelayanan==1)}},0,["plugins-bpjs-sep-pengajuan-form"],["component","box","container","panel","form","com-form","plugins-bpjs-sep-pengajuan-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"plugins-bpjs-sep-pengajuan-form":true},["widget.plugins-bpjs-sep-pengajuan-form"],0,[plugins.bpjs.sep.pengajuan,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.pengajuan.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onToggleButtonRawat:function(n,o,m){var l=this.getViewModel();l.set("isInap",o.idx==1)},onAjukan:function(e){var o=this,p=o.getView(),n=o.getViewModel(),q=o.getReferences();q.response.setValue("");if(q.noKartu.getValue()===""){return}if(o.service){p.setLoading(true);o.service.pengajuanSEP({noKartu:q.noKartu.getValue(),tglSep:Ext.util.Format.date(q.tglSep.getValue(),"Y-m-d"),jnsPelayanan:n.get("isInap")?1:2,keterangan:q.keterangan.getValue(),user:p.app.usrNm},function(f,g){if(f){q.response.setValue(JSON.stringify(g,undefined,2))}p.setLoading(false);p.fireEvent("save",f,g)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.plugins-bpjs-sep-pengajuan-form"],0,[plugins.bpjs.sep.pengajuan,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.pengajuan.Grid",com.Grid,{controller:"plugins-bpjs-sep-pengajuan-grid",title:"Daftar Pengajuan SEP",iconCls:"x-fa fa-list",ui:"panel-cyan",cls:"shadow-panel",border:true,viewModel:{data:{listConfig:{paging:true}},stores:{store:{type:"plugins-bpjs-sep-pengajuan-store",queryParams:{status:1}}}},header:{padding:5,items:[{xtype:"search-field",emptyText:"Cari No. Kartu",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}}]},hideHeaders:true,columns:[{xtype:"templatecolumn",flex:2,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[values.noKartu]} - {[this.getNamaPeserta(values)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Tgl. SEP: {[this.tanggalFormat(values.tglSep, 2)]} / {[this.getJenisPelayanan(values.jnsPelayanan)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Ket.:{[(values.keterangan)]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[(values.user)]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.tgl,1)]}</div>',{getNamaPeserta:function(k){var l=k.REFERENSI?k.REFERENSI:null,m=l?(l.PESERTA?l.PESERTA.nama:""):"";return m},tanggalFormat:function(e,m){var l=Ext.isDate(e)?e:Ext.Date.parse(e,m==1?"Y-m-d H:i:s":"Y-m-d");return Ext.Date.format(l,m==1?"d-m-Y H:i:s":"d-m-Y")},getJenisPelayanan:function(f){return f==1?"Rawat Inap":"Rawat Jalan"}})},{xtype:"widgetcolumn",text:"Status",align:"center",widget:{xtype:"fieldcontainer",layout:{type:"vbox",align:"stretch"},defaults:{padding:2,margin:"0 0 1 0"},items:[{xtype:"button",text:"Aprove",action:0,handler:"onAprove"},{xtype:"button",ui:"soft-red",text:"Batalkan",action:1,handler:"onBatal"}]}}],dockedItems:[{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"",displayInfo:true}],doAfterLoad:function(w,t,g,v){try{if(!g){if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal"}}}catch(f){w.notifyMessage("Koneksi Gagal untuk request daftar pengajuan","danger-red")}}},0,["plugins-bpjs-sep-pengajuan-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-bpjs-sep-pengajuan-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-bpjs-sep-pengajuan-grid":true},["widget.plugins-bpjs-sep-pengajuan-grid"],0,[plugins.bpjs.sep.pengajuan,"Grid"],0));(Ext.cmd.derive("plugins.bpjs.sep.pengajuan.GridController",Ext.app.ViewController,{query:"",init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onSearch:function(g,k){this.query=k;this.cari()},onClear:function(){this.query="";this.cari()},onChange:function(q,f,e){var t=this,p=t.getView(),s=p.down("search-field");if(f===""){s.onClearClick()}},onAprove:function(o){var l=this,n=l.getView();if(l.service){var m=o.ownerCt.getWidgetRecord();n.showMessageBox({title:"Aprove Pengajuan SEP",message:"Anda yakin ingin mengaprove pengajuan ini ?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:o,fn:function(e){if(e==="yes"){n.setLoading(true);l.service.aprovalPengajuanSEP({noKartu:m.get("noKartu"),tglSep:Ext.util.Format.date(m.get("tglSep"),"Y-m-d"),jnsPelayanan:m.get("jnsPelayanan"),keterangan:m.get("keterangan"),user:n.app.usrNm},function(f,g){if(f){n.notifyMessage("Aprove pengajuan SEP berhasil");n.refresh()}n.setLoading(false)})}}})}},onBatal:function(o){var l=this,n=l.getView();if(l.service){var m=o.ownerCt.getWidgetRecord();n.showMessageBox({title:"Batalkan Pengajuan SEP",message:"Anda yakin ingin membatalkan pengajuan ini ?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:o,fn:function(e){if(e==="yes"){n.setLoading(true);l.service.batalPengajuanSEP({noKartu:m.get("noKartu"),tglSep:Ext.util.Format.date(m.get("tglSep"),"Y-m-d"),jnsPelayanan:m.get("jnsPelayanan"),user:n.app.usrNm},function(f,g){if(f){n.notifyMessage("Batal pengajuan SEP berhasil");n.refresh()}n.setLoading(false)})}}})}},privates:{cari:function(){var m=this,n=m.getView(),l=n.getStore(),o=n.down("pagingtoolbar");n.removeDataStore();if(m.query==""){delete l.queryParams.noKartu}else{n.setParams({noKartu:m.query})}if(o){o.moveFirst()}else{n.load()}}}},0,0,0,0,["controller.plugins-bpjs-sep-pengajuan-grid"],0,[plugins.bpjs.sep.pengajuan,"GridController"],0));(Ext.cmd.derive("plugins.bpjs.sep.pengajuan.aproval.Form",com.Form,{controller:"plugins-bpjs-sep-pengajuan-aproval-form",layout:{type:"vbox",align:"stretch"},defaults:{xtype:"fieldcontainer",layout:{type:"hbox"},margin:"1 0 0 0"},items:[{fieldLabel:"No. Kartu",items:[{xtype:"textfield",emptyText:"Masukkan No. Kartu",margin:"0 15 0 0",reference:"noKartu",flex:1},{xtype:"datefield",fieldLabel:"Tgl. SEP",labelWidth:50,format:"d/m/Y",reference:"tglSep",width:180}]},{fieldLabel:"Jenis Pelayanan",items:[{xtype:"segmentedbutton",items:[{text:"Rawat Inap",idx:1},{text:"Rawat Jalan",idx:2,pressed:true}],listeners:{toggle:"onToggleButtonRawat"},margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"Keterangan",labelWidth:75,reference:"keterangan",emptyText:"Masukkan Keterangan",flex:1}]},{xtype:"fieldcontainer",layout:"hbox",items:[{xtype:"component",flex:1},{xtype:"button",text:"Aprove",tooltip:"Aprove Pengajuan",handler:"onAprove"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}],load:function(){var f=this.down("datefield");f.setValue(this.getSysdate())}},0,["plugins-bpjs-sep-pengajuan-aproval-form"],["component","box","container","panel","form","com-form","plugins-bpjs-sep-pengajuan-aproval-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"plugins-bpjs-sep-pengajuan-aproval-form":true},["widget.plugins-bpjs-sep-pengajuan-aproval-form"],0,[plugins.bpjs.sep.pengajuan.aproval,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.pengajuan.aproval.FormController",Ext.app.ViewController,{jnsPelayanan:1,init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onToggleButtonRawat:function(l,m,k){this.jnsPelayanan=m.idx},onAprove:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(o.noKartu.getValue()===""){return}if(m.service){n.setLoading(true);m.service.aprovalPengajuanSEP({noKartu:o.noKartu.getValue(),tglSep:Ext.util.Format.date(o.tglSep.getValue(),"Y-m-d"),jnsPelayanan:m.jnsPelayanan,keterangan:o.keterangan.getValue(),user:n.app.usrNm},function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.plugins-bpjs-sep-pengajuan-aproval-form"],0,[plugins.bpjs.sep.pengajuan.aproval,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.riwayat.pelayanan.Form",com.Form,{controller:"form-sep-riwayat-pelayanan-peserta",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox"},items:[{xtype:"textfield",fieldLabel:"No. Kartu",reference:"nomor",emptyText:"Masukkan No. Kartu",flex:1},{xtype:"button",ui:"soft-cyan",text:"Tampilkan",iconCls:"x-fa fa-list",tooltip:"Tampilkan",handler:"onTampilkan"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}]},0,["form-sep-riwayat-pelayanan-peserta"],["component","box","container","panel","form","com-form","form-sep-riwayat-pelayanan-peserta"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-sep-riwayat-pelayanan-peserta":true},["widget.form-sep-riwayat-pelayanan-peserta"],0,[plugins.bpjs.sep.riwayat.pelayanan,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.riwayat.pelayanan.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onTampilkan:function(l){var m=this,n=m.getView(),o=m.getReferences();o.response.setValue("");if(o.nomor.getValue()===""){return}if(m.service){n.setLoading(true);m.service.riwayatPelayananPeserta(o.nomor.getValue(),function(f,e){if(f){o.response.setValue(JSON.stringify(e,undefined,2))}n.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-sep-riwayat-pelayanan-peserta"],0,[plugins.bpjs.sep.riwayat.pelayanan,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.update.Form",com.Form,{controller:"form-sep-update",klsRawat:3,jnsPelayanan:2,lakaLantas:2,asalRujukan:1,poliEksekutif:0,cob:0,katarak:0,penjamin:0,suplesi:0,layout:{type:"vbox",align:"stretch"},defaults:{xtype:"fieldcontainer",layout:{type:"hbox"},margin:"1 0 0 0"},items:[{fieldLabel:"No. SEP",defaults:{bind:{readOnly:"{formConfig.readOnly}"}},items:[{xtype:"textfield",emptyText:"Masukkan No. SEP",margin:"0 15 0 0",reference:"noSep",flex:1},{xtype:"textfield",emptyText:"Masukkan No. Kartu",fieldLabel:"No. Kartu",labelWidth:60,margin:"0 15 0 0",reference:"noKartu",flex:1},{xtype:"datefield",fieldLabel:"Tgl. SEP",labelWidth:50,format:"d/m/Y",reference:"tglSep",width:180,margin:"0 1 0 0"},{xtype:"timefield",format:"H:i:s",width:110,reference:"wktSep"}]},{fieldLabel:"Asal Rujukan",items:[{xtype:"displayfield",reference:"infoAsalRujukan"},{xtype:"segmentedbutton",reference:"asalRujukan",items:[{text:"Faskes 1",idx:1,pressed:true},{text:"Faskes 2(RS)",idx:2}],listeners:{toggle:"onToggleAsalRujukan"},bind:{hidden:"{formConfig.readOnly}"}},{xtype:"textfield",fieldLabel:"Nomor",emptyText:"Masukkan No. Rujukan",margin:"0 15 0 15",reference:"noRujukan",labelWidth:45,flex:1,bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"textfield",fieldLabel:"PPK",emptyText:"Masukkan PPK Rujukan",margin:"0 15 0 0",reference:"ppkRujukan",labelWidth:27,width:120,bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"datefield",fieldLabel:"Tgl.",labelWidth:27,format:"d/m/Y",reference:"tglRujukan",width:157,margin:"0 1 0 0",bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"timefield",format:"H:i:s",width:110,reference:"wktRujukan",bind:{readOnly:"{formConfig.readOnly}"}}]},{fieldLabel:"Jenis Pelayanan",items:[{xtype:"displayfield",reference:"infoJnsPelayanan"},{xtype:"segmentedbutton",reference:"jnsPelayanan",items:[{text:"Rawat Inap",idx:1},{text:"Rawat Jalan",idx:2,pressed:true}],listeners:{toggle:"onToggleButtonRawat"},bind:{hidden:"{formConfig.readOnly}"}},{xtype:"textfield",fieldLabel:"Catatan",labelWidth:50,margin:"0 0 0 15",reference:"catatan",emptyText:"Masukkan Catatan",flex:1,bind:{readOnly:"{formConfig.readOnly}"}}]},{fieldLabel:"Diagnosa Awal",items:[{xtype:"textfield",emptyText:"Masukkan Diagnosa Awal",reference:"diagAwal",flex:1,margin:"0 15 0 0",bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"textfield",fieldLabel:"Poli Tujuan",labelWidth:70,emptyText:"Masukkan Poli Tujuan",reference:"poliTujuan",margin:"0 15 0 0",flex:1,bind:{readOnly:"{formConfig.readOnly}"}},{fieldLabel:"Poli Eksekutif?",xtype:"fieldcontainer",labelWidth:90,layout:"hbox",items:[{xtype:"displayfield",reference:"infoPoliEksekutif"},{xtype:"segmentedbutton",reference:"poliEksekutif",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onTogglePoliEksekutif"},bind:{hidden:"{formConfig.readOnly}"}}]}]},{fieldLabel:"Kelas Rawat",items:[{xtype:"displayfield",reference:"infoKelas",hidden:true},{xtype:"segmentedbutton",reference:"kelas",items:[{text:"Kelas 1",idx:1},{text:"Kelas 2",idx:2},{text:"Kelas 3",idx:3,pressed:true}],listeners:{toggle:"onToggleButtonKelas"}},{fieldLabel:"COB?",xtype:"fieldcontainer",labelWidth:35,layout:"hbox",margin:"0 0 0 15",items:[{xtype:"displayfield",reference:"infoCOB"},{xtype:"segmentedbutton",reference:"COB",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onToggleCOB"},bind:{hidden:"{formConfig.readOnly}"}}]},{fieldLabel:"Katarak?",xtype:"fieldcontainer",labelWidth:60,layout:"hbox",margin:"0 0 0 15",items:[{xtype:"displayfield",reference:"infoKatarak"},{xtype:"segmentedbutton",reference:"katarak",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onToggleKatarak"},bind:{hidden:"{formConfig.readOnly}"}}]}]},{fieldLabel:"SKDP",items:[{xtype:"textfield",emptyText:"Masukkan No. Surat",reference:"nosuratskdp",flex:2,bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"plugins-bpjs-referensi-dpjp-combo",flex:1,reference:"dpjpcombo"}]},{fieldLabel:"Laka Lantas",items:[{xtype:"displayfield",reference:"infoLakalantas"},{xtype:"segmentedbutton",reference:"lakalantas",items:[{text:"Kasus Kecelakaan",idx:1},{text:"Bukan Kasus Kecelakaan",idx:2,pressed:true}],listeners:{toggle:"onToggleButtonLakaLantas"},bind:{hidden:"{formConfig.readOnly}"},margin:"0 15 0 0"},{xtype:"datefield",fieldLabel:"Tgl. Kejadian",labelWidth:90,format:"d/m/Y",reference:"tglkejadian",width:220,margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"Keterangan",labelWidth:90,emptyText:"Masukkan Keterangan",reference:"lokasiLaka",flex:1,bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"combobox",fieldLabel:"Penjamin",labelWidth:60,reference:"penjamin",store:{fields:["ID","DESKRIPSI"],data:[{ID:1,DESKRIPSI:"PT. Jasa Raharja"},{ID:2,DESKRIPSI:"BPJS Ketenagakerjaan"},{ID:3,DESKRIPSI:"PT. TASPEN"},{ID:4,DESKRIPSI:"PT. ASABRI"}]},displayField:"DESKRIPSI",valueField:"ID",editable:false,listeners:{select:"onSelectPenjamin"},bind:{readOnly:"{formConfig.readOnly}"}}]},{fieldLabel:"Suplesi",items:[{xtype:"segmentedbutton",reference:"suplesi",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onToggleButtonSuplesi"},margin:"0 15 0 0"},{xtype:"textfield",emptyText:"Masukkan No. Suplesi",reference:"nosuplesi",flex:1,bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_PROPINSI",firstLoad:true,reference:"propinsicombo",emptyText:"[Propinsi]",flex:1,listeners:{select:"onSelectWilayah"}},{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_KABUPATEN",reference:"kabupatencombo",params:{tipe:2},emptyText:"[Kabupaten]",flex:1,listeners:{select:"onSelectWilayah"}},{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_KECAMATAN",reference:"kecamatancombo",params:{tipe:3},flex:1,emptyText:"[Kecamatan]"}]},{fieldLabel:"User",defaults:{bind:{readOnly:"{formConfig.readOnly}"}},items:[{xtype:"textfield",emptyText:"Masukkan ID / Nama Pengguna",flex:1,reference:"user",margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"No. MR",labelWidth:50,emptyText:"Masukkan Nomor Rekam Medis",reference:"noMr",flex:1,margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"No. Telp.",labelWidth:55,emptyText:"No. Telepon Peserta/Pasien",reference:"noTelp",flex:1}]},{xtype:"fieldcontainer",items:[{xtype:"component",flex:1},{xtype:"button",text:"Update SEP",handler:"onUpdateSEP"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}],load:function(){var q=this.down("[reference=tglSep]"),p=this.down("[reference=wktSep]"),t=this.down("[reference=tglRujukan]"),s=this.down("[reference=wktRujukan]"),e=this.down("[reference=spesialiscombo]"),f=this.down("[reference=propinsicombo]");q.setValue(this.getSysdate());p.setValue(this.getSysdate());t.setValue(this.getSysdate());s.setValue(this.getSysdate());e.load();f.load()},setData:function(k){var m=this,l=m.getReferences();l.noSep.setValue(k.noSep);l.noKartu.setValue(k.noKartu);l.tglSep.setValue(k.tglSep);l.wktSep.setValue(k.tglSep);m.asalRujukan=k.asalRujukan;l.infoAsalRujukan.setValue(k.asalRujukan?(k.asalRujukan==1?"Faskes 1":"Faskes 2(RS)"):"Faskes 1");if(k.asalRujukan){l.asalRujukan.setValue(k.asalRujukan==1?0:1)}l.tglRujukan.setValue(k.tglRujukan);l.wktRujukan.setValue(k.tglRujukan);l.noRujukan.setValue(k.noRujukan);l.ppkRujukan.setValue(k.ppkRujukan);m.jnsPelayanan=k.jnsPelayanan;l.infoJnsPelayanan.setValue(k.jnsPelayanan==1?"Rawat Inap":"Rawat Jalan");l.jnsPelayanan.setValue(k.jnsPelayanan-1);l.catatan.setValue(k.catatan);l.diagAwal.setValue(k.diagAwal);l.poliTujuan.setValue(k.poliTujuan);m.poliEksekutif=k.eksekutif;l.infoPoliEksekutif.setValue(k.eksekutif?(k.eksekutif==0?"Tidak":"Ya"):"Tidak");if(k.eksekutif){l.poliEksekutif.setValue(k.eksekutif==1?0:1)}m.klsRawat=k.klsRawat==3?1:(k.kelas==2?2:3);l.infoKelas.setValue(k.klsRawat==1?"Kelas 3":(k.klsRawat==2?"Kelas 2":(k.klsRawat==3?"Kelas 1":"-")));if(k.klsRawat!=""){l.kelas.setValue(k.klsRawat==1?2:(k.klsRawat==2?1:0))}m.cob=k.cob;l.infoCOB.setValue(k.cob?(k.cob==0?"Tidak":"Ya"):"Tidak");if(k.cob){l.COB.setValue(k.cob==1?0:1)}m.katarak=k.katarak;l.infoKatarak.setValue(k.katarak?(k.katarak==0?"Tidak":"Ya"):"Tidak");if(k.katarak){l.katarak.setValue(k.katarak==1?0:1)}m.lakaLantas=k.lakaLantas;l.infoLakalantas.setValue(k.lakaLantas==1?"Kasus Kecelakaan":"Bukan Kasus Kecelakaan");l.lakalantas.setValue(k.lakaLantas-1);l.lokasiLaka.setValue(k.lokasiLaka);l.tglkejadian.setValue(k.tglKejadian);m.suplesi=k.suplesi;if(k.suplesi){l.suplesi.setValue(k.suplesi==1?0:1)}l.nosuplesi.setValue(k.noSuplesi);m.penjamin=k.penjamin;l.penjamin.select(k.penjamin);l.nosuratskdp.setValue(k.noSuratSKDP);l.dpjpcombo.setValue(k.dpjpSKDP);l.user.setValue(k.user);l.noMr.setValue(k.norm);l.noTelp.setValue(k.noTelp);l.dpjpcombo.params.jenisPelayanan=1;l.dpjpcombo.params.tglPelayanan=Ext.util.Format.date(k.tglSep,"Y-m-d");l.dpjpcombo.params.kodeSpesialis=1;l.dpjpcombo.load();l.dpjpcombo.doAfterLoad=function(g,f,e){var o=e.findRecord("kode",k.dpjpSKDP,0,true,false,true);if(o){l.dpjpcombo.select(o)}};l.propinsicombo.doAfterLoad=function(g,f,e){var o=e.findRecord("kode",k.propinsi,0,true,false,true);if(o){l.propinsicombo.select(o);l.propinsicombo.fireEvent("select",l.propinsicombo,o)}};l.kabupatencombo.doAfterLoad=function(g,f,e){var o=e.findRecord("kode",k.kabupaten,0,true,false,true);if(o){l.kabupatencombo.select(o);l.kabupatencombo.fireEvent("select",l.kabupatencombo,o)}};l.kecamatancombo.doAfterLoad=function(g,f,e){var o=e.findRecord("kode",k.kecamatan,0,true,false,true);if(o){l.kecamatancombo.select(o)}}}},0,["form-sep-update"],["component","box","container","panel","form","com-form","form-sep-update"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-sep-update":true},["widget.form-sep-update"],0,[plugins.bpjs.sep.update,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.update.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onToggleButtonKelas:function(l,m,k){this.getView().klsRawat=m.idx},onToggleButtonRawat:function(l,m,k){this.getView().jnsPelayanan=m.idx},onToggleAsalRujukan:function(l,m,k){this.getView().asalRujukan=m.idx},onTogglePoliEksekutif:function(l,m,k){this.getView().poliEksekutif=m.idx},onToggleCOB:function(l,m,k){this.getView().cob=m.idx},onToggleKatarak:function(l,m,k){this.getView().katarak=m.idx},onToggleButtonLakaLantas:function(l,m,k){this.getView().lakaLantas=m.idx},onSelectPenjamin:function(g,k){if(k){this.getView().penjamin=k.get("ID")}},onToggleButtonSuplesi:function(l,m,k){this.getView().suplesi=m.idx},onSelectWilayah:function(m,k){var l=this.getReferences();if(m.params.tipe==1){l.kecamatancombo.getStore().removeAll();l.kabupatencombo.getStore().removeAll();l.kabupatencombo.params.kodePropinsi=k.get("kode");l.kabupatencombo.load()}if(m.params.tipe==2){l.kecamatancombo.getStore().removeAll();l.kecamatancombo.params.kodeKabupaten=k.get("kode");l.kecamatancombo.load()}},onUpdateSEP:function(k){var F=this,e=F.getView(),H=F.getReferences();H.response.setValue("");if(F.service){var C=H.tglSep.getValue(),l=H.wktSep.getValue(),m=H.tglRujukan.getValue(),G=H.wktRujukan.getValue(),E=H.tglkejadian.getValue(),D=H.dpjpcombo.getSelection(),g=H.propinsicombo.getSelection(),B=H.kabupatencombo.getSelection(),f=H.kecamatancombo.getSelection();C.setHours(l.getHours());C.setMinutes(l.getMinutes());C.setSeconds(l.getSeconds());m.setHours(G.getHours());m.setMinutes(G.getMinutes());m.setSeconds(G.getSeconds());e.setLoading(true);F.service.updateSEP({noSep:H.noSep.getValue(),noKartu:H.noKartu.getValue(),tglSep:Ext.util.Format.date(C,"Y-m-d H:i:s"),tglRujukan:Ext.util.Format.date(m,"Y-m-d H:i:s"),asalRujukan:e.asalRujukan,noRujukan:H.noRujukan.getValue(),ppkRujukan:H.ppkRujukan.getValue(),jnsPelayanan:e.jnsPelayanan,catatan:H.catatan.getValue(),diagAwal:H.diagAwal.getValue(),poliTujuan:H.poliTujuan.getValue(),eksekutif:e.poliEksekutif,klsRawat:e.klsRawat,cob:e.cob,katarak:e.katarak,lakaLantas:e.lakaLantas,lokasiLaka:H.lokasiLaka.getValue(),penjamin:e.penjamin,tglKejadian:Ext.util.Format.date(E,"Y-m-d H:i:s"),suplesi:e.suplesi,noSuplesi:H.nosuplesi.getValue(),propinsi:g?g.get("kode"):"",kabupaten:B?B.get("kode"):"",kecamatan:f?f.get("kode"):"",noSuratSKDP:H.nosuratskdp.getValue(),dpjpSKDP:D?D.get("kode"):"",user:H.user.getValue(),norm:H.noMr.getValue(),noTelp:H.noTelp.getValue()},function(o,n){if(o){H.response.setValue(JSON.stringify(n,undefined,2))}e.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-sep-update"],0,[plugins.bpjs.sep.update,"FormController"],0));(Ext.cmd.derive("plugins.bpjs.sep.update.tanggalpulang.Form",com.Form,{controller:"form-sep-update-tanggal-pulang",layout:{type:"vbox",align:"stretch"},defaults:{margin:"1 0 0 0"},items:[{xtype:"textfield",fieldLabel:"No. SEP",reference:"nomor"},{xtype:"fieldcontainer",layout:"hbox",fieldLabel:"Tgl. Pulang",items:[{xtype:"datefield",format:"d/m/Y",margin:"0 1 0 0",reference:"tgl"},{xtype:"timefield",format:"H:i:s",reference:"wkt"}]},{xtype:"fieldcontainer",layout:"hbox",items:[{xtype:"component",flex:1},{xtype:"button",text:"Update",tooltip:"Update",handler:"onUpdate"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}],load:function(){var k=this.down("datefield"),g=this.down("timefield");k.setValue(this.getSysdate());g.setValue(this.getSysdate())}},0,["form-sep-update-tanggal-pulang"],["component","box","container","panel","form","com-form","form-sep-update-tanggal-pulang"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-sep-update-tanggal-pulang":true},["widget.form-sep-update-tanggal-pulang"],0,[plugins.bpjs.sep.update.tanggalpulang,"Form"],0));(Ext.cmd.derive("plugins.bpjs.sep.update.tanggalpulang.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onUpdate:function(s){var e=this,p=e.getView(),q=e.getReferences();q.response.setValue("");if(q.nomor.getValue()===""){return}if(e.service){var f=q.tgl.getValue(),t=q.wkt.getValue();f.setHours(t.getHours());f.setMinutes(t.getMinutes());f.setSeconds(t.getSeconds());p.setLoading(true);e.service.updateTanggalPulang({noSEP:q.nomor.getValue(),tglPlg:Ext.util.Format.date(f,"Y-m-d H:i:s"),user:p.app.usrNm},function(k,g){if(k){q.response.setValue(JSON.stringify(g,undefined,2))}p.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-sep-update-tanggal-pulang"],0,[plugins.bpjs.sep.update.tanggalpulang,"FormController"],0));(Ext.cmd.derive("plugins.dukcapil.Service",plugins.BaseService,{nik:function(g,k){this.request("dukcapil/nik/"+g,"GET","",k)}},0,["dukcapilservice"],["baseservice","dukcapilservice"],{baseservice:true,dukcapilservice:true},["widget.dukcapilservice"],0,[plugins.dukcapil,"Service"],0));(Ext.cmd.derive("plugins.inacbg.Service",Ext.Base,{scope:this,animateTarget:null,showError:true,privates:{request:function(p,g,q,o){var f=this;Ext.Ajax.request({url:webservice.location+"plugins/"+p,method:g,jsonData:q,success:function(k,e){if(Ext.isFunction(o)){o(true,Ext.JSON.decode(k.responseText),e)}},failure:function(m,e){if(f.showError){try{var n=Ext.JSON.decode(m.responseText),l=n.detail?(Ext.isObject(n.detail)?Ext.JSON.encode(n.detail):n.detail):"Koneksi Gagal",t=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:m.status+" - "+m.statusText,header:{padding:5}});t.show({msg:l,buttons:Ext.MessageBox.OK,animateTarget:f.animateTarget,scope:f.scope,icon:Ext.Msg.ERROR})}catch(k){var t=Ext.create("Ext.window.MessageBox",{ui:"window-red",title:"Error",header:{padding:5}});t.show({msg:"Koneksi Gagal",buttons:Ext.MessageBox.OK,animateTarget:f.animateTarget,scope:f.scope,icon:Ext.Msg.ERROR})}}if(Ext.isFunction(o)){o(false,m,e)}}})}},grouper:function(g,k){Ext.Array.each(g.diags,function(f,e){Ext.applyIf(g,Ext.Object.fromQueryString("diag"+(e+1)+"="+f.KODE))});Ext.Array.each(g.procs,function(f,e){Ext.applyIf(g,Ext.Object.fromQueryString("proc"+(e+1)+"="+f.KODE))});if(g.ina_diags){Ext.Array.each(g.ina_diags,function(f,e){Ext.applyIf(g,Ext.Object.fromQueryString("ina_diag"+(e+1)+"="+f.KODE))});delete g.ina_diags}if(g.ina_procs){Ext.Array.each(g.ina_procs,function(f,e){Ext.applyIf(g,Ext.Object.fromQueryString("ina_proc"+(e+1)+"="+f.KODE))});delete g.ina_procs}delete g.diags;delete g.procs;delete g.ref;this.request("inacbg","POST",g,k)},klaimBaru:function(g,k){this.request("inacbg/klaimBaru","POST",g,k)},hapusGrouper:function(g,k){this.request("inacbg/batalKlaim","POST",g,k)},icdInaGrouper:function(m,k){var l="?icd_type="+(m.icd_type?m.icd_type:1);if(m.load_from_inacbg){if(m.load_from_inacbg==1){l+="&load_from_inacbg=1"}}l+="&tipe="+(m.tipe?m.tipe:3);l+="&query="+(m.query?m.query:"");this.request("inacbg/icdInaGrouper"+l,"GET","",k)},uploadFilePendukung:function(g,k){this.request("inacbg/uploadFilePendukung","POST",g,k)},hapusFilePendukung:function(g,k){this.request("inacbg/hapusFilePendukung","POST",g,k)},daftarFilePendukung:function(g,k){this.request("inacbg/daftarFilePendukung","POST",g,k)},generateNomorKlaim:function(g,k){this.request("inacbg/generateNomorKlaim","POST",g,k)}},0,["inacbgservice"],["inacbgservice"],{inacbgservice:true},["widget.inacbgservice"],0,[plugins.inacbg,"Service"],0));(Ext.cmd.derive("plugins.inacbg.model.Inacbg",data.model.Model,{serviceName:"inacbgservice/inacbg",fields:[{name:"ID",type:"int"},{name:"JENIS",type:"int"},{name:"KODE",type:"string"},{name:"DESKRIPSI",type:"string"},{name:"VESION",type:"string"},{name:"TANGGAL_BERLAKU",type:"date"}],idProperty:"ID"},0,0,0,0,0,0,[plugins.inacbg.model,"Inacbg"],0));(Ext.cmd.derive("plugins.inacbg.combo.Inacbg",com.Combo,{viewModel:{stores:{store:{type:"inacbg-store"}}},valueField:"KODE",firstLoad:true},0,["combo-inacbg"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","combo-inacbg"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"combo-inacbg":true},["widget.combo-inacbg"],0,[plugins.inacbg.combo,"Inacbg"],0));(Ext.cmd.derive("plugins.inacbg.model.MapInacbgSimrs",data.model.Model,{serviceName:"inacbgservice/map",fields:[{name:"JENIS",type:"int"},{name:"INACBG",type:"string"},{name:"SIMRS",type:"int"}]},0,0,0,0,0,0,[plugins.inacbg.model,"MapInacbgSimrs"],0));(Ext.cmd.derive("plugins.inacbg.model.ListProcedure",data.model.Model,{serviceName:"inacbgservice/listprocedure",fields:[{name:"ID",type:"int"},{name:"JENIS",type:"int"},{name:"PROC",type:"string"},{name:"CMG",type:"string"},{name:"GROUP_CODE",type:"string"}],idProperty:"ID"},0,0,0,0,0,0,[plugins.inacbg.model,"ListProcedure"],0));(Ext.cmd.derive("plugins.inacbg.grouping.Form",com.Form,{controller:"grouping-form",model:"plugins.inacbg.model.Grouping",viewModel:{data:{klaimBaru:true,pendaftaran:undefined,kunjunganRawat:[],kunjunganMasuk:undefined,kunjunganKeluar:undefined,tagihanPendaftaran:undefined,penjaminTagihan:undefined,finalGrouping:false,kirimDC:false,hideUpdateSepButton:true,hideInfoTagihan:false,naiKelasVIP:false,minPersenSelNaikVIP:0,maxPersenSelNaikVIP:75,persenValue:0,tipeInacbg:5},stores:{kunjungans:{type:"kunjungan-store"},mapInacbgSimrs:{type:"map-inacbg-simrs-store"},listProcedure:{type:"list-procedure-store"},icd10:{type:"icd-store",queryParams:{INACBG:1,INA_GROUPER:0,STATUS:1}},icd9:{type:"icd9-store",queryParams:{INACBG:1,INA_GROUPER:0,STATUS:1}},tagihanPendaftarans:{type:"tagihan-pendaftaran-store"},tagihan:Ext.create("Ext.data.Store",{fields:["NAME","VALUE"]})},formulas:{getStatusGrouping:function(m){var l=m("finalGrouping"),k=m("kirimDC");return'<span style="color: #2d74a6;">Status Grouping: '+(l?"Final":"Belum Final")+'</span> <span style="color: #c0392b;">#</span"> <span style="color: #90c258;">Status Kirim ke DC: '+(k?"Terkirim":"Belum / Gagal Terkirim")+"</span>"}}},autoScroll:true,bodyPadding:0,layout:{type:"vbox",align:"stretch"},dockedItems:[{xtype:"toolbar",dock:"top",items:[{xtype:"button",ui:"soft-cyan",iconCls:"x-fa fa-info",tooltip:"Informasi Distribusi Tagihan",enableToggle:true,margin:"0 10 0 0",pressed:true,listeners:{toggle:"onInfo"}},{xtype:"displayfield",bind:{value:"{getStatusGrouping}"},style:"font-weight: bold;"},"->",{xtype:"numberfield",fieldLabel:"Persentase Selisih Naik Kelas VIP",name:"PERSEN_NAIK_KELAS_VIP",reference:"psnkvip",labelWidth:170,allowDecimals:false,bind:{minValue:"{minPersenSelNaikVIP}",maxValue:"{maxPersenSelNaikVIP}",hidden:"{!naiKelasVIP}",value:"{persenValue}"}},{xtype:"button",ui:"soft-red",iconCls:"x-fa fa-save",tooltip:"Simpan Persentase Selisih Naik Kelas VIP",handler:"onSimpanPsnkVIP",bind:{hidden:"{!naiKelasVIP}"}},{name:"KELAS_KLAIM",xtype:"referensi-combo",reference:"kelasklaim",fieldLabel:"Kelas Klaim",labelWidth:70,params:{JENIS:19,STATUS:1},firstLoad:true,emptyText:"[Pilih Kelas Klaim]",editable:false,listeners:{select:"onSelectKelasKlaim"}},{xtype:"button",text:"Update SEP",iconCls:"x-fa fa-send",ui:"soft-red",handler:"onUpdateSep",bind:{hidden:"{hideUpdateSepButton}"}},{xtype:"inacbg-tipe-combo",reference:"inacbgtipecombo",name:"TIPE",editable:false,labelWidth:80,fieldLabel:"Tipe INACBG",params:{STATUS:1},listeners:{select:"onSelectTipe"}}]},{xtype:"toolbar",dock:"bottom",items:["->",{xtype:"button",text:"Klaim Baru",iconCls:"x-fa fa-file",finalGroup:false,ui:"soft-cyan",bind:{hidden:"{!klaimBaru}"},handler:"onKlaimBaru"},{xtype:"button",text:"Proses Grouping",iconCls:"x-fa fa-cogs",ui:"soft-blue",finalGroup:false,bind:{hidden:"{klaimBaru}"},handler:"onGrouping"},{xtype:"button",text:"Final Grouping",iconCls:"x-fa fa-check-square",ui:"soft-red",finalGroup:true,kirimDataCenter:false,bind:{hidden:"{klaimBaru}"},handler:"onGrouping"},{xtype:"button",text:"Final Grouping & Kirim ke Data Center",iconCls:"x-fa fa-send",ui:"soft-red",finalGroup:true,kirimDataCenter:true,bind:{hidden:"{klaimBaru}"},handler:"onGrouping"},{xtype:"button",text:"Hapus Grouping",iconCls:"x-fa fa-remove",ui:"soft-red",bind:{hidden:"{klaimBaru}"},handler:"onHapusGrouping"},{xtype:"button",text:"Cetak Laporan Individual",iconCls:"x-fa fa-print",ui:"soft-green",bind:{hidden:"{klaimBaru}"},menu:{plain:true,width:200,items:[{text:"Kelas Hak",action:0,handler:"onCetak"},{text:"Kelas II",action:2,handler:"onCetak"},{text:"Kelas 1",action:1,handler:"onCetak"}]}},"->"]}],cls:"x-br-top",lbar:{xtype:"com-grid",ui:"panel-cyan",header:{padding:5,items:[{xtype:"button",ui:"soft-red",iconCls:"x-fa fa-calculator",tooltip:"Hitung Ulang Distribusi Tagihan",handler:"onRedistribusiTagihan"}]},title:"Distribusi Tagihan",hideHeaders:true,columns:[{text:"Nama",dataIndex:"NAME",sortable:false,width:160},{xtype:"numbercolumn",text:"Nilai",format:"0,000",dataIndex:"VALUE",sortable:false,flex:1,align:"right"}],bind:{store:"{tagihan}",hidden:"{hideInfoTagihan}"},width:275,margin:"0 5 0 0"},items:[{xtype:"plugins-inacbg-grouping-pendukung-form",reference:"formpendukung"},{xtype:"component",style:"font-weight: bold; text-align: center; font-size: 17px",margin:"20 0 3 0",html:"Unggah Berkas Pendukung Klaim:",bind:{hidden:"{klaimBaru}"}},{xtype:"plugins-inacbg-grouping-pendukung-dokumen-form",height:550,margin:"0 0 25 0",bind:{hidden:"{klaimBaru}"}},{xtype:"grouping-hasil-form"}],onLoadRecord:function(v,e){var u=v.down("plugins-inacbg-grouping-pendukung-form"),f=v.down("[name=TIPE]"),t=v.getViewModel(),s=Ext.JSON.decode(e.get("DATA")),g=1;if(s){if(s.klaimBaru!==undefined){t.set("klaimBaru",s.klaimBaru)}else{if(s.norm!==undefined){t.set("klaimBaru",false)}}u.load(s)}f.load();f.setValue(g);f.doAfterLoad=function(m,l,k){var n=k.findRecord(f.valueField,g,0,false,true);if(n){t.set("tipeInacbg",n.get("VERSION"));v.getController().onSelectTipe(f,n)}else{if(m.length>0){f.setValue(m[0].get("ID"));t.set("tipeInacbg",m[0].get("VERSION"));v.getController().onSelectTipe(f,m[0])}}}},setPendaftaran:function(v){var w=this,ac=w.getViewModel(),n=ac.get("kunjungans"),W=ac.get("tagihanPendaftarans"),p=ac.get("icd10"),k=ac.get("icd9"),X=w.down("grouping-hasil-form"),Y=w.down("[name=BERAT_LAHIR]"),ab=w.down("[name=TIPE]"),Z=w.down("[name=DPJP]"),x=w.getController(),ad=v.get("TUJUAN"),f=v.get("PENJAMIN"),s=Ext.create("data.model.Dokter",w.getReferensi(ad,"DOKTER")),u=w.down("[name=NOMOR_KARTU_T]"),e=w.down("[name=NOMOR_PENJAMIN]"),q=w.down("plugins-inacbg-grouping-pendukung-form"),o=w.down("plugins-inacbg-grouping-pendukung-dokumen-form"),X=w.down("grouping-hasil-form"),g=ab.getSelection(),l=g?g.get("ID"):3,m=g?g.get("VERSION"):5,t=x.getDataMapInacbgSimrs(3,"SIMRS",f.JENIS,m),aa=w.getReferensi(v.data,"PASIEN");ac.set("pendaftaran",v);p.queryParams.NOPEN=v.get("NOMOR");k.queryParams.NOPEN=v.get("NOMOR");q.setFormConfig({pendaftaran:v});w.setLoading(true);p.load(function(){k.load(function(){w.setLoading(false)})});Y.setValue(v.get("BERAT_BAYI"));Z.getStore().add(s);Z.setValue(s.get("ID"));w.mainWorkspace=w.ownerCt;if(f.JENIS==2){u.select("kartu_jkn")}else{u.select("nik")}e.setValue(f.REFERENSI.KAP.NOMOR);w.reloadHasilGrouping();if(n){n.queryParams={NOPEN:v.get("NOMOR"),HISTORY:1,start:0,limit:1000,COLUMNS:'["NOMOR", "RUANGAN", "MASUK", "KELUAR", "REF", "STATUS"]',REFERENSI:Ext.JSON.encode({PasienPulang:{COLUMNS:["TANGGAL","CARA","KEADAAN","DIAGNOSA"],REFERENSI:{Diagnosa:true}}})};n.load(function(y,C,B){if(B){var F=[],z=false,E=null;Ext.Array.each(y,function(K){var I=ac.get("tipeInacbg");if(x.getDataMapInacbgSimrs(1,"SIMRS",K.get("JENIS_KUNJUNGAN"),I)!=null&&K.get("STATUS")!=0){F.push(K.data);if(K.get("REF")==null){ac.set("kunjunganMasuk",K)}if(K.get("JENIS_KUNJUNGAN")==3||K.get("JENIS_KUNJUNGAN")==2){var J=K.get("REFERENSI");if(J){if(J.PASIEN_KELUAR){E=x.getDataMapInacbgSimrs(2,"SIMRS",J.PASIEN_KELUAR.CARA,I);z=true;ac.set("kunjunganKeluar",K)}}}else{E={INACBG:"1"}}}});q.setCaraPulang(E);ac.set("kunjunganRawat",F);if(!z){ac.set("kunjunganKeluar",ac.get("kunjunganMasuk"))}o.createRecord({no_klaim:f.NOMOR,tipe:l});if(t){var G=false,H=ac.get("kunjunganMasuk"),A=ac.get("kunjunganKeluar");if(A){if(A.get("JENIS_KUNJUNGAN")==3){var D=w.getReferensi(A.data,"PASIEN_KELUAR");if(D){G=(D.CARA==6&&t.INACBG==71)}}}q.setFormConfig({covid19:t.INACBG==71,covid19_meninggal:G,rawatInap:(t.INACBG==71&&H.get("JENIS_KUNJUNGAN")==3)});X.setFormConfig({covid19:t.INACBG==71,covid19_meninggal:G,jenisRawat:H?(H.get("JENIS_KUNJUNGAN")==3?1:2):0})}}})}if(W){W.queryParams={UTAMA:1,STATUS:1,COLUMNS:'["TAGIHAN"]',REFERENSI:Ext.JSON.encode({Tagihan:{COLUMNS:["ID","TOTAL","PROSEDUR_NON_BEDAH","PROSEDUR_BEDAH","KONSULTASI","TENAGA_AHLI","KEPERAWATAN","PENUNJANG","RADIOLOGI","LABORATORIUM","BANK_DARAH","REHAB_MEDIK","AKOMODASI","AKOMODASI_INTENSIF","OBAT","OBAT_KRONIS","OBAT_KEMOTERAPI","ALKES","BMHP","SEWA_ALAT","RAWAT_INTENSIF","LAMA_RAWAT_INTENSIF"],REFERENSI:{PenjaminTagihan:true}}}),PENDAFTARAN:v.get("NOMOR")};W.load(function(z,y,A){if(A){if(z.length>0){ac.set("tagihanPendaftaran",z[0]);w.setKelasKlaim(v,z[0])}}})}},setKelasKlaim:function(J,F){var L=this,m=L.getViewModel(),n=L.down("[name=KELAS_KLAIM]"),g=J.get("PENJAMIN"),l=L.getReferensi(F.data,"TAGIHAN"),I=l?L.getReferensi(l,"PENJAMIN_TAGIHAN"):null,f=I?(I.length>0?I[0]:null):null,k=f?L.getReferensi(f,"KELAS_KLAIM"):L.getReferensi(g,"KELAS"),o=k.ID==0?L.getReferensi(g,"KELAS"):k,K=Ext.create("data.model.Referensi",o),G=L.getController(),H=Number(L.getPropertyConfig("16"));m.set("minPersenSelNaikVIP",H);L.setInfoDistribusiTagihan(l);if(f){var e=f.TAGIHAN+"-"+f.PENJAMIN;data.model.PenjaminTagihan.load(e,{success:function(p,q){m.set("penjaminTagihan",p);m.set("naiKelasVIP",p.get("NAIK_KELAS_VIP")!=0);m.set("persenValue",p.get("PERSENTASE_TARIF_INACBG_KELAS1")>0?p.get("PERSENTASE_TARIF_INACBG_KELAS1"):H)}});if(G.BPJService){if(G.integrasiBPJS.REF==g.JENIS){m.set("hideUpdateSepButton",false)}}}n.select(K)},setInfoDistribusiTagihan:function(m){var l=this,o=l.getViewModel(),n=o.get("tagihan");if(m){n.loadData([{NAME:"Tarif RS",VALUE:m.TOTAL},{NAME:"Procedure Non Bedah",VALUE:m.PROSEDUR_NON_BEDAH},{NAME:"Procedure Bedah",VALUE:m.PROSEDUR_BEDAH},{NAME:"Konsultasi",VALUE:m.KONSULTASI},{NAME:"Tenaga Ahli",VALUE:m.TENAGA_AHLI},{NAME:"Keperawatan",VALUE:m.KEPERAWATAN},{NAME:"Penunjang",VALUE:m.PENUNJANG},{NAME:"Radiologi",VALUE:m.RADIOLOGI},{NAME:"Laboratorium",VALUE:m.LABORATORIUM},{NAME:"Bank Darah",VALUE:m.BANK_DARAH},{NAME:"Rehab Medik",VALUE:m.REHAB_MEDIK},{NAME:"Akomodasi",VALUE:m.AKOMODASI},{NAME:"Akomodasi Intensif",VALUE:m.AKOMODASI_INTENSIF},{NAME:"Obat",VALUE:m.OBAT},{NAME:"Obat Kronis",VALUE:m.OBAT_KRONIS},{NAME:"Obat Kemoterapi",VALUE:m.OBAT_KEMOTERAPI},{NAME:"ALKES",VALUE:m.ALKES},{NAME:"BMHP",VALUE:m.BMHP},{NAME:"Sewa Alat",VALUE:m.SEWA_ALAT}])}},reloadHasilGrouping:function(){var l=this,o=l.getViewModel(),m=o.get("pendaftaran"),n=l.down("grouping-hasil-form");if(plugins.inacbg){plugins.inacbg.model.HasilGrouping.load(m.get("NOMOR"),{callback:function(f,g,e){if(e){n.loadRecord(f);o.set("finalGrouping",f.get("STATUS")==1);o.set("kirimDC",f.get("DC_KEMKES")==1)}l.setLoading(false)}})}}},0,["grouping-form"],["component","box","container","panel","form","com-form","grouping-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"grouping-form":true},["widget.grouping-form"],0,[plugins.inacbg.grouping,"Form"],0));(Ext.cmd.derive("plugins.inacbg.grouping.FormController",Ext.app.ViewController,{initViewModel:function(){var f=this.getViewModel();f.get("mapInacbgSimrs").initStore("mapinacbgsimrs");f.get("listProcedure").initStore("listprocedure")},init:function(){var k=this,g=k.getView();k.integrasi=g.app?g.app.xitr("ID",2):false;if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}k.integrasiBPJS=g.app.xitr("ID",1);if(k.integrasiBPJS){k.BPJService=Ext.create(k.integrasiBPJS.NAMA_KLAS,{})}},onGrouping:function(o){var m=this,l=m.getViewModel(),n=m.getView();if(n.getForm().isValid()){if(l.get("naiKelasVIP")){m.onSimpanPsnkVIP(o)}this.grouping(o.finalGroup,o.kirimDataCenter)}},onUpdateSep:function(p){var z=this,n=z.getView(),ah=z.getViewModel(),aj=z.getReferences(),C=aj.kelasklaim.getSelection(),e=ah.get("pendaftaran"),A=n.getReferensi(e.data,"PASIEN"),o=A.KONTAK?A.KONTAK:null,ag=null,ai=e.get("PENJAMIN"),af=ai?n.getReferensi(ai,"KAP"):null,u=e.get("TUJUAN"),f=u?n.getReferensi(u,"RUANGAN"):null,q=f?(f.JENIS_KUNJUNGAN==3?1:2):2,y=e.get("DIAGNOSAMASUK")?e.get("DIAGNOSAMASUK"):null,w=e.get("RUJUKAN")?(Ext.isObject(e.get("RUJUKAN"))?e.get("RUJUKAN"):null):null,B=w?n.getReferensi(w,"PPK"):null,k=n.getReferensi(n.app.ppk,"PPK"),ak=n.getReferensi(e.data,"KECELAKAAN"),m=ah.get("penjaminTagihan");if(Ext.isArray(o)){Ext.Array.each(o,function(t){ag=t.NOMOR})}if(ai){if(z.BPJService){if(z.integrasiBPJS.REF==m.get("PENJAMIN")&&ai){ah.set("hideUpdateSepButton",false);var al=B?B.BPJS:"",v=w&&q!=1?(w.NOMOR==""?"0000000000000000001":w.NOMOR):"0000000000000000001",g=w&&q!=1?(w.TANGGAL?w.TANGGAL:e.get("TANGGAL")):e.get("TANGGAL"),x=B?(w&&q!=1?(w.NOMOR==""?(k.JENIS==1?2:1):(B.JENIS==1?2:1)):(k.JENIS==1?2:1)):(k.JENIS==1?2:1),ae=f?(f.JENIS_KUNJUNGAN==1?f.REF_ID:0):0,s=z.getPenjaminRuangan(f,ai.JENIS),l=C?C.get("ID"):0;al=al==""?(w&&q!=1?(w.NOMOR==""?k.BPJS:w.NOMOR.substring(0,8)):k.BPJS):al;ak=ak?(ak.STATUS==0?null:ak):null;z.BPJService.updateSEP({noSep:ai.NOMOR,noKartu:af?af.NOMOR:"",tglSep:Ext.util.Format.date(e.get("TANGGAL"),"Y-m-d H:i:s"),tglRujukan:Ext.isString(g)?Ext.Date.parse(g,"Y-m-d H:i:s"):g,asalRujukan:x,noRujukan:v,ppkRujukan:al,jnsPelayanan:q,catatan:"-",diagAwal:y?y.ICD:"",poliTujuan:q==2?(s?s:""):"",eksekutif:ae,klsRawat:l==3?1:(l==2?2:3),cob:ai.COB,lakaLantas:ak?1:2,lokasiLaka:ak?ak.LOKASI:"",penjamin:ak?ak.PENJAMIN:0,user:n.app.usrNm,norm:e.get("NORM"),noTelp:ag},function(t,D){if(t){n.notifyMessage("Update Sep berhasil")}})}}}},onInfo:function(n,m){var l=this,o=l.getViewModel();o.set("hideInfoTagihan",!m)},onSimpanPsnkVIP:function(q){var e=this,p=e.getView(),t=e.getViewModel(),s=p.down("[name=PERSEN_NAIK_KELAS_VIP]"),f=s.getValue();if(!((Number(f)>=t.get("minPersenSelNaikVIP"))&&(Number(f)<=t.get("maxPersenSelNaikVIP")))){p.notifyMessage("Penginputan tidak boleh kurang dari "+t.get("minPersenSelNaikVIP")+" dan tidak boleh lebih dari "+t.get("maxPersenSelNaikVIP"));return}e.savePenjaminTagihan({PERSENTASE_TARIF_INACBG_KELAS1:f==null||f==""?0:f},"Data Persentase Selisih Naik Kelas VIP telah berhasil disimpan")},onSelectKelasKlaim:function(q,f){var e=this,p=e.getView(),t=e.getViewModel(),s=t.get("penjaminTagihan");e.savePenjaminTagihan({KELAS_KLAIM:f.get("ID")},"Perubahan kelas klaim berhasil")},onSelectTipe:function(v,e){var w=this,t=w.getView(),g=t.down("[name=SPECIAL_DRUG]"),f=t.down("[name=CARA_PULANG]"),u=g.getStore(),x={JENIS:3,VERSION:""};if(e){x.VERSION=e.get("VERSION");w.getViewModel().set("tipeInacbg",e.get("VERSION"))}u.setQueryParams(x);g.load();x.JENIS=9;f.getStore().setQueryParams(x);f.load()},getDataMapInacbgSimrs:function(f,e,s,p){var q=this.getStore("mapInacbgSimrs"),t=null;q.each(function(g){if(g.get("JENIS")==f&&g.get(e)==s&&g.get("VERSION")==p){t=g.data;return t}});return t},onHapusGrouping:function(v){var x=this,g=x.getView(),w=x.getViewModel(),u=x.getReferences(),e=u.inacbgtipecombo.getSelection(),t=w.get("pendaftaran"),f=t?t.get("PENJAMIN"):null;Ext.Msg.show({title:"Hapus Grouping",message:"Anda yakin ingin hapus data grouping di INACBG ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:v,fn:function(k){if(k==="yes"){var l={nopen:t.get("NOMOR"),nomor_sep:f.NOMOR,coder_nik:g.app.usrNik,tipe:e?e.get("ID"):0,klaimBaru:true};groupingRecord=g.getRecord();groupingRecord.set("DATA",Ext.JSON.encode(l));x.service.hapusGrouper(l,function(o,m,n){if(o){g.save(x,{},function(s,q,p){w.set("klaimBaru",true);g.notifyMessage("Hapus grouping berhasil");g.setLoading(false)})}})}}})},privates:{getNamaLengkap:function(l){var m=l.GELAR_DEPAN||"",k=l.GELAR_BELAKANG||"";m=m==""?"":m+". ";k=k==""?"":", "+k;return m+l.NAMA+k},getListProcedures:function(H,g,f){var F=this,m=F.getViewModel(),G=F.getReferences(),k=G.inacbgtipecombo.getSelection(),E=m.get("pendaftaran"),D=E?E.get("TUJUAN"):null,C=D?(D.REFERENSI?D.REFERENSI.RUANGAN:null):null,l=F.getDataMapInacbgSimrs(1,"SIMRS",C?C.JENIS_KUNJUNGAN:2,k.get("VERSION")),e=F.getStore("listProcedure"),B=null;e.each(function(n){if(n.get("JENIS")==l.INACBG&&n.get(H)==g&&n.get("GROUP_CODE")==f){B=n.data;return B}});return B},getDiagnosis:function(){var k=this.getViewModel(),g=k.get("icd10");return g.getArrayData()},getProcedures:function(){var k=this.getViewModel(),g=k.get("icd9");return g.getArrayData()},getInaDiagnosis:function(){return[]},getInaProcedures:function(){return[]},getSpecial:function(){var k=this,m=k.getProcedures(),l={procedure:"",investigation:"",prosthesis:""};Ext.Array.each(m,function(o){var f=k.getListProcedures("PROC",o.KODE,"sprocedure"),e=k.getListProcedures("PROC",o.KODE,"sinvestigation"),g=k.getListProcedures("PROC",o.KODE,"sprosthesis");if(f){l.procedure=f.CMG}if(e){l.investigation=e.CMG}if(g){l.prosthesis=g.CMG}});return l},getPenjaminRuangan:function(e,p){var o="";if(e){var q=e.REFERENSI?e.REFERENSI:null,n=q?(q.PENJAMIN_RUANGAN?q.PENJAMIN_RUANGAN:[]):[];Ext.Array.each(n,function(f){if(f.PENJAMIN==p){o=f.RUANGAN_PENJAMIN}})}return o},grouping:function(f,L){var G=this,o=G.getView(),an=G.getReferences(),am=an.formpendukung,m=am.getValues(),A=an.inacbgtipecombo.getSelection(),C=am.down("[name=DPJP]").getSelection(),u=an.kelasklaim.getSelection(),E=G.getViewModel(),al=E.get("kunjunganRawat"),B=E.get("kunjunganMasuk"),e=E.get("kunjunganKeluar"),ai=G.getDataMapInacbgSimrs(1,"SIMRS",B.get("JENIS_KUNJUNGAN"),A.get("VERSION")),g=e.get("REFERENSI")?e.get("REFERENSI"):null,M=B.get("JENIS_KUNJUNGAN")==3||B.get("JENIS_KUNJUNGAN")==2?(g?(g.PASIEN_KELUAR?g.PASIEN_KELUAR.CARA:null):null):1;if(m.NOMOR_KARTU_T==""){o.notifyMessage("Jenis Kartu tidak boleh kosong");am.focus("NOMOR_KARTU_T");return}if(al.length==0){o.notifyMessage("Belum ada transaksi penerimaan pasien di ruangan");return}if(M==null){o.notifyMessage("Pasien belum di pulangkan");return}var t=E.get("tagihanPendaftaran"),aj=E.get("pendaftaran"),n=aj?aj.get("REFERENSI"):null,z=n?n.PASIEN:null,ak=aj?aj.get("PENJAMIN"):null,x=G.getDataMapInacbgSimrs(4,"SIMRS",u.get("ID"),A.get("VERSION")),p=ak.REFERENSI?(ak.REFERENSI.KAP?ak.REFERENSI.KAP:null):null,D=aj?aj.get("TUJUAN"):null,k=G.getDataMapInacbgSimrs(2,"SIMRS",M,A.get("VERSION")),v=G.getSpecial(),I=t?o.getReferensi(t.data,"TAGIHAN"):null,s=E.get("penjaminTagihan"),K=s?(s.get("NAIK_KELAS")==1||s.get("NAIK_KELAS_VIP")==1||s.get("NAIK_DIATAS_VIP")==1?1:0):0,J=s?s.get("KELAS"):0,l=G.getDataMapInacbgSimrs(6,"SIMRS",J,A.get("VERSION")),w=s?s.get("LAMA_NAIK"):0;if(G.integrasi&&aj&&z&&ak&&p&&D&&al.length>0){if(G.service&&ak.JENIS>1){o.setLoading(true);var F=G.getDataMapInacbgSimrs(3,"SIMRS",ak.JENIS,A.get("VERSION")),H=Ext.Date.format(aj.get("TANGGAL"),"Y-m-d H:i:s"),ah=ai.INACBG==2?H:Ext.Date.format(e.get("KELUAR"),"Y-m-d H:i:s"),q=G.getDataMapInacbgSimrs(5,"SIMRS",B.get("RUANGAN"),A.get("VERSION")),y={norm:z.NORM,nm_pasien:G.getNamaLengkap(z),jns_kelamin:z.JENIS_KELAMIN,tgl_lahir:z.TANGGAL_LAHIR,jns_pbyrn:F.INACBG,no_peserta:p.NOMOR,no_sep:ak.NOMOR,jns_perawatan:ai.INACBG,kls_perawatan:ai.INACBG==2?(q?1:3):x.INACBG,tgl_masuk:H,tgl_keluar:ah?ah:"",cara_keluar:k.INACBG,dpjp:C?C.get("NAMA"):"",berat_lahir:m.BERAT_LAHIR,tarif_rs:I?Math.round(Number(I.TOTAL)):0,prosedur_non_bedah:I?Math.round(Number(I.PROSEDUR_NON_BEDAH)):0,prosedur_bedah:I?Math.round(Number(I.PROSEDUR_BEDAH)):0,konsultasi:I?Math.round(Number(I.KONSULTASI)):0,tenaga_ahli:I?Math.round(Number(I.TENAGA_AHLI)):0,keperawatan:I?Math.round(Number(I.KEPERAWATAN)):0,penunjang:I?Math.round(Number(I.PENUNJANG)):0,radiologi:I?Math.round(Number(I.RADIOLOGI)):0,laboratorium:I?Math.round(Number(I.LABORATORIUM)):0,pelayanan_darah:I?Math.round(Number(I.BANK_DARAH)):0,rehabilitasi:I?Math.round(Number(I.REHAB_MEDIK)):0,kamar:I?Math.round(Number(I.AKOMODASI)):0,rawat_intensif:I?Math.round(Number(I.AKOMODASI_INTENSIF)):0,obat:I?Math.round(Number(I.OBAT)):0,obat_kronis:I?Math.round(Number(I.OBAT_KRONIS)):0,obat_kemoterapi:I?Math.round(Number(I.OBAT_KEMOTERAPI)):0,alkes:I?Math.round(Number(I.ALKES)):0,bmhp:I?Math.round(Number(I.BMHP)):0,sewa_alat:I?Math.round(Number(I.SEWA_ALAT)):0,tarif_poli_eks:ai.INACBG==2?(q?(I?Math.round(Number(I.TOTAL)):0):0):0,srt_rujukan:1,bhp:0,severity3:0,diags:G.getDiagnosis(),procs:G.getProcedures(),adl:Number(m.ADL),adl_sub_acute:Number(m.ADL),adl_chronic:Number(m.ADL_CHRONIC),spec_proc:v.procedure,spec_dr:m.SPECIAL_DRUG,spec_inv:v.investigation,spec_prosth:v.prosthesis,nopen:aj.get("NOMOR"),user:o.app.usrid,user_nik:o.app.usrNik,status:f?1:0,kirim:L?1:0,tipe:A?A.get("ID"):0,icu_indikator:I?I.RAWAT_INTENSIF:0,icu_los:I?I.LAMA_RAWAT_INTENSIF:0,ventilator_hour:m.VENTILATOR,upgrade_class_ind:K,upgrade_class_class:l?l.INACBG:"",upgrade_class_los:w,ref:{dpjp:C?C.data:null},klaimBaru:false},ao=o.getRecord();if(F.INACBG==71){y.covid={covid19_status_cd:m.COVID19_STATUS_CD,nomor_kartu_t:m.NOMOR_KARTU_T,covid19_cc_ind:Number(m.COVID19_CC_IND),covid19_rs_darurat_ind:Number(m.COVID19_RS_DARURAT_IND),covid19_co_insidense_ind:Number(m.COVID19_CO_INSIDENSE_IND),covid19_penunjang_pengurang:{lab_asam_laktat:Number(m.LAB_ASAM_LAKTAT),lab_procalcitonin:Number(m.LAB_PROCALCITONIN),lab_crp:Number(m.LAB_CRP),lab_kultur:Number(m.LAB_KULTUR),lab_d_dimer:Number(m.LAB_D_DIMER),lab_pt:Number(m.LAB_PT),lab_aptt:Number(m.LAB_APTT),lab_waktu_pendarahan:Number(m.LAB_WAKTU_PENDARAHAN),lab_anti_hiv:Number(m.LAB_ANTI_HIV),lab_analisa_gas:Number(m.LAB_ANALISA_GAS),lab_albumin:Number(m.LAB_ALBUMIN),rad_thorax_ap_pa:Number(m.RAD_THORAX_AP_PA)},episodes:am.getEpisodes()};if(k.INACBG==4){y.covid.pemulasaraan_jenazah=m.PEMULASARAN_JENAZAH?1:0;y.covid.kantong_jenazah=m.KANTONG_JENAZAH?1:0;y.covid.peti_jenazah=m.PETI_JENAZAH?1:0;y.covid.plastik_erat=m.PLASTIK_ERAT?1:0;y.covid.desinfektan_jenazah=m.DESINFEKTAN_JENAZAH?1:0;y.covid.mobil_jenazah=m.MOBIL_JENAZAH?1:0;y.covid.desinfektan_mobil_jenazah=m.DESINFEKTAN_MOBIL_JENAZAH?1:0}}y.norm=Ext.String.leftPad(z.NORM,o.getPropertyConfig(15),"0");if(ao){ao.set("DATA",Ext.JSON.encode(y));o.save(G,{},function(P,N,O){if(O){o.setLoading(true);E.set("finalGrouping",y.status==1);G.service.grouper(y,function(S,Q,R){o.reloadHasilGrouping()})}else{o.setLoading(false)}})}else{o.setLoading(false)}}}},savePenjaminTagihan:function(e,f){var t=this,p=t.getView(),s=t.getViewModel(),q=s.get("penjaminTagihan");if(q){q.set(e);q.save({callback:function(l,k,g){if(g){p.notifyMessage(f)}}})}}},onCetak:function(l){var E=this,g=E.getView(),B=E.getViewModel(),f=E.getReferences(),A=f.inacbgtipecombo.getSelection(),D=B.get("pendaftaran"),C=D?D.get("PENJAMIN"):null,z=E.getDataMapInacbgSimrs(4,"SIMRS",C?C.KELAS:3,A.get("VERSION")),e=B.get("kunjunganRawat"),F=B.get("kunjunganMasuk");if(D&&e.length>0){var k=E.getDataMapInacbgSimrs(1,"SIMRS",F.get("JENIS_KUNJUNGAN"),A.get("VERSION")),z=l.action==0?(k.INACBG==2?3:z.INACBG):l.action;Ext.Msg.show({title:"Cetak Laporan Individual",message:"Anda ingin tampilkan?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:l,fn:function(n){var m=true;if(n==="yes"){m=false}g.cetak({NAME:"inacbg.CetakLapIndividual"+A.get("VERSION"),TYPE:m?"Word":"Pdf",EXT:m?"docx":"pdf",PARAMETER:{PNOPEN:D.get("NOMOR"),PKELAS:z,CETAK_HEADER:1},REQUEST_FOR_PRINT:m,PRINT_NAME:"CetakMR"},function(o){g.printPreview("Cetak Laporan Individual",o)})}})}},onRedistribusiTagihan:function(s){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("tagihanPendaftaran"),v=f.getReferensi(e.data,"TAGIHAN"),g=Ext.create("data.model.Tagihan",{ID:v.ID});g.set("REDISTRIBUSI",1);f.ownerCt.setLoading(true);g.animateTarget=s;g.scope=u;g.showError=true;g.save({callback:function(m,k,l){if(l){v=m.data;f.setInfoDistribusiTagihan(m.data)}f.ownerCt.setLoading(false)}})},onKlaimBaru:function(){var H=this,f=H.getView(),e=H.getReferences(),k=e.inacbgtipecombo.getSelection(),E=e.formpendukung,B=E.getValues();vm=H.getViewModel();if(B.NOMOR_KARTU_T==""){f.notifyMessage("Jenis Kartu tidak boleh kosong");E.focus("NOMOR_KARTU_T");return}var l=vm.get("pendaftaran"),m=l?l.get("REFERENSI"):null,g=m?m.PASIEN:null,C=l?l.get("PENJAMIN"):null,G=C.REFERENSI?(C.REFERENSI.KAP?C.REFERENSI.KAP:null):null;if(H.integrasi&&l&&g&&C){if(H.service&&C.JENIS>1){f.setLoading(true);var D={nomor_kartu:G.NOMOR,nomor_sep:C.NOMOR,nomor_rm:g.NORM,nama_pasien:H.getNamaLengkap(g),tgl_lahir:g.TANGGAL_LAHIR,gender:g.JENIS_KELAMIN,tipe:k?k.get("ID"):0,klaimBaru:false},F=f.getRecord();D.nomor_rm=Ext.String.leftPad(g.NORM,f.getPropertyConfig(15),"0");if(F){F.set("DATA",Ext.JSON.encode(D));H.service.klaimBaru(D,function(q,n,p){var o=n?n.data:null;if(q){if(o){if(o.metadata.code==200){f.save(H,{},function(t,s,u){vm.set("klaimBaru",false);f.setLoading(false)})}f.setLoading(false)}}else{f.setLoading(false)}})}else{f.setLoading(false)}}}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.grouping-form"],0,[plugins.inacbg.grouping,"FormController"],0));(Ext.cmd.derive("plugins.inacbg.grouping.Workspace",com.Form,{cls:"x-br-top",border:false,bodyPadding:0,layout:"fit",items:[{xtype:"grouping-form",border:false}],onLoadRecord:function(l,k){var m=l.down("grouping-form");if(plugins.inacbg){plugins.inacbg.model.Grouping.load(k.get("NOMOR"),{callback:function(g,e,f){if(f){m.loadRecord(g)}else{m.createRecord({NOPEN:k.get("NOMOR")})}}})}m.setPendaftaran(k)}},0,["grouping-workspace"],["component","box","container","panel","form","com-form","grouping-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"grouping-workspace":true},["widget.grouping-workspace"],0,[plugins.inacbg.grouping,"Workspace"],0));(Ext.cmd.derive("plugins.inacbg.grouping.hasil.Form",com.Form,{model:"plugins.inacbg.model.HasilGrouping",viewModel:{data:{formConfig:{covid19:false,covid19_meninggal:false,supportV6:false,jenisRawat:0}},formulas:{getWaktu:function(f){return Ext.util.Format.date(f("record.TANGGAL"),"d-m-Y H:i:s")},getTarifCBG:function(f){return Ext.util.Format.number(f("record.TARIFCBG"),"0,000")},getTarifAdl:function(f){return Ext.util.Format.number(f("record.TARIFSA"),"0,000")},getTarifAdlChronic:function(f){return Ext.util.Format.number(f("record.TARIFSC"),"0,000")},getTarifSpecialProcedure:function(f){return Ext.util.Format.number(f("record.TARIFSP"),"0,000")},getTarifSpecialProsthesis:function(f){return Ext.util.Format.number(f("record.TARIFSR"),"0,000")},getTarifSpecialInvestigation:function(f){return Ext.util.Format.number(f("record.TARIFSI"),"0,000")},getTarifSpecialDrug:function(f){return Ext.util.Format.number(f("record.TARIFSD"),"0,000")},getTarifPerawatan:function(f){return Ext.util.Format.number(f("record.TOP_UP_RAWAT"),"0,000")},getTarifJenazah:function(f){return Ext.util.Format.number(f("record.TOP_UP_JENAZAH"),"0,000")},getTotalTarif:function(o){var n=o("record.TOTALTARIF"),m=o("formConfig.jenisRawat"),l=o("formConfig.covid19");if(l){if(m==1){n=Number(o("record.TOP_UP_RAWAT"))+Number(o("record.TOP_UP_JENAZAH"))}if(m==0){n=0}}return Ext.util.Format.number(n,"0,000")},getTipePasien:function(g){var k=g("formConfig.jenisRawat");if(k==1){return"Rawat Inap"}if(k==2){return"Rawat Jalan"}if(k==0){return""}}}},layout:{type:"vbox",align:"stretch"},border:false,defaults:{margin:2,labelAlign:"right",labelWidth:100,readOnly:true},defaultType:"textfield",items:[{xtype:"component",style:"font-weight: bold; text-align: center; font-size: 17px",html:"Hasil Grouper E-Klaim",margin:"2 2 5 2"},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:2,labelAlign:"right",labelWidth:100,readOnly:true},defaultType:"textfield",items:[{labelWidth:100,fieldLabel:"Operator/Waktu",flex:1,emptyText:"[Operator]",bind:{value:"{record.REFERENSI.USER.NAMA}"}},{emptyText:"[Waktu]",width:150,bind:{value:"{getWaktu}"}},{fieldLabel:"Tipe Pasien",flex:1,emptyText:"[Tipe Pasien]",reference:"tipepasien",bind:"{getTipePasien}"}]},{fieldLabel:"Kode INACBG",flex:1,emptyText:"[Kode INACBG]",bind:{value:"{record.CODECBG}"}},{fieldLabel:"Deskripsi",flex:1,emptyText:"[Deskripsi]",bind:{value:"{record.REFERENSI.CODECBG.DESKRIPSI}"}},{fieldLabel:"Tarif INACBG",flex:1,emptyText:"[Tarif INACBG]",bind:{value:"{getTarifCBG}"},fieldStyle:"text-align: right"},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:2,labelAlign:"right",labelWidth:200,readOnly:true},defaultType:"textfield",items:[{fieldLabel:"Sub Acute",emptyText:"[Kode]",bind:{value:"{record.UNUSA}"}},{emptyText:"[Deskripsi Sub Acute]",flex:1,bind:{value:"{record.REFERENSI.UNUSA.DESKRIPSI}"}},{emptyText:"[Tarif Sub Acute]",width:150,bind:{value:"{getTarifAdl}"},fieldStyle:"text-align: right"}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:2,labelAlign:"right",labelWidth:200,readOnly:true},defaultType:"textfield",items:[{fieldLabel:"Chronic",emptyText:"[Kode]",bind:{value:"{record.UNUSC}"}},{emptyText:"[Deskripsi Chronic]",flex:1,bind:{value:"{record.REFERENSI.UNUSC.DESKRIPSI}"}},{emptyText:"[Tarif Chronic]",width:150,bind:{value:"{getTarifAdlChronic}"},fieldStyle:"text-align: right"}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:2,labelAlign:"right",labelWidth:200,readOnly:true},defaultType:"textfield",items:[{fieldLabel:"Special Procedur",emptyText:"[Kode]",bind:{value:"{record.UNUSP}"}},{emptyText:"[Deskripsi Special Procedure]",flex:1,bind:{value:"{record.REFERENSI.UNUSP.DESKRIPSI}"}},{emptyText:"[Tarif Special Procedure]",width:150,bind:{value:"{getTarifSpecialProcedure}"},fieldStyle:"text-align: right"}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:2,labelAlign:"right",labelWidth:200,readOnly:true},defaultType:"textfield",items:[{fieldLabel:"Special Prosthesis",emptyText:"[Kode]",bind:{value:"{record.UNUSR}"}},{emptyText:"[Deskripsi Special Prosthesis]",flex:1,bind:{value:"{record.REFERENSI.UNUSR.DESKRIPSI}"}},{emptyText:"[Tarif Special Prosthesis]",width:150,bind:{value:"{getTarifSpecialProsthesis}"},fieldStyle:"text-align: right"}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:2,labelAlign:"right",labelWidth:200,readOnly:true},defaultType:"textfield",items:[{fieldLabel:"Special Investigation",emptyText:"[Kode]",bind:{value:"{record.UNUSI}"}},{emptyText:"[Deskripsi Special Investigation]",flex:1,bind:{value:"{record.REFERENSI.UNUSI.DESKRIPSI}"}},{emptyText:"[Tarif Special Investigation]",width:150,bind:{value:"{getTarifSpecialInvestigation}"},fieldStyle:"text-align: right"}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:2,labelAlign:"right",labelWidth:200,readOnly:true},defaultType:"textfield",items:[{fieldLabel:"Special Drug",emptyText:"[Kode]",bind:{value:"{record.UNUSD}"}},{emptyText:"[Deskripsi Special Drug]",flex:1,bind:{value:"{record.REFERENSI.UNUSD.DESKRIPSI}"}},{emptyText:"[Tarif Special Drug]",width:150,bind:{value:"{getTarifSpecialDrug}"},fieldStyle:"text-align: right"}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:2,labelAlign:"right",labelWidth:200,readOnly:true},defaultType:"textfield",fieldLabel:"Perawatan COVID-19",labelWidth:200,bind:{hidden:"{!formConfig.covid19}"},items:[{emptyText:"[Deskripsi Covid-19]",flex:1,bind:{value:"{record.COVID_19_DESCRIPTION}"}},{emptyText:"[Tarif Perawatan Covid]",width:150,bind:{value:"{getTarifPerawatan}"},fieldStyle:"text-align: right"}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:2,labelAlign:"right",labelWidth:200,readOnly:true},defaultType:"textfield",fieldLabel:"Pemulasaraan Jenazah",labelWidth:200,bind:{hidden:"{!formConfig.covid19_meninggal}"},items:[{emptyText:"[Deskripsi Covid-19]",flex:1,bind:{value:"{record.COVID_19_DESCRIPTION}"}},{emptyText:"[Tarif Pemulasaraan Jenazah]",width:150,bind:{value:"{getTarifJenazah}"},fieldStyle:"text-align: right"}]},{fieldLabel:"Total Tarif",flex:1,emptyText:"[Total Tarif]",labelWidth:203,bind:{value:"{getTotalTarif}",fieldStyle:"text-align: right"}},{xtype:"component",style:"font-weight: bold; text-align: center; font-size: 17px",html:"Hasil Grouper E-Klaim V.6",margin:"25 2 5 2",bind:{hidden:"{!formConfig.supportV6}"}},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:2,labelAlign:"right",labelWidth:200,readOnly:true},defaultType:"textfield",fieldLabel:"MDC",labelWidth:200,bind:{hidden:"{!formConfig.supportV6}"},items:[{emptyText:"[Deskripsi MDC]",flex:1,bind:{value:"{record.INA_GROUPER_MDC_DESCRIPTION}"}},{emptyText:"[Nomor MDC]",width:150,bind:{value:"{record.INA_GROUPER_MDC_NUMBER}"},fieldStyle:"text-align: right"}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{margin:2,labelAlign:"right",labelWidth:200,readOnly:true},defaultType:"textfield",fieldLabel:"DRG",labelWidth:200,bind:{hidden:"{!formConfig.supportV6}"},items:[{emptyText:"[Deskripsi DRG]",flex:1,bind:{value:"{record.INA_GROUPER_DRG_DESCRIPTION}"}},{emptyText:"[Kode DRG]",width:150,bind:{value:"{record.INA_GROUPER_DRG_CODE}"},fieldStyle:"text-align: right"}]}]},0,["grouping-hasil-form"],["component","box","container","panel","form","com-form","grouping-hasil-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"grouping-hasil-form":true},["widget.grouping-hasil-form"],0,[plugins.inacbg.grouping.hasil,"Form"],0));(Ext.cmd.derive("plugins.inacbg.grouping.pendukung.Form",com.Form,{controller:"plugins-inacbg-grouping-pendukung-form",viewModel:{data:{formConfig:{covid19:false,covid19_meninggal:false,rawatInap:false,pendaftaran:undefined,pengurang:false}},formulas:{isPengurang:function(f){_return=false;if(f("formConfig.covid19")){return f("formConfig.pengurang")}return _return}}},layout:{type:"vbox",align:"stretch"},defaults:{xtype:"fieldcontainer",margin:"0 0 1 0",flex:1,layout:{type:"hbox",align:"stretch"},defaults:{labelAlign:"top",margin:"0 5 0 0",flex:1}},items:[{items:[{xtype:"combo-inacbg",fieldLabel:"Jenis Kartu di Nomor Penjamin",name:"NOMOR_KARTU_T",reference:"nomor_kartu_t",params:{JENIS:13},flex:0.5},{xtype:"textfield",fieldLabel:"Nomor Kartu Penjamin",name:"NOMOR_PENJAMIN",readOnly:true,flex:0.5},{xtype:"dokter-combo",fieldLabel:"DPJP",name:"DPJP",reference:"dpjp",allowBlank:false,params:{STATUS:1},flex:1},{xtype:"combo-inacbg",fieldLabel:"Cara Pulang",name:"CARA_PULANG",reference:"cara_pulang",params:{JENIS:9,VERSION:""},flex:0.5,readOnly:true,firstLoad:false}]},{items:[{xtype:"numberfield",fieldLabel:"Ventilator (Jam)",name:"VENTILATOR",reference:"ventilator",allowDecimals:false,minValue:1,maxValue:99999},{xtype:"numberfield",fieldLabel:"Berat Lahir",name:"BERAT_LAHIR",reference:"beratlahir",allowDecimals:false,minValue:10,maxValue:99999},{xtype:"combo-inacbg",fieldLabel:"Special Drug",name:"SPECIAL_DRUG",reference:"specialdrug",params:{JENIS:3,VERSION:""},firstLoad:false},{xtype:"combo-inacbg",fieldLabel:"ADL Sub Acute >= 43hr",name:"ADL",reference:"adl",params:{JENIS:7}},{xtype:"combo-inacbg",fieldLabel:"ADL Chronic >= 43hr",name:"ADL_CHRONIC",reference:"adl_chronic",params:{JENIS:7}}]},{items:[{xtype:"combo-inacbg",fieldLabel:"Status Covid 19",name:"COVID19_STATUS_CD",reference:"covid19_status_cd",defaultValue:1,params:{JENIS:11},listeners:{select:"onSelectStatusCovid"}},{xtype:"combo-inacbg",fieldLabel:"Komorbid / Komplikasi",name:"COVID19_CC_IND",reference:"covid19_cc_ind",defaultValue:0,params:{JENIS:14}},{xtype:"combo-inacbg",fieldLabel:"RS Darurat / Lapangan",name:"COVID19_RS_DARURAT_IND",reference:"covid19_rs_darurat_ind",defaultValue:0,params:{JENIS:15}},{xtype:"combo-inacbg",fieldLabel:"Co-Insidens",name:"COVID19_CO_INSIDENSE_IND",reference:"covid19_co_insidense_ind",defaultValue:0,params:{JENIS:16}}],bind:{hidden:"{!formConfig.covid19}"}},{xtype:"component",margin:"20 0 3 0",style:"font-style: italic; text-align: center; font-size: 14px",html:"Faktor pengurang, pilih pemeriksaan penunjang berikut yang tidak dilakukan:",bind:{hidden:"{!isPengurang}"}},{items:[{xtype:"combo-inacbg",fieldLabel:"Lab. Asam Laktat",name:"LAB_ASAM_LAKTAT",reference:"lab_asam_laktat",defaultValue:0,params:{JENIS:17}},{xtype:"combo-inacbg",fieldLabel:"Lab. Procalcitonin",name:"LAB_PROCALCITONIN",reference:"lab_procalcitonin",defaultValue:0,params:{JENIS:17}},{xtype:"combo-inacbg",fieldLabel:"Lab. CRP",name:"LAB_CRP",reference:"lab_crp",defaultValue:0,params:{JENIS:17}},{xtype:"combo-inacbg",fieldLabel:"Lab. Kultur",name:"LAB_KULTUR",reference:"lab_kultur",defaultValue:0,params:{JENIS:17}}],bind:{hidden:"{!isPengurang}"}},{items:[{xtype:"combo-inacbg",fieldLabel:"Lab. D Dimer",name:"LAB_D_DIMER",reference:"lab_d_dimer",defaultValue:0,params:{JENIS:17}},{xtype:"combo-inacbg",fieldLabel:"Lab. PT",name:"LAB_PT",reference:"lab_pt",defaultValue:0,params:{JENIS:17}},{xtype:"combo-inacbg",fieldLabel:"Lab. APTT",name:"LAB_APTT",reference:"lab_aptt",defaultValue:0,params:{JENIS:17}},{xtype:"combo-inacbg",fieldLabel:"Lab. Waktu Pendarahan",name:"LAB_WAKTU_PENDARAHAN",reference:"lab_waktu_pendarahan",defaultValue:0,params:{JENIS:17}}],bind:{hidden:"{!isPengurang}"}},{items:[{xtype:"combo-inacbg",fieldLabel:"Lab. Anti HIV",name:"LAB_ANTI_HIV",reference:"lab_anti_hiv",defaultValue:0,params:{JENIS:17}},{xtype:"combo-inacbg",fieldLabel:"Lab. Analisa Gas",name:"LAB_ANALISA_GAS",reference:"lab_analisa_gas",defaultValue:0,params:{JENIS:17}},{xtype:"combo-inacbg",fieldLabel:"Lab. Albumin",name:"LAB_ALBUMIN",reference:"lab_albumin",defaultValue:0,params:{JENIS:17}},{xtype:"combo-inacbg",fieldLabel:"Radiologi Thorax AP / PA",name:"RAD_THORAX_AP_PA",reference:"rad_thorax_ap_pa",defaultValue:0,params:{JENIS:17}}],bind:{hidden:"{!isPengurang}"}},{xtype:"component",margin:"20 0 3 0",style:"font-style: italic; text-align: center; font-size: 14px",html:"Episode Ruang Rawat:",bind:{hidden:"{!formConfig.rawatInap}"}},{xtype:"plugins-inacbg-grouping-pendukung-episodes-grid",bind:{hidden:"{!formConfig.rawatInap}"}},{xtype:"component",margin:"20 0 3 0",bind:{hidden:"{!formConfig.covid19_meninggal}"},style:"font-style: italic; text-align: center; font-size: 14px",html:"Khusus Pasien COVID-19 yang meninggal dunia:"},{bind:{hidden:"{!formConfig.covid19_meninggal}"},defaults:{xtype:"checkbox",margin:"0 10 0 0",inputValue:1,flex:1},items:[{boxLabel:"Pemulasaran Jenazah",name:"PEMULASARAN_JENAZAH"},{boxLabel:"Kantong Jenazah",name:"KANTONG_JENAZAH"},{boxLabel:"Peti Jenazah",name:"PETI_JENAZAH"},{boxLabel:"Plastik Erat",name:"PLASTIK_ERAT"},{boxLabel:"Desinfektan Jenazah",name:"DESINFEKTAN_JENAZAH"},{boxLabel:"Mobil Jenazah",name:"MOBIL_JENAZAH"},{boxLabel:"Desinfektan Mobil Jenazah",name:"DESINFEKTAN_MOBIL_JENAZAH"}]}],onLoadRecord:function(o,u){var A=o.down("[name=NOMOR_KARTU_T]"),e=o.down("[name=DPJP]"),an=o.down("[name=VENTILATOR]"),t=o.down("[name=BERAT_LAHIR]"),m=o.down("[name=SPECIAL_DRUG]"),E=o.down("[name=ADL]"),B=o.down("[name=ADL_CHRONIC]"),C=o.down("[name=COVID19_STATUS_CD]"),v=o.down("[name=COVID19_CC_IND]"),y=o.down("[name=COVID19_RS_DARURAT_IND]"),x=o.down("[name=COVID19_CO_INSIDENSE_IND]"),F=o.down("[name=LAB_ASAM_LAKTAT]"),G=o.down("[name=LAB_PROCALCITONIN]"),q=o.down("[name=LAB_CRP]"),ap=o.down("[name=LAB_KULTUR]"),p=o.down("[name=LAB_D_DIMER]"),n=o.down("[name=LAB_PT]"),k=o.down("[name=LAB_APTT]"),f=o.down("[name=LAB_WAKTU_PENDARAHAN]"),g=o.down("[name=LAB_ANTI_HIV]"),al=o.down("[name=LAB_ANALISA_GAS]"),ao=o.down("[name=LAB_ALBUMIN]"),D=o.down("[name=RAD_THORAX_AP_PA]"),ak=o.down("plugins-inacbg-grouping-pendukung-episodes");if(u){var I=u.ref?u.ref:null,am=I?(I.dpjp?Ext.create("data.model.Dokter",I.dpjp):null):null;if(am){e.getStore().add(am);e.setValue(am.get("ID"))}if(u.nomor_kartu_t){A.select(u.nomor_kartu_t)}if(u.ventilator_hour){an.setValue(u.ventilator_hour)}if(u.berat_lahir){t.setValue(u.berat_lahir)}if(u.spec_dr){m.select(u.spec_dr)}if(u.adl){E.select(u.adl)}else{E.select(0)}if(u.adl_chronic){B.select(u.adl_chronic)}else{B.select(0)}if(u.tipe){tipe=u.tipe}if(u.covid){var l=o.getViewModel(),aj=l.get("formConfig"),H=aj.pendaftaran?aj.pendaftaran:null,z=1;if(H){var ai=C.getStore(),s=Ext.Date.format(H.get("TANGGAL"),"Y-m-d");ai.each(function(J){if(s>="2020-08-15"){aj.pengurang=true;z=4;if(J.get("KODE")=="1"||J.get("KODE")=="2"){ai.remove(J)}}else{aj.pengurang=false;if(J.get("TANGGAL_BERLAKU")){ai.remove(J)}}})}if(u.covid.covid19_status_cd){C.select(u.covid.covid19_status_cd)}else{C.select(z)}if(u.covid.covid19_cc_ind){v.select(u.covid.covid19_cc_ind)}else{v.select(0)}if(u.covid.covid19_rs_darurat_ind){y.select(u.covid.covid19_rs_darurat_ind)}else{y.select(0)}if(u.covid.covid19_co_insidense_ind){x.select(u.covid.covid19_co_insidense_ind)}else{x.select(0)}if((u.covid.covid19_penunjang_pengurang)){var w=u.covid.covid19_penunjang_pengurang;if(w.lab_asam_laktat){F.select(w.lab_asam_laktat)}else{F.select(0)}if(w.lab_procalcitonin){G.select(w.lab_procalcitonin)}else{G.select(0)}if(w.lab_crp){q.select(w.lab_crp)}else{q.select(0)}if(w.lab_kultur){ap.select(w.lab_kultur)}else{ap.select(0)}if(w.lab_d_dimer){p.select(w.lab_d_dimer)}else{p.select(0)}if(w.lab_pt){n.select(w.lab_pt)}else{n.select(0)}if(w.lab_aptt){k.select(w.lab_aptt)}else{k.select(0)}if(w.lab_waktu_pendarahan){f.select(w.lab_waktu_pendarahan)}else{f.select(0)}if(w.lab_anti_hiv){g.select(w.lab_anti_hiv)}else{g.select(0)}if(w.lab_analisa_gas){al.select(w.lab_analisa_gas)}else{al.select(0)}if(w.lab_albumin){ao.select(w.lab_albumin)}else{ao.select(0)}if(w.rad_thorax_ap_pa){D.select(w.rad_thorax_ap_pa)}else{D.select(0)}}}if(ak){ak.load()}}},getEpisodes:function(){var n=this,e=n.down("plugins-inacbg-grouping-pendukung-episodes"),p=e?e.getStore():null,o="";if(p){var q=1;p.each(function(f){if(f.get("VALUE")!=""&&f.get("VALUE")!=null){o+=f.get("KODE")+";"+f.get("VALUE")+"#";q++}});o=o.substring(0,o.length-1)}return o==""?"#":o},setCaraPulang:function(k){var m=this,l=m.down("[name=CARA_PULANG]");l.select(k?k.INACBG:null)}},0,["plugins-inacbg-grouping-pendukung-form"],["component","box","container","panel","form","com-form","plugins-inacbg-grouping-pendukung-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"plugins-inacbg-grouping-pendukung-form":true},["widget.plugins-inacbg-grouping-pendukung-form"],0,[plugins.inacbg.grouping.pendukung,"Form"],0));(Ext.cmd.derive("plugins.inacbg.grouping.pendukung.FormController",Ext.app.ViewController,{onSelectStatusCovid:function(g,x){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("pendaftaran"),v=Ext.Date.format(e.get("TANGGAL"),"Y-m-d");if(x){var w=x.get("TANGGAL_BERLAKU");if(w){w=Ext.Date.format(w,"Y-m-d");if(v<w){g.select(1)}}}}},0,0,0,0,["controller.plugins-inacbg-grouping-pendukung-form"],0,[plugins.inacbg.grouping.pendukung,"FormController"],0));(Ext.cmd.derive("plugins.inacbg.grouping.pendukung.dokumen.Grid",com.Grid,{controller:"plugins-inacbg-grouping-pendukung-dokumen-grid",viewModel:{stores:{store:{type:"plugins-inacbg-grouping-pendukung-dokumen-store",queryParams:{status:1}}}},border:true,header:{padding:5,items:[{xtype:"filefield",buttonConfig:{text:"",iconCls:"x-fa fa-upload",ui:"soft-black",tooltip:"Upload Berkas",accept:".pdf"},width:32,buttonOnly:true,listeners:{change:"onUpload"}}]},hideHeaders:true,actions:{hapus:{iconCls:"x-fa fa-remove",tooltip:"Hapus Berkas",handler:"onHapus"},kirim:{iconCls:"x-fa fa-send",tooltip:"Kirim Ulang Berkas ke BPJS",handler:"onKirim"}},columns:[{dataIndex:"file_name",flex:1,renderer:"onRendererFileName"},{dataIndex:"file_id",align:"right",width:108,renderer:"onRendererBerkasId"},{dataIndex:"file_size",align:"right",width:108,renderer:"onRendererUkuran"},{text:"Status Kirim BPJS",width:138,dataIndex:"kirim_bjps",renderer:"onRendererBpjs"},{xtype:"widgetcolumn",width:170,widget:{xtype:"fieldcontainer",defaultType:"button",layout:{type:"vbox",align:"stretch"},defaults:{padding:2,margin:"0 2 1 0"},items:[{text:"Hapus Berkas",iconCls:"x-fa fa-remove",ui:"soft-red",action:0,handler:"onHapus"},{text:"Kirim Ulang ke BPJS",iconCls:"x-fa fa-send",action:1,ui:"soft-blue",handler:"onKirim"},{text:"Lihat Berkas",iconCls:"x-fa fa-open",action:2,ui:"soft-green",handler:"onView"}],onWidgetAttach:"onWidgetAttach"}}],listeners:{itemdblclick:"onItemDblClick"}},0,["plugins-inacbg-grouping-pendukung-dokumen-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-inacbg-grouping-pendukung-dokumen-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-inacbg-grouping-pendukung-dokumen-grid":true},["widget.plugins-inacbg-grouping-pendukung-dokumen-grid"],0,[plugins.inacbg.grouping.pendukung.dokumen,"Grid"],0));(Ext.cmd.derive("plugins.inacbg.grouping.pendukung.dokumen.GridController",Ext.app.ViewController,{onUpload:function(x){var v=this,w=v.getView(),f=w.getParams(),z=x.fileInputEl.dom.files;if(z.length>0){var g=new FileReader(),e=z[0],B=e.name,A=e.type,y=(e.size/1024);if(!(A=="application/pdf")){w.notifyMessage("Format file harus pdf");x.reset();return}if(y>3072){w.notifyMessage("Ukuran file tidak lebih dari 3MB");x.reset();return}w.setLoading(true);g.readAsDataURL(e);g.onload=function(l){var k=Ext.create("plugins.inacbg.grouping.pendukung.dokumen.Model",{no_klaim:f.no_klaim,file_class:w.classId,file_name:B,file_size:y,file_type:A,file_content:Ext.util.Base64.encode(l.target.result),tipe:w.tipe});k.animateTarget=x;k.scope=v;k.showError=true;k.save({callback:function(n,o,m){if(m){w.reload()}w.setLoading(false)}});delete g}}},onRendererFileName:function(o,e,n,q,p){return'<div class="thumb-wrap"><div class="thumb"><div style="font-size: 15px; padding-bottom: 25px;">Nama Berkas</div><div style="font-weight: bold; font-size: 25px; padding-bottom: 15px;">'+o+"</div></div></div>"},onRendererBerkasId:function(f,t,e,s,p){var q=Ext.util.Format.number(f,"0,000");return'<div class="thumb-wrap"><div class="thumb" style="text-align: center;"><div style="font-size: 15px; padding-bottom: 25px;">Berkas Id</div><div style="font-weight: bold; font-size: 25px; padding-bottom: 15px;">'+q+"</div></div></div>"},onRendererUkuran:function(f,t,e,s,p){var q=Ext.util.Format.number(f,"0,000");return'<div class="thumb-wrap"><div class="thumb" style="text-align: center;"><div style="font-size: 15px; padding-bottom: 25px;">Ukuran</div><div style="font-weight: bold; font-size: 25px; padding-bottom: 15px;">'+q+"</div></div></div>"},onRendererBpjs:function(o,e,n,q,p){return'<div class="thumb-wrap"><div class="thumb" style="text-align: center;"><div style="font-size: 15px; padding-bottom: 25px;">Status Kirim BPJS</div><div style="font-weight: bold; font-size: 25px; padding-bottom: 15px;">'+(o?"Terkirim":"Gagal")+"</div></div></div>"},onItemDblClick:function(m,k){var l=this.getView();l.printPreview(k.get("file_name"),webservice.location+k.serviceName+"/"+k.get("id"))},onHapus:function(o){var l=this,n=l.getView(),m=o.ownerCt.getWidgetRecord();n.showMessageBox({title:"Hapus Berkas",message:"Anda yakin ingin hapus berkas "+m.get("file_name")+" ini ?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:o,fn:function(f){if(f=="yes"){var e=m.crudState=="U"?m.clone():Ext.clone(m);e.set("status",0);e.set("tipe",n.tipe);delete e.data.REFERENSI;e.save({callback:function(g,k,q){if(q){n.notifyMessage("Data telah hapus")}n.reload()}})}}})},onKirim:function(e){var n=this,p=n.getView(),o=e.ownerCt.getWidgetRecord();var q=o.crudState=="U"?o.clone():Ext.clone(o);q.set("kirim_bpjs",1);q.set("tipe",p.tipe);delete q.data.REFERENSI;q.save({callback:function(g,k,f){if(f){p.notifyMessage("Data telah disimpan")}p.reload()}})},onView:function(l){var m=this,k=l.ownerCt.getWidgetRecord();m.onItemDblClick(l,k)},onWidgetAttach:function(l,m,k){kirim=m.down("[action=1]"),kirim.setHidden(k.get("kirim_bpjs")==1)}},0,0,0,0,["controller.plugins-inacbg-grouping-pendukung-dokumen-grid"],0,[plugins.inacbg.grouping.pendukung.dokumen,"GridController"],0));(Ext.cmd.derive("plugins.inacbg.grouping.pendukung.dokumen.Form",com.Form,{layout:{type:"vbox",align:"stretch"},defaults:{xtype:"plugins-inacbg-grouping-pendukung-dokumen-grid",margin:"0 0 3 0"},items:[{title:"Resume Medis",classId:"resume_medis"},{title:"Ruang Perawatan",classId:"ruang_rawat"},{title:"Hasil Laboratorium",classId:"laboratorium"},{title:"Hasil Radiologi",classId:"radiologi"},{title:"Hasil Penunjang Lainnya",classId:"penunjang_lain"},{title:"Resep Obat / Alkes",classId:"resep_obat"},{title:"Tagihan (Biling)",classId:"tagihan"},{title:"Kartu Identitas",classId:"kartu_identitas"},{title:"Lain - lain",classId:"lain_lain"}],onLoadRecord:function(g,k){g.items.each(function(e){e.tipe=k.get("tipe");e.setParams({no_klaim:k.get("no_klaim"),file_class:e.classId});e.load()})}},0,["plugins-inacbg-grouping-pendukung-dokumen-form"],["component","box","container","panel","form","com-form","plugins-inacbg-grouping-pendukung-dokumen-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"plugins-inacbg-grouping-pendukung-dokumen-form":true},["widget.plugins-inacbg-grouping-pendukung-dokumen-form"],0,[plugins.inacbg.grouping.pendukung.dokumen,"Form"],0));(Ext.cmd.derive("plugins.inacbg.grouping.pendukung.episodes.Grid",com.Grid,{viewModel:{stores:{store:{type:"inacbg-store",queryParams:{JENIS:12}}}},border:true,columns:[{text:"Episode Ruang Rawat",dataIndex:"DESKRIPSI",sortable:false,flex:1},{xtype:"numbercolumn",text:"Lama",dataIndex:"VALUE",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",hideTrigger:true}}],plugins:{ptype:"cellediting",clicksToEdit:1}},0,["plugins-inacbg-grouping-pendukung-episodes-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-inacbg-grouping-pendukung-episodes-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-inacbg-grouping-pendukung-episodes-grid":true},["widget.plugins-inacbg-grouping-pendukung-episodes-grid"],0,[plugins.inacbg.grouping.pendukung.episodes,"Grid"],0));(Ext.cmd.derive("plugins.inacbg.model.Grouping",data.model.Model,{serviceName:"inacbgservice/grouping",fields:[{name:"NOPEN",type:"string"},{name:"DATA"}],idProperty:"NOPEN"},0,0,0,0,0,0,[plugins.inacbg.model,"Grouping"],0));(Ext.cmd.derive("plugins.inacbg.model.HasilGrouping",data.model.Model,{serviceName:"inacbgservice/hasilgrouping",fields:[{name:"NOPEN",type:"string"},{name:"NOSEP",type:"string"},{name:"CODECBG",type:"string"},{name:"int",type:"string"},{name:"TARIFSP",type:"int"},{name:"TARIFSR",type:"int"},{name:"TARIFSI",type:"int"},{name:"TARIFSD",type:"int"},{name:"TARIFSA",type:"int"},{name:"TARIFKLS1",type:"int"},{name:"TARIFKLS2",type:"int"},{name:"TARIFKLS3",type:"int"},{name:"TOTALTARIF",type:"int"},{name:"TARIFRS",type:"int"},{name:"UNUSR",type:"string"},{name:"UNUSI",type:"string"},{name:"UNUSP",type:"string"},{name:"UNUSD",type:"string"},{name:"UNUSA",type:"string"},{name:"TANGGAL",type:"date"},{name:"USER",type:"int"},{name:"STATUS",type:"int"}],idProperty:"NOPEN"},0,0,0,0,0,0,[plugins.inacbg.model,"HasilGrouping"],0));(Ext.cmd.derive("plugins.inacbg.store.Grouping",data.store.Store,{model:"plugins.inacbg.model.Grouping"},0,0,0,0,["store.grouping-store"],0,[plugins.inacbg.store,"Grouping"],0));(Ext.cmd.derive("plugins.inacbg.store.HasilGrouping",data.store.Store,{model:"plugins.inacbg.model.HasilGrouping"},0,0,0,0,["store.hasil-grouping-store"],0,[plugins.inacbg.store,"HasilGrouping"],0));(Ext.cmd.derive("plugins.inacbg.store.Inacbg",data.store.Store,{model:"plugins.inacbg.model.Inacbg"},0,0,0,0,["store.inacbg-store"],0,[plugins.inacbg.store,"Inacbg"],0));(Ext.cmd.derive("plugins.inacbg.store.ListProcedure",data.store.Store,{model:"plugins.inacbg.model.ListProcedure"},0,0,0,0,["store.list-procedure-store"],0,[plugins.inacbg.store,"ListProcedure"],0));(Ext.cmd.derive("plugins.inacbg.store.MapInacbgSimrs",data.store.Store,{model:"plugins.inacbg.model.MapInacbgSimrs"},0,0,0,0,["store.map-inacbg-simrs-store"],0,[plugins.inacbg.store,"MapInacbgSimrs"],0));(Ext.cmd.derive("plugins.inacbg.tipe.Combo",com.Combo,{viewModel:{stores:{store:{type:"inacbg-tipe-store"}}},valueField:"ID",tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">','<div style="font-size: 12px;"><strong>Ver.{VERSION} - {NAMA}</strong></div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"Ver.{VERSION} - {NAMA}","</tpl>")},0,["inacbg-tipe-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","inacbg-tipe-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"inacbg-tipe-combo":true},["widget.inacbg-tipe-combo"],0,[plugins.inacbg.tipe,"Combo"],0));(Ext.cmd.derive("plugins.inasis.Service",Ext.Base,{scope:this,animateTarget:null,showError:true,privates:{request:function(p,g,q,o){var f=this;Ext.Ajax.request({url:webservice.location+"plugins/"+p,method:g,jsonData:q,success:function(k,e){if(Ext.isFunction(o)){o(true,Ext.JSON.decode(k.responseText),e)}},failure:function(l,k){if(f.showError){var m=Ext.JSON.decode(l.responseText),e=Ext.isObject(m.detail)?Ext.JSON.encode(m.detail):m.detail;Ext.MessageBox.show({header:{height:20},ui:"danger-red",msg:"<strong>"+l.status+" - "+l.statusText+"</strong><br/>"+e,buttons:Ext.MessageBox.OK,animateTarget:f.animateTarget,scope:f.scope,icon:"error"})}if(Ext.isFunction(o)){o(false,l,k)}}})}},getPesertaByNoKartu:function(k,g){this.request("inasis/"+k,"GET","",g)},getPersertaByNIK:function(k,g){this.request("inasis/nik/"+k,"GET","",g)},buatSEP:function(k,g){this.request("inasis","POST",k,g)},cekSEP:function(k,g){this.request("inasis/cekSEP/"+k,"GET","",g)},storeNoTransaksiDiKunjungan:function(g,e,f){var o={noSEP:g,noTrans:e};this.request("inasis/mappingDataTransaksi","POST",o,f)},updateTanggalPulang:function(g,e,f){var o={noSEP:g,tglPlg:e};this.request("inasis/updateTanggalPulang","POST",o,f)},batalkanSEP:function(e,m){var f={noSEP:e};this.request("inasis/batalkanSEP","POST",f,m)}},0,["inasiservice"],["inasiservice"],{inasiservice:true},["widget.inasiservice"],0,[plugins.inasis,"Service"],0));(Ext.cmd.derive("plugins.kemkes.Service",plugins.BaseService,{sisrute:undefined,sitt:undefined,constructor:function(){this.sisrute=Ext.create("plugins.kemkes.sisrute.Service");this.sitt=Ext.create("plugins.kemkes.sitt.Service")},getSisrute:function(){return this.sisrute},getSITT:function(){return this.sitt}},1,["kemkeservice"],["baseservice","kemkeservice"],{baseservice:true,kemkeservice:true},["widget.kemkeservice"],0,[plugins.kemkes,"Service"],0));(Ext.cmd.derive("plugins.kemkes.Workspace",com.Form,{controller:"workspace-kemkes",layout:"fit",bodyPadding:0,items:[{xtype:"com-form",ui:"panel-cyan",title:"&nbsp;Kemenkes",titleFieldConfig:{iconCls:"simpel-kemkes"},fullscreenEnabled:true,menuConfig:{enabled:true,width:190,buttonConfig:{}},fullscreenConfig:{},header:{items:[{}]}}],load:function(n){var l=this,o=this.down("com-form"),m=[];m.push({text:"Siranap",leaf:true,iconCls:"x-fa fa-bed",className:"plugins.kemkes.siranap.Tab",idClassName:"plugins-kemkes-siranap-tab"});m.push({text:"Dashboard",leaf:true,iconCls:"x-fa fa-dashboard",className:"plugins.kemkes.dashboard.Tab",idClassName:"plugins-kemkes-dashboard-tab"});o.setMenus(m)}},0,["workspace-kemkes"],["component","box","container","panel","form","com-form","workspace-kemkes"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-kemkes":true},["widget.workspace-kemkes"],0,[plugins.kemkes,"Workspace"],0));(Ext.cmd.derive("plugins.kemkes.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.workspace-kemkes"],0,[plugins.kemkes,"WorkspaceController"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.Tab",com.Tab,{controller:"plugins-kemkes-dashboard-tab",items:[{title:"Kunjungan",xtype:"plugins-kemkes-dashboard-kunjungan-grid"},{title:"Rujukan",xtype:"plugins-kemkes-dashboard-rujukan-grid"},{title:"10 Besar Penyakit Rujukan",xtype:"plugins-kemkes-dashboard-rujukan-penyakit10besar-grid"},{title:"Indikator Pelayanan",xtype:"plugins-kemkes-dashboard-indikator-grid"},{title:"10 Besar Penyakit",xtype:"plugins-kemkes-dashboard-penyakit10besar-grid"},{title:"Jumlah Kematian",xtype:"plugins-kemkes-dashboard-kematian-grid"}],load:function(){var f=this.getActiveTab();if(f){if(f.load){f.load({})}}},listeners:{tabchange:"onTabChange"}},0,["plugins-kemkes-dashboard-tab"],["component","box","container","panel","tabpanel","com-tab","plugins-kemkes-dashboard-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"plugins-kemkes-dashboard-tab":true},["widget.plugins-kemkes-dashboard-tab"],0,[plugins.kemkes.dashboard,"Tab"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.TabController",Ext.app.ViewController,{onTabChange:function(k,g){if(g.load){g.load({})}}},0,0,0,0,["controller.plugins-kemkes-dashboard-tab"],0,[plugins.kemkes.dashboard,"TabController"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.golongandarah.Grid",com.Grid,{controller:"plugins-kemkes-dashboard-golongandarah-grid",viewModel:{data:{minValue:2015,maxValue:0,defaultValue:0},stores:{store:{type:"plugins-kemkes-dashboard-golongandarah-store"}}},firstLoad:true,initComponent:function(){com.Grid.prototype.initComponent.apply(this,arguments);var m=this.getViewModel(),k=Ext.Date.format(this.getSysdate(),"Y"),l=this.down("[name=BULAN]");m.set("defaultValue",k);m.set("maxValue",k);l.setDefaultValue(Number(Ext.Date.format(this.getSysdate(),"m")));l.load()},columns:[{xtype:"templatecolumn",text:"Id",sortable:false,tpl:"{REF_ID_KEMKES}",flex:1,summaryRenderer:"onSummaryRenderId"},{xtype:"templatecolumn",text:"Kode",sortable:false,tpl:"{REFERENSI.KODE.DESKRIPSI}",width:100},{xtype:"numbercolumn",text:"Jumlah",dataIndex:"JUMLAH_PASIEN",format:"#,###",sortable:false,align:"right",width:83,summaryType:"sum"},{xtype:"datecolumn",format:"d-m-Y H:i:s",text:"Tgl. Update",dataIndex:"TANGGAL_UPDATED",sortable:false,width:140,align:"center"},{xtype:"templatecolumn",text:"Kirim",sortable:false,align:"center",width:72,tpl:new Ext.XTemplate("{[this.getStatus(values.KIRIM)]}",{getStatus:function(f){return f==1?"Proses":"Selesai"}})}],features:[{ftype:"summary",dock:"bottom"}],dockedItems:[{xtype:"toolbar",items:["->",{xtype:"numberfield",fieldLabel:"Tahun",name:"TAHUN",labelWidth:50,width:150,editable:false,bind:{minValue:"{minValue}",maxValue:"{maxValue}",value:"{defaultValue}"},listeners:{change:"onChangeTahun"}},{xtype:"referensi-combo",fieldLabel:"Bulan",labelWidth:50,name:"BULAN",params:{JENIS:83,STATUS:1},listeners:{select:"onSelectBulan"}}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){w.firstLoad=false;try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-kemkes-dashboard-golongandarah-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-dashboard-golongandarah-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-dashboard-golongandarah-grid":true},["widget.plugins-kemkes-dashboard-golongandarah-grid"],0,[plugins.kemkes.dashboard.golongandarah,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.golongandarah.GridController",Ext.app.ViewController,{onSummaryRenderId:function(k,l,m){return"Total"},onChangeTahun:function(l,k,m){this.cari()},onSelectBulan:function(g,k){this.cari()},privates:{cari:function(){var e=this,p=e.getView(),q=p.down("pagingtoolbar"),n=p.down("[name=TAHUN]").getValue(),o=p.down("[name=BULAN]").getSelection();if(p.firstLoad){return}if(o){p.setParams({TAHUN:n,BULAN:o.get("ID")});if(q){q.moveFirst()}else{p.load()}}}}},0,0,0,0,["controller.plugins-kemkes-dashboard-golongandarah-grid"],0,[plugins.kemkes.dashboard.golongandarah,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.indikator.Grid",com.Grid,{controller:"plugins-kemkes-dashboard-indikator-grid",viewModel:{data:{minValue:2015,maxValue:0,defaultValue:0},stores:{store:{type:"plugins-kemkes-dashboard-indikator-store"}}},firstLoad:true,initComponent:function(){com.Grid.prototype.initComponent.apply(this,arguments);var g=this.getViewModel(),k=Ext.Date.format(this.getSysdate(),"Y");g.set("defaultValue",k);g.set("maxValue",k)},columns:[{xtype:"templatecolumn",text:"Id",sortable:false,tpl:"{REF_ID_KEMKES}",flex:1},{xtype:"templatecolumn",text:"Periode",sortable:false,tpl:"{REFERENSI.PERIODE.DESKRIPSI}",width:100},{text:"Indikator",columns:[{xtype:"numbercolumn",text:"BOR",dataIndex:"BOR",format:"#,###.##",sortable:false,align:"right",width:83},{xtype:"numbercolumn",text:"ALOS",dataIndex:"ALOS",format:"#,###.##",sortable:false,align:"right",width:83},{xtype:"numbercolumn",text:"BTO",dataIndex:"BTO",format:"#,###.##",sortable:false,align:"right",width:83},{xtype:"numbercolumn",text:"TOI",dataIndex:"TOI",format:"#,###.##",sortable:false,align:"right",width:83},{xtype:"numbercolumn",text:"NDR",dataIndex:"NDR",format:"#,###.##",sortable:false,align:"right",width:83},{xtype:"numbercolumn",text:"GDR",dataIndex:"GDR",format:"#,###.##",sortable:false,align:"right",width:83}]},{xtype:"datecolumn",format:"d-m-Y H:i:s",text:"Tgl. Update",dataIndex:"TANGGAL_UPDATED",sortable:false,width:140,align:"center"},{xtype:"templatecolumn",text:"Kirim",sortable:false,align:"center",width:72,tpl:new Ext.XTemplate("{[this.getStatus(values.KIRIM)]}",{getStatus:function(f){return f==1?"Proses":"Selesai"}})}],dockedItems:[{xtype:"toolbar",items:["->",{xtype:"numberfield",fieldLabel:"Tahun",name:"TAHUN",labelWidth:50,width:150,editable:false,bind:{minValue:"{minValue}",maxValue:"{maxValue}",value:"{defaultValue}"},listeners:{change:"onChangeTahun"}},{xtype:"combo",fieldLabel:"Jenis",labelWidth:50,displayField:"DESKRIPSI",valueField:"ID",editable:false,name:"JENIS",value:1,store:Ext.create("Ext.data.Store",{fields:["ID","DESKRIPSI"],data:[{ID:1,DESKRIPSI:"BULANAN"},{ID:2,DESKRIPSI:"TRIWULAN"},{ID:3,DESKRIPSI:"TAHUNAN"}]}),listeners:{select:"onSelectJenis"}}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){w.firstLoad=false;try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-kemkes-dashboard-indikator-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-dashboard-indikator-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-dashboard-indikator-grid":true},["widget.plugins-kemkes-dashboard-indikator-grid"],0,[plugins.kemkes.dashboard.indikator,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.indikator.GridController",Ext.app.ViewController,{onChangeTahun:function(l,k,m){this.cari()},onSelectJenis:function(g,k){this.cari()},privates:{cari:function(){var e=this,p=e.getView(),q=p.down("pagingtoolbar"),n=p.down("[name=TAHUN]").getValue(),o=p.down("[name=JENIS]").getSelection();if(p.firstLoad){return}if(o){p.setParams({TAHUN:n,JENIS:o.get("ID")});if(q){q.moveFirst()}else{p.load()}}}}},0,0,0,0,["controller.plugins-kemkes-dashboard-indikator-grid"],0,[plugins.kemkes.dashboard.indikator,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.kematian.Grid",com.Grid,{controller:"plugins-kemkes-dashboard-kematian-grid",viewModel:{data:{minValue:2015,maxValue:0,defaultValue:0},stores:{store:{type:"plugins-kemkes-dashboard-kematian-store"}}},firstLoad:true,initComponent:function(){com.Grid.prototype.initComponent.apply(this,arguments);var g=this.getViewModel(),k=Ext.Date.format(this.getSysdate(),"Y");g.set("defaultValue",k);g.set("maxValue",k)},columns:[{xtype:"templatecolumn",text:"Id",sortable:false,tpl:"{REF_ID_KEMKES}",flex:1},{xtype:"templatecolumn",text:"Bulan",sortable:false,tpl:"{REFERENSI.BULAN.DESKRIPSI}",width:100},{text:"Konten",dataIndex:"KONTEN",sortable:false,flex:1},{xtype:"datecolumn",format:"d-m-Y H:i:s",text:"Tgl. Update",dataIndex:"TANGGAL_UPDATED",sortable:false,width:140,align:"center"},{xtype:"templatecolumn",text:"Kirim",sortable:false,align:"center",width:72,tpl:new Ext.XTemplate("{[this.getStatus(values.KIRIM)]}",{getStatus:function(f){return f==1?"Proses":"Selesai"}})}],dockedItems:[{xtype:"toolbar",items:["->",{xtype:"numberfield",fieldLabel:"Tahun",name:"TAHUN",labelWidth:50,width:150,editable:false,bind:{minValue:"{minValue}",maxValue:"{maxValue}",value:"{defaultValue}"},listeners:{change:"onChangeTahun"}}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){w.firstLoad=false;try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-kemkes-dashboard-kematian-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-dashboard-kematian-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-dashboard-kematian-grid":true},["widget.plugins-kemkes-dashboard-kematian-grid"],0,[plugins.kemkes.dashboard.kematian,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.kematian.GridController",Ext.app.ViewController,{onChangeTahun:function(l,k,m){this.cari()},privates:{cari:function(){var l=this,n=l.getView(),o=n.down("pagingtoolbar"),m=n.down("[name=TAHUN]").getValue();if(n.firstLoad){return}n.setParams({TAHUN:m});if(o){o.moveFirst()}else{n.load()}}}},0,0,0,0,["controller.plugins-kemkes-dashboard-kematian-grid"],0,[plugins.kemkes.dashboard.kematian,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.kunjungan.Grid",com.Grid,{controller:"plugins-kemkes-dashboard-kunjungan-grid",viewModel:{data:{minValue:2015,maxValue:0,defaultValue:0},stores:{store:{type:"plugins-kemkes-dashboard-kunjungan-store"}}},firstLoad:true,initComponent:function(){com.Grid.prototype.initComponent.apply(this,arguments);var m=this.getViewModel(),k=Ext.Date.format(this.getSysdate(),"Y"),l=this.down("[name=BULAN]");m.set("defaultValue",k);m.set("maxValue",k);l.setDefaultValue(Number(Ext.Date.format(this.getSysdate(),"m")));l.load()},columns:[{xtype:"templatecolumn",text:"Id",sortable:false,tpl:"{REF_ID_KEMKES}",flex:1,summaryRenderer:"onSummaryRenderId"},{xtype:"datecolumn",format:"d-m-Y",text:"Tanggal",dataIndex:"TANGGAL",sortable:false,width:88,align:"center"},{text:"Rawat",columns:[{xtype:"numbercolumn",text:"Jalan",dataIndex:"RJ",format:"#,###",sortable:false,align:"right",width:68,summaryType:"sum"},{xtype:"numbercolumn",text:"Darurat",dataIndex:"RD",format:"#,###",sortable:false,align:"right",width:83,summaryType:"sum"},{xtype:"numbercolumn",text:"Inap",dataIndex:"RI",format:"#,###",sortable:false,align:"right",width:66,summaryType:"sum"}]},{xtype:"datecolumn",format:"d-m-Y H:i:s",text:"Tgl. Update",dataIndex:"TANGGAL_UPDATED",sortable:false,width:140,align:"center"},{xtype:"templatecolumn",text:"Kirim",sortable:false,align:"center",width:72,tpl:new Ext.XTemplate("{[this.getStatus(values.KIRIM)]}",{getStatus:function(f){return f==1?"Proses":"Selesai"}})}],features:[{ftype:"summary",dock:"bottom"}],dockedItems:[{xtype:"toolbar",items:["->",{xtype:"numberfield",fieldLabel:"Tahun",name:"TAHUN",labelWidth:50,width:150,editable:false,bind:{minValue:"{minValue}",maxValue:"{maxValue}",value:"{defaultValue}"},listeners:{change:"onChangeTahun"}},{xtype:"referensi-combo",fieldLabel:"Bulan",labelWidth:50,name:"BULAN",params:{JENIS:83,STATUS:1},listeners:{select:"onSelectBulan"}}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){w.firstLoad=false;try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-kemkes-dashboard-kunjungan-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-dashboard-kunjungan-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-dashboard-kunjungan-grid":true},["widget.plugins-kemkes-dashboard-kunjungan-grid"],0,[plugins.kemkes.dashboard.kunjungan,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.kunjungan.GridController",Ext.app.ViewController,{onSummaryRenderId:function(k,l,m){return"Total Kunjungan"},onChangeTahun:function(l,k,m){this.cari()},onSelectBulan:function(g,k){this.cari()},privates:{cari:function(){var e=this,p=e.getView(),q=p.down("pagingtoolbar"),n=p.down("[name=TAHUN]").getValue(),o=p.down("[name=BULAN]").getSelection();if(p.firstLoad){return}if(o){p.setParams({TAHUN:n,BULAN:o.get("ID")});if(q){q.moveFirst()}else{p.load()}}}}},0,0,0,0,["controller.plugins-kemkes-dashboard-kunjungan-grid"],0,[plugins.kemkes.dashboard.kunjungan,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.penyakit10besar.Grid",com.Grid,{controller:"plugins-kemkes-dashboard-penyakit10besar-grid",viewModel:{data:{minValue:2015,maxValue:0,defaultValue:0},stores:{store:{type:"plugins-kemkes-dashboard-penyakit10besar-store"}}},firstLoad:true,initComponent:function(){com.Grid.prototype.initComponent.apply(this,arguments);var g=this.getViewModel(),k=Ext.Date.format(this.getSysdate(),"Y");g.set("defaultValue",k);g.set("maxValue",k)},columns:[{xtype:"templatecolumn",text:"Id",sortable:false,tpl:"{REF_ID_KEMKES}",flex:1},{xtype:"templatecolumn",text:"Bulan",sortable:false,tpl:"{REFERENSI.BULAN.DESKRIPSI}",width:100},{text:"Konten",dataIndex:"KONTEN",sortable:false,flex:1},{xtype:"datecolumn",format:"d-m-Y H:i:s",text:"Tgl. Update",dataIndex:"TANGGAL_UPDATED",sortable:false,width:140,align:"center"},{xtype:"templatecolumn",text:"Kirim",sortable:false,align:"center",width:72,tpl:new Ext.XTemplate("{[this.getStatus(values.KIRIM)]}",{getStatus:function(f){return f==1?"Proses":"Selesai"}})}],dockedItems:[{xtype:"toolbar",items:["->",{xtype:"numberfield",fieldLabel:"Tahun",name:"TAHUN",labelWidth:50,width:150,editable:false,bind:{minValue:"{minValue}",maxValue:"{maxValue}",value:"{defaultValue}"},listeners:{change:"onChangeTahun"}},{xtype:"combo",fieldLabel:"Jenis",labelWidth:50,displayField:"DESKRIPSI",valueField:"ID",editable:false,name:"JENIS",value:1,store:Ext.create("Ext.data.Store",{fields:["ID","DESKRIPSI"],data:[{ID:1,DESKRIPSI:"Rawat Inap"},{ID:2,DESKRIPSI:"Rawat Jalan"}]}),listeners:{select:"onSelectJenis"}}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){w.firstLoad=false;try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-kemkes-dashboard-penyakit10besar-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-dashboard-penyakit10besar-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-dashboard-penyakit10besar-grid":true},["widget.plugins-kemkes-dashboard-penyakit10besar-grid"],0,[plugins.kemkes.dashboard.penyakit10besar,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.penyakit10besar.GridController",Ext.app.ViewController,{onChangeTahun:function(l,k,m){this.cari()},onSelectJenis:function(g,k){this.cari()},privates:{cari:function(){var e=this,p=e.getView(),q=p.down("pagingtoolbar"),n=p.down("[name=TAHUN]").getValue(),o=p.down("[name=JENIS]").getSelection();if(p.firstLoad){return}if(o){p.setParams({TAHUN:n,JENIS:o.get("ID")});if(q){q.moveFirst()}else{p.load()}}}}},0,0,0,0,["controller.plugins-kemkes-dashboard-penyakit10besar-grid"],0,[plugins.kemkes.dashboard.penyakit10besar,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.rujukan.Grid",com.Grid,{controller:"plugins-kemkes-dashboard-rujukan-grid",viewModel:{data:{minValue:2015,maxValue:0,defaultValue:0},stores:{store:{type:"plugins-kemkes-dashboard-rujukan-store"}}},firstLoad:true,initComponent:function(){com.Grid.prototype.initComponent.apply(this,arguments);var m=this.getViewModel(),k=Ext.Date.format(this.getSysdate(),"Y"),l=this.down("[name=BULAN]");m.set("defaultValue",k);m.set("maxValue",k);l.setDefaultValue(Number(Ext.Date.format(this.getSysdate(),"m")));l.load()},columns:[{xtype:"templatecolumn",text:"Id",sortable:false,tpl:"{REF_ID_KEMKES}",flex:1,summaryRenderer:"onSummaryRenderId"},{xtype:"datecolumn",format:"d-m-Y",text:"Tanggal",dataIndex:"TANGGAL",sortable:false,width:88,align:"center"},{text:"Jumlah",columns:[{xtype:"numbercolumn",text:"Masuk",dataIndex:"MASUK",format:"#,###",sortable:false,align:"right",width:83,summaryType:"sum"},{xtype:"numbercolumn",text:"Keluar",dataIndex:"KELUAR",format:"#,###",sortable:false,align:"right",width:83,summaryType:"sum"},{xtype:"numbercolumn",text:"Balik",dataIndex:"BALIK",format:"#,###",sortable:false,align:"right",width:83,summaryType:"sum"}]},{xtype:"datecolumn",format:"d-m-Y H:i:s",text:"Tgl. Update",dataIndex:"TANGGAL_UPDATED",sortable:false,width:140,align:"center"},{xtype:"templatecolumn",text:"Kirim",sortable:false,align:"center",width:72,tpl:new Ext.XTemplate("{[this.getStatus(values.KIRIM)]}",{getStatus:function(f){return f==1?"Proses":"Selesai"}})}],features:[{ftype:"summary",dock:"bottom"}],dockedItems:[{xtype:"toolbar",items:["->",{xtype:"numberfield",fieldLabel:"Tahun",name:"TAHUN",labelWidth:50,width:150,editable:false,bind:{minValue:"{minValue}",maxValue:"{maxValue}",value:"{defaultValue}"},listeners:{change:"onChangeTahun"}},{xtype:"referensi-combo",fieldLabel:"Bulan",labelWidth:50,name:"BULAN",params:{JENIS:83,STATUS:1},listeners:{select:"onSelectBulan"}}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){w.firstLoad=false;try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-kemkes-dashboard-rujukan-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-dashboard-rujukan-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-dashboard-rujukan-grid":true},["widget.plugins-kemkes-dashboard-rujukan-grid"],0,[plugins.kemkes.dashboard.rujukan,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.rujukan.GridController",Ext.app.ViewController,{onSummaryRenderId:function(k,l,m){return"Total Rujukan"},onChangeTahun:function(l,k,m){this.cari()},onSelectBulan:function(g,k){this.cari()},privates:{cari:function(){var e=this,p=e.getView(),q=p.down("pagingtoolbar"),n=p.down("[name=TAHUN]").getValue(),o=p.down("[name=BULAN]").getSelection();if(p.firstLoad){return}if(o){p.setParams({TAHUN:n,BULAN:o.get("ID")});if(q){q.moveFirst()}else{p.load()}}}}},0,0,0,0,["controller.plugins-kemkes-dashboard-rujukan-grid"],0,[plugins.kemkes.dashboard.rujukan,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.rujukan.penyakit10besar.Grid",com.Grid,{controller:"plugins-kemkes-dashboard-rujukan-penyakit10besar-grid",viewModel:{data:{minValue:2015,maxValue:0,defaultValue:0},stores:{store:{type:"plugins-kemkes-dashboard-rujukan-penyakit10besar-store"}}},firstLoad:true,initComponent:function(){com.Grid.prototype.initComponent.apply(this,arguments);var g=this.getViewModel(),k=Ext.Date.format(this.getSysdate(),"Y");g.set("defaultValue",k);g.set("maxValue",k)},columns:[{xtype:"templatecolumn",text:"Id",sortable:false,tpl:"{REF_ID_KEMKES}",flex:1},{xtype:"templatecolumn",text:"Bulan",sortable:false,tpl:"{REFERENSI.BULAN.DESKRIPSI}",width:100},{text:"Konten",dataIndex:"KONTEN",sortable:false,flex:1},{xtype:"datecolumn",format:"d-m-Y H:i:s",text:"Tgl. Update",dataIndex:"TANGGAL_UPDATED",sortable:false,width:140,align:"center"},{xtype:"templatecolumn",text:"Kirim",sortable:false,align:"center",width:72,tpl:new Ext.XTemplate("{[this.getStatus(values.KIRIM)]}",{getStatus:function(f){return f==1?"Proses":"Selesai"}})}],dockedItems:[{xtype:"toolbar",items:["->",{xtype:"numberfield",fieldLabel:"Tahun",name:"TAHUN",labelWidth:50,width:150,editable:false,bind:{minValue:"{minValue}",maxValue:"{maxValue}",value:"{defaultValue}"},listeners:{change:"onChangeTahun"}},{xtype:"combo",fieldLabel:"Jenis",labelWidth:50,displayField:"DESKRIPSI",valueField:"ID",editable:false,name:"JENIS",value:1,store:Ext.create("Ext.data.Store",{fields:["ID","DESKRIPSI"],data:[{ID:1,DESKRIPSI:"Dirujuk"},{ID:2,DESKRIPSI:"Rujukan"}]}),listeners:{select:"onSelectJenis"}}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],doAfterLoad:function(w,t,g,v){w.firstLoad=false;try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-kemkes-dashboard-rujukan-penyakit10besar-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-dashboard-rujukan-penyakit10besar-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-dashboard-rujukan-penyakit10besar-grid":true},["widget.plugins-kemkes-dashboard-rujukan-penyakit10besar-grid"],0,[plugins.kemkes.dashboard.rujukan.penyakit10besar,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.dashboard.rujukan.penyakit10besar.GridController",Ext.app.ViewController,{onChangeTahun:function(l,k,m){this.cari()},onSelectJenis:function(g,k){this.cari()},privates:{cari:function(){var e=this,p=e.getView(),q=p.down("pagingtoolbar"),n=p.down("[name=TAHUN]").getValue(),o=p.down("[name=JENIS]").getSelection();if(p.firstLoad){return}if(o){p.setParams({TAHUN:n,JENIS:o.get("ID")});if(q){q.moveFirst()}else{p.load()}}}}},0,0,0,0,["controller.plugins-kemkes-dashboard-rujukan-penyakit10besar-grid"],0,[plugins.kemkes.dashboard.rujukan.penyakit10besar,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.dashboard.Grid",com.Grid,{controller:"plugins-kemkes-rsonline-dashboard-grid",viewModel:{data:{autoRefreshConfig:{enable:true,interval:15}},stores:{store:{type:"plugins-kemkes-rsonline-pasien-store",queryParams:{statistik:1}}}},viewConfig:{loadMask:false},hideHeaders:true,columns:[{flex:1,renderer:"onRendererDeskripsi"},{width:140,renderer:"onRenderer"},{width:140,renderer:"onRenderer"},{width:140,renderer:"onRenderer"},{width:140,renderer:"onRenderer"},{width:140,renderer:"onRenderer"},{width:140,renderer:"onRenderer"}],keyMapEnabled:true,keyMap:{"CTRL+SHIFT+Q":"onShowConfig"},doAfterLoad:function(t,q,f,p){var s=this.getViewModel(),e=s.get("autoRefreshConfig");if(t.task==undefined){t.task={run:function(){var g=s.get("autoRefreshConfig");t.task.interval=(g.interval*60)*1000;if(g.enable){t.reload()}},interval:(e.interval*60)*1000};(new Ext.util.DelayedTask(function(){Ext.TaskManager.start(t.task)})).delay((e.interval*60)*1000)}},destroy:function(){var f=this;if(f.task){Ext.TaskManager.stop(f.task)}f.callParent()}},0,["plugins-kemkes-rsonline-dashboard-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-rsonline-dashboard-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-rsonline-dashboard-grid":true},["widget.plugins-kemkes-rsonline-dashboard-grid"],0,[plugins.kemkes.rsonline.dashboard,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.dashboard.GridController",Ext.app.ViewController,{onRendererDeskripsi:function(o,e,n){var p=["#dc3545","#ffc107","#28a745","#3279a2"],q=p[n.get("ID")-1];return'<div class="thumb-wrap" style="padding: 15px"><div class="thumb"><div style="font-weight: bold; font-size: 45px; color: '+q+';">'+n.get("JUDUL")+'</div><div style="font-size: 20px; white-space:normal !important; padding-top: 25px; color: #888">('+n.get("DESKRIPSI")+")</div></div></div>"},propertyItems:[{color:"#4c4c4c",judul:"Total",field:"TOTAL"},{color:"#595e90",judul:"Dirawat",field:"DIRAWAT"},{color:"#3c938b",judul:"Sembuh",field:"SEMBUH"},{color:"#d43619",judul:"Meninggal",field:"MENINGGAL"},{color:"#3279a2",judul:"Isolasi Mandiri",field:"ISOLASI"},{color:"#d05a44",judul:"Dirujuk",field:"DIRUJUK"}],onRenderer:function(e,u,v,t,f){var s=this.propertyItems[f-1],g=Ext.util.Format.number(v.get(s.field),"0,000");u.tdStyle="background: "+s.color;return'<div class="thumb-wrap"><div class="thumb" style="text-align: center; color: white;"><div style="font-size: 15px; padding-bottom: 25px;">'+s.judul+'</div><div style="font-weight: bold; font-size: 45px; padding-bottom: 30px;">'+g+"</div></div></div>"},onShowConfig:function(){var n=this,p=n.getView(),e=n.getViewModel(),q=e.get("autoRefreshConfig");var o=p.openWindow({maximized:false,header:false,width:400,height:220,border:false,items:[{xtype:"com-form",showCloseButton:true,iconCls:"x-fa fa-setting",bodyPadding:15,title:"Pengaturan Otomatis Perbaharui",layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 0 1 0"},items:[{xtype:"checkbox",fieldLabel:"Hidupkan?",value:q.enable,inputValue:1,name:"hidupkan"},{xtype:"numberfield",labelAlign:"top",fieldLabel:"Interval dalam Menit",hideTrigger:true,minValue:1,value:q.interval,name:"interval"}],buttons:[{text:"Ok",handler:function(){var f=o.down("com-form").getForm().getValues();q.enable=f.hidupkan?true:false;q.interval=f.interval;o.close()}}]}]})}},0,0,0,0,["controller.plugins-kemkes-rsonline-dashboard-grid"],0,[plugins.kemkes.rsonline.dashboard,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.kebutuhan.apd.Grid",com.Grid,{controller:"plugins-kemkes-rsonline-data-kebutuhan-apd-grid",viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-data-kebutuhan-apd-store"},ttStore:{type:"plugins-kemkes-rsonline-referensi-kebutuhan-apd-store",queryParams:{loadFromWs:1}},storeKirim:{type:"plugins-kemkes-rsonline-data-kebutuhan-apd-store"}}},plugins:{ptype:"cellediting",clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit"}},initComponent:function(){var f=this;f.columns=[{xtype:"templatecolumn",text:"Item",sortable:false,tpl:"{REFERENSI.KebutuhanAPD.kebutuhan}",flex:1},{xtype:"numbercolumn",text:"Ketersediaan",dataIndex:"jumlah_eksisting",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Kebutuhan",dataIndex:"jumlah",format:"###",sortable:false,align:"right",width:176,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Diterima",dataIndex:"jumlah_diterima",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Sisa",format:"###",sortable:false,align:"right",width:132,renderer:"onRendererSisa"},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"}];f.callParent(arguments)},dockedItems:[{xtype:"toolbar",items:[{ui:"soft-blue",iconCls:"x-fa fa-refresh",text:"1. Ambil Data Referensi",handler:"loadDataReferensi",bind:{hidden:"{!listConfig.referensi}"}},{ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"2. Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},"->",{ui:"soft-blue",iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan",bind:{hidden:"{!listConfig.simpan}"}},{ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]}],doAfterLoad:function(y,f,v,t){var z=y.getParams().loadFromWs;y.setParams({loadFromWs:0});try{if(!v){if(z!=1){y.removeDataStore()}if(t.error){var u=t.error.response,g=Ext.JSON.decode(u.responseText),w=g.detail?(Ext.isObject(g.detail)?Ext.JSON.encode(g.detail):g.detail):"Koneksi Gagal";y.notifyMessage(y.replaceAll(w,"#","<br/>"),"danger-red")}}}catch(x){y.notifyMessage("Koneksi Gagal","danger-red")}},onBeforeLoad:function(e,u,g){var v=e.app.xpriv("191901010401",false),t=e.app.xpriv("191901010402",false),f=e.app.xpriv("191901010403",false),s=e.app.xpriv("191901010404",false);e.setListConfig({referensi:v,dataOnline:t,simpan:f,kirim:s})}},0,["plugins-kemkes-rsonline-data-kebutuhan-apd-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-rsonline-data-kebutuhan-apd-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-rsonline-data-kebutuhan-apd-grid":true},["widget.plugins-kemkes-rsonline-data-kebutuhan-apd-grid"],0,[plugins.kemkes.rsonline.data.kebutuhan.apd,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.kebutuhan.apd.GridController",Ext.app.ViewController,{onRendererSisa:function(f,v,e,g,u,s){var t=e.get("jumlah")-e.get("jumlah_diterima");return t<0?0:t},loadDataReferensi:function(e){var o=this,p=o.getView(),n=o.getViewModel(),q=n.get("ttStore");if(q){q.load({callback:function(l,g,k){if(k){p.notifyMessage("Data Referensi berhasil di ambil dari RS Online");o.onRefresh()}else{if(g.error){var f=g.error.response,t=Ext.JSON.decode(f.responseText),m=t.detail?(Ext.isObject(t.detail)?Ext.JSON.encode(t.detail):t.detail):"Koneksi Gagal";p.notifyMessage(p.replaceAll(m,"#","<br/>"),"danger-red")}}}})}},loadFromRsOnline:function(k){var g=this.getView();g.setParams({loadFromWs:1});this.onRefresh()},onSimpan:function(e){var n=this,q=n.getStore("store"),o=q.getModifiedRecords(),p=0;Ext.Array.each(o,function(f){var g=f.crudState=="U"?f.clone():Ext.clone(f);delete g.data.REFERENSI;g.save({callback:function(k,l,m){if(m){if(p===(o.length-1)){n.getView().notifyMessage("Data telah disimpan")}}p++}})});n.onRefresh()},kirimKeRsOnline:function(){var m=this,n=m.getView(),l=m.getViewModel(),o=l.get("storeKirim");if(o){o.setQueryParams({kirim:1});o.load({callback:function(t,k,f){if(f){var g=k.getResponse(),e=Ext.JSON.decode(g.responseText);n.notifyMessage(n.replaceAll(e.detail,"#","<br/>"))}else{if(k.error){var g=k.error.response,v=Ext.JSON.decode(g.responseText),u=v.detail?(Ext.isObject(v.detail)?Ext.JSON.encode(v.detail):v.detail):"Koneksi Gagal";n.notifyMessage(n.replaceAll(u,"#","<br/>"),"danger-red")}}}})}},onBeforeEdit:function(n,q){var o=this,e=o.getViewModel(),p=e.get("listConfig");if(!p.simpan){q.cancel=true}},onRefresh:function(){this.getView().reload()},onRenderer:function(e,u,v,t,s,g,f){u.tdStyle=v.get("kirim")==1?"color: green; font-weight: bold":"";return v.get("kirim")==1?"Proses":"Selesai"}},0,0,0,0,["controller.plugins-kemkes-rsonline-data-kebutuhan-apd-grid"],0,[plugins.kemkes.rsonline.data.kebutuhan.apd,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.kebutuhan.sdm.Grid",com.Grid,{controller:"plugins-kemkes-rsonline-data-kebutuhan-sdm-grid",viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-data-kebutuhan-sdm-store"},ttStore:{type:"plugins-kemkes-rsonline-referensi-kebutuhan-sdm-store",queryParams:{loadFromWs:1}},storeKirim:{type:"plugins-kemkes-rsonline-data-kebutuhan-sdm-store"}}},plugins:{ptype:"cellediting",clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit"}},initComponent:function(){var f=this;f.columns=[{xtype:"templatecolumn",text:"Deskripsi",sortable:false,tpl:"{REFERENSI.KebutuhanSDM.kebutuhan}",flex:1},{xtype:"numbercolumn",text:"Eksisting",dataIndex:"jumlah_eksisting",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Kebutuhan",dataIndex:"jumlah",format:"###",sortable:false,align:"right",width:176,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Diterima",dataIndex:"jumlah_diterima",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Sisa",format:"###",sortable:false,align:"right",width:132,renderer:"onRendererSisa"},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"}];f.callParent(arguments)},dockedItems:[{xtype:"toolbar",items:[{ui:"soft-blue",iconCls:"x-fa fa-refresh",text:"1. Ambil Data Referensi",handler:"loadDataReferensi",bind:{hidden:"{!listConfig.referensi}"}},{ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"2. Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},"->",{ui:"soft-blue",iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan",bind:{hidden:"{!listConfig.simpan}"}},{ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]}],doAfterLoad:function(y,f,v,t){var z=y.getParams().loadFromWs;y.setParams({loadFromWs:0});try{if(!v){if(z!=1){y.removeDataStore()}if(t.error){var u=t.error.response,g=Ext.JSON.decode(u.responseText),w=g.detail?(Ext.isObject(g.detail)?Ext.JSON.encode(g.detail):g.detail):"Koneksi Gagal";y.notifyMessage(y.replaceAll(w,"#","<br/>"),"danger-red")}}}catch(x){y.notifyMessage("Koneksi Gagal","danger-red")}},onBeforeLoad:function(e,u,g){var v=e.app.xpriv("191901010301",false),t=e.app.xpriv("191901010302",false),f=e.app.xpriv("191901010303",false),s=e.app.xpriv("191901010304",false);e.setListConfig({referensi:v,dataOnline:t,simpan:f,kirim:s})}},0,["plugins-kemkes-rsonline-data-kebutuhan-sdm-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-rsonline-data-kebutuhan-sdm-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-rsonline-data-kebutuhan-sdm-grid":true},["widget.plugins-kemkes-rsonline-data-kebutuhan-sdm-grid"],0,[plugins.kemkes.rsonline.data.kebutuhan.sdm,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.kebutuhan.sdm.GridController",Ext.app.ViewController,{onRendererSisa:function(f,v,e,g,u,s){var t=e.get("jumlah")-e.get("jumlah_diterima");return t<0?0:t},loadDataReferensi:function(e){var o=this,p=o.getView(),n=o.getViewModel(),q=n.get("ttStore");if(q){q.load({callback:function(l,g,k){if(k){p.notifyMessage("Data Referensi berhasil di ambil dari RS Online");o.onRefresh()}else{if(g.error){var f=g.error.response,t=Ext.JSON.decode(f.responseText),m=t.detail?(Ext.isObject(t.detail)?Ext.JSON.encode(t.detail):t.detail):"Koneksi Gagal";p.notifyMessage(p.replaceAll(m,"#","<br/>"),"danger-red")}}}})}},loadFromRsOnline:function(k){var g=this.getView();g.setParams({loadFromWs:1});this.onRefresh()},onSimpan:function(e){var n=this,q=n.getStore("store"),o=q.getModifiedRecords(),p=0;Ext.Array.each(o,function(f){var g=f.crudState=="U"?f.clone():Ext.clone(f);delete g.data.REFERENSI;g.save({callback:function(k,l,m){if(m){if(p===(o.length-1)){n.getView().notifyMessage("Data telah disimpan")}}p++}})});n.onRefresh()},kirimKeRsOnline:function(){var m=this,n=m.getView(),l=m.getViewModel(),o=l.get("storeKirim");if(o){o.setQueryParams({kirim:1});o.load({callback:function(t,k,f){if(f){var g=k.getResponse(),e=Ext.JSON.decode(g.responseText);n.notifyMessage(n.replaceAll(e.detail,"#","<br/>"))}else{if(k.error){var g=k.error.response,v=Ext.JSON.decode(g.responseText),u=v.detail?(Ext.isObject(v.detail)?Ext.JSON.encode(v.detail):v.detail):"Koneksi Gagal";n.notifyMessage(n.replaceAll(u,"#","<br/>"),"danger-red")}}}})}},onBeforeEdit:function(n,q){var o=this,e=o.getViewModel(),p=e.get("listConfig");if(!p.simpan){q.cancel=true}},onRefresh:function(){this.getView().reload()},onRenderer:function(e,u,v,t,s,g,f){u.tdStyle=v.get("kirim")==1?"color: green; font-weight: bold":"";return v.get("kirim")==1?"Proses":"Selesai"}},0,0,0,0,["controller.plugins-kemkes-rsonline-data-kebutuhan-sdm-grid"],0,[plugins.kemkes.rsonline.data.kebutuhan.sdm,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.tempattidur.Grid",com.Grid,{controller:"plugins-kemkes-rsonline-data-tempattidur-grid",viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-data-tempattidur-store"},ttStore:{type:"plugins-kemkes-rsonline-referensi-tempattidur-store",queryParams:{loadFromWs:1}},storeKirim:{type:"plugins-kemkes-rsonline-data-tempattidur-store"}}},plugins:{ptype:"cellediting",clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit"}},initComponent:function(){var f=this;f.columns=[{xtype:"templatecolumn",text:"Ruangan",sortable:false,tpl:"{REFERENSI.TempatTidur.nama_tt}",flex:1},{xtype:"numbercolumn",text:"Jumlah Ruangan",dataIndex:"jumlah_ruang",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Jumlah Tempat Tidur",dataIndex:"jumlah",format:"###",sortable:false,align:"right",width:176,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Terpakai",dataIndex:"terpakai",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Kosong",format:"###",sortable:false,align:"right",width:132,renderer:"onRendererKosong"},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"}];f.callParent(arguments)},dockedItems:[{xtype:"toolbar",items:[{ui:"soft-blue",iconCls:"x-fa fa-refresh",text:"1. Ambil Data Referensi",handler:"loadDataReferensi",bind:{hidden:"{!listConfig.referensi}"}},{ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"2. Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},"->",{ui:"soft-blue",iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan",bind:{hidden:"{!listConfig.simpan}"}},{ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]}],doAfterLoad:function(y,f,v,t){var z=y.getParams().loadFromWs;y.setParams({loadFromWs:0});try{if(!v){if(z!=1){y.removeDataStore()}if(t.error){var u=t.error.response,g=Ext.JSON.decode(u.responseText),w=g.detail?(Ext.isObject(g.detail)?Ext.JSON.encode(g.detail):g.detail):"Koneksi Gagal";y.notifyMessage(y.replaceAll(w,"#","<br/>"),"danger-red")}}}catch(x){y.notifyMessage("Koneksi Gagal","danger-red")}},onBeforeLoad:function(e,u,g){var v=e.app.xpriv("191901010201",false),t=e.app.xpriv("191901010202",false),f=e.app.xpriv("191901010203",false),s=e.app.xpriv("191901010204",false);e.setListConfig({referensi:v,dataOnline:t,simpan:f,kirim:s})}},0,["plugins-kemkes-rsonline-data-tempattidur-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-rsonline-data-tempattidur-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-rsonline-data-tempattidur-grid":true},["widget.plugins-kemkes-rsonline-data-tempattidur-grid"],0,[plugins.kemkes.rsonline.data.tempattidur,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.data.tempattidur.GridController",Ext.app.ViewController,{onRendererKosong:function(f,v,e,g,u,s){var t=e.get("jumlah")-e.get("terpakai");return t<0?0:t},loadDataReferensi:function(e){var o=this,p=o.getView(),n=o.getViewModel(),q=n.get("ttStore");if(q){q.load({callback:function(l,g,k){if(k){p.notifyMessage("Data Referensi berhasil di ambil dari RS Online");o.onRefresh()}else{if(g.error){var f=g.error.response,t=Ext.JSON.decode(f.responseText),m=t.detail?(Ext.isObject(t.detail)?Ext.JSON.encode(t.detail):t.detail):"Koneksi Gagal";p.notifyMessage(p.replaceAll(m,"#","<br/>"),"danger-red")}}}})}},loadFromRsOnline:function(k){var g=this.getView();g.setParams({loadFromWs:1});this.onRefresh()},onSimpan:function(e){var n=this,q=n.getStore("store"),o=q.getModifiedRecords(),p=0;Ext.Array.each(o,function(f){var g=f.clone();delete g.data.REFERENSI;g.save({callback:function(k,l,m){if(m){if(p===(o.length-1)){n.getView().notifyMessage("Data telah disimpan")}}p++}})});n.onRefresh()},kirimKeRsOnline:function(){var m=this,n=m.getView(),l=m.getViewModel(),o=l.get("storeKirim");if(o){o.setQueryParams({kirim:1});o.load({callback:function(t,k,f){if(f){var g=k.getResponse(),e=Ext.JSON.decode(g.responseText);n.notifyMessage(n.replaceAll(e.detail,"#","<br/>"))}else{if(k.error){var g=k.error.response,v=Ext.JSON.decode(g.responseText),u=v.detail?(Ext.isObject(v.detail)?Ext.JSON.encode(v.detail):v.detail):"Koneksi Gagal";n.notifyMessage(n.replaceAll(u,"#","<br/>"),"danger-red")}}}})}},onBeforeEdit:function(n,q){var o=this,e=o.getViewModel(),p=e.get("listConfig");if(!p.simpan){q.cancel=true}},onRefresh:function(){this.getView().reload()},onRenderer:function(e,u,v,t,s,g,f){u.tdStyle=v.get("kirim")==1?"color: green; font-weight: bold":"";return v.get("kirim")==1?"Proses":"Selesai"}},0,0,0,0,["controller.plugins-kemkes-rsonline-data-tempattidur-grid"],0,[plugins.kemkes.rsonline.data.tempattidur,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.diagnosapasien.Grid",com.Grid,{controller:"plugins-kemkes-rsonline-diagnosapasien-grid",viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-diagnosapasien-store",queryParams:{hapus:0}},storeKirim:{type:"plugins-kemkes-rsonline-diagnosapasien-store"}}},header:{items:[{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-cerulen",handler:"onTambahDiagnosa",tooltip:"Diagnosa Baru"}]},initComponent:function(){var f=this;f.icdCombo=Ext.create("rekammedis.icd.Combo",{allowBlank:false,hideTrigger:true,listeners:{select:"onSelectICD"}});f.levelCombo=Ext.create("Ext.form.field.ComboBox",{name:"jenis",store:Ext.create("Ext.data.Store",{fields:["id","name"],data:[{id:1,name:"Utama"},{id:2,name:"Sekunder"}]}),displayField:"name",valueField:"id",editable:false,listeners:{select:"onSelectLevel"}});f.columns=[{text:"Diagnosa ICD 10",dataIndex:"icd",sortable:false,editor:f.icdCombo,renderer:"onRendererICD",flex:1},{xtype:"numbercolumn",text:"Level",dataIndex:"level",format:"###",align:"right",editor:f.levelCombo,renderer:"onRendererLevel"},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Action",width:60,xtype:"widgetcolumn",widget:{xtype:"button",ui:"soft-red",margin:1,iconCls:"x-fa fa-trash",listeners:{click:"onHapus"}},onWidgetAttach:"onWidgetAttach"}];f.callParent(arguments)},plugins:{ptype:"cellediting",clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit"}},doAfterLoad:function(y,f,v,t){var z=y.getParams().loadFromWs;y.setParams({loadFromWs:0});try{if(!v){if(z!=1){y.removeDataStore()}if(t.error){var u=t.error.response,g=Ext.JSON.decode(u.responseText),w=g.detail?(Ext.isObject(g.detail)?Ext.JSON.encode(g.detail):g.detail):"Koneksi Gagal"}}}catch(x){}}},0,["plugins-kemkes-rsonline-diagnosapasien-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-rsonline-diagnosapasien-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-rsonline-diagnosapasien-grid":true},["widget.plugins-kemkes-rsonline-diagnosapasien-grid"],0,[plugins.kemkes.rsonline.diagnosapasien,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.diagnosapasien.GridController",Ext.app.ViewController,{recordSelected:undefined,loadFromRsOnline:function(k){var g=this.getView();g.setParams({loadFromWs:1});this.onRefresh()},onSimpan:function(t,e){var u=this,s=u.getStore("store"),g=this.getView(),v=s.getModifiedRecords(),f=0;Ext.Array.each(v,function(l){var k=l.crudState=="U"?l.clone():Ext.clone(l);delete k.data.REFERENSI;k.save({callback:function(m,n,p){if(p){if(f===(v.length-1)){var o="Data Diagnosa telah disimpan";u.getView().notifyMessage(o)}}f++}})});u.onRefresh();if(Ext.isFunction(e)){e()}},kirimKeRsOnline:function(){var m=this,n=m.getView(),l=m.getViewModel(),o=l.get("storeKirim");if(o){o.setQueryParams({kirim:1});o.load({callback:function(t,k,f){if(f){var g=k.getResponse(),e=Ext.JSON.decode(g.responseText);n.notifyMessage(n.replaceAll(e.detail,"#","<br/>"))}else{if(k.error){var g=k.error.response,v=Ext.JSON.decode(g.responseText),u=v.detail?(Ext.isObject(v.detail)?Ext.JSON.encode(v.detail):v.detail):"Koneksi Gagal";n.notifyMessage(n.replaceAll(u,"#","<br/>"),"danger-red")}}}})}},onBeforeEdit:function(n,q){var o=this,e=o.getViewModel(),p=e.get("listConfig");o.recordSelected=q.record},onRendererICD:function(e,x,g,z,u,w,v){var v=this.getView(),f=g.get("REFERENSI"),y=f?f.ICD:null;if(y){return e+" - "+y.STR}return e},onTambahDiagnosa:function(m){var k=this,l=k.getStore("store");l.insert(l.getCount(),Ext.create("plugins.kemkes.rsonline.diagnosapasien.Model",{level:l.getCount()>0?2:1}))},onRefresh:function(){this.getView().reload()},onWidgetAttach:function(l,m,k){m.setHidden(Ext.isNumeric(k.get("id")))},onHapus:function(o){var l=this,n=l.getStore("store"),m=o.getWidgetRecord();n.remove(m)},onSelectICD:function(g,k){if(k){if(this.recordSelected){this.recordSelected.set("REFERENSI",{ICD:k.data})}}},onRendererLevel:function(f){return f==1?"Utama":"Sekunder"},onSelectLevel:function(g,k){if(this.isUtamaExists()){g.setValue(2)}},isUtamaExists:function(){var g=this.getStore("store"),k=false;if(g){g.each(function(e){if(e.get("level")==1){k=true}})}return k}},0,0,0,0,["controller.plugins-kemkes-rsonline-diagnosapasien-grid"],0,[plugins.kemkes.rsonline.diagnosapasien,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.laporancovid.Workspace",com.Form,{controller:"plugins-kemkes-rsonline-laporancovid-workspace",layout:"fit",bodyPadding:0,items:[{xtype:"com-form",ui:"panel-black",title:"&nbsp;Laporan Covid-19",titleFieldConfig:{iconCls:"x-fa fa-shield"},fullscreenEnabled:true,menuConfig:{enabled:true,width:280,buttonConfig:{}},fullscreenConfig:{},header:{items:[{}]}}],load:function(n){var l=this,o=this.down("com-form");var m=[];if(l.app.xpriv("1919010100",true)){m.push({text:"Dashboard",leaf:true,iconCls:"x-fa fa-dashboard",className:"plugins.kemkes.rsonline.dashboard.Grid",idClassName:"plugins-kemkes-rsonline-dashboard-grid"})}if(l.app.xpriv("1919010101",true)){m.push({text:"Pasien",leaf:true,iconCls:"x-fa fa-user",className:"plugins.kemkes.rsonline.pasien.Workspace",idClassName:"plugins-kemkes-rsonline-pasien-workspace"})}if(l.app.xpriv("1919010102",true)){m.push({text:"Ketersediaan Ruangan",leaf:true,iconCls:"x-fa fa-building",className:"plugins.kemkes.rsonline.data.tempattidur.Grid",idClassName:"plugins-kemkes-rsonline-data-tempattidur-grid"})}if(l.app.xpriv("1919010103",true)){m.push({text:"Sumber Daya Manusia",leaf:true,iconCls:"x-fa fa-users",className:"plugins.kemkes.rsonline.data.kebutuhan.sdm.Grid",idClassName:"plugins-kemkes-rsonline-data-kebutuhan-sdm-grid"})}if(l.app.xpriv("1919010104",true)){m.push({text:"APD, Obat dan Alkes",leaf:true,iconCls:"x-fa fa-medkit",className:"plugins.kemkes.rsonline.data.kebutuhan.apd.Grid",idClassName:"plugins-kemkes-rsonline-data-kebutuhan-apd-grid"})}o.setMenus(m)}},0,["plugins-kemkes-rsonline-laporancovid-workspace"],["component","box","container","panel","form","com-form","plugins-kemkes-rsonline-laporancovid-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"plugins-kemkes-rsonline-laporancovid-workspace":true},["widget.plugins-kemkes-rsonline-laporancovid-workspace"],0,[plugins.kemkes.rsonline.laporancovid,"Workspace"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.laporancovid.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.plugins-kemkes-rsonline-laporancovid-workspace"],0,[plugins.kemkes.rsonline.laporancovid,"WorkspaceController"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.pasien.Form",com.Form,{controller:"plugins-kemkes-rsonline-pasien-form",model:"plugins.kemkes.rsonline.pasien.Model",layout:{type:"vbox",align:"stretch"},isCreate:false,bodyPadding:15,scrollable:"y",defaults:{margin:"0 0 0 0"},items:[{xtype:"fieldcontainer",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,hideTrigger:true},items:[{fieldLabel:"No. RM",name:"nomr",maxLength:10,emptyText:"Nomor Rekam Medis",tooltip:"Tekan Enter untuk mengambil data pasien di SIMRS",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nomr}"},listeners:{specialkey:"onSpesialkeyNorm"}},{fieldLabel:"NIK (Nomor Induk Kependudukan)",name:"noc",width:300,maxLength:16,emptyText:"Nomor Induk Kependudukan",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.noc}"}}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{labelAlign:"top",margin:"0 1 0 0",allowBlank:false},items:[{xtype:"textfield",fieldLabel:"Inisial",name:"initial",emptyText:"Inisial Pasien",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.initial}"}},{xtype:"textfield",fieldLabel:"Nama Lengkap",flex:1,name:"nama_lengkap",emptyText:"Nama Lengkap Pasien",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nama_lengkap}"}},{xtype:"datefield",fieldLabel:"Tgl. Lahir",format:"d-m-Y",name:"birthdate",emptyText:"Tanggal Lahir",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.birthdate}"}},{xtype:"plugins-kemkes-rsonline-referensi-jeniskelamin-combo",fieldLabel:"Jenis Kelamin",name:"gender",emptyText:"Pilih Jenis Kelamin",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.gender}"}}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{labelAlign:"top",margin:"0 1 0 0"},items:[{xtype:"textfield",fieldLabel:"E-mail",name:"email",vtype:"email",maxLength:50,enforceMaxLength:true,flex:1,emptyText:"E-mail",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.email}"}},{xtype:"textfield",fieldLabel:"No. Telp",name:"notelp",maxLength:19,enforceMaxLength:true,emptyText:"No. Telepon/HP",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.notelp}"}},{xtype:"plugins-kemkes-rsonline-referensi-wilayah-negara-combo",fieldLabel:"Pilih Kewarganegaraan",name:"kewarganegaraan",width:200,firstLoad:true,emptyText:"Pilih Kewarganegaraan",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.kewarganegaraan}"}}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{labelAlign:"top",margin:"0 1 0 0",flex:1},items:[{xtype:"plugins-kemkes-rsonline-referensi-wilayah-propinsi-combo",fieldLabel:"Pilih Propinsi",name:"propinsi",emptyText:"Pilih Propinsi",listeners:{select:"onSelectPropinsi"},bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"plugins-kemkes-rsonline-referensi-wilayah-kabupaten-combo",fieldLabel:"Pilih Kabupaten / Kota",name:"kabupaten",emptyText:"Pilih Kabupaten / Kota",listeners:{select:"onSelectKabupaten"},bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"plugins-kemkes-rsonline-referensi-wilayah-kecamatan-combo",fieldLabel:"Pilih kecamatan",name:"kecamatan",emptyText:"Pilih Kecamatan",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.kecamatan}"}}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{labelAlign:"top",margin:"0 1 0 0",flex:1},items:[{xtype:"plugins-kemkes-rsonline-referensi-jenispasien-combo",fieldLabel:"Jenis Pasien",name:"jenis_pasien",emptyText:"Pilih Jenis Pasien",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.jenis_pasien}"}},{xtype:"datefield",fieldLabel:"Tgl. Masuk",format:"d-m-Y",name:"tglmasuk",allowBlank:false,emptyText:"Tanggal Masuk",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.tglmasuk}"},listeners:{change:"onChangeTglMasuk"}},{xtype:"datefield",fieldLabel:"Tgl. Lapor",format:"d/m/Y H:i:s",name:"tgl_lapor",allowBlank:false,minimalAddMinuteToMaxValue:15,containFormatTime:true,emptyText:"Tanggal Lapor",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.tgl_lapor}"}},{xtype:"datefield",fieldLabel:"Tgl. Keluar",format:"d-m-Y",name:"tglkeluar",emptyText:"Tanggal Keluar",bind:{readOnly:"{formConfig.viewOnly}"}}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{labelAlign:"top",margin:"0 1 0 0",flex:1},items:[{xtype:"plugins-kemkes-rsonline-referensi-sumberpenularan-combo",fieldLabel:"Pilih Sumber Penularan",name:"sumber_penularan",emptyText:"Pilih Sumber Penularan",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.sumber_penularan}"}},{xtype:"plugins-kemkes-rsonline-referensi-status-rawat-combo",fieldLabel:"Pilih Status Rawat",name:"status_rawat",emptyText:"Pilih Status Rawat",allowBlank:false,listeners:{select:"onSelectStatusRawat"},bind:{readOnly:"{formConfig.viewOnly}",value:"{record.status_rawat}"}},{xtype:"plugins-kemkes-rsonline-referensi-status-isolasi-combo",fieldLabel:"Pilih Status Isolasi",name:"status_isolasi",emptyText:"Pilih Status Isolasi",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.status_isolasi}"}},{xtype:"plugins-kemkes-rsonline-referensi-status-keluar-combo",fieldLabel:"Pilih Status Keluar",name:"status_keluar",allowBlank:false,emptyText:"Pilih Status Keluar",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.status_keluar}"}}]},{xtype:"textfield",labelAlign:"top",fieldLabel:"Sebab Kematian",name:"sebab_kematian",emptyText:"Sebab Kematian",enforceMaxLength:true,maxLength:500},{xtype:"plugins-kemkes-rsonline-diagnosapasien-grid",title:"Diagnosa Pasien",ui:"panel-cyan",margin:{top:10},flex:1}],onLoadRecord:function(f,F){var k=f.down("[name=nomr]"),l=f.down("[name=propinsi]"),n=f.down("[name=kabupaten]"),J=f.down("[name=kecamatan]"),G=f.down("[name=status_isolasi]"),m=f.down("plugins-kemkes-rsonline-diagnosapasien-grid"),e=f.down("[name=tgl_lapor]"),E=f.down("[name=hapus]"),I=f.kode.substring(0,2),g=f.kode.substring(0,4),H="";k.setReadOnly(!f.isCreate);E.setHidden(f.isCreate);if(!f.isCreate){if(F){var D=F.get("REFERENSI");H=F.get("kecamatan");if(D.Kabupaten){g=D.Kabupaten.kode}if(D.Propinsi){I=D.Propinsi.prop_kode}}G.getStore().queryParams.id_status_rawat=F.get("status_rawat");G.load();m.setParams({nomr:k.getValue()});m.load()}l.select(I);n.getStore().setQueryParams({propinsi:I});n.select(g);J.getStore().setQueryParams({kabkota:g});J.select(H);l.load();n.load();J.load()},buttons:[{xtype:"checkbox",fieldLabel:"Hapus Data Pasien ini ? ",labelWidth:150,labelStyle:"font-weight: bold; color: red",name:"hapus"},"->",{iconCls:"x-fa fa-save",text:"Simpan",kirim:0,handler:"onSimpan"},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",kirim:1,text:"Simpan & Kirim Data ke RS Online",handler:"onSimpan"}],onBeforeGetRecord:function(t,u){var s=t.down("[name=birthdate]").getValue(),g=t.down("[name=tglmasuk]").getValue(),e=t.down("[name=tgl_lapor]").getValue(),v=t.down("[name=tglkeluar]").getValue(),f=t.down("[name=hapus]");if(u.birthdate){u.birthdate=Ext.Date.format(s,"Y-m-d")}if(u.tglmasuk){u.tglmasuk=Ext.Date.format(g,"Y-m-d")}if(u.tgl_lapor){u.tgl_lapor=Ext.Date.format(e,"Y-m-d H:i:s")}if(u.tglkeluar){u.tglkeluar=Ext.Date.format(v,"Y-m-d")}u.hapus=f.getValue()?1:0}},0,["plugins-kemkes-rsonline-pasien-form"],["component","box","container","panel","form","com-form","plugins-kemkes-rsonline-pasien-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"plugins-kemkes-rsonline-pasien-form":true},["widget.plugins-kemkes-rsonline-pasien-form"],0,[plugins.kemkes.rsonline.pasien,"Form"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.pasien.FormController",Ext.app.ViewController,{findFirst:true,onSelectPropinsi:function(e,o){var p=this.getView();if(o){var n=p.down("[name=kabupaten]"),q=p.down("[name=kecamatan]");n.select("");q.select("");n.getStore().removeAll();n.getStore().setQueryParams({propinsi:o.get("prop_kode")});if(p.kode.substring(0,2)==o.get("prop_kode")){n.select(p.kode.substring(0,4))}n.load()}},onSelectKabupaten:function(l,m){var n=this.getView();if(m){var o=n.down("[name=kecamatan]");o.select("");o.getStore().removeAll();o.getStore().setQueryParams({kabkota:m.get("kode")});o.load()}},onSelectStatusRawat:function(l,m){var o=this.getView();if(m){var n=o.down("[name=status_isolasi]");n.getStore().queryParams.id_status_rawat=m.get("id_status_rawat");n.load()}},onChangeTglMasuk:function(m,k){var l=this.getView().down("[name=jenis_pasien]").getSelection();if(l){if(l.get("jenis_pasien")!=3){this.getView().down("[name=tglkeluar]").setValue(k)}}},onSpesialkeyNorm:function(g,k){if(g.getValue()==""||g.getValue()==null){return}if(k.getKey()==k.ENTER){this.cari(g.getValue())}},onSimpan:function(l){var m=this,o=m.getView(),n=o.getRecord();if(n){if(l.kirim){n.set("kirim",l.kirim)}if(n.get("hapus")==1){o.showMessageBox({title:"Hapus Data Pasien",message:"Anda yakin ingin hapus data pasien ini ?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:l,fn:function(e){if(e=="yes"){m.simpan(l,true)}}})}else{m.simpan(l,false)}}},privates:{simpan:function(t,q){var e=this,p=e.getView(),s=p.down("plugins-kemkes-rsonline-diagnosapasien-grid"),f=s.getController();p.save(t,{},function(l,k,g){if(g){s.getStore().each(function(m){m.set("nomr",l.get("nomr"));m.set("hapus",q?1:0);m.set("kirim",t.kirim)});f.onSimpan(t,function(){p.fireEvent("simpan",q)})}})},cari:function(e){var o=this,p=o.getView(),n=o.getViewModel(),q=Ext.create("data.model.Pasien",{NORM:e});p.setLoading(true);q.load({callback:function(H,s,m){if(m){var L=H.get("GELAR_DEPAN")||"",N=H.get("GELAR_BELAKANG")||"",f=H.get("NAMA"),g=f.split(" "),M="",G=H.get("JENIS_KELAMIN"),J=H.get("TANGGAL_LAHIR"),K="",l="",I="";L=L==""?"":L+". ";N=N==""?"":", "+N;f=L+f+N;Ext.Array.forEach(g,function(u,t){M+=u.substring(0,1)});if(H.get("KARTUIDENTITAS")){Ext.Array.forEach(H.get("KARTUIDENTITAS"),function(t){if(t.JENIS==1){K=t.NOMOR}})}if(H.get("KONTAK")){Ext.Array.forEach(H.get("KONTAK"),function(t){if(t.JENIS==3){l=t.NOMOR}if(t.JENIS==6){I=t.NOMOR}})}if(!o.findFirst){p.createRecord({nomr:e,noc:K,initial:M,nama_lengkap:f,gender:G,birthdate:J,notelp:l,email:I})}else{var k=n.get("record");k.set("initial",M);k.set("nama_lengkap",f);k.set("birthdate",J);k.set("gender",G);k.set("noc",K);k.set("notelp",l);k.set("email",I)}o.findFirst=false;p.focus("jenis_pasien")}else{p.notifyMessage("Pasien dengan No. RM: "+e+" tidak ditemukan")}p.setLoading(false)}})}}},0,0,0,0,["controller.plugins-kemkes-rsonline-pasien-form"],0,[plugins.kemkes.rsonline.pasien,"FormController"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.pasien.Grid",com.Grid,{controller:"plugins-kemkes-rsonline-pasien-grid",viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-pasien-store",queryParams:{hapus:0}},storeKirim:{type:"plugins-kemkes-rsonline-pasien-store"}}},header:{items:[{xtype:"button",ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},{xtype:"search-field",emptyText:"Cari No. RM / NIK / Nama Pasien",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}},{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-cerulen",handler:"onTambah",tooltip:"Pasien Baru",bind:{hidden:"{!listConfig.tambah}"}},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{xtype:"button",ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]},actions:{edit:{iconCls:"x-fa fa-edit",tooltip:"Ubah Pasien",handler:"onUbah"}},columns:[{xtype:"rownumberer",text:"No",menuDisabled:true,sortable:false,align:"left",width:70},{text:"No. RM",menuDisabled:true,sortable:false,dataIndex:"nomr",align:"center",width:80},{text:"NIK",menuDisabled:true,sortable:false,dataIndex:"noc",align:"center",width:140},{text:"Inisial",menuDisabled:true,sortable:false,dataIndex:"initial",align:"center",width:60},{text:"Jenis Kelamin",xtype:"templatecolumn",menuDisabled:true,sortable:false,tpl:"{REFERENSI.Gender.gender}"},{text:"Tanggal",menuDisabled:true,columns:[{xtype:"datecolumn",text:"Lahir",menuDisabled:true,format:"d-m-Y",sortable:false,align:"center",dataIndex:"birthdate",width:100},{xtype:"datecolumn",text:"Masuk",menuDisabled:true,format:"d-m-Y",sortable:false,align:"center",dataIndex:"tglmasuk",width:100},{xtype:"datecolumn",text:"Keluar",menuDisabled:true,format:"d-m-Y",sortable:false,align:"center",dataIndex:"tglkeluar",width:100},{xtype:"datecolumn",text:"Lapor",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_lapor",width:137}]},{text:"Status",menuDisabled:true,sortable:false,flex:1,columns:[{text:"Status Rawat",xtype:"templatecolumn",menuDisabled:true,sortable:false,tpl:"{REFERENSI.StatusRawat.status}",flex:1},{text:"Status Keluar",xtype:"templatecolumn",menuDisabled:true,sortable:false,tpl:"{REFERENSI.StatusKeluar.status}",flex:1}]},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"},{menuDisabled:true,sortable:false,align:"center",xtype:"actioncolumn",width:50,items:["@edit"],bind:{hidden:"{!listConfig.edit}"}}],doAfterLoad:function(y,f,v,t){var z=y.getParams().loadFromWs;y.setParams({loadFromWs:0});try{if(!v){if(z!=1){y.removeDataStore()}if(t.error){var u=t.error.response,g=Ext.JSON.decode(u.responseText),w=g.detail?(Ext.isObject(g.detail)?Ext.JSON.encode(g.detail):g.detail):"Koneksi Gagal";y.notifyMessage(y.replaceAll(w,"#","<br/>"),"danger-red")}}}catch(x){y.notifyMessage("Koneksi Gagal","danger-red")}},cari:function(k){var g=this.down("search-field");g.setValue(k);g.fireEvent("search",g,k)},onBeforeLoad:function(e,u,f){var t=e.app.xpriv("191901010101",false),g=e.app.xpriv("191901010102",false),v=e.app.xpriv("191901010103",false),s=e.app.xpriv("191901010104",false);e.setListConfig({dataOnline:t,tambah:g,edit:v,kirim:s})}},0,["plugins-kemkes-rsonline-pasien-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-rsonline-pasien-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-rsonline-pasien-grid":true},["widget.plugins-kemkes-rsonline-pasien-grid"],0,[plugins.kemkes.rsonline.pasien,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.pasien.GridController",Ext.app.ViewController,{query:"",onSearch:function(g,k){this.query=k;this.cari()},onClear:function(){this.query="";this.cari()},onChange:function(e,o){var n=this,p=n.getView(),q=p.down("search-field");if(o==""){q.onClearClick()}},onTambah:function(m){var k=this,l=k.getView();this.openWindow(m,true,{tgl_lapor:l.getSysdate()})},onUbah:function(q,e,p,f,s,t){this.openWindow(q,false,t)},onRenderer:function(e,u,v,t,s,g,f){u.tdStyle=v.get("kirim")==1?"color: green; font-weight: bold":"";return v.get("kirim")==1?"Proses":"Selesai"},privates:{cari:function(){var k=this,l=k.getView(),m=l.down("pagingtoolbar");if(k.query==""){delete l.getStore().queryParams.query}else{l.setParams({query:k.query})}if(m){m.moveFirst()}else{l.load()}},openWindow:function(e,q,o){var n=this,p=n.getView();p.openDialog("",true,0,0,{xtype:"plugins-kemkes-rsonline-pasien-form",ui:"panel-cyan",showCloseButton:true,title:(q?"Tambah":"Ubah")+" Pasien",isCreate:q},function(g,f){form=f.down("plugins-kemkes-rsonline-pasien-form");if(q){form.createRecord(o)}else{form.loadRecord(o)}form.on("simpan",function(k){if(q||k){f.close();n.cari()}});form.focus("nomr")})}},loadFromRsOnline:function(k){var g=this.getView();g.setParams({loadFromWs:1});this.onRefresh()},kirimKeRsOnline:function(){var m=this,n=m.getView(),l=m.getViewModel(),o=l.get("storeKirim");if(o){o.setQueryParams({kirim:1});o.load({callback:function(t,k,f){if(f){var g=k.getResponse(),e=Ext.JSON.decode(g.responseText);n.notifyMessage(n.replaceAll(e.detail,"#","<br/>"))}else{if(k.error){var g=k.error.response,v=Ext.JSON.decode(g.responseText),u=v.detail?(Ext.isObject(v.detail)?Ext.JSON.encode(v.detail):v.detail):"Koneksi Gagal";n.notifyMessage(n.replaceAll(u,"#","<br/>"),"danger-red")}}}})}},onRefresh:function(){this.getView().reload()}},0,0,0,0,["controller.plugins-kemkes-rsonline-pasien-grid"],0,[plugins.kemkes.rsonline.pasien,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.pasien.Workspace",com.Form,{controller:"plugins-kemkes-rsonline-pasien-workspace",bodyPadding:0,border:false,layout:"border",items:[{region:"center",xtype:"plugins-kemkes-rsonline-pasien-grid",ui:"panel-blue",title:"Pasien RS Online"}],load:function(){var k=this,g=k.down("plugins-kemkes-rsonline-pasien-grid");g.setGridConfig({paging:true});g.load()}},0,["plugins-kemkes-rsonline-pasien-workspace"],["component","box","container","panel","form","com-form","plugins-kemkes-rsonline-pasien-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"plugins-kemkes-rsonline-pasien-workspace":true},["widget.plugins-kemkes-rsonline-pasien-workspace"],0,[plugins.kemkes.rsonline.pasien,"Workspace"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.pasien.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.plugins-kemkes-rsonline-pasien-workspace"],0,[plugins.kemkes.rsonline.pasien,"WorkspaceController"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.jeniskelamin.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-referensi-jeniskelamin-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Jenis Kelamin dari RSOnline",reference:"search",cls:"x-x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"gender",valueField:"id_gender",firstLoad:true,emptyText:"[Pilih Jenis Kelamin]",onSearchClick:function(){var k=this,g=k.getStore();if(g){g.queryParams.loadFromWs=1;k.load()}},doAfterLoad:function(l,o,n){var m=n.getQueryParams();if(m.loadFromWs){Ext.toast({html:"Data Referensi Jenis Kelamin berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}n.queryParams.loadFromWs=0}},0,["plugins-kemkes-rsonline-referensi-jeniskelamin-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-rsonline-referensi-jeniskelamin-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-rsonline-referensi-jeniskelamin-combo":true},["widget.plugins-kemkes-rsonline-referensi-jeniskelamin-combo"],0,[plugins.kemkes.rsonline.referensi.jeniskelamin,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.jenispasien.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-referensi-jenispasien-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Jenis Pasien dari RSOnline",reference:"search",cls:"x-x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"deskripsi",valueField:"id_jenis_pasien",firstLoad:true,emptyText:"[Pilih Jenis Pasien]",onSearchClick:function(){var k=this,g=k.getStore();if(g){g.queryParams.loadFromWs=1;k.load()}},doAfterLoad:function(l,o,n){var m=n.getQueryParams();if(m.loadFromWs){Ext.toast({html:"Data Referensi Jenis Pasien berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}n.queryParams.loadFromWs=0}},0,["plugins-kemkes-rsonline-referensi-jenispasien-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-rsonline-referensi-jenispasien-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-rsonline-referensi-jenispasien-combo":true},["widget.plugins-kemkes-rsonline-referensi-jenispasien-combo"],0,[plugins.kemkes.rsonline.referensi.jenispasien,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.status.isolasi.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-referensi-status-isolasi-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Status Isolasi dari RSOnline",reference:"search",cls:"x-x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"status_isolasi",valueField:"id_isolasi",emptyText:"[Pilih Status Isolasi]",onSearchClick:function(){var k=this,g=k.getStore();if(g){g.queryParams.loadFromWs=1;k.load()}},doAfterLoad:function(l,o,n){var m=n.getQueryParams();if(m.loadFromWs){Ext.toast({html:"Data Referensi Status Isolasi berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}n.queryParams.loadFromWs=0}},0,["plugins-kemkes-rsonline-referensi-status-isolasi-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-rsonline-referensi-status-isolasi-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-rsonline-referensi-status-isolasi-combo":true},["widget.plugins-kemkes-rsonline-referensi-status-isolasi-combo"],0,[plugins.kemkes.rsonline.referensi.status.isolasi,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.status.keluar.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-referensi-status-keluar-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Status Keluar dari RSOnline",reference:"search",cls:"x-x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"status",valueField:"id_status",firstLoad:true,emptyText:"[Pilih Status Keluar]",onSearchClick:function(){var k=this,g=k.getStore();if(g){g.queryParams.loadFromWs=1;k.load()}},doAfterLoad:function(l,o,n){var m=n.getQueryParams();if(m.loadFromWs){Ext.toast({html:"Data Referensi Status Keluar berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}n.queryParams.loadFromWs=0}},0,["plugins-kemkes-rsonline-referensi-status-keluar-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-rsonline-referensi-status-keluar-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-rsonline-referensi-status-keluar-combo":true},["widget.plugins-kemkes-rsonline-referensi-status-keluar-combo"],0,[plugins.kemkes.rsonline.referensi.status.keluar,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.status.rawat.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-referensi-status-rawat-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Status Rawat dari RSOnline",reference:"search",cls:"x-x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"status",valueField:"id_status_rawat",firstLoad:true,emptyText:"[Pilih Status Rawat]",onSearchClick:function(){var k=this,g=k.getStore();if(g){g.queryParams.loadFromWs=1;k.load()}},doAfterLoad:function(l,o,n){var m=n.getQueryParams();if(m.loadFromWs){Ext.toast({html:"Data Referensi Status Rawat berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}n.queryParams.loadFromWs=0}},0,["plugins-kemkes-rsonline-referensi-status-rawat-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-rsonline-referensi-status-rawat-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-rsonline-referensi-status-rawat-combo":true},["widget.plugins-kemkes-rsonline-referensi-status-rawat-combo"],0,[plugins.kemkes.rsonline.referensi.status.rawat,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.sumberpenularan.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-referensi-sumberpenularan-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Sumber Penularan dari RSOnline",reference:"search",cls:"x-x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"sources",valueField:"id_source",firstLoad:true,emptyText:"[Pilih Sumber Penularan]",onSearchClick:function(){var k=this,g=k.getStore();if(g){g.queryParams.loadFromWs=1;k.load()}},doAfterLoad:function(l,o,n){var m=n.getQueryParams();if(m.loadFromWs){Ext.toast({html:"Data Referensi Sumber Penularan berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}n.queryParams.loadFromWs=0}},0,["plugins-kemkes-rsonline-referensi-sumberpenularan-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-rsonline-referensi-sumberpenularan-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-rsonline-referensi-sumberpenularan-combo":true},["widget.plugins-kemkes-rsonline-referensi-sumberpenularan-combo"],0,[plugins.kemkes.rsonline.referensi.sumberpenularan,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.kabupaten.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-referensi-wilayah-kabupaten-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Kabupaten / Kota dari RSOnline",reference:"search",cls:"x-x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"nama",valueField:"kode",emptyText:"[Pilih Kabupaten]",onSearchClick:function(){var k=this,g=k.getStore();if(g){g.queryParams.loadFromWs=1;k.load()}},doAfterLoad:function(l,o,n){var m=n.getQueryParams();if(m.loadFromWs){Ext.toast({html:"Data Referensi Kabupaten / Kota berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}n.queryParams.loadFromWs=0}},0,["plugins-kemkes-rsonline-referensi-wilayah-kabupaten-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-rsonline-referensi-wilayah-kabupaten-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-rsonline-referensi-wilayah-kabupaten-combo":true},["widget.plugins-kemkes-rsonline-referensi-wilayah-kabupaten-combo"],0,[plugins.kemkes.rsonline.referensi.wilayah.kabupaten,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.kecamatan.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-referensi-wilayah-kecamatan-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Kecamatan dari RSOnline",reference:"search",cls:"x-x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"nama",valueField:"kode",emptyText:"[Pilih Kecamatan]",onSearchClick:function(){var k=this,g=k.getStore();if(g){g.queryParams.loadFromWs=1;k.load()}},doAfterLoad:function(l,o,n){var m=n.getQueryParams();if(m.loadFromWs){Ext.toast({html:"Data Referensi Kecamatan berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}n.queryParams.loadFromWs=0}},0,["plugins-kemkes-rsonline-referensi-wilayah-kecamatan-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-rsonline-referensi-wilayah-kecamatan-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-rsonline-referensi-wilayah-kecamatan-combo":true},["widget.plugins-kemkes-rsonline-referensi-wilayah-kecamatan-combo"],0,[plugins.kemkes.rsonline.referensi.wilayah.kecamatan,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.negara.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-referensi-wilayah-negara-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Negara dari RSOnline",reference:"search",cls:"x-x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"nationality",valueField:"id_nation",emptyText:"[Pilih Negara]",onSearchClick:function(){var k=this,g=k.getStore();if(g){g.queryParams.loadFromWs=1;k.load()}},doAfterLoad:function(l,o,n){var m=n.getQueryParams();if(m.loadFromWs){Ext.toast({html:"Data Referensi Negara berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}n.queryParams.loadFromWs=0}},0,["plugins-kemkes-rsonline-referensi-wilayah-negara-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-rsonline-referensi-wilayah-negara-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-rsonline-referensi-wilayah-negara-combo":true},["widget.plugins-kemkes-rsonline-referensi-wilayah-negara-combo"],0,[plugins.kemkes.rsonline.referensi.wilayah.negara,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.rsonline.referensi.wilayah.propinsi.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-rsonline-referensi-wilayah-propinsi-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Propinsi dari RSOnline",reference:"search",cls:"x-x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"propinsi_name",valueField:"prop_kode",emptyText:"[Pilih Propinsi]",onSearchClick:function(){var k=this,g=k.getStore();if(g){g.queryParams.loadFromWs=1;k.load()}},doAfterLoad:function(l,o,n){var m=n.getQueryParams();if(m.loadFromWs){Ext.toast({html:"Data Referensi Propinsi berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}n.queryParams.loadFromWs=0}},0,["plugins-kemkes-rsonline-referensi-wilayah-propinsi-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-rsonline-referensi-wilayah-propinsi-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-rsonline-referensi-wilayah-propinsi-combo":true},["widget.plugins-kemkes-rsonline-referensi-wilayah-propinsi-combo"],0,[plugins.kemkes.rsonline.referensi.wilayah.propinsi,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.siranap.Tab",com.Tab,{controller:"plugins-kemkes-siranap-tab",items:[{title:"Map Kelas ",xtype:"plugins-kemkes-siranap-kelas-simrs_kemkes-grid"},{title:"Map Ruangan",xtype:"plugins-kemkes-siranap-ruangan-simrs_kemkes-grid"},{title:"Monitoring Tempat Tidur",xtype:"plugins-kemkes-siranap-tempattidur-grid"}],load:function(){var f=this.getActiveTab();if(f){if(f.load){f.load({})}}},listeners:{tabchange:"onTabChange"}},0,["plugins-kemkes-siranap-tab"],["component","box","container","panel","tabpanel","com-tab","plugins-kemkes-siranap-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"plugins-kemkes-siranap-tab":true},["widget.plugins-kemkes-siranap-tab"],0,[plugins.kemkes.siranap,"Tab"],0));(Ext.cmd.derive("plugins.kemkes.siranap.TabController",Ext.app.ViewController,{onTabChange:function(k,g){if(g.load){g.load({})}}},0,0,0,0,["controller.plugins-kemkes-siranap-tab"],0,[plugins.kemkes.siranap,"TabController"],0));(Ext.cmd.derive("plugins.kemkes.siranap.kelas.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-siranap-kelas-store"}}},queryMode:"remote",editable:false,emptyText:"[Pilih Kelas]",tpl:new Ext.XTemplate('<tpl for=".">','<div class="x-boundlist-item" style="font-size: 12px; line-height: 15px; padding: 3px 10px">','<div style="font-weight: bold; white-space:normal !important;">{ID} - {DESKRIPSI}</div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{DESKRIPSI}","</tpl>")},0,["plugins-kemkes-siranap-kelas-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-siranap-kelas-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-siranap-kelas-combo":true},["widget.plugins-kemkes-siranap-kelas-combo"],0,[plugins.kemkes.siranap.kelas,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.siranap.kelas.simrs_kemkes.Grid",com.Grid,{controller:"plugins-kemkes-siranap-kelas-simrs_kemkes-grid",viewModel:{stores:{store:{type:"plugins-kemkes-siranap-kelas-simrs_kemkes-store"}}},initComponent:function(){this.comboReferensiKelas=Ext.create("master.referensi.Combo",{params:{JENIS:19,STATUS:1},editable:false,firstLoad:true,listeners:{select:"onSelectKelasRS"}});this.columns=[{text:"Kelas",dataIndex:"KEMKES_KELAS",sortable:false,editor:{xtype:"plugins-kemkes-siranap-kelas-combo",firstLoad:true,allowBlank:false,listeners:{select:"onSelectKelas"}},renderer:"onRendererKelas",flex:1},{text:"Kelas RS",dataIndex:"KELAS",sortable:false,editor:this.comboReferensiKelas,renderer:"onRendererKelasRS",flex:1},{xtype:"widgetcolumn",text:"Status",dataIndex:"STATUS",widget:{xtype:"checkbox",listeners:{change:"onStatusCheck"}}}];com.Grid.prototype.initComponent.apply(this,arguments)},dockedItems:[{xtype:"toolbar",items:["->",{iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan"},{iconCls:"x-fa fa-plus",tooltip:"Tambah",handler:"onTambah"},{iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],plugins:{ptype:"cellediting",clicksToEdit:1},doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-kemkes-siranap-kelas-simrs_kemkes-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-siranap-kelas-simrs_kemkes-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-siranap-kelas-simrs_kemkes-grid":true},["widget.plugins-kemkes-siranap-kelas-simrs_kemkes-grid"],0,[plugins.kemkes.siranap.kelas.simrs_kemkes,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.siranap.kelas.simrs_kemkes.GridController",Ext.app.ViewController,{onSelectKelas:function(n,m){var l=this.getView().getSelection();if(m){if(Ext.isArray(l)){if(l.length>0){var o=l[0].get("REFERENSI")||{};o.KELAS_KEMKES=m.data;l[0].set("REFERENSI",o)}}}},onSelectKelasRS:function(n,m){var l=this.getView().getSelection();if(m){if(Ext.isArray(l)){if(l.length>0){var o=l[0].get("REFERENSI")||{};o.KELAS_SIMRS=m.data;l[0].set("REFERENSI",o)}}}},onRendererKelas:function(o,q,p){var e=p.get("REFERENSI"),n=e?e.KELAS_KEMKES:null;if(n){return n.DESKRIPSI}return o},onRendererKelasRS:function(f,s,q){var p=this.getView(),t=q.get("REFERENSI"),e=t?t.KELAS_SIMRS:null;if(e){return e.DESKRIPSI}return f},onStatusCheck:function(s,e,q){var t=this,f=e?1:0,p=s.getWidgetRecord();if(p){if(p.get("STATUS")===f){return}p.set("STATUS",f);p.save({callback:function(l,g,k){if(k){t.getView().notifyMessage("Data telah disimpan")}}})}},onSimpan:function(e){var n=this,q=n.getStore("store"),o=q.getModifiedRecords(),p=0;Ext.Array.each(o,function(f){var g=f.crudState=="U"?f.clone():Ext.clone(f);delete g.data.REFERENSI;g.save({callback:function(k,l,m){if(m){if(p===(o.length-1)){n.getView().notifyMessage("Data telah disimpan")}}p++}})});n.onRefresh()},onTambah:function(m){var k=this,l=k.getStore("store");l.insert(0,Ext.create("plugins.kemkes.siranap.kelas.simrs_kemkes.Model",{}))},onRefresh:function(){this.getView().reload()}},0,0,0,0,["controller.plugins-kemkes-siranap-kelas-simrs_kemkes-grid"],0,[plugins.kemkes.siranap.kelas.simrs_kemkes,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.siranap.ruangan.Combo",com.Combo,{viewModel:{stores:{store:{type:"plugins-kemkes-siranap-ruangan-store"}}},queryMode:"remote",editable:false,emptyText:"[Pilih Ruangan]",tpl:new Ext.XTemplate('<tpl for=".">','<div class="x-boundlist-item" style="font-size: 12px; line-height: 15px; padding: 3px 10px">','<div style="font-weight: bold; white-space:normal !important;">{ID} - {DESKRIPSI}</div>',"</div>","</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{DESKRIPSI}","</tpl>")},0,["plugins-kemkes-siranap-ruangan-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","plugins-kemkes-siranap-ruangan-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"plugins-kemkes-siranap-ruangan-combo":true},["widget.plugins-kemkes-siranap-ruangan-combo"],0,[plugins.kemkes.siranap.ruangan,"Combo"],0));(Ext.cmd.derive("plugins.kemkes.siranap.ruangan.simrs_kemkes.Grid",com.Grid,{controller:"plugins-kemkes-siranap-ruangan-simrs_kemkes-grid",viewModel:{stores:{store:{type:"plugins-kemkes-siranap-ruangan-simrs_kemkes-store"}}},initComponent:function(){this.comboRuangan=Ext.create("master.ruangan.Combo",{params:{JENIS:5,JENIS_KUNJUNGAN:3,STATUS:1},editable:false,firstLoad:true,listeners:{select:"onSelectRuanganRS"}});this.columns=[{text:"Ruangan",dataIndex:"KEMKES_RUANGAN",sortable:false,editor:{xtype:"plugins-kemkes-siranap-ruangan-combo",firstLoad:true,allowBlank:false,listeners:{select:"onSelectRuangan"}},renderer:"onRendererRuangan",flex:1},{text:"Ruangan RS",dataIndex:"RUANGAN",sortable:false,editor:this.comboRuangan,renderer:"onRendererRuanganRS",flex:1},{xtype:"widgetcolumn",text:"Status",dataIndex:"STATUS",widget:{xtype:"checkbox",listeners:{change:"onStatusCheck"}}}];com.Grid.prototype.initComponent.apply(this,arguments)},dockedItems:[{xtype:"toolbar",items:["->",{iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan"},{iconCls:"x-fa fa-plus",tooltip:"Tambah",handler:"onTambah"},{iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]},{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}],plugins:{ptype:"cellediting",clicksToEdit:1},doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-kemkes-siranap-ruangan-simrs_kemkes-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-siranap-ruangan-simrs_kemkes-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-siranap-ruangan-simrs_kemkes-grid":true},["widget.plugins-kemkes-siranap-ruangan-simrs_kemkes-grid"],0,[plugins.kemkes.siranap.ruangan.simrs_kemkes,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.siranap.ruangan.simrs_kemkes.GridController",Ext.app.ViewController,{onSelectRuangan:function(n,m){var l=this.getView().getSelection();if(m){if(Ext.isArray(l)){if(l.length>0){var o=l[0].get("REFERENSI")||{};o.RUANGAN_KEMKES=m.data;l[0].set("REFERENSI",o)}}}},onSelectRuanganRS:function(n,m){var l=this.getView().getSelection();if(m){if(Ext.isArray(l)){if(l.length>0){var o=l[0].get("REFERENSI")||{};o.RUANGAN_SIMRS=m.data;l[0].set("REFERENSI",o)}}}},onRendererRuangan:function(o,q,p){var e=p.get("REFERENSI"),n=e?e.RUANGAN_KEMKES:null;if(n){return n.DESKRIPSI}return o},onRendererRuanganRS:function(f,s,q){var p=this.getView(),t=q.get("REFERENSI"),e=t?t.RUANGAN_SIMRS:null;if(e){return e.DESKRIPSI}return f},onStatusCheck:function(s,e,q){var t=this,f=e?1:0,p=s.getWidgetRecord();if(p){if(p.get("STATUS")===f){return}p.set("STATUS",f);p.save({callback:function(l,g,k){if(k){t.getView().notifyMessage("Data telah disimpan")}}})}},onSimpan:function(e){var n=this,q=n.getStore("store"),o=q.getModifiedRecords(),p=0;Ext.Array.each(o,function(f){var g=f.crudState=="U"?f.clone():Ext.clone(f);delete g.data.REFERENSI;g.save({callback:function(k,l,m){if(m){if(p===(o.length-1)){n.getView().notifyMessage("Data telah disimpan")}}p++}})});n.onRefresh()},onTambah:function(m){var k=this,l=k.getStore("store");l.insert(0,Ext.create("plugins.kemkes.siranap.ruangan.simrs_kemkes.Model",{}))},onRefresh:function(){this.getView().reload()}},0,0,0,0,["controller.plugins-kemkes-siranap-ruangan-simrs_kemkes-grid"],0,[plugins.kemkes.siranap.ruangan.simrs_kemkes,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.siranap.tempattidur.Grid",com.Grid,{controller:"plugins-kemkes-siranap-tempattidur-grid",viewModel:{stores:{store:{type:"plugins-kemkes-siranap-tempattidur-store"}}},columns:[{xtype:"templatecolumn",text:"Ruangan",sortable:false,tpl:"{REFERENSI.RUANGAN.DESKRIPSI}",flex:1},{xtype:"templatecolumn",text:"Kelas",sortable:false,tpl:"{REFERENSI.KELAS.DESKRIPSI}"},{xtype:"numbercolumn",text:"Total",dataIndex:"total_TT",format:"###",sortable:false,align:"right",width:72},{text:"Terpakai",columns:[{xtype:"numbercolumn",text:"L",dataIndex:"terpakai_male",format:"###",sortable:false,align:"right",width:54},{xtype:"numbercolumn",text:"P",dataIndex:"terpakai_female",format:"###",sortable:false,align:"right",width:54}]},{text:"Kosong",columns:[{xtype:"numbercolumn",text:"L",dataIndex:"kosong_male",format:"###",sortable:false,align:"right",width:54},{xtype:"numbercolumn",text:"P",dataIndex:"kosong_female",format:"###",sortable:false,align:"right",width:54},{xtype:"templatecolumn",text:"Kosong",sortable:false,width:86,align:"right",tpl:new Ext.XTemplate("{[this.getFormatNumber(values)]}",{getFormatNumber:function(g){var k=g.kosong_male+g.kosong_female;return Ext.util.Format.number(k,"0,000")}})}]},{xtype:"numbercolumn",text:"Waiting<br/>List",dataIndex:"waiting",format:"###",sortable:false,align:"right",width:85},{xtype:"datecolumn",format:"d-m-Y H:i:s",text:"Tgl. Update",dataIndex:"tgl_update",sortable:false,width:140,align:"center"}],doAfterLoad:function(w,t,g,v){try{if(!g){w.removeDataStore();if(v.error){var s=v.error.response,x=Ext.JSON.decode(s.responseText),u=x.detail?(Ext.isObject(x.detail)?Ext.JSON.encode(x.detail):x.detail):"Koneksi Gagal";w.notifyMessage(u,"danger-red")}}}catch(f){w.notifyMessage("Koneksi Gagal","danger-red")}}},0,["plugins-kemkes-siranap-tempattidur-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","plugins-kemkes-siranap-tempattidur-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"plugins-kemkes-siranap-tempattidur-grid":true},["widget.plugins-kemkes-siranap-tempattidur-grid"],0,[plugins.kemkes.siranap.tempattidur,"Grid"],0));(Ext.cmd.derive("plugins.kemkes.siranap.tempattidur.GridController",Ext.app.ViewController,{},0,0,0,0,["controller.plugins-kemkes-siranap-tempattidur-grid"],0,[plugins.kemkes.siranap.tempattidur,"GridController"],0));(Ext.cmd.derive("plugins.kemkes.sisrute.Service",plugins.BaseService,{getRujukan:function(g,k){this.request("kemkes/getRujukan/"+g,"GET","",k)},buatRujukan:function(g,k){this.request("kemkes/buatRujukan","POST",g,k)},ubahRujukan:function(g,k){this.request("kemkes/ubahRujukan","PUT",g,k)},batalRujukan:function(m,l,k){this.request("kemkes/batalRujukan/"+m,"PUT",l,k)},simpanRujukan:function(g,k){this.request("kemkes/simpanRujukan","POST",g,k)}},0,["sisruteservice"],["baseservice","sisruteservice"],{baseservice:true,sisruteservice:true},["widget.sisruteservice"],0,[plugins.kemkes.sisrute,"Service"],0));(Ext.cmd.derive("plugins.kemkes.sitt.Form",com.Form,{controller:"plugins-kemkes-sitt-form",model:"plugins.kemkes.sitt.Model",layout:{type:"vbox",align:"stretch"},defaults:{xtype:"fieldcontainer",layout:{type:"hbox"},margin:"1 0 0 0"},items:[{fieldLabel:"No. Registrasi Kab/Kota",items:[{xtype:"textfield",emptyText:"Masukkan No. Registrasi Kab/Kota",margin:"0 15 0 0",name:"noKartu",flex:1},{xtype:"datefield",fieldLabel:"Tgl. SEP",labelWidth:50,format:"d/m/Y",reference:"tglSep",width:180,margin:"0 1 0 0"},{xtype:"timefield",format:"H:i:s",width:110,reference:"wktSep"}]},{fieldLabel:"Asal Rujukan",items:[{xtype:"segmentedbutton",items:[{text:"Faskes 1",idx:1,pressed:true},{text:"Faskes 2(RS)",idx:2}],listeners:{toggle:"onToggleAsalRujukan"},margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"Nomor",emptyText:"Masukkan No. Rujukan",margin:"0 15 0 0",reference:"noRujukan",labelWidth:45,flex:1},{xtype:"textfield",fieldLabel:"PPK",emptyText:"Masukkan PPK Rujukan",margin:"0 15 0 0",reference:"ppkRujukan",labelWidth:27,width:120},{xtype:"datefield",fieldLabel:"Tgl.",labelWidth:27,format:"d/m/Y",reference:"tglRujukan",width:157,margin:"0 1 0 0"},{xtype:"timefield",format:"H:i:s",width:110,reference:"wktRujukan"}]},{fieldLabel:"Jenis Pelayanan",items:[{xtype:"segmentedbutton",items:[{text:"Rawat Inap",idx:1},{text:"Rawat Jalan",idx:2,pressed:true}],listeners:{toggle:"onToggleButtonRawat"},margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"Catatan",labelWidth:50,reference:"catatan",emptyText:"Masukkan Catatan",flex:1}]},{fieldLabel:"Diagnosa Awal",items:[{xtype:"textfield",emptyText:"Masukkan Diagnosa Awal",reference:"diagAwal",margin:"0 15 0 0",flex:1},{xtype:"textfield",fieldLabel:"Poli Tujuan",labelWidth:70,emptyText:"Masukkan Poli Tujuan",reference:"poliTujuan",margin:"0 15 0 0",flex:1},{fieldLabel:"Poli Eksekutif?",xtype:"fieldcontainer",labelWidth:90,items:[{xtype:"segmentedbutton",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onTogglePoliEksekutif"}}]}]},{fieldLabel:"Kelas Rawat",defaults:{margin:"0 15 0 0"},items:[{xtype:"segmentedbutton",items:[{text:"Kelas 1",idx:1},{text:"Kelas 2",idx:2},{text:"Kelas 3",idx:3,pressed:true}],listeners:{toggle:"onToggleButtonKelas"}},{fieldLabel:"COB?",xtype:"fieldcontainer",labelWidth:35,items:[{xtype:"segmentedbutton",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onToggleCOB"}}]},{fieldLabel:"Katarak?",xtype:"fieldcontainer",labelWidth:60,items:[{xtype:"segmentedbutton",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onToggleKatarak"}}]}]},{fieldLabel:"SKDP",items:[{xtype:"textfield",emptyText:"Masukkan No. Surat",reference:"nosuratskdp",flex:2},{xtype:"plugins-bpjs-referensi-spesialistik-combo",reference:"spesialiscombo",flex:1,listeners:{select:"onSelectSpesialistik"}},{xtype:"plugins-bpjs-referensi-dpjp-combo",flex:1,reference:"dpjpcombo"}]},{fieldLabel:"Laka Lantas",items:[{xtype:"segmentedbutton",items:[{text:"Kasus Kecelakaan",idx:1},{text:"Bukan Kasus Kecelakaan",idx:2,pressed:true}],listeners:{toggle:"onToggleButtonLakaLantas"},margin:"0 15 0 0"},{xtype:"combobox",fieldLabel:"Penjamin",labelWidth:60,store:{fields:["ID","DESKRIPSI"],data:[{ID:1,DESKRIPSI:"PT. Jasa Raharja"},{ID:2,DESKRIPSI:"BPJS Ketenagakerjaan"},{ID:3,DESKRIPSI:"PT. TASPEN"},{ID:4,DESKRIPSI:"PT. ASABRI"}]},displayField:"DESKRIPSI",valueField:"ID",editable:false,listeners:{select:"onSelectPenjamin"},margin:"0 15 0 0"},{xtype:"datefield",fieldLabel:"Tgl. Kejadian",labelWidth:90,format:"d/m/Y",reference:"tglkejadian",width:220,margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"Keterangan",labelWidth:90,emptyText:"Masukkan Keterangan",reference:"lokasiLaka",flex:1}]},{fieldLabel:"Suplesi",items:[{xtype:"segmentedbutton",items:[{text:"Ya",idx:1},{text:"Tidak",idx:0,pressed:true}],listeners:{toggle:"onToggleButtonSuplesi"},margin:"0 15 0 0"},{xtype:"textfield",emptyText:"Masukkan No. Suplesi",reference:"nosuplesi",flex:1},{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_PROPINSI",firstLoad:true,reference:"propinsicombo",emptyText:"[Propinsi]",flex:1,listeners:{select:"onSelectWilayah"}},{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_KABUPATEN",reference:"kabupatencombo",params:{tipe:2},emptyText:"[Kabupaten]",flex:1,listeners:{select:"onSelectWilayah"}},{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_KECAMATAN",reference:"kecamatancombo",params:{tipe:3},flex:1,emptyText:"[Kecamatan]"}]},{fieldLabel:"User",items:[{xtype:"textfield",emptyText:"Masukkan Nama Pengguna",flex:1,reference:"user",margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"No. MR",labelWidth:50,emptyText:"Masukkan Nomor Rekam Medis",reference:"noMr",flex:1,margin:"0 15 0 0"},{xtype:"textfield",fieldLabel:"No. Telp.",labelWidth:55,emptyText:"No. Telepon Peserta/Pasien",reference:"noTelp",flex:1}]},{xtype:"fieldcontainer",items:[{xtype:"component",flex:1},{xtype:"button",text:"Generate SEP",handler:"onGenerateSEP"}]},{xtype:"textareafield",fieldLabel:"Respon",reference:"response",labelAlign:"top",readOnly:true,flex:1}]},0,["plugins-kemkes-sitt-form"],["component","box","container","panel","form","com-form","plugins-kemkes-sitt-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"plugins-kemkes-sitt-form":true},["widget.plugins-kemkes-sitt-form"],0,[plugins.kemkes.sitt,"Form"],0));(Ext.cmd.derive("plugins.kemkes.sitt.FormController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onToggleButtonKelas:function(l,m,k){this.getView().klsRawat=m.idx},onToggleButtonRawat:function(l,m,k){this.getView().jnsPelayanan=m.idx},onToggleAsalRujukan:function(l,m,k){this.getView().asalRujukan=m.idx},onTogglePoliEksekutif:function(l,m,k){this.getView().poliEksekutif=m.idx},onToggleCOB:function(l,m,k){this.getView().cob=m.idx},onToggleKatarak:function(l,m,k){this.getView().katarak=m.idx},onSelectSpesialistik:function(t,e){var u=this,f=u.getView(),s=u.getReferences(),g=s.dpjpcombo.getStore(),v=s.tglSep.getValue();if(e){g.setQueryParams({jenisPelayanan:f.jnsPelayanan,tglPelayanan:Ext.util.Format.date(v,"Y-m-d"),kodeSpesialis:e.get("kode")});g.load()}},onToggleButtonLakaLantas:function(l,m,k){this.getView().lakaLantas=m.idx},onSelectPenjamin:function(g,k){if(k){this.getView().penjamin=k.get("ID")}},onToggleButtonSuplesi:function(l,m,k){this.getView().suplesi=m.idx},onSelectWilayah:function(m,k){var l=this.getReferences();if(m.params.tipe==1){l.kecamatancombo.getStore().removeAll();l.kabupatencombo.getStore().removeAll();l.kabupatencombo.params.kodePropinsi=k.get("kode");l.kabupatencombo.load()}if(m.params.tipe==2){l.kecamatancombo.getStore().removeAll();l.kecamatancombo.params.kodeKabupaten=k.get("kode");l.kecamatancombo.load()}},onGenerateSEP:function(k){var F=this,e=F.getView(),H=F.getReferences();H.response.setValue("");if(F.service){var D=H.tglSep.getValue(),l=H.wktSep.getValue(),m=H.tglRujukan.getValue(),G=H.wktRujukan.getValue(),C=H.tglkejadian.getValue(),E=H.dpjpcombo.getSelection(),g=H.propinsicombo.getSelection(),B=H.kabupatencombo.getSelection(),f=H.kecamatancombo.getSelection();D.setHours(l.getHours());D.setMinutes(l.getMinutes());D.setSeconds(l.getSeconds());m.setHours(G.getHours());m.setMinutes(G.getMinutes());m.setSeconds(G.getSeconds());e.setLoading(true);F.service.buatSEP({noKartu:H.noKartu.getValue(),tglSep:Ext.util.Format.date(D,"Y-m-d H:i:s"),tglRujukan:Ext.util.Format.date(m,"Y-m-d H:i:s"),asalRujukan:e.asalRujukan,noRujukan:H.noRujukan.getValue(),ppkRujukan:H.ppkRujukan.getValue(),jnsPelayanan:e.jnsPelayanan,catatan:H.catatan.getValue(),diagAwal:H.diagAwal.getValue(),poliTujuan:H.poliTujuan.getValue(),eksekutif:e.poliEksekutif,klsRawat:e.klsRawat,cob:e.cob,katarak:e.katarak,noSuratSKDP:H.nosuratskdp.getValue(),dpjpSKDP:E?E.get("kode"):"",lakaLantas:e.lakaLantas,penjamin:e.penjamin,tglKejadian:Ext.util.Format.date(C,"Y-m-d"),suplesi:e.suplesi,noSuplesi:H.nosuplesi.getValue(),lokasiLaka:H.lokasiLaka.getValue(),propinsi:g?g.get("kode"):"",kabupaten:B?B.get("kode"):"",kecamatan:f?f.get("kode"):"",user:H.user.getValue(),norm:H.noMr.getValue(),noTelp:H.noTelp.getValue()},function(o,n){if(o){H.response.setValue(JSON.stringify(n,undefined,2))}e.setLoading(false)})}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.plugins-kemkes-sitt-form"],0,[plugins.kemkes.sitt,"FormController"],0));(Ext.cmd.derive("plugins.kemkes.sitt.Service",plugins.BaseService,{simpan:function(g,k){this.request("kemkes/sitt","POST",g,k)}},0,["sittservice"],["baseservice","sittservice"],{baseservice:true,sittservice:true},["widget.sittservice"],0,[plugins.kemkes.sitt,"Service"],0));(Ext.cmd.derive("plugins.pusdatin.Service",plugins.BaseService,{nik:function(g,k){this.request("pusdatin/nik/"+g,"GET","",k)}},0,["pusdatinservice"],["baseservice","pusdatinservice"],{baseservice:true,pusdatinservice:true},["widget.pusdatinservice"],0,[plugins.pusdatin,"Service"],0));(Ext.cmd.derive("plugins.tts.Service",plugins.BaseService,{audios:[],idx:0,parent:undefined,audioCount:0,constructor:function(n){var m=this;m.config=Ext.apply(m.config,n);m.callParent();m.initConfig(m.config);for(var o=0;o<=m.audioCount-1;o++){var l=Ext.create("com.Audio",{controls:false,volume:10});l.on("ended",function(){if(m.idx<(m.audios.length-1)){m.idx++;m.audios[m.idx].play()}else{m.idx=0}});m.audios.push(l)}},getAudios:function(){return this.audios},speech:function(n){var m=this,l=webservice.location+"plugins/tts?q=";if(Ext.isArray(n)){if(m.audioCount>1){Ext.Array.each(n,function(e,f){if(f==0){m.audios[f].setSrc(l+e)}else{m.audios[f].setSrc(l+e);m.audios[f].load()}})}else{var o=Ext.JSON.encode(n);m.audios[m.idx].setSrc(l+o+"&ty=json")}}else{m.audios[m.idx].setSrc(l+n)}m.audios[m.idx].play()},load:function(l){var k=this;if(Ext.isArray(l)){var m=Ext.JSON.encode(l);k.request("tts?q="+m+"&ty=json")}else{k.request("tts?q="+l+"&ty=json")}},replay:function(){this.audios[this.idx].play()},destroy:function(){var k=this;if(k.audios.length>0){for(var l=0;l<=k.audioCount-1;l++){var m=k.audios.pop();if(m){if(m.destroy){m.destroy()}}}k.audios=[]}k.callParent()}},1,["ttservice"],["baseservice","ttservice"],{baseservice:true,ttservice:true},["widget.ttservice"],0,[plugins.tts,"Service"],0));(Ext.cmd.derive("kunjungan.perubahantanggal.Model",data.model.Model,{serviceName:"pendaftaran/perubahantanggalkunjungan",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"TANGGAL_LAMA",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL_BARU",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"JENIS",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[kunjungan.perubahantanggal,"Model"],0));(Ext.cmd.derive("kunjungan.Detil",com.Form,{controller:"kunjungan-detil",viewModel:{data:{record:undefined,allowEditTanggal:false},stores:{store:{type:"kunjungan-store"}},formulas:{isAllowEditTanggal:function(k){var g=k("record.STATUS");g=g!=undefined?g:1;g=g==2||g==0;return !g&&k("allowEditTanggal")},getInfoMasuk:function(o){var f=o("record.MASUK"),e=f?"Masuk: "+Ext.Date.format(f,"l, d F Y"):"",g=f?" Pukul "+Ext.Date.format(f,"H:i:s"):"";return e+g},getInfoKeluar:function(o){var f=o("record.KELUAR"),e=f?"Keluar: "+Ext.Date.format(f,"l, d F Y"):"",g=f?" Pukul "+Ext.Date.format(f,"H:i:s"):"";return e+g},getInfoRawatInap:function(e){var g=e("record.REFERENSI"),f=e("record.JENIS_KUNJUNGAN"),o=g?(f==3?(g.RUANG_KAMAR_TIDUR?g.RUANG_KAMAR_TIDUR:null):null):null;rk=o?o.REFERENSI.RUANG_KAMAR:null;kls=rk?rk.REFERENSI.KELAS:null;desk=o?(rk?rk.KAMAR+" / "+o.TEMPAT_TIDUR+(kls?" / "+kls.DESKRIPSI:""):""):"";return desk},getInfoStatus:function(o){var f=o("record.REFERENSI"),g=f?(f.STATUS?f.STATUS:false):false,e=g?g.DESKRIPSI:"";return e},getInfoTitipan:function(n){var o=n("record.REFERENSI"),m=o?(o.TITIPAN_KELAS?o.TITIPAN_KELAS:false):false,l=m?"Pasien Titipan "+m.DESKRIPSI:"";return l}}},layout:{type:"vbox",align:"stretch",pack:"top"},cls:"x-br-top",bodyStyle:"background: white",border:false,defaultType:"component",defaults:{style:"font-size: 13px; text-align: right",margin:"0 0 1 0"},items:[{cls:"x-color-blue",style:"font-size: 17px; text-align: right",bind:"<b>{record.REFERENSI.RUANGAN.DESKRIPSI}</b>"},{cls:"x-color-blue",style:"font-size: 14px; text-align: right",bind:"<b>{getInfoRawatInap}</b>"},{xtype:"fieldcontainer",layout:"hbox",items:[{xtype:"component",cls:"x-color-blue",style:"font-size: 14px; text-align: right",bind:"<b>{getInfoTitipan}</b>",flex:1},{xtype:"button",padding:1,text:"Titipkan",hidden:true,bind:{hidden:"{!(record.JENIS_KUNJUNGAN == 3 && record.STATUS == 1 && record.TITIPAN == 0)}"},margin:"0 0 0 3",handler:"onTitipkan"},{xtype:"button",padding:1,text:"Batalkan Titipan",ui:"soft-red",hidden:true,bind:{hidden:"{!(record.JENIS_KUNJUNGAN == 3 && record.STATUS == 1 && record.TITIPAN == 1)}"},margin:"0 0 0 3",handler:"onBatalkanTitipan"}]},{xtype:"fieldcontainer",layout:"hbox",items:[{xtype:"component",cls:"x-color-gray",style:"text-align: right",bind:"{getInfoMasuk}",flex:1},{xtype:"button",padding:0,border:false,frame:false,margin:"0 0 0 3",style:"background: transparent;",iconCls:"x-fa fa-pencil-square-o x-color-blue x-bold",hidden:true,bind:{hidden:"{!isAllowEditTanggal}"},handler:"onUbah"}]},{bind:"{getInfoKeluar}"},{cls:"x-color-red",bind:"Status. {getInfoStatus}"}],load:function(g,f){try{var q=this,p=q.getViewModel(),o=p.get("store");if(p){if(Ext.getClassName(g)=="data.model.Kunjungan"){p.set("record",g);p.notify()}else{if(o){o.queryParams=g;o.load(function(m,e,l){try{if(l&&m.length>0){var k=p.get("record");if(Ext.getClassName(k)=="data.model.Kunjungan"){k.set(m[0].data)}else{p.set("record",m[0])}}if(Ext.isFunction(f)){if(m){f(m[0],l)}}}catch(n){}})}}p.set("allowEditTanggal",q.app.xpriv("110110"))}}catch(f){}},getRecord:function(){return this.getViewModel().get("record")}},0,["kunjungan-detil"],["component","box","container","panel","form","com-form","kunjungan-detil"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"kunjungan-detil":true},["widget.kunjungan-detil"],0,[kunjungan,"Detil"],0));(Ext.cmd.derive("kunjungan.DetilController",Ext.app.ViewController,{onUbah:function(u){var x=this,f=x.getView(),v=x.getViewModel(),e=v.get("record"),w=e.get("REFERENSI"),g=w?(w.PENDAFTARAN?w.PENDAFTARAN:false):false,t=true;if(f.app){t=!f.app.xpriv("110110")}if(t){f.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Perubahan tanggal kunjungan!");return}f.showMessageBox({title:"Perubahan Tanggal Kunjungan",message:"Anda yakin ingin merubah tanggal kunjungan?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:u,fn:function(k){if(k==="yes"){f.openDialog("",true,170,200,{xtype:"kunjungan-perubahantanggal-form",title:"Perubahan Tanggal Kunjungan",ui:"panel-red",showCloseButton:true},function(l,o){var n=o.down("kunjungan-perubahantanggal-form"),m=g?(Ext.isString(g.TANGGAL)?Ext.Date.parse(g.TANGGAL,"Y-m-d H:i:s"):g.TANGGAL):new Date();n.on({close:function(){o.close()},save:function(){e.load();o.close()}});n.setFormConfig({tanggalBaru:{minValueBefore:Ext.Date.clone(m),minValue:m}});n.createRecord({KUNJUNGAN:e.get("NOMOR"),JENIS:1,TANGGAL_LAMA:e.get("MASUK"),TANGGAL_BARU:e.get("MASUK")})})}}})},onTitipkan:function(q){var t=this,p=t.getView(),s=t.getViewModel(),f=s.get("record"),e=f?f.clone():null;if(e){p.showMessageBox({title:"Titipan",message:"Anda yakin ingin melakukan penitipan pasien di ruangan ini?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:q,fn:function(g){if(g==="yes"){p.openDialog("",true,170,200,{xtype:"kunjungan-titipan-form",title:"Titipan",ui:"panel-red",showCloseButton:true},function(l,k){var m=k.down("kunjungan-titipan-form");m.on({save:function(){f.load();k.close()}});e.set("TITIPAN",1);e.set("TITIPAN_KELAS",0);m.loadRecord(e)})}}})}},onBatalkanTitipan:function(q){var t=this,p=t.getView(),s=t.getViewModel(),f=s.get("record"),e=f?f.clone():null;if(e){e.showError=true;e.animateTarget=q;e.scope=t;p.showMessageBox({title:"Pembatalan Titipan",message:"Anda yakin ingin melakukan pembatalan pasien titipan?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:q,fn:function(g){if(g==="yes"){e.set("TITIPAN",0);e.set("TITIPAN_KELAS",null);e.save({callback:function(l,k,m){if(m){p.notifyMessage("Pembatalan titipan pasien berhasil","danger-blue");f.load()}}})}}})}}},0,0,0,0,["controller.kunjungan-detil"],0,[kunjungan,"DetilController"],0));(Ext.cmd.derive("kunjungan.List",com.Grid,{controller:"kunjungan-list",viewModel:{data:{listConfig:{paging:false,hiddenPencarian:false,gridMode:true,pencarian:{norm:{enabled:false},nama:{enabled:false}},hiddenLihatAction:false,hiddenFinalAction:true,filter:{status:{enabled:false}}},hideColumnConfig:{noUrut:false,nomor:true,nopen:false,pasien:true,ruangan:false,tglMasuk:false,tglKeluar:false,status:false,action:false}},stores:{store:{type:"kunjungan-store"}}},header:{items:[{xtype:"search-field",emptyText:"[Cari No. RM]",width:150,hidden:true,jenis:1,bind:{hidden:"{!listConfig.pencarian.norm.enabled}"},listeners:{search:"onSearch",clear:"onClear"}},{xtype:"search-field",emptyText:"[Cari No. Pendaftaran]",width:200,hidden:true,jenis:2,bind:{hidden:"{listConfig.hiddenPencarian}"},listeners:{search:"onSearch",clear:"onClear"}},{xtype:"search-field",emptyText:"[Nama Pasien]",flex:1,hidden:true,jenis:3,bind:{hidden:"{!listConfig.pencarian.nama.enabled}"},listeners:{search:"onSearch",clear:"onClear"}},{xtype:"fieldcontainer",layout:"hbox",width:200,bind:{hidden:"{!listConfig.filter.status.enabled}"},items:[{xtype:"checkbox",ui:"checkbox-white",reference:"enablestatus",checked:true,listeners:{change:"onStatusChange"}},{xtype:"referensi-combo",reference:"statusaktifitas",defaultValue:2,firstLoad:true,style:"color: white",flex:1,params:{JENIS:31,STATUS:1},tooltip:"Status Aktifitas Kunjungan",bind:{disabled:"{!enablestatus.checked}"},listeners:{select:"onSelectStatusAktifitas"}}]},{xtype:"button",iconCls:"x-fa fa-bars",ui:"soft-green",tooltip:"Pilihan",arrowVisible:false,menu:[{text:"Filter",iconCls:"x-fa fa-filter",menu:[{xtype:"fieldcontainer",layout:"hbox",items:[{xtype:"checkbox",boxLabel:"Tanggal",reference:"filtertanggal",checked:false,listeners:{change:"onFilterTanggalChange"}},{xtype:"datefield",name:"TANGGAL",format:"d-m-Y",value:new Date(),bind:{disabled:"{!filtertanggal.checked}"},listeners:{change:"onFilterTanggalChange"}}]}]}]}]},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50,bind:{hidden:"{hideColumnConfig.noUrut}"}},{text:"Nomor",dataIndex:"NOMOR",sortable:false,flex:1,align:"center",bind:{hidden:"{hideColumnConfig.nomor}"}},{text:"No. Pendaftaran",dataIndex:"NOPEN",sortable:false,width:117,align:"center",bind:{hidden:"{hideColumnConfig.nopen}"}},{xtype:"templatecolumn",text:"Pasien",flex:1,sortable:false,bind:{hidden:"{hideColumnConfig.pasien}"},tpl:new Ext.XTemplate('<div class="thumb-wrap">','<div class="thumb">','<div style="white-space:normal !important;">{[this.getInfoPasien(values)]}</div>',"</div>","</div>",{getInfoPasien:function(e){var o=e.REFERENSI,q=o.PENDAFTARAN,p=q.REFERENSI.PASIEN,n=Ext.String.leftPad(p.NORM,8,"0");n=Ext.String.insert(Ext.String.insert(Ext.String.insert(n,".",2),".",5),".",8);return n+" - "+p.NAMA+"</br>"+(p.ALAMAT?p.ALAMAT:"-")}})},{xtype:"templatecolumn",text:"Ruangan",flex:1,sortable:false,bind:{hidden:"{hideColumnConfig.ruangan}"},tpl:new Ext.XTemplate('<div class="thumb-wrap">','<div class="thumb">','<div style="white-space:normal !important;">{REFERENSI.RUANGAN.DESKRIPSI}</div>','<div style="white-space:normal !important;">{[this.getInfo(values)]}</div>','<div style="white-space:normal !important;">{[this.getInfoTitipan(values)]}</div>',"</div>","</div>",{getInfo:function(n){var l=n.REFERENSI,m=n.JENIS_KUNJUNGAN,o=l?(m==3?(l.RUANG_KAMAR_TIDUR?l.RUANG_KAMAR_TIDUR:null):null):null;rk=o?o.REFERENSI.RUANG_KAMAR:null;kls=rk?rk.REFERENSI.KELAS:null;desk=o?(rk?rk.KAMAR+" / "+o.TEMPAT_TIDUR+(kls?" / "+kls.DESKRIPSI:""):""):"";return desk},getInfoTitipan:function(o){var l=o.REFERENSI,m=l?(l.TITIPAN_KELAS?l.TITIPAN_KELAS:null):null,n=m?"Pasien Titipan "+m.DESKRIPSI:"";return n}})},{xtype:"datecolumn",text:"Tgl. Masuk",dataIndex:"MASUK",width:137,align:"center",format:"d/m/Y H:i:s",sortable:false,bind:{hidden:"{hideColumnConfig.tglMasuk}"}},{xtype:"datecolumn",text:"Tgl. Keluar",dataIndex:"KELUAR",align:"center",width:137,format:"d/m/Y H:i:s",sortable:false,bind:{hidden:"{hideColumnConfig.tglKeluar}"}},{xtype:"templatecolumn",text:"Status",sortable:false,flex:1,bind:{hidden:"{hideColumnConfig.status}"},tpl:'<div style="white-space:normal !important;">{REFERENSI.STATUS.DESKRIPSI}</div>'},{xtype:"templatecolumn",flex:2,bind:{hidden:"{listConfig.gridMode}"},tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[this.getFormatNorm(values.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NORM)]} - {[this.getNamaLengkap(values.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN)]}</div>',"<div>{[this.getFormatPendaftaran(values.NOPEN)]} - {[this.tanggalFormat(values.REFERENSI.PENDAFTARAN.TANGGAL)]}</div>",'<div style="font-size: 12px; white-space:normal !important;">{NOMOR} - {[this.tanggalFormat(values.MASUK)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Ruangan: {[this.getRuangan(values)]}</div>','<div style="white-space:normal !important;">{[this.getInfoTitipan(values)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Penjamin: {[this.getPenjamin(values.REFERENSI.PENDAFTARAN.PENJAMIN)]}</div>','<div style="font-size: 12px; white-space:normal !important; color: #19c5bf;">Status: {REFERENSI.STATUS.DESKRIPSI}</div>',{getFormatNorm:function(m){var f=Ext.String.leftPad(m,8,"0"),e=Ext.String.insert(Ext.String.insert(Ext.String.insert(f,".",2),".",5),".",8);return e},getNamaLengkap:function(e){var g=e.GELAR_DEPAN||"",o=e.NAMA||"",f=e.GELAR_BELAKANG||"";g=g==""?"":g+". ";f=f==""?"":", "+f;return g+o+f},getFormatPendaftaran:function(f){return f.substring(0,6)+"."+f.substring(6)},tanggalFormat:function(g){var k=Ext.isDate(g)?g:Ext.Date.parse(g,"Y-m-d H:i:s");return Ext.Date.format(k,"d-m-Y H:i:s")},getRuangan:function(n){var z=n.REFERENSI,q=z?(z.RUANGAN?z.RUANGAN.DESKRIPSI:""):"",p=z?z.RUANG_KAMAR_TIDUR:null,o=p?p.REFERENSI.RUANG_KAMAR:null,l=p?p.TEMPAT_TIDUR:"",y=o?o.KAMAR:"",m=o?(o.REFERENSI.KELAS?o.REFERENSI.KELAS.DESKRIPSI:""):"",k=q+"</br>"+y+" / "+l+" / "+m;return k},getInfoTitipan:function(o){var l=o.REFERENSI,m=l?(l.TITIPAN_KELAS?l.TITIPAN_KELAS:null):null,n=m?"Pasien Titipan "+m.DESKRIPSI:"";return n},getPenjamin:function(o){var m=o.REFERENSI,l=m.KAP,n=l.REFERENSI.PENJAMIN.DESKRIPSI+(l.NOMOR==""?"":"-"+l.NOMOR)+" [ Kls. "+(m.KELAS?m.KELAS.DESKRIPSI:"")+" - SEP. "+o.NOMOR+" ]";return n}})},{xtype:"widgetcolumn",text:"Aksi",align:"center",bind:{hidden:"{hideColumnConfig.action}"},widget:{xtype:"fieldcontainer",layout:{type:"vbox",align:"stretch"},defaults:{padding:2,margin:"0 2 1 0"},items:[{xtype:"button",text:"Lihat",action:0,handler:"onLihat",hidden:true,bind:{hidden:"{listConfig.hiddenLihatAction}"}},{xtype:"button",text:"Final",ui:"soft-red",action:1,hidden:true,bind:{hidden:"{listConfig.hiddenFinalAction}"},handler:"onFinal"}]}}],hideColumnConfig:function(f){var m=this,e=m.getViewModel();_config=e.get("hideColumnConfig");f=Ext.apply(_config,f);e.set("hideColumnConfig",f);e.notify()},onBeforeLoad:function(e,s,q){var t=s.get("listConfig.gridMode"),p=e.down("referensi-combo"),f=e.down("[reference=filtertanggal]");if(s.get("listConfig.filter.status.enabled")){p.setDefaultValue(t?2:1)}e.setParams({COLUMNS:'["NOMOR","NOPEN","MASUK","KELUAR","RUANGAN","RUANG_KAMAR_TIDUR","TITIPAN","TITIPAN_KELAS","STATUS"]',REFERENSI:Ext.JSON.encode({Ruangan:{COLUMNS:["DESKRIPSI"]},Pendaftaran:true,Referensi:true,RuangKamarTidur:true}),STATUS:t?2:1});if(!t){e.hideColumnConfig({noUrut:true,nomor:true,nopen:true,pasien:true,ruangan:true,tglMasuk:true,tglKeluar:true,status:true})}}},0,["kunjungan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","kunjungan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"kunjungan-list":true},["widget.kunjungan-list"],0,[kunjungan,"List"],0));(Ext.cmd.derive("kunjungan.ListController",Ext.app.ViewController,{init:function(){var f=this.getStore("store");if(f){f.on("load",function(k,e){if(e.length==0){f.removeAll()}})}this.isFirstLoad=true;this.filter={tanggal:{checked:false,value:new Date()},norm:"",nopen:"",nama:"",status:{checked:true,value:2}};this.orderSelected={property:"MASUK",direction:"ASC"}},onLihat:function(f){this.doLihat(f.ownerCt.getWidgetRecord())},doLihat:function(e){var v=this,g=v.getView(),t=v.getViewModel(),u=t.get("listConfig.gridMode");if(u){g.fireEvent("lihat",e);return}var s=Ext.create("data.model.Pendaftaran",g.getReferensi(e.data,"PENDAFTARAN")),f=Ext.create("data.model.Pasien",g.getReferensi(s.data,"PASIEN"));g.openWindow({header:false,border:false,modal:true,maximized:true,constrain:g,layout:"fit",items:[{xtype:"layanan-workspace",ui:"panel-cyan",iconCls:"x-fa fa-file-text-o",showCloseButton:true}]},function(l,n){var m=n.down("layanan-workspace");m.on({reopen:function(o){n.close();v.doLihat(o)}});var k=new Ext.util.DelayedTask(function(){m.load(f,s,e)});k.delay(100)})},onFinal:function(n){var o=this,e=o.getView(),p=n.ownerCt.getWidgetRecord(),q=p?p.get("STATUS"):0;if(q==0){return}e.showMessageBox({title:"Final Kunjungan",message:"Anda yakin ingin menyelesaikan / memfinalkan kunjungan ini ?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:n,fn:function(f){if(f==="yes"){p.showError=true;p.animateTarget=f;p.scope=o;p.set("STATUS",2);p.save({callback:function(g,k,l){if(l){e.notifyMessage("Kunjungan telah difinalkan");e.reload()}else{p.set("STATUS",q)}}})}else{p.set("STATUS",q)}}})},onSearch:function(g,k){if(g.jenis==1){this.filter.norm=k}if(g.jenis==2){this.filter.nopen=k}if(g.jenis==3){this.filter.nama=k}this.cari()},onClear:function(f){if(f.jenis==1){this.filter.norm=""}if(f.jenis==2){this.filter.nopen=""}if(f.jenis==3){this.filter.nama=""}this.cari()},onFilterTanggalChange:function(o,l,n){var m=this;if(Ext.getClassName(o)=="Ext.form.field.Checkbox"){m.filter.tanggal.checked=l}else{m.filter.tanggal.value=l}m.doFilterTanggal()},onStatusChange:function(m,k,l){this.filter.status.checked=k;this.doFilterStatus()},onSelectStatusAktifitas:function(g,k){if(k&&!this.isFirstLoad){this.filter.status.value=k.get("ID");this.doFilterStatus()}this.isFirstLoad=false},privates:{cari:function(){var o=this,p=o.getView(),n=o.getViewModel(),q=p.down("pagingtoolbar"),e={};if(n.get("listConfig.pencarian.norm.enabled")){if(o.filter.norm==""){delete p.getStore().queryParams.NORM}else{e.NORM=o.filter.norm}}if(o.filter.nopen==""){delete p.getStore().queryParams.NOPEN}else{e.NOPEN=o.filter.nopen}if(o.filter.nama==""){delete p.getStore().queryParams.NAMA}else{e.NAMA=o.filter.nama}p.setParams(e);if(q){q.moveFirst()}else{p.load()}},doFilterTanggal:function(){var l=this,n=l.getView(),o=n.down("pagingtoolbar"),m={sort:Ext.JSON.encode(l.orderSelected)};if(!l.filter.tanggal.checked){delete n.getStore().queryParams.MASUK}else{m.MASUK=Ext.Date.format(l.filter.tanggal.value,"Y-m-d")}n.setParams(m);if(o){o.moveFirst()}else{n.load()}},doFilterStatus:function(){var l=this,n=l.getView(),o=n.down("pagingtoolbar"),m={};if(!l.filter.status.checked){delete n.getStore().queryParams.STATUS}else{m.STATUS=l.filter.status.value}n.setParams(m);if(o){o.moveFirst()}else{n.load()}}}},0,0,0,0,["controller.kunjungan-list"],0,[kunjungan,"ListController"],0));(Ext.cmd.derive("kunjungan.pasienmeninggal.Form",com.Form,{controller:"pasien-meninggal-form",model:"data.model.PasienMeninggal",layout:{type:"vbox",align:"stretch"},title:"Pasien Meninggal",bodyPadding:5,defaults:{margin:"0 2 2 0"},defaults:{allowBlank:false},items:[{xtype:"fieldcontainer",fieldLabel:"Tanggal Meninggal",layout:{type:"hbox"},items:[{name:"TANGGAL",reference:"tanggal",xtype:"datefield",emptyText:"[Pilih Tanggal Meninggal]",format:"d/m/Y",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",minValue:"{formConfig.minDate}",maxValue:"{formConfig.maxDate}"}},{name:"WAKTU",reference:"waktu",width:105,xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",bind:{readOnly:"{formConfig.viewOnly}"},format:"H:i:s",allowBlank:false,hideTrigger:true}]},{xtype:"textfield",fieldLabel:"Diagnosa Meninggal",name:"DIAGNOSA",bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"dokter-combo",fieldLabel:"Dokter Penanggung Jawab",name:"DOKTER",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focus:"onBeforeQuery"}}],onLoadRecord:function(v,w){var e=v.down("[reference=waktu]"),g=v.down("dokter-combo"),u=w.get("REFERENSI"),t=u?(u.DOKTER?Ext.create("data.model.Dokter",u.DOKTER):null):null;if(e){e.setValue(w.get("TANGGAL"))}if(u){var x=u.KUNJUNGAN,f=x.STATUS!=1;v.setFormConfig({viewOnly:f,minDate:x.MASUK,maxDate:v.getSysdate()});g.select(t);g.params.RUANGAN=x.RUANGAN;g.load()}},onBeforeGetRecord:function(o,m){var l=Ext.Date.clone(o.down("[reference=tanggal]").getValue()),n=o.down("[reference=waktu]").getValue();if(l){l.setHours(n.getHours());l.setMinutes(n.getMinutes());l.setSeconds(n.getSeconds())}m.TANGGAL=l}},0,["pasien-meninggal-form"],["component","box","container","panel","form","com-form","pasien-meninggal-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pasien-meninggal-form":true},["widget.pasien-meninggal-form"],0,[kunjungan.pasienmeninggal,"Form"],0));(Ext.cmd.derive("kunjungan.pasienmeninggal.FormController",Ext.app.ViewController,{onBeforeQuery:function(f){if(f.combo){f.combo.getStore().removeAll()}},onSimpan:function(m){var k=this,l=k.getView();l.save(m,{success:"Data pasien meninggal telah tersimpan"})}},0,0,0,0,["controller.pasien-meninggal-form"],0,[kunjungan.pasienmeninggal,"FormController"],0));(Ext.cmd.derive("kunjungan.pasienpulang.Form",com.Form,{controller:"pasien-pulang-form",model:"data.model.PasienPulang",layout:{type:"vbox",align:"stretch"},title:"Pasien Keluar",bodyPadding:5,defaults:{margin:"0 2 2 0",allowBlank:false,labelWidth:150},items:[{xtype:"fieldcontainer",fieldLabel:"Tanggal Keluar",layout:{type:"hbox"},defaults:{margin:"0 0 2 0"},items:[{name:"TANGGAL",reference:"tanggal",xtype:"datefield",emptyText:"[Pilih Tanggal Keluar]",format:"d/m/Y",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",minValue:"{formConfig.minDate}",maxValue:"{formConfig.maxDate}"}},{name:"WAKTU",reference:"waktu",xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",bind:{readOnly:"{formConfig.viewOnly}"},format:"H:i:s",allowBlank:false,hideTrigger:true}]},{xtype:"referensi-combo",params:{JENIS:45},firstLoad:true,fieldLabel:"Cara Keluar",name:"CARA",reference:"cara",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{select:"onSelectCara"}},{xtype:"referensi-combo",params:{JENIS:46},firstLoad:true,fieldLabel:"Keadaan Keluar",name:"KEADAAN",reference:"keadaaan",bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"textfield",fieldLabel:"Diagnosa Akhir",name:"DIAGNOSA",bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"dokter-combo",fieldLabel:"Dokter Penanggung Jawab",name:"DOKTER",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focus:"onBeforeQuery"}}],onLoadRecord:function(x,f){var A=x.down("[reference=waktu]"),v=x.down("[reference=cara]"),e=x.down("dokter-combo"),B=f.get("REFERENSI"),z=B?(B.DOKTER?Ext.create("data.model.Dokter",B.DOKTER):null):null;if(A){A.setValue(f.get("TANGGAL"))}if(B){var w=B.KUNJUNGAN,y=Ext.create("data.model.Referensi",B.CARA),g=w.STATUS!=1;x.setFormConfig({viewOnly:g,minDate:w.MASUK,maxDate:x.getSysdate()});v.select(y);x.getController().onSelectCara(v,y);v.load();e.select(z);e.params.RUANGAN=w.RUANGAN;e.load()}},onBeforeGetRecord:function(o,m){var l=Ext.Date.clone(o.down("[reference=tanggal]").getValue()),n=o.down("[reference=waktu]").getValue();if(l){l.setHours(n.getHours());l.setMinutes(n.getMinutes());l.setSeconds(n.getSeconds())}m.TANGGAL=l;m.STATUS=1}},0,["pasien-pulang-form"],["component","box","container","panel","form","com-form","pasien-pulang-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pasien-pulang-form":true},["widget.pasien-pulang-form"],0,[kunjungan.pasienpulang,"Form"],0));(Ext.cmd.derive("kunjungan.pasienpulang.FormController",Ext.app.ViewController,{onBeforeQuery:function(f){if(f.combo){f.combo.getStore().removeAll()}},onSelectCara:function(g,k){this.getView().fireEvent("caraselect",k)},onSimpan:function(m){var k=this,l=k.getView();l.save(m,{success:"Data pasien keluar telah tersimpan"},function(A,z,w){if(w){var B=l.app.xitr("ID",1);if(B){var f=Ext.create(B.NAMA_KLAS,{}),e=l.getRecord(),y=e.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN.PENJAMIN,x=y.NOMOR,g=Ext.util.Format.date(e.get("TANGGAL"),"Y-m-d H:i:s");if(f&&x!=""){if(B.REF==y.JENIS){f.updateTanggalPulang({noSEP:x,tglPlg:g,user:l.app.usrNm},function(n,o){if(n){l.notifyMessage("Kirim update tanggal pulang ke BPJS berhasil")}})}}}}})}},0,0,0,0,["controller.pasien-pulang-form"],0,[kunjungan.pasienpulang,"FormController"],0));(Ext.cmd.derive("kunjungan.pasienpulang.Workspace",com.Form,{controller:"pasien-pulang-workspace",viewModel:{data:{viewConfig:{pasienmeninggal:false,simpan:false}},stores:{ppstore:{type:"pasienpulang-store"},pmstore:{type:"pasienmeninggal-store"}}},layout:"border",items:[{region:"center",xtype:"pasien-pulang-form",reference:"pasienkeluar",listeners:{caraselect:"onCaraSelect",save:"onSimpanPasienKeluar"}},{region:"east",width:"45%",collapsible:true,xtype:"pasien-meninggal-form",reference:"pasienmeninggal",split:true,hidden:true,bind:{hidden:"{!viewConfig.pasienmeninggal}"},listeners:{save:"onSimpanPasienMeninggal"}}],buttons:[{text:"Simpan",hidden:true,bind:{hidden:"{!viewConfig.simpan}"},handler:"onSimpan"}],load:function(f){var g=this,A=g.down("pasien-pulang-form"),w=g.down("pasien-meninggal-form");if(f){if(Ext.getClassName(f)=="data.model.Kunjungan"){var B=f.get("STATUS")!=1,v=g.getViewModel().get("ppstore"),y=g.getViewModel().get("pmstore"),x={KUNJUNGAN:f.get("NOMOR")},e={KUNJUNGAN:f.get("NOMOR"),NOPEN:f.get("NOPEN"),REFERENSI:{KUNJUNGAN:f.data},TANGGAL:g.getSysdate()},z={KUNJUNGAN:f.get("NOMOR"),REFERENSI:{KUNJUNGAN:f.data},TANGGAL:g.getSysdate()};g.getViewModel().set("viewConfig.simpan",!B);v.queryParams=x;y.queryParams=x;v.load(function(k,p,l){var n=false;if(l){if(k.length>0){var o=k[0].get("REFERENSI")?k[0].get("REFERENSI"):null,m=o.KUNJUNGAN?o.KUNJUNGAN:false;if(!m){o.KUNJUNGAN=f.data}A.loadRecord(k[0]);y.load(function(q,u,t){var F=false;if(t){if(q.length>0){var s=q[0].get("REFERENSI")?q[0].get("REFERENSI"):null,E=s.KUNJUNGAN?s.KUNJUNGAN:false;if(!E){s.KUNJUNGAN=f.data}w.loadRecord(q[0]);F=true}}if(!F){w.createRecord(z)}A.focus("TANGGAL")})}else{n=true}}else{n=true}if(n){A.createRecord(e);w.createRecord(z);A.focus("TANGGAL")}})}}}},0,["pasien-pulang-workspace"],["component","box","container","panel","form","com-form","pasien-pulang-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pasien-pulang-workspace":true},["widget.pasien-pulang-workspace"],0,[kunjungan.pasienpulang,"Workspace"],0));(Ext.cmd.derive("kunjungan.pasienpulang.WorkspaceController",Ext.app.ViewController,{onCaraSelect:function(f){if(f){this.getViewModel().set("viewConfig.pasienmeninggal",f.get("ID")==6||f.get("ID")==7)}},onSimpan:function(m){var k=this,l=k.getReferences();l.pasienkeluar.getController().onSimpan(m)},onSimpanPasienKeluar:function(m){var l=this,n=l.getView(),o=l.getReferences();if(m.get("CARA")==6||m.get("CARA")==7){o.pasienmeninggal.getController().onSimpan(l)}n.fireEvent("pasienpulang",m)},onSimpanPasienMeninggal:function(f){}},0,0,0,0,["controller.pasien-pulang-workspace"],0,[kunjungan.pasienpulang,"WorkspaceController"],0));(Ext.cmd.derive("kunjungan.perubahantanggal.Form",com.Form,{controller:"kunjungan-perubahantanggal-form",model:"kunjungan.perubahantanggal.Model",viewModel:{data:{formConfig:{jenis:{readOnly:true},tanggalBaru:{minValue:new Date()}}}},bodyPadding:5,items:[{xtype:"combobox",fieldLabel:"Jenis",name:"JENIS",editable:false,store:{fields:["ID","DESKRIPSI"],data:[{ID:1,DESKRIPSI:"Tanggal Masuk"},{ID:2,DESKRIPSI:"Tanggal Keluar"}]},displayField:"DESKRIPSI",valueField:"ID",emptyText:"[Jenis Perubahan]",bind:{readOnly:"{formConfig.jenis.readOnly}"}},{xtype:"fieldcontainer",fieldLabel:"Tanggal Baru",layout:"hbox",flex:1,items:[{name:"TANGGAL_BARU",reference:"tanggal",xtype:"datefield",emptyText:"[Tanggal]",flex:1,format:"d/m/Y",margin:"0 1 0 0",bind:{minValue:"{formConfig.tanggalBaru.minValue}"}},{name:"WAKTU",reference:"waktu",width:105,xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",format:"H:i:s",hideTrigger:true}]}],buttons:[{text:"Ubah",ui:"soft-blue",iconCls:"x-fa fa-pencil-square-o",handler:"onUbah"}],onLoadRecord:function(m,k){var l=m.down("[name=WAKTU]");l.setValue(k.get("TANGGAL_BARU"))},onBeforeGetRecord:function(o,m){var l=o.down("[reference=tanggal]").getValue(),n=o.down("[reference=waktu]").getValue();l.setHours(n.getHours());l.setMinutes(n.getMinutes());l.setSeconds(n.getSeconds());m.TANGGAL_BARU=l}},0,["kunjungan-perubahantanggal-form"],["component","box","container","panel","form","com-form","kunjungan-perubahantanggal-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"kunjungan-perubahantanggal-form":true},["widget.kunjungan-perubahantanggal-form"],0,[kunjungan.perubahantanggal,"Form"],0));(Ext.cmd.derive("kunjungan.perubahantanggal.FormController",Ext.app.ViewController,{onUbah:function(q){var t=this,p=t.getView(),s=t.getViewModel(),f=p.getRecord(),e=s.get("formConfig.tanggalBaru.minValueBefore");if(!f){p.notifyMessage("Silahkan cek tanggal & waktu baru yang anda inputkan");return}if(e>f.get("TANGGAL_BARU")){p.notifyMessage("Tanggal & waktu yang anda inputkan tidak boleh kurang dari tanggal "+Ext.Date.format(e,"d-m-Y H:i:s"));return}if(f.get("TANGGAL_LAMA")==f.get("TANGGAL_BARU")){p.notifyMessage("Anda belum melakukan perubahan tanggal & waktu");return}p.save(q,{success:"Ubah Tanggal Kunjungan sudah berhasil diubah"})}},0,0,0,0,["controller.kunjungan-perubahantanggal-form"],0,[kunjungan.perubahantanggal,"FormController"],0));(Ext.cmd.derive("kunjungan.titipan.Form",com.Form,{controller:"kunjungan-titipan-form",model:"data.model.Kunjungan",items:[{xtype:"textfield",name:"TITIPAN",hidden:true},{xtype:"referensi-combo",fieldLabel:"Pilih kelas titipan",labelAlign:"top",params:{JENIS:19,STATUS:1},name:"TITIPAN_KELAS",firstLoad:true,editable:false,allowBlank:false}],buttons:[{text:"Titipkan",ui:"soft-blue",handler:"onTitipkan"}]},0,["kunjungan-titipan-form"],["component","box","container","panel","form","com-form","kunjungan-titipan-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"kunjungan-titipan-form":true},["widget.kunjungan-titipan-form"],0,[kunjungan.titipan,"Form"],0));(Ext.cmd.derive("kunjungan.titipan.FormController",Ext.app.ViewController,{onTitipkan:function(m){var k=this,l=k.getView();l.save(m,{success:"Pasien sudah berhasil dititip"})}},0,0,0,0,["controller.kunjungan-titipan-form"],0,[kunjungan.titipan,"FormController"],0));(Ext.cmd.derive("kunjungan.widget.Info",com.Form,{controller:"kunjungan-widget-info",viewModel:{data:{pasien:undefined,buttons:{batal:false},dataFound:false}},cls:"shadow-panel",border:true,inRefresh:false,layout:{type:"vbox",align:"stretch"},header:{iconCls:"x-fa fa-users",title:"Kunjungan",margin:0,padding:"5 10 1 10",cls:"x-color-w",layout:{type:"hbox",align:"middle"},items:[{xtype:"component",flex:1},{xtype:"button",iconCls:"x-fa fa-list",tooltip:"Tampilkan Detil",ui:"soft-blue",bind:{hidden:"{!dataFound}"},margin:"0 0 0 1",handler:"onDetilKunjungan"},{xtype:"button",iconCls:"x-fa fa-history",tooltip:"History Kunjungan",ui:"soft-cyan",bind:{hidden:"{!dataFound}"},margin:"0 0 0 1",handler:"onHistoryKunjungan"},{xtype:"button",iconCls:"x-fa fa-minus-circle",tooltip:"Batalkan Kunjungan",bind:{hidden:"{!buttons.batal}"},ui:"soft-red",margin:"0 0 0 1",handler:"onBatalKunjungan"}]},bodyPadding:5,items:[{xtype:"container",layout:"hbox",items:[{xtype:"pendaftaran-short-detil",flex:1,reference:"pendaftaran"},{xtype:"kunjungan-detil",flex:1,reference:"kunjungan"}]},{xtype:"penjamin-detil",flex:1,reference:"penjamin"}],refresh:function(){if(!this.inRefresh){this.getController().init()}}},0,["kunjungan-widget-info"],["component","box","container","panel","form","com-form","kunjungan-widget-info"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"kunjungan-widget-info":true},["widget.kunjungan-widget-info"],0,[kunjungan.widget,"Info"],0));(Ext.cmd.derive("kunjungan.widget.InfoController",Ext.app.ViewController,{init:function(){var v=this,g=v.getView(),f=v.getViewModel(),t=v.getReferences(),k=f.get("pasien"),u=v.getXpriv(),l=u("110802",false);if(!l){f.set("buttons.batal",false)}g.inRefresh=true;t.kunjungan.load({NORM:k.get("NORM"),STATUS:Ext.JSON.encode([1,2]),start:0,limit:1},function(e,m){try{if(m){t.penjamin.load({NOPEN:e.get("NOPEN"),NORM:k.get("NORM")});t.pendaftaran.load({NOMOR:e.get("NOPEN")});var o=e.get("REFERENSI");f.set("igdirna",o.RUANGAN.JENIS_KUNJUNGAN==2||o.RUANGAN.JENIS_KUNJUNGAN==3);f.set("buttons.batal",e.get("STATUS")==1)}else{f.set("buttons.batal",false)}g.inRefresh=false;f.set("dataFound",m);if(!l){f.set("buttons.batal",false)}}catch(n){}})},onDetilKunjungan:function(l){var x=this,k=x.getViewModel(),m=x.getReferences(),w=k.get("pasien"),n=m.pendaftaran.getRecord(),o=m.kunjungan.getRecord(),p=m.penjamin.getRecord();this.getView().fireEvent("detilkunjungan",l,w,n,o,p)},onHistoryKunjungan:function(l){var x=this,k=x.getViewModel(),m=x.getReferences(),w=k.get("pasien"),n=m.pendaftaran.getRecord(),o=m.kunjungan.getRecord(),p=m.penjamin.getRecord();this.getView().fireEvent("historykunjungan",l,w,n,o,p)},onBatalKunjungan:function(t){var u=this,f=u.getView(),g=u.getReferences(),e=g.kunjungan.getRecord();if(e){var v=u.getXpriv(),s=v?false:true;if(v){s=!v("110802",false)}if(s){f.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Pembatalan kunjungan!");return}e.showError=true;e.animateTarget=t;e.scope=u;f.showMessageBox({title:"Pembatalan Kunjungan",message:"Anda yakin ingin membatalkan kunjungan ini ?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:t,fn:function(k){if(k==="yes"){e.set("STATUS",0);e.save({callback:function(n,l,m){if(m){f.notifyMessage("Pembatalan kunjungan berhasil")}else{n.set("STATUS",1)}}})}else{e.set("STATUS",1)}}})}u.getView().fireEvent("batal")},privates:{getXpriv:function(){var k=webservice.app,g=k?k.xpriv:false;return g}}},0,0,0,0,["controller.kunjungan-widget-info"],0,[kunjungan.widget,"InfoController"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.Model",data.model.Model,{serviceName:"medicalrecord/anamnesis/edukasipasienkeluarga",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"KESEDIAAN",type:"int"},{name:"HAMBATAN",type:"int"},{name:"HAMBATAN_PENDENGARAN",type:"int"},{name:"HAMBATAN_PENGLIHATAN",type:"int"},{name:"HAMBATAN_KOGNITIF",type:"int"},{name:"HAMBATAN_FISIK",type:"int"},{name:"HAMBATAN_BUDAYA",type:"int"},{name:"HAMBATAN_EMOSI",type:"int"},{name:"HAMBATAN_BAHASA",type:"int"},{name:"HAMBATAN_LAINNYA",type:"string"},{name:"PENERJEMAH",type:"int"},{name:"BAHASA",type:"string"},{name:"EDUKASI_DIAGNOSA",type:"int"},{name:"EDUKASI_PENYAKIT",type:"int"},{name:"EDUKASI_REHAB_MEDIK",type:"int"},{name:"EDUKASI_HKP",type:"int"},{name:"EDUKASI_OBAT",type:"int"},{name:"EDUKASI_NYERI",type:"int"},{name:"EDUKASI_NUTRISI",type:"int"},{name:"EDUKASI_PENGGUNAAN_ALAT",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.anamnesis.edukasipasienkeluarga,"Model"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.Store",data.store.Store,{model:"rekammedis.anamnesis.edukasipasienkeluarga.Model"},0,0,0,0,["store.rekammedis-anamnesis-edukasipasienkeluarga-store"],0,[rekammedis.anamnesis.edukasipasienkeluarga,"Store"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.emergency.Model",data.model.Model,{serviceName:"medicalrecord/anamnesis/edukasipasienkeluarga/emergency",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"EDUKASI",type:"string"},{name:"KEMBALI_KE_UGD",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.anamnesis.edukasipasienkeluarga.emergency,"Model"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.emergency.Store",data.store.Store,{model:"rekammedis.anamnesis.edukasipasienkeluarga.emergency.Model"},0,0,0,0,["store.rekammedis-anamnesis-edukasipasienkeluarga-emergency-store"],0,[rekammedis.anamnesis.edukasipasienkeluarga.emergency,"Store"],0));(Ext.cmd.derive("rekammedis.anamnesis.keluhan.utama.Model",data.model.Model,{serviceName:"medicalrecord/anamnesis/keluhan/utama",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"DESKRIPSI",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.anamnesis.keluhan.utama,"Model"],0));(Ext.cmd.derive("rekammedis.anamnesis.keluhan.utama.Store",data.store.Store,{model:"rekammedis.anamnesis.keluhan.utama.Model"},0,0,0,0,["store.rekammedis-anamnesis-keluhan-utama-store"],0,[rekammedis.anamnesis.keluhan.utama,"Store"],0));(Ext.cmd.derive("rekammedis.anamnesis.kondisisosial.Model",data.model.Model,{serviceName:"medicalrecord/anamnesis/kondisisosial",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"MARAH",type:"int"},{name:"CEMAS",type:"int"},{name:"TAKUT",type:"int"},{name:"BUNUH_DIRI",type:"int"},{name:"LAINNYA",type:"string"},{name:"MASALAH_PERILAKU",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.anamnesis.kondisisosial,"Model"],0));(Ext.cmd.derive("rekammedis.anamnesis.kondisisosial.Store",data.store.Store,{model:"rekammedis.anamnesis.kondisisosial.Model"},0,0,0,0,["store.rekammedis-anamnesis-kondisisosial-store"],0,[rekammedis.anamnesis.kondisisosial,"Store"],0));(Ext.cmd.derive("rekammedis.anamnesis.permasalahangizi.Model",data.model.Model,{serviceName:"medicalrecord/anamnesis/permasalahangizi",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"BERAT_BADAN_SIGNIFIKAN",type:"int"},{name:"PERUBAHAN_BERAT_BADAN",type:"int"},{name:"INTAKE_MAKANAN",type:"int"},{name:"KONDISI_KHUSUS",type:"string"},{name:"SKOR",type:"int"},{name:"STATUS_SKOR",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.anamnesis.permasalahangizi,"Model"],0));(Ext.cmd.derive("rekammedis.anamnesis.permasalahangizi.Store",data.store.Store,{model:"rekammedis.anamnesis.permasalahangizi.Model"},0,0,0,0,["store.rekammedis-anamnesis-permasalahangizi-store"],0,[rekammedis.anamnesis.permasalahangizi,"Store"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.alergi.Model",data.model.Model,{serviceName:"medicalrecord/anamnesis/riwayat/alergi",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"DESKRIPSI",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.anamnesis.riwayat.alergi,"Model"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.alergi.Store",data.store.Store,{model:"rekammedis.anamnesis.riwayat.alergi.Model"},0,0,0,0,["store.rekammedis-anamnesis-riwayat-alergi-store"],0,[rekammedis.anamnesis.riwayat.alergi,"Store"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.pemberianobat.Model",data.model.Model,{serviceName:"medicalrecord/anamnesis/riwayat/pemberianobat",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"OBAT",type:"string"},{name:"DOSIS",type:"string"},{name:"LAMA_PENGGUNAAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.anamnesis.riwayat.pemberianobat,"Model"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.pemberianobat.Store",data.store.Store,{model:"rekammedis.anamnesis.riwayat.pemberianobat.Model"},0,0,0,0,["store.rekammedis-anamnesis-riwayat-pemberianobat-store"],0,[rekammedis.anamnesis.riwayat.pemberianobat,"Store"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.perjalananpenyakit.Model",data.model.Model,{serviceName:"medicalrecord/anamnesis/riwayat/perjalananpenyakit",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"DESKRIPSI",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.anamnesis.riwayat.perjalananpenyakit,"Model"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.perjalananpenyakit.Store",data.store.Store,{model:"rekammedis.anamnesis.riwayat.perjalananpenyakit.Model"},0,0,0,0,["store.rekammedis-anamnesis-riwayat-perjalananpenyakit-store"],0,[rekammedis.anamnesis.riwayat.perjalananpenyakit,"Store"],0));(Ext.cmd.derive("rekammedis.anamnesis.statusfungsional.Model",data.model.Model,{serviceName:"medicalrecord/anamnesis/statusfungsional",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"TANPA_ALAT_BANTU",type:"int"},{name:"TONGKAT",type:"int"},{name:"KURSI_RODA",type:"int"},{name:"BRANKARD",type:"int"},{name:"WALKER",type:"int"},{name:"ALAT_BANTU",type:"string"},{name:"CACAT_TUBUH_TIDAK",type:"int"},{name:"CACAT_TUBUH_YA",type:"int"},{name:"KET_CACAT_TUBUH",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.anamnesis.statusfungsional,"Model"],0));(Ext.cmd.derive("rekammedis.anamnesis.statusfungsional.Store",data.store.Store,{model:"rekammedis.anamnesis.statusfungsional.Model"},0,0,0,0,["store.rekammedis-anamnesis-statusfungsional-store"],0,[rekammedis.anamnesis.statusfungsional,"Store"],0));(Ext.cmd.derive("rekammedis.anamnesis.umum.Model",data.model.Model,{serviceName:"medicalrecord/anamnesis",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"PENDAFTARAN",type:"string"},{name:"DESKRIPSI",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.anamnesis.umum,"Model"],0));(Ext.cmd.derive("rekammedis.anamnesis.umum.Store",data.store.Store,{model:"rekammedis.anamnesis.umum.Model"},0,0,0,0,["store.rekammedis-anamnesis-umum-store"],0,[rekammedis.anamnesis.umum,"Store"],0));(Ext.cmd.derive("rekammedis.cppt.Model",data.model.Model,{serviceName:"medicalrecord/cppt",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"SUBYEKTIF",type:"string"},{name:"OBYEKTIF",type:"string"},{name:"ASSESMENT",type:"string"},{name:"PLANNING",type:"string"},{name:"JENIS",type:"int"},{name:"TENAGA_MEDIS",type:"int"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.cppt,"Model"],0));(Ext.cmd.derive("rekammedis.cppt.Store",data.store.Store,{model:"rekammedis.cppt.Model"},0,0,0,0,["store.rekammedis-cppt-store"],0,[rekammedis.cppt,"Store"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.fisik.Model",data.model.Model,{serviceName:"medicalrecord/pemeriksaan/fisik",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"PENDAFTARAN",type:"string"},{name:"DESKRIPSI",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.pemeriksaan.fisik,"Model"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.fisik.Store",data.store.Store,{model:"rekammedis.pemeriksaan.fisik.Model"},0,0,0,0,["store.rekammedis-pemeriksaan-fisik-store"],0,[rekammedis.pemeriksaan.fisik,"Store"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.fungsional.Model",data.model.Model,{serviceName:"medicalrecord/pemeriksaan/umum/fungsional",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"ALAT_BANTU",type:"string"},{name:"PROTHESA",type:"string"},{name:"CACAT_TUBUH",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.pemeriksaan.umum.fungsional,"Model"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.fungsional.Store",data.store.Store,{model:"rekammedis.pemeriksaan.umum.fungsional.Model"},0,0,0,0,["store.rekammedis-pemeriksaan-umum-fungsional-store"],0,[rekammedis.pemeriksaan.umum.fungsional,"Store"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.nutrisi.Model",data.model.Model,{serviceName:"medicalrecord/pemeriksaan/umum/nutrisi",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"BERAT_BADAN",type:"float"},{name:"TINGGI_BADAN",type:"float"},{name:"INDEX_MASSA_TUBUH",type:"float"},{name:"LINGKAR_KEPALA",type:"float"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.pemeriksaan.umum.nutrisi,"Model"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.nutrisi.Store",data.store.Store,{model:"rekammedis.pemeriksaan.umum.nutrisi.Model"},0,0,0,0,["store.rekammedis-pemeriksaan-umum-nutrisi-store"],0,[rekammedis.pemeriksaan.umum.nutrisi,"Store"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.tandavital.Model",data.model.Model,{serviceName:"medicalrecord/pemeriksaan/umum/tandavital",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"KEADAAN_UMUM",type:"string"},{name:"KESADARAN",type:"string"},{name:"SISTOLIK",type:"float"},{name:"DISTOLIK",type:"float"},{name:"FREKUENSI_NADI",type:"float"},{name:"FREKUENSI_NAFAS",type:"float"},{name:"SUHU",type:"float"},{name:"WAKTU_PEMERIKSAAN",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.pemeriksaan.umum.tandavital,"Model"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.tandavital.Store",data.store.Store,{model:"rekammedis.pemeriksaan.umum.tandavital.Model"},0,0,0,0,["store.rekammedis-pemeriksaan-umum-tandavital-store"],0,[rekammedis.pemeriksaan.umum.tandavital,"Store"],0));(Ext.cmd.derive("rekammedis.penilaian.diagnosis.Model",data.model.Model,{serviceName:"medicalrecord/penilaian/diagnosis",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"DIAGNOSIS",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.penilaian.diagnosis,"Model"],0));(Ext.cmd.derive("rekammedis.penilaian.diagnosis.Store",data.store.Store,{model:"rekammedis.penilaian.diagnosis.Model"},0,0,0,0,["store.rekammedis-penilaian-diagnosis-store"],0,[rekammedis.penilaian.diagnosis,"Store"],0));(Ext.cmd.derive("rekammedis.penilaian.fisik.Model",data.model.Model,{serviceName:"medicalrecord/penilaian/fisik",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"DESKRIPSI",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.penilaian.fisik,"Model"],0));(Ext.cmd.derive("rekammedis.penilaian.fisik.Store",data.store.Store,{model:"rekammedis.penilaian.fisik.Model"},0,0,0,0,["store.rekammedis-penilaian-fisik-store"],0,[rekammedis.penilaian.fisik,"Store"],0));(Ext.cmd.derive("rekammedis.penilaian.nyeri.Model",data.model.Model,{serviceName:"medicalrecord/penilaian/nyeri",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"NYERI",type:"int"},{name:"ONSET",type:"int"},{name:"SKALA",type:"float"},{name:"METODE",type:"int"},{name:"PENCETUS",type:"string"},{name:"GAMBARAN",type:"string"},{name:"DURASI",type:"string"},{name:"LOKASI",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.penilaian.nyeri,"Model"],0));(Ext.cmd.derive("rekammedis.penilaian.nyeri.Store",data.store.Store,{model:"rekammedis.penilaian.nyeri.Model"},0,0,0,0,["store.rekammedis-penilaian-nyeri-store"],0,[rekammedis.penilaian.nyeri,"Store"],0));(Ext.cmd.derive("rekammedis.penilaian.statuspediatric.Model",data.model.Model,{serviceName:"medicalrecord/penilaian/statuspediatric",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"STATUS_PEDIATRIC",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.penilaian.statuspediatric,"Model"],0));(Ext.cmd.derive("rekammedis.penilaian.statuspediatric.Store",data.store.Store,{model:"rekammedis.penilaian.statuspediatric.Model"},0,0,0,0,["store.rekammedis-penilaian-statuspediatric-store"],0,[rekammedis.penilaian.statuspediatric,"Store"],0));(Ext.cmd.derive("rekammedis.perencanaan.jadwalkontrol.Model",data.model.Model,{serviceName:"medicalrecord/perencanaan/jadwalkontrol",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"NOMOR",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d"},{name:"JAM",type:"date",dateFormat:"H:i:s"},{name:"DESKRIPSI",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.perencanaan.jadwalkontrol,"Model"],0));(Ext.cmd.derive("rekammedis.perencanaan.jadwalkontrol.Store",data.store.Store,{model:"rekammedis.perencanaan.jadwalkontrol.Model"},0,0,0,0,["store.rekammedis-perencanaan-jadwalkontrol-store"],0,[rekammedis.perencanaan.jadwalkontrol,"Store"],0));(Ext.cmd.derive("rekammedis.perencanaan.rencanaterapi.Model",data.model.Model,{serviceName:"medicalrecord/perencanaan/rencanaterapi",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"DESKRIPSI",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[rekammedis.perencanaan.rencanaterapi,"Model"],0));(Ext.cmd.derive("rekammedis.perencanaan.rencanaterapi.Store",data.store.Store,{model:"rekammedis.perencanaan.rencanaterapi.Model"},0,0,0,0,["store.rekammedis-perencanaan-rencanaterapi-store"],0,[rekammedis.perencanaan.rencanaterapi,"Store"],0));(Ext.cmd.derive("rekammedis.Workspace",com.Form,{controller:"workspace-rekammedis",viewModel:{data:{jenisKunjungan:1}},layout:"fit",bodyPadding:0,kunjungan:undefined,items:[{xtype:"com-form",ui:"panel-cyan",viewModel:{data:{formConfig:{"final":false,batalFinal:false}}},title:"Rekam Medis",titleFieldConfig:{},fullscreenEnabled:true,menuConfig:{enabled:true,width:190,buttonConfig:{}},fullscreenConfig:{},header:{items:[{xtype:"button",text:"Final",iconCls:"x-fa fa-check",ui:"soft-cerulen",bind:{hidden:"{!formConfig.final}"},tooltip:"Final",handler:"onFinal"},{xtype:"button",iconCls:"x-fa fa-chain-broken",tooltip:"Batalkan Final",bind:{hidden:"{!formConfig.batalFinal}"},ui:"soft-red",handler:"onBatalFinal"},{xtype:"button",iconCls:"x-fa fa-print",ui:"soft-cerulen",tooltip:"Cetak",menu:[{iconCls:"x-fa fa-newspaper-o",text:"Resume Medis",handler:"onCetakResume"},{iconCls:"x-fa fa-newspaper-o",text:"List Instrumen",handler:"onCetakListInstrumen"},{iconCls:"x-fa fa-newspaper-o",text:"Pengkajian Awal",hidden:true,bind:{hidden:"{jenisKunjungan != 1 && jenisKunjungan != 2}"},handler:"onCetakKajianAwal"},{iconCls:"x-fa fa-newspaper-o",text:"Pengkajian Harian",hidden:true,bind:{hidden:"{jenisKunjungan != 1 && jenisKunjungan != 2}"},handler:"onCetakKajianHarian"},{iconCls:"x-fa fa-newspaper-o",text:"Cetak CPPT",handler:"onCetakCPPT"}]}]}}],load:function(n){var o=this.getViewModel(),l=this.down("com-form");this.kunjungan=n;if(n){o.set("jenisKunjungan",n.get("JENIS_KUNJUNGAN"));l.setFormConfig({"final":this.app.xpriv("110901",false)&&n.get("FINAL_HASIL")==0,batalFinal:this.app.xpriv("110902",false)&&n.get("FINAL_HASIL")==1})}var m=[{text:"Anamnesis",leaf:true,iconCls:"simpel-anamnesis",idClassName:"rekammedis_anamnesis",className:"rekammedis.anamnesis.Workspace",record:n},{text:"Pemeriksaan",leaf:true,iconCls:"x-fa fa-stethoscope",idClassName:"rekammedis_pemeriksaan",className:"rekammedis.pemeriksaan.Workspace",record:n},{text:"Penilaian",leaf:true,iconCls:"simpel-penilaian",idClassName:"rekammedis_penilaian",className:"rekammedis.penilaian.Workspace",record:n},{text:"ICD",leaf:true,iconCls:"simpel-icd",idClassName:"rekammedis_icd",className:"rekammedis.icd.Workspace",options:{header:false,bodyPadding:0,isLayanan:true},record:n},{text:"Perencanaan",leaf:true,iconCls:"simpel-perencanaan",idClassName:"rekammedis_perencanaan",className:"rekammedis.perencanaan.Workspace",record:n},{text:"CPPT",leaf:true,iconCls:"simpel-cppt",idClassName:"rekammedis_cppt",className:"rekammedis.cppt.Workspace",record:n}];l.setMenus(m)}},0,["rekammedis-workspace"],["component","box","container","panel","form","com-form","rekammedis-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-workspace":true},["widget.rekammedis-workspace"],0,[rekammedis,"Workspace"],0));(Ext.cmd.derive("rekammedis.WorkspaceController",Ext.app.ViewController,{onCetakResume:function(l){var m=this,n=m.getView(),o=n.kunjungan.get("REFERENSI").PENDAFTARAN;m.cetakMR({NAME:"mr.CetakMR2ResumeMedis",PARAMETER:{PNOPEN:o.NOMOR},PRINT_NAME:"CetakMR"},"Cetak Resume Medis",l)},onCetakListInstrumen:function(l){var m=this,n=m.getView(),o=n.kunjungan.get("NOMOR");m.cetakMR({NAME:"mr.ListInstrumen",PARAMETER:{PKUNJUNGAN:o},PRINT_NAME:"CetakMR"},"Cetak Resume Medis",l)},onCetakKajianAwal:function(l){var m=this,n=m.getView(),o=n.kunjungan.get("REFERENSI").PENDAFTARAN;m.cetakMR({NAME:"mr.PengkajianAwal",PARAMETER:{PNOPEN:o.NOMOR,PKUNJUNGAN:n.kunjungan.get("NOMOR"),CETAK_HEADER:1},PRINT_NAME:"CetakMR"},"Cetak Pengkajian Awal",l)},onCetakCPPT:function(l){var m=this,n=m.getView(),o=n.kunjungan.get("REFERENSI").PENDAFTARAN;m.cetakMR({NAME:"mr.CetakCatatanMedik",PARAMETER:{PNOPEN:o.NOMOR,PKUNJUNGAN:n.kunjungan.get("NOMOR")},PRINT_NAME:"CetakMR"},"Cetak CPPT",l)},onCetakKajianHarian:function(l){var m=this,n=m.getView(),o=n.kunjungan.get("REFERENSI").PENDAFTARAN;m.cetakMR({NAME:"mr.PengkajianHarian",PARAMETER:{PNOPEN:o.NOMOR,PKUNJUNGAN:n.kunjungan.get("NOMOR"),CETAK_HEADER:1},PRINT_NAME:"CetakMR"},"Cetak Pengkajian Harian",l)},onFinal:function(e){var n=this,p=n.getView(),o=p.kunjungan,q=o.get("FINAL_HASIL");p.showMessageBox({title:"Final Hasil Rekam Medis",ui:"window-blue",message:"Anda yakin untuk memfinalkan hasil rekam medis ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:e,fn:function(f){if(f==="yes"){o.showError=true;o.animateTarget=e;o.scope=n;o.set("FINAL_HASIL",1);o.save({callback:function(g,k,l){if(l){p.notifyMessage("Hasil Rekam Medis telah telah difinalkan");p.load(g)}else{o.set("FINAL_HASIL",q)}}})}else{o.set("FINAL_HASIL",q)}}})},onBatalFinal:function(s){var e=this,p=e.getView(),t=e.getViewModel(),f=p.kunjungan,q=true;if(p.app){q=!p.app.xpriv("110902")}if(q){p.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Pembatalan final hasil!");return}p.showMessageBox({title:"Pembatalan Final Hasil",message:"Anda yakin ingin membatalkan final hasil?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:s,fn:function(g){if(g==="yes"){p.openDialog("",true,150,100,{xtype:"pendaftaran-pembatalan-final_hasil-form",title:"Pembatalan Final Hasil",ui:"panel-red",showCloseButton:true},function(l,k){var m=k.down("pendaftaran-pembatalan-final_hasil-form");m.on({close:function(){k.close()},save:function(n,o,v){f.load({success:function(u,x){p.load(u)}});k.close()}});m.createRecord({KUNJUNGAN:f.get("NOMOR"),TANGGAL:p.getSysdate()})})}}})},privates:{cetakMR:function(z,w,g){var u=this,v=u.getView(),f="Word",e="docx",y=true,x=w;v.showMessageBox({title:x,message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",ui:"window-green",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:g,fn:function(k){if(k!="yes"){f="Pdf";e="pdf";y=false}z.TYPE=f;z.EXT=e;z.REQUEST_FOR_PRINT=y;v.cetak(z,function(l){v.printPreview(x,l)})}})}}},0,0,0,0,["controller.workspace-rekammedis"],0,[rekammedis,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.anamnesis.Workspace",com.Tab,{controller:"rekammedis-anamnesis-workspace",kunjungan:undefined,first:true,bodyPadding:0,items:[{title:"Umum",xtype:"rekammedis-anamnesis-umum-workspace",reference:"rauw"},{title:"Riwayat",xtype:"rekammedis-anamnesis-riwayat-workspace",reference:"rarw"},{title:"Keluhan Utama",xtype:"rekammedis-anamnesis-keluhan-utama-workspace",reference:"rakuw"},{title:"Status Fungsional",xtype:"rekammedis-anamnesis-statusfungsional-workspace",reference:"rasfw"},{title:"Kondisi Sosial & Psikososial",xtype:"rekammedis-anamnesis-kondisisosial-workspace",reference:"raksw"},{title:"Edukasi Pasien & Keluarga",xtype:"rekammedis-anamnesis-edukasipasienkeluarga-tab",reference:"raepkw"},{title:"Permasalahan Gizi",xtype:"rekammedis-anamnesis-permasalahangizi-workspace",reference:"rapgw"}],load:function(k){var m=this,l=this.getActiveTab();this.kunjungan=k;if(l){if(l.load){l.load(k)}}else{if(m.items.getCount()>0){m.setActiveTab(0)}}m.first=false},listeners:{tabchange:"onTabChange",activate:"onActivate"}},0,["rekammedis-anamnesis-workspace"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-workspace":true},["widget.rekammedis-anamnesis-workspace"],0,[rekammedis.anamnesis,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.WorkspaceController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}},onActivate:function(){var m=this.getView(),k=m.kunjungan,l=m.getActiveTab();if(!m.first){m.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-workspace"],0,[rekammedis.anamnesis,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.Form",com.Form,{controller:"rekammedis-anamnesis-edukasipasienkeluarga-form",model:"rekammedis.anamnesis.edukasipasienkeluarga.Model",viewModel:{data:{penerjemah:false}},layout:{type:"vbox",align:"stretch"},items:[{layout:{type:"vbox",align:"stretch"},scrollable:"y",defaults:{labelWidth:300,margin:"2.2.2.2"},items:[{xtype:"radiogroup",fieldLabel:"Kesediaan pasien/keluarga menerima informasi ",columns:[150,100],bind:{readOnly:"{formConfig.viewOnly}"},items:[{boxLabel:"Tidak",name:"KESEDIAAN",inputValue:0,listeners:{focusleave:"onFocusLeave"}},{boxLabel:"Ya",name:"KESEDIAAN",inputValue:1,listeners:{focusleave:"onFocusLeave"}}]},{xtype:"radiogroup",fieldLabel:"Terdapat Hambatan dalam edukasi ",reference:"hambatangroup",publishes:"value",columns:[150,100],bind:{readOnly:"{formConfig.viewOnly}"},items:[{boxLabel:"Tidak",inputValue:0,name:"HAMBATAN",listeners:{focusleave:"onFocusLeave"}},{boxLabel:"Ya",inputValue:1,name:"HAMBATAN",listeners:{focusleave:"onFocusLeave"}}]},{xtype:"fieldset",title:"Jika ya, sebutkan",layout:{type:"vbox",align:"stretch"},hidden:true,bind:{hidden:"{hambatangroup.value.HAMBATAN == 0}"},margin:"0 0 20 0",items:[{xtype:"checkboxgroup",margin:"5 10 10 10",defaults:{inputValue:"1",uncheckedValue:"0",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{blur:"onFocusLeave"}},items:[{boxLabel:"Pendengaran",name:"HAMBATAN_PENDENGARAN"},{boxLabel:"Pengelihatan",name:"HAMBATAN_PENGLIHATAN"},{boxLabel:"Kognitif",name:"HAMBATAN_KOGNITIF"},{boxLabel:"Fisik",name:"HAMBATAN_FISIK"},{boxLabel:"Budaya",name:"HAMBATAN_BUDAYA"},{boxLabel:"Emosi",name:"HAMBATAN_EMOSI"},{boxLabel:"Bahasa",name:"HAMBATAN_BAHASA"}]},{xtype:"textfield",margin:"5 10 10 10",name:"HAMBATAN_LAINNYA",fieldLabel:"Lainnya",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}}]},{xtype:"fieldcontainer",fieldLabel:"Dibutuhkan penerjemah (Jika ya, sebutkan)",layout:"hbox",items:[{xtype:"radiogroup",columns:[150,50],reference:"penerjemahgroup",publishes:"value",bind:{readOnly:"{formConfig.viewOnly}"},items:[{boxLabel:"Tidak",name:"PENERJEMAH",inputValue:0},{boxLabel:"Ya",name:"PENERJEMAH",inputValue:1}],listeners:{focusleave:"onFocusLeave"}},{xtype:"textfield",name:"BAHASA",flex:1,hidden:true,bind:{readOnly:"{formConfig.viewOnly}",hidden:"{penerjemahgroup.value.PENERJEMAH == 0}"}}]},{xtype:"fieldset",title:"Kebutuhan Edukasi",layout:{type:"hbox"},items:[{xtype:"checkboxgroup",flex:1,margin:"5 10 10 10",columns:[200,200,200],defaults:{inputValue:"1",uncheckedValue:"0",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}},items:[{boxLabel:"Diagnosa Penyakit",name:"EDUKASI_DIAGNOSA"},{boxLabel:"Obat-obatan",name:"EDUKASI_OBAT"},{boxLabel:"Diet dan Nutrisi",name:"EDUKASI_NUTRISI"},{boxLabel:"Rehabilitasi Medik",name:"EDUKASI_REHAB_MEDIK"},{boxLabel:"Manajemen Nyeri",name:"EDUKASI_NYERI"},{boxLabel:"Penggunaan alat medis",name:"EDUKASI_PENGGUNAAN_ALAT"},{boxLabel:"Hak dan Kewajiban Pasien",name:"EDUKASI_HKP"}]}]}]}]},0,["rekammedis-anamnesis-edukasipasienkeluarga-form"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-edukasipasienkeluarga-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-edukasipasienkeluarga-form":true},["widget.rekammedis-anamnesis-edukasipasienkeluarga-form"],0,[rekammedis.anamnesis.edukasipasienkeluarga,"Form"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.FormController",Ext.app.ViewController,{onChangeCheck:function(e,o,q){var n=this,p=n.getView();p.save(e)},onFocusLeave:function(s,e,g){var u=this,t=u.getViewModel(),f=u.getView(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s)}}}}},0,0,0,0,["controller.rekammedis-anamnesis-edukasipasienkeluarga-form"],0,[rekammedis.anamnesis.edukasipasienkeluarga,"FormController"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-anamnesis-edukasipasienkeluarga-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-size: 10px; white-space:normal !important;">* Kesediaan Pasien/Keluarga Menerima Informasi = {REFERENSI.KESEDIAAN}</div>','<div style="font-size: 10px; white-space:normal !important;">* Terdapat Hambatan Dalam Edukasi = {REFERENSI.HAMBATAN}</div>','<div style="font-size: 10px; white-space:normal !important;">* Dibutuhkan Penerjemah = {REFERENSI.PENERJEMAH}</div>','<div style="font-size: 10px; white-space:normal !important;">* Kebutuhan Edukasi = {REFERENSI.EDUKASI}</div>')}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-anamnesis-edukasipasienkeluarga-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-anamnesis-edukasipasienkeluarga-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-anamnesis-edukasipasienkeluarga-list":true},["widget.rekammedis-anamnesis-edukasipasienkeluarga-list"],0,[rekammedis.anamnesis.edukasipasienkeluarga,"List"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.Tab",com.Tab,{controller:"rekammedis-anamnesis-edukasipasienkeluarga-tab",kunjungan:undefined,bodyPadding:0,items:[{title:"Edukasi Pasien & Keluarga",xtype:"rekammedis-anamnesis-edukasipasienkeluarga-workspace",reference:"rmanamedupk"},{title:"Edukasi Emergency",xtype:"rekammedis-anamnesis-edukasipasienkeluarga-emergency-workspace",reference:"rmanamedupkem"}],load:function(k){var m=this,l=this.getActiveTab();this.kunjungan=k;if(l){if(l.load){l.load(k)}}else{if(m.items.getCount()>0){m.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-anamnesis-edukasipasienkeluarga-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-edukasipasienkeluarga-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-edukasipasienkeluarga-tab":true},["widget.rekammedis-anamnesis-edukasipasienkeluarga-tab"],0,[rekammedis.anamnesis.edukasipasienkeluarga,"Tab"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-edukasipasienkeluarga-tab"],0,[rekammedis.anamnesis.edukasipasienkeluarga,"TabController"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.Workspace",com.Form,{controller:"rekammedis-anamnesis-edukasipasienkeluarga-workspace",viewModel:{stores:{store:{type:"rekammedis-anamnesis-edukasipasienkeluarga-store"}},data:{kjgn:undefined}},layout:"border",items:[{region:"center",xtype:"rekammedis-anamnesis-edukasipasienkeluarga-form",layout:"fit",border:false,scrollable:true,listeners:{save:"onSave"}},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-anamnesis-edukasipasienkeluarga-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var t=this,s=t.down("rekammedis-anamnesis-edukasipasienkeluarga-form"),e=t.down("rekammedis-anamnesis-edukasipasienkeluarga-history-workspace"),q=t.getViewModel(),p=q.get("store");if(f){s.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});q.set("kjgn",f);if(p){p.queryParams={KUNJUNGAN:f.get("NOMOR")};p.load({callback:function(g,l,k){if(k){s.loadRecord(g[0]);f.history=g[0]}else{s.createRecord({KUNJUNGAN:f.get("NOMOR"),STATUS:1,TANGGAL:Ext.Date.format(t.getSysdate(),"Y-m-d H:i:s")})}e.load(f)}})}}}},0,["rekammedis-anamnesis-edukasipasienkeluarga-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-edukasipasienkeluarga-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-edukasipasienkeluarga-workspace":true},["widget.rekammedis-anamnesis-edukasipasienkeluarga-workspace"],0,[rekammedis.anamnesis.edukasipasienkeluarga,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.WorkspaceController",Ext.app.ViewController,{onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-anamnesis-edukasipasienkeluarga-workspace"],0,[rekammedis.anamnesis.edukasipasienkeluarga,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.emergency.Form",com.Form,{model:"rekammedis.anamnesis.edukasipasienkeluarga.emergency.Model",controller:"rekammedis-anamnesis-edukasipasienkeluarga-emergency-form",defaults:{allowBlank:false,margin:"0 0 1 0",labelAlign:"top"},defaultFocus:"EDUKASI",layout:"fit",items:[{layout:{type:"hbox",align:"stretch"},items:[{xtype:"textarea",name:"EDUKASI",emptyText:"[ Masukkan Edukasi/Follow Up ]",border:false,flex:1,margin:"5 5 5 5",bind:{readOnly:"{formConfig.viewOnly}",value:"{EDUKASI}"}},{xtype:"textarea",name:"KEMBALI_KE_UGD",emptyText:"[ Segera kembali ke Gawat Darurat Rumah Sakit jika terjadi ]",border:false,flex:1,margin:"5 5 5 5",bind:{readOnly:"{formConfig.viewOnly}",value:"{KEMBALI_KE_UGD}"}}]}],dockedItems:[{xtype:"toolbar",bind:{hidden:"{!formConfig.simpan}"},dock:"bottom",items:["->",{text:"Simpan",iconCls:"x-fa fa-save",formBind:true,handler:"onSimpan",ui:"soft-red",bind:{hidden:"{!formConfig.simpan}"}}]}]},0,["rekammedis-anamnesis-edukasipasienkeluarga-emergency-form"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-edukasipasienkeluarga-emergency-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-edukasipasienkeluarga-emergency-form":true},["widget.rekammedis-anamnesis-edukasipasienkeluarga-emergency-form"],0,[rekammedis.anamnesis.edukasipasienkeluarga.emergency,"Form"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.emergency.FormController",Ext.app.ViewController,{onSimpan:function(e){var o=this,n=o.getViewModel(),p=o.getView(),q=o.getReferences();p.save(e)}},0,0,0,0,["controller.rekammedis-anamnesis-edukasipasienkeluarga-emergency-form"],0,[rekammedis.anamnesis.edukasipasienkeluarga.emergency,"FormController"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.emergency.Workspace",com.Form,{controller:"rekammedis-anamnesis-edukasipasienkeluarga-emergency-workspace",viewModel:{stores:{store:{type:"rekammedis-anamnesis-edukasipasienkeluarga-emergency-store"}}},layout:"border",title:"Edukasi",ui:"panel-green",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-anamnesis-edukasipasienkeluarga-emergency-form",reference:"edukasiform",scrollable:true,border:false}],load:function(k){var m=this,l=m.down("[reference=edukasiform]");vm=m.getViewModel();store=vm.get("store");if(k){l.setFormConfig({viewOnly:k.get("FINAL_HASIL")==1,simpan:k.get("FINAL_HASIL")==0});params={KUNJUNGAN:k.get("NOMOR"),STATUS:1};if(store){store.setQueryParams(params);store.load(function(f,e,g){if(g){if(f.length>0){l.loadRecord(f[0])}}else{l.createRecord({KUNJUNGAN:k.get("NOMOR"),STATUS:1,TANGGAL:m.getSysdate()})}})}}}},0,["rekammedis-anamnesis-edukasipasienkeluarga-emergency-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-edukasipasienkeluarga-emergency-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-edukasipasienkeluarga-emergency-workspace":true},["widget.rekammedis-anamnesis-edukasipasienkeluarga-emergency-workspace"],0,[rekammedis.anamnesis.edukasipasienkeluarga.emergency,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.emergency.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.rekammedis-anamnesis-edukasipasienkeluarga-emergency-workspace"],0,[rekammedis.anamnesis.edukasipasienkeluarga.emergency,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.history.Tab",com.Tab,{controller:"rekammedis-anamnesis-edukasipasienkeluarga-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-anamnesis-edukasipasienkeluarga-list"}],load:function(m){var o=this,l=o.down("rekammedis-anamnesis-edukasipasienkeluarga-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-anamnesis-edukasipasienkeluarga-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-edukasipasienkeluarga-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-edukasipasienkeluarga-history-tab":true},["widget.rekammedis-anamnesis-edukasipasienkeluarga-history-tab"],0,[rekammedis.anamnesis.edukasipasienkeluarga.history,"Tab"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-edukasipasienkeluarga-history-tab"],0,[rekammedis.anamnesis.edukasipasienkeluarga.history,"TabController"],0));(Ext.cmd.derive("rekammedis.anamnesis.edukasipasienkeluarga.history.Workspace",com.Form,{layout:"fit",title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",bodyPadding:0,items:[{xtype:"rekammedis-anamnesis-edukasipasienkeluarga-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-anamnesis-edukasipasienkeluarga-history-tab");l.load(k)}},0,["rekammedis-anamnesis-edukasipasienkeluarga-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-edukasipasienkeluarga-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-edukasipasienkeluarga-history-workspace":true},["widget.rekammedis-anamnesis-edukasipasienkeluarga-history-workspace"],0,[rekammedis.anamnesis.edukasipasienkeluarga.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.keluhan.utama.Form",com.Form,{controller:"rekammedis-anamnesis-keluhan-utama-form",model:"rekammedis.anamnesis.keluhan.utama.Model",defaults:{allowBlank:false,margin:"0 0 1 0",labelAlign:"top"},defaultFocus:"DESKRIPSI",items:[{xtype:"textarea",name:"DESKRIPSI",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{blur:"onFocusLeave"}}]},0,["rekammedis-anamnesis-keluhan-utama-form"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-keluhan-utama-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-keluhan-utama-form":true},["widget.rekammedis-anamnesis-keluhan-utama-form"],0,[rekammedis.anamnesis.keluhan.utama,"Form"],0));(Ext.cmd.derive("rekammedis.anamnesis.keluhan.utama.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,f=u.getView(),v=f.getRecord(),t=u.getViewModel();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s)}}}}},0,0,0,0,["controller.rekammedis-anamnesis-keluhan-utama-form"],0,[rekammedis.anamnesis.keluhan.utama,"FormController"],0));(Ext.cmd.derive("rekammedis.anamnesis.keluhan.utama.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-anamnesis-keluhan-utama-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[values.DESKRIPSI]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-anamnesis-keluhan-utama-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-anamnesis-keluhan-utama-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-anamnesis-keluhan-utama-list":true},["widget.rekammedis-anamnesis-keluhan-utama-list"],0,[rekammedis.anamnesis.keluhan.utama,"List"],0));(Ext.cmd.derive("rekammedis.anamnesis.keluhan.utama.Workspace",com.Form,{controller:"rekammedis-anamnesis-keluhan-utama-workspace",viewModel:{stores:{store:{type:"rekammedis-anamnesis-keluhan-utama-store"}},data:{kjgn:undefined}},layout:"border",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-anamnesis-keluhan-utama-form",layout:"fit",border:false,listeners:{save:"onSave"}},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-anamnesis-keluhan-utama-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(e){var t=this,s=t.down("rekammedis-anamnesis-keluhan-utama-form"),u=t.down("rekammedis-anamnesis-keluhan-utama-history-workspace"),g=t.getViewModel(),f=g.get("store"),v={KUNJUNGAN:e.get("NOMOR")};if(e){s.setFormConfig({viewOnly:e.get("FINAL_HASIL")==1,simpan:e.get("FINAL_HASIL")==0});g.set("kjgn",e);f.setQueryParams(v);f.load(function(l,k,m){if(m){if(l.length>0){s.loadRecord(l[0]);e.history=l[0]}}else{s.createRecord(v)}u.load(e)})}}},0,["rekammedis-anamnesis-keluhan-utama-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-keluhan-utama-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-keluhan-utama-workspace":true},["widget.rekammedis-anamnesis-keluhan-utama-workspace"],0,[rekammedis.anamnesis.keluhan.utama,"Workspace"],0));(Ext.cmd.derive("rekammedis.keluhanutama.WorkspaceController",Ext.app.ViewController,{onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-anamnesis-keluhan-utama-workspace"],0,[rekammedis.keluhanutama,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.anamnesis.keluhan.utama.history.Tab",com.Tab,{controller:"rekammedis-anamnesis-keluhan-utama-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-anamnesis-keluhan-utama-list"}],load:function(m){var o=this,l=o.down("rekammedis-anamnesis-keluhan-utama-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-anamnesis-keluhan-utama-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-keluhan-utama-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-keluhan-utama-history-tab":true},["widget.rekammedis-anamnesis-keluhan-utama-history-tab"],0,[rekammedis.anamnesis.keluhan.utama.history,"Tab"],0));(Ext.cmd.derive("rekammedis.anamnesis.keluhan.utama.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-keluhan-utama-history-tab"],0,[rekammedis.anamnesis.keluhan.utama.history,"TabController"],0));(Ext.cmd.derive("rekammedis.anamnesis.keluhan.utama.history.Workspace",com.Form,{title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",layout:"fit",bodyPadding:0,items:[{xtype:"rekammedis-anamnesis-keluhan-utama-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-anamnesis-keluhan-utama-history-tab");l.load(k)}},0,["rekammedis-anamnesis-keluhan-utama-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-keluhan-utama-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-keluhan-utama-history-workspace":true},["widget.rekammedis-anamnesis-keluhan-utama-history-workspace"],0,[rekammedis.anamnesis.keluhan.utama.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.kondisisosial.Form",com.Form,{controller:"rekammedis-anamnesis-kondisisosial-form",model:"rekammedis.anamnesis.kondisisosial.Model",layout:{type:"vbox",align:"stretch"},scrollable:true,items:[{xtype:"fieldset",height:90,layout:"anchor",defaults:{anchor:"100%",bind:{readOnly:"{formConfig.viewOnly}"}},title:"Kondisi Sosial",items:[{xtype:"checkboxgroup",items:[{boxLabel:"Marah",name:"MARAH",inputValue:"1",uncheckedValue:"0",listeners:{focusleave:"onFocusLeave"}},{boxLabel:"Cemas",name:"CEMAS",inputValue:"1",uncheckedValue:"0",listeners:{focusleave:"onFocusLeave"}},{boxLabel:"Takut",name:"TAKUT",inputValue:"1",uncheckedValue:"0",listeners:{focusleave:"onFocusLeave"}},{boxLabel:"Kecenderungan Bunuh Diri",name:"BUNUH_DIRI",inputValue:"1",uncheckedValue:"0",listeners:{focusleave:"onFocusLeave"}}]}]},{xtype:"textfield",labelAlign:"top",height:50,fieldLabel:"Lainnya",name:"LAINNYA",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}},{xtype:"textarea",labelAlign:"top",flex:1,fieldLabel:"Masalah Perilaku",name:"MASALAH_PERILAKU",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}}]},0,["rekammedis-anamnesis-kondisisosial-form"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-kondisisosial-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-kondisisosial-form":true},["widget.rekammedis-anamnesis-kondisisosial-form"],0,[rekammedis.kondisisosial,"Form"],0));(Ext.cmd.derive("rekammedis.anamnesis.kondisisosial.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,t=u.getViewModel(),f=u.getView(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s)}}}}},0,0,0,0,["controller.rekammedis-anamnesis-kondisisosial-form"],0,[rekammedis.anamnesis.kondisisosial,"FormController"],0));(Ext.cmd.derive("rekammedis.anamnesis.kondisisosial.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-anamnesis-kondisisosial-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">Marah - {[this.status(values.MARAH)]}</div>','<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">Cemas - {[this.status(values.CEMAS)]}</div>','<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">Takut - {[this.status(values.TAKUT)]}</div>','<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">Kecenderungan Bunuh Diri - {[this.status(values.BUNUH_DIRI)]}</div>','<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">Lainnya - {[values.LAINNYA]}</div>','<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">Masalah Perilaku - {[values.MASALAH_PERILAKU]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")},status:function(f){return(f==1)?"Ya":"Tidak"}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-anamnesis-kondisisosial-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-anamnesis-kondisisosial-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-anamnesis-kondisisosial-list":true},["widget.rekammedis-anamnesis-kondisisosial-list"],0,[rekammedis.anamnesis.kondisisosial,"List"],0));(Ext.cmd.derive("rekammedis.anamnesis.kondisisosial.Workspace",com.Form,{controller:"rekammedis-anamnesis-kondisisosial-workspace",viewModel:{stores:{store:{type:"rekammedis-anamnesis-kondisisosial-store"}},data:{kjgn:undefined}},layout:"border",border:false,bodyPadding:1,items:[{region:"center",scrollable:true,xtype:"rekammedis-anamnesis-kondisisosial-form",listeners:{save:"onSave"}},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-anamnesis-kondisisosial-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var t=this,s=t.down("rekammedis-anamnesis-kondisisosial-form"),e=t.down("rekammedis-anamnesis-kondisisosial-history-workspace"),q=t.getViewModel(),p=q.get("store");params={KUNJUNGAN:f.get("NOMOR")};if(f){s.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});q.set("kjgn",f);if(p){p.setQueryParams(params);p.load(function(g,l,k){if(k){if(g.length>0){s.loadRecord(g[0]);f.history=g[0]}}else{s.createRecord(params)}e.load(f)})}}}},0,["rekammedis-anamnesis-kondisisosial-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-kondisisosial-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-kondisisosial-workspace":true},["widget.rekammedis-anamnesis-kondisisosial-workspace"],0,[rekammedis.anamnesis.kondisisosial,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.kondisisosial.WorkspaceController",Ext.app.ViewController,{onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-anamnesis-kondisisosial-workspace"],0,[rekammedis.anamnesis.kondisisosial,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.anamnesis.kondisisosial.history.Tab",com.Tab,{controller:"rekammedis-anamnesis-kondisisosial-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-anamnesis-kondisisosial-list"}],load:function(m){var o=this,l=o.down("rekammedis-anamnesis-kondisisosial-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-anamnesis-kondisisosial-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-kondisisosial-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-kondisisosial-history-tab":true},["widget.rekammedis-anamnesis-kondisisosial-history-tab"],0,[rekammedis.anamnesis.kondisisosial.history,"Tab"],0));(Ext.cmd.derive("rekammedis.anamnesis.kondisisosial.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-kondisisosial-history-tab"],0,[rekammedis.anamnesis.kondisisosial.history,"TabController"],0));(Ext.cmd.derive("rekammedis.anamnesis.kondisisosial.history.Workspace",com.Form,{title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",layout:"fit",bodyPadding:0,items:[{xtype:"rekammedis-anamnesis-kondisisosial-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-anamnesis-kondisisosial-history-tab");l.load(k)}},0,["rekammedis-anamnesis-kondisisosial-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-kondisisosial-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-kondisisosial-history-workspace":true},["widget.rekammedis-anamnesis-kondisisosial-history-workspace"],0,[rekammedis.anamnesis.kondisisosial.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.permasalahangizi.Form",com.Form,{controller:"rekammedis-anamnesis-permasalahangizi-form",model:"rekammedis.anamnesis.permasalahangizi.Model",defaults:{labelWidth:"40%",margin:"2.2.2.2"},items:[{xtype:"radiogroup",fieldLabel:"Adakah perubahan berat badan signifikan dalam 3 bulan terakhir ",columns:[150,100],reference:"bbgroup",publishes:"value",bind:{readOnly:"{formConfig.viewOnly}"},defaults:{listeners:{focusleave:"onFocusLeave"}},items:[{boxLabel:"Ya (1)",name:"BERAT_BADAN_SIGNIFIKAN",inputValue:1},{boxLabel:"Tidak (0)",name:"BERAT_BADAN_SIGNIFIKAN",inputValue:0}]},{xtype:"radiogroup",fieldLabel:"Jumlah perubahan berat badan ",columns:[150,100],defaults:{listeners:{focusleave:"onFocusLeave"}},items:[{boxLabel:"0,5-5 kg (1)",name:"PERUBAHAN_BERAT_BADAN",inputValue:1},{boxLabel:">5-10 kg (2)",name:"PERUBAHAN_BERAT_BADAN",inputValue:2},{boxLabel:">10-15 kg (3)",name:"PERUBAHAN_BERAT_BADAN",inputValue:3},{boxLabel:">15 kg (4)",name:"PERUBAHAN_BERAT_BADAN",inputValue:4}],hidden:true,bind:{readOnly:"{formConfig.viewOnly}",hidden:"{bbgroup.value.BERAT_BADAN_SIGNIFIKAN == 0}"}},{xtype:"radiogroup",fieldLabel:"Intake makanan kurang karena tidak ada nafsu makan ",columns:[150,100],bind:{readOnly:"{formConfig.viewOnly}"},defaults:{listeners:{focusleave:"onFocusLeave"}},items:[{boxLabel:"Ya (1)",name:"INTAKE_MAKANAN",inputValue:1},{boxLabel:"Tidak (0)",name:"INTAKE_MAKANAN",inputValue:0}]},{xtype:"textfield",name:"KONDISI_KHUSUS",width:"98%",fieldLabel:"Kondisi khusus",listeners:{focusleave:"onFocusLeave"},bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"numberfield",name:"SKOR",width:"98%",emptyText:"Hitung Otomatis",hideTrigger:true,readOnly:true,fieldLabel:"Skor",bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"radiogroup",fieldLabel:"Jika skor diatas 2 ",columns:[150,100],bind:{readOnly:"{formConfig.viewOnly}"},defaults:{listeners:{focusleave:"onFocusLeave"}},items:[{boxLabel:"Ya (1)",name:"STATUS_SKOR",inputValue:1},{boxLabel:"Tidak (0)",name:"STATUS_SKOR",inputValue:0}]}],onBeforeGetRecord:function(g,k){if(k.BERAT_BADAN_SIGNIFIKAN==0){k.PERUBAHAN_BERAT_BADAN=0}k.SKOR=k.PERUBAHAN_BERAT_BADAN+k.BERAT_BADAN_SIGNIFIKAN+k.INTAKE_MAKANAN;k.STATUS_SKOR=k.SKOR>2?1:0}},0,["rekammedis-anamnesis-permasalahangizi-form"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-permasalahangizi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-permasalahangizi-form":true},["widget.rekammedis-anamnesis-permasalahangizi-form"],0,[rekammedis.anamnesis.permasalahangizi,"Form"],0));(Ext.cmd.derive("rekammedis.anamnesis.permasalahangizi.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,t=u.getViewModel(),f=u.getView(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s,{},function(m,k,l){if(l){f.loadRecord(m)}})}}}}},0,0,0,0,["controller.rekammedis-anamnesis-permasalahangizi-form"],0,[rekammedis.anamnesis.permasalahangizi,"FormController"],0));(Ext.cmd.derive("rekammedis.anamnesis.permasalahangizi.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-anamnesis-permasalahangizi-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">* Berat Badan Signifikan - {[this.status(values.BERAT_BADAN_SIGNIFIKAN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Jumlah Perubahan Berat Badan - {[this.jumlahPerubahan(values.PERUBAHAN_BERAT_BADAN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Intake Makanan - {[this.status(values.INTAKE_MAKANAN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Kondisi Khusus - {[values.KONDISI_KHUSUS]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Skor - {[values.SKOR]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Status Skor - {[this.status(values.STATUS_SKOR)]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")},status:function(f){return(f==1)?"Ya":"Tidak"},jumlahPerubahan:function(k){var g="";if(k==1){g="0,5 - 5 Kg"}else{if(k==2){g="> 5 - 10 Kg"}else{if(k==3){g="> 10 - 15 Kg"}else{if(k==2){g="> 15 Kg"}}}}return g}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-anamnesis-permasalahangizi-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-anamnesis-permasalahangizi-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-anamnesis-permasalahangizi-list":true},["widget.rekammedis-anamnesis-permasalahangizi-list"],0,[rekammedis.anamnesis.permasalahangizi,"List"],0));(Ext.cmd.derive("rekammedis.anamnesis.permasalahangizi.Workspace",com.Form,{controller:"rekammedis-anamnesis-permasalahangizi-workspace",viewModel:{stores:{store:{type:"rekammedis-anamnesis-permasalahangizi-store"}},data:{kjgn:undefined}},layout:"border",border:false,bodyPadding:1,items:[{region:"center",scrollable:true,xtype:"rekammedis-anamnesis-permasalahangizi-form"},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-anamnesis-permasalahangizi-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(e){var t=this,s=t.down("rekammedis-anamnesis-permasalahangizi-form"),u=t.down("rekammedis-anamnesis-permasalahangizi-history-workspace"),g=t.getViewModel(),f=g.get("store"),v={KUNJUNGAN:e.get("NOMOR")};if(e){s.setFormConfig({viewOnly:e.get("FINAL_HASIL")==1,simpan:e.get("FINAL_HASIL")==0});g.set("kjgn",e);f.setQueryParams(v);f.load(function(l,k,m){if(m){if(l.length>0){s.loadRecord(l[0]);e.history=l[0]}}else{s.createRecord(v)}u.load(e)})}}},0,["rekammedis-anamnesis-permasalahangizi-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-permasalahangizi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-permasalahangizi-workspace":true},["widget.rekammedis-anamnesis-permasalahangizi-workspace"],0,[rekammedis.anamnesis.permasalahangizi,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.permasalahangizi.WorkspaceController",Ext.app.ViewController,{onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-anamnesis-permasalahangizi-workspace"],0,[rekammedis.anamnesis.permasalahangizi,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.anamnesis.permasalahangizi.history.Tab",com.Tab,{controller:"rekammedis-anamnesis-permasalahangizi-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-anamnesis-permasalahangizi-list"}],load:function(m){var o=this,l=o.down("rekammedis-anamnesis-permasalahangizi-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-anamnesis-permasalahangizi-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-permasalahangizi-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-permasalahangizi-history-tab":true},["widget.rekammedis-anamnesis-permasalahangizi-history-tab"],0,[rekammedis.anamnesis.permasalahangizi.history,"Tab"],0));(Ext.cmd.derive("rekammedis.anamnesis.permasalahangizi.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-permasalahangizi-history-tab"],0,[rekammedis.anamnesis.permasalahangizi.history,"TabController"],0));(Ext.cmd.derive("rekammedis.anamnesis.permasalahangizi.history.Workspace",com.Form,{title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",layout:"fit",bodyPadding:0,items:[{xtype:"rekammedis-anamnesis-permasalahangizi-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-anamnesis-permasalahangizi-history-tab");l.load(k)}},0,["rekammedis-anamnesis-permasalahangizi-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-permasalahangizi-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-permasalahangizi-history-workspace":true},["widget.rekammedis-anamnesis-permasalahangizi-history-workspace"],0,[rekammedis.anamnesis.permasalahangizi.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.Workspace",com.Tab,{controller:"rekammedis-anamnesis-riwayat-workspace",bodyPadding:1,tabPosition:"bottom",kunjungan:undefined,items:[{title:"Perjalanan Penyakit",xtype:"rekammedis-anamnesis-riwayat-perjalananpenyakit-workspace",reference:"rarppw"},{title:"Alergi",xtype:"rekammedis-anamnesis-riwayat-alergi-workspace",reference:"raraw"},{title:"Pemberian Obat",xtype:"rekammedis-anamnesis-riwayat-pemberianobat-workspace",reference:"rarpw"}],load:function(k){var m=this,l=this.getActiveTab();this.kunjungan=k;if(l){l.load(k)}else{if(m.items.getCount()>0){m.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-anamnesis-riwayat-workspace"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-riwayat-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-riwayat-workspace":true},["widget.rekammedis-anamnesis-riwayat-workspace"],0,[rekammedis.anamnesis.riwayat,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.WorkspaceController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-riwayat-workspace"],0,[rekammedis.anamnesis.riwayat,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.alergi.Form",com.Form,{controller:"rekammedis-anamnesis-riwayat-alergi-form",model:"rekammedis.anamnesis.riwayat.alergi.Model",items:[{xtype:"textareafield",name:"DESKRIPSI",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{blur:"onFocusLeave"}}]},0,["rekammedis-anamnesis-riwayat-alergi-form"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-riwayat-alergi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-riwayat-alergi-form":true},["widget.rekammedis-anamnesis-riwayat-alergi-form"],0,[rekammedis.anamnesis.riwayat.alergi,"Form"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.alergi.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,f=u.getView(),t=u.getViewModel(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s)}}}}},0,0,0,0,["controller.rekammedis-anamnesis-riwayat-alergi-form"],0,[rekammedis.anamnesis.riwayat.alergi,"FormController"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.alergi.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-anamnesis-riwayat-alergi-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[values.DESKRIPSI]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-anamnesis-riwayat-alergi-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-anamnesis-riwayat-alergi-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-anamnesis-riwayat-alergi-list":true},["widget.rekammedis-anamnesis-riwayat-alergi-list"],0,[rekammedis.anamnesis.riwayat.alergi,"List"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.alergi.Workspace",com.Form,{controller:"rekammedis-anamnesis-riwayat-alergi-workspace",viewModel:{stores:{store:{type:"rekammedis-anamnesis-riwayat-alergi-store"}},data:{kjgn:undefined}},layout:"border",bodyPadding:1,items:[{region:"center",layout:"fit",xtype:"rekammedis-anamnesis-riwayat-alergi-form",border:false,listeners:{save:"onSave"}},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-anamnesis-riwayat-alergi-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var t=this,s=t.down("rekammedis-anamnesis-riwayat-alergi-form"),e=t.down("rekammedis-anamnesis-riwayat-alergi-history-workspace"),q=t.getViewModel(),p=q.get("store");if(f){q.set("kjgn",f);s.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1});p.queryParams={KUNJUNGAN:f.get("NOMOR")};p.load({callback:function(g,l,k){if(k){s.loadRecord(g[0]);f.history=g[0]}else{s.createRecord({KUNJUNGAN:f.get("NOMOR"),STATUS:1,TANGGAL:Ext.Date.format(t.getSysdate(),"Y-m-d H:i:s")})}e.load(f)}})}}},0,["rekammedis-anamnesis-riwayat-alergi-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-riwayat-alergi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-riwayat-alergi-workspace":true},["widget.rekammedis-anamnesis-riwayat-alergi-workspace"],0,[rekammedis.anamnesis.riwayat.alergi,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.alergi.WorkspaceController",Ext.app.ViewController,{onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-anamnesis-riwayat-alergi-workspace"],0,[rekammedis.anamnesis.riwayat.alergi,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.alergi.history.Tab",com.Tab,{controller:"rekammedis-anamnesis-riwayat-alergi-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-anamnesis-riwayat-alergi-list"}],load:function(m){var o=this,l=o.down("rekammedis-anamnesis-riwayat-alergi-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-anamnesis-riwayat-alergi-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-riwayat-alergi-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-riwayat-alergi-history-tab":true},["widget.rekammedis-anamnesis-riwayat-alergi-history-tab"],0,[rekammedis.anamnesis.riwayat.alergi.history,"Tab"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.alergi.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-riwayat-alergi-history-tab"],0,[rekammedis.anamnesis.riwayat.alergi.history,"TabController"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.alergi.history.Workspace",com.Form,{title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",layout:"fit",bodyPadding:0,items:[{xtype:"rekammedis-anamnesis-riwayat-alergi-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-anamnesis-riwayat-alergi-history-tab");l.load(k)}},0,["rekammedis-anamnesis-riwayat-alergi-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-riwayat-alergi-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-riwayat-alergi-history-workspace":true},["widget.rekammedis-anamnesis-riwayat-alergi-history-workspace"],0,[rekammedis.anamnesis.riwayat.alergi.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.pemberianobat.Form",com.Form,{controller:"rekammedis-anamnesis-riwayat-pemberianobat-form",viewModel:{data:{formConfig:{reset:false}}},layout:{type:"hbox"},model:"rekammedis.anamnesis.riwayat.pemberianobat.Model",items:[{xtype:"textfield",emptyText:"[ Nama Obat ]",name:"OBAT",flex:2,bind:{readOnly:"{formConfig.viewOnly}"},margin:"0 10 0 0"},{xtype:"textfield",emptyText:"[ Dosis ]",name:"DOSIS",flex:1,bind:{readOnly:"{formConfig.viewOnly}"},margin:"0 10 0 0"},{xtype:"textfield",emptyText:"[ Lama Penggunaan ]",name:"LAMA_PENGGUNAAN",flex:1,bind:{readOnly:"{formConfig.viewOnly}"},margin:"0 10 0 0"},{xtype:"button",text:"Simpan",ui:"soft-blue",bind:{hidden:"{!formConfig.simpan}"},handler:"onSimpan"}]},0,["rekammedis-anamnesis-riwayat-pemberianobat-form"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-riwayat-pemberianobat-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-riwayat-pemberianobat-form":true},["widget.rekammedis-anamnesis-riwayat-pemberianobat-form"],0,[rekammedis.anamnesis.riwayat.pemberianobat,"Form"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.pemberianobat.FormController",Ext.app.ViewController,{onSimpan:function(m){var k=this,l=k.getView();l.save(m)}},0,0,0,0,["controller.rekammedis-anamnesis-riwayat-pemberianobat-form"],0,[rekammedis.anamnesis.riwayat.pemberianobat,"FormController"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.pemberianobat.List",com.Grid,{controller:"rekammedis-anamnesis-riwayat-pemberianobat-list",viewModel:{data:{listConfig:{columns:{status:{hidden:false}}}},stores:{store:{type:"rekammedis-anamnesis-riwayat-pemberianobat-store"}}},history:false,initComponent:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",hidden:f.history,align:"left",width:60},{text:"Nama Obat",dataIndex:"OBAT",hidden:f.history,name:"OBAT",flex:2},{text:"Dosis",hidden:f.history,dataIndex:"DOSIS",name:"DOSIS",flex:1},{text:"Lama Penggunaan",hidden:f.history,dataIndex:"LAMA_PENGGUNAAN",name:"LAMA_PENGGUNAAN",flex:1},{xtype:"checkcolumn",header:"Status",hidden:f.history,dataIndex:"STATUS",bind:{hidden:"{listConfig.columns.status.hidden}"},width:60,listeners:{checkchange:"onChange"}},{xtype:"templatecolumn",hidden:!f.history,flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">* Kunjungan - {[values.KUNJUNGAN]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Nama Obat - {[values.OBAT]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Dosis - {[values.DOSIS]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Lama Penggunaan - {[values.LAMA_PENGGUNAAN]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(e){var k=Ext.isDate(e)?e:Ext.Date.parse(e,"Y-m-d H:i:s");return Ext.Date.format(k,"d-m-Y H:i:s")}})}];f.callParent(arguments)},load:function(m){var o=this,n=o.getViewModel();if(o.history){o.setListConfig({columns:{status:{hidden:true}}})}if(Ext.getClassName(m)=="data.model.Kunjungan"){var l=m;if(o.history){m={HISTORY:1,NORM:l.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(l.history){m.NOT=Ext.JSON.encode({KUNJUNGAN:l.history.get("KUNJUNGAN")})}}else{m={KUNJUNGAN:l.get("NOMOR")}}}o.setParams(m);o.callParent(m)}},0,["rekammedis-anamnesis-riwayat-pemberianobat-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-anamnesis-riwayat-pemberianobat-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-anamnesis-riwayat-pemberianobat-list":true},["widget.rekammedis-anamnesis-riwayat-pemberianobat-list"],0,[rekammedis.anamnesis.riwayat.pemberianobat,"List"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.pemberianobat.ListController",Ext.app.ViewController,{onChange:function(x,e,w){var v=this,u=v.getViewModel(),f=v.getView(),g=u.get("store"),t=g.getAt(e);t.set("STATUS",w?1:0);t.scope=this;t.save({callback:function(k,l,m){if(m){f.notifyMessage("Status di "+(w==true?"Aktifkan":"NonAktifkan"),"danger-red")}else{t.set("STATUS",w?0:1)}}})}},0,0,0,0,["controller.rekammedis-anamnesis-riwayat-pemberianobat-list"],0,[rekammedis.anamnesis.riwayat.pemberianobat,"ListController"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.pemberianobat.Workspace",com.Form,{controller:"rekammedis-anamnesis-riwayat-pemberianobat-workspace",viewModel:{stores:{store:{type:"rekammedis-anamnesis-riwayat-pemberianobat-store"}},data:{kjgn:undefined}},layout:"border",border:false,bodyPadding:0,items:[{region:"center",flex:1,layout:"border",items:[{region:"north",xtype:"rekammedis-anamnesis-riwayat-pemberianobat-form",reference:"riwayatpemberianobatform",listeners:{save:"onSuccess"}},{region:"center",xtype:"rekammedis-anamnesis-riwayat-pemberianobat-list",reference:"riwayatpemberianobatlist",listeners:{success:"onSuccess"}}]},{region:"east",flex:0.6,split:true,collapsible:true,xtype:"rekammedis-anamnesis-riwayat-pemberianobat-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var s=this,p=s.getViewModel(),q=s.down("rekammedis-anamnesis-riwayat-pemberianobat-form"),e=s.down("rekammedis-anamnesis-riwayat-pemberianobat-history-workspace"),t=s.down("rekammedis-anamnesis-riwayat-pemberianobat-list");store=s.getViewModel().get("store"),params={KUNJUNGAN:f.get("NOMOR")};if(f){t.load({KUNJUNGAN:f.get("NOMOR")});t.setGridConfig({paging:true,columns:{status:{hidden:f.get("FINAL_HASIL")==1}}});q.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});q.createRecord({STATUS:1,KUNJUNGAN:f.get("NOMOR")});p.set("kjgn",f);store.setQueryParams(params);store.load(function(g,l,k){if(k){if(g.length>0){f.history=g[0]}}e.load(f)})}}},0,["rekammedis-anamnesis-riwayat-pemberianobat-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-riwayat-pemberianobat-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-riwayat-pemberianobat-workspace":true},["widget.rekammedis-anamnesis-riwayat-pemberianobat-workspace"],0,[rekammedis.anamnesis.riwayat.pemberianobat,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.pemberianobat.WorkspaceController",Ext.app.ViewController,{onSuccess:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-anamnesis-riwayat-pemberianobat-workspace"],0,[rekammedis.anamnesis.riwayat.pemberianobat,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.pemberianobat.history.Tab",com.Tab,{controller:"rekammedis-anamnesis-riwayat-pemberianobat-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,hideHeaders:true,xtype:"rekammedis-anamnesis-riwayat-pemberianobat-list"}],load:function(m){var o=this,l=o.down("rekammedis-anamnesis-riwayat-pemberianobat-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-anamnesis-riwayat-pemberianobat-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-riwayat-pemberianobat-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-riwayat-pemberianobat-history-tab":true},["widget.rekammedis-anamnesis-riwayat-pemberianobat-history-tab"],0,[rekammedis.anamnesis.riwayat.pemberianobat.history,"Tab"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.pemberianobat.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-riwayat-pemberianobat-history-tab"],0,[rekammedis.anamnesis.riwayat.pemberianobat.history,"TabController"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.pemberianobat.history.Workspace",com.Form,{title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",layout:"fit",bodyPadding:0,items:[{xtype:"rekammedis-anamnesis-riwayat-pemberianobat-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-anamnesis-riwayat-pemberianobat-history-tab");l.load(k)}},0,["rekammedis-anamnesis-riwayat-pemberianobat-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-riwayat-pemberianobat-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-riwayat-pemberianobat-history-workspace":true},["widget.rekammedis-anamnesis-riwayat-pemberianobat-history-workspace"],0,[rekammedis.anamnesis.riwayat.pemberianobat.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.perjalananpenyakit.Form",com.Form,{model:"rekammedis.anamnesis.riwayat.perjalananpenyakit.Model",controller:"rekammedis-anamnesis-riwayat-perjalananpenyakit-form",defaults:{anchor:"100%",allowBlank:false,margin:"0 0 1 0"},defaultFocus:"DESKRIPSI",items:[{xtype:"textarea",emptyText:"[Masukkan Riwayat Perjalanan Penyakit]",name:"DESKRIPSI",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{blur:"onFocusLeave"}}]},0,["rekammedis-anamnesis-riwayat-perjalananpenyakit-form"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-riwayat-perjalananpenyakit-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-riwayat-perjalananpenyakit-form":true},["widget.rekammedis-anamnesis-riwayat-perjalananpenyakit-form"],0,[rekammedis.anamnesis.riwayat.perjalananpenyakit,"Form"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.perjalananpenyakit.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,f=u.getView(),v=f.getRecord(),t=u.getViewModel();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s)}}}}},0,0,0,0,["controller.rekammedis-anamnesis-riwayat-perjalananpenyakit-form"],0,[rekammedis.anamnesis.riwayat.perjalananpenyakit,"FormController"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.perjalananpenyakit.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-anamnesis-riwayat-perjalananpenyakit-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[values.DESKRIPSI]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-anamnesis-riwayat-perjalananpenyakit-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-anamnesis-riwayat-perjalananpenyakit-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-anamnesis-riwayat-perjalananpenyakit-list":true},["widget.rekammedis-anamnesis-riwayat-perjalananpenyakit-list"],0,[rekammedis.anamnesis.riwayat.perjalananpenyakit,"List"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.perjalananpenyakit.Workspace",com.Form,{viewModel:{stores:{store:{type:"rekammedis-anamnesis-riwayat-perjalananpenyakit-store"}}},layout:"border",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-anamnesis-riwayat-perjalananpenyakit-form",layout:"fit",border:false},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-anamnesis-riwayat-perjalananpenyakit-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var t=this,s=t.down("rekammedis-anamnesis-riwayat-perjalananpenyakit-form"),e=t.down("rekammedis-anamnesis-riwayat-perjalananpenyakit-history-workspace"),q=t.getViewModel(),p=q.get("store");if(f){s.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});p.queryParams={KUNJUNGAN:f.get("NOMOR"),PENDAFTARAN:f.get("NOPEN")};p.load({callback:function(l,g,k){if(k){s.loadRecord(l[0]);f.history=l[0]}else{s.createRecord({KUNJUNGAN:f.get("NOMOR"),STATUS:1,TANGGAL:Ext.Date.format(t.getSysdate(),"Y-m-d H:i:s")})}e.load(f)}})}}},0,["rekammedis-anamnesis-riwayat-perjalananpenyakit-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-riwayat-perjalananpenyakit-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-riwayat-perjalananpenyakit-workspace":true},["widget.rekammedis-anamnesis-riwayat-perjalananpenyakit-workspace"],0,[rekammedis.anamnesis.riwayat.perjalananpenyakit,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.perjalananpenyakit.history.Tab",com.Tab,{controller:"rekammedis-anamnesis-riwayat-perjalananpenyakit-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-anamnesis-riwayat-perjalananpenyakit-list"}],load:function(m){var o=this,l=o.down("rekammedis-anamnesis-riwayat-perjalananpenyakit-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-anamnesis-riwayat-perjalananpenyakit-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-riwayat-perjalananpenyakit-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-riwayat-perjalananpenyakit-history-tab":true},["widget.rekammedis-anamnesis-riwayat-perjalananpenyakit-history-tab"],0,[rekammedis.anamnesis.riwayat.perjalananpenyakit.history,"Tab"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.perjalananpenyakit.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-riwayat-perjalananpenyakit-history-tab"],0,[rekammedis.anamnesis.riwayat.perjalananpenyakit.history,"TabController"],0));(Ext.cmd.derive("rekammedis.anamnesis.riwayat.perjalananpenyakit.history.Workspace",com.Form,{layout:"fit",title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",bodyPadding:0,items:[{xtype:"rekammedis-anamnesis-riwayat-perjalananpenyakit-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-anamnesis-riwayat-perjalananpenyakit-history-tab");l.load(k)}},0,["rekammedis-anamnesis-riwayat-perjalananpenyakit-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-riwayat-perjalananpenyakit-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-riwayat-perjalananpenyakit-history-workspace":true},["widget.rekammedis-anamnesis-riwayat-perjalananpenyakit-history-workspace"],0,[rekammedis.anamnesis.riwayat.perjalananpenyakit.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.statusfungsional.Form",com.Form,{controller:"rekammedis-anamnesis-statusfungsional-form",model:"rekammedis.anamnesis.statusfungsional.Model",scrollable:true,layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox"},defaults:{xtype:"checkboxfield",hideLabel:true,margin:"0 6 0 0",inputValue:"1",uncheckedValue:"0",bind:{readOnly:"{formConfig.viewOnly}"}},fieldLabel:"Penggunaan Alat Bantu",bodyPadding:5,items:[{name:"TANPA_ALAT_BANTU",boxLabel:"Tidak",hidden:true,reference:"tanpaalatbantu",listeners:{change:"onChangeTanpaAlatBantu",focusleave:"onFocusLeave"}},{name:"TONGKAT",boxLabel:"Tongkat",reference:"tongkat",listeners:{change:"onChangeTongkat",focusleave:"onFocusLeave"}},{name:"KURSI_RODA",boxLabel:"Kursi Roda",reference:"kursiroda",listeners:{change:"onChangeKursiRoda",focusleave:"onFocusLeave"}},{name:"BRANKARD",boxLabel:"Brankard",reference:"brankard",listeners:{change:"onChangeBrankard",focusleave:"onFocusLeave"}},{name:"WALKER",boxLabel:"Walker",reference:"walker",listeners:{change:"onChangeWalker",focusleave:"onFocusLeave"}}]},{xtype:"fieldcontainer",layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 1 0 1"},bodyPadding:5,fieldLabel:"Lainnya, sebutkan",items:[{xtype:"textfield",name:"ALAT_BANTU",margin:"2 2 3 1",reference:"alatbantu",emptyText:"Sebutkan",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}}]},{xtype:"fieldcontainer",layout:{type:"hbox"},defaults:{margin:"0 1 0 1"},bodyPadding:5,fieldLabel:"Cacat Tubuh",items:[{xtype:"checkboxfield",hideLabel:true,margin:"0 5 0 0",boxLabel:"Tidak Ada",inputValue:"1",uncheckedValue:"0",reference:"cacattubuhtidak",name:"CACAT_TUBUH_TIDAK",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{change:"onChangeCacatTubuhTidak",focusleave:"onFocusLeave"}},{xtype:"checkboxfield",hideLabel:true,reference:"cacattubuhya",name:"CACAT_TUBUH_YA",inputValue:"1",uncheckedValue:"0",margin:"0 5 0 0",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{change:"onChangeCacatTubuhYa",focusleave:"onFocusLeave"},boxLabel:"Ada"},{xtype:"textfield",reference:"cacattubuhket",name:"KET_CACAT_TUBUH",emptyText:"Sebutkan",flex:1,bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}}]}]},0,["rekammedis-anamnesis-statusfungsional-form"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-statusfungsional-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-statusfungsional-form":true},["widget.rekammedis-anamnesis-statusfungsional-form"],0,[rekammedis.anamnesis.statusfungsional,"Form"],0));(Ext.cmd.derive("rekammedis.anamnesis.statusfungsional.FormController",Ext.app.ViewController,{onChangeTongkat:function(q,o){var f=this,e=f.getReferences(),p=f.getView();tanpaalatbantu=e.tanpaalatbantu;kursiroda=e.kursiroda;brankard=e.brankard,walker=e.walker;if(q.getValue()==true||kursiroda.getValue()==true||brankard.getValue()==true||walker.getValue()==true){tanpaalatbantu.setValue(0)}else{tanpaalatbantu.setValue(1)}},onChangeKursiRoda:function(q,o){var f=this,e=f.getReferences(),p=f.getView();tanpaalatbantu=e.tanpaalatbantu;tongkat=e.tongkat;brankard=e.brankard,walker=e.walker;if(q.getValue()==true||tongkat.getValue()==true||brankard.getValue()==true||walker.getValue()==true){tanpaalatbantu.setValue(0)}else{tanpaalatbantu.setValue(1)}},onChangeBrankard:function(q,o){var f=this,e=f.getReferences(),p=f.getView();tanpaalatbantu=e.tanpaalatbantu;tongkat=e.tongkat;kursiroda=e.kursiroda,walker=e.walker;if(q.getValue()==true||tongkat.getValue()==true||kursiroda.getValue()==true||walker.getValue()==true){tanpaalatbantu.setValue(0)}else{tanpaalatbantu.setValue(1)}},onChangeWalker:function(q,o){var f=this,e=f.getReferences(),p=f.getView();tanpaalatbantu=e.tanpaalatbantu;tongkat=e.tongkat;kursiroda=e.kursiroda,brankard=e.brankard;if(q.getValue()==true||tongkat.getValue()==true||kursiroda.getValue()==true||brankard.getValue()==true){tanpaalatbantu.setValue(0)}else{tanpaalatbantu.setValue(1)}},onChangeCacatTubuhTidak:function(u,x,w){var v=this,g=v.getReferences(),e=g.cacattubuhya,t=g.cacattubuhket,f=v.getView();e.setDisabled(x);t.setDisabled(w)},onChangeCacatTubuhYa:function(q,f){var e=this,s=e.getReferences(),t=s.cacattubuhtidak,g=e.getView();t.setDisabled(f)},onFocusLeave:function(s,e,g){var u=this,t=u.getViewModel(),f=u.getView(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s)}}}}},0,0,0,0,["controller.rekammedis-anamnesis-statusfungsional-form"],0,[rekammedis.anamnesis.statusfungsional,"FormController"],0));(Ext.cmd.derive("rekammedis.anamnesis.statusfungsional.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-anamnesis-statusfungsional-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 10px; white-space:normal !important;">Penggunaan Alat Bantu : {REFERENSI.ALATBANTU}</div>','<div style="font-weight: bold; font-size: 10px; white-space:normal !important;">Cacat Tubuh : {REFERENSI.CACATTUBUH}</div>','<div style="font-weight: bold; font-size: 10px; white-space:normal !important;">Tanggal : {[this.tanggalFormat(values.JAM)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-anamnesis-statusfungsional-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-anamnesis-statusfungsional-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-anamnesis-statusfungsional-list":true},["widget.rekammedis-anamnesis-statusfungsional-list"],0,[rekammedis.anamnesis.statusfungsional,"List"],0));(Ext.cmd.derive("rekammedis.anamnesis.statusfungsional.Workspace",com.Form,{controller:"rekammedis-anamnesis-statusfungsional-workspace",viewModel:{stores:{store:{type:"rekammedis-anamnesis-statusfungsional-store"}},data:{kjgn:undefined,tidakCacatTubuh:false,cacatTubuh:false,tanpaAlatBantu:false,tongkat:false,kursiroda:false,brankard:false,walker:false}},layout:"border",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-anamnesis-statusfungsional-form",bodyPadding:5,reference:"formStatusFungsional",listeners:{save:"onSave",chekCacatTubuhTidak:"onCheckTidak",chekCacatTubuhYa:"onCheckYa",chekTanpaAlatBantu:"onCheckTanpaAlatBantu",chekTongkat:"onCheckTongkat",chekKursiRoda:"onCheckKursiRoda",chekBrankard:"onCheckBrankard",chekWalker:"onCheckWalker"}},{region:"east",flex:0.55,split:true,collapsible:true,xtype:"rekammedis-anamnesis-statusfungsional-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var t=this,s=t.down("rekammedis-anamnesis-statusfungsional-form"),e=t.down("rekammedis-anamnesis-statusfungsional-history-workspace"),q=t.getViewModel(),p=q.get("store");if(f){s.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});q.set("kjgn",f);p.queryParams={KUNJUNGAN:f.get("NOMOR")};p.load({callback:function(g,l,k){if(k){s.loadRecord(g[0]);f.history=g[0]}else{s.createRecord({KUNJUNGAN:f.get("NOMOR"),STATUS:1,TANGGAL:Ext.Date.format(t.getSysdate(),"Y-m-d H:i:s")})}e.load(f)}})}}},0,["rekammedis-anamnesis-statusfungsional-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-statusfungsional-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-statusfungsional-workspace":true},["widget.rekammedis-anamnesis-statusfungsional-workspace"],0,[rekammedis.anamnesis.statusfungsional,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.statusfungsional.WorkspaceController",Ext.app.ViewController,{onCheckTidak:function(k){var m=this,l=m.getViewModel();l.set("tidakCacatTubuh",k)},onCheckYa:function(k){var m=this,l=m.getViewModel();l.set("cacatTubuh",k)},onCheckTanpaAlatBantu:function(k){var m=this,l=m.getViewModel();l.set("tanpaAlatBantu",k)},onCheckTongkat:function(k){var m=this,l=m.getViewModel();l.set("tongkat",k)},onCheckKursiRoda:function(k){var m=this,l=m.getViewModel();l.set("kursiroda",k)},onCheckBrankard:function(k){var m=this,l=m.getViewModel();l.set("brankard",k)},onCheckWalker:function(k){var m=this,l=m.getViewModel();l.set("walker",k)},onClickSimpan:function(g){var e=this,q=e.getView(),t=e.getViewModel(),s=e.getReferences(),f=s.formStatusFungsional;value=f.getValues();rec=f.getRecord();kjgn=t.get("kjgn");tanpaAlatBantu=t.get("tanpaAlatBantu");tongkat=t.get("tongkat");kursiroda=t.get("kursiroda");brankard=t.get("brankard");walker=t.get("walker");if(f.getForm().isValid()){if(t.get("tanpaAlatBantu")){value.TONGKAT=t.set("tongkat",0);value.KURSI_RODA=t.set("kursiroda",0);value.BRANKARD=t.set("brankard",0);value.WALKER=t.set("walker",0);value.ALAT_BANTU=""}if(t.get("tongkat")){value.TONGKAT=1}if(t.get("kursiroda")){value.KURSI_RODA=1}if(t.get("brankard")){value.BRANKARD=1}if(t.get("walker")){value.WALKER=1}value.CACAT_TUBUH_TIDAK=t.get("tidakCacatTubuh")?1:0;value.CACAT_TUBUH_YA=t.get("cacatTubuh")?1:0;value.KET_CACAT_TUBUH=t.get("tidakCacatTubuh")?"":rec.get("KET_CACAT_TUBUH");rec.set(value);rec.showError=true;rec.animateTarget=g;rec.scope=e;rec.save({callback:function(k,m,l){if(l){q.notifyMessage("Data telah tersimpan");q.load(kjgn)}}})}},onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-anamnesis-statusfungsional-workspace"],0,[rekammedis.anamnesis.statusfungsional,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.anamnesis.statusfungsional.history.Tab",com.Tab,{controller:"rekammedis-anamnesis-statusfungsional-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-anamnesis-statusfungsional-list"}],load:function(m){var o=this,l=o.down("rekammedis-anamnesis-statusfungsional-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-anamnesis-statusfungsional-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-statusfungsional-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-statusfungsional-history-tab":true},["widget.rekammedis-anamnesis-statusfungsional-history-tab"],0,[rekammedis.anamnesis.statusfungsional.history,"Tab"],0));(Ext.cmd.derive("rekammedis.anamnesis.statusfungsional.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-statusfungsional-history-tab"],0,[rekammedis.anamnesis.statusfungsional.history,"TabController"],0));(Ext.cmd.derive("rekammedis.anamnesis.statusfungsional.history.Workspace",com.Form,{layout:"fit",title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",bodyPadding:0,items:[{xtype:"rekammedis-anamnesis-statusfungsional-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-anamnesis-statusfungsional-history-tab");l.load(k)}},0,["rekammedis-anamnesis-statusfungsional-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-statusfungsional-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-statusfungsional-history-workspace":true},["widget.rekammedis-anamnesis-statusfungsional-history-workspace"],0,[rekammedis.anamnesis.statusfungsional.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.umum.Form",com.Form,{model:"rekammedis.anamnesis.umum.Model",controller:"rekammedis-anamnesis-umum-form",defaults:{allowBlank:false,margin:"0 0 1 0",labelAlign:"top"},defaultFocus:"DESKRIPSI",layout:"fit",items:[{xtype:"textarea",emptyText:"[Masukkan Deskripsi Anamnesis]",name:"DESKRIPSI",border:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{DESKRIPSI}"},listeners:{blur:"onFocusLeave"}}]},0,["rekammedis-anamnesis-umum-form"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-umum-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-umum-form":true},["widget.rekammedis-anamnesis-umum-form"],0,[rekammedis.anamnesis.umum,"Form"],0));(Ext.cmd.derive("rekammedis.anamnesis.umum.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,f=u.getView(),v=f.getRecord(),t=u.getViewModel();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s)}}}}},0,0,0,0,["controller.rekammedis-anamnesis-umum-form"],0,[rekammedis.anamnesis.umum,"FormController"],0));(Ext.cmd.derive("rekammedis.anamnesis.umum.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-anamnesis-umum-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[values.DESKRIPSI]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent()}},0,["rekammedis-anamnesis-umum-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-anamnesis-umum-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-anamnesis-umum-list":true},["widget.rekammedis-anamnesis-umum-list"],0,[rekammedis.anamnesis.umum,"List"],0));(Ext.cmd.derive("rekammedis.anamnesis.umum.Workspace",com.Form,{viewModel:{stores:{store:{type:"rekammedis-anamnesis-umum-store"}}},layout:"border",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-anamnesis-umum-form",border:false},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-anamnesis-umum-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var s=this,q=s.down("rekammedis-anamnesis-umum-form"),t=s.down("rekammedis-anamnesis-umum-history-workspace"),p=s.getViewModel().get("store"),e={KUNJUNGAN:f.get("NOMOR"),PENDAFTARAN:f.get("NOPEN")};q.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});p.setQueryParams(e);p.load(function(g,l,k){if(k){if(g.length>0){q.loadRecord(g[0]);f.history=g[0]}}else{q.createRecord(e)}t.load(f)})}},0,["rekammedis-anamnesis-umum-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-umum-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-umum-workspace":true},["widget.rekammedis-anamnesis-umum-workspace"],0,[rekammedis.anamnesis.umum,"Workspace"],0));(Ext.cmd.derive("rekammedis.anamnesis.umum.history.Tab",com.Tab,{controller:"rekammedis-anamnesis-umum-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-anamnesis-umum-list"}],load:function(m){var o=this,l=o.down("rekammedis-anamnesis-umum-list"),n=o.getActiveTab();l.setListConfig({paging:true});o.kunjungan=m;if(n){if(n.load){n.load(m)}}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-anamnesis-umum-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-anamnesis-umum-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-anamnesis-umum-history-tab":true},["widget.rekammedis-anamnesis-umum-history-tab"],0,[rekammedis.anamnesis.umum.history,"Tab"],0));(Ext.cmd.derive("rekammedis.anamnesis.umum.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-anamnesis-umum-history-tab"],0,[rekammedis.anamnesis.umum.history,"TabController"],0));(Ext.cmd.derive("rekammedis.anamnesis.umum.history.Workspace",com.Form,{title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",layout:"fit",bodyPadding:0,items:[{xtype:"rekammedis-anamnesis-umum-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-anamnesis-umum-history-tab");l.load(k)}},0,["rekammedis-anamnesis-umum-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-anamnesis-umum-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-anamnesis-umum-history-workspace":true},["widget.rekammedis-anamnesis-umum-history-workspace"],0,[rekammedis.anamnesis.umum.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.cppt.Form",com.Form,{controller:"rekammedis-cppt-form",model:"rekammedis.cppt.Model",layout:{type:"vbox",align:"stretch"},scrollable:"y",defaults:{listeners:{focusleave:"onFocusLeave"}},items:[{xtype:"fieldcontainer",layout:"hbox",defaults:{listeners:{focusleave:"onFocusLeave"}},items:[{xtype:"referensi-combo",width:150,name:"JENIS",params:{JENIS:32,STATUS:1},defaultValue:1,firstLoad:true,emptyText:"[Jenis]",bind:{readOnly:"{formConfig.viewOnly}"},editable:false,listeners:{select:"onSelectJenis"},margin:"0 1 0 0"},{xtype:"tenaga-medis-combo",width:257,flex:1,name:"TENAGA_MEDIS",emptyText:"[Tenaga Medis]",bind:{readOnly:"{formConfig.viewOnly}"}}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{listeners:{focusleave:"onFocusLeave"}},items:[{xtype:"datefield",fieldLabel:"Tgl & Wkt",labelWidth:60,name:"TANGGAL",format:"d/m/Y",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}"},margin:"0 1 0 0",flex:1},{xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",name:"WAKTU",format:"H:i:s",width:100,hideTrigger:true,bind:{readOnly:"{formConfig.viewOnly}"}}]},{xtype:"textarea",labelAlign:"top",name:"SUBYEKTIF",fieldLabel:"Subyektif",bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"textarea",labelAlign:"top",name:"OBYEKTIF",fieldLabel:"Obyektif",bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"textarea",labelAlign:"top",name:"ASSESMENT",fieldLabel:"Assesment",bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"textarea",labelAlign:"top",name:"PLANNING",fieldLabel:"Planning",bind:{readOnly:"{formConfig.viewOnly}"}}],onLoadRecord:function(e,n){var o=e.down("referensi-combo"),q=e.down("tenaga-medis-combo");q.params.RUANGAN=n.get("REFERENSI").KUNJUNGAN.RUANGAN;e.down("[name=WAKTU]").setValue(n.get("TANGGAL"));if(n.get("JENIS")==0){q.params.JENIS=1;o.select(o.getStore().getAt(0))}else{var p=e.getReferensi(n.data,"TENAGA_MEDIS");q.params.JENIS=n.get("JENIS");if(p){q.select(Ext.create("data.model.TenagaMedis",p))}else{q.select(null)}}o.focus(false,100)},onBeforeGetRecord:function(e,o){var n=e.down("[name=TANGGAL]").getValue(),q=e.down("[name=WAKTU]").getValue(),p=Ext.Date.clone(n);p.setHours(q.getHours());p.setMinutes(q.getMinutes());p.setSeconds(q.getSeconds());o.TANGGAL=p}},0,["rekammedis-cppt-form"],["component","box","container","panel","form","com-form","rekammedis-cppt-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-cppt-form":true},["widget.rekammedis-cppt-form"],0,[rekammedis.cppt,"Form"],0));(Ext.cmd.derive("rekammedis.cppt.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,f=u.getView(),v=f.getRecord(),t=u.getViewModel();if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s)}}},onSelectJenis:function(m,k){var l=this.getView().down("tenaga-medis-combo");if(k){l.params.JENIS=k.get("ID")}}},0,0,0,0,["controller.rekammedis-cppt-form"],0,[rekammedis.cppt,"FormController"],0));(Ext.cmd.derive("rekammedis.cppt.List",com.Grid,{controller:"rekammedis-cppt-list",viewModel:{stores:{store:{type:"rekammedis-cppt-store"}}},hideHeaders:true,initComponent:function(){var f=this;f.columns=[{xtype:"templatecolumn",flex:2,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 14px; white-space:normal !important;">{REFERENSI.KUNJUNGAN.REFERENSI.RUANGAN.DESKRIPSI}</div>','<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">S: {[values.SUBYEKTIF]}</div>','<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">O: {[values.OBYEKTIF]}</div>','<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">A: {[values.ASSESMENT]}</div>','<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">P: {[values.PLANNING]}</div>')},{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[this.getReferensi(values, "TENAGA_MEDIS", "NAMA")]} </div>','<div style="font-size: 12px; white-space:normal !important;">Tgl. {[this.tanggalFormat(values.TANGGAL)]}</div>',{getReferensi:function(l,m,e){return f.getReferensi(l,m,e)},tanggalFormat:function(e){var k=Ext.isDate(e)?e:Ext.Date.parse(e,"Y-m-d H:i:s");return Ext.Date.format(k,"d-m-Y H:i:s")}})}];f.callParent()},load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"}),NOT:Ext.JSON.encode({KUNJUNGAN:m.get("NOMOR")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent()}},0,["rekammedis-cppt-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-cppt-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-cppt-list":true},["widget.rekammedis-cppt-list"],0,[rekammedis.cppt,"List"],0));(Ext.cmd.derive("rekammedis.cppt.ListController",Ext.app.ViewController,{},0,0,0,0,["controller.rekammedis-cppt-list"],0,[rekammedis.cppt,"ListController"],0));(Ext.cmd.derive("rekammedis.cppt.Workspace",com.Form,{controller:"rekammedis-cppt-workspace",viewModel:{data:{kjgn:undefined}},layout:"border",title:"Catatan Perkembangan Pasien Terintegrasi",iconCls:"x-fa fa-sticky-note-o",ui:"panel-purple",header:{items:[{xtype:"button",iconCls:"x-fa fa-file-o",ui:"soft-green",handler:"onButtonbaru",tooltip:"Buat CPPT baru"}]},bodyPadding:1,border:false,first:true,items:[{region:"center",border:false,layout:"border",items:[{region:"center",xtype:"rekammedis-cppt-form",reference:"cpptform",border:false,listeners:{save:"onSimpan"}},{region:"east",flex:0.75,xtype:"rekammedis-cppt-list",reference:"cpptlist",split:true,border:false,listeners:{itemclick:"onItemClick"}}]},{region:"east",flex:0.75,split:true,collapsible:true,collapsed:true,xtype:"rekammedis-cppt-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var s=this,q=s.down("rekammedis-cppt-form"),t=s.down("rekammedis-cppt-list"),e=s.down("rekammedis-cppt-history-workspace"),p=s.getViewModel();if(f){q.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1});p.set("kjgn",f);q.createRecord({KUNJUNGAN:f.get("NOMOR"),STATUS:1,JENIS:1,TANGGAL:s.getSysdate(),REFERENSI:{KUNJUNGAN:f.data}});t.setListConfig({paging:true});t.load({KUNJUNGAN:f.get("NOMOR")});e.load(f);s.first=false}},listeners:{activate:"onActivate"}},0,["rekammedis-cppt-workspace"],["component","box","container","panel","form","com-form","rekammedis-cppt-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-cppt-workspace":true},["widget.rekammedis-cppt-workspace"],0,[rekammedis.cppt,"Workspace"],0));(Ext.cmd.derive("rekammedis.cppt.WorkspaceController",Ext.app.ViewController,{onButtonbaru:function(){var n=this,e=n.getViewModel(),o=e.get("kjgn"),q=n.getReferences(),p=n.getView();q.cpptform.createRecord({KUNJUNGAN:o.get("NOMOR"),STATUS:1,JENIS:1,TANGGAL:p.getSysdate(),REFERENSI:{KUNJUNGAN:o.data}})},onSimpan:function(){var f=this.getReferences();f.cpptlist.reload()},onItemClick:function(g,v){var u=this,s=u.getViewModel(),e=s.get("kjgn"),f=u.getReferences(),t=v.get("REFERENSI")||{};t.KUNJUNGAN=e.data;v.set("REFERENSI",t);f.cpptform.loadRecord(v)},onActivate:function(){var g=this.getView(),k=this.getViewModel().get("kjgn");if(!g.first){g.load(k)}}},0,0,0,0,["controller.rekammedis-cppt-workspace"],0,[rekammedis.cppt,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.cppt.history.Tab",com.Tab,{controller:"rekammedis-cppt-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-cppt-list"}],load:function(m){var o=this,l=o.down("rekammedis-cppt-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-cppt-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-cppt-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-cppt-history-tab":true},["widget.rekammedis-cppt-history-tab"],0,[rekammedis.cppt.history,"Tab"],0));(Ext.cmd.derive("rekammedis.cppt.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-cppt-history-tab"],0,[rekammedis.cppt.history,"TabController"],0));(Ext.cmd.derive("rekammedis.cppt.history.Workspace",com.Form,{title:"Catatan Medis",iconCls:"x-fa fa-history",layout:"fit",bodyPadding:0,items:[{xtype:"rekammedis-cppt-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-cppt-history-tab");l.load(k)}},0,["rekammedis-cppt-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-cppt-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-cppt-history-workspace":true},["widget.rekammedis-cppt-history-workspace"],0,[rekammedis.cppt.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.icd.Combo",com.Combo,{viewModel:{data:{comboConfig:{}},stores:{store:{type:"diagnosa-store"}}},queryMode:"remote",queryParam:"QUERY",displayField:"STR",valueField:"CODE",emptyText:"[Masukkan Kode ICD]",typeAhead:true,minChars:2,tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item"><strong>{CODE}</strong> - {STR} <b>Versi. {VERSION}</b></div>',"</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{CODE} - {STR}","</tpl>"),config:{inaParams:{}},initComponent:function(){var f=this;f.callParent(arguments);f.integrasi=f.app?f.app.xitr("ID",2):false;if(f.integrasi){f.service=Ext.create(f.integrasi.NAMA_KLAS,{})}Ext.apply(f.inaParams,{icd_type:1,load_from_inacbg:1,tipe:3,query:""})},onSearchClick:function(){var l=this,m=l.lastQuery,k=l.inaParams;if(m==""){return}l.updateLayout();l.fireEvent("search",l,m);k.query=m;if(l.integrasi){if(l.service){l.service.icdInaGrouper(k,function(f,g,e){if(f){Ext.toast({html:"Ambil data inacbg berhasil. Silahkan lakukan pencarian lagi",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});l.focus()}})}}},hideSearchTrigger:function(f){}},0,["rekammedis-icd-combo"],["component","box","field","textfield","pickerfield","combobox","combo","com-combo","rekammedis-icd-combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true,"com-combo":true,"rekammedis-icd-combo":true},["widget.rekammedis-icd-combo"],0,[rekammedis.icd,"Combo"],0));(Ext.cmd.derive("rekammedis.icd.Link",com.Tab,{viewModel:{data:{pasienMeninggal:false}},ui:"header-tab",activeTab:0,isLayanan:false,isFirst:true,setIsLayanan:function(f){this.isLayanan=f},load:function(q){var f=this,t=f.getViewModel(),e=f.getReferences();if(f.isFirst){f.add({title:"Diagnosa (ICD 10)",xtype:"diagnosa-workspace",reference:"diag-icd",isLayanan:f.isLayanan});f.add({title:"Tindakan (ICD 9 CM)",xtype:"icd-tindakan-workspace",reference:"tind-icd",isLayanan:f.isLayanan});f.add({title:"Penyebab Kematian",reference:"penyebabkematian-icd",xtype:"penyebabkematian-workspace",bind:{hidden:"{!pasienMeninggal}"}});if(Ext.getClassName(q)!="data.model.Kunjungan"){f.add({title:"E-Klaim INA-CBG",xtype:"grouping-workspace"});var p=q.get("REFERENSI"),s=p?(p.PASIEN?p.PASIEN.STATUS==2:false):false;t.set("pasienMeninggal",s)}f.isFirst=false}f.setActiveTab(0)}},0,["icd-link"],["component","box","container","panel","tabpanel","com-tab","icd-link"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"icd-link":true},["widget.icd-link"],0,[rekammedis.icd,"Link"],0));(Ext.cmd.derive("rekammedis.icd.Workspace",com.Form,{controller:"workspace-icd",viewModel:{data:{pasien:undefined,selected:undefined},formulas:{getFormatPendaftaran:function(f){var m=f("pendaftaran.NOMOR"),e=m?m.substring(0,6)+"."+m.substring(6):"";return e}}},layout:{type:"vbox",align:"stretch"},isLayanan:false,title:"Coding ICD",header:{itemPosition:1,items:[{xtype:"displayfield",bind:{value:"<strong>No. Pendaftaran: {getFormatPendaftaran}</strong>"}}]},items:[{xtype:"container",reference:"info",layout:{type:"hbox"},padding:5,items:[{xtype:"pasien-short-detil",reference:"pasien",flex:1,border:false},{xtype:"container",flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"tujuan-detil",cls:"",margin:"0 0 5 0",reference:"tujuan"},{xtype:"penjamin-detil",cls:"",layout:{type:"vbox",align:"right"},reference:"penjamin"}]}]},{xtype:"icd-link",flex:1,reference:"icdlink",listeners:{tabchange:"onTabChange"}}],load:function(C,l,z,y){var e=this,B=e.getViewModel(),k=e.down("[reference=pasien]"),g=e.down("[reference=icdlink]"),D=e.down("[reference=tujuan]"),f=e.down("[reference=penjamin]"),A=e.down("[reference=info]");g.setIsLayanan(e.isLayanan);if(Ext.getClassName(C)=="data.model.Kunjungan"){A.setHidden(true);B.set("selected",C);g.load(C)}else{B.set("pendaftaran",l);B.set("selected",l);g.load(l);k.load(C);D.load(z);f.load(y)}},listeners:{activate:"onActivate"}},0,["workspace-icd"],["component","box","container","panel","form","com-form","workspace-icd"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-icd":true},["widget.workspace-icd"],0,[rekammedis.icd,"Workspace"],0));(Ext.cmd.derive("rekammedis.icd.WorkspaceController",Ext.app.ViewController,{onReload:function(o){var m=this,n=m.getReferences(),l=m.getViewModel().get("selected");if(n.icdlink.load){n.icdlink.load(l)}},onActivate:function(){var m=this,o=m.getReferences(),l=m.getViewModel().get("selected"),n=o.icdlink.getActiveTab();if(l){n.loadRecord(l)}},onTabChange:function(k,g){this.onActivate()}},0,0,0,0,["controller.workspace-icd"],0,[rekammedis.icd,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.icd.diagnosa.Form",com.Form,{model:"data.model.Icd",viewModel:{data:{formConfig:{hideKirimInacbg:false,inaGrouper:false}}},layout:{type:"vbox",align:"stretch"},defaults:{anchor:"99%"},items:[{xtype:"fieldcontainer",fieldLabel:"Kategori",defaultType:"checkboxfield",layout:"hbox",items:[{inputValue:"1",name:"UTAMA",boxLabel:"Primary",checked:false},{margin:"0 0 0 10",inputValue:"1",name:"INACBG",boxLabel:"Kirim Ke INACBG",checked:true,bind:{hidden:"{formConfig.hideKirimInacbg}"}}]},{xtype:"rekammedis-icd-combo",fieldLabel:"Kode",emptyText:"[Masukkan Kode ICD 10]",labelWidth:110,reference:"kode-icd",allowBlank:false,name:"KODE",hideTrigger:false,reference:"icd"},{xtype:"textareafield",emptyText:"Masukkan Diagnosa Dokter",flex:1,reference:"diag",name:"DIAGNOSA"}],buttons:[{text:"Simpan",iconCls:"x-fa fa-save",ui:"soft-blue",handler:"onSimpan"}],onLoadRecord:function(o,m){var l=this.down("combobox"),n=o.getViewModel();l.hideSearchTrigger(!n.get("formConfig.inaGrouper"))},onBeforeGetRecord:function(m,k){var l=m.down("[name=INACBG]");k.INACBG=l.getValue()?1:0},setCombo:function(o){var p=o.get("REFERENSI"),n=this.down("combobox"),e=p?p.DIAGNOSA:null,q=e?Ext.create("data.model.Diagnosa",e):null;n.select(q)}},0,["diagnosa-form"],["component","box","container","panel","form","com-form","diagnosa-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"diagnosa-form":true},["widget.diagnosa-form"],0,[rekammedis.icd.diagnosa,"Form"],0));(Ext.cmd.derive("rekammedis.icd.diagnosa.Grid",com.Grid,{viewModel:{data:{listConfig:{columns:{inacbg:{hidden:false},status:{hidden:false}}}},stores:{store:{type:"icd-store"}}},columns:[{xtype:"rownumberer",text:"No",align:"left",width:40},{text:"Kode (ICD 10)",dataIndex:"KODE"},{text:"Deskripsi",dataIndex:"KODE",flex:1,renderer:"renderDeskripsi"},{text:"Diagnosa",dataIndex:"DIAGNOSA",flex:1},{text:"Kategori",dataIndex:"UTAMA",renderer:"renderKategori"},{text:"Inacbg",dataIndex:"INACBG",renderer:"renderIncbg",bind:{hidden:"{listConfig.columns.inacbg.hidden}"}},{xtype:"checkcolumn",text:"Status",dataIndex:"STATUS",bind:{hidden:"{listConfig.columns.status.hidden}"},listeners:{checkchange:"onChange"}}],getStore:function(){var k=this,m=k.getViewModel(),l=m?m.get("store"):null;if(l){return l}return k.callParent()}},0,["diagnosa-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","diagnosa-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"diagnosa-grid":true},["widget.diagnosa-grid"],0,[rekammedis.icd.diagnosa,"Grid"],0));(Ext.cmd.derive("rekammedis.icd.diagnosa.Model",Ext.app.ViewModel,{stores:{store:{type:"icd-store"}}},0,0,0,0,["viewmodel.diagmodel"],0,[rekammedis.icd.diagnosa,"Model"],0));(Ext.cmd.derive("rekammedis.icd.diagnosa.Workspace",com.Form,{controller:"workspace-diagnosa",layout:{type:"hbox",align:"stretch"},cls:"x-br-top",isLayanan:false,items:[{xtype:"diagnosa-grid",flex:2,border:false,cls:"x-br-right",reference:"griddiagnosa",listeners:{select:"onSelect"}},{xtype:"diagnosa-form",flex:1,border:false,reference:"formdiagnosa"}],onLoadRecord:function(u,v){var t=u.down("diagnosa-form"),s=u.down("diagnosa-grid"),g=Ext.getClassName(v)=="data.model.Kunjungan"?v.get("NOPEN"):v.get("NOMOR"),e=Ext.getClassName(v)=="data.model.Kunjungan"?v:null,f={inacbg:{hidden:u.isLayanan},status:{hidden:false}};if(e){f.status.hidden=e.get("FINAL_HASIL")==1;t.setHidden(e.get("FINAL_HASIL")==1)}s.setGridConfig({columns:f});s.load({NOPEN:g,STATUS:1,INA_GROUPER:u.inaGrouper?1:0});t.setFormConfig({hideKirimInacbg:u.isLayanan,inaGrouper:u.inaGrouper?u.inaGrouper:false});t.createRecord({NOPEN:g,INACBG:u.isLayanan?0:1,UTAMA:1,TANGGAL:u.getSysdate(),STATUS:1,INA_GROUPER:u.inaGrouper?1:0});t.focus("KODE")},getDiagnosis:function(){var l=this,o=l.down("diagnosa-grid").getStore();if(o){var n=o.getArrayData(),m=[];Ext.Array.each(n,function(e){if(e.INACBG==1&&e.STATUS==1){m.push(e)}});return m}return[]}},0,["diagnosa-workspace"],["component","box","container","panel","form","com-form","diagnosa-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"diagnosa-workspace":true},["widget.diagnosa-workspace"],0,[rekammedis.icd.diagnosa,"Workspace"],0));(Ext.cmd.derive("rekammedis.icd.diagnosa.WorkspaceController",Ext.app.ViewController,{renderDeskripsi:function(w,u,f,n,x,l){var v=f.get("REFERENSI"),m=v?(v.DIAGNOSA?v.DIAGNOSA.STR:""):"";return m},renderKategori:function(f){return f==1?"primary":"Sekunder"},renderIncbg:function(f){return f==1?"Terkirim":"Tidak Terkirim"},onSimpan:function(k){var m=this,l=m.getReferences();l.formdiagnosa.save(k,{success:"Tindakan ICD10 telah tersimpan"},function(g,e,f){if(f){l.formdiagnosa.createRecord({NOPEN:g.get("NOPEN"),UTAMA:2,INACBG:1,TANGGAL:m.getView().getSysdate(),STATUS:1});l.formdiagnosa.focus("KODE");(new Ext.util.DelayedTask(function(){l.griddiagnosa.getSelectionModel().deselect(g);l.griddiagnosa.reload()})).delay(1000)}})},onChange:function(e,l,x){var w=this,f=w.getView(),k=w.getReferences(),u=k.griddiagnosa,v=u.getStore().getAt(l);if(v.get("UTAMA")==1){v.set("STATUS",1);return false}v.set("STATUS",x?1:0);v.scope=this;v.save({callback:function(g,m,n){if(n){f.notifyMessage("Diagnosa di "+(x==true?"Aktifkan":"Non Aktifkan"))}else{v.set("STATUS",x?0:1)}k.griddiagnosa.reload()}})},onSelect:function(o,g,p){var e=this,q=e.getReferences();q.formdiagnosa.setCollapsed(false);q.formdiagnosa.loadRecord(g);q.formdiagnosa.setCombo(g)}},0,0,0,0,["controller.workspace-diagnosa"],0,[rekammedis.icd.diagnosa,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.icd.penyebabkematian.Form",com.Form,{model:"data.model.PenyebabKematian",layout:{type:"vbox",align:"stretch"},defaults:{anchor:"99%"},items:[{xtype:"fieldcontainer",fieldLabel:"Kategori",defaultType:"checkboxfield",layout:"hbox",items:[{inputValue:"1",name:"UTAMA",boxLabel:"Primary",checked:false}]},{xtype:"rekammedis-icd-combo",fieldLabel:"Kode",emptyText:"[Masukkan Kode ICD 10]",labelWidth:110,reference:"kode-icd",allowBlank:false,name:"KODE",reference:"icd"},{xtype:"textareafield",emptyText:"Masukkan Diagnosa Dokter",flex:1,name:"DIAGNOSA"}],buttons:[{text:"Simpan",iconCls:"x-fa fa-save",ui:"soft-blue",handler:"onSimpan"}],setCombo:function(o){var p=o.get("REFERENSI"),n=this.down("combobox"),e=p?p.DIAGNOSA:null,q=e?Ext.create("data.model.Diagnosa",e):null;n.select(q)}},0,["penyebabkematian-form"],["component","box","container","panel","form","com-form","penyebabkematian-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"penyebabkematian-form":true},["widget.penyebabkematian-form"],0,[rekammedis.icd.penyebabkematian,"Form"],0));(Ext.cmd.derive("rekammedis.icd.penyebabkematian.Grid",com.Grid,{viewModel:{data:{listConfig:{columns:{status:{hidden:false}}}},stores:{store:{type:"penyebabkematian-store"}}},columns:[{xtype:"rownumberer",text:"No",align:"left",width:40},{text:"Kode (ICD 10)",dataIndex:"KODE"},{text:"Deskripsi",dataIndex:"KODE",flex:1,renderer:"renderDeskripsi"},{text:"Diagnosa",dataIndex:"DIAGNOSA",flex:1},{text:"Kategori",dataIndex:"UTAMA",renderer:"renderKategori"},{xtype:"checkcolumn",text:"Status",dataIndex:"STATUS",bind:{hidden:"{listConfig.columns.status.hidden}"},listeners:{checkchange:"onChange"}}]},0,["penyebabkematian-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","penyebabkematian-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"penyebabkematian-grid":true},["widget.penyebabkematian-grid"],0,[rekammedis.icd.penyebabkematian,"Grid"],0));(Ext.cmd.derive("rekammedis.icd.penyebabkematian.Model",Ext.app.ViewModel,{stores:{gridpenyebabkematianstore:{type:"penyebabkematian-store"}}},0,0,0,0,["viewmodel.penyebabkematian"],0,[rekammedis.icd.penyebabkematian,"Model"],0));(Ext.cmd.derive("rekammedis.icd.penyebabkematian.Workspace",com.Form,{controller:"workspace-penyebabkematian",viewModel:{type:"penyebabkematian"},layout:{type:"hbox",align:"stretch"},cls:"x-br-top",items:[{xtype:"penyebabkematian-grid",flex:2,border:false,cls:"x-br-right",reference:"gridpenyebabkematian",listeners:{select:"onSelect"}},{xtype:"penyebabkematian-form",flex:1,border:false,reference:"formpenyebabkematian"}],onLoadRecord:function(t,e){var s=t.down("penyebabkematian-form"),q=t.down("penyebabkematian-grid"),p=Ext.getClassName(e)=="data.model.Kunjungan"?e.get("NOPEN"):e.get("NOMOR"),f=Ext.getClassName(e)=="data.model.Kunjungan"?e:null;if(f){q.setGridConfig({columns:{status:{hidden:f.get("FINAL_HASIL")==1}}});s.setHidden(f.get("FINAL_HASIL")==1)}q.load({NOPEN:p,STATUS:1});s.createRecord({NOPEN:p,TANGGAL:t.getSysdate(),STATUS:1});s.focus("KODE")}},0,["penyebabkematian-workspace"],["component","box","container","panel","form","com-form","penyebabkematian-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"penyebabkematian-workspace":true},["widget.penyebabkematian-workspace"],0,[rekammedis.icd.penyebabkematian,"Workspace"],0));(Ext.cmd.derive("rekammedis.icd.penyebabkematian.WorkspaceController",Ext.app.ViewController,{renderDeskripsi:function(w,u,f,n,x,l){var v=f.get("REFERENSI"),m=v?(v.DIAGNOSA?v.DIAGNOSA.STR:""):"";return m},renderKategori:function(f){return f==1?"Primary":"Sekunder"},renderIncbg:function(f){return f==1?"Terkirim":"Tidak Terkirim"},onSimpan:function(k){var m=this,l=m.getReferences();l.formpenyebabkematian.save(k,{success:"Penyebab Kematian telah tersimpan"},function(g,e,f){if(f){l.gridpenyebabkematian.getStore().load();l.formpenyebabkematian.createRecord({NOPEN:g.get("NOPEN"),UTAMA:2,TANGGAL:m.getView().getSysdate(),STATUS:1});l.formpenyebabkematian.focus("KODE")}})},onChange:function(f,k,e){var v=this,s=v.getView(),u=v.getViewModel(),t=u.get("gridpenyebabkematianstore");h=t.getAt(k);if(h.get("UTAMA")==1){h.set("STATUS",1);return false}h.set("STATUS",e?1:0);h.scope=this;h.save({callback:function(g,l,m){if(m){s.notifyMessage("Status Tindakan di"+(e==true?"Aktifkan":"NonAktifkan"))}else{h.set("STATUS",e?0:1)}}})},onSelect:function(o,g,p){var e=this,q=e.getReferences();q.formpenyebabkematian.setCollapsed(false);q.formpenyebabkematian.loadRecord(g);q.formpenyebabkematian.setCombo(g)}},0,0,0,0,["controller.workspace-penyebabkematian"],0,[rekammedis.icd.penyebabkematian,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.icd.tindakan.Form",com.Form,{model:"data.model.Icd9",viewModel:{data:{formConfig:{hideKirimInacbg:false}}},layout:{type:"vbox",align:"stretch"},defaults:{anchor:"99%"},items:[{xtype:"fieldcontainer",defaultType:"checkboxfield",margin:"0 0 0 20",items:[{boxLabel:"Kirim Ke INACBG",inputValue:"1",name:"INACBG",checked:true,bind:{hidden:"{formConfig.hideKirimInacbg}"}}]},{xtype:"rekammedis-icd-combo",fieldLabel:"Kode",emptyText:"[Masukkan Kode ICD 9]",params:{ICD9:1},labelWidth:110,allowBlank:false,name:"KODE",reference:"icd"},{xtype:"textareafield",emptyText:"Masukkan Tindakan Dokter",flex:1,name:"TINDAKAN"}],buttons:[{text:"Simpan",iconCls:"x-fa fa-save",ui:"soft-blue",handler:"onSimpan"}],onBeforeGetRecord:function(m,k){var l=m.down("[name=INACBG]");k.INACBG=l.getValue()?1:0},setCombo:function(o){var p=o.get("REFERENSI"),n=this.down("combobox"),e=p?p.DIAGNOSA:null,q=e?Ext.create("data.model.Diagnosa",e):null;n.select(q)}},0,["icd-tindakan-form"],["component","box","container","panel","form","com-form","icd-tindakan-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"icd-tindakan-form":true},["widget.icd-tindakan-form"],0,[rekammedis.icd.tindakan,"Form"],0));(Ext.cmd.derive("rekammedis.icd.tindakan.Grid",com.Grid,{viewModel:{data:{listConfig:{columns:{inacbg:{hidden:false},status:{hidden:false}}}},stores:{store:{type:"icd9-store"}}},columns:[{xtype:"rownumberer",text:"No",align:"left",width:40},{text:"Kode (ICD 9)",dataIndex:"KODE"},{text:"Deskripsi",dataIndex:"KODE",flex:1,renderer:"onDeskripsi"},{text:"Tindakan",dataIndex:"TINDAKAN",flex:1},{text:"Inacbg",dataIndex:"INACBG",renderer:"renderIncbg",width:90,bind:{hidden:"{listConfig.columns.inacbg.hidden}"}},{text:"Status",xtype:"checkcolumn",dataIndex:"STATUS",bind:{hidden:"{listConfig.columns.status.hidden}"},listeners:{checkchange:"onChange"}}],getStore:function(){var k=this,m=k.getViewModel(),l=m?m.get("store"):null;if(l){return l}return k.callParent()}},0,["icd-tindakan-grid"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","icd-tindakan-grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"icd-tindakan-grid":true},["widget.icd-tindakan-grid"],0,[rekammedis.icd.tindakan,"Grid"],0));(Ext.cmd.derive("rekammedis.icd.tindakan.Model",Ext.app.ViewModel,{stores:{store:{type:"icd9-store"}}},0,0,0,0,["viewmodel.icd-tindakanmodel"],0,[rekammedis.icd.tindakan,"Model"],0));(Ext.cmd.derive("rekammedis.icd.tindakan.Workspace",com.Form,{controller:"workspace-icd-tindakan",viewModel:{type:"icd-tindakanmodel"},layout:{type:"hbox",align:"stretch"},isLayanan:false,cls:"x-br-top",items:[{xtype:"icd-tindakan-grid",flex:2,border:false,cls:"x-br-right",reference:"gridtindakan",listeners:{select:"onSelect"}},{xtype:"icd-tindakan-form",flex:1,border:false,reference:"formtindakan"}],onLoadRecord:function(u,v){var t=u.down("icd-tindakan-form"),s=u.down("icd-tindakan-grid"),g=Ext.getClassName(v)=="data.model.Kunjungan"?v.get("NOPEN"):v.get("NOMOR"),e=Ext.getClassName(v)=="data.model.Kunjungan"?v:null,f={inacbg:{hidden:u.isLayanan},status:{hidden:false}};if(e){f.status.hidden=e.get("FINAL_HASIL")==1;t.setHidden(e.get("FINAL_HASIL")==1)}s.setGridConfig({columns:f});s.load({NOPEN:g,STATUS:1});t.setFormConfig({hideKirimInacbg:u.isLayanan});t.createRecord({NOPEN:g,INACBG:u.isLayanan?0:1,TANGGAL:u.getSysdate(),STATUS:1});t.focus("KODE")},getProcedures:function(){var l=this,o=l.down("icd-tindakan-grid").getStore();if(o){var n=o.getArrayData(),m=[];Ext.Array.each(n,function(e){if(e.INACBG==1&&e.STATUS==1){m.push(e)}});return m}return[]}},0,["icd-tindakan-workspace"],["component","box","container","panel","form","com-form","icd-tindakan-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"icd-tindakan-workspace":true},["widget.icd-tindakan-workspace"],0,[rekammedis.icd.tindakan,"Workspace"],0));(Ext.cmd.derive("rekammedis.icd.tindakan.WorkspaceController",Ext.app.ViewController,{onDeskripsi:function(w,u,f,n,x,l){var v=f.get("REFERENSI"),m=v?(v.DIAGNOSA?v.DIAGNOSA.STR:""):"";return m},renderIncbg:function(f){return f==1?"Terkirim":"Tidak Terkirim"},onSimpan:function(k){var m=this,l=m.getReferences();l.formtindakan.save(k,{success:"Tindakan ICD9 telah tersimpan"},function(g,e,f){if(f){l.formtindakan.createRecord({NOPEN:g.get("NOPEN"),INACBG:1,TANGGAL:m.getView().getSysdate(),STATUS:1});l.formtindakan.focus("KODE");l.gridtindakan.getSelectionModel().deselect([g]);l.gridtindakan.reload()}})},onBeforeQuery:function(f){f.combo.getStore().removeAll()},onSelect:function(o,g,p){var e=this,q=e.getReferences();q.formtindakan.setCollapsed(false);q.formtindakan.loadRecord(g);q.formtindakan.setCombo(g)},onChange:function(e,l,x){var w=this,f=w.getView(),k=w.getReferences(),u=k.gridtindakan,v=u.getStore().getAt(l);v.set("STATUS",x?1:0);v.scope=this;v.save({callback:function(g,m,n){if(n){f.notifyMessage("Tindakan di "+(x==true?"Aktifkan":"Non Aktifkan"))}else{v.set("STATUS",x?0:1)}k.gridtindakan.reload()}})}},0,0,0,0,["controller.workspace-icd-tindakan"],0,[rekammedis.icd.tindakan,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.laporanoperasi.Form",com.Form,{model:"data.model.Operasi",layout:{type:"vbox",align:"stretch"},cls:"x-br-left",border:false,initComponent:function(){var f=this;f.items=[f.layoutIdentitas(),f.layoutTindakanOperasi(),f.layoutForm(),f.layoutformPascaOperasi(),f.layoutLaporanOPerasi()];f.callParent(arguments)},layoutIdentitas:function(){return{layout:{type:"vbox",align:"stretch"},cls:"shadow-panel",defaults:{margin:5},border:false,items:[{layout:{type:"hbox",align:"stretch"},border:false,defaults:{bind:{readOnly:"{formConfig.viewOnly}"}},items:[{xtype:"dokter-combo",labelWidth:100,border:false,fieldLabel:"Nama Operator",flex:1,name:"DOKTER",margin:"0 10 0 0"},{xtype:"textfield",labelWidth:100,border:false,fieldLabel:"Nama Asisten",flex:1,name:"ASISTEN_DOKTER",emptyText:"[Nama dr. Asisten]"}]},{layout:{type:"hbox",align:"stretch"},border:false,defaults:{bind:{readOnly:"{formConfig.viewOnly}"}},items:[{xtype:"dokter-combo",labelWidth:100,border:false,fieldLabel:"Dokter Anastesi",flex:1,name:"ANASTESI",margin:"0 10 0 0"},{xtype:"textfield",labelWidth:100,border:false,fieldLabel:"Nama Perawat",flex:1,name:"ASISTEN_ANASTESI",emptyText:"[Nama Perawat]"}]}]}},layoutTindakanOperasi:function(){return{layout:{type:"hbox",align:"stretch"},margin:"10 0 0 0",border:false,defaults:{margin:5,bind:{readOnly:"{formConfig.viewOnly}"}},items:[{xtype:"referensi-combo",labelWidth:70,fieldLabel:"Jenis Anastesi",params:{JENIS:52},name:"JENIS_ANASTESI",flex:1},{xtype:"referensi-combo",labelWidth:70,fieldLabel:"Golongan Operasi",params:{JENIS:53},name:"GOLONGAN_OPERASI",reference:"golonganoperasi",flex:1},{xtype:"referensi-combo",labelWidth:70,fieldLabel:"Jenis Operasi",params:{JENIS:87},name:"JENIS_OPERASI",reference:"jenisoperasi",flex:1}]}},layoutForm:function(){return{layout:{type:"vbox",align:"stretch"},border:false,items:[{xtype:"textfield",labelAlign:"right",labelWidth:150,fieldLabel:"Diagnosis Pra Bedah ",flex:1,emptyText:"[Diagnosis Pra Bedah]",name:"PRA_BEDAH",bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"textfield",labelAlign:"right",labelWidth:150,fieldLabel:"Diagnosis Pasca Bedah ",flex:1,emptyText:"[Diagnosis Pasca Bedah]",name:"PASCA_BEDAH",bind:{readOnly:"{formConfig.viewOnly}"}},{layout:{type:"hbox",align:"stretch"},border:false,items:[{xtype:"fieldset",cls:"x-color-w",flex:2,margin:"0 10 0 0",border:false,defaultType:"textfield",layout:{type:"vbox",align:"stretch"},fieldDefaults:{labelAlign:"right",labelWidth:115,msgTarget:"side"},defaults:{bind:{readOnly:"{formConfig.viewOnly}"}},items:[{fieldLabel:"Indikasi Operasi",emptyText:"[Indikasi Operasi]",name:"INDIKASI"},{fieldLabel:"Nama Operasi",emptyText:"[Nama Operasi]",name:"NAMA_OPERASI"},{fieldLabel:"Komplikasi",emptyText:"[Komplikasi]",name:"KOMPLIKASI"},{fieldLabel:"Pendarahan",emptyText:"[Pendarahan]",name:"PERDARAHAN"}]},{xtype:"fieldset",border:false,flex:1,cls:"x-color-w",defaultType:"textfield",defaults:{anchor:"100%"},items:[{xtype:"datefield",fieldLabel:"Tanggal Operasi",value:new Date(),name:"TANGGAL",format:"Y-m-d",listeners:{change:"hitungDurasi"},bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"timefield",fieldLabel:"Jam Mulai",emptyText:"[Jam:Mnt:Dtk]",format:"H:i:s",value:new Date(),name:"WAKTU_MULAI",listeners:{change:"hitungDurasi"},bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"timefield",fieldLabel:"Jam Selesai",emptyText:"[Jam:Mnt:Dtk]",format:"H:i:s",value:new Date(),name:"WAKTU_SELESAI",listeners:{change:"hitungDurasi"},bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"timefield",fieldLabel:"Durasi",emptyText:"[Jam:Mnt:Dtk]",format:"H:i:s",value:new Date(),name:"DURASI",readOnly:true}]}]}]}},layoutformPascaOperasi:function(){return{layout:{type:"hbox",align:"stretch"},border:false,defaults:{margin:5},items:[{xtype:"radiogroup",labelWidth:150,flex:1,fieldLabel:"Perawatan Pasca Operasi",layout:{autoFlex:false},defaults:{name:"",margin:"0 10 0 5",bind:{readOnly:"{formConfig.viewOnly}"}},items:[{inputValue:"Ruangan",boxLabel:"Ruangan",checked:true,name:"RUANGAN_PASCA_OPERASI"},{inputValue:"HCU",boxLabel:"HCU",name:"RUANGAN_PASCA_OPERASI"}]},{xtype:"radiogroup",labelWidth:100,flex:1,fieldLabel:"Pemeriksaan PA",labelAlign:"right",flex:1,layout:{autoFlex:false},defaults:{name:"",margin:"0 10 0 5",bind:{readOnly:"{formConfig.viewOnly}"}},items:[{inputValue:"1",boxLabel:"YA",name:"PA"},{inputValue:"0",boxLabel:"Tidak",checked:true,name:"PA"}]},{xtype:"textfield",labelAlign:"right",labelWidth:150,fieldLabel:"Jaringan Dieksisi",name:"JARINGAN_DIEKSISI"}]}},layoutLaporanOPerasi:function(){return{flex:1,layout:"fit",border:false,margin:"5 0 0 0",items:[{xtype:"textareafield",emptyText:"[Laporan Operasi]",name:"LAPORAN_OPERASI",bind:{readOnly:"{formConfig.viewOnly}"}}]}},onLoadRecord:function(x,e){var v=x.down("[name=GOLONGAN_OPERASI]"),u=x.down("[name=JENIS_OPERASI]"),t=x.down("[name=JENIS_ANASTESI]"),g=x.down("[name=DOKTER]"),f=x.down("[name=ANASTESI]"),w=e.get("REFERENSI"),w=w?true:false;v.load();u.load();t.load();g.load();f.load();if(!w){g.select(null);f.select(null)}}},0,["laporan-opersi-form"],["component","box","container","panel","form","com-form","laporan-opersi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"laporan-opersi-form":true},["widget.laporan-opersi-form"],0,[rekammedis.laporanoperasi,"Form"],0));(Ext.cmd.derive("rekammedis.laporanoperasi.Workspace",com.Form,{controller:"laporan-operasi-workspace",model:"data.model.Operasi",viewModel:{stores:{store:{type:"operasi-ditindakan-store"}}},layout:"border",border:false,title:"Laporan Operasi",initComponent:function(){var k=this,g=k.getViewModel().get("store");k.items=[{region:"west",xtype:"tindakan-medis-list",flex:1,hideAction:true,checkboxModel:true,selModel:{selType:"checkboxmodel",checkOnly:true,mode:"Multi"},reference:"tindakanoperasi",listeners:{select:"onSelect",deselect:"onDeselect"}},{region:"center",xtype:"laporan-opersi-form",cls:"shadow-panel x-br-left",flex:3,reference:"laporanoperasi"}];k.buttons=[{text:"Simpan",iconCls:"x-fa fa-save",ui:"soft-blue",handler:"onSimpan",bind:{hidden:"{!formConfig.simpan}"}},{text:"Cetak",iconCls:"x-fa fa-print",ui:"soft-green",handler:"onCetak"}];g.doAfterLoad=function(t,e,s,w){var v=new Array(),u=k.down("tindakan-medis-list"),f=u.getStore();e.forEach(function(m){var l=f.findRecord("ID",m.get("TINDAKAN_MEDIS"),0,false,true,false);if(l){v.push(l)}});u.setSelection(v)};k.callParent(arguments)},onLoadRecord:function(k,f){var e=k.getViewModel(),B=k.down("tindakan-medis-list"),y=k.down("laporan-opersi-form"),A=k.getViewModel().get("store"),D=f.get("REFERENSI"),g=g=D?Ext.create("data.model.Kunjungan",D.KUNJUNGAN):null,z=Ext.isString(f.get("ID"))?0:f.get("ID"),C=e.get("formConfig");if(g){var l=g.get("JENIS_KUNJUNGAN")==6;k.setFormConfig({viewOnly:C.viewOnly,simpan:C.simpan});y.loadRecord(f);A.queryParams={STATUS:1,ID:z};B.doAfterLoad=function(m,o,n){A.load()};B.loadStore(g)}}},0,["laporan-operasi-workspace"],["component","box","container","panel","form","com-form","laporan-operasi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"laporan-operasi-workspace":true},["widget.laporan-operasi-workspace"],0,[rekammedis.laporanoperasi,"Workspace"],0));(Ext.cmd.derive("rekammedis.laporanoperasi.WorkspaceController",Ext.app.ViewController,{onSimpan:function(e){var w=this,u=w.getView(),v=w.getReferences(),x=v.laporanoperasi,g=v.tindakanoperasi.getSelection(),k=new Array(),f=v.tindakanoperasi.getStore();f.each(function(l){l.set("STATUS",0);g.forEach(function(m){if(m.data.TINDAKAN==l.data.TINDAKAN){l.set("STATUS",1)}});k.push(l.data)});x.getRecord().set("TINDAKAN_MEDIS",k);x.save(e)},onSelect:function(n,m){var o=this,l=o.getViewModel().get("formConfig.viewOnly");if(l){return false}m.set("STATUS",1)},onDeselect:function(n,m){var o=this,l=o.getViewModel().get("formConfig.viewOnly");if(l){return false}m.set("STATUS",0)},onCetak:function(o){var l=this,n=l.getView(),m=l.getViewModel().get("record");n.cetak({NAME:"mr.CetakLaporanOperasi",TYPE:"Word",EXT:"docx",PARAMETER:{PID:m.get("ID")},REQUEST_FOR_PRINT:true,PRINT_NAME:"CetakMR"})},hitungDurasi:function(l){var g=this,k=g.getReferences(),H=k.laporanoperasi,J=H.down("[name=TANGGAL]").getSubmitValue(),f=H.down("[name=WAKTU_MULAI]").getSubmitValue(),m=H.down("[name=WAKTU_SELESAI]").getSubmitValue(),e=H.down("[name=DURASI]"),E=new Date(J+" "+f),o=new Date(J+" "+m);if(E>o){o=Ext.Date.subtract(o,Ext.Date.DAY,-1)}var F=Ext.Date.diff(E,o,Ext.Date.SECOND),I=Math.floor(F/3600),G=Math.floor((F-(I*3600))/60),n=new Date(J+" "+I+":"+G+":00");e.setValue(n)}},0,0,0,0,["controller.laporan-operasi-workspace"],0,[rekammedis.laporanoperasi,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.laporanoperasi.list.List",Ext.grid.Panel,{viewModel:{stores:{store:{type:"operasi-store"}}},bind:{store:"{store}"},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Nomor",dataIndex:"ID",sortable:false,width:90},{xtype:"datecolumn",text:"Tgl. Laporan",dataIndex:"DIBUAT_TANGGAL",format:"d/m/Y H:i:s",sortable:false,width:140},{text:"Nama Operasi",dataIndex:"NAMA_OPERASI",sortable:false,flex:1},{xtype:"datecolumn",text:"Tgl. Operasi",dataIndex:"TANGGAL",format:"d/m/Y",sortable:false,width:90},{xtype:"widgetcolumn",align:"center",text:"Aksi",widget:{xtype:"fieldcontainer",defaults:{padding:2,margin:"0 2 1 0"},items:[{xtype:"button",action:0,text:"View",iconCls:"x-fa fa-minus-circle",ui:"soft-red",tooltip:"View Laporan Operasi",handler:"onViewLaporan"}]},onWidgetAttach:function(k,m,t){var l=t.get("STATUS"),s=m.down("[action=0]"),g=m.down("[action=1]");s.setHidden(l!=1)}}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",displayInfo:true}],loadStore:function(n){var f=this,o=f.getViewModel(),e=o.get("store");if(e){e.removeAll();e.queryParams=e.queryParams||{};if(n){if(Ext.getClassName(n)=="data.model.Kunjungan"){e.queryParams.KUNJUNGAN=n.get("NOMOR");if(!o.get("kunjungan")){o.set("kunjungan",n)}}else{e.queryParams=n}}e.load()}},refresh:function(){var f=this.getViewModel().get("store");if(f){f.reload()}}},0,["lap-operasi-list"],["component","box","container","panel","tablepanel","gridpanel","grid","lap-operasi-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"lap-operasi-list":true},["widget.lap-operasi-list"],0,[rekammedis.laporanoperasi.list,"List"],0));(Ext.cmd.derive("rekammedis.laporanoperasi.list.Workspace",com.Form,{controller:"workspace-list-lap-operasi",viewModel:{data:{kunjungan:undefined,hideForm:true,hiddenButton:true}},border:false,layout:"border",initComponent:function(){var f=this;f.items=[{region:"center",title:"Daftar Operasi",header:{items:[{xtype:"button",margin:2,height:32,cls:"x-fa fa-plus hide-icon-tools",tooltip:"Baru",bind:{hidden:"{hiddenButton}"},handler:"onAddLapOperasi"}]},xtype:"lap-operasi-list",border:false,reference:"lapoperasilist"}];f.callParent(arguments)},load:function(e){var v=this,u=v.down("lap-operasi-list"),s=v.getViewModel();if(e){if(Ext.getClassName(e)=="data.model.Kunjungan"){var f=e.get("JENIS_KUNJUNGAN"),t=e.get("REFERENSI"),g=t?t.PENDAFTARAN:null;s.set("kunjungan",e);s.set("hiddenButton",!(f==6));if(f==6){u.loadStore(e)}else{u.loadStore({NORM:g.NORM,STATUS:1})}}else{u.loadStore(e);s.set("hiddenButton",true)}}}},0,["workspace-list-lap-operasi"],["component","box","container","panel","form","com-form","workspace-list-lap-operasi"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-list-lap-operasi":true},["widget.workspace-list-lap-operasi"],0,[rekammedis.laporanoperasi.list,"Workspace"],0));(Ext.cmd.derive("rekammedis.laporanoperasi.list.WorkspaceController",Ext.app.ViewController,{onViewLaporan:function(p){var e=this,o=e.getViewModel().get("kunjungan"),n=p.ownerCt.getWidgetRecord();if(n){var q=n.get("REFERENSI")||{};o=n.get("REFERENSI")?(q.KUNJUNGAN?Ext.create("data.model.Kunjungan",q.KUNJUNGAN):o):o;n.set("KUNJUNGAN",o.get("NOMOR"));q.KUNJUNGAN=o.data;n.set("REFERENSI",q);e.showLaporan(n)}},onAddLapOperasi:function(m){var k=this,l=k.getViewModel().get("kunjungan");k.showLaporan({KUNJUNGAN:l.get("NOMOR"),REFERENSI:{KUNJUNGAN:l.data}})},privates:{showLaporan:function(m){var l=this,n=l.getView(),o=this.getReferences();n.openDialog("",true,0,0,{title:"Laporan Operasi",iconCls:"x-fa fa-newspaper-o",xtype:"laporan-operasi-workspace",ui:"panel-cyan",showCloseButton:true},function(g,f){var e=f.down("laporan-operasi-workspace");if(Ext.getClassName(m)=="data.model.Operasi"){e.loadRecord(m)}else{e.createRecord(m)}f.on("close",function(){o.lapoperasilist.refresh()})})}}},0,0,0,0,["controller.workspace-list-lap-operasi"],0,[rekammedis.laporanoperasi.list,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.Workspace",com.Tab,{controller:"rekammedis-pemeriksaan-workspace",bodyPadding:1,kunjungan:undefined,first:true,items:[{title:"Umum",xtype:"rekammedis-pemeriksaan-umum-workspace",reference:"rpuw"},{title:"Fisik",xtype:"rekammedis-pemeriksaan-fisik-workspace",reference:"rpfw"}],load:function(k){var m=this,l=this.getActiveTab();this.kunjungan=k;if(l){l.load(k)}else{if(m.items.getCount()>0){m.setActiveTab(0)}}m.first=false},listeners:{tabchange:"onTabChange",activate:"onActivate"}},0,["rekammedis-pemeriksaan-workspace"],["component","box","container","panel","tabpanel","com-tab","rekammedis-pemeriksaan-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-pemeriksaan-workspace":true},["widget.rekammedis-pemeriksaan-workspace"],0,[rekammedis.pemeriksaan,"Workspace"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.WorkspaceController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}},onActivate:function(){var m=this.getView(),k=m.kunjungan,l=m.getActiveTab();if(!m.first){m.load(k)}}},0,0,0,0,["controller.rekammedis-pemeriksaan-workspace"],0,[rekammedis.pemeriksaan,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.fisik.Form",com.Form,{model:"rekammedis.pemeriksaan.fisik.Model",controller:"rekammedis-pemeriksaan-fisik-form",defaultType:"textareafield",defaults:{allowBlank:false,margin:"0 0 1 0"},defaultFocus:"DESKRIPSI",items:[{xtype:"textarea",emptyText:"[Masukkan Deskripsi Pemeriksaan Fisik]",name:"DESKRIPSI",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{blur:"onFocusLeave"}}]},0,["rekammedis-pemeriksaan-fisik-form"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-fisik-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-fisik-form":true},["widget.rekammedis-pemeriksaan-fisik-form"],0,[rekammedis.pemeriksaan.fisik,"Form"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.fisik.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,f=u.getView(),v=f.getRecord(),t=u.getViewModel();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s)}}}}},0,0,0,0,["controller.rekammedis-pemeriksaan-fisik-form"],0,[rekammedis.pemeriksaan.fisik,"FormController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.fisik.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-pemeriksaan-fisik-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[values.DESKRIPSI]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-pemeriksaan-fisik-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-pemeriksaan-fisik-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-pemeriksaan-fisik-list":true},["widget.rekammedis-pemeriksaan-fisik-list"],0,[rekammedis.pemeriksaan.fisik,"List"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.fisik.Workspace",com.Form,{viewModel:{stores:{store:{type:"rekammedis-pemeriksaan-fisik-store"}}},layout:"border",items:[{region:"center",xtype:"rekammedis-pemeriksaan-fisik-form",layout:"fit",border:false},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-pemeriksaan-fisik-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var s=this,q=s.down("rekammedis-pemeriksaan-fisik-form"),t=s.down("rekammedis-pemeriksaan-fisik-history-workspace"),p=s.getViewModel().get("store"),e={KUNJUNGAN:f.get("NOMOR"),PENDAFTARAN:f.get("NOPEN")};q.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});p.setQueryParams(e);p.load(function(g,l,k){if(k){if(g.length>0){q.loadRecord(g[0]);f.history=g[0]}}else{q.createRecord(e)}t.load(f)})}},0,["rekammedis-pemeriksaan-fisik-workspace"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-fisik-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-fisik-workspace":true},["widget.rekammedis-pemeriksaan-fisik-workspace"],0,[rekammedis.pemeriksaan.fisik,"Workspace"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.fisik.history.Tab",com.Tab,{controller:"rekammedis-pemeriksaan-fisik-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-pemeriksaan-fisik-list"}],load:function(m){var o=this,l=o.down("rekammedis-pemeriksaan-fisik-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-pemeriksaan-fisik-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-pemeriksaan-fisik-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-pemeriksaan-fisik-history-tab":true},["widget.rekammedis-pemeriksaan-fisik-history-tab"],0,[rekammedis.pemeriksaan.fisik.history,"Tab"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.fisik.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-pemeriksaan-fisik-history-tab"],0,[rekammedis.pemeriksaan.fisik.history,"TabController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.fisik.history.Workspace",com.Form,{layout:"fit",title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",bodyPadding:0,items:[{xtype:"rekammedis-pemeriksaan-fisik-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-pemeriksaan-fisik-history-tab");l.load(k)}},0,["rekammedis-pemeriksaan-fisik-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-fisik-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-fisik-history-workspace":true},["widget.rekammedis-pemeriksaan-fisik-history-workspace"],0,[rekammedis.pemeriksaan.fisik.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.Form",com.Form,{viewModel:{stores:{pemeriksaanUmumStore:{type:"pemeriksaan-umum-store"}},data:{kjgn:undefined}},controller:"form-pemeriksaan-umum",model:"rekammedis.pemeriksaan.umum.Model",layout:"vbox",border:false,defaults:{margin:"2.2.2.2"},initComponent:function(){var f=this;f.items=[{width:"100%",defaults:{margin:"2.2.2.2",width:"50%",border:false},border:false,layout:"hbox",items:[{title:"Nutrisi : ",flex:1,defaultType:"numberfield",defaults:{margin:"2.2.2.2",width:"100%",decimalSeparator:".",decimalPrecision:2,hideTrigger:true},layout:"vbox",items:[{fieldLabel:"Berat Badan (Kg)",name:"BERAT_BADAN",reference:"berat_badan",emptyText:"Kg",listeners:{change:"onChangeHitungIndex",focusleave:"onFocusLeave"}},{fieldLabel:"Tinggi Badan (Cm)",name:"TINGGI_BADAN",reference:"tinggi_badan",emptyText:"Centimeter",listeners:{change:"onChangeHitungIndex",focusleave:"onFocusLeave"}},{fieldLabel:"Index Massa Tubuh",name:"INDEX_MASSA_TUBUH",emptyText:"Kg / m2",readOnly:true,reference:"index_massa",listeners:{focusleave:"onFocusLeave"}},{fieldLabel:"Lingkar Kepala",name:"LINGKAR_KEPALA",emptyText:"cm (Khusus Pediatri)",listeners:{focusleave:"onFocusLeave"}}]},{title:"Fungsional :",defaultType:"textfield",defaults:{margin:"2.2.2.2",width:"100%",decimalSeparator:".",decimalPrecision:2,hideTrigger:true},layout:"vbox",items:[{fieldLabel:"Alat Bantu",name:"ALAT_BANTU",listeners:{focusleave:"onFocusLeave"}},{fieldLabel:"Prothesa",name:"PROTHESA",listeners:{focusleave:"onFocusLeave"}},{fieldLabel:"Cacat Tubuh",name:"CACAT_TUBUH",listeners:{focusleave:"onFocusLeave"}}]}]}];f.callParent(arguments)},load:function(m){var l=this,o=l.getViewModel(),n=o.get("pemeriksaanUmumStore");if(m){o.set("kjgn",m);n.queryParams={KUNJUNGAN:m.get("NOMOR")};n.load({callback:function(e,g,f){if(f){l.loadRecord(e[0])}else{l.createRecord({KUNJUNGAN:m.get("NOMOR"),STATUS:1,TANGGAL:Ext.Date.format(l.getSysdate(),"Y-m-d H:i:s")})}}})}}},0,["form-pemeriksaan-umum"],["component","box","container","panel","form","com-form","form-pemeriksaan-umum"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-pemeriksaan-umum":true},["widget.form-pemeriksaan-umum"],0,[rekammedis.pemeriksaan.umum,"Form"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,f=u.getView(),t=u.getViewModel(),v=f.getRecord();if(v.isModified(s.name)){f.save(s);f.load(t.get("kjgn"))}},onChangeHitungIndex:function(x,z){var u=this,v=u.getReferences(),g=v.berat_badan.getValue(),w=v.index_massa,e=v.tinggi_badan.getValue(),y=e/100,f=g/(y*y);w.setValue(f)}},0,0,0,0,["controller.form-pemeriksaan-umum"],0,[rekammedis.pemeriksaan.umum,"FormController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.Link",com.Tab,{controller:"rekammedis-pemeriksaan-umum-link",activeTab:0,tabPosition:"bottom",cls:"x-br-top",ui:"header-tab",rec:undefined,initComponent:function(){var f=this;f.items=[{title:"Tanda Vital",xtype:"rekammedis-pemerikasaan-umum-tandavital-workspace",scrollable:"y"},{title:"Nutrisi",scrollable:"y",xtype:"rekammedis-pemeriksaan-umum-nutrisi-workspace"},{title:"Fungsional",scrollable:"y",xtype:"rekammedis-pemeriksaan-umum-fungsional-workspace"}];f.callParent(arguments)},load:function(k){var m=this,l=this.getActiveTab();m.rec=k;if(l){l.load(k)}else{if(m.items.getCount()>0){m.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-pemeriksaan-umum-link"],["component","box","container","panel","tabpanel","com-tab","rekammedis-pemeriksaan-umum-link"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-pemeriksaan-umum-link":true},["widget.rekammedis-pemeriksaan-umum-link"],0,[rekammedis.pemeriksaan.umum,"Link"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.LinkController",Ext.app.ViewController,{onTabChange:function(k,l){var m=this.getView().rec;if(l.load){l.load(m)}}},0,0,0,0,["controller.rekammedis-pemeriksaan-umum-link"],0,[rekammedis.pemeriksaan.umum,"LinkController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.Workspace",com.Form,{controller:"rekammedis-pemeriksaan-umum-workspace",layout:"border",bodyPadding:1,border:false,initComponent:function(){var f=this;f.items=[{region:"center",xtype:"rekammedis-pemeriksaan-umum-link",flex:1}];f.callParent(arguments)},load:function(k){var m=this,l=m.down("rekammedis-pemeriksaan-umum-link");if(k){l.load(k)}}},0,["rekammedis-pemeriksaan-umum-workspace"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-umum-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-umum-workspace":true},["widget.rekammedis-pemeriksaan-umum-workspace"],0,[rekammedis.pemeriksaan.umum,"Workspace"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.rekammedis-pemeriksaan-umum-workspace"],0,[rekammedis.pemeriksaan.umum,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.fungsional.Form",com.Form,{controller:"rekammedis-pemeriksaan-umum-fungsional-form",model:"rekammedis.pemeriksaan.umum.fungsional.Model",viewModel:{stores:{fungsionalStore:{type:"rekammedis-pemeriksaan-umum-fungsional-store"}},data:{kjgn:undefined}},layout:"vbox",border:false,defaultType:"textfield",defaults:{margin:"2.2.2.2",width:"100%",decimalSeparator:".",decimalPrecision:2,hideTrigger:true,bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}},initComponent:function(){var f=this;f.items=[{fieldLabel:"Alat Bantu",name:"ALAT_BANTU"},{fieldLabel:"Prothesa",name:"PROTHESA"},{fieldLabel:"Cacat Tubuh",name:"CACAT_TUBUH"}];f.callParent(arguments)},load:function(m){var l=this,o=l.getViewModel(),n=o.get("fungsionalStore");if(m){o.set("kjgn",m);n.queryParams={KUNJUNGAN:m.get("NOMOR")};n.load({callback:function(e,g,f){if(f){l.loadRecord(e[0])}else{l.createRecord({KUNJUNGAN:m.get("NOMOR"),STATUS:1,TANGGAL:Ext.Date.format(l.getSysdate(),"Y-m-d H:i:s")})}}})}}},0,["rekammedis-pemeriksaan-umum-fungsional-form"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-umum-fungsional-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-umum-fungsional-form":true},["widget.rekammedis-pemeriksaan-umum-fungsional-form"],0,[rekammedis.pemeriksaan.umum.fungsional,"Form"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.fungsional.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,f=u.getView(),t=u.getViewModel(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s,{},function(m,k,l){if(l){f.loadRecord(m)}})}}}}},0,0,0,0,["controller.rekammedis-pemeriksaan-umum-fungsional-form"],0,[rekammedis.pemeriksaan.umum.fungsional,"FormController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.fungsional.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-pemeriksaan-umum-fungsional-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">* Alat Bantu - {[values.ALAT_BANTU]} </div>','<div style="font-size: 12px; white-space:normal !important;">* Cacat Tubuh - {[values.CACAT_TUBUH]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Prothesa - {[values.PROTHESA]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-pemeriksaan-umum-fungsional-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-pemeriksaan-umum-fungsional-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-pemeriksaan-umum-fungsional-list":true},["widget.rekammedis-pemeriksaan-umum-fungsional-list"],0,[rekammedis.pemeriksaan.umum.fungsional,"List"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.fungsional.Workspace",com.Form,{viewModel:{stores:{store:{type:"rekammedis-pemeriksaan-umum-fungsional-store"}}},layout:"border",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-pemeriksaan-umum-fungsional-form",border:false},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-pemeriksaan-umum-fungsional-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var s=this,q=s.down("rekammedis-pemeriksaan-umum-fungsional-form"),t=s.down("rekammedis-pemeriksaan-umum-fungsional-history-workspace"),p=s.getViewModel().get("store"),e={KUNJUNGAN:f.get("NOMOR")};if(f){q.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});p.setQueryParams(e);p.load(function(g,l,k){if(k){if(g.length>0){q.loadRecord(g[0]);f.history=g[0]}}else{q.createRecord(e)}t.load(f)})}}},0,["rekammedis-pemeriksaan-umum-fungsional-workspace"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-umum-fungsional-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-umum-fungsional-workspace":true},["widget.rekammedis-pemeriksaan-umum-fungsional-workspace"],0,[rekammedis.pemeriksaan.umum.fungsional,"Workspace"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.fungsional.history.Tab",com.Tab,{controller:"rekammedis-pemeriksaan-umum-fungsional-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-pemeriksaan-umum-fungsional-list"}],load:function(m){var o=this,l=o.down("rekammedis-pemeriksaan-umum-fungsional-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-pemeriksaan-umum-fungsional-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-pemeriksaan-umum-fungsional-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-pemeriksaan-umum-fungsional-history-tab":true},["widget.rekammedis-pemeriksaan-umum-fungsional-history-tab"],0,[rekammedis.pemeriksaan.umum.fungsional.history,"Tab"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.fungsional.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-pemeriksaan-umum-fungsional-history-tab"],0,[rekammedis.pemeriksaan.umum.fungsional.history,"TabController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.fungsional.history.Workspace",com.Form,{title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",layout:"fit",bodyPadding:0,items:[{xtype:"rekammedis-pemeriksaan-umum-fungsional-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-pemeriksaan-umum-fungsional-history-tab");l.load(k)}},0,["rekammedis-pemeriksaan-umum-fungsional-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-umum-fungsional-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-umum-fungsional-history-workspace":true},["widget.rekammedis-pemeriksaan-umum-fungsional-history-workspace"],0,[rekammedis.pemeriksaan.umum.fungsional.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.nutrisi.Form",com.Form,{controller:"rekammedis-pemeriksaan-umum-nutrisi-form",model:"rekammedis.pemeriksaan.umum.nutrisi.Model",viewModel:{stores:{nutrisiStore:{type:"rekammedis-pemeriksaan-umum-nutrisi-store"}},data:{kjgn:undefined}},layout:"vbox",border:false,defaultType:"numberfield",defaults:{margin:"2.2.2.2",width:"100%",decimalSeparator:".",decimalPrecision:2,hideTrigger:true,bind:{readOnly:"{formConfig.viewOnly}"}},initComponent:function(){var f=this;f.items=[{fieldLabel:"Berat Badan (Kg)",name:"BERAT_BADAN",reference:"berat_badan",emptyText:"Kg",listeners:{change:"onChangeHitungIndex",focusleave:"onFocusLeave"}},{fieldLabel:"Tinggi Badan (Cm)",name:"TINGGI_BADAN",reference:"tinggi_badan",emptyText:"Centimeter",listeners:{change:"onChangeHitungIndex",focusleave:"onFocusLeave"}},{fieldLabel:"Index Massa Tubuh",name:"INDEX_MASSA_TUBUH",emptyText:"Kg / m2",readOnly:true,reference:"index_massa",listeners:{focusleave:"onFocusLeave"}},{fieldLabel:"Lingkar Kepala",name:"LINGKAR_KEPALA",emptyText:"cm (Khusus Pediatri)",listeners:{focusleave:"onFocusLeave"}}];f.callParent(arguments)},load:function(m){var l=this,o=l.getViewModel(),n=o.get("nutrisiStore");if(m){o.set("kjgn",m);n.queryParams={KUNJUNGAN:m.get("NOMOR")};n.load({callback:function(e,g,f){if(f){l.loadRecord(e[0])}else{l.createRecord({KUNJUNGAN:m.get("NOMOR"),STATUS:1,TANGGAL:Ext.Date.format(l.getSysdate(),"Y-m-d H:i:s")})}}})}}},0,["rekammedis-pemeriksaan-umum-nutrisi-form"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-umum-nutrisi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-umum-nutrisi-form":true},["widget.rekammedis-pemeriksaan-umum-nutrisi-form"],0,[rekammedis.pemeriksaan.umum.nutrisi,"Form"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.nutrisi.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,f=u.getView(),t=u.getViewModel(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s,{},function(m,k,l){if(l){f.loadRecord(m)}})}}}},onChangeHitungIndex:function(x,z){var u=this,v=u.getReferences(),g=v.berat_badan.getValue(),w=v.index_massa,e=v.tinggi_badan.getValue(),y=e/100,f=g/(y*y);w.setValue(f)}},0,0,0,0,["controller.rekammedis-pemeriksaan-umum-nutrisi-form"],0,[rekammedis.pemeriksaan.umum.nutrisi,"FormController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.nutrisi.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-pemeriksaan-umum-nutrisi-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">* Berat badan - {[values.BERAT_BADAN]} Kg</div>','<div style="font-size: 12px; white-space:normal !important;">* Tinggi Badan - {[values.TINGGI_BADAN]} Cm</div>','<div style="font-size: 12px; white-space:normal !important;">* Index Massa Tubuh - {[values.INDEX_MASSA_TUBUH]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Lingkar Kepala - {[values.LINGKAR_KEPALA]} Cm</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-pemeriksaan-umum-nutrisi-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-pemeriksaan-umum-nutrisi-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-pemeriksaan-umum-nutrisi-list":true},["widget.rekammedis-pemeriksaan-umum-nutrisi-list"],0,[rekammedis.pemeriksaan.umum.nutrisi,"List"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.nutrisi.Workspace",com.Form,{viewModel:{stores:{store:{type:"rekammedis-pemeriksaan-umum-nutrisi-store"}}},layout:"border",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-pemeriksaan-umum-nutrisi-form",border:false},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-pemeriksaan-umum-nutrisi-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var s=this,q=s.down("rekammedis-pemeriksaan-umum-nutrisi-form"),t=s.down("rekammedis-pemeriksaan-umum-nutrisi-history-workspace"),p=s.getViewModel().get("store"),e={KUNJUNGAN:f.get("NOMOR")};if(f){q.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});p.setQueryParams(e);p.load(function(g,l,k){if(k){if(g.length>0){q.loadRecord(g[0]);f.history=g[0]}}else{q.createRecord(e)}t.load(f)})}}},0,["rekammedis-pemeriksaan-umum-nutrisi-workspace"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-umum-nutrisi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-umum-nutrisi-workspace":true},["widget.rekammedis-pemeriksaan-umum-nutrisi-workspace"],0,[rekammedis.pemeriksaan.umum.nutrisi,"Workspace"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.nutrisi.history.Tab",com.Tab,{controller:"rekammedis-pemeriksaan-umum-nutrisi-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-pemeriksaan-umum-nutrisi-list"}],load:function(m){var o=this,l=o.down("rekammedis-pemeriksaan-umum-nutrisi-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-pemeriksaan-umum-nutrisi-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-pemeriksaan-umum-nutrisi-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-pemeriksaan-umum-nutrisi-history-tab":true},["widget.rekammedis-pemeriksaan-umum-nutrisi-history-tab"],0,[rekammedis.pemeriksaan.umum.nutrisi.history,"Tab"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.nutrisi.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-pemeriksaan-umum-nutrisi-history-tab"],0,[rekammedis.pemeriksaan.umum.nutrisi.history,"TabController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.nutrisi.history.Workspace",com.Form,{title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",layout:"fit",bodyPadding:0,items:[{xtype:"rekammedis-pemeriksaan-umum-nutrisi-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-pemeriksaan-umum-nutrisi-history-tab");l.load(k)}},0,["rekammedis-pemeriksaan-umum-nutrisi-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-umum-nutrisi-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-umum-nutrisi-history-workspace":true},["widget.rekammedis-pemeriksaan-umum-nutrisi-history-workspace"],0,[rekammedis.pemeriksaan.umum.nutrisi.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.tandavital.Form",com.Form,{controller:"rekammedis-pemeriksaan-umum-tandavital-form",model:"rekammedis.pemeriksaan.umum.tandavital.Model",layout:"hbox",border:false,defaults:{margin:"2.2.2.2",width:"50%"},initComponent:function(){var f=this;f.items=[{layout:"vbox",border:false,defaultType:"numberfield",defaults:{margin:"1.1.1.1",width:"95%",decimalSeparator:".",decimalPrecision:2,hideTrigger:true,allowBlank:false},items:[{xtype:"textfield",name:"KEADAAN_UMUM",fieldLabel:"Keadaan Umum",bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"textfield",name:"KESADARAN",fieldLabel:"Kesadaran",bind:{readOnly:"{formConfig.viewOnly}"}},{layout:"hbox",border:true,xtype:"fieldset",defaults:{margin:"2.2.2.2",decimalSeparator:".",decimalPrecision:2,hideTrigger:true,allowBlank:false},items:[{xtype:"label",html:"Tekanan Darah (Sistolik <br> / Distolik) mmHg:",margin:"0 10 0 0"},{xtype:"numberfield",width:"20%",name:"SISTOLIK",bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"label",text:"/",margin:"0 3 0 3"},{xtype:"numberfield",width:"20%",name:"DISTOLIK",bind:{readOnly:"{formConfig.viewOnly}"}}]},{fieldLabel:"Suhu (OC)",name:"SUHU",bind:{readOnly:"{formConfig.viewOnly}"}}]},{layout:"vbox",border:false,defaultType:"numberfield",defaults:{margin:"1.1.1.1",width:"90%",decimalSeparator:".",decimalPrecision:2,hideTrigger:true,allowBlank:false},items:[{fieldLabel:"Frekuensi Nadi (X/Menit)",name:"FREKUENSI_NADI",bind:{readOnly:"{formConfig.viewOnly}"}},{fieldLabel:"Frekuensi Nafas (X/Menit)",name:"FREKUENSI_NAFAS",bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"datetimefield",format:"Y-m-d H:i:s",fieldLabel:"Waktu Pemeriksaan",name:"WAKTU_PEMERIKSAAN",hideTrigger:false,bind:{readOnly:"{formConfig.viewOnly}"}}]}];f.buttons=[{text:"Simpan",ui:"soft-green",padding:2,margin:"1 1 1 1",handler:"onSimpan",bind:{hidden:"{!formConfig.simpan}"}}];f.callParent(arguments)}},0,["rekammedis-pemeriksaan-umum-tandavital-form"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-umum-tandavital-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-umum-tandavital-form":true},["widget.rekammedis-pemeriksaan-umum-tandavital-form"],0,[rekammedis.pemeriksaan.umum.tandavital,"Form"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.tandavital.FormController",Ext.app.ViewController,{onSimpan:function(q){var n=this,p=n.getView(),e=n.getViewModel(),o=p.getRecord();p.save(q)}},0,0,0,0,["controller.rekammedis-pemeriksaan-umum-tandavital-form"],0,[rekammedis.pemeriksaan.umum.tandavital,"FormController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.tandavital.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-pemeriksaan-umum-tandavital-store"}}},history:false,initComponent:function(){var f=this;f.columns=[{text:"Keadaan Umum",align:"left",hidden:f.history,dataIndex:"KEADAAN_UMUM",flex:1},{text:"Kesadaran",align:"left",hidden:f.history,dataIndex:"KESADARAN",flex:1},{text:"Sistolik",align:"left",hidden:f.history,dataIndex:"SISTOLIK",flex:1},{text:"Distolik",align:"left",hidden:f.history,dataIndex:"DISTOLIK",flex:1},{text:"Frekuensi Nadi",align:"left",hidden:f.history,dataIndex:"FREKUENSI_NADI",flex:1},{text:"Frekuensi Nafas",align:"left",hidden:f.history,dataIndex:"FREKUENSI_NAFAS",flex:1},{text:"Suhu",align:"left",hidden:f.history,dataIndex:"SUHU",flex:1},{xtype:"datecolumn",align:"left",hidden:f.history,format:"d-m-Y H:i:s",text:"Waktu Pemeriksaan",dataIndex:"WAKTU_PEMERIKSAAN",flex:1},{xtype:"templatecolumn",hidden:!f.history,flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">* Kunjungan - {[values.KUNJUNGAN]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Keadaa Umum - {[values.KEADAAN_UMUM]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Kesadaran - {[values.KESADARAN]}</div>','<div style="font-size: 12px; white-space:normal !important;">* Sistolik - {[values.SISTOLIK]} mmHg</div>','<div style="font-size: 12px; white-space:normal !important;">* Distolik - {[values.DISTOLIK]} mmHg</div>','<div style="font-size: 12px; white-space:normal !important;">* Suhu - {[values.SUHU]} OC</div>','<div style="font-size: 12px; white-space:normal !important;">* Frekuensi Nadi - {[values.FREKUENSI_NADI]} X/Menit</div>','<div style="font-size: 12px; white-space:normal !important;">* Frekuensi Nafas - {[values.FREKUENSI_NAFAS]} X/Menit</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.WAKTU_PEMERIKSAAN)]}</div>',{tanggalFormat:function(e){var k=Ext.isDate(e)?e:Ext.Date.parse(e,"Y-m-d H:i:s");return Ext.Date.format(k,"d-m-Y H:i:s")}})}];f.callParent(arguments)},load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({KUNJUNGAN:m.history.get("KUNJUNGAN")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-pemeriksaan-umum-tandavital-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-pemeriksaan-umum-tandavital-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-pemeriksaan-umum-tandavital-list":true},["widget.rekammedis-pemeriksaan-umum-tandavital-list"],0,[rekammedis.pemeriksaan.umum.tandavital,"List"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.tandavital.Workspace",com.Form,{controller:"rekammedis-pemerikasaan-umum-tandavital-workspace",viewModel:{stores:{store:{type:"rekammedis-pemeriksaan-umum-tandavital-store"}},data:{kjgn:undefined}},layout:"border",border:false,bodyPadding:0,initComponent:function(){var f=this;f.items=[{region:"center",flex:1,layout:"border",items:[{region:"center",xtype:"rekammedis-pemeriksaan-umum-tandavital-form",flex:1,scrollable:"y",listeners:{save:"onSave"}},{region:"south",xtype:"rekammedis-pemeriksaan-umum-tandavital-list",flex:1,layout:"fit"}]},{region:"east",flex:0.6,split:true,collapsible:true,xtype:"rekammedis-pemeriksaan-umum-tandavital-history-workspace",ui:"panel-gray",fullscreenEnabled:true}];f.callParent(arguments)},load:function(e){var u=this,g=u.getViewModel(),t=u.down("rekammedis-pemeriksaan-umum-tandavital-form"),v=u.down("rekammedis-pemeriksaan-umum-tandavital-list"),w=u.down("rekammedis-pemeriksaan-umum-tandavital-history-workspace"),f=u.getViewModel().get("store"),x={KUNJUNGAN:e.get("NOMOR")};v.load({KUNJUNGAN:e.get("NOMOR")});v.setGridConfig({paging:true});t.setFormConfig({viewOnly:e.get("FINAL_HASIL")==1,simpan:e.get("FINAL_HASIL")==0});t.createRecord({STATUS:1,KUNJUNGAN:e.get("NOMOR")});g.set("kjgn",e);f.setQueryParams(x);f.load(function(l,k,m){if(m){if(l.length>0){e.history=l[0]}}w.load(e)})}},0,["rekammedis-pemerikasaan-umum-tandavital-workspace"],["component","box","container","panel","form","com-form","rekammedis-pemerikasaan-umum-tandavital-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemerikasaan-umum-tandavital-workspace":true},["widget.rekammedis-pemerikasaan-umum-tandavital-workspace"],0,[rekammedis.pemeriksaan.umum.tandavital,"Workspace"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.tandavital.WorkspaceController",Ext.app.ViewController,{onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-pemerikasaan-umum-tandavital-workspace"],0,[rekammedis.pemeriksaan.umum.tandavital,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.tandavital.history.Tab",com.Tab,{controller:"rekammedis-pemeriksaan-umum-tandavital-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,hideHeaders:true,xtype:"rekammedis-pemeriksaan-umum-tandavital-list"}],load:function(m){var o=this,l=o.down("rekammedis-pemeriksaan-umum-tandavital-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-pemeriksaan-umum-tandavital-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-pemeriksaan-umum-tandavital-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-pemeriksaan-umum-tandavital-history-tab":true},["widget.rekammedis-pemeriksaan-umum-tandavital-history-tab"],0,[rekammedis.pemeriksaan.umum.tandavital.history,"Tab"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.tandavital.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-pemeriksaan-umum-tandavital-history-tab"],0,[rekammedis.pemeriksaan.umum.tandavital.history,"TabController"],0));(Ext.cmd.derive("rekammedis.pemeriksaan.umum.tandavital.history.Workspace",com.Form,{title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",layout:"fit",bodyPadding:0,items:[{xtype:"rekammedis-pemeriksaan-umum-tandavital-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-pemeriksaan-umum-tandavital-history-tab");l.load(k)}},0,["rekammedis-pemeriksaan-umum-tandavital-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-pemeriksaan-umum-tandavital-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-pemeriksaan-umum-tandavital-history-workspace":true},["widget.rekammedis-pemeriksaan-umum-tandavital-history-workspace"],0,[rekammedis.pemeriksaan.umum.tandavital.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.penilaian.Workspace",com.Tab,{controller:"rekammedis-penilaian-workspace",bodyPadding:1,kunjungan:undefined,items:[{title:"Fisik",xtype:"rekammedis-penilaian-fisik-workspace",reference:"rpfw"},{title:"Nyeri",xtype:"rekammedis-penilaian-nyeri-workspace",reference:"rpnw"},{title:"Status Pediatric",xtype:"rekammedis-penilaian-statuspediatric-workspace",reference:"rpspw"},{title:"Diagnosis",xtype:"rekammedis-penilaian-diagnosis-workspace",reference:"rpdw"}],load:function(k){var m=this,l=this.getActiveTab();this.kunjungan=k;if(l){l.load(k)}else{if(m.items.getCount()>0){m.setActiveTab(0)}}},listeners:{tabchange:"onTabChange",activate:"onActivate"}},0,["rekammedis-penilaian-workspace"],["component","box","container","panel","tabpanel","com-tab","rekammedis-penilaian-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-penilaian-workspace":true},["widget.rekammedis-penilaian-workspace"],0,[rekammedis.penilaian,"Workspace"],0));(Ext.cmd.derive("rekammedis.penilaian.WorkspaceController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}},onActivate:function(){var m=this.getView(),k=m.kunjungan,l=m.getActiveTab();if(!m.first){m.load(k)}}},0,0,0,0,["controller.rekammedis-penilaian-workspace"],0,[rekammedis.penilaian,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.penilaian.diagnosis.Form",com.Form,{controller:"rekammedis-penilaian-diagnosis-form",model:"rekammedis.penilaian.diagnosis.Model",items:[{xtype:"textarea",name:"DIAGNOSIS",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}}]},0,["rekammedis-penilaian-diagnosis-form"],["component","box","container","panel","form","com-form","rekammedis-penilaian-diagnosis-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-diagnosis-form":true},["widget.rekammedis-penilaian-diagnosis-form"],0,[rekammedis.penilaian.diagnosis,"Form"],0));(Ext.cmd.derive("rekammedis.penilaian.diagnosis.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,t=u.getViewModel(),f=u.getView(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s,{},function(m,k,l){if(l){f.loadRecord(m)}})}}}}},0,0,0,0,["controller.rekammedis-penilaian-diagnosis-form"],0,[rekammedis.penilaian.diagnosis,"FormController"],0));(Ext.cmd.derive("rekammedis.diagnosis.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-penilaian-diagnosis-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">* Diagnosis - {[values.DIAGNOSIS]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-penilaian-diagnosis-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-penilaian-diagnosis-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-penilaian-diagnosis-list":true},["widget.rekammedis-penilaian-diagnosis-list"],0,[rekammedis.diagnosis,"List"],0));(Ext.cmd.derive("rekammedis.diagnosis.Workspace",com.Form,{controller:"rekammedis-penilaian-diagnosis-workspace",viewModel:{stores:{store:{type:"rekammedis-penilaian-diagnosis-store"}},data:{kjgn:undefined}},layout:"border",items:[{region:"center",border:false,layout:"fit",xtype:"rekammedis-penilaian-diagnosis-form",listeners:{save:"onSave"}},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-penilaian-diagnosis-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(e){var t=this,s=t.down("rekammedis-penilaian-diagnosis-form"),u=t.down("rekammedis-penilaian-diagnosis-history-workspace"),g=t.getViewModel(),f=g.get("store");if(e){var v={KUNJUNGAN:e.get("NOMOR")};s.setFormConfig({viewOnly:e.get("FINAL_HASIL")==1,simpan:e.get("FINAL_HASIL")==0});f.setQueryParams(v);f.load(function(l,k,m){if(m){if(l.length>0){s.loadRecord(l[0]);e.history=l[0]}}else{s.createRecord(v)}u.load(e)})}}},0,["rekammedis-penilaian-diagnosis-workspace"],["component","box","container","panel","form","com-form","rekammedis-penilaian-diagnosis-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-diagnosis-workspace":true},["widget.rekammedis-penilaian-diagnosis-workspace"],0,[rekammedis.diagnosis,"Workspace"],0));(Ext.cmd.derive("rekammedis.penilaian.diagnosis.WorkspaceController",Ext.app.ViewController,{onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-penilaian-diagnosis-workspace"],0,[rekammedis.penilaian.diagnosis,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.diagnosis.history.history.Tab",com.Tab,{controller:"rekammedis-penilaian-diagnosis-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-penilaian-diagnosis-list"}],load:function(m){var o=this,l=o.down("rekammedis-penilaian-diagnosis-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-penilaian-diagnosis-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-penilaian-diagnosis-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-penilaian-diagnosis-history-tab":true},["widget.rekammedis-penilaian-diagnosis-history-tab"],0,[rekammedis.diagnosis.history.history,"Tab"],0));(Ext.cmd.derive("rekammedis.diagnosis.history.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-penilaian-diagnosis-history-tab"],0,[rekammedis.diagnosis.history.history,"TabController"],0));(Ext.cmd.derive("rekammedis.diagnosis.history.Workspace",com.Form,{title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",layout:"fit",bodyPadding:0,items:[{xtype:"rekammedis-penilaian-diagnosis-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-penilaian-diagnosis-history-tab");l.load(k)}},0,["rekammedis-penilaian-diagnosis-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-penilaian-diagnosis-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-diagnosis-history-workspace":true},["widget.rekammedis-penilaian-diagnosis-history-workspace"],0,[rekammedis.diagnosis.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.penilaian.fisik.Form",com.Form,{controller:"rekammedis-penilaian-fisik-form",model:"rekammedis.penilaian.fisik.Model",items:[{xtype:"textarea",name:"DESKRIPSI",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}}]},0,["rekammedis-penilaian-fisik-form"],["component","box","container","panel","form","com-form","rekammedis-penilaian-fisik-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-fisik-form":true},["widget.rekammedis-penilaian-fisik-form"],0,[rekammedis.penilaian.fisik,"Form"],0));(Ext.cmd.derive("rekammedis.penilaian.fisik.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,t=u.getViewModel(),f=u.getView(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s,{},function(m,k,l){if(l){f.loadRecord(m)}})}}}}},0,0,0,0,["controller.rekammedis-penilaian-fisik-form"],0,[rekammedis.penilaian.fisik,"FormController"],0));(Ext.cmd.derive("rekammedis.penilaian.fisik.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-penilaian-fisik-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[values.DESKRIPSI]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-penilaian-fisik-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-penilaian-fisik-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-penilaian-fisik-list":true},["widget.rekammedis-penilaian-fisik-list"],0,[rekammedis.penilaian.fisik,"List"],0));(Ext.cmd.derive("rekammedis.penilaian.fisik.Workspace",com.Form,{controller:"rekammedis-penilaian-fisik-workspace",viewModel:{stores:{store:{type:"rekammedis-penilaian-fisik-store"}},data:{kjgn:undefined}},layout:"border",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-penilaian-fisik-form",layout:"fit",border:false,listeners:{save:"onSave"}},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-penilaian-fisik-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var t=this,s=t.down("rekammedis-penilaian-fisik-form"),e=t.down("rekammedis-penilaian-fisik-history-workspace"),q=t.getViewModel(),p=q.get("store");if(f){s.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});q.set("kjgn",f);p.queryParams={KUNJUNGAN:f.get("NOMOR")};p.load({callback:function(l,g,k){if(k){s.loadRecord(l[0]);f.history=l[0]}else{s.createRecord({KUNJUNGAN:f.get("NOMOR"),STATUS:1,TANGGAL:Ext.Date.format(t.getSysdate(),"Y-m-d H:i:s")})}e.load(f)}})}}},0,["rekammedis-penilaian-fisik-workspace"],["component","box","container","panel","form","com-form","rekammedis-penilaian-fisik-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-fisik-workspace":true},["widget.rekammedis-penilaian-fisik-workspace"],0,[rekammedis.penilaian.fisik,"Workspace"],0));(Ext.cmd.derive("rekammedis.penilaian.fisik.WorkspaceController",Ext.app.ViewController,{onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-penilaian-fisik-workspace"],0,[rekammedis.penilaian.fisik,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.penilaian.fisik.history.Tab",com.Tab,{controller:"rekammedis-penilaian-fisik-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-penilaian-fisik-list"}],load:function(m){var o=this,l=o.down("rekammedis-penilaian-fisik-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-penilaian-fisik-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-penilaian-fisik-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-penilaian-fisik-history-tab":true},["widget.rekammedis-penilaian-fisik-history-tab"],0,[rekammedis.penilaian.fisik.history,"Tab"],0));(Ext.cmd.derive("rekammedis.penilaian.fisik.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-penilaian-fisik-history-tab"],0,[rekammedis.penilaian.fisik.history,"TabController"],0));(Ext.cmd.derive("rekammedis.penilaian.fisik.history.Workspace",com.Form,{layout:"fit",title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",bodyPadding:0,items:[{xtype:"rekammedis-penilaian-fisik-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-penilaian-fisik-history-tab");l.load(k)}},0,["rekammedis-penilaian-fisik-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-penilaian-fisik-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-fisik-history-workspace":true},["widget.rekammedis-penilaian-fisik-history-workspace"],0,[rekammedis.penilaian.fisik.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.penilaian.nyeri.Form",com.Form,{controller:"rekammedis-penilaian-nyeri-form",model:"rekammedis.penilaian.nyeri.Model",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox"},items:[{xtype:"radiogroup",flex:1,fieldLabel:"Nyeri",defaults:{flex:1,bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}},margin:"0 50 10 0",columns:[85,85],items:[{boxLabel:"Ya",name:"NYERI",inputValue:1},{boxLabel:"Tidak",name:"NYERI",inputValue:0}]},{xtype:"radiogroup",flex:3,fieldLabel:"Onset",defaults:{bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}},labelWidth:75,margin:"0 0 10 0",columns:[75,75],items:[{boxLabel:"Akut",name:"ONSET",inputValue:1},{boxLabel:"Kronis",name:"ONSET",inputValue:2}]}]},{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox"},items:[{xtype:"numberfield",decimalSeparator:".",fieldLabel:"Skala Nyeri",emptyText:"[ Skala ]",name:"SKALA",margin:"0 50 0 0",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"},flex:1},{xtype:"radiogroup",flex:3,fieldLabel:"Metode",labelWidth:75,defaults:{bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}},margin:"0 0 10 0",columns:[75,75,75,75,75],items:[{boxLabel:"NRS",name:"METODE",inputValue:1},{boxLabel:"BPS",name:"METODE",inputValue:2},{boxLabel:"NIPS",name:"METODE",inputValue:3},{boxLabel:"FLACC",name:"METODE",inputValue:4},{boxLabel:"VAS",inputValue:5}]}]}]},{xtype:"textfield",fieldLabel:"Pencetus",emptyText:"[ Pencetus ]",name:"PENCETUS",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"},margin:"0 0 10 0"},{xtype:"textfield",fieldLabel:"Gambaran",emptyText:"[ Gambaran ]",name:"GAMBARAN",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"},margin:"0 0 10 0"},{xtype:"textfield",fieldLabel:"Durasi",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"},emptyText:"[ Durasi ]",name:"DURASI",margin:"0 0 10 0"},{xtype:"textfield",fieldLabel:"Lokasi",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"},emptyText:"[ Lokasi ]",name:"LOKASI",margin:"0 0 10 0"}]}]},0,["rekammedis-penilaian-nyeri-form"],["component","box","container","panel","form","com-form","rekammedis-penilaian-nyeri-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-nyeri-form":true},["widget.rekammedis-penilaian-nyeri-form"],0,[rekammedis.penilaian.nyeri,"Form"],0));(Ext.cmd.derive("rekammedis.penilaian.nyeri.FormController",Ext.app.ViewController,{onFocusLeave:function(m,k,l){this.onSimpan(m)},onChange:function(e,o,p,q){var n=this;if(p!=""){if(p!="{}"){(new Ext.util.DelayedTask(function(){n.onSimpan(e)})).delay(500)}}},onSimpan:function(q){var n=this,e=n.getViewModel(),p=n.getView(),o=p.getRecord();if(o){if(o.isModified(q.name)){if(!e.get("formConfig.viewOnly")){p.save(q,{},function(f,g,k){if(k){p.loadRecord(f)}})}}}}},0,0,0,0,["controller.rekammedis-penilaian-nyeri-form"],0,[rekammedis.penilaian.nyeri,"FormController"],0));(Ext.cmd.derive("rekammedis.penilaian.nyeri.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-penilaian-nyeri-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">Nyeri : {REFERENSI.NYERI}, &nbsp;Onset : {REFERENSI.ONSET}</div>','<div style="font-size: 12px; white-space:normal !important;">Skala Nyeri : {[values.SKALA]}, &nbsp;Metode : {REFERENSI.METODE.DESKRIPSI}</div>','<div style="font-size: 12px; white-space:normal !important;">Pencetus : {[values.PENCETUS]}</div>','<div style="font-size: 12px; white-space:normal !important;">Gambaran : {[values.GAMBARAN]}</div>','<div style="font-size: 12px; white-space:normal !important;">Durasi : {[values.DURASI]}</div>','<div style="font-size: 12px; white-space:normal !important;">Lokasi : {[values.LOKASI]}</div>','<div style="font-weight: bold;font-size: 10px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-penilaian-nyeri-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-penilaian-nyeri-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-penilaian-nyeri-list":true},["widget.rekammedis-penilaian-nyeri-list"],0,[rekammedis.penilaian.nyeri,"List"],0));(Ext.cmd.derive("rekammedis.penilaian.nyeri.Workspace",com.Form,{controller:"rekammedis-penilaian-nyeri-workspace",viewModel:{stores:{store:{type:"rekammedis-penilaian-nyeri-store"}},data:{kjgn:undefined}},layout:"border",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-penilaian-nyeri-form",border:false,scrollable:"y",listeners:{save:"onSave"}},{region:"east",flex:0.55,split:true,collapsible:true,xtype:"rekammedis-penilaian-nyeri-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var t=this,s=t.down("rekammedis-penilaian-nyeri-form"),e=t.down("rekammedis-penilaian-nyeri-history-workspace"),q=t.getViewModel(),p=q.get("store");if(f){s.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});q.set("kjgn",f);p.queryParams={KUNJUNGAN:f.get("NOMOR")};p.load({callback:function(g,l,k){if(k){s.loadRecord(g[0]);f.history=g[0]}else{s.createRecord({KUNJUNGAN:f.get("NOMOR"),STATUS:1,TANGGAL:Ext.Date.format(t.getSysdate(),"Y-m-d H:i:s")})}e.load(f)}})}}},0,["rekammedis-penilaian-nyeri-workspace"],["component","box","container","panel","form","com-form","rekammedis-penilaian-nyeri-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-nyeri-workspace":true},["widget.rekammedis-penilaian-nyeri-workspace"],0,[rekammedis.penilaian.nyeri,"Workspace"],0));(Ext.cmd.derive("rekammedis.penilaian.nyeri.WorkspaceController",Ext.app.ViewController,{onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-penilaian-nyeri-workspace"],0,[rekammedis.penilaian.nyeri,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.penilaian.nyeri.history.Tab",com.Tab,{controller:"rekammedis-penilaian-nyeri-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-penilaian-nyeri-list"}],load:function(m){var o=this,l=o.down("rekammedis-penilaian-nyeri-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-penilaian-nyeri-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-penilaian-nyeri-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-penilaian-nyeri-history-tab":true},["widget.rekammedis-penilaian-nyeri-history-tab"],0,[rekammedis.penilaian.nyeri.history,"Tab"],0));(Ext.cmd.derive("rekammedis.penilaian.nyeri.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-penilaian-nyeri-history-tab"],0,[rekammedis.penilaian.nyeri.history,"TabController"],0));(Ext.cmd.derive("rekammedis.penilaian.nyeri.history.Workspace",com.Form,{layout:"fit",title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",bodyPadding:0,items:[{xtype:"rekammedis-penilaian-nyeri-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-penilaian-nyeri-history-tab");l.load(k)}},0,["rekammedis-penilaian-nyeri-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-penilaian-nyeri-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-nyeri-history-workspace":true},["widget.rekammedis-penilaian-nyeri-history-workspace"],0,[rekammedis.penilaian.nyeri.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.penilaian.statuspediatric.Form",com.Form,{controller:"rekammedis-penilaian-statuspediatric-form",model:"rekammedis.penilaian.statuspediatric.Model",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldset",title:"Status Pediatric",layout:{type:"hbox"},items:[{xtype:"referensi-combo",params:{STATUS:1,JENIS:"155"},bind:{readOnly:"{formConfig.viewOnly}"},flex:1,firstLoad:true,name:"STATUS_PEDIATRIC",monitorTab:true,selectOnTab:true,editable:true,listeners:{focusleave:"onFocusLeave"}}]}]}]},0,["rekammedis-penilaian-statuspediatric-form"],["component","box","container","panel","form","com-form","rekammedis-penilaian-statuspediatric-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-statuspediatric-form":true},["widget.rekammedis-penilaian-statuspediatric-form"],0,[rekammedis.penilaian.statuspediatric,"Form"],0));(Ext.cmd.derive("rekammedis.penilaian.statuspediatric.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,t=u.getViewModel(),f=u.getView(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s,{},function(m,k,l){if(l){f.loadRecord(m)}})}}}}},0,0,0,0,["controller.rekammedis-penilaian-statuspediatric-form"],0,[rekammedis.penilaian.statuspediatric,"FormController"],0));(Ext.cmd.derive("rekammedis.penilaian.statuspediatric.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-penilaian-statuspediatric-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">Status Pediatric : {[this.getStatusPediatric(values)]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")},getStatusPediatric:function(k){var m=(k.REFERENSI)?(k.REFERENSI.STATUS_PEDIATRIC)?k.REFERENSI.STATUS_PEDIATRIC:false:false,l=(m)?m.DESKRIPSI:"";return l}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-penilaian-statuspediatric-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-penilaian-statuspediatric-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-penilaian-statuspediatric-list":true},["widget.rekammedis-penilaian-statuspediatric-list"],0,[rekammedis.penilaian.statuspediatric,"List"],0));(Ext.cmd.derive("rekammedis.penilaian.statuspediatric.Workspace",com.Form,{controller:"rekammedis-penilaian-statuspediatric-workspace",viewModel:{stores:{store:{type:"rekammedis-penilaian-statuspediatric-store"}},data:{kjgn:undefined}},layout:"border",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-penilaian-statuspediatric-form",layout:"fit",border:false,reference:"formstatuspediatric",listeners:{save:"onSuccess"}},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-penilaian-statuspediatric-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var t=this,s=t.down("rekammedis-penilaian-statuspediatric-form"),e=t.down("rekammedis-penilaian-statuspediatric-history-workspace"),q=t.getViewModel(),p=q.get("store");if(f){s.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});q.set("kjgn",f);p.queryParams={KUNJUNGAN:f.get("NOMOR")};p.load({callback:function(g,l,k){if(k){s.loadRecord(g[0]);f.history=g[0]}else{s.createRecord({KUNJUNGAN:f.get("NOMOR"),STATUS:1})}e.load(f)}})}}},0,["rekammedis-penilaian-statuspediatric-workspace"],["component","box","container","panel","form","com-form","rekammedis-penilaian-statuspediatric-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-statuspediatric-workspace":true},["widget.rekammedis-penilaian-statuspediatric-workspace"],0,[rekammedis.penilaian.statuspediatric,"Workspace"],0));(Ext.cmd.derive("rekammedis.penilaian.statuspediatric.WorkspaceController",Ext.app.ViewController,{onSuccess:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-penilaian-statuspediatric-workspace"],0,[rekammedis.penilaian.statuspediatric,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.penilaian.statuspediatric.history.Tab",com.Tab,{controller:"rekammedis-penilaian-statuspediatric-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-penilaian-statuspediatric-list"}],load:function(m){var o=this,l=o.down("rekammedis-penilaian-statuspediatric-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-penilaian-statuspediatric-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-penilaian-statuspediatric-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-penilaian-statuspediatric-history-tab":true},["widget.rekammedis-penilaian-statuspediatric-history-tab"],0,[rekammedis.penilaian.statuspediatric.history,"Tab"],0));(Ext.cmd.derive("rekammedis.penilaian.statuspediatric.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-penilaian-statuspediatric-history-tab"],0,[rekammedis.penilaian.statuspediatric.history,"TabController"],0));(Ext.cmd.derive("rekammedis.penilaian.statuspediatric.history.Workspace",com.Form,{layout:"fit",title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",bodyPadding:0,items:[{xtype:"rekammedis-penilaian-statuspediatric-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-penilaian-statuspediatric-history-tab");l.load(k)}},0,["rekammedis-penilaian-statuspediatric-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-penilaian-statuspediatric-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-penilaian-statuspediatric-history-workspace":true},["widget.rekammedis-penilaian-statuspediatric-history-workspace"],0,[rekammedis.penilaian.statuspediatric.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.perencanaan.Workspace",com.Tab,{controller:"rekammedis-perencanaan-workspace",bodyPadding:1,kunjungan:undefined,items:[{title:"Rencana & Terapi",xtype:"rekammedis-perencanaan-rencanaterapi-workspace",reference:"rprtw"},{title:"Jadwal Kontrol",xtype:"rekammedis-perencanaan-jadwalkontrol-workspace",reference:"rpjkw"}],load:function(k){var m=this,l=this.getActiveTab();this.kunjungan=k;if(l){l.load(k)}else{if(m.items.getCount()>0){m.setActiveTab(0)}}},listeners:{tabchange:"onTabChange",activate:"onActivate"}},0,["rekammedis-perencanaan-workspace"],["component","box","container","panel","tabpanel","com-tab","rekammedis-perencanaan-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-perencanaan-workspace":true},["widget.rekammedis-perencanaan-workspace"],0,[rekammedis.perencanaan,"Workspace"],0));(Ext.cmd.derive("rekammedis.perencanaan.WorkspaceController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}},onActivate:function(){var m=this.getView(),k=m.kunjungan,l=m.getActiveTab();if(!m.first){m.load(k)}}},0,0,0,0,["controller.rekammedis-perencanaan-workspace"],0,[rekammedis.perencanaan,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.perencanaan.jadwalcontrol.Form",com.Form,{controller:"rekammedis-perencanaan-jadwalkontrol-form",viewModel:{stores:{kontakStore:{type:"kontak-pasien-store"}}},model:"rekammedis.perencanaan.jadwalkontrol.Model",border:false,initComponent:function(){var l=this,m=Ext.Date.format(l.getSysdate(),"Y-m-d"),n=m+" 08:00:00",o=m+" 16:00:00",n=new Date(n),o=new Date(o);l.items=[{layout:"hbox",flex:1,region:"center",border:false,scrollable:"y",defaults:{margin:"2.2.2.2"},items:[{xtype:"datepicker",flex:1,bind:{hidden:"{formConfig.viewOnly}"},listeners:{select:"onSelectPicker"}},{layout:{type:"vbox",align:"stretch"},border:false,flex:1,scrollable:"y",defaults:{margin:"2.2.2.2",labelAlign:"top"},items:[{fieldLabel:"No. Kontrol",emptyText:"[Generate by system]",width:"50%",name:"NOMOR",xtype:"textfield",readOnly:true},{xtype:"fieldcontainer",layout:"hbox",defaults:{margin:"0 2 0 0",labelAlign:"top",bind:{readOnly:"{formConfig.viewOnly}"}},items:[{xtype:"datefield",name:"TANGGAL",readOnly:true,format:"Y-m-d",reference:"tanggal",fieldLabel:"Tgl. Kontrol",emptyText:"[ TANGGAL KONTROL ]",allowBlank:false,hideTrigger:true,flex:1},{xtype:"timefield",width:120,format:"H:i:s",name:"JAM",allowBlank:false,minValue:n,maxValue:o,fieldLabel:"Jam Kontrol",listeners:{focusleave:"onFocusLeave"}}]},{fieldLabel:"Keterangan",width:"60%",name:"DESKRIPSI",xtype:"textarea",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}}]}]}];l.callParent(arguments)},buttons:["->",{text:"Cetak",iconCls:"x-fa fa-print",handler:"onCetak"}],setPicker:function(k){var m=this,l=m.down("datepicker");l.setValue(k.get("TANGGAL"))}},0,["rekammedis-perencanaan-jadwalkontrol-form"],["component","box","container","panel","form","com-form","rekammedis-perencanaan-jadwalkontrol-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-perencanaan-jadwalkontrol-form":true},["widget.rekammedis-perencanaan-jadwalkontrol-form"],0,[rekammedis.perencanaan.jadwalcontrol,"Form"],0));(Ext.cmd.derive("rekammedis.perencanaan.jadwalkontrol.FormController",Ext.app.ViewController,{onSelectPicker:function(t,s){var e=this,p=e.getView(),q=e.getReferences(),f=q.tanggal;f.setValue(s);p.save(t)},onFocusLeave:function(s,e,g){var u=this,t=u.getViewModel(),f=u.getView(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s,{},function(m,k,l){if(l){f.loadRecord(m)}})}}}},onCetak:function(u){var w=this,f=w.getView(),e=f.getRecord(),g="Word",v="docx",x=true,t="Cetak Surat Kontrol";f.showMessageBox({title:t,message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",ui:"window-green",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:u,fn:function(k){if(k!="yes"){g="Pdf";v="pdf";x=false}f.cetak({NAME:"mr.KetKontrol",PARAMETER:{PKUNJUNGAN:e.get("KUNJUNGAN"),CETAK_HEADER:1},TYPE:g,EXT:v,REQUEST_FOR_PRINT:x},function(l){f.printPreview(t,l)})}})}},0,0,0,0,["controller.rekammedis-perencanaan-jadwalkontrol-form"],0,[rekammedis.perencanaan.jadwalkontrol,"FormController"],0));(Ext.cmd.derive("rekammedis.perencanaan.jadwalkontrol.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-perencanaan-jadwalkontrol-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 14px; white-space:normal !important;"><span style="float: right; font-weight: bold; font-size: 12px; background: #09bfdc; padding: 5px; color: white; border-radius: 5px; text-align: center">Nomor & Jadwal Kontrol<br/>{[values.NOMOR]} / {[this.tanggalFormat(values.TANGGAL)]} {[this.jamFormat(values.JAM)]}</span></div>','<div style="font-weight: bold; font-size: 14px; white-space:normal !important; color: #0855b3">{REFERENSI.KUNJUNGAN.REFERENSI.RUANGAN.DESKRIPSI}</div>','<div style="font-weight: bold; font-size: 10px; white-space:normal !important;">Keterangan : {[values.DESKRIPSI]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d");return Ext.Date.format(g,"d-m-Y")},jamFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"H:i:s");return Ext.Date.format(g,"H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}else{k={HISTORY:1,NORM:k,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})}}l.setParams(k);l.callParent(k)},loadByNorm:function(f){}},0,["rekammedis-perencanaan-jadwalkontrol-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-perencanaan-jadwalkontrol-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-perencanaan-jadwalkontrol-list":true},["widget.rekammedis-perencanaan-jadwalkontrol-list"],0,[rekammedis.perencanaan.jadwalkontrol,"List"],0));(Ext.cmd.derive("rekammedis.perencanaan.jadwalkontrol.Workspace",com.Form,{controller:"rekammedis-perencanaan-jadwalkontrol-workspace",viewModel:{stores:{store:{type:"rekammedis-perencanaan-jadwalkontrol-store"}},data:{kjgn:undefined}},layout:"border",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-perencanaan-jadwalkontrol-form",layout:"fit",border:false,scrollable:true,listeners:{save:"onSave"}},{region:"east",flex:0.55,split:true,collapsible:true,xtype:"rekammedis-perencanaan-jadwalkontrol-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var t=this,s=t.down("rekammedis-perencanaan-jadwalkontrol-form"),e=t.down("rekammedis-perencanaan-jadwalkontrol-history-workspace"),q=t.getViewModel(),p=q.get("store");if(f){s.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});q.set("kjgn",f);p.queryParams={KUNJUNGAN:f.get("NOMOR")};p.load({callback:function(g,l,k){if(k){s.loadRecord(g[0]);s.setPicker(g[0]);f.history=g[0]}else{s.createRecord({KUNJUNGAN:f.get("NOMOR"),STATUS:1})}e.load(f)}})}}},0,["rekammedis-perencanaan-jadwalkontrol-workspace"],["component","box","container","panel","form","com-form","rekammedis-perencanaan-jadwalkontrol-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-perencanaan-jadwalkontrol-workspace":true},["widget.rekammedis-perencanaan-jadwalkontrol-workspace"],0,[rekammedis.perencanaan.jadwalkontrol,"Workspace"],0));(Ext.cmd.derive("rekammedis.perencanaan.jadwalkontrol.WorkspaceController",Ext.app.ViewController,{onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-perencanaan-jadwalkontrol-workspace"],0,[rekammedis.perencanaan.jadwalkontrol,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.perencanaan.jadwalkontrol.history.Tab",com.Tab,{controller:"rekammedis-perencanaan-jadwalkontrol-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-perencanaan-jadwalkontrol-list"}],load:function(m){var o=this,l=o.down("rekammedis-perencanaan-jadwalkontrol-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-perencanaan-jadwalkontrol-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-perencanaan-jadwalkontrol-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-perencanaan-jadwalkontrol-history-tab":true},["widget.rekammedis-perencanaan-jadwalkontrol-history-tab"],0,[rekammedis.perencanaan.jadwalkontrol.history,"Tab"],0));(Ext.cmd.derive("rekammedis.perencanaan.jadwalkontrol.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-perencanaan-jadwalkontrol-history-tab"],0,[rekammedis.perencanaan.jadwalkontrol.history,"TabController"],0));(Ext.cmd.derive("rekammedis.perencanaan.jadwalkontrol.history.Workspace",com.Form,{layout:"fit",title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",bodyPadding:0,items:[{xtype:"rekammedis-perencanaan-jadwalkontrol-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-perencanaan-jadwalkontrol-history-tab");l.load(k)}},0,["rekammedis-perencanaan-jadwalkontrol-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-perencanaan-jadwalkontrol-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-perencanaan-jadwalkontrol-history-workspace":true},["widget.rekammedis-perencanaan-jadwalkontrol-history-workspace"],0,[rekammedis.perencanaan.jadwalkontrol.history,"Workspace"],0));(Ext.cmd.derive("rekammedis.perencanaan.jadwalkontrol.widget.Info",com.Form,{viewModel:{data:{pasien:undefined}},cls:"shadow-panel",border:true,firstLoad:true,layout:{type:"vbox",align:"stretch"},header:{iconCls:"x-fa fa-calendar",title:"Jadwal Kontrol",margin:0,padding:"5 10 5 10",cls:"x-color-w"},bodyPadding:5,items:[{xtype:"rekammedis-perencanaan-jadwalkontrol-list",viewConfig:{loadMask:false}}],refresh:function(){var l=this,o=l.getViewModel(),n=l.down("rekammedis-perencanaan-jadwalkontrol-list"),m=o.get("pasien");if(l.firstLoad){n.setGridConfig({paging:true});n.load(m.get("NORM"));l.firstLoad=false}else{n.refresh()}}},0,["rekammedis-perencanaan-jadwalkontrol-widget-info"],["component","box","container","panel","form","com-form","rekammedis-perencanaan-jadwalkontrol-widget-info"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-perencanaan-jadwalkontrol-widget-info":true},["widget.rekammedis-perencanaan-jadwalkontrol-widget-info"],0,[rekammedis.perencanaan.jadwalkontrol.widget,"Info"],0));(Ext.cmd.derive("rekammedis.perencanaan.rencanaterapi.Form",com.Form,{controller:"rekammedis-perencanaan-rencanaterapi-form",model:"rekammedis.perencanaan.rencanaterapi.Model",items:[{xtype:"textarea",name:"DESKRIPSI",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{focusleave:"onFocusLeave"}}]},0,["rekammedis-perencanaan-rencanaterapi-form"],["component","box","container","panel","form","com-form","rekammedis-perencanaan-rencanaterapi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-perencanaan-rencanaterapi-form":true},["widget.rekammedis-perencanaan-rencanaterapi-form"],0,[rekammedis.perencanaan.rencanaterapi,"Form"],0));(Ext.cmd.derive("rekammedis.perencanaan.rencanaterapi.FormController",Ext.app.ViewController,{onFocusLeave:function(s,e,g){var u=this,t=u.getViewModel(),f=u.getView(),v=f.getRecord();if(v){if(v.isModified(s.name)){if(!t.get("formConfig.viewOnly")){f.save(s,{},function(m,k,l){if(l){f.loadRecord(m)}})}}}}},0,0,0,0,["controller.rekammedis-perencanaan-rencanaterapi-form"],0,[rekammedis.perencanaan.rencanaterapi,"FormController"],0));(Ext.cmd.derive("rekammedis.perencanaan.rencanaterapi.List",com.Grid,{viewModel:{stores:{store:{type:"rekammedis-perencanaan-rencanaterapi-store"}}},hideHeaders:true,history:false,columns:[{xtype:"templatecolumn",flex:1,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[values.DESKRIPSI]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]}</div>',{tanggalFormat:function(k){var g=Ext.isDate(k)?k:Ext.Date.parse(k,"Y-m-d H:i:s");return Ext.Date.format(g,"d-m-Y H:i:s")}})}],load:function(k){var l=this;if(Ext.getClassName(k)=="data.model.Kunjungan"){var m=k;if(l.history){k={HISTORY:1,NORM:m.get("REFERENSI").PENDAFTARAN.NORM,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})};if(m.history){k.NOT=Ext.JSON.encode({ID:m.history.get("ID")})}}else{k={KUNJUNGAN:m.get("NOMOR")}}}l.setParams(k);l.callParent(k)}},0,["rekammedis-perencanaan-rencanaterapi-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","rekammedis-perencanaan-rencanaterapi-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"rekammedis-perencanaan-rencanaterapi-list":true},["widget.rekammedis-perencanaan-rencanaterapi-list"],0,[rekammedis.perencanaan.rencanaterapi,"List"],0));(Ext.cmd.derive("rekammedis.perencanaan.rencanaterapi.Workspace",com.Form,{controller:"rekammedis-perencanaan-rencanaterapi-workspace",viewModel:{stores:{store:{type:"rekammedis-perencanaan-rencanaterapi-store"}},data:{kjgn:undefined}},layout:"border",bodyPadding:1,items:[{region:"center",xtype:"rekammedis-perencanaan-rencanaterapi-form",layout:"fit",border:false,listeners:{save:"onSave"}},{region:"east",flex:0.75,split:true,collapsible:true,xtype:"rekammedis-perencanaan-rencanaterapi-history-workspace",ui:"panel-gray",fullscreenEnabled:true}],load:function(f){var t=this,s=t.down("rekammedis-perencanaan-rencanaterapi-form"),e=t.down("rekammedis-perencanaan-rencanaterapi-history-workspace"),q=t.getViewModel(),p=q.get("store");if(f){s.setFormConfig({viewOnly:f.get("FINAL_HASIL")==1,simpan:f.get("FINAL_HASIL")==0});q.set("kjgn",f);p.queryParams={KUNJUNGAN:f.get("NOMOR")};p.load({callback:function(g,l,k){if(k){s.loadRecord(g[0]);f.history=g[0]}else{s.createRecord({KUNJUNGAN:f.get("NOMOR"),STATUS:1,TANGGAL:Ext.Date.format(t.getSysdate(),"Y-m-d H:i:s")})}e.load(f)}})}}},0,["rekammedis-perencanaan-rencanaterapi-workspace"],["component","box","container","panel","form","com-form","rekammedis-perencanaan-rencanaterapi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-perencanaan-rencanaterapi-workspace":true},["widget.rekammedis-perencanaan-rencanaterapi-workspace"],0,[rekammedis.perencanaan.rencanaterapi,"Workspace"],0));(Ext.cmd.derive("rekammedis.perencanaan.rencanaterapi.WorkspaceController",Ext.app.ViewController,{onSave:function(s,v,g){var u=this,f=u.getView(),t=u.getViewModel(),e=t.get("kjgn");f.load(e)}},0,0,0,0,["controller.rekammedis-perencanaan-rencanaterapi-workspace"],0,[rekammedis.perencanaan.rencanaterapi,"WorkspaceController"],0));(Ext.cmd.derive("rekammedis.perencanaan.rencanaterapi.history.Tab",com.Tab,{controller:"rekammedis-perencanaan-rencanaterapi-history-tab",kunjungan:undefined,items:[{title:"Sebelumnya",history:true,xtype:"rekammedis-perencanaan-rencanaterapi-list"}],load:function(m){var o=this,l=o.down("rekammedis-perencanaan-rencanaterapi-list"),n=this.getActiveTab();l.setListConfig({paging:true});this.kunjungan=m;if(n){n.load(m)}else{if(o.items.getCount()>0){o.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["rekammedis-perencanaan-rencanaterapi-history-tab"],["component","box","container","panel","tabpanel","com-tab","rekammedis-perencanaan-rencanaterapi-history-tab"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"rekammedis-perencanaan-rencanaterapi-history-tab":true},["widget.rekammedis-perencanaan-rencanaterapi-history-tab"],0,[rekammedis.perencanaan.rencanaterapi.history,"Tab"],0));(Ext.cmd.derive("rekammedis.perencanaan.rencanaterapi.history.TabController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.rekammedis-perencanaan-rencanaterapi-history-tab"],0,[rekammedis.perencanaan.rencanaterapi.history,"TabController"],0));(Ext.cmd.derive("rekammedis.perencanaan.rencanaterapi.history.Workspace",com.Form,{layout:"fit",title:"Catatan Medis",iconCls:"x-fa fa-file-text-o",bodyPadding:0,items:[{xtype:"rekammedis-perencanaan-rencanaterapi-history-tab"}],load:function(k){var m=this,l=m.down("rekammedis-perencanaan-rencanaterapi-history-tab");l.load(k)}},0,["rekammedis-perencanaan-rencanaterapi-history-workspace"],["component","box","container","panel","form","com-form","rekammedis-perencanaan-rencanaterapi-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"rekammedis-perencanaan-rencanaterapi-history-workspace":true},["widget.rekammedis-perencanaan-rencanaterapi-history-workspace"],0,[rekammedis.perencanaan.rencanaterapi.history,"Workspace"],0));(Ext.cmd.derive("inventory.eksternal.pembatalanpenerimaanbarang.Model",data.model.Model,{serviceName:"inventory/pembatalanpenerimaanbarang",fields:[{name:"ID",type:"int"},{name:"PENERIMAAN_BARANG",type:"string"},{name:"JENIS",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[inventory.eksternal.pembatalanpenerimaanbarang,"Model"],0));(Ext.cmd.derive("inventory.eksternal.pembatalanpenerimaanbarang.Store",data.store.Store,{model:"inventory.eksternal.pembatalanpenerimaanbarang.Model"},0,0,0,0,["store.inventory-eksternal-pembatalanpenerimaanbarang-store"],0,[inventory.eksternal.pembatalanpenerimaanbarang,"Store"],0));(Ext.cmd.derive("inventory.eksternal.penerimaanbarang.Model",data.model.Model,{serviceName:"inventory/penerimaanbarang",fields:[{name:"ID",type:"int"},{name:"FAKTUR",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TANGGAL_PENERIMAAN",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"REKANAN",type:"int"},{name:"KETERANGAN",type:"string"},{name:"PPN",type:"string"},{name:"TANGGAL_DIBUAT",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"MASA_BERLAKU",type:"date",dateFormat:"Y-m-d"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[inventory.eksternal.penerimaanbarang,"Model"],0));(Ext.cmd.derive("inventory.eksternal.penerimaanbarang.Store",data.store.Store,{model:"inventory.eksternal.penerimaanbarang.Model"},0,0,0,0,["store.inventory-eksternal-penerimaanbarang-store"],0,[inventory.eksternal.penerimaanbarang,"Store"],0));(Ext.cmd.derive("inventory.eksternal.penerimaanbarangdetil.Model",data.model.Model,{serviceName:"inventory/penerimaanbarangdetil",fields:[{name:"ID",type:"int"},{name:"PENERIMAAN",type:"int"},{name:"BARANG",type:"int"},{name:"NO_BATCH",type:"string"},{name:"JUMLAH",type:"float"},{name:"HARGA",type:"float"},{name:"DISKON",type:"float"},{name:"MASA_BERLAKU",type:"date",dateFormat:"Y-m-d"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[inventory.eksternal.penerimaanbarangdetil,"Model"],0));(Ext.cmd.derive("inventory.eksternal.penerimaanbarangdetil.Store",data.store.Store,{model:"inventory.eksternal.penerimaanbarangdetil.Model"},0,0,0,0,["store.inventory-eksternal-penerimaanbarangdetil-store"],0,[inventory.eksternal.penerimaanbarangdetil,"Store"],0));(Ext.cmd.derive("inventory.paketfarmasi.Model",data.model.Model,{serviceName:"inventory/paketfarmasi",fields:[{name:"ID",type:"int"},{name:"TINDAKAN",type:"int"},{name:"BARANG",type:"int"},{name:"JUMLAH",type:"float"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[inventory.paketfarmasi,"Model"],0));(Ext.cmd.derive("inventory.paketfarmasi.Store",data.store.Store,{model:"inventory.paketfarmasi.Model"},0,0,0,0,["store.tindakan-paket-farmasi-store"],0,[inventory.paketfarmasi,"Store"],0));(Ext.cmd.derive("inventory.stokbarangminimum.Model",data.model.Model,{serviceName:"inventory/stokbarangminimum",fields:[{name:"ID",type:"int"},{name:"RUANGAN",type:"string"},{name:"BARANG",type:"int"},{name:"STOK",type:"float"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"STATUS",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[inventory.stokbarangminimum,"Model"],0));(Ext.cmd.derive("inventory.stokbarangminimum.Store",data.store.Store,{model:"inventory.stokbarangminimum.Model"},0,0,0,0,["store.stokbarangminimum-store"],0,[inventory.stokbarangminimum,"Store"],0));(Ext.cmd.derive("inventory.Workspace",com.Tab,{controller:"inventory-workspace",activeTab:0,cls:"x-br-top",ui:"header-tab",rec:undefined,initComponent:function(){var f=this;f.items=[{title:"Daftar Barang",xtype:"stok-barang-ruangan-workspace"}];f.callParent(arguments);if(f.app){if(f.app.xpriv("2304",false)){f.add({title:"Stok Opname",xtype:"stok-opname-workspace",listeners:{refreshitems:"onRefresh"}})}if(f.app.xpriv("2301",false)){f.add({title:"Permintaan",xtype:"tab-permintaan",listeners:{refreshitems:"onRefresh",tabchange:"onTabChange"}})}if(f.app.xpriv("2303",false)){f.add({title:"Pengiriman",xtype:"tab-pengiriman",listeners:{refreshitems:"onRefresh",tabchange:"onTabChange"}})}if(f.app.xpriv("2305",true)){f.add({title:"Rekanan",xtype:"workspace-eksternal",listeners:{refreshitems:"onRefresh"}})}if(f.app.xpriv("2306",true)){f.add({title:"Perjanjian PBF",xtype:"inventory-suratperjanjian-workspace",listeners:{refreshitems:"onRefresh"}})}if(f.app.xpriv("2306",true)){f.add({title:"Perencanaan",xtype:"materialrequest-workspace",listeners:{refreshitems:"onRefresh"}})}if(f.app.xpriv("2306",true)){f.add({title:"Purchase Order",xtype:"purchaseorder-workspace",listeners:{refreshitems:"onRefresh"}})}if(f.app.xpriv("2304",false)){f.add({title:"Monitoring",xtype:"monitoring-workspace"})}}},loadStore:function(l){var k=this,m=this.getActiveTab();k.rec=l;if(m){m.onLoadRecord({})}else{if(k.items.getCount()>0){k.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["inventory-workspace"],["component","box","container","panel","tabpanel","com-tab","inventory-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"inventory-workspace":true},["widget.inventory-workspace"],0,[inventory,"Workspace"],0));(Ext.cmd.derive("inventory.WorkspaceController",Ext.app.ViewController,{onRefresh:function(g){var k=this;k.getView().loadStore({})},onTabChange:function(l,m){var k=this.getView().rec;if(m.load){m.onLoadRecord({})}}},0,0,0,0,["controller.inventory-workspace"],0,[inventory,"WorkspaceController"],0));(Ext.cmd.derive("inventory.eksternal.Detil",Ext.form.Panel,{layout:"fit",defaults:{border:false,bodyPadding:10,flex:1},initComponent:function(){var f=this;f.items=[{layout:"vbox",defaults:{width:"100%",border:false,margin:"5 2 0 5"},items:[{html:"<font size = 4px><b>UNIT: APOTIK RAWAT JALAN</b></font>"},{html:"<font color = red>Transaksi Yang Anda Lakukan Akan Berpengaruh ke Stock Apotek Rawat Jalan</font>"}]}];f.callParent(arguments)}},0,["detil-eksternal"],["component","box","container","panel","form","detil-eksternal"],{component:true,box:true,container:true,panel:true,form:true,"detil-eksternal":true},["widget.detil-eksternal"],0,[inventory.eksternal,"Detil"],0));(Ext.cmd.derive("inventory.eksternal.Links",com.Tab,{activeTab:0,cls:"x-br-top",ui:"header-tab",rec:undefined,initComponent:function(){var f=this;f.callParent(arguments);if(f.app){if(f.app.xpriv("230501",false)){f.add({title:"Penerimaan",xtype:"workspace-penerimaan-eksternal"})}if(f.app.xpriv("230502",false)){f.add({title:"Pengembalian",xtype:"workspace-pengembalian-eksternal"})}}},loadStore:function(l){var k=this,m=this.getActiveTab();k.rec=l;if(m){m.onLoadRecord({})}else{if(k.items.getCount()>0){k.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["tab-eksternal"],["component","box","container","panel","tabpanel","com-tab","tab-eksternal"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"tab-eksternal":true},["widget.tab-eksternal"],0,[inventory.eksternal,"Links"],0));(Ext.cmd.derive("inventory.eksternal.Workspace",com.Form,{controller:"workspace-eksternal",layout:"border",defaults:{border:false},title:"Transaksi Eksternal",initComponent:function(){var f=this;f.items=[{region:"center",flex:4,xtype:"tab-eksternal"}],f.callParent(arguments)},onLoadRecord:function(l){var k=this,m=k.down("tab-eksternal");m.loadStore({})}},0,["workspace-eksternal"],["component","box","container","panel","form","com-form","workspace-eksternal"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-eksternal":true},["widget.workspace-eksternal"],0,[inventory.eksternal,"Workspace"],0));(Ext.cmd.derive("inventory.eksternal.WorkspaceController",Ext.app.ViewController,{onTabChange:function(l,m){var k=this.getView().rec;if(m.load){m.onLoadRecord({})}}},0,0,0,0,["controller.workspace-eksternal"],0,[inventory.eksternal,"WorkspaceController"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.Form",com.Form,{model:"inventory.eksternal.penerimaanbarangdetil.Model",controller:"form-penerimaan-eksternal",layout:{type:"vbox",align:"stretch"},viewModel:{stores:{kategoristore:{type:"kategori-store",queryParams:{JENIS:1,STATUS:1},autoLoad:true}},data:{paramsRuangan:{RUANGAN:undefined,KATEGORI_BARANG:1,STATUS:1}}},border:false,initComponent:function(){var f=this;f.items=[{xtype:"combo",name:"KATEGORY",allowBlank:false,queryMode:"local",reference:"kategory",bind:{store:"{kategoristore}",value:"{paramsRuangan.KATEGORI_BARANG}"},emptyText:"[ NAMA KATEGORY ]",displayField:"NAMA",valueField:"ID",listeners:{select:"onSelectKategori"}},{xtype:"barang-combo",reference:"barangcombo",allowBlank:false,emptyText:"[ Masukkan Nama Barang ]",name:"BARANG"},{xtype:"textfield",allowBlank:false,name:"NO_BATCH",reference:"no_batch",emptyText:"[No. Batch]",tooltip:"Nomor Batch"},{xtype:"numberfield",width:100,hideTrigger:true,allowBlank:false,name:"JUMLAH",reference:"jumlah",emptyText:"[ Jumlah ]",decimalPrecision:2},{xtype:"numberfield",hideTrigger:true,name:"HARGA",allowBlank:false,reference:"harga",emptyText:"[ Harga Satuan Penerimaan ]",decimalPrecision:2},{xtype:"numberfield",hideTrigger:true,allowBlank:false,name:"DISKON",reference:"diskon",emptyText:"[ Diskon (Rp) ]"},{xtype:"datefield",width:110,format:"Y-m-d",name:"MASA_BERLAKU",reference:"masa_berlaku",emptyText:"[ Expire Date ]",listeners:{specialkey:"onFocusEnter"}}],f.buttons=[{ui:"soft-green",text:"Tambah",bind:{hidden:"{formConfig.simpan}"},listeners:{click:"onClickBarang"}}];f.callParent(arguments)},loadCombo:function(f){var s=this,q=s.getViewModel(),t=q.get("paramsRuangan"),e=s.down("barang-combo"),g=e.getViewModel().get("store");if(f.RUANGAN){t=Ext.apply(t,f);q.set("paramsRuangan",t)}else{if(f.KATEGORI_BARANG){t=Ext.apply(t,f);q.set("paramsRuangan",t)}}g.setQueryParams(q.get("paramsRuangan"))},onBeforeGetRecord:function(m,n){var o=m.down("barang-combo").getSelection(),e=m.down("[reference=jumlah]").getValue();harga=m.down("[reference=harga]").getValue();n.JUMLAH=e;n.HARGA=harga;if(o){n.REFERENSI=o.get("REFERENSI")}}},0,["form-penerimaan-eksternal"],["component","box","container","panel","form","com-form","form-penerimaan-eksternal"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-penerimaan-eksternal":true},["widget.form-penerimaan-eksternal"],0,[inventory.eksternal.penerimaan,"Form"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.FormController",Ext.app.ViewController,{onFocusEnter:function(e,f){if(f.getKey()===f.ENTER){var m=this;view=m.getView();value=view.getForm().getValues();if(view.getForm().isValid()){view.fireEvent("addBarang",value);view.getForm().reset()}}},onSelectKategori:function(m,l){var k=this;view=k.getView(),refs=k.getReferences(),barangcombo=refs.barangcombo;barangcombo.getStore().removeAll();barangcombo.select(null);config={KATEGORI_BARANG:l.get("ID")};view.loadCombo(config)},onClickBarang:function(){this.getView().fireEvent("addBarang");this.getReferences().barangcombo.getStore().removeAll();this.getReferences().barangcombo.select(null)}},0,0,0,0,["controller.form-penerimaan-eksternal"],0,[inventory.eksternal.penerimaan,"FormController"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.FormFaktur",com.Form,{controller:"formfaktur-penerimaan-eksternal",viewModel:{data:{penerimaanBarang:undefined,batalPenerimaanBarang:false},formulas:{isAllowBatalPenerimaanBarang:function(k){var l=k("penerimaanBarang.STATUS")==2,m=k("batalPenerimaanBarang");if(!l){return false}return m}}},autoScroll:true,flex:1,layout:"fit",model:"inventory.eksternal.penerimaanbarang.Model",initComponent:function(){var f=this;f.items=[{layout:"hbox",defaults:{border:false,margin:"2 2 2 2",flex:1,bind:{readOnly:"{formConfig.simpan}"}},border:false,items:[{xtype:"combobox",name:"RUANGAN",allowBlank:false,enterFocus:true,reference:"ruanganasal",enforceMaxLength:true,forceSelection:true,validateOnBlur:true,displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",typeAhead:true,emptyText:"[Ruangan ASAL]",store:{model:"data.model.Ruangan"},listeners:{specialkey:"onFocusEnter",select:"onRuanganSelect"}},{xtype:"textfield",emptyText:"[ No Faktur ]",name:"FAKTUR"},{xtype:"datetimefield",emptyText:"[ Tanggal Faktur ]",name:"TANGGAL",format:"Y-m-d H:i:s",width:140},{xtype:"datefield",emptyText:"[ Tanggal Penerimaan ]",name:"TANGGAL_PENERIMAAN",containFormatTime:true,format:"d-m-Y H:i:s",width:160},{xtype:"datefield",emptyText:"[ Tanggal Jatuh Tempo ]",name:"MASA_BERLAKU",format:"Y-m-d",width:165},{xtype:"penyedia-combo",params:{STATUS:1},hideTrigger:true,reference:"pbfcombo",allowBlank:false,name:"REKANAN",emptyText:"[ Nama Rekanan ]"},{xtype:"textfield",emptyText:"[ Keterangan ]",name:"KETERANGAN"}]}];f.callParent(arguments)},onLoadRecord:function(x,f){var x=this,w=x.getViewModel(),t=x.down("penyedia-combo"),e=x.getReferensi(f.data,"REKANAN"),u=x.app.xpriv("230503");w.set("penerimaanBarang",f);w.set("batalPenerimaanBarang",u);try{var v=x.down("[name=RUANGAN]");v.getStore().loadData(x.getPenggunaRuangan());t.selectFromRecord(e)}catch(g){}},onBeforeGetRecord:function(e,n){var m=e.down("[name=TANGGAL_PENERIMAAN]").getValue(),o=Ext.Date.clone(m);n.TANGGAL_PENERIMAAN=o}},0,["form-penerimaan-eksternal-faktur"],["component","box","container","panel","form","com-form","form-penerimaan-eksternal-faktur"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-penerimaan-eksternal-faktur":true},["widget.form-penerimaan-eksternal-faktur"],0,[inventory.eksternal.penerimaan,"FormFaktur"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.FormFakturController",Ext.app.ViewController,{onRuanganSelect:function(m,l){var k=this;view=k.getView();view.fireEvent("selectRuangan",l)},onPreview:function(){var g=this,k=g.getView();preview=true,rec=g.getViewModel().get("record");k.cetak({NAME:"inventory.CetakPenerimaanBarang",TYPE:preview?"Pdf":"Word",EXT:preview?"pdf":"docx",PARAMETER:{PID:rec.get("ID")},REQUEST_FOR_PRINT:!preview,PRINT_NAME:"CetakFaktur"},function(e){if(preview){k.printPreview("Penerimaan Rekanan",e)}})}},0,0,0,0,["controller.formfaktur-penerimaan-eksternal"],0,[inventory.eksternal.penerimaan,"FormFakturController"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.FormPembatalan",com.Form,{controller:"pembatalan-penerimaanbarang-form",model:"inventory.eksternal.pembatalanpenerimaanbarang.Model",bodyPadding:5,layout:"fit",items:[{xtype:"referensi-combo",name:"JENIS",params:{JENIS:67},firstLoad:true,allowBlank:false,editable:false,emptyText:"[Jenis Pembatalan]"}],buttons:[{text:"Batalkan",ui:"soft-blue",iconCls:"x-fa fa-minus-circle",handler:"onBatalkan"}]},0,["pembatalan-penerimaanbarang-form"],["component","box","container","panel","form","com-form","pembatalan-penerimaanbarang-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pembatalan-penerimaanbarang-form":true},["widget.pembatalan-penerimaanbarang-form"],0,[inventory.eksternal.penerimaan,"FormPembatalan"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.FormPembatalanController",Ext.app.ViewController,{onBatalkan:function(l){var k=this,m=k.getView();m.save(l,{success:"Tagihan Final telah dibatalkan"})}},0,0,0,0,["controller.pembatalan-penerimaanbarang-form"],0,[inventory.eksternal.penerimaan,"FormPembatalanController"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.List",com.Grid,{controller:"list-penerimaan-eksternal",viewModel:{stores:{store:{type:"inventory-eksternal-penerimaanbarangdetil-store"}},data:{hide:true,pengurang:0,datatotal:0,jumlrec:0,idlap:undefined,ppn:"Ya"}},bind:{store:"{store}"},layout:"fit",dockedItems:[{xtype:"toolbar",flex:1,dock:"bottom",items:["->",{xtype:"combobox",reference:"statusppn",emptyText:"Status PPN",store:Ext.create("Ext.data.Store",{fields:["value","desk"],data:[{value:"Ya",desk:"Sudah Termasuk PPN"},{value:"Tidak",desk:"Belum Termasuk PPN"}]}),queryMode:"local",displayField:"desk",width:"30%",valueField:"value",bind:{value:"{ppn}"},listeners:{select:"onSelectPpn"}},{xtype:"component",html:"<b><h3>Total Rp:</h3></b>",margin:"0 5 0 0"},{xtype:"component",flex:1,style:{textAlign:"right"},bind:{html:"<b><h3>{datatotal}</h3></b>"}}]}],initComponent:function(){var f=this;f.columns=[{xtype:"templatecolumn",text:"Nama Obat",sortable:false,tpl:"<div>{REFERENSI.BARANG.NAMA}</div>",flex:1},{text:"No.Batch",dataIndex:"NO_BATCH",flex:1},{text:"Jumlah",dataIndex:"JUMLAH",width:75},{text:"Harga Satuan",dataIndex:"HARGA",flex:1},{text:"Jumlah Harga",dataIndex:"JUMLAH_HARGA",flex:1,renderer:"onHitungJumlah"},{xtype:"datecolumn",text:"Expired Date",dataIndex:"MASA_BERLAKU",flex:1,format:"Y-m-d"},{text:"Diskon (Rp)",dataIndex:"DISKON",flex:1},{xtype:"numbercolumn",text:"Total Harga",dataIndex:"HARGA_TOTAL",renderer:"onHitungTotal",flex:1},{xtype:"templatecolumn",text:"H.Sebelum",align:"right",dataIndex:"DISKON",tpl:"<div><span style=color:red;>{REFERENSI.BARANG.HARGA_BELI}</span></div>",flex:1},{xtype:"widgetcolumn",reference:"gantitarif",width:50,onWidgetAttach:"onWidgetAttach",widget:{xtype:"fieldcontainer",defaultType:"button",layout:{type:"vbox",align:"stretch"},defaults:{padding:1},items:[{xtype:"button",ui:"soft-red",iconCls:"x-fa fa-minus-circle",handler:"onRemoved"}]}}];f.callParent(arguments)},loadStore:function(g){var k=this;vm=k.getViewModel(),store=vm.get("store");if(g){store.removeAll();store.queryParams={PENERIMAAN:g.get("ID"),STATUS:g.get("STATUS")};store.load({callback:function(f,e,m){if(m){if(g.get("PPN")=="Tidak"){vm.set("datatotal",k.getTotal());total=k.getTotal();hasil=total*10/100;k.dataOperator(hasil,"tambah")}else{vm.set("datatotal",k.getTotal())}}}});vm.set("hide",true);vm.set("ppn",g.get("PPN"))}else{vm.set("hide",false)}},dataOperator:function(m,l){var k=this;vm=k.getViewModel();total=vm.get("datatotal");if(l=="tambah"){vm.set("datatotal",total+m)}else{if(l=="kurang"){vm.set("datatotal",total-m)}else{if(l=="reset"){vm.set("datatotal",0);vm.set("ppn","Ya")}else{if(l=="nilaitotal"){vm.set("datatotal",m)}}}}},getTotal:function(){var m=this,e=m.getViewModel(),o=e.get("store"),n=0;o.each(function(f){hasil=f.get("JUMLAH")*f.get("HARGA")-f.get("DISKON");n=n+hasil});return n},getPpn:function(){var l=this,m=l.getViewModel(),k=m.get("ppn");return k},setPpn:function(l){var k=this,m=k.getViewModel();m.set("ppn",l)},getData:function(){var m=this,e=m.getViewModel(),o=e.get("store"),n=[];o.each(function(f){n.push(f.getData())});return n},addRow:function(m){var e=this,f=e.getViewModel().get("store");hasil=(m.get("JUMLAH")*m.get("HARGA"))-m.get("DISKON");f.add(m);this.dataOperator(hasil,"tambah")},removeDataStore:function(){this.getViewModel().get("store").removeAll()},removeAnotherModels:function(){var m=this.getViewModel().get("store"),f=[];m.each(function(g){if(Ext.getClassName(g)!="data.model.PermintaanDetil"){f.push(g)}});var e=new Ext.util.DelayedTask(function(){m.remove(f)});e.delay(100)}},0,["list-penerimaan-eksternal"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","list-penerimaan-eksternal"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"list-penerimaan-eksternal":true},["widget.list-penerimaan-eksternal"],0,[inventory.eksternal.penerimaan,"List"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.ListController",Ext.app.ViewController,{onWidgetAttach:function(q,e,o){var f=this,p=e.items.items[0];p.setHidden(o.get("STATUS")==2)},onRenderBarang:function(e,o,n){var m=n.get("REFERENSI");rekanan=m?(m.BARANG?m.BARANG.NAMA:""):"";return rekanan},onHitungJumlah:function(e,o,n){var m=n.get("JUMLAH")*n.get("HARGA");return m},onHitungTotal:function(q,g,f){var t=this,s=t.getViewModel(),e=f.get("JUMLAH")*f.get("HARGA")-f.get("DISKON");return e},onRemoved:function(m){var l=this,k=this.getViewModel();view=this.getView();rec=m.ownerCt.getWidgetRecord();hasil=rec.get("JUMLAH")*rec.get("HARGA")-rec.get("DISKON");if(Ext.isNumeric(rec.get("ID"))){rec.set("STATUS",0);rec.showError=true;rec.animateTarget=m;rec.scope=l;rec.save({callback:function(f,e,g){if(g){Ext.toast({html:"Data telah terhapus",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});view.dataOperator(hasil,"kurang");k.get("store").remove(rec)}}})}else{Ext.toast({html:"Data telah terhapus",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});k.get("store").remove(rec);view.dataOperator(hasil,"kurang")}},onSelectPpn:function(o,n,m){var e=this;view=e.getView();vm=e.getViewModel();store=vm.get("store");total=view.getTotal();hasil=total*10/100;if(n.get("value")=="Tidak"){view.dataOperator(hasil,"tambah")}else{view.dataOperator(total,"nilaitotal")}view.setPpn(n.get("value"))}},0,0,0,0,["controller.list-penerimaan-eksternal"],0,[inventory.eksternal.penerimaan,"ListController"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.ViewModel",Ext.app.ViewModel,{stores:{barang:{type:"barang-store"}}},0,0,0,0,["viewmodel.workspace-penerimaan-eksternal"],0,[inventory.eksternal.penerimaan,"ViewModel"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.Workspace",com.Form,{controller:"workspace-penerimaan-eksternal",viewModel:{type:"workspace-penerimaan-eksternal",data:{recordview:undefined}},layout:"border",flex:1,border:true,initComponent:function(){var f=this;f.items=[{region:"north",reference:"formfaktur",xtype:"form-penerimaan-eksternal-faktur",flex:0.6,buttons:[{text:"Final",iconCls:"x-fa fa-cart-plus",ui:"soft-blue",bind:{hidden:"{formConfig.simpan}"},listeners:{scope:f.getController(),click:"onFinal"}},{text:"Batal Penerimaan",ui:"soft-black",iconCls:"x-fa fa-ban",bind:{hidden:"{!isAllowBatalPenerimaanBarang}"},listeners:{scope:f.getController(),click:"onBatalPenerimaan"}},{text:"Cetak",iconCls:"x-fa fa-print",handler:"onPreview"},{text:"Simpan",ui:"soft-green",iconCls:"x-fa fa-save",bind:{hidden:"{formConfig.simpan}"},listeners:{scope:f.getController(),click:"onSimpan"}},{text:"Reset",ui:"soft-red",iconCls:"x-fa fa-refresh",listeners:{scope:f.getController(),click:"onReset"}}],listeners:{selectRuangan:"onRuanganSelect"}},{region:"center",ui:"panel-cyan",flex:2,header:{iconCls:"x-fa fa-list",padding:"5 5 5 2"},title:"List",reference:"listbarang",xtype:"list-penerimaan-eksternal"},{region:"east",ui:"panel-cyan",layout:"fit",iconCls:"x-fa fa-list",title:"History",flex:1,collapsible:true,collapsed:true,split:true,reference:"listhistory",xtype:"list-histori-penerimaan-eksternal",listeners:{select:"onSelectHistori"}},{region:"west",ui:"panel-cyan",title:"Form",header:{iconCls:"x-fa fa-file-o",padding:"2 2 2 1"},flex:1,collapsible:true,reference:"formbarang",xtype:"form-penerimaan-eksternal",split:true,scrollable:"y",listeners:{addBarang:"onAddBarang"}}];f.callParent(arguments)},onLoadRecord:function(l){var k=this,m=k.down("form-penerimaan-eksternal-faktur");formbarang=k.down("form-penerimaan-eksternal");listhistory=k.down("list-histori-penerimaan-eksternal");listhistory.loadStore({});m.createRecord({STATUS:1,TANGGAL_DIBUAT:k.getSysdate()});m.setFormConfig({viewOnly:status,simpan:false});formbarang.setFormConfig({viewOnly:status,simpan:false});formbarang.createRecord({})}},0,["workspace-penerimaan-eksternal"],["component","box","container","panel","form","com-form","workspace-penerimaan-eksternal"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-penerimaan-eksternal":true},["widget.workspace-penerimaan-eksternal"],0,[inventory.eksternal.penerimaan,"Workspace"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.WorkspaceController",Ext.app.ViewController,{onReload:function(){var t=this,g=this.getView(),s=t.getViewModel(),q=t.getReferences(),e=q.listbarang,f=s.get("recordview");g.setLoading(true);(new Ext.util.DelayedTask(function(){if(data.model){t.onReset();g.setLoading(false)}})).delay(1500)},onSelectHistori:function(s,f){var e=this,t=e.getViewModel(),q=e.getReferences(),g=(f.get("STATUS")==1)?false:true;formfaktur=q.formfaktur,formbarang=q.formbarang,listbarang=q.listbarang;formbarang.loadCombo(f.get("RUANGAN"));listbarang.loadStore(f);formfaktur.loadRecord(f);formfaktur.setFormConfig({viewOnly:g,simpan:g});t.set("recordview",f);formbarang.setFormConfig({viewOnly:g,simpan:g});listbarang.setPpn(f.get("PPN"))},onAddBarang:function(p){var f=this,q=f.getView(),e=f.getReferences(),g=e.formbarang.getRecord();if(g){e.listbarang.addRow(g);e.formbarang.createRecord({});e.formbarang.focus("BARANG")}},onSimpan:function(k){var g=this;view=g.getView();refs=g.getReferences(),listbarang=refs.listbarang,form=refs.formfaktur,databarang=listbarang.getData();rec=form.getRecord();if(rec){rec.set("PENERIMAAN_BARANG_DETIL",databarang);rec.set("PPN",listbarang.getPpn());form.save(k,null,function(m,e,f){if(f){g.onReset()}})}},onFinal:function(k){var g=this;view=g.getView();refs=g.getReferences(),form=refs.formfaktur,rec=form.getRecord();if(rec){if(Ext.isNumeric(rec.get("ID"))){rec.set("STATUS",2);rec.showError=true;rec.animateTarget=k;rec.scope=g;rec.save({callback:function(f,e,m){if(m){Ext.toast({html:"Data telah tersimpan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});g.onReset()}}})}else{Ext.MessageBox.alert("Warning","Anda Tidak Dapat Memfinalkan transaksi ini.",g)}}else{Ext.MessageBox.alert("Warning","Anda Tidak Dapat Memfinalkan transaksi ini.",g)}},onReset:function(){var f=this;view=f.getView();refs=f.getReferences(),listbarang=refs.listbarang,listhistory=refs.listhistory,form=refs.formfaktur;formbarang=refs.formbarang;listbarang.getStore().removeAll();listhistory.getStore().load();form.reset();listbarang.loadStore();listbarang.dataOperator(0,"reset");form.setFormConfig({viewOnly:false,simpan:false});formbarang.setFormConfig({viewOnly:false,simpan:false});form.createRecord({STATUS:1,TANGGAL_DIBUAT:form.getSysdate()})},onRuanganSelect:function(g){var k=this;view=k.getView();vm=k.getViewModel(),refs=k.getReferences(),formbarang=refs.formbarang;config={RUANGAN:g.get("ID")};formbarang.loadCombo(config)},onBatalPenerimaan:function(k){var g=this;vm=g.getViewModel(),view=g.getView();refs=g.getReferences(),form=refs.formfaktur,penerimaan=form.getRecord(),notify=true;if(view.app){notify=!view.app.xpriv("230503")}if(notify){view.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Pembatalan final Penerimaan Barang !");return}Ext.Msg.show({title:"Pembatalan Tagihan Final",message:"Anda yakin ingin membatalkan  final penermiaan barang?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:k,fn:function(e){if(e==="yes"){view.openDialog("",true,100,50,{xtype:"pembatalan-penerimaanbarang-form",title:"Pembatalan Final Penerimaan Barang"},function(f,o){var n=o.down("pembatalan-penerimaanbarang-form");n.on("save",function(q,l,m){g.onReload();o.close()});n.createRecord({PENERIMAAN_BARANG:vm.get("recordview").get("ID"),JENIS:1,STATUS:1,TANGGAL:view.getSysdate()})})}}})}},0,0,0,0,["controller.workspace-penerimaan-eksternal"],0,[inventory.eksternal.penerimaan,"WorkspaceController"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.histori.List",com.Grid,{controller:"list-histori-penerimaan-eksternal",viewModel:{stores:{store:{type:"inventory-eksternal-penerimaanbarang-store"}}},layout:"fit",header:{items:[{xtype:"search-field",cls:"x-text-border",iconCls:"iconSearch",autoFocus:true,emptyText:"Cari Faktur",enableKeyEvents:true,flex:1,listeners:{search:"onSearch",clear:"onClear"}}]},columns:[{text:"Nama Rekanan",dataIndex:"REKANAN",flex:2,renderer:"onRenderRekanan"},{text:"No. Faktur",dataIndex:"FAKTUR",flex:1.5},{xtype:"datecolumn",text:"Tanggal Faktur",dataIndex:"TANGGAL",format:"Y-m-d H:i:s",flex:1}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",displayInfo:false}]},0,["list-histori-penerimaan-eksternal"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","list-histori-penerimaan-eksternal"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"list-histori-penerimaan-eksternal":true},["widget.list-histori-penerimaan-eksternal"],0,[inventory.eksternal.penerimaan.histori,"List"],0));(Ext.cmd.derive("inventory.eksternal.penerimaan.histori.ListController",Ext.app.ViewController,{query:"",privates:{searchData:function(){var n=this,o=n.getView(),m=o.getStore(),e=o.down("pagingtoolbar");if(n.query==""){delete m.qeuryParams.QUERY}else{o.setParams({FAKTUR:n.query})}if(e){e.moveFirst()}else{o.load()}}},onRenderRekanan:function(e,o,n){var m=n.get("REFERENSI");rekanan=m?(m.REKANAN?m.REKANAN.NAMA:""):"";if(n.get("STATUS")==2){return'<span style="color:red;">'+rekanan+"</span>"}else{return'<span style="color:green;">'+rekanan+"</span>"}},onSearch:function(k,g){this.query=g;this.searchData()},onClear:function(k,g){this.query="";this.searchData()}},0,0,0,0,["controller.list-histori-penerimaan-eksternal"],0,[inventory.eksternal.penerimaan.histori,"ListController"],0));(Ext.cmd.derive("inventory.eksternal.pengembalian.Detil",Ext.form.Panel,{layout:"fit",defaults:{border:false,bodyPadding:2,flex:1},initComponent:function(){var f=this;f.items=[{layout:"vbox",defaults:{width:"100%",border:false,margin:"5 2 0 5"},items:[{html:"<font size = 4px><b>Nama Rekanan: PT. Kimia Farma</b></font>"},{html:"<font size = 3px>Tangga Pengembalian: 10 - 10 - 2015</font>"},{html:"<font size =2px>No. Faktur:1234567890</font>"}]}];f.callParent(arguments)}},0,["detil-pengembalian-eksternal"],["component","box","container","panel","form","detil-pengembalian-eksternal"],{component:true,box:true,container:true,panel:true,form:true,"detil-pengembalian-eksternal":true},["widget.detil-pengembalian-eksternal"],0,[inventory.eksternal.pengembalian,"Detil"],0));(Ext.cmd.derive("inventory.eksternal.pengembalian.Form",com.Form,{layout:"fit",model:"data.model.PengembalianBarang",initComponent:function(){var f=this;f.items=[{layout:"hbox",defaults:{margin:"2 2 2 2"},border:false,items:[{xtype:"penyedia-combo",params:{STATUS:1},hideTrigger:true,reference:"pbfcombo",width:"40%",allowBlank:false,name:"REKANAN",emptyText:"[ Nama Rekanan ]"},{xtype:"combobox",name:"RUANGAN",allowBlank:false,enterFocus:true,reference:"ruanganasal",enforceMaxLength:true,forceSelection:true,validateOnBlur:true,displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",width:"40%",typeAhead:true,emptyText:"[ Ruangan ]",store:{model:"data.model.Ruangan"},listeners:{select:"onRuanganSelect"}}]}];f.callParent(arguments)},onLoadRecord:function(m,n){try{var e=m.down("[name=RUANGAN]");e.getStore().loadData(m.getPenggunaRuangan())}catch(o){}}},0,["form-pengembalian-eksternal"],["component","box","container","panel","form","com-form","form-pengembalian-eksternal"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-pengembalian-eksternal":true},["widget.form-pengembalian-eksternal"],0,[inventory.eksternal.pengembalian,"Form"],0));(Ext.cmd.derive("inventory.eksternal.pengembalian.FormDetil",com.Form,{controller:"form-pengembalian-detil",layout:{type:"vbox",align:"stretch"},border:false,initComponent:function(){var f=this;f.items=[{xtype:"barang-combo",reference:"barangcombo",allowBlank:false,emptyText:"[ Masukkan Nama Barang ]",name:"BARANG"},{xtype:"numberfield",width:100,hideTrigger:true,allowBlank:false,name:"JUMLAH",emptyText:"[ Jumlah ]",listeners:{specialkey:"onFocusEnter"}},{xtype:"button",ui:"soft-green",text:"Tambah",listeners:{click:"onClickBarang"}}];f.callParent(arguments)},loadCombo:function(n){var e=this,m=e.down("barang-combo"),o=m.getViewModel().get("store");o.queryParams={RUANGAN:n,STATUS:1}}},0,["form-pengembalian-detil"],["component","box","container","panel","form","com-form","form-pengembalian-detil"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-pengembalian-detil":true},["widget.form-pengembalian-detil"],0,[inventory.eksternal.pengembalian,"FormDetil"],0));(Ext.cmd.derive("inventory.eksternal.pengembalian.FormDetilController",Ext.app.ViewController,{onFocusEnter:function(e,f){if(f.getKey()===f.ENTER){var m=this;view=m.getView();value=view.getForm().getValues();if(view.getForm().isValid()){view.fireEvent("addBarang",value);view.getForm().reset()}}},onClickBarang:function(k){var g=this;view=g.getView();value=view.getForm().getValues();if(view.getForm().isValid()){view.fireEvent("addBarang",value);view.getForm().reset()}}},0,0,0,0,["controller.form-pengembalian-detil"],0,[inventory.eksternal.pengembalian,"FormDetilController"],0));(Ext.cmd.derive("inventory.eksternal.pengembalian.List",com.Grid,{viewModel:{stores:{store:{type:"pengembalian-barang-detil-store"}},data:{hideButton:false}},bind:{store:"{store}"},layout:"fit",initComponent:function(){var f=this;f.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1,listeners:{afteredit:"onAfterEdit"}});f.plugins=[f.cellEditing];f.columns=[{text:"Nama Barang",dataIndex:"BARANG",flex:2,renderer:"onRenderBarang"},{text:"Jumlah",dataIndex:"JUMLAH",flex:1,editor:{xtype:"numberfield",hideTrigger:true,allowBlank:false}},{xtype:"widgetcolumn",reference:"gantitarif",width:"5%",onWidgetAttach:function(l,e,m){e.setHidden(Ext.isNumeric(m.get("ID")))},widget:{xtype:"button",iconCls:"x-fa fa-minus-circle",hidden:true,listeners:{click:"onRemoved"}}}];f.dockedItems=[{xtype:"toolbar",dock:"bottom",items:["->",{xtype:"datefield",flex:1,value:new Date()},{xtype:"button",ui:"soft-green",text:"Final",bind:{hidden:"{hideButton}"},listeners:{click:"onFinal"}},{xtype:"button",ui:"soft-blue",iconCls:"x-fa fa-print",text:"Cetak"},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-save",text:"Simpan",bind:{hidden:"{hideButton}"},listeners:{click:"onClickSimpan"}},{xtype:"button",ui:"soft-red",iconCls:"x-fa fa-refresh",text:"Reset",listeners:{click:"onReset"}}]}];f.callParent(arguments)},loadStore:function(l){var k=this,m=k.getViewModel();store=m.get("store");if(l){store.removeAll();store.queryParams={PENGEMBALIAN:l}}store.load()},finalButton:function(l){var k=this,m=k.getViewModel();if(l==2){m.set("hideButton",true)}else{m.set("hideButton",false)}},getData:function(){var m=this,e=m.getViewModel(),o=e.get("store"),n=[];o.each(function(f){n.push(f.getData())});return n}},0,["list-pengembalian-eksternal"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","list-pengembalian-eksternal"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"list-pengembalian-eksternal":true},["widget.list-pengembalian-eksternal"],0,[inventory.eksternal.pengembalian,"List"],0));(Ext.cmd.derive("inventory.eksternal.pengembalian.ListController",Ext.app.ViewController,{onRenderBarang:function(e,o,n){var m=n.get("REFERENSI");rekanan=m?(m.BARANG?m.BARANG.NAMA:""):"";return rekanan}},0,0,0,0,["controller.list-pengembalian-eksternal"],0,[inventory.eksternal.pengembalian,"ListController"],0));(Ext.cmd.derive("inventory.eksternal.pengembalian.ViewModel",Ext.app.ViewModel,{stores:{rekanan:{type:"penyedia-store",queryParams:{STATUS:1},autoLoad:true},barang:{type:"barang-store"}}},0,0,0,0,["viewmodel.workspace-pengembalian-eksternal"],0,[inventory.eksternal.pengembalian,"ViewModel"],0));(Ext.cmd.derive("inventory.eksternal.pengembalian.Workspace",com.Form,{controller:"workspace-pengembalian-eksternal",viewModel:"workspace-pengembalian-eksternal",layout:"border",flex:1,border:true,initComponent:function(){var f=this;f.items=[{region:"north",reference:"form",xtype:"form-pengembalian-eksternal",border:false},{region:"center",ui:"panel-gray",flex:1.5,header:{iconCls:"x-fa fa-list",padding:"5 5 5 2"},title:"Pengembalian Barang",reference:"listbarang",xtype:"list-pengembalian-eksternal"},{region:"east",ui:"panel-gray",header:{iconCls:"x-fa fa-history",padding:"5 5 5 2"},flex:1,collapsible:true,split:true,reference:"listhistory",xtype:"list-histori-pengembalian-eksternal",title:"Histori Pengembalian Barang",listeners:{select:"onSelectHistory"}},{region:"west",ui:"panel-gray",title:"Barang",header:{iconCls:"x-fa fa-file-o",padding:"5 5 5 2"},flex:1,collapsible:true,reference:"formbarang",xtype:"form-pengembalian-detil",split:true,listeners:{addBarang:"onTambahBarang"}}];f.callParent(arguments)},onLoadRecord:function(g){var k=this;form=k.down("form-pengembalian-eksternal");form.createRecord({STATUS:1,TANGGAL:form.getSysdate()})}},0,["workspace-pengembalian-eksternal"],["component","box","container","panel","form","com-form","workspace-pengembalian-eksternal"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-pengembalian-eksternal":true},["widget.workspace-pengembalian-eksternal"],0,[inventory.eksternal.pengembalian,"Workspace"],0));(Ext.cmd.derive("inventory.eksternal.pengembalian.WorkspaceController",Ext.app.ViewController,{onRenderBarang:function(e,o,n){var m=n.get("REFERENSI");barang=m?(m.BARANG?m.BARANG.NAMA:""):"";return barang},onRemoved:function(e,o,n){var m=this.getViewModel();refs=this.getReferences();listbarang=refs.listbarang;listbarang.getStore().removeAt(e.tabIndex)},onTambahBarang:function(o){var f=this,p=f.getReferences(),e=f.getViewModel(),q=e.get("barang");form=p.formfaktur,listbarang=p.listbarang;q.removeAll();q.queryParams={ID:o.BARANG};q.load({callback:function(l,k,g){if(g){var m={BARANG:{ID:l[0].get("ID"),NAMA:l[0].get("NAMA")}};model=Ext.create("data.model.PengembalianBarang",{REFERENSI:m});model.set(o);listbarang.getStore().insert(0,model)}}})},onSelectHistory:function(m,l){var k=this;refs=k.getReferences(),form=refs.form,barang=refs.listbarang;k.dataPemngembalian=l;form.loadRecord(l);barang.loadStore(l.get("ID"));barang.finalButton(l.get("STATUS"))},onClickSimpan:function(k){var g=this;view=g.getView();refs=g.getReferences(),form=refs.form,listbarang=refs.listbarang;databarang=listbarang.getData();rec=form.getRecord();value.PENGEMBALIAN_BARANG_DETIL=databarang;if(form.getForm().isValid()){rec.set(value);rec.showError=true;rec.animateTarget=k;rec.scope=g;rec.save({callback:function(f,e,m){if(m){Ext.toast({html:"Data telah tersimpan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});g.onReset()}}})}},onRuanganSelect:function(m,l){var k=this;view=k.getView();refs=k.getReferences(),formbarang=refs.formbarang;formbarang.loadCombo(l.get("ID"))},onReset:function(){var f=this;view=f.getView();refs=f.getReferences(),listbarang=refs.listbarang,form=refs.form,listhistory=refs.listhistory;form.createRecord({STATUS:1,TANGGAL:form.getSysdate()});listbarang.getStore().removeAll();listhistory.getStore().load()},onFinal:function(k){var g=this;view=g.getView();refs=g.getReferences();rec=form.getRecord();if(rec){if(Ext.isNumeric(rec.get("ID"))){rec.set("STATUS",2);rec.showError=true;rec.animateTarget=k;rec.scope=g;rec.save({callback:function(f,e,m){if(m){Ext.toast({html:"Data telah tersimpan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});g.onReset()}}})}else{Ext.MessageBox.alert("Warning","Anda Tidak Dapat Memfinalkan transaksi ini.",g)}}else{Ext.MessageBox.alert("Warning","Anda Tidak Dapat Memfinalkan transaksi ini.",g)}}},0,0,0,0,["controller.workspace-pengembalian-eksternal"],0,[inventory.eksternal.pengembalian,"WorkspaceController"],0));(Ext.cmd.derive("inventory.eksternal.pengembalian.histori.List",com.Grid,{controller:"list-histori-pengembalian-eksternal",viewModel:{stores:{store:{type:"pengembalian-barang-store",autoLoad:true}}},bind:{store:"{store}"},layout:"fit",columns:[{text:"Nama Rekanan",dataIndex:"REKANAN",renderer:"onRenderRekanan",flex:2},{xtype:"datecolumn",text:"Tanggal Penerimaan",dataIndex:"TANGGAL",flex:1,format:"Y-m-d H:i:s"}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",displayInfo:false}]},0,["list-histori-pengembalian-eksternal"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","list-histori-pengembalian-eksternal"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"list-histori-pengembalian-eksternal":true},["widget.list-histori-pengembalian-eksternal"],0,[inventory.eksternal.pengembalian.histori,"List"],0));(Ext.cmd.derive("inventory.eksternal.pengembalian.histori.ListController",Ext.app.ViewController,{onRenderRekanan:function(e,o,n){var m=n.get("REFERENSI");rekanan=m?(m.REKANAN?m.REKANAN.NAMA:""):"";if(n.get("STATUS")==2){return'<span style="color:red;">'+rekanan+"</span>"}else{return'<span style="color:green;">'+rekanan+"</span>"}}},0,0,0,0,["controller.list-histori-pengembalian-eksternal"],0,[inventory.eksternal.pengembalian.histori,"ListController"],0));(Ext.cmd.derive("inventory.monitoring.Workspace",com.Form,{viewModel:{stores:{store:{type:"stokbarangminimum-store"}}},layout:{type:"vbox",align:"stretch"},items:[{xtype:"monitoring-stokbarangminimum-list",flex:1}],onLoadRecord:function(){var k=this,g=k.down("monitoring-stokbarangminimum-list");g.load();g.start(15000)}},0,["monitoring-workspace"],["component","box","container","panel","form","com-form","monitoring-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"monitoring-workspace":true},["widget.monitoring-workspace"],0,[inventory.monitoring,"Workspace"],0));(Ext.cmd.derive("inventory.monitoring.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.monitoring-workspace"],0,[inventory.monitoring,"WorkspaceController"],0));(Ext.cmd.derive("inventory.monitoring.stokbarangminimum.List",com.Grid,{controller:"monitoring-stokbarangminimum-list",flex:1,viewModel:{data:{listConfig:{autoRefresh:true}},stores:{store:{type:"stokbarangminimum-store"}},formulas:{autoRefreshIcon:function(f){return f("listConfig.autoRefresh")?"x-fa fa-stop":"x-fa fa-play"},tooltipAutoRefresh:function(f){return f("listConfig.autoRefresh")?"Hentikan Perbarui Otomatis":"Jalankan Perbarui Otomatis"}}},cls:"x-br-top",border:true,header:{items:[{xtype:"search-field",cls:"x-text-border",emptyText:"Cari Nama Barang",flex:1,listeners:{search:"onSearch",clear:"onClear"}},{xtype:"combo",reference:"combointerval",width:75,store:{fields:["ID"],data:[{ID:5},{ID:10},{ID:15},{ID:20},{ID:25},{ID:30}]},editable:false,displayField:"ID",valueField:"ID",value:15,bind:{disabled:"{listConfig.autoRefresh}"}},{xtype:"button",enableToggle:true,pressed:true,bind:{iconCls:"{autoRefreshIcon}",tooltip:"{tooltipAutoRefresh}"},toggleHandler:"onToggleRefresh"}]},initComponent:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"ID ",dataIndex:"ID",flex:1,hidden:true},{text:"Barang",dataIndex:"BARANG",flex:4,renderer:"onBarangRender"},{xtype:"templatecolumn",text:"Stok Tersedia",format:"0,00",align:"right",tpl:'<div style="font-weight: bold; white-space:normal !important;">{STOKTERSEDIA}</div>',flex:1},{xtype:"templatecolumn",text:"Stok Minimum",format:"0,00",align:"right",tpl:'<div style="font-weight: bold; color: red; white-space:normal !important;">{REFERENSI.BARANG.STOK}.00</div>',flex:1}];f.callParent(arguments)},columns:[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"ID ",dataIndex:"ID",flex:1,hidden:true},{text:"Barang",dataIndex:"BARANG",flex:4,renderer:"onBarangRender"},{xtype:"templatecolumn",text:"Stok Tersedia",format:"0,00",align:"right",tpl:'<div style="font-weight: bold; white-space:normal !important;">{STOKTERSEDIA}</div>',flex:1},{xtype:"templatecolumn",text:"Stok Minimum",format:"0,00",align:"right",tpl:'<div style="font-weight: bold; color: red; white-space:normal !important;">{REFERENSI.BARANG.STOK}.00</div>',flex:1}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom"}]},0,["monitoring-stokbarangminimum-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","monitoring-stokbarangminimum-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"monitoring-stokbarangminimum-list":true},["widget.monitoring-stokbarangminimum-list"],0,[inventory.monitoring.stokbarangminimum,"List"],0));(Ext.cmd.derive("inventory.monitoring.stokbarangminimum.ListController",Ext.app.ViewController,{onToggleRefresh:function(t,f){var e=this,g=e.getView(),s=e.getReferences(),q=Number(s.combointerval.getValue())*1000;g.setListConfig({autoRefresh:t.pressed});if(t.pressed){g.start(q)}else{g.stop()}},onBarangRender:function(q,k,x,m,p,o){var n=x.get("REFERENSI"),l=n?(n.BARANG?n.BARANG.NAMA:""):"";return l},onSearch:function(p,g){var k=this,o=k.getViewModel(),q=o.get("store");parameter=q.getQueryParams();q.queryParams={QUERY:g,start:0,page:1};q.load()},onClear:function(){var f=this,g=f.getViewModel(),e=g.get("store");delete e.queryParams.QUERY;delete e.queryParams.start;delete e.queryParams.page;e.load()}},0,0,0,0,["controller.monitoring-stokbarangminimum-list"],0,[inventory.monitoring.stokbarangminimum,"ListController"],0));(Ext.cmd.derive("inventory.penerimaan.List",Ext.grid.Panel,{controller:"penerimaan-list",viewModel:{stores:{permintaanstore:{type:"permintaan-store",queryParams:{STATUS:1},autoLoad:true},referensistore:{type:"referensi-store",queryParams:{JENIS:63,ID:1},autoLoad:true}}},cls:"x-br-top",border:false,bind:{store:"{permintaanstore}"},initComponent:function(){var f=this;f.columns=[{text:"Unit Meminta",dataIndex:"ASAL",flex:1,renderer:"onRendereAsal"},{text:"Unit Tujuan",dataIndex:"TUJUAN",flex:1,renderer:"onRendererTujuan"},{xtype:"datecolumn",text:"Tanggal Permintaan",dataIndex:"TANGGAL",flex:1,format:"d-m-Y H:i",align:"center"},{width:80,xtype:"widgetcolumn",widget:{text:"Terima",xtype:"button",ui:"soft-green",listeners:{click:"onClickTerima"}}}],f.dockedItems=[{xtype:"pagingtoolbar",dock:"bottom",displayInfo:false}];f.callParent(arguments)},onLoadRecord:function(e,g){console.log("load");var q=this,f=q.getViewModel(),p=f.get("permintaanstore");if(p){p.removeAll();p.queryParams=e;p.load({callback:function(l){var k=null;if(l){if(l.length>0){f.set("status",l[0].get("STATUS"));k=l[0]}if(Ext.isFunction(g)){}}}})}}},0,["penerimaan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","penerimaan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"penerimaan-list":true},["widget.penerimaan-list"],0,[inventory.penerimaan,"List"],0));(Ext.cmd.derive("inventory.penerimaan.ListController",Ext.app.ViewController,{onRendererTujuan:function(e,o,n){var m=n.get("REFERENSI");m=m?(m.TUJUAN?m.TUJUAN.DESKRIPSI:""):"";return m},onClickTerima:function(n){var m=this,o=m.getView(),e=m.getViewModel();recs=n.getWidgetRecord();Ext.Msg.show({title:"Konfirmasi",message:"Apakah anda ingin menerima barang tersebut?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(f){if(f=="yes"){modpenerimaan=Ext.create("data.model.Penerimaan",{RUANGAN:recs.get("TUJUAN"),JENIS:1,REF:1,TANGGAL:"2015-12-30 10:10:10",STATUS:1});modpenerimaan.save({callback:function(g,k,l){if(l){Ext.toast({html:"Data Diterima",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});recs.set("STATUS",2);recs.save({callback:function(v,t,u){if(u){o.fireEvent("success",u)}}})}}});o.fireEvent("loaddata",recs)}}})},onRendereAsal:function(e,o,n){var m=n.get("REFERENSI");m=m?(m.ASAL?m.ASAL.DESKRIPSI:""):"";return m}},0,0,0,0,["controller.penerimaan-list"],0,[inventory.penerimaan,"ListController"],0));(Ext.cmd.derive("inventory.penerimaan.pengiriman.Detil",com.Grid,{viewModel:{stores:{store:{type:"pengirimandetil-store",queryParams:{PENGIRIMAN:0},autoLoad:true}}},cls:"x-br-top",border:false,reference:"",columns:[{xtype:"templatecolumn",text:"Nama Barang",flex:3,sortable:false,tpl:"<div>{REFERENSI.PERMINTAAN_DETIL.REFERENSI.BARANG.NAMA}</div>"},{xtype:"numbercolumn",text:"Jumlah",dataIndex:"JUMLAH",flex:1,align:"right"},{xtype:"widgetcolumn",align:"center",text:"#",width:70,onWidgetAttach:function(k,m,l){m.setHidden(Ext.isNumeric(l.get("ID")))},widget:{xtype:"button",action:0,iconCls:"x-fa fa-minus-circle",ui:"soft-red",handler:"onBatal"}}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom"}],removeDataStore:function(){this.getViewModel().get("store").removeAll()},setDetilPermintaan:function(l){var k=this,m=k.getViewModel().get("store");if(l){m.removeAll();m.queryParams=l;m.load()}}},0,["penerimaan-pengiriman-detil"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","penerimaan-pengiriman-detil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"penerimaan-pengiriman-detil":true},["widget.penerimaan-pengiriman-detil"],0,[inventory.penerimaan.pengiriman,"Detil"],0));(Ext.cmd.derive("inventory.penerimaan.pengiriman.List",com.Grid,{controller:"penerimaan-pengiriman-list",viewModel:{stores:{store:{type:"pengiriman-store",queryParams:{TUJUAN:0},autoLoad:true}}},cls:"x-br-top",border:false,reference:"",initComponent:function(){var f=this;f.columns=[{text:"Unit Asal Barang",dataIndex:"ASAL",flex:1,renderer:"onRendereAsal"},{text:"Unit Tujuan Barang",dataIndex:"TUJUAN",flex:1,renderer:"onRendererTujuan"},{xtype:"datecolumn",text:"Tanggal Pengiriman",dataIndex:"TANGGAL",flex:1,format:"d-m-Y H:i",align:"center"},{width:100,xtype:"widgetcolumn",widget:{text:"Terima",xtype:"button",ui:"soft-green",listeners:{click:"onClickTerima"}}}],f.dockedItems=[{xtype:"pagingtoolbar",dock:"bottom",bind:{store:"{store}"},displayInfo:false}];f.callParent(arguments)},onLoadRecord:function(f){var e=this,g=e.getViewModel(),o=g.get("store");if(o){o.removeAll();o.queryParams=f;o.load()}}},0,["penerimaan-pengiriman-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","penerimaan-pengiriman-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"penerimaan-pengiriman-list":true},["widget.penerimaan-pengiriman-list"],0,[inventory.penerimaan.pengiriman,"List"],0));(Ext.cmd.derive("inventory.penerimaan.pengiriman.ListController",Ext.app.ViewController,{onRendererTujuan:function(e,o,n){var m=n.get("REFERENSI");m=m?(m.TUJUAN?m.TUJUAN.DESKRIPSI:""):"";return m},onClickTerima:function(o){var f=this,q=f.getView(),e=f.getViewModel();recs=o.getWidgetRecord();var p=recs.get("TUJUAN");Ext.Msg.show({title:"Konfirmasi",message:"Apakah anda yakin ingin menerima barang tersebut?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(g){if(g=="yes"){modpenerimaan=Ext.create("data.model.Penerimaan",{RUANGAN:recs.get("TUJUAN"),JENIS:2,REF:recs.get("NOMOR"),TANGGAL:q.getSysdate(),STATUS:1});modpenerimaan.save({callback:function(k,l,m){if(m){Ext.toast({html:"Data Diterima",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});recs.set("STATUS",2);recs.save({callback:function(v,n,u){if(u){q.fireEvent("success",p)}}})}}})}}})},onRendereAsal:function(e,o,n){var m=n.get("REFERENSI");m=m?(m.ASAL?m.ASAL.DESKRIPSI:""):"";return m}},0,0,0,0,["controller.penerimaan-pengiriman-list"],0,[inventory.penerimaan.pengiriman,"ListController"],0));(Ext.cmd.derive("inventory.penerimaan.permintaan.List",com.Grid,{controller:"penerimaan-permintaan-list",viewModel:{stores:{store:{type:"permintaan-store"}}},cls:"x-br-top",border:false,reference:"",initComponent:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Unit Meminta",dataIndex:"ASAL",flex:1,renderer:"onRendereAsal"},{text:"Unit Tujuan",dataIndex:"TUJUAN",flex:1,renderer:"onRendererTujuan"},{xtype:"datecolumn",text:"Tanggal Permintaan",dataIndex:"TANGGAL",flex:1,format:"d-m-Y H:i",align:"center"},{width:100,xtype:"widgetcolumn",onWidgetAttach:function(g,e,m){e.setDisabled(2==m.get("TERIMA"))},widget:{text:"Terima",xtype:"button",ui:"soft-green",listeners:{click:"onClickTerima"}}}],f.dockedItems=[{xtype:"pagingtoolbar",dock:"bottom",bind:{store:"{store}"},displayInfo:false}];f.callParent(arguments)},onLoadRecord:function(f){var e=this,g=e.getViewModel(),o=g.get("store");if(o){o.removeAll();o.queryParams=f;o.load()}}},0,["penerimaan-permintaan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","penerimaan-permintaan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"penerimaan-permintaan-list":true},["widget.penerimaan-permintaan-list"],0,[inventory.penerimaan.permintaan,"List"],0));(Ext.cmd.derive("inventory.penerimaan.permintaan.ListController",Ext.app.ViewController,{onRendererTujuan:function(e,o,n){var m=n.get("REFERENSI");m=m?(m.TUJUAN?m.TUJUAN.DESKRIPSI:""):"";return m},onClickTerima:function(n){var m=this,o=m.getView(),e=m.getViewModel();recs=n.getWidgetRecord();Ext.Msg.show({title:"Konfirmasi",message:"Apakah anda ingin menerima permintaan barang tersebut?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:n,fn:function(f){if(f=="yes"){recs.set("TERIMA",2);recs.scope=this;recs.save({callback:function(l,g,k){if(k){Ext.toast({headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",html:"Data diterima...",align:"t"});o.fireEvent("loaddata",recs)}}})}}})},onRendereAsal:function(e,o,n){var m=n.get("REFERENSI");m=m?(m.ASAL?m.ASAL.DESKRIPSI:""):"";return m}},0,0,0,0,["controller.penerimaan-permintaan-list"],0,[inventory.penerimaan.permintaan,"ListController"],0));(Ext.cmd.derive("inventory.pengiriman.Detil",Ext.grid.Panel,{controller:"pengiriman-detil",viewModel:{stores:{store:{type:""}}},bind:{store:"{}"},border:false,cls:"x-br-top",bind:{title:"Unit Tujuan : <strong>Apotik Rawat Jalan</strong>"},header:{itemPosition:1,items:[{xtype:"component",bind:{html:"No. Transaksi: <strong>123456</strong>"},margin:"0 5 0 0"}]},initComponent:function(){var f=this;f.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1});f.plugins=[f.cellEditing];f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"Nama Barang",dataIndex:"",name:"",xtype:"",renderer:"",flex:1},{xtype:"numbercolumn",text:"Jumlah Permintaan",name:"",flex:1,dataIndex:""},{xtype:"numbercolumn",name:"",text:"Jumlah Yang Di Kirim",flex:1,dataIndex:""}],f.dockedItems=[{xtype:"toolbar",dock:"bottom",items:["->",{xtype:"datefield",flex:1,value:new Date(),emptyText:"Tanggal Pengiriman Barang"},{xtype:"button",ui:"soft-blue",iconCls:"x-fa fa-print",text:"Cetak"},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-save",text:"Simpan"}]}];f.callParent(arguments)}},0,["pengiriman-detil"],["component","box","container","panel","tablepanel","gridpanel","grid","pengiriman-detil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"pengiriman-detil":true},["widget.pengiriman-detil"],0,[inventory.pengiriman,"Detil"],0));(Ext.cmd.derive("inventory.pengiriman.DetilController",Ext.app.ViewController,{},0,0,0,0,["controller.pengiriman-detil"],0,[inventory.pengiriman,"DetilController"],0));(Ext.cmd.derive("inventory.pengiriman.Links",com.Tab,{activeTab:0,cls:"x-br-top",ui:"header-tab",rec:undefined,initComponent:function(){var f=this;f.callParent(arguments);if(f.app){if(f.app.xpriv("2301",false)){f.add({title:"Pengiriman",xtype:"pengiriman-workspace",border:true})}if(f.app.xpriv("2302",false)){f.add({title:"History Pengiriman Barang",xtype:"pengiriman-history-workspace",border:true})}}},onLoadRecord:function(l){var k=this,m=this.getActiveTab();k.rec=l;if(m){m.onLoadRecord({})}else{if(k.items.getCount()>0){k.setActiveTab(0)}}}},0,["tab-pengiriman"],["component","box","container","panel","tabpanel","com-tab","tab-pengiriman"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"tab-pengiriman":true},["widget.tab-pengiriman"],0,[inventory.pengiriman,"Links"],0));(Ext.cmd.derive("inventory.pengiriman.List",com.Grid,{controller:"list-pengiriman",viewModel:{data:{permintaan:undefined,hidebutton:true,data:undefined},stores:{permintaandetilstore:{type:"permintaan-detil-store"}}},border:false,cls:"x-br-top",bind:{store:"{permintaandetilstore}"},doAfterLoad:Ext.emptyFn,initComponent:function(){var f=this;store=f.getViewModel().get("permintaandetilstore");f.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1,listeners:{afteredit:"afterEdit"}});f.plugins=[f.cellEditing];f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"Nama Barang",dataIndex:"BARANG",renderer:"onRenderNamaBarang",flex:1},{text:"Jumlah Permintaan",flex:1,dataIndex:"JUMLAH"},{text:"Jumlah Yang Di Kirim",flex:1,dataIndex:"JUMLAH_KIRIM",editor:{xtype:"numberfield",allowBlank:false,hideTrigger:true}}],f.dockedItems=[{xtype:"toolbar",dock:"bottom",items:["->",{xtype:"button",ui:"soft-green",bind:{disabled:"{hidebutton}"},iconCls:"x-fa fa-save",text:"Simpan & Cetak",listeners:{click:"onClickSimpan"}},{xtype:"button",ui:"soft-red",bind:{disabled:"{hidebutton}"},iconCls:"x-fa fa-times",text:"Reset",handler:"OnReset"}]}];f.plugins=[f.cellEditing];f.selModel={selType:"cellmodel"};f.callParent(arguments)},loadStore:function(n){var e=this,o=this.getViewModel(),m=o.get("permintaandetilstore");if(n){o.set("permintaan",n);o.set("data",n);m.removeAll();m.queryParams={PERMINTAAN:n.get("NOMOR"),STATUS:1};if(n.get("TERIMA")==1){o.set("hidebutton",true)}else{o.set("hidebutton",false)}m.load()}},setDataTerima:function(l){var k=this,m=k.getViewModel();m.set("data",l)},getData:function(){var e=this,f=e.getViewModel().get("permintaandetilstore"),m=[];f.each(function(g){m.push({JUMLAH:g.get("JUMLAH_KIRIM"),PERMINTAAN_BARANG_DETIL:g.get("ID"),STATUS:1})});return m}},0,["list-pengiriman"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","list-pengiriman"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"list-pengiriman":true},["widget.list-pengiriman"],0,[inventory.pengiriman,"List"],0));(Ext.cmd.derive("inventory.pengiriman.ListController",Ext.app.ViewController,{onRenderNamaBarang:function(e,o,n){var m=n.get("REFERENSI");barang=m?(m.BARANG?m.BARANG.NAMA:""):"";return barang},afterEdit:function(v,g,t){var f=this,u=f.getViewModel().getStore("permintaandetilstore"),q=u.getAt(g.rowIdx),s=q.get("JUMLAH");if(s<g.value){Ext.toast({html:"Jumlah yang dikirim harus kurang atau sama dengan jumlah yang diminta",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});g.record.set("JUMLAH_KIRIM","")}},onClickSimpan:function(k){var g=this;view=g.getView(),datadetil=view.getData(),vm=g.getViewModel();recs=vm.get("data");permintaan=vm.get("permintaan"),modpengiriman=Ext.create("data.model.Pengiriman",{ASAL:permintaan.get("TUJUAN"),TUJUAN:permintaan.get("ASAL"),PERMINTAAN:permintaan.get("NOMOR"),TANGGAL:view.getSysdate(),STATUS:1,PENGIRIMAN_DETIL:datadetil});Ext.Msg.show({title:"Konfirmasi",message:"Apakah anda yakin ingin mengirim barang tersebut?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:k,fn:function(e){if(e=="yes"){modpengiriman.animateTarget=k;modpengiriman.scope=g;modpengiriman.showError=true;modpengiriman.save({callback:function(o,f,n){if(n){Ext.toast({html:"Data Berhasil Disimpan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});view.fireEvent("success",n)}}});modpenerimaan=Ext.create("data.model.Penerimaan",{RUANGAN:recs.get("TUJUAN"),JENIS:1,REF:recs.get("NOMOR"),TANGGAL:view.getSysdate(),STATUS:1});modpenerimaan.save({callback:function(o,f,n){if(n){Ext.toast({html:"Data Diterima",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});recs.set("STATUS",2);recs.save({callback:function(q,l,m){if(m){view.fireEvent("success",m)}}})}}})}}})},OnReset:function(){var g=this,k=g.getViewModel();permintaan=k.get("permintaan");g.getView().fireEvent("onreset",permintaan)}},0,0,0,0,["controller.list-pengiriman"],0,[inventory.pengiriman,"ListController"],0));(Ext.cmd.derive("inventory.pengiriman.Workspace",com.Form,{controller:"pengiriman-workspace",layout:"border",flex:1,border:true,initComponent:function(){var f=this;f.items=[{region:"west",title:"List Permintaan Barang Baru",layout:"border",flex:1,collapsible:true,floatable:true,split:true,header:{iconCls:"x-fa fa-list",padding:"10 10 10 5"},items:[{region:"north",layout:"hbox",defaults:{margin:"2 2 2 2"},items:[{xtype:"combobox",name:"RUANGAN",allowBlank:false,enterFocus:true,reference:"ruanganso",enforceMaxLength:true,forceSelection:true,validateOnBlur:true,flex:1,displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",editable:false,emptyText:"[ Pilih Ruangan Tujuan ]",store:{model:"data.model.Ruangan"},listeners:{specialkey:"onFocusEnter",select:"onSelectRuangan"}}]},{region:"center",xtype:"penerimaan-permintaan-list",reference:"penerimaanlist",border:true,flex:1,listeners:{loaddata:"onLoadData",success:"onTerimaPermintaan",select:"onSelectList"}}]},{region:"center",xtype:"list-pengiriman",flex:1.5,reference:"pengirimandetil",listeners:{success:"onSuccessPengiriman",onreset:"onReset"}}];f.callParent(arguments)},onLoadRecord:function(n){var m=this,o=m.down("penerimaan-permintaan-list"),e=m.down("[name=RUANGAN]");e.getStore().loadData(m.getPenggunaRuangan());o.setParams({TUJUAN:0})}},0,["pengiriman-workspace"],["component","box","container","panel","form","com-form","pengiriman-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pengiriman-workspace":true},["widget.pengiriman-workspace"],0,[inventory.pengiriman,"Workspace"],0));(Ext.cmd.derive("inventory.pengiriman.WorkspaceController",Ext.app.ViewController,{recordSelection:undefined,onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSelectRuangan:function(f,q){var o=this,e=o.getReferences();o.recordSelection=q;if(q){var p={TUJUAN:q.get("ID"),STATUS:1};e.penerimaanlist.onLoadRecord(p)}else{var p=0;e.penerimaanlist.onLoadRecord(p)}},onLoadData:function(o){var f=this,p=f.getReferences(),e=p.pengirimandetil,q=p.penerimaanlist;hide=e.getViewModel();e.setDataTerima(o);if(o){hide.set("hidebutton",false);e.loadStore(o);e.setTitle("No. Transaksi : "+o.get("NOMOR"));q.reload()}},onSuccessPengiriman:function(t){var e=this,g=e.getReferences(),f=g.pengirimandetil,s=f.getViewModel(),q=g.penerimaanlist;s.set("hidebutton",true);f.getStore().removeAll();f.setTitle("No. Transaksi : ");q.reload()},onTerimaPermintaan:function(n){var m=this,o=m.getReferences(),e=o.penerimaanlist;e.reload()},onSelectList:function(m,o){var n=this,e=n.getReferences();n.recordSelection=o;e.pengirimandetil.loadStore(o);e.pengirimandetil.setTitle("No. Transaksi : "+o.get("NOMOR"))},onReset:function(e){var n=this,o=n.getView(),m=n.getReferences();m.pengirimandetil.loadStore(e)}},0,0,0,0,["controller.pengiriman-workspace"],0,[inventory.pengiriman,"WorkspaceController"],0));(Ext.cmd.derive("inventory.pengiriman.history.Detil",com.Grid,{viewModel:{stores:{store:{type:"pengirimandetil-store",queryParams:{PENGIRIMAN:0},autoLoad:true}}},cls:"x-br-top",border:false,reference:"",columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{xtype:"templatecolumn",text:"Nama Barang",flex:3,sortable:false,tpl:"<div>{REFERENSI.PERMINTAAN_DETIL.REFERENSI.BARANG.NAMA}</div>"},{xtype:"templatecolumn",text:"Jumlah Permintaan",flex:1,sortable:false,align:"right",tpl:"<div>{REFERENSI.PERMINTAAN_DETIL.JUMLAH}</div>"},{xtype:"numbercolumn",text:"Jumlah Yang Di Kirim",dataIndex:"JUMLAH",flex:1,align:"right"}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom"}],removeDataStore:function(){this.getViewModel().get("store").removeAll()},setDetilPermintaan:function(l){var k=this,m=k.getViewModel().get("store");if(l){m.removeAll();m.queryParams=l;m.load()}}},0,["pengiriman-history-detil"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","pengiriman-history-detil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"pengiriman-history-detil":true},["widget.pengiriman-history-detil"],0,[inventory.pengiriman.history,"Detil"],0));(Ext.cmd.derive("inventory.pengiriman.history.DetilController",Ext.app.ViewController,{onRenderNamaBarang:function(e,o,n){var m=n.get("REFERENSI");barang=m?(m.PERMINTAAN_DETIL?m.PERMINTAAN_DETIL.REFERENSI.BARANG.NAMA:""):"";return barang}},0,0,0,0,["controller.pengiriman-history-detil"],0,[inventory.pengiriman.history,"DetilController"],0));(Ext.cmd.derive("inventory.pengiriman.history.List",com.Grid,{controller:"pengiriman-history-list",viewModel:{stores:{store:{type:"pengiriman-store"}}},cls:"x-br-top",border:false,bind:{store:"{store}"},initComponent:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Unit Meminta",dataIndex:"ASAL",flex:1,renderer:"onAsal"},{text:"Unit Tujuan",dataIndex:"TUJUAN",flex:1,renderer:"onTujuan"},{text:"No. Transaksi",dataIndex:"NOMOR",flex:1},{xtype:"datecolumn",text:"Tanggal Pengiriman",dataIndex:"TANGGAL",flex:1,format:"d-m-Y H:i:s",align:"center"},{text:"Status",dataIndex:"STATUS",flex:1,renderer:"onRenderStatusPengiriman"},{xtype:"widgetcolumn",align:"center",text:"#",width:70,widget:{xtype:"fieldcontainer",flex:1,defaults:{padding:2},items:[{xtype:"button",action:0,iconCls:"x-fa fa-print",text:"Cetak",ui:"soft-blue",handler:"onClickCetakBuktiPengiriman"}]}}],f.dockedItems=[{xtype:"pagingtoolbar",dock:"bottom",bind:{store:"{store}"},displayInfo:false}];f.callParent(arguments)},onLoadRecord:function(f){var e=this,g=e.getViewModel(),o=g.get("store");if(o){o.removeAll();o.queryParams=f;o.load()}}},0,["pengiriman-history-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","pengiriman-history-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"pengiriman-history-list":true},["widget.pengiriman-history-list"],0,[inventory.pengiriman.history,"List"],0));(Ext.cmd.derive("inventory.pengiriman.history.ListController",Ext.app.ViewController,{onTujuan:function(e,o,n){var m=n.get("REFERENSI");tujuan=m?(m.TUJUAN?m.TUJUAN.DESKRIPSI:""):"";return tujuan},onAsal:function(e,o,n){var m=n.get("REFERENSI");asal=m?(m.ASAL?m.ASAL.DESKRIPSI:""):"";return asal},onRenderStatusPengiriman:function(f){if(f==1){return'<span style="color:red;"> Pending </span>'}else{if(f==2){return'<span style="color:green;"> Proses </span>'}else{return'<span style="color:black;"> Selesai </span>'}}return f},onClickCetakBuktiPengiriman:function(f){var e=this,p=e.getView(),q=e.getViewModel();recs=f.ownerCt.getWidgetRecord();var o=recs.get("NOMOR");this.cetakBuktiPengiriman(o)},privates:{cetakBuktiPengiriman:function(f){console.log(f);var v=this,g=v.getView(),s="Word",u="docx",e=true,t="Cetak Bukti Pengiriman :"+f;Ext.Msg.show({title:t,message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:v,fn:function(k){if(k!="yes"){s="Pdf";u="pdf";e=false}g.cetak({NAME:"inventory.CetakBuktiPengirimanBarang",TYPE:s,EXT:u,PARAMETER:{PNOMOR:f},REQUEST_FOR_PRINT:e,PRINT_NAME:"CetakRincian"},function(l){g.openDialog("Print Preview",true,0,0,{xtype:"panel",title:t},function(m,n){n.down("panel").update("<iframe style='width: 100%; height: 100%' src='"+l+"'></iframe>")})})}})}}},0,0,0,0,["controller.pengiriman-history-list"],0,[inventory.pengiriman.history,"ListController"],0));(Ext.cmd.derive("inventory.pengiriman.history.Workspace",com.Form,{controller:"pengiriman-history-workspace",layout:"border",flex:1,border:true,initComponent:function(){var f=this;f.items=[{region:"west",title:"History Pengiriman Barang",layout:"border",flex:1,collapsible:true,floatable:true,split:true,header:{iconCls:"x-fa fa-list",padding:"10 10 10 5"},items:[{region:"north",layout:"hbox",defaults:{margin:"2 2 2 2"},items:[{xtype:"combobox",name:"RUANGAN",allowBlank:false,enterFocus:true,reference:"ruanganso",enforceMaxLength:true,forceSelection:true,validateOnBlur:true,flex:1,displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",editable:false,emptyText:"[ Pilih Ruangan Tujuan ]",store:{model:"data.model.Ruangan"},listeners:{specialkey:"onFocusEnter",select:"onSelectHistoryPengiriman"}}]},{region:"center",xtype:"pengiriman-history-list",reference:"pengirimanhistorylist",border:true,flex:1,listeners:{select:"onSelectList"}}]},{region:"center",xtype:"pengiriman-history-detil",flex:1.5,reference:"pengirimanhistorydetil"}];f.callParent(arguments)},onLoadRecord:function(n){var m=this,o=m.down("pengiriman-history-list"),e=m.down("[name=RUANGAN]");e.getStore().loadData(m.getPenggunaRuangan());o.setParams({TUJUAN:0})},setRuangan:function(l){var k=this,m=k.down("pengiriman-history-list");m.onLoadRecord({TUJUAN:l})}},0,["pengiriman-history-workspace"],["component","box","container","panel","form","com-form","pengiriman-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pengiriman-history-workspace":true},["widget.pengiriman-history-workspace"],0,[inventory.pengiriman.history,"Workspace"],0));(Ext.cmd.derive("inventory.pengiriman.history.WorkspaceController",Ext.app.ViewController,{recordSelection:undefined,onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSelectHistoryPengiriman:function(e,p){var f=this,q=f.getReferences();f.recordSelection=p;if(p){var o={ASAL:p.get("ID")};q.pengirimanhistorylist.onLoadRecord(o)}else{var o=0;q.pengirimanhistorylist.onLoadRecord(o)}},onSelectList:function(k,m){console.log("select");var l=this;if(m){l.getReferences().pengirimanhistorydetil.setDetilPermintaan({PENGIRIMAN:m.get("NOMOR")});l.getReferences().pengirimanhistorydetil.setTitle("No. Transaksi : "+m.get("NOMOR"))}}},0,0,0,0,["controller.pengiriman-history-workspace"],0,[inventory.pengiriman.history,"WorkspaceController"],0));(Ext.cmd.derive("inventory.permintaan.Form",com.Form,{controller:"permintaan-form",model:"data.model.PermintaanDetil",viewModel:{stores:{kategoristore:{type:"kategori-store",queryParams:{JENIS:1,STATUS:1},autoLoad:true},paketstore:{type:"tindakan-paket-farmasi-store"}},data:{setRUANGAN:undefined,setKATEGORI_BARANG:1,setSTATUS:1}},layout:{type:"vbox",align:"stretch"},bodyPadding:5,initComponent:function(){var f=this;f.items=[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},defaults:{hideLabel:"true",margin:"0 0 0 5"},items:[{xtype:"combo",name:"KATEGORY",allowBlank:false,queryMode:"local",reference:"kategory",bind:{store:"{kategoristore}",value:"{KATEGORI_BARANG}"},emptyText:"[ NAMA KATEGORY ]",displayField:"NAMA",valueField:"ID",enterFocus:true,disabled:true,listeners:{select:"onSelectKategori"}},{xtype:"barang-combo",emptyText:"[ Item Barang ]",enterFocus:true,flex:1,enforceMaxLength:true,forceSelection:true,validateOnBlur:true,allowBlank:false,reference:"barangcombo",name:"BARANG",disabled:true},{xtype:"numberfield",hideTrigger:true,enterFocus:true,emptyText:"[ Jumlah ]",allowBlank:false,width:100,reference:"jumlahbarang",name:"JUMLAH",listeners:{specialkey:"onFocusEnter"},disabled:true},{xtype:"button",ui:"soft-blue",iconCls:"x-fa fa-save",reference:"btnaddbarangpermintaan",handler:"AddBarangPermintaan",disabled:true},{xtype:"component",flex:1},{xtype:"paket-tindakan-farmasi-combo",emptyText:"[ Paket ]",enterFocus:true,flex:1,reference:"paketcombo",name:"PAKET",listeners:{select:"onSelectPaket"}},{xtype:"button",ui:"soft-blue",iconCls:"x-fa fa-save",reference:"btnaddbarangpaketpermintaan",handler:"AddBarangPaketPermintaan"}]}];f.callParent(arguments)},onBeforeGetRecord:function(m,n){var o=m.down("barang-combo").getSelection(),e=m.down("[reference=jumlahbarang]").getValue();n.REFERENSI={};if(o){n.REFERENSI=o.data.REFERENSI}},setDisabledForm:function(o){var f=this,e=f.getViewModel(),p=f.down("barang-combo"),q=p.getViewModel().get("store");p.setDisabled(o);f.down("[reference=jumlahbarang]").setDisabled(false);f.down("[reference=btnaddbarangpermintaan]").setDisabled(false);f.down("barang-combo").setDisabled(false);f.down("[reference=kategory]").setDisabled(false);q.queryParams={RUANGAN:e.get("setRUANGAN"),KATEGORI_BARANG:e.get("setKATEGORI_BARANG"),STATUS:e.get("setSTATUS")}},setLoadData:function(l){var k=this,m=k.getViewModel().get("paketstore");m.removeAll();m.queryParams=m.queryParams||{};m.queryParams={TINDAKAN:l,STATUS:1};m.load()},getData:function(){var e=this,o=e.getViewModel().get("paketstore"),f=e.getViewModel().get("record"),n=[];o.each(function(k){var g={BARANG:k.data.BARANG,JUMLAH:k.data.JUMLAH,REFERENSI:k.data.REFERENSI};n.push(g);f.set(n)});console.log(n);return n}},0,["permintaan-form"],["component","box","container","panel","form","com-form","permintaan-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"permintaan-form":true},["widget.permintaan-form"],0,[inventory.permintaan,"Form"],0));(Ext.cmd.derive("inventory.permintaan.FormController",Ext.app.ViewController,{onFocusEnter:function(k,e){if(e.getKey()===e.ENTER){this.getView().fireEvent("addbarangpermintaan")}},AddBarangPermintaan:function(){this.getView().fireEvent("addbarangpermintaan")},AddBarangPaketPermintaan:function(){this.getView().fireEvent("addbarangpaketpermintaan")},onBeforeQuery:function(f){f.combo.getStore().removeAll()},onSelectKategori:function(m,l){var k=this;view=k.getView(),refs=k.getReferences(),barangcombo=refs.barangcombo;barangcombo.getStore().removeAll();barangcombo.select(null);k.getViewModel().set("setKATEGORI_BARANG",l.get("ID"));view.setDisabledForm("rec")},onSelectPaket:function(m,l){var k=this;view=k.getView();console.log(l.get("ID"));view.setLoadData(l.get("ID"))}},0,0,0,0,["controller.permintaan-form"],0,[inventory.permintaan,"FormController"],0));(Ext.cmd.derive("inventory.permintaan.Links",com.Tab,{activeTab:0,cls:"x-br-top",ui:"header-tab",rec:undefined,initComponent:function(){var f=this;f.callParent(arguments);if(f.app){if(f.app.xpriv("2301",false)){f.add({title:"Permintaan",xtype:"permintaan-workspace",border:true})}if(f.app.xpriv("2302",false)){f.add({title:"Penerimaan Barang Baru",xtype:"permintaan-terima-workspace",border:true})}}},onLoadRecord:function(l){var k=this,m=this.getActiveTab();k.rec=l;if(m){m.onLoadRecord({})}else{if(k.items.getCount()>0){k.setActiveTab(0)}}}},0,["tab-permintaan"],["component","box","container","panel","tabpanel","com-tab","tab-permintaan"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"tab-permintaan":true},["widget.tab-permintaan"],0,[inventory.permintaan,"Links"],0));(Ext.cmd.derive("inventory.permintaan.List",com.Grid,{controller:"permintaan-list",viewModel:{stores:{store:{type:"permintaan-detil-store"}}},cls:"x-br-top",border:false,reference:"",columns:[{xtype:"templatecolumn",text:"Nama Barang",flex:3,sortable:false,tpl:"<div>{REFERENSI.BARANG.NAMA}</div>"},{xtype:"numbercolumn",text:"Jumlah",dataIndex:"JUMLAH",flex:1,align:"right"},{xtype:"widgetcolumn",align:"center",text:"#",width:70,onWidgetAttach:function(k,m,l){m.setHidden(Ext.isNumeric(l.get("ID")))},widget:{xtype:"button",action:0,iconCls:"x-fa fa-minus-circle",ui:"soft-red",handler:"onBatal"}}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",items:["->",{xtype:"button",ui:"soft-red",iconCls:"x-fa fa-save",text:"Reset",handler:"OnResetPermintaan"},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-save",text:"Cetak & Final",reference:"btnOnFinalPermintaan",disabled:false,handler:"FinalPermintaan"}]}],getData:function(){var e=this,f=e.getViewModel().get("store"),m=[];f.each(function(g){m.push(g.data)});return m},addRow:function(m){var e=this,f=e.getViewModel().get("store");f.add(m)},removeDataStore:function(){this.getViewModel().get("store").removeAll()},removeAnotherModels:function(){var m=this.getViewModel().get("store"),f=[];m.each(function(g){if(Ext.getClassName(g)!="data.model.PermintaanDetil"){f.push(g)}});var e=new Ext.util.DelayedTask(function(){m.remove(f)});e.delay(100)},setDetilPermintaan:function(n){var m=this,e=m.down("[reference=btnOnFinalPermintaan]"),o=m.getViewModel().get("store");if(n){o.removeAll();o.queryParams=n;o.load();e.setDisabled(true)}},setAktif:function(l){var k=this,m=k.down("[reference=btnOnFinalPermintaan]");if(l){m.setDisabled(false)}}},0,["permintaan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","permintaan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"permintaan-list":true},["widget.permintaan-list"],0,[inventory.permintaan,"List"],0));(Ext.cmd.derive("inventory.permintaan.ListController",Ext.app.ViewController,{onBatal:function(m){var l=this,k=l.getViewModel();view=l.getView();rec=m.getWidgetRecord();k.get("store").remove(rec)},FinalPermintaan:function(){this.getView().fireEvent("finalpermintaan")},OnResetPermintaan:function(){this.getView().fireEvent("resetpermintaan")}},0,0,0,0,["controller.permintaan-list"],0,[inventory.permintaan,"ListController"],0));(Ext.cmd.derive("inventory.permintaan.Widget",com.Form,{model:"data.model.Permintaan",layout:{type:"vbox",align:"stretch"},border:false,initComponent:function(){var f=this;f.items=[{layout:{type:"hbox",align:"stretch"},border:false,items:[{title:"Asal",flex:1,defaults:{margin:"5 5 5 5"},layout:{type:"vbox",align:"stretch"},items:[{layout:{type:"hbox",align:"stretch"},border:false,items:[{name:"TANGGAL",reference:"tanggal",xtype:"datefield",emptyText:"[Pilih Tanggal Order]",format:"d/m/Y",flex:1,margin:"0 5 0 0",hideTrigger:true},{name:"WAKTU",reference:"waktu",xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",format:"H:i:s",hideTrigger:true,flex:1}]},{xtype:"combobox",name:"ASAL",allowBlank:false,enterFocus:true,reference:"ruanganasal",enforceMaxLength:true,forceSelection:true,validateOnBlur:true,flex:1,displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",typeAhead:true,emptyText:"[Ruangan ASAL]",store:{model:"data.model.Ruangan"},listeners:{specialkey:"onFocusEnter"}}]},{xtype:"ruangan-selection",title:"Tujuan",flex:1,notJenisKunjungan:[-1],reference:"ruangantujuan",name:"TUJUAN",hideTrigger:true,listeners:{selected:"onSelectTujuanRuangan"}}]}];f.callParent(arguments)},onLoadRecord:function(e,f){try{var s=e.down("[name=ASAL]"),t=e.down("[reference=waktu]"),q=e.down("ruangan-selection");s.getStore().loadData(e.getPenggunaRuangan());t.setValue(e.getSysdate());q.loadRecord(null)}catch(g){}},onBeforeGetRecord:function(k,g){tgl=k.down("[reference=tanggal]").getValue(),wkt=k.down("[reference=waktu]").getValue();tgl.setHours(wkt.getHours());tgl.setMinutes(wkt.getMinutes());tgl.setSeconds(wkt.getSeconds());g.TANGGAL=tgl}},0,["permintaan-widget"],["component","box","container","panel","form","com-form","permintaan-widget"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"permintaan-widget":true},["widget.permintaan-widget"],0,[inventory.permintaan,"Widget"],0));(Ext.cmd.derive("inventory.permintaan.WidgetController",Ext.app.ViewController,{onSelectRuaganTujuan:function(m,l){console.log("select onSelectRuaganTujuan");var k=this;view=k.getView(),refs=k.getReferences();console.log(m);k.getViewModel().set("setKATEGORI_BARANG",m);k.setDisabledForm("rec")}},0,0,0,0,["controller.permintaan-widget"],0,[inventory.permintaan,"WidgetController"],0));(Ext.cmd.derive("inventory.permintaan.Workspace",com.Form,{controller:"permintaan-workspace",layout:"border",border:false,initComponent:function(){var f=this;f.items=[{region:"center",xtype:"form",flex:1,layout:"border",bodyPadding:2,items:[{region:"north",items:[{xtype:"permintaan-widget",reference:"permintaanwidget"},{xtype:"permintaan-form",reference:"permintaanform",listeners:{addbarangpermintaan:"onAddBarangPermintaan",addbarangpaketpermintaan:"onAddBarangPaketPermintaan"}}]},{region:"center",xtype:"permintaan-list",reference:"permintaanlist",flex:1,listeners:{finalpermintaan:"onFinalPermintaan",resetpermintaan:"onReset"}}]},{xtype:"permintaan-history-workspace",region:"east",title:"History Permintaan Barang",reference:"permintaanhistorylist",collapsible:true,collapsed:true,floatable:true,split:true,flex:1,header:{iconCls:"x-fa fa-list",padding:"10 10 10 5"},listeners:{selecthistorypermintaanlist:"onSelectHistoryPermintaan"}}];f.callParent(arguments)},onLoadRecord:function(f){var s=this,q=s.down("permintaan-form"),g=s.down("permintaan-list"),t=s.down("permintaan-widget"),e=s.down("permintaan-history-workspace");g.setParams({PERMINTAAN:""});e.onLoadRecord({});q.createRecord({});t.createRecord({TANGGAL:s.getSysdate()});t.focus("ASAL")},setRuangan:function(k){var m=this,l=m.down("penerimaan-pengiriman-list");l.onLoadRecord({TUJUAN:k})}},0,["permintaan-workspace"],["component","box","container","panel","form","com-form","permintaan-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"permintaan-workspace":true},["widget.permintaan-workspace"],0,[inventory.permintaan,"Workspace"],0));(Ext.cmd.derive("inventory.permintaan.WorkspaceController",Ext.app.ViewController,{recordSelection:undefined,onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSelectHistoryPermintaan:function(k,m){var l=this;if(m){l.getReferences().permintaanlist.setDetilPermintaan({PERMINTAAN:m.get("NOMOR")})}},onSelectRuangan:function(f,q){var o=this,e=o.getReferences();o.recordSelection=q;if(q){var p={ASAL:q.get("ID"),STATUS:1};e.penerimaanlist.onLoadRecord(p)}else{var p=0;e.penerimaanlist.onLoadRecord(p)}o.getView().setRuangan(p)},onSelectTujuanRuangan:function(f,q){var o=this,e=o.getReferences();if(f){var p=f.get("ID");e.permintaanform.getViewModel().set("setRUANGAN",p);e.permintaanform.setDisabledForm("rec");e.permintaanlist.setAktif({})}},onAddBarangPermintaan:function(p){var f=this,q=f.getView(),e=f.getReferences(),g=e.permintaanform.getRecord();if(g){e.permintaanlist.addRow(g);e.permintaanform.createRecord({});e.permintaanform.focus("BARANG")}},onAddBarangPaketPermintaan:function(p){var f=this,q=f.getView(),e=f.getReferences(),g=e.permintaanform.getData();console.log(g);if(g){e.permintaanlist.addRow(g);e.permintaanform.createRecord({});e.permintaanform.focus("PAKET")}},onFinalPermintaan:function(q){var f=this,p=f.getReferences(),o=p.permintaanwidget.getRecord(),e=p.permintaanlist.getData();o.set("TUJUAN",o.get("SUBUNIT"));if(o&&e.length>0){o.set("PERMINTAAN_DETIL",e);p.permintaanwidget.save(q,{success:"Permintaan anda telah terkirim ke tujuan"},function(k,l,g){if(g){f.getView().fireEvent("refreshitems");f.onReset()}})}},onReset:function(){var g=this,k=g.getReferences();k.permintaanform.reset();k.permintaanwidget.reset();k.permintaanhistorylist.onLoadRecord({});k.permintaanwidget.createRecord({TANGGAL:g.getView().getSysdate()});k.permintaanwidget.focus("ASAL");k.permintaanform.focus("BARANG");k.permintaanlist.removeDataStore()},onTerimaPermintaan:function(){var l=this,m=l.getReferences(),k=m.penerimaanlist;k.onLoadRecord({STATUS:1})}},0,0,0,0,["controller.permintaan-workspace"],0,[inventory.permintaan,"WorkspaceController"],0));(Ext.cmd.derive("inventory.permintaan.history.List",com.Grid,{controller:"permintaan-history-list",viewModel:{stores:{store:{type:"permintaan-store",queryParams:{ASAL:0},autoLoad:true}}},cls:"x-br-top",border:false,initComponent:function(){var f=this;f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"Unit Tujuan",dataIndex:"TUJUAN",flex:1,renderer:"onRendererTujuan"},{xtype:"numbercolumn",text:"No. Transaksi",dataIndex:"NOMOR",flex:1,align:"right"},{xtype:"datecolumn",text:"Tanggal Permintaan",dataIndex:"TANGGAL",flex:1,format:"d-m-Y H:i:s",align:"center"},{text:"Status",dataIndex:"STATUS",renderer:"onRenderStatusPermintaan",flex:1},{xtype:"widgetcolumn",align:"center",text:"#",width:70,widget:{xtype:"fieldcontainer",flex:1,defaults:{padding:2},items:[{xtype:"button",action:0,iconCls:"x-fa fa-print",text:"Cetak",ui:"soft-blue",handler:"onClickCetak"}]}},{flex:1,xtype:"widgetcolumn",align:"center",widget:{xtype:"fieldcontainer",defaults:{padding:2,margin:"0 2 1 0"},items:[{xtype:"button",action:0,text:"Dibatalkan",ui:"soft-blue",width:75,hidden:true},{xtype:"button",action:1,text:"Proses",ui:"soft-green",width:75,hidden:true},{xtype:"button",text:"Batalkan",action:2,ui:"soft-red",width:75,handler:"onBatalPermintaan",hidden:true}]},onWidgetAttach:function(t,e,g){var s=g.get("STATUS"),u=e.down("[action=1]"),q=e.down("[action=2]");batalkan=e.down("[action=0]");q.setHidden(s!=1);u.setHidden(s!=2);batalkan.setHidden(s!=0)}}],f.dockedItems=[{xtype:"pagingtoolbar",dock:"bottom",bind:{store:"{store}"},displayInfo:false}];f.callParent(arguments)},onLoadRecord:function(n){var m=this,e=m.getViewModel(),o=e.get("store");if(o){o.removeAll();o.queryParams=o.queryParams||{};if(n){o.queryParams=n}o.load()}}},0,["permintaan-history-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","permintaan-history-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"permintaan-history-list":true},["widget.permintaan-history-list"],0,[inventory.permintaan.history,"List"],0));(Ext.cmd.derive("inventory.permintaan.history.ListController",Ext.app.ViewController,{onRendererTujuan:function(e,o,n){var m=n.get("REFERENSI");m=m?(m.TUJUAN?m.TUJUAN.DESKRIPSI:""):"";return m},onRendereAsal:function(e,o,n){var m=n.get("REFERENSI");m=m?(m.ASAL?m.ASAL.DESKRIPSI:""):"";return m},onRenderStatusPermintaan:function(f){if(f==1){return'<span style="color:red;"> Pending </span>'}else{if(f==2){return'<span style="color:green;"> Proses </span>'}else{return'<span style="color:black;"> Selesai </span>'}}return f},onRenderStatusBatal:function(f){if(f==1){return'<span style="color:red;"> Pending </span>'}else{if(f==2){return'<span style="color:green;"> Proses </span>'}else{return'<span style="color:black;"> Selesai </span>'}}return f},onBatalPermintaan:function(g){var f=this,e=f.getStore("store"),o=g.ownerCt.getWidgetRecord();o.showError=true;o.animateTarget=g;o.scope=f;Ext.Msg.show({title:"Pembatalan Permintaan",message:"Anda yakin ingin membatalkan Permintaan Barang Ini ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:g,fn:function(k){if(k==="yes"){o.set("STATUS",0);o.save({callback:function(l,m,n){if(n){Ext.toast({html:"Pembatalan Permintaan Berhasil",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});e.load()}else{o.set("STATUS",1)}}})}else{o.set("STATUS",1)}}})},onClickCetak:function(f){var e=this,p=e.getView(),q=e.getViewModel();recs=f.ownerCt.getWidgetRecord();var o=recs.get("NOMOR");this.cetakBuktiPermintaan(o)},privates:{cetakBuktiPermintaan:function(f){console.log(f);var v=this,g=v.getView(),s="Word",u="docx",e=true,t="Cetak Bukti Permintaan";Ext.Msg.show({title:t,message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:v,fn:function(k){if(k!="yes"){s="Pdf";u="pdf";e=false}g.cetak({NAME:"inventory.CetakBuktiPermintaanBarang",TYPE:s,EXT:u,PARAMETER:{PNOMOR:f},REQUEST_FOR_PRINT:e,PRINT_NAME:"CetakRincian"},function(l){g.openDialog("Print Preview",true,0,0,{xtype:"panel",title:t},function(m,n){n.down("panel").update("<iframe style='width: 100%; height: 100%' src='"+l+"'></iframe>")})})}})}}},0,0,0,0,["controller.permintaan-history-list"],0,[inventory.permintaan.history,"ListController"],0));(Ext.cmd.derive("inventory.permintaan.history.Workspace",com.Form,{controller:"permintaan-history-workspace",layout:"border",border:false,initComponent:function(){var f=this;f.items=[{region:"north",xtype:"form",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",name:"RUANGANAPOTIK",allowBlank:false,enterFocus:true,reference:"ruanganapotik",enforceMaxLength:true,forceSelection:true,validateOnBlur:true,flex:1,displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",editable:false,emptyText:"[ Ruangan / Depo]",store:{model:"data.model.Ruangan"},listeners:{select:"onSelectHistoryRuanganPermintaan"}}]},{region:"center",xtype:"permintaan-history-list",reference:"historypermintaanlist",border:true,flex:1,listeners:{select:"onSelectListHistory"}}];f.callParent(arguments)},onLoadRecord:function(l){var k=this,m=k.down("[name=RUANGANAPOTIK]");m.getStore().loadData(k.getPenggunaRuangan())}},0,["permintaan-history-workspace"],["component","box","container","panel","form","com-form","permintaan-history-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"permintaan-history-workspace":true},["widget.permintaan-history-workspace"],0,[inventory.permintaan.history,"Workspace"],0));(Ext.cmd.derive("inventory.permintaan.history.WorkspaceController",Ext.app.ViewController,{recordSelection:undefined,onSelectListHistory:function(g,k){this.getView().fireEvent("selecthistorypermintaanlist",g,k)},onSelectHistoryRuanganPermintaan:function(e,p){console.log("select ruangan");var o=this,q=o.getReferences();o.recordSelection=p;if(p){var f={ASAL:p.get("ID")};q.historypermintaanlist.onLoadRecord(f)}else{var f=0;q.historypermintaanlist.onLoadRecord(f)}}},0,0,0,0,["controller.permintaan-history-workspace"],0,[inventory.permintaan.history,"WorkspaceController"],0));(Ext.cmd.derive("inventory.permintaan.terima.Workspace",com.Form,{controller:"permintaan-terima-workspace",layout:"border",border:true,initComponent:function(){var f=this;f.items=[{region:"west",title:"List",layout:"border",flex:1,border:true,items:[{region:"north",layout:"hbox",defaults:{margin:"2 2 2 2"},items:[{xtype:"combobox",name:"RUANGANAPOTIK",allowBlank:false,enterFocus:true,reference:"ruanganapotik",enforceMaxLength:true,forceSelection:true,validateOnBlur:true,displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",editable:false,flex:1,emptyText:"[ Pilih Ruangan Penerima ]",store:{model:"data.model.Ruangan"},listeners:{select:"onSelectRuanganPenerima"}}]},{region:"center",xtype:"penerimaan-pengiriman-list",reference:"penerimaanlist",border:true,flex:1,listeners:{success:"onTerimaPengiriman",select:"onSelectTerimaPengiriman"}}]},{region:"center",flex:1,border:true,title:"Detil",xtype:"penerimaan-pengiriman-detil",reference:"penerimaanlistdetil"}];f.callParent(arguments)},onLoadRecord:function(g){var k=this;ruanganDepo=k.down("[name=RUANGANAPOTIK]");ruanganDepo.getStore().loadData(k.getPenggunaRuangan())}},0,["permintaan-terima-workspace"],["component","box","container","panel","form","com-form","permintaan-terima-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"permintaan-terima-workspace":true},["widget.permintaan-terima-workspace"],0,[inventory.permintaan.terima,"Workspace"],0));(Ext.cmd.derive("inventory.permintaan.terima.WorkspaceController",Ext.app.ViewController,{recordSelection:undefined,onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSelectRuanganPenerima:function(e,p){var o=this,q=o.getReferences();o.recordSelection=p;if(p){var f={TUJUAN:p.get("ID"),STATUS:1};q.penerimaanlist.onLoadRecord(f)}else{var f=0;q.penerimaanlist.onLoadRecord(f)}},onSelectTerimaPengiriman:function(k,m){console.log("select");var l=this;if(m){l.getReferences().penerimaanlistdetil.setDetilPermintaan({PENGIRIMAN:m.get("NOMOR")})}},onTerimaPengiriman:function(o){var e=this,p=e.getReferences(),f=p.penerimaanlistdetil;terima=p.penerimaanlist;var q={TUJUAN:o,STATUS:1};terima.onLoadRecord(q);f.removeDataStore({})}},0,0,0,0,["controller.permintaan-terima-workspace"],0,[inventory.permintaan.terima,"WorkspaceController"],0));(Ext.cmd.derive("inventory.stokbarangruangan.Workspace",com.Form,{controller:"stok-barang-ruangan-workspace",layout:"border",initComponent:function(){var f=this;f.items=[{xtype:"barang-ruangan-list",region:"center",reference:"barangruanganlist",header:{items:[{xtype:"combobox",name:"RUANGAN",allowBlank:false,enterFocus:true,reference:"ruanganasal",enforceMaxLength:true,forceSelection:true,validateOnBlur:true,flex:1,displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",emptyText:"[Ruangan]",editable:false,store:{model:"data.model.Ruangan"},listeners:{scope:f.getController(),select:"onSelectRuangan"}}]}}];f.callParent(arguments)},onLoadRecord:function(){try{var f=this,p=f.down("[name=RUANGAN]"),t=f.down("barang-ruangan-list"),s=null;if(store){var q=f.getPenggunaRuangan();p.getStore().loadData(q);if(q.length>0){s=Ext.create("data.model.Ruangan",q[0]);p.select(s);f.focus("RUANGAN")}}t.setParams({RUANGAN:s?s.get("ID"):"",STATUS:1});t.load()}catch(g){}}},0,["stok-barang-ruangan-workspace"],["component","box","container","panel","form","com-form","stok-barang-ruangan-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"stok-barang-ruangan-workspace":true},["widget.stok-barang-ruangan-workspace"],0,[inventory.stokbarangruangan,"Workspace"],0));(Ext.cmd.derive("inventory.stokbarangruangan.WorkspaceController",Ext.app.ViewController,{onSelectRuangan:function(e,n){var m=this,o=m.lookupReference("barangruanganlist");if(n){o.setParams({RUANGAN:n.get("ID")});o.load()}}},0,0,0,0,["controller.stok-barang-ruangan-workspace"],0,[inventory.stokbarangruangan,"WorkspaceController"],0));(Ext.cmd.derive("inventory.stokopname.Form",com.Form,{controller:"stok-opname-form",viewModel:{data:{minDate:null}},layout:"fit",border:false,initComponent:function(){var f=this;f.items=[{layout:"hbox",defaults:{margin:"2 2 2 2",border:false},border:false,flex:1,items:[{xtype:"hiddenfield",name:"RUANGAN",reference:"ruanganstokopname"},{name:"TANGGAL",reference:"tanggal",flex:1,xtype:"datefield",emptyText:"[Pilih Periode Stok Opname]",format:"Y-m-d",bind:{minValue:"{minDate}"},maxValue:f.getSysdate(),allowBlank:false},{xtype:"button",ui:"soft-blue",text:"Create",reference:"btnprosesSO",iconCls:"x-fa fa-sign-in",handler:"onProsesSO",disabled:true}]}];f.callParent(arguments)},onLoadRecord:function(f){var e=this,p=e.down("[reference=btnprosesSO]"),o=e.down("[reference=ruanganstokopname]"),q=e.down("[reference=waktu]");if(f==0){p.setDisabled(true);o.setValue(0)}else{p.setDisabled(false);o.setValue(f)}},setMinDate:function(f){this.getViewModel().set("minDate",f)}},0,["stok-opname-form"],["component","box","container","panel","form","com-form","stok-opname-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"stok-opname-form":true},["widget.stok-opname-form"],0,[inventory.stokopname,"Form"],0));(Ext.cmd.derive("inventory.stokopname.FormController",Ext.app.ViewController,{onProsesSO:function(k){var g=this;view=g.getView(),form=view.getForm(),data=form.getValues();view.fireEvent("onprosesstokopname",data)}},0,0,0,0,["controller.stok-opname-form"],0,[inventory.stokopname,"FormController"],0));(Ext.cmd.derive("inventory.stokopname.List",com.Grid,{controller:"stok-opname-list",viewModel:{stores:{store:{type:"stok-opname-detil-store",autoSync:true},storeCekNull:{type:"stok-opname-detil-store",queryParams:{MANUAL:null,start:0,limit:1}}},data:{cellEditing:2,stokOpname:0,status:false}},viewConfig:{stripeRows:true},layout:"fit",initComponent:function(){var f=this;f.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1,listeners:{beforeedit:"BeforeEdit"}});f.plugins=[f.cellEditing];f.columns=[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Barang",dataIndex:"ID",flex:2,renderer:"onBarangRender"},{xtype:"templatecolumn",text:"Kategori",flex:1,tpl:"<div>{REFERENSI.BARANG_RUANGAN.REFERENSI.BARANG.REFERENSI.KATEGORI.NAMA}</div>"},{xtype:"templatecolumn",text:"Merk",flex:1,tpl:"<div>{REFERENSI.BARANG_RUANGAN.REFERENSI.BARANG.REFERENSI.MERK.DESKRIPSI}</div>"},{xtype:"templatecolumn",text:"Penyedia",flex:1,tpl:"<div>{REFERENSI.BARANG_RUANGAN.REFERENSI.BARANG.REFERENSI.PENYEDIA.NAMA}</div>"},{text:"Stok Opname",dataIndex:"MANUAL",renderer:"onStokManualRender",width:100,editor:{xtype:"numberfield",hideTrigger:true,bind:{readOnly:"{status}"},reference:"manual",name:"MANUAL"}}];f.dockedItems=[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",items:[{xtype:"combo",name:"KATEGORI",flex:1,queryMode:"local",reference:"kategori",emptyText:"[ Filter Berdasarkan Kategori Barang ]",bind:{store:"{kategoristore}"},displayField:"NAMA",valueField:"ID",listeners:{select:"onSelectKategoriBarang"}},{xtype:"search-field",hidden:f.hideHeaders,cls:"x-text-border",autoFocus:true,emptyText:"Cari Nama Obat",flex:1,listeners:{search:"onsearch",clear:"onClear"}}]}];f.callParent(arguments)},onLoadRecord:function(f){var q=this,g=q.getViewModel(),p=g.get("store"),e=g.get("storeCekNull");q.getViewModel().set("stokOpname",f.get("ID"));if(p){p.queryParams.STOK_OPNAME=f.get("ID");e.queryParams.STOK_OPNAME=f.get("ID");p.load()}},getData:function(){var e=this,m=e.getViewModel().get("store"),l=[];m.each(function(f){l.push(f.data)});return l},isNullManualEntry:function(l){var k=this,m=k.getViewModel().get("storeCekNull");m.load(function(f,e,g){if(Ext.isArray(f)){l(f.length>0)}})}},0,["stok-opname-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","stok-opname-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"stok-opname-list":true},["widget.stok-opname-list"],0,[inventory.stokopname,"List"],0));(Ext.cmd.derive("inventory.stokopname.ListController",Ext.app.ViewController,{currentRecord:undefined,stokM:undefined,initViewModel:function(){var l=this,m=l.getView(),k=l.getStore("store");k.doAfterLoad=function(f){var e=0;f.each(function(g){})}},BeforeEdit:function(f,n,o){var m=this;m.currentRecord=n.record},onClear:function(){var f=this,g=f.getViewModel(),e=g.get("store");delete e.queryParams.QUERY;e.removeAll();e.queryParams={STOK_OPNAME:g.get("stokOpname")};e.load()},onsearch:function(p,g){var k=this,o=k.getViewModel(),q=o.get("store");q.queryParams={QUERY:g,STOK_OPNAME:o.get("stokOpname")};q.removeAll();q.load()},onSelectKategoriBarang:function(e,q){var f=this,g=f.getViewModel(),p=g.get("store");f.recordSelection=q;if(q){p.queryParams={KATEGORI:q.get("ID"),STOK_OPNAME:g.get("stokOpname")};p.removeAll();p.load()}else{p.queryParams={STOK_OPNAME:g.get("stokOpname")};p.removeAll();p.load()}},onBarangRender:function(q,k,x,m,p,o){var n=x.get("REFERENSI"),l=n?(n.BARANG_RUANGAN?n.BARANG_RUANGAN.REFERENSI.BARANG.NAMA:""):"";return l},onStokManualRender:function(n,e,m){var o=m.get("MANUAL")==null?"red":"green";e.tdStyle="color: "+o;return n}},0,0,0,0,["controller.stok-opname-list"],0,[inventory.stokopname,"ListController"],0));(Ext.cmd.derive("inventory.stokopname.Periode",com.Grid,{controller:"stok-opname-periode",viewModel:{stores:{store:{type:"stok-opname-store"}}},hideHeaders:true,waitRefresh:true,layout:"fit",initComponent:function(){var f=this;f.columns=[{xtype:"templatecolumn",flex:2,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[values.ID]} . [ Periode SO : {[this.tanggalFormat(values.TANGGAL)]} ] </div>','<div style="font-size: 10px; white-space:normal !important;">{[this.tanggalJamFormat(values.TANGGAL_DIBUAT)]}</div>',{tanggalFormat:function(e){var k=Ext.isDate(e)?e:Ext.Date.parse(e,"Y-m-d");return Ext.Date.format(k,"d-m-Y")},tanggalJamFormat:function(e){var k=Ext.isDate(e)?e:Ext.Date.parse(e,"Y-m-d H:i:s");return Ext.Date.format(k,"d-m-Y H:i:s")}})},{xtype:"widgetcolumn",align:"center",text:"Aksi",widget:{xtype:"fieldcontainer",defaults:{padding:2,margin:"0 2 1 0"},items:[{xtype:"button",action:1,text:"Dibatalkan",ui:"soft-red",width:80,hidden:true},{xtype:"button",text:"Batalkan",action:2,ui:"soft-green",width:80,handler:"onBatalSo",hidden:true},{xtype:"button",text:"Final",action:3,ui:"soft-blue",width:80,hidden:true}]},onWidgetAttach:function(v,e,g){var u=g.get("STATUS"),w=e.down("[action=1]"),s=e.down("[action=2]"),t=e.down("[action=3]");s.setHidden(u!="Proses");w.setHidden(u!="Batal");t.setHidden(u!="Final")}}],f.dockedItems=[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",displayInfo:true}];f.callParent(arguments)},onLoadRecord:function(e,g){var q=this,f=q.getViewModel(),p=f.get("store");if(p){p.removeAll();p.queryParams=e;p.load({callback:function(l){var k=null;if(l){if(l.length>0){f.set("status",l[0].get("STATUS"));k=l[0]}if(Ext.isFunction(g)){}}}})}}},0,["stok-opname-periode"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","stok-opname-periode"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"stok-opname-periode":true},["widget.stok-opname-periode"],0,[inventory.stokopname,"Periode"],0));(Ext.cmd.derive("inventory.stokopname.PeriodeController",Ext.app.ViewController,{onBatalSo:function(g){var f=this,e=f.getStore("store"),o=g.ownerCt.getWidgetRecord();o.showError=true;o.animateTarget=g;o.scope=f;Ext.Msg.show({title:"Pembatalan Order",message:"Anda yakin ingin membatalkan Stok Opname ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:g,fn:function(k){if(k==="yes"){o.set("STATUS",1);o.save({callback:function(l,m,n){if(n){Ext.toast({html:"Pembatalan Stok Opname Berhasil",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});e.load()}else{o.set("STATUS",2)}}})}else{o.set("STATUS",2)}}})}},0,0,0,0,["controller.stok-opname-periode"],0,[inventory.stokopname,"PeriodeController"],0));(Ext.cmd.derive("inventory.stokopname.Workspace",com.Form,{controller:"stok-opname-workspace",viewModel:{stores:{kategoristore:{type:"kategori-store",autoLoad:true,queryParams:{JENIS:3,STATUS:1}}}},layout:"border",flex:1,border:true,initComponent:function(){var f=this;f.items=[{region:"west",title:"Priode Stok Opname",layout:"border",flex:1,items:[{region:"north",layout:"hbox",defaults:{margin:"2 2 2 2"},items:[{xtype:"combobox",name:"RUANGAN",allowBlank:false,enterFocus:true,reference:"ruanganso",enforceMaxLength:true,forceSelection:true,validateOnBlur:true,flex:1,displayField:"DESKRIPSI",valueField:"ID",queryMode:"local",typeAhead:true,emptyText:"[ Ruangan ]",store:{model:"data.model.Ruangan"},listeners:{specialkey:"onFocusEnter",select:"onSelectRuangan"}}]},{region:"center",xtype:"stok-opname-periode",reference:"listperiode",border:true,flex:1,listeners:{select:"onSelectStokOpname"}},{region:"south",xtype:"stok-opname-form",reference:"formperiodestok",border:true,listeners:{onprosesstokopname:"onProsesStokOpname"}}]},{region:"center",flex:3,title:"List",xtype:"stok-opname-list",reference:"liststokopname"}],f.dockedItems=[{xtype:"toolbar",dock:"bottom",items:[{xtype:"component",flex:2},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-print",text:"Cetak Item Stok Opname",reference:"btnCetakItemSo",handler:"onCetakItemSo",disabled:true},{xtype:"button",ui:"soft-red",iconCls:"x-fa fa-check",text:"Final Stok Opname",reference:"btnFinalSo",handler:"onFinalSo",disabled:true}]}];f.callParent(arguments)},onLoadRecord:function(f){var e=this,g=e.down("stok-opname-periode"),s=e.down("[reference=ruanganso]"),q=e.down("stok-opname-list"),t=e.down("stok-opname-form");s.getStore().loadData(e.getPenggunaRuangan());g.setParams({RUANGAN:0});q.setParams({STOK_OPNAME:0})},setMinDate:function(n){var m=this,o=m.down("stok-opname-periode"),e=m.down("stok-opname-form");o.onLoadRecord({RUANGAN:n},function(f){if(f){e.setMinDate(f.get("TANGGAL"))}})},getFormData:function(){var f=this.down("[reference=liststokopname]");a=f.getData();return a}},0,["stok-opname-workspace"],["component","box","container","panel","form","com-form","stok-opname-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"stok-opname-workspace":true},["widget.stok-opname-workspace"],0,[inventory.stokopname,"Workspace"],0));(Ext.cmd.derive("inventory.stokopname.WorkspaceController",Ext.app.ViewController,{recordSelection:undefined,onRefresh:function(g){var k=this;k.getView().loadStore({})},onSelectRuangan:function(f,q){var o=this,e=o.getReferences();o.recordSelection=q;if(q){var p=q.get("ID");e.formperiodestok.onLoadRecord(p)}else{var p=0;e.formperiodestok.onLoadRecord(p)}o.getView().setMinDate(p)},onSelectStokOpname:function(m,o){var n=this,e=n.getReferences();n.recordSelection=o;if(o){if(o.get("STATUS")=="Proses"){e.btnFinalSo.setDisabled(false);e.liststokopname.getViewModel().set("status",false)}else{e.btnFinalSo.setDisabled(true);e.liststokopname.getViewModel().set("status",true)}e.btnCetakItemSo.setDisabled(false)}e.liststokopname.onLoadRecord(o)},onProsesStokOpname:function(t){var x=this,g=x.getView(),f=t.TANGGAL,w=t.RUANGAN,v=x.getReferences().listperiode,u=g.getPenggunaRuangan();var e=[{TANGGAL:f,RUANGAN:w,TANGGAL_DIBUAT:x.getView().getSysdate()}];t=e[0];r=Ext.create("data.model.StokOpname",{});r.set(t);r.showError=true;r.save({callback:function(n,l,m){if(m){g.setMinDate(w);var k=v.getStore("store");k.load()}}})},onFinalSo:function(t){var v=this,g=v.getView(),s=v.getReferences().listperiode,u=v.getReferences().liststokopname,e=s.getViewModel().get("store"),f=u.getViewModel().get("store");Ext.Msg.show({title:"Konfirmasi",message:"Apakah anda Yakin ingin Menyelesaikan Stok Opname Periode Tersebut ..?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(k){if(k=="yes"){u.isNullManualEntry(function(l){if(l){g.notifyMessage("Masih Ada Item Barang Yang Belum Di Input Stok")}else{if(v.recordSelection){v.recordSelection.set("STATUS",3);v.recordSelection.save({callback:function(m,n,o){if(o){Ext.toast({html:"Stok Opname Berhasil Di Finalkan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});f.removeAll();e.load()}}})}}})}}})},onCetakItemSo:function(k){var l=this,m=l.recordSelection;if(m){l.onCetakStokOpname(m)}},privates:{onCetakStokOpname:function(f){var v=this,g=v.getView(),s="Word",u="docx",e=true,t="Cetak Item Stok Opname";Ext.Msg.show({title:t,message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:v,fn:function(k){if(k!="yes"){s="Pdf";u="pdf";e=false}g.cetak({NAME:"inventory.CetakItemStokOpname",TYPE:s,EXT:u,PARAMETER:{PSTOKOPNAME:f.get("ID"),CETAK_HEADER:1},REQUEST_FOR_PRINT:e,PRINT_NAME:"CetakItemStokOpname"},function(l){g.openDialog("Print Preview",true,0,0,{xtype:"panel",title:t},function(m,n){n.down("panel").update("<iframe style='width: 100%; height: 100%' src='"+l+"'></iframe>")})})}})}}},0,0,0,0,["controller.stok-opname-workspace"],0,[inventory.stokopname,"WorkspaceController"],0));(Ext.cmd.derive("pendaftaran.kecelakaan.Model",data.model.Model,{serviceName:"pendaftaran/kecelakaan",fields:[{name:"NOMOR",type:"string"},{name:"NOPEN",type:"string"},{name:"PENJAMIN",type:"int"},{name:"LOKASI",type:"string"},{name:"TANGGAL_KEJADIAN",type:"date",dateFormat:"Y-m-d"},{name:"SUPLESI",type:"int",defaultValue:0},{name:"NO_SEP_SUPLESI",type:"string"},{name:"KODE_PROPINSI",type:"string"},{name:"KODE_KABUPATEN",type:"string"},{name:"KODE_KECAMATAN",type:"string"},{name:"STATUS",type:"int"}],idProperty:"NOMOR"},0,0,0,0,0,0,[pendaftaran.kecelakaan,"Model"],0));(Ext.cmd.derive("pendaftaran.kecelakaan.Store",data.store.Store,{model:"pendaftaran.kecelakaan.Model"},0,0,0,0,["store.pendaftaran-kecelakaan-store"],0,[pendaftaran.kecelakaan,"Store"],0));(Ext.cmd.derive("pendaftaran.online.reservasi.Model",data.model.Model,{serviceName:"registrasionline/reservasi",fields:[{name:"ID",type:"string"},{name:"TANGGALKUNJUGAN",type:"date"},{name:"NORM",type:"string"},{name:"NAMA",type:"string"},{name:"TEMPAT_LAHIR",type:"string"},{name:"TGL_LAHIR",type:"date"},{name:"POLI",type:"int"},{name:"DOKTER",type:"string"},{name:"CARABAYAR",type:"string"},{name:"CONTACT",type:"string"},{name:"TGL_DAFTAR",type:"string"},{name:"NO",type:"int"},{name:"JAM",type:"string"},{name:"POS_ANTRIAN",type:"int"},{name:"JENIS",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[pendaftaran.online.reservasi,"Model"],0));(Ext.cmd.derive("pendaftaran.online.reservasi.Store",data.store.Store,{model:"pendaftaran.online.reservasi.Model"},0,0,0,0,["store.pendaftaran-online-reservasi-store"],0,[pendaftaran.online.reservasi,"Store"],0));(Ext.cmd.derive("pendaftaran.pembatalan.final_hasil.Model",data.model.Model,{serviceName:"pembatalan/final-hasil",fields:[{name:"ID",type:"int"},{name:"KUNJUNGAN",type:"string"},{name:"ALASAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"OLEH",type:"int"}],idProperty:"ID"},0,0,0,0,0,0,[pendaftaran.pembatalan.final_hasil,"Model"],0));(Ext.cmd.derive("pendaftaran.pembatalan.final_hasil.Store",data.store.Store,{model:"pendaftaran.pembatalan.final_hasil.Model"},0,0,0,0,["store.pendaftaran-pembatalan-final_hasil-store"],0,[pendaftaran.pembatalan.final_hasil,"Store"],0));(Ext.cmd.derive("pendaftaran.rujukan.keluar.Model",data.model.Model,{serviceName:"pendaftaran/rujukan/keluar",fields:[{name:"NOMOR",type:"string"},{name:"NOPEN",type:"string"},{name:"KUNJUNGAN",type:"string"},{name:"JENIS",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"TUJUAN",type:"int"},{name:"TUJUAN_RUANGAN",type:"int"},{name:"DIAGNOSA",type:"string"},{name:"DOKTER",type:"int"},{name:"KETERANGAN",type:"string"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NOMOR"},0,0,0,0,0,0,[pendaftaran.rujukan.keluar,"Model"],0));(Ext.cmd.derive("pendaftaran.rujukan.keluar.Store",data.store.Store,{model:"pendaftaran.rujukan.keluar.Model"},0,0,0,0,["store.pendaftaran-rujukan-keluar-store"],0,[pendaftaran.rujukan.keluar,"Store"],0));(Ext.cmd.derive("pendaftaran.Detil",com.Form,{controller:"pendaftaran-detil",viewModel:{data:{record:undefined,formConfig:{cetakRegistrasi:true,cetakBarcode:false}},stores:{store:{type:"pendaftaran-store"}},formulas:{getFormatPendaftaran:function(f){var m=f("record.NOMOR"),e=m?m.substring(0,6)+"."+m.substring(6):"";return e},getInfoTanggal:function(o){var f=o("record.TANGGAL"),e=f?Ext.Date.format(f,"l, d F Y"):"",g=f?" Pukul "+Ext.Date.format(f,"H:i:s"):"";return e+g},diterima:function(e){var m=e("record.TUJUAN"),f=m?m.STATUS:0;return f==2||f==0},dibatalkan:function(o){var g=o("record.TUJUAN"),f=o("record.STATUS"),e=g?g.STATUS:0;return e!=2&&f!=0},selesai:function(e){var m=e("record.STATUS"),f=m?m:0;return f==2||f==0}}},title:"Detil Pendaftaran Kunjungan",header:{itemPosition:1,items:[{xtype:"component",width:260,bind:{html:"<strong>No. Pendaftaran: {getFormatPendaftaran}</strong>"}}]},layout:"border",border:false,defaults:{border:false},initComponent:function(){var f=this;f.items=[{region:"center",xtype:"panel",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox"},padding:5,items:[{xtype:"pasien-short-detil",reference:"pasien",flex:1,cls:""},{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"component",bind:"Tgl. Pendaftaran: {getInfoTanggal}"},{xtype:"tujuan-detil",reference:"tujuandetil",cls:"",flex:1},{xtype:"penjamin-detil",reference:"penjamindetil",cls:"",layout:{type:"vbox",align:"right"},flex:1}]}]},f.createLinks()]},f.createNavs()];f.callParent()},privates:{createLinks:function(){return{xtype:"tabpanel",flex:1,cls:"x-br-top",ui:"header-tab",items:[{xtype:"form-rujukan",title:"Rujukan",iconCls:"x-fa fa-envelope-o"},{xtype:"form-penanggung-jawab",title:"Penanggung Jawab",iconCls:"x-fa fa-user"}]}},createNavs:function(){return{region:"east",split:true,xtype:"container",layout:{type:"vbox",align:"stretch",pack:"center"},padding:5,defaultType:"button",items:[{text:"Batalkan",hidden:true,bind:{hidden:"{!dibatalkan}"},handler:"onBatalPendaftaran"},{text:"Ubah Tgl. Pendaftaran",hidden:true,bind:{hidden:"{diterima}"},handler:"onUbahTanggal"},{text:"Ubah Penjamin",hidden:true,bind:{hidden:"{selesai}"},handler:"onUbahPenjamin"},{text:"Ubah Tujuan",hidden:true,bind:{hidden:"{diterima}"},handler:"onUbahTujuan"},{text:"Ubah Berat & Panjang Bayi",hidden:true,bind:{hidden:"{selesai}"},handler:"onBayi"},{text:"Ubah Paket",hidden:true,bind:{hidden:"{selesai}"},handler:"onUbahPaket"},{text:"Surat Rujukan / Diagnosa Masuk",hidden:true,bind:{hidden:"{selesai}"},handler:"onSuratRujukan"},{text:"Kecelakaan",hidden:true,bind:{hidden:"{selesai}"},handler:"onKecelakaan"},{text:"Penanggungjawab",hidden:true,bind:{hidden:"{selesai}"},handler:"onPenanggungjawab"},{text:"Mapping Transaksi SEP",handler:"onMappingTransaksiSEP",bind:{hidden:"{!formConfig.supportSEP}"}},{text:"Hapus SEP",handler:"onHapusSEP",bind:{hidden:"{!formConfig.supportSEP}"}},{text:"Update SEP",handler:"onUpdateSEP",bind:{hidden:"{!formConfig.supportSEP}"}},{text:"Update Tanggal Pulang SEP",handler:"onUpdateTglPulangSEP",bind:{hidden:"{!formConfig.supportSEP}"}},{xtype:"component",flex:1},{text:"Cetak MR.1",handler:"onCetakMR1"},{text:"Cetak Registrasi (MR.1a)",hidden:true,bind:{hidden:"{!formConfig.cetakRegistrasi}"},handler:"onCetakRegistrasi"},{text:"Cetak Bukti Pendaftaran",handler:"onCetakBukti"},{text:"Cetak Barcode",handler:"onCetakBarcode",hidden:true,bind:{hidden:"{!formConfig.cetakBarcode}"}},{text:"Cetak Tracert",handler:"onCetakTracert"},{text:"Cetak Sep",handler:"onCetakSep",bind:{hidden:"{!formConfig.cetakSep}"}},{text:"Cetak Permohonan DPJP",handler:"onCetakPermohonanDPJP",bind:{hidden:"{!formConfig.cetakPermohonanDPJP}"}},{text:"Cetak Bukti Pemberian Informasi",handler:"onCetakBuktiPemberianInfo"}]}},updateContents:function(){var o=this,N=o.getViewModel(),u=N.get("record"),m=o.down("pasien-short-detil"),w=o.down("tujuan-detil"),t=o.down("penjamin-detil"),k=u.get("STATUS"),v=u.get("TUJUAN"),l=v?v.REFERENSI.RUANGAN:null,M=l?l.JENIS_KUNJUNGAN:1,x=u.get("REFERENSI"),s=x?Ext.create("data.model.Pasien",x.PASIEN):null,q=Ext.create("data.model.TujuanPasien",v),y=Ext.create("data.model.Penjamin",u.get("PENJAMIN")),n=o.app.xitr("ID",1),p=n?n.REF==y.get("JENIS"):false;m.load(s);w.load(q);t.load(y);N.set("formConfig.cetakRegistrasi",M==3);N.set("formConfig.cetakBarcode",M==1||M==2||M==3);N.set("formConfig.cetakSep",p);N.set("formConfig.supportSEP",p&&k!=0);N.set("formConfig.cetakPermohonanDPJP",M==3)}},load:function(o,g){var p=this,q=p.getViewModel(),f=q.get("store");if(q){if(Ext.getClassName(o)=="data.model.Pendaftaran"){q.set("record",o);p.loadRujukan(o);p.loadPenanggungJawab(o);q.notify();p.updateContents()}else{if(f){f.queryParams=o;f.load(function(n,e,y){try{if(y&&n.length>0){var x=q.get("record"),l=p.down("pasien-short-detil"),m=n[0].get("REFERENSI"),k=m?Ext.create("data.model.Pasien",m.PASIEN):null;q.set("record",n[0]);p.loadRujukan(n[0]);p.loadPenanggungJawab(n[0]);p.updateContents()}if(Ext.isFunction(g)){if(n){g(n[0],y)}}}catch(w){}})}}}},loadRujukan:function(m){var o=this,n=o.down("form-rujukan");n.setFormConfig({viewOnly:true});if(m){var l=m.get("RUJUKAN");if(l&&!Ext.isObject(l)){data.model.SuratRujukan.load(l,{success:function(e,f){m.set("RUJUKAN",e.data);n.loadRecord(e)}})}else{if(Ext.isObject(l)){n.loadRecord(Ext.create("data.model.SuratRujukan",l))}}}},loadPenanggungJawab:function(o){var n=this,p=n.down("form-penanggung-jawab");p.setFormConfig({viewOnly:true});if(o){var e=o.get("REFERENSI"),q=e?(e.PENANGGUNG_PASIEN?Ext.create("data.model.PenanggungJawab",e.PENANGGUNG_PASIEN):null):null;p.loadRecord(q)}},getRecord:function(){return this.getViewModel().get("record")}},0,["pendaftaran-detil"],["component","box","container","panel","form","com-form","pendaftaran-detil"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pendaftaran-detil":true},["widget.pendaftaran-detil"],0,[pendaftaran,"Detil"],0));(Ext.cmd.derive("pendaftaran.DetilController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onBatalPendaftaran:function(w){var g=this,u=g.getView(),f=u.getRecord(),e=u.app.xpriv,v=e?false:true,x=f.get("PENJAMIN"),t=Ext.create("data.model.Pendaftaran",{NOMOR:f.get("NOMOR"),STATUS:f.get("STATUS")});if(e){v=!e("1010",false)}if(v){u.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Pembatalan pendaftaran kunjungan!");return}t.showError=true;t.animateTarget=w;t.scope=g;u.showMessageBox({title:"Pembatalan Pendaftaran Kunjungan",message:"Anda yakin ingin membatalkan pendaftaran kunjungan ini ?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:w,fn:function(k){if(k==="yes"){t.set("STATUS",0);t.save({callback:function(m,n,l){if(l){f.set("STATUS",0);if(x){if(x.JENIS>1){if(g.service){if(g.integrasi.REF==x.JENIS){if(x.NOMOR!=""){u.showMessageBox({title:"Pembatalan SEP",message:"Apakah anda ingin membatalkan SEP ?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:w,fn:function(o){if(o==="yes"){g.service.batalkanSEP({nomor:x.NOMOR,user:u.app.usrNm},function(q,p){if(q){g.batalSepPenjamin();u.notifyMessage("Hapus SEP di BPJS berhasil")}})}}})}}}}}u.notifyMessage("Pembatalan pendaftaran kunjungan berhasil")}}})}}})},onUbahTanggal:function(){var e=this,p=e.getView(),o=p.getRecord(),n=p.app.xpriv,q=n?false:true;if(n){q=!n("100705",false)}if(q){p.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Perubahan Tanggal pendaftaran kunjungan!");return}p.openDialog("",true,"27%","auto",{reference:"tanggaldaftarform",xtype:"tanggal-daftar-form",title:"Ubah Tanggal Pendaftaran",ui:"panel-cyan",showCloseButton:true},function(g,f){var l=f.down("tanggal-daftar-form"),k=Ext.clone(o.get("RUJUKAN"));l.on({save:function(m){m.set("RUJUKAN",k);f.close()}});delete o.data.RUJUKAN;l.loadRecord(o)})},onUbahPenjamin:function(){var v=this,f=v.getView(),t=v.getReferences(),x=t.pasien,g=f.getRecord(),w=Ext.create("data.model.Penjamin",g.get("PENJAMIN")),e=f.app.xpriv,u=e?false:true;if(e){u=!e("100702",false)}if(u){f.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Perubahan Penjamin / Cara bayar!");return}f.openDialog("",true,"50%","40%",{reference:"ubahpenjamin",xtype:"ubah-penjamin-form",title:"Ubah Penjamin",ui:"panel-cyan",iconCls:"x-fa fa-user-secret",layout:"fit",showCloseButton:true},function(k,m){var l=m.down("ubah-penjamin-form");l.on({simpan:function(n){var o=f.app.xitr("ID",1),p=o?o.REF==n.get("JENIS"):false;record=v.getViewModel().get("record");v.getViewModel().set("formConfig.cetakSep",p);t.penjamindetil.load(n);g.set("PENJAMIN",n.data);record.set("PENJAMIN",n.data);m.close()}});l.setPendaftaran(g);l.setPasien(x.getRecord());l.loadRecord(w)})},onBayi:function(){var m=this,l=m.getView(),k=l.getRecord();l.openDialog("",true,"27%","auto",{xtype:"pendaftaran-bayi-form",ui:"panel-cyan",showCloseButton:true},function(o,g){var f=g.down("pendaftaran-bayi-form"),e=Ext.clone(k.get("RUJUKAN"));f.on({save:function(n){n.set("RUJUKAN",e);m.getViewModel().set("record",n);g.close()}});delete k.data.RUJUKAN;f.loadRecord(k)})},onUbahPaket:function(){var e=this,p=e.getView(),o=p.getRecord(),n=p.app.xpriv,q=n?false:true;if(n){q=!n("100704",false)}if(q){p.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Perubahan Paket!");return}p.openDialog("",true,"27%","auto",{reference:"ubahpaketform",xtype:"ubah-paket-form",title:"Ubah Paket Pendaftaran",ui:"panel-cyan",showCloseButton:true},function(g,f){var l=f.down("ubah-paket-form"),k=Ext.clone(o.get("RUJUKAN"));l.on({save:function(m){m.set("RUJUKAN",k);e.getViewModel().set("record",m);f.close()}});delete o.data.RUJUKAN;l.loadRecord(o)})},onUbahTujuan:function(){if(!this.pasienTlhDiTerima()){var e=this,p=e.getView(),q=e.getReferences(),n=q.pasien,o=p.getRecord();o=Ext.create("data.model.TujuanPasien",o.get("TUJUAN")),record=e.getViewModel().get("record"),xpriv=p.app.xpriv,notify=xpriv?false:true;if(xpriv){notify=!xpriv("100703",false)}if(notify){p.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Perubahan Tujuan!");return}p.openDialog("",true,"28%","40%",{reference:"ubahtujuan",xtype:"ubah-tujuan-form",title:"Ubah Tujuan",iconCls:"x-fa fa-home",ui:"panel-cyan",showCloseButton:true},function(g,f){var k=f.down("ubah-tujuan-form");k.on({simpan:function(l){q.tujuandetil.load(l);record.set("TUJUAN",l.data);f.close()}});k.setPasien(n.getRecord());k.loadRecord(o)})}},onCetakBukti:function(q,n){var f=this,p=f.getView(),o=f.getViewModel().get("record");p.fireEvent("cetakbukti",o)},onCetakBarcode:function(){var g=this,k=g.getViewModel().get("record");this.getView().fireEvent("cetakbarcode",k)},onCetakTracert:function(){var g=this,k=g.getViewModel().get("record");this.getView().fireEvent("cetaktracert",k)},onCetakSep:function(){var g=this,k=g.getViewModel().get("record");this.getView().fireEvent("cetaksep",k)},onCetakMR1:function(){var e=this,f=e.getView(),m=e.getViewModel().get("record"),H=m.get("TUJUAN"),D=H?H.REFERENSI.RUANGAN:null,k=D?D.JENIS_KUNJUNGAN:1,G=m.get("REFERENSI"),E="Word",C="docx",g=true,l="Cetak Medical Record",F={NAME:"mr.",TYPE:E,EXT:C,PARAMETER:{PNOPEN:m.get("NOMOR"),CETAK_HEADER:1},REQUEST_FOR_PRINT:g,PRINT_NAME:"CetakMR"},B=(k==1||k==14||k==4||k==5?"CetakMR1RawatJalan":(k==2?"CetakMR2RawatDarurat":f.kode+"CetakMR1RawatInap"));F.NAME=F.NAME+B;Ext.Msg.show({title:l,message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:e,fn:function(n){if(n!="yes"){E="Pdf";C="pdf";g=false}F.TYPE=E;F.EXT=C;F.REQUEST_FOR_PRINT=g;f.cetak(F,function(o){f.printPreview(l,o)})}})},onCetakRegistrasi:function(){var m=this,k=m.getViewModel().get("record"),l=m.getView();m.getView().cetak({NAME:"mr."+l.kode+"CetakMR1aRawatInap",TYPE:"Word",EXT:"docx",PARAMETER:{PNOPEN:k.get("NOMOR"),CETAK_HEADER:1},REQUEST_FOR_PRINT:true,PRINT_NAME:"CetakMR"})},onSuratRujukan:function(q){var e=this,p=e.getView(),o=e.getViewModel().get("record"),n=o.get("RUJUKAN")?Ext.create("data.model.SuratRujukan",o.get("RUJUKAN")):false;p.openDialog("",true,450,300,{xtype:"form-rujukan",title:"Surat Rujukan / Diagnosa Masuk",ui:"panel-cyan",showCloseButton:true},function(g,f){var k=f.down("form-rujukan");k.setFormConfig({simpan:true});if(n){n.set("NOPEN",o.get("NOMOR"));k.loadRecord(n)}else{k.createRecord({NORM:o.get("NORM"),PPK:n?n.PPK:0,NOPEN:o.get("NOMOR"),STATUS:1})}k.on({save:function(l){o.set("RUJUKAN",l.data);p.loadRujukan(o);f.close()}})},q)},onKecelakaan:function(q){var e=this,p=e.getView(),f=e.getViewModel().get("record"),t=f.get("REFERENSI")?f.get("REFERENSI"):null,s=t?(t.KECELAKAAN?Ext.create("pendaftaran.kecelakaan.Model",t.KECELAKAAN):null):null;p.openDialog("",true,"50%",200,{xtype:"pendaftaran-kecelakaan-form",ui:"panel-cyan",showCloseButton:true},function(l,k){var g=k.down("pendaftaran-kecelakaan-form");g.setFormConfig({simpan:true});if(s){g.loadRecord(s)}else{g.createRecord({NOPEN:f.get("NOMOR")})}g.on({save:function(m){if(t){t.KECELAKAAN=m.data}else{f.set("REFERENSI",{KECELAKAAN:m.data})}k.close()}})},q)},onPenanggungjawab:function(q){var e=this,p=e.getView(),f=e.getViewModel().get("record"),t=f.get("REFERENSI")?f.get("REFERENSI"):null,s=t?(t.PENANGGUNG_PASIEN?Ext.create("data.model.PenanggungJawab",t.PENANGGUNG_PASIEN):null):null;p.openDialog("",true,"50%","40%",{xtype:"form-penanggung-jawab",ui:"panel-cyan",showCloseButton:true},function(l,k){var g=k.down("form-penanggung-jawab");g.setFormConfig({simpan:true});if(s){g.loadRecord(s)}else{g.createRecord({NOPEN:f.get("NOMOR")})}g.on({save:function(m){if(t){t.PENANGGUNG_PASIEN=m.data}else{f.set("REFERENSI",{PENANGGUNG_PASIEN:m.data})}p.loadPenanggungJawab(f);k.close()}})},q)},onMappingTransaksiSEP:function(q){var e=this,p=e.getView(),o=p.getRecord(),n=o.get("PENJAMIN");if(n){if(n.NOMOR==""||n.NOMOR==null){p.notifyMessage("No. SEP belum dimasukkan / digenerate!!!");return}if(n.JENIS>1){if(e.service){if(e.integrasi.REF==n.JENIS){e.service.storeNoTransaksiDiKunjungan(n.NOMOR,n.NOPEN,function(f,g){if(f){n.NOMOR="";p.notifyMessage("Mapping transaksi ke BPJS berhasil")}})}}}}},onHapusSEP:function(t){var e=this,q=e.getView(),s=e.getReferences(),f=q.getRecord(),p=e.getViewModel().get("record");pjmn=f.get("PENJAMIN");if(pjmn){if(pjmn.NOMOR==""||pjmn.NOMOR==null){q.notifyMessage("No. SEP belum dimasukkan / digenerate!!!");return}if(pjmn.JENIS>1){if(e.service){if(e.integrasi.REF==pjmn.JENIS){q.showMessageBox({title:"Hapus SEP",message:"Anda yakin ingin hapus SEP "+pjmn.NOMOR+" ?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:t,fn:function(g){if(g==="yes"){e.service.batalkanSEP({nomor:pjmn.NOMOR,user:q.app.usrNm},function(k,l){if(k){e.batalSepPenjamin();q.notifyMessage("Hapus SEP di BPJS berhasil")}})}}})}}}}},onUpdateSEP:function(P){var l=this,p=l.getView(),e=p.getRecord(),L=e.get("REFERENSI").PASIEN,J=L.KONTAK?L.KONTAK:null,O=null,K=e.get("PENJAMIN"),g=e.get("TUJUAN"),f=e.get("DIAGNOSAMASUK")?e.get("DIAGNOSAMASUK"):null,n=e.get("REFERENSI"),N=e.get("RUJUKAN")?(Ext.isObject(e.get("RUJUKAN"))?e.get("RUJUKAN"):null):null,k=N?(N.REFERENSI?N.REFERENSI:null):null,m=k?(k.PPK?k.PPK:null):null,o=m?m.BPJS:"",M=n?(n.KECELAKAAN?n.KECELAKAAN:null):null,q=e.get("TUJUAN").REFERENSI.RUANGAN.JENIS_KUNJUNGAN==3?1:2;o=o==""?(N&&q!=1?(N.NOMOR==""?p.app.ppk.REFERENSI.PPK.BPJS:N.NOMOR.substring(0,8)):p.app.ppk.REFERENSI.PPK.BPJS):o;asalRjkn=m?(N&&q!=1?(N.NOMOR==""?(p.app.ppk.REFERENSI.PPK.JENIS==1?2:1):(m.JENIS==1?2:1)):(p.app.ppk.REFERENSI.PPK.JENIS==1?2:1)):(p.app.ppk.REFERENSI.PPK.JENIS==1?2:1);M=M?(M.STATUS==0?null:M):null;if(Ext.isArray(J)){Ext.Array.each(J,function(s){O=s.NOMOR})}if(K){if(K.JENIS>1){if(K.NOMOR==""||K.NOMOR==null){p.notifyMessage("No. SEP belum dimasukkan / digenerate!!!");return}if(l.service){if(l.integrasi.REF==K.JENIS){p.openDialog("",true,0,0,{xtype:"form-sep-update",title:"Update SEP",ui:"panel-blue",showCloseButton:true},function(B,v){var s=v.down("form-sep-update"),x=Ext.util.Format.date(e.get("TANGGAL"),"ymdH")+e.get("NORM"),t=N&&q!=1?(N.NOMOR==""?x:N.NOMOR):x,w=N&&q!=1?(N.TANGGAL?N.TANGGAL:e.get("TANGGAL")):e.get("TANGGAL"),A=g?(g.REFERENSI?g.REFERENSI:null):null,u=A?(A.RUANGAN?A.RUANGAN:null):null,z=u?(u.JENIS_KUNJUNGAN==1?u.REF_ID:0):0,y=l.getPenjaminRuangan(u,K.JENIS);s.setFormConfig({readOnly:true});s.setData({noSep:K.NOMOR,noKartu:K.REFERENSI.KAP.NOMOR,tglSep:e.get("TANGGAL"),asalRujukan:asalRjkn,tglRujukan:Ext.isString(w)?Ext.Date.parse(w,"Y-m-d H:i:s"):w,noRujukan:t,ppkRujukan:o,jnsPelayanan:q,cob:K.COB,katarak:K.KATARAK,catatan:K.CATATAN,diagAwal:f?f.ICD:"",poliTujuan:q==2?(y?y:""):"",eksekutif:z,klsRawat:K.KELAS,lakaLantas:M?1:2,lokasiLaka:M?M.LOKASI:"",penjamin:M?M.PENJAMIN:0,tglKejadian:M?Ext.Date.parse(M.TANGGAL_KEJADIAN,"Y-m-d"):"",suplesi:M?M.SUPLESI:0,noSuplesi:M?M.NO_SEP_SUPLESI:"",propinsi:M?M.KODE_PROPINSI:"",kabupaten:M?M.KODE_KABUPATEN:"",kecamatan:M?M.KODE_KECAMATAN:"",noSuratSKDP:K.NO_SURAT,dpjpSKDP:K.DPJP,user:p.app.usrNm,norm:e.get("NORM"),noTelp:O})})}}}}},onUpdateTglPulangSEP:function(t){var u=this,g=u.getView(),e=g.getRecord(),v=e.get("PENJAMIN"),s=e.get("REFERENSI"),f=s?(s.PASIEN_PULANG?s.PASIEN_PULANG:null):null;if(f==null){g.notifyMessage("Pasien belum dipulangkan!!!");return}if(v){if(v.NOMOR==""||v.NOMOR==null){g.notifyMessage("No. SEP belum dimasukkan / digenerate!!!");return}if(v.JENIS>1){if(u.service){if(u.integrasi.REF==v.JENIS){g.showMessageBox({title:"Update Tanggal Pulang SEP",message:"No. SEP: "+v.NOMOR+"<br/>Tgl. Pulang: "+f.TANGGAL,ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:t,fn:function(k){if(k==="yes"){u.service.updateTanggalPulang({noSEP:v.NOMOR,tglPlg:f.TANGGAL,user:g.app.usrNm},function(m,l){if(m){g.notifyMessage("Kirim update tanggal pulang ke BPJS berhasil")}})}}})}}}}},privates:{pasienTlhDiTerima:function(){var f=this.getViewModel().get("record");if(f.get("STATUS")==2){view.notifyMessage("Data tdk dapat diproses karena telah diterima di tujuan");return true}return false},getPenjaminRuangan:function(e,p){var o="";if(e){var q=e.REFERENSI?e.REFERENSI:null,n=q?(q.PENJAMIN_RUANGAN?q.PENJAMIN_RUANGAN:[]):[];Ext.Array.each(n,function(f){if(f.PENJAMIN==p){o=f.RUANGAN_PENJAMIN}})}return o},batalSepPenjamin:function(){var t=this,q=t.getView(),s=t.getReferences(),f=q.getRecord(),p=t.getViewModel().get("record");pjmn=f.get("PENJAMIN");var s=this.getReferences();var e=Ext.create("data.model.Penjamin",{NOPEN:pjmn.NOPEN});e.set("JENIS",pjmn.JENIS);e.set("NORM",pjmn.REFERENSI.KAP.NORM);e.set("NOMOR",pjmn.REFERENSI.KAP.NOMOR);e.set("SEP","");e.save({success:function(k,g){p.set("PENJAMIN",k.data);s.penjamindetil.load(k)}})}},onCetakPermohonanDPJP:function(){var k=this,g=k.getView();preview=true,rec=k.getViewModel().get("record");g.cetak({NAME:"mr.CetakPermohonanDPJP",TYPE:preview?"Pdf":"Word",EXT:preview?"pdf":"docx",PARAMETER:{PNOPEN:rec.get("NOMOR")},REQUEST_FOR_PRINT:!preview},function(e){if(preview){g.printPreview("Cetak Permohonan DPJP",e)}})},onCetakBuktiPemberianInfo:function(){var k=this,g=k.getView();preview=true,rec=k.getViewModel().get("record");g.cetak({NAME:"mr.CetakBuktiPemberianInfo",TYPE:preview?"Pdf":"Word",EXT:preview?"pdf":"docx",PARAMETER:{PNOPEN:rec.get("NOMOR")},REQUEST_FOR_PRINT:!preview},function(e){if(preview){g.printPreview("Cetak Bukti Pemberian Informasi",e)}})}},0,0,0,0,["controller.pendaftaran-detil"],0,[pendaftaran,"DetilController"],0));(Ext.cmd.derive("pendaftaran.Form",com.Form,{controller:"pendaftaran-form",viewModel:{type:"pendaftaranmodel",data:{hideReset:false,isBayi:false,editPasien:false},stores:{mapInacbgSimrs:{type:"map-inacbg-simrs-store",queryParams:{STATUS:1}},tipeInacbgs:{type:"inacbg-tipe-store",queryParams:{STATUS:1}}}},layout:{type:"vbox",align:"stretch"},ui:"panel-simpel-front",cls:"shadow-panel",scrollable:"y",title:"Pendaftaran Kunjungan",header:{iconCls:"x-fa fa-user-plus",margin:0,padding:"10 15 10 15",layout:{type:"hbox",align:"middle"},items:[{xtype:"component",flex:1},{xtype:"displayfield",reference:"nopendaftaran",fieldCls:"x-color-white x-font-bold"}]},bodyPadding:5,initComponent:function(){var f=this;f.items=[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},scrollable:"y",defaultType:"fieldcontainer",defaults:{margin:"10 5 0 0",flex:1,layout:{type:"vbox",pack:"start",align:"stretch"}},items:[{defaults:{cls:"shadow-panel",border:true},items:[{xtype:"form-tujuan",reference:"tujuan",listeners:{specialkey:"onFocusEnter",tujuanselected:"onTujuanSelected",tujuanblur:"onTujuanBlur",ruanganreserved:"onRuanganReserved",clearreservasi:"onClearReservasi"}},{xtype:"form-penjamin",reference:"penjamin",margin:"10 0 0 0",listeners:{specialkey:"onFocusEnter",rujukan:"onLoadRujukan"}}]},{defaults:{cls:"shadow-panel",border:true},items:[{xtype:"form-rujukan",reference:"rujukan",listeners:{specialkey:"onFocusEnter"}},{xtype:"pendaftaran-kecelakaan-form",margin:"10 0 0 0",reference:"kecelakaan"},{xtype:"form-penanggung-jawab",reference:"penanggungjawab",margin:"10 0 10 0"}]}]}];f.dockedItems=[{xtype:"toolbar",border:true,dock:"top",items:[{name:"TANGGAL",fieldLabel:"Tgl. Pendaftaran",reference:"tanggal",width:240,labelWidth:115,xtype:"datefield",emptyText:"[Pilih Tanggal]",format:"d/m/Y",value:f.getSysdate(),maxValue:f.getSysdate(),listeners:{change:"onChange"},margin:"0 1 0 0"},{name:"WAKTU",reference:"waktu",width:90,xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",format:"H:i:s",value:f.getSysdate(),listeners:{change:"onChange"},hideTrigger:true,margin:"0 25 0 0"},{xtype:"button",iconCls:"x-fa fa-file-pdf-o",text:"General Consent",tooltip:"Cetak General Consent",margin:"0 4 0 0",ui:"soft-red",handler:"onViewGeneralConsent"},"->",{name:"BERAT_BAYI",fieldLabel:"Bayi",labelWidth:30,reference:"beratbayi",emptyText:"[Berat dlm Gram]",width:190,allowDecimals:false,maxValue:99999,xtype:"numberfield",hidden:true,bind:{hidden:"{!isBayi}"}},{name:"PANJANG_BAYI",reference:"panjangbayi",emptyText:"[Panjang dlm CM]",width:157,allowDecimals:false,maxValue:99999,xtype:"numberfield",hidden:true,bind:{hidden:"{!isBayi}"}},{xtype:"button",iconCls:"x-fa fa-user",tooltip:"Edit Pasien",margin:"0 5 0 4",ui:"soft-purple",bind:{hidden:"{!editPasien}"},handler:"onEditPasien"}]},{xtype:"toolbar",border:true,dock:"bottom",items:["->",{text:"Daftarkan & Cetak",iconCls:"x-fa fa-user-plus",ui:"soft-green",handler:"onDaftarCetak",margin:"0 4 0 0"},{text:"Daftarkan",iconCls:"x-fa fa-user-plus",ui:"soft-blue",hidden:true,bind:{hidden:"{isEditing}"},handler:"onDaftar",margin:"0 4 0 0"},{text:"Simpan",iconCls:"x-fa fa-save",ui:"soft-blue",handler:"onDaftar",hidden:true,bind:{hidden:"{!isEditing}"},margin:"0 4 0 0"},{text:"Reset",iconCls:"x-fa fa-refresh",ui:"soft-black",handler:"onReset",hidden:true,bind:{hidden:"{hideReset}"},margin:"0 4 0 0"},{text:"Batal",iconCls:"x-fa fa-times",ui:"soft-red",handler:"onBatal",margin:"0 4 0 0"}]}];f.callParent(arguments)},onLoadRecord:function(t,f){var s=t.down("form-tujuan"),q=t.getViewModel(),e=q.get("mapInacbgSimrs"),p=q.get("tipeInacbgs");s.loadRecord(null);q.set("editPasien",t.app.xpriv("100701",false));e.load();p.load()}},0,["pendaftaran-form"],["component","box","container","panel","form","com-form","pendaftaran-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pendaftaran-form":true},["widget.pendaftaran-form"],0,[pendaftaran,"Form"],0));(Ext.cmd.derive("pendaftaran.FormController",Ext.app.ViewController,{orderItem:undefined,init:function(){var D=this,o=D.getViewModel(),q=D.getView(),C=D.getReferences(),m=o.get("pasien"),p=o.get("pendaftaran"),n=false,k=q.getSysdate();if(m){var l=m.get("NORM"),t=D.getTglToUmur(k,m.get("TANGGAL_LAHIR")),s=q.getPropertyConfig(13);o.set("isBayi",t<=s);D.integrasi=q.app.xitr("ID",1);if(D.integrasi){D.service=Ext.create(D.integrasi.NAMA_KLAS,{})}D.integrasiInacbg=q.app.xitr("ID",2);if(D.integrasiInacbg){D.serviceInacbg=Ext.create(D.integrasiInacbg.NAMA_KLAS,{})}if(p==undefined){p=Ext.create("data.model.Pendaftaran",{NORM:l});o.set("pendaftaran",p)}if(C.nopendaftaran){C.nopendaftaran.setValue(Ext.isNumeric(p.get("NOMOR"))&&p.get("NOMOR")>0?p.get("NOMOR"):"[No. Pendaftaran]")}if(Ext.getClassName(p)!=""){n=Ext.isNumeric(p.get("NOMOR"))&&p.get("NOMOR")>0}o.set("hideReset",n);p.set("TANGGAL",k);C.tanggal.setValue(k);C.waktu.setValue(k);C.penjamin.setFormConfig({showLoadRujukan:true});C.penjamin.setPendaftaran(p);C.penjamin.createRecord({NOPEN:p.get("NOMOR"),NORM:l,JENIS:1});C.tujuan.setPasien(m);C.tujuan.setIsBayi(t<=s);C.rujukan.createRecord({NORM:l,NOPEN:p.get("NOMOR"),TANGGAL:q.getSysdate(),STATUS:1});q.down("[name=INSTALASI]").focus(false,100)}},onFocusEnter:function(g,o){if(o.getKey()===o.ENTER){var f=this.getView().query("component[enterFocus=true]"),e=this.nextFocusComponents(f,f.indexOf(g)+1);if(e){e.focus()}}},onReset:function(){var f=this;f.init()},onBatal:function(f){this.getView().fireEvent("batal",f)},onDaftar:function(e){var m=this,f=m.getView();if(f.isValid()){this.simpan(e,function(k,g,l){if(k){f.fireEvent("simpansuccess",e,g,l)}})}},onDaftarCetak:function(m){var k=this,l=k.getView();if(l.isValid()){this.simpan(m,function(f,t,e){if(f){l.fireEvent("simpansuccess",m,t,e);if(l.getPropertyConfig(25)=="TRUE"){l.fireEvent("cetaktracert",t)}var q=[{ID:1,NAMA:"Bukti Pendaftaran",TIPE:1,DATA:"cetakbukti",CETAK:1},{ID:2,NAMA:"Medical Record (MR) 1",TIPE:1,DATA:"cetakMR1",CETAK:1}],g=t.get("TUJUAN").REFERENSI.RUANGAN.JENIS_KUNJUNGAN;if(g==2||g==3){q.push({ID:3,NAMA:"Barcode Pendaftaran",TIPE:1,DATA:"cetakbarcode",CETAK:1})}if(k.integrasi){var s=t.get("PENJAMIN");if(s){if(k.integrasi.REF==s.JENIS){q.push({ID:4,NAMA:"SEP",TIPE:1,DATA:"cetaksep",CETAK:1})}}}if(l.getPropertyConfig(12)!=="FALSE"){if(g==2||g==3){q.push({ID:5,NAMA:"Gelang Pasien",TIPE:1,DATA:"cetakgelang",CETAK:1})}}l.printList({width:500,height:300},q,function(n,o){o.on({cetaklist:function(p){if(Ext.isArray(p)){var v=0;Ext.Array.each(p,function(x){if(x.TIPE==1&&x.CETAK){var u=new Ext.util.DelayedTask(function(){if(x.DATA=="cetakbukti"){k.cetakBukti(l,t,true)}if(x.DATA=="cetakMR1"){k.cetakMR1(l,t,true)}if(x.DATA=="cetakbarcode"){k.cetakBarcodePendaftaran(l,t,true)}if(x.DATA=="cetaksep"){k.cetakSep(l,t,true)}if(x.DATA=="cetakgelang"){k.cetakGelang(l,t,true)}delete u}).delay(v*1000);v++}})}else{if(p.get("TIPE")==1&&p.get("CETAK")){l.fireEvent(p.get("DATA"),t)}}}})})}})}},cetakBukti:function(l,m,k){l.cetak({NAME:"pendaftaran.CetakBuktiRegistrasi",TYPE:"Word",EXT:"docx",PARAMETER:{PNOPEN:m.get("NOMOR")},REQUEST_FOR_PRINT:true,MULTI_PRINT:k,PRINT_NAME:"CetakBukti"})},cetakBarcodePendaftaran:function(p,q,s){if(q){var t=q.get("TUJUAN"),e=t?t.REFERENSI.RUANGAN:null,f=e?e.JENIS_KUNJUNGAN:1;if(f==2||f==3){p.cetak({NAME:"pendaftaran."+p.kode+"CetakBarcodePendaftaran",TYPE:"Word",EXT:"docx",PARAMETER:{PNOPEN:q.get("NOMOR")},REQUEST_FOR_PRINT:true,MULTI_PRINT:s,PRINT_NAME:"CetakBarcodePendaftaran"})}}},cetakMR1:function(f,g,t){if(g){var w=g.get("TUJUAN"),x=w?w.REFERENSI.RUANGAN:null,e=x?x.JENIS_KUNJUNGAN:1,v={NAME:"mr.",TYPE:"Word",EXT:"docx",PARAMETER:{PNOPEN:g.get("NOMOR"),CETAK_HEADER:1},REQUEST_FOR_PRINT:true,MULTI_PRINT:t,PRINT_NAME:"CetakMR"},u=(e==1||e==14?"CetakMR1RawatJalan":(e==2?"CetakMR2RawatDarurat":f.kode+"CetakMR1RawatInap"));if(u==""){return}v.NAME=v.NAME+u;f.cetak(v);if(e==3){v.NAME="mr."+f.kode+"CetakMR1aRawatInap";f.cetak(v)}}},cetakSep:function(q,e,n){if(e){var p=e.get("PENJAMIN");if(p){var o=q.app.xitr("ID",1);if(o){if(o.REF==p.JENIS){q.cetak({NAME:"bpjs.CetakSEP",TYPE:"Word",EXT:"docx",PARAMETER:{PSEP:p.NOMOR,CETAK_HEADER:1},REQUEST_FOR_PRINT:true,MULTI_PRINT:n,PRINT_NAME:"CetakSEP"})}}}}},cetakGelang:function(p,q,s){if(q){var t=q.get("TUJUAN"),e=t?t.REFERENSI.RUANGAN:null,f=e?e.JENIS_KUNJUNGAN:1;if(f==2||f==3){p.cetak({NAME:"pendaftaran."+p.kode+"CetakGelang",TYPE:"Pdf",EXT:"pdf",PARAMETER:{PNOPEN:q.get("NOMOR")},REQUEST_FOR_PRINT:false,PRINT_NAME:"CetakGelang"})}}},onTujuanSelected:function(u){var l=this,t=l.getView(),k=l.getReferences(),s=u.get("JENIS"),v=u.get("JENIS_KUNJUNGAN"),g=v==3?1:2;if(s!=5){return}if(l.orderItem!=undefined){t.remove(l.orderItem)}if(k.penjamin){k.penjamin.setRuangan(u.data)}},onTujuanBlur:function(){var g=this,k=g.getView();if(g.orderItem!=undefined){k.remove(g.orderItem)}g.orderItem=undefined},onRuanganReserved:function(f,g){var o=this,e=o.getReferences();if(g){e.paket.params.KELAS=g.get("ID");e.paket.load()}},onClearReservasi:function(){var g=this,k=g.getReferences()},privates:{getTglToUmur:function(m,k){var l=Ext.Date.diff(k,m,Ext.Date.DAY);return l},nextFocusComponents:function(g,k){nextComp=k>g.length?null:g[k];if(nextComp){if(nextComp.isHidden()||nextComp.isDisabled()){nextComp=this.nextFocusComponents(g,k+1)}}return nextComp},getPenjaminRuangan:function(o,p){if(o){var q=o.get("REFERENSI"),e=q?(q.PENJAMIN_RUANGAN?q.PENJAMIN_RUANGAN:[]):[],n=false;Ext.Array.each(e,function(f){if(f.PENJAMIN==p){n=f.RUANGAN_PENJAMIN}})}return n},simpan:function(o,w){var L=this,H=L.getView(),s=L.getViewModel(),y=s.get("pendaftaran"),p=s.get("pasien"),C=y.data,A=L.getReferences(),N=A.tanggal.getValue(),q=A.waktu.getValue(),J=p.get("KONTAK")?p.get("KONTAK"):null,E=null,u=A.kecelakaan.getFormData(),Q=A.rujukan.getFormData(),ab=A.tujuan.getFormData(),P=A.penanggungjawab.getFormData(),t=A.penjamin.getFormData(),G=Ext.isNumeric(C.NOMOR),B=A.tujuan.recordSelected;jns=B?(B.get("JENIS_KUNJUNGAN")==3?1:2):2,sep=t.SEP?t.SEP:"";if(Ext.isArray(J)){Ext.Array.each(J,function(e){E=e.NOMOR})}if(t.NOMOR==null||t.NOMOR.trim()==""){if(t.JENIS!=1){H.notifyMessage("Pengisian Nomor Penjamin tidak boleh kosong");A.penjamin.focus("NOMOR");return}}L.clearReferenceInModel(C);H.setLoading(true);C.DIAGNOSAMASUK={ICD:Q.ICD,DIAGNOSA:Q.DIAGNOSA_MASUK};C.DIAGNOSA_MASUK=Ext.isNumeric(Q.DIAGNOSA_MASUK)?Q.DIAGNOSA_MASUK:null;if(!Ext.isNumeric(C.NOMOR)&&Q.PPK==""&&Q.NOMOR==""&&Q.TANGGAL==null&&Q.DOKTER==""&&Q.BAGIAN_DOKTER==""&&Q.DIAGNOSA_MASUK==""){}else{C.RUJUKAN=Q.NOMOR;C.SURAT_RUJUKAN=Q}if(P.NAMA){C.PENANGGUNGJAWAB=P}C.PAKET=ab.PAKET;C.TUJUAN=ab;C.PENJAMIN=t;C.BERAT_BAYI=A.beratbayi.getValue();C.PANJANG_BAYI=A.panjangbayi.getValue();C.TANGGAL=new Date(N.getFullYear(),N.getMonth(),N.getDate(),q.getHours(),q.getMinutes(),q.getSeconds());if(u.STATUS==1){u.TANGGAL_KEJADIAN=Ext.util.Format.date(u.TANGGAL_KEJADIAN,"Y-m-d");C.REFERENSI={KECELAKAAN:u}}if(L.service&&sep==""){var x=Ext.util.Format.date(C.TANGGAL,"Y-m-d H:i:s"),O=Ext.util.Format.date(C.TANGGAL,"ymdH")+C.NORM,n=Q&&jns!=1?(Q.NOMOR==""?O:Q.NOMOR):O,D=Q&&jns!=1?(Q.TANGGAL?Ext.util.Format.date(Q.TANGGAL,"Y-m-d H:i:s"):x):x,v=Q&&jns!=1?(Q.NOMOR==""?H.app.ppk.REFERENSI.PPK.BPJS:Q.PPKRujukan):H.app.ppk.REFERENSI.PPK.BPJS,M=Q&&jns!=1?(Q.NOMOR==""?(H.app.ppk.REFERENSI.PPK.JENIS==1?2:1):Q.asalRujukan):(H.app.ppk.REFERENSI.PPK.JENIS==1?2:1),R=Q?Q.ICD:null,I=B?B.get("ID"):null,S=L.getPenjaminRuangan(B,t.JENIS),T=B.get("JENIS_KUNJUNGAN")==1?B.get("REF_ID"):0,F={noKartu:t.NOMOR,tglSep:x,asalRujukan:M,tglRujukan:D,noRujukan:n,ppkRujukan:v,jnsPelayanan:jns,catatan:t.CATATAN,diagAwal:R,poliTujuan:jns==2?(S?S:""):"",eksekutif:T,cob:t.COB,katarak:t.KATARAK,lakaLantas:u.STATUS==1?1:2,lokasiLaka:u.STATUS==1?u.LOKASI:"",penjamin:u.STATUS==1?u.PENJAMIN:0,tglKejadian:u.STATUS==1?Ext.util.Format.date(u.TANGGAL_KEJADIAN,"Y-m-d"):"",suplesi:u.STATUS==1?u.SUPLESI:0,noSuplesi:u.STATUS==1?u.NO_SEP_SUPLESI:"",propinsi:u.STATUS==1?u.KODE_PROPINSI:"",kabupaten:u.STATUS==1?u.KODE_KABUPATEN:"",kecamatan:u.STATUS==1?u.KODE_KECAMATAN:"",noSuratSKDP:t.NO_SURAT,dpjpSKDP:t.DPJP,user:H.app.usrNm,norm:C.NORM,noTelp:E};if(L.integrasi.REF==t.JENIS){L.service.buatSEP(F,function(f,g,e){if(f){var k=g.data;k=k?k.kunjungan:null;k=k?k.noSEP:null;C.PENJAMIN.SEP=k;L.doSimpan(o,C,w)}else{H.setLoading(false);H.showMessageBox({title:"Pesan Pendaftaran",message:"Anda ingin melanjutkan pendaftaran pasien ini?",ui:"window-blue",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:o,fn:function(l){if(l==="yes"){H.setLoading(true);L.doSimpan(o,C,w)}}})}});return}}if(L.integrasiInacbg){if(L.serviceInacbg&&sep==""){var K=L.getDataMapInacbgSimrs(3,"SIMRS",t.JENIS),z=L.getTipeInacbg(K?K.VERSION:"");if(z){L.serviceInacbg.generateNomorKlaim({payor_id:K.INACBG,tipe:z.ID},function(f,g,k){var e=g.data;if(f&&e.metadata.code==200){C.PENJAMIN.SEP=e.response.claim_number;L.doSimpan(o,C,w)}else{H.setLoading(false);H.showMessageBox({title:"Pesan Pendaftaran",message:"Anda ingin melanjutkan pendaftaran pasien ini?",ui:"window-blue",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:o,fn:function(l){if(l==="yes"){H.setLoading(true);L.doSimpan(o,C,w)}}})}});return}}}L.doSimpan(o,C,w)},doSimpan:function(g,u,e){var s=this,f=s.getView(),t=Ext.isNumeric(u.NOMOR),v=s.getViewModel().get("pendaftaran");v.set(u);v.animateTarget=g;v.scope=s;v.showError=true;v.save({callback:function(k,n,o){if(o){if(s.service){if(u.PENJAMIN){var m=u.PENJAMIN.SEP?u.PENJAMIN.SEP!="":false;if(m){var l=Ext.clone(s.service);l.enabledShowError(false);l.storeNoTransaksiDiKunjungan(u.PENJAMIN.SEP,k.get("NOMOR"))}}}s.init();if(Ext.isFunction(e)){e(true,k,t)}}f.setLoading(false)}})},loadDataRujukan:function(v,u,e){var t=this,f=t.getView(),s=t.getReferences();u.PPK=e.get("ID");u.REFERENSI={PPK:e.data};var g=Ext.create("data.model.DiagnosaMasuk");g.set({DIAGNOSA:v.keluhan,ICD:v.diagnosa.kode});g.save({success:function(l,k){u.REFERENSI=u.REFERENSI||{};u.REFERENSI.DIAGNOSA_MASUK=l.data;u.DIAGNOSA_MASUK=l.get("ID");s.rujukan.loadRecord(Ext.create("data.model.SuratRujukan",u))}})},getDataMapInacbgSimrs:function(o,n,q){var p=this.getStore("mapInacbgSimrs"),e=null;p.each(function(f){if(f.get("JENIS")==o&&f.get(n)==q){e=f.data;return e}});return e},getTipeInacbg:function(l){var m=this.getStore("tipeInacbgs"),k=null;m.each(function(e){if(e.get("VERSION")==l){k=e.data;return k}});return k}},clearReferenceInModel:function(f){f.RUJUKAN="";delete f.DIAGNOSAMASUK;delete f.SURAT_RUJUKAN;delete f.TUJUAN;delete f.PENANGGUNGJAWAB;delete f.PENJAMIN;delete f.ORDER},onViewGeneralConsent:function(m){var k=this,l=k.getView();l.printPreview("General Consent","resources/files/GENERAL_CONSENT.pdf")},onChange:function(t,e){var v=this,u=v.getViewModel(),g=u.get("pendaftaran"),f=v.getReferences();if(e){var w=g.get("TANGGAL");if(t.name=="TANGGAL"){var x=f.waktu.getValue();w=new Date(e.getFullYear(),e.getMonth(),e.getDate(),x.getHours(),x.getMinutes(),x.getSeconds())}if(t.name=="WAKTU"){var x=f.tanggal.getValue();w=new Date(x.getFullYear(),x.getMonth(),x.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())}g.set("TANGGAL",w)}},onLoadRujukan:function(e){var g=this,z=g.getViewModel(),w=g.getView(),y=z.get("pendaftaran"),v=g.getReferences();if(e.success){if(e.data){if(e.data.rujukan){var A=e.data.rujukan,B=v.rujukan.getViewModel().get("ppkstore"),f={},x=true;f.NORM=y.get("NORM");f.NOMOR=A.noKunjungan;f.TANGGAL=A.tglKunjungan;f.STATUS=1;f.BAGIAN_DOKTER=A.poliRujukan.nama;B.setQueryParams({BPJS:A.provPerujuk.kode});B.load(function(m,l,k){if(k){if(Ext.isArray(m)){if(m.length>0){if(m[0].get("STATUS")==1){x=false;g.loadDataRujukan(A,f,m[0]);return}}}}if(x){var n=w.app.xpriv("1901");if(!n){w.notifyMessage("PPK perujuk dgn Kode: <b>"+A.provPerujuk.kode+"</b>, Nama: <b>"+A.provPerujuk.nama+"</b> belum terdaftar...</br>Silahkan daftarkan PPK tersebut untuk melakukan proses ini lagi...")}w.showMessageBox({title:"PPK Rujukan belum terdaftar",message:"PPK Rujukan belum terdaftar, apakah anda ingin mendaftarkan?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:w,fn:function(o){if(o==="yes"){w.openDialog("",true,"90%","90%",{xtype:"master-ppk-form",ui:"panel-cyan",showCloseButton:true,title:"Tambah Pemberi Pelayanan Kesehatan (PPK)",isCreate:true},function(q,p){form=p.down("master-ppk-form");form.createRecord({BPJS:A.provPerujuk.kode,NAMA:A.provPerujuk.nama,STATUS:1});form.on("save",function(s){g.loadDataRujukan(A,f,s);p.close()});form.focus("KODE")})}}})}})}}}},onEditPasien:function(){var m=this,o=m.getView(),l=m.getViewModel(),n=l.get("pasien");o.openDialog("",true,"0","0",{xtype:"pasien-form",ui:"panel-purple",title:"Edit Pasien",isOpenWindow:true,showCloseButton:true},function(g,f){var e=f.down("pasien-form"),k=e.getViewModel();k.set("hideSimpanCetak",true);e.loadRecord(n);e.on("simpansuccess",function(){f.close()})})},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.pendaftaran-form"],0,[pendaftaran,"FormController"],0));(Ext.cmd.derive("pendaftaran.List",com.Grid,{controller:"pendaftaran-list",viewModel:{data:{hideColumnConfig:{noUrut:false,nomor:false,tanggal:false,tujuan:false,dokter:true,statusTujuan:true,status:false,action:false,icd:true}},stores:{store:{type:"pendaftaran-store"}}},header:{items:[{xtype:"search-field",emptyText:"[Cari No. Pendaftaran]",width:200,listeners:{search:"onSearch",clear:"onClear"}}]},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50,bind:{hidden:"{hideColumnConfig.noUrut}"}},{text:"No. Pendaftaran",dataIndex:"NOMOR",sortable:false,width:117,align:"center",bind:{hidden:"{hideColumnConfig.nomor}"}},{xtype:"datecolumn",text:"Tanggal",dataIndex:"TANGGAL",width:137,align:"center",format:"d/m/Y H:i:s",sortable:false,bind:{hidden:"{hideColumnConfig.tanggal}"}},{xtype:"templatecolumn",text:"Tujuan",flex:1,sortable:false,bind:{hidden:"{hideColumnConfig.tujuan}"},tpl:'<div style="white-space:normal !important;">{TUJUAN.REFERENSI.RUANGAN.DESKRIPSI}</div>'},{xtype:"templatecolumn",text:"Dokter",flex:1,sortable:false,bind:{hidden:"{hideColumnConfig.dokter}"},tpl:'<div style="white-space:normal !important;">{TUJUAN.REFERENSI.DOKTER.NAMA}</div>'},{xtype:"templatecolumn",text:"Status Tujuan",flex:1,sortable:false,bind:{hidden:"{hideColumnConfig.statusTujuan}"},tpl:'<div style="white-space:normal !important;">{TUJUAN.REFERENSI.STATUS.DESKRIPSI}</div>'},{xtype:"templatecolumn",text:"Status",flex:1,sortable:false,bind:{hidden:"{hideColumnConfig.status}"},tpl:'<div style="white-space:normal !important;">{REFERENSI.STATUS.DESKRIPSI}</div>'},{xtype:"widgetcolumn",text:"Aksi",align:"center",bind:{hidden:"{hideColumnConfig.action}"},widget:{xtype:"fieldcontainer",layout:{type:"vbox",align:"stretch"},defaults:{padding:2,margin:"0 2 1 0"},items:[{xtype:"button",text:"lihat",action:0,handler:"onLihat"},{xtype:"button",text:"ICD",action:1,handler:"onICD",bind:{hidden:"{hideColumnConfig.icd}"}}]}}],hideColumnConfig:function(f){var m=this,e=m.getViewModel();_config=e.get("hideColumnConfig");f=Ext.apply(_config,f);e.set("hideColumnConfig",f);e.notify()},onBeforeLoad:function(k,m,l){k.setParams({COLUMNS:'["NOMOR","NORM","TANGGAL","STATUS"]',REFERENSI:Ext.JSON.encode({Referensi:true,TujuanPasien:{REFERENSI:{Dokter:true,Ruangan:true}}})})}},0,["pendaftaran-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","pendaftaran-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"pendaftaran-list":true},["widget.pendaftaran-list"],0,[pendaftaran,"List"],0));(Ext.cmd.derive("pendaftaran.ListController",Ext.app.ViewController,{query:"",init:function(){var n=this,q=n.getView(),e=n.getStore("store"),o=q.app.xpriv,p=o("1302",false);n.getViewModel().set("hideColumnConfig.icd",!p);if(e){e.on("load",function(g,f){if(f.length==0){e.removeAll()}})}},onLihat:function(f){this.getView().fireEvent("lihat",f.ownerCt.getWidgetRecord())},onICD:function(f){this.getView().fireEvent("icd",f.ownerCt.getWidgetRecord())},onSearch:function(g,k){this.query=k;this.cari()},onClear:function(){this.query="";this.cari()},privates:{cari:function(){var k=this,l=k.getView(),m=l.down("pagingtoolbar");if(k.query==""){delete l.getStore().queryParams.NOMOR}else{l.setParams({NOMOR:k.query})}if(m){m.moveFirst()}else{l.load()}}}},0,0,0,0,["controller.pendaftaran-list"],0,[pendaftaran,"ListController"],0));(Ext.cmd.derive("pendaftaran.ShortDetil",Ext.container.Container,{viewModel:{data:{record:undefined},stores:{store:{type:"pendaftaran-store"}},formulas:{getInfoTanggal:function(o){var f=o("record.TANGGAL"),e=f?Ext.Date.format(f,"l, d F Y"):"",g=f?" Pukul "+Ext.Date.format(f,"H:i:s"):"";return e+g},getPaket:function(f){var m=f("record.REFERENSI"),e=m?(m.PAKET?m.PAKET.NAMA:""):"";return e}}},layout:{type:"vbox",pack:"top"},cls:"x-br-top",defaults:{style:"font-size: 13px;",margin:"0 0 1 0"},items:[{xtype:"component",style:"font-size: 24px; font-weight: bold",bind:"{record.NOMOR}"},{xtype:"component",bind:"{getInfoTanggal}"},{xtype:"component",style:"font-size: 17px; font-weight: bold",bind:"{getPaket}"},{xtype:"component",bind:"{record.REFERENSI.STATUS.DESKRIPSI}"}],load:function(o,g){try{var p=this,q=p.getViewModel(),f=q.get("store");if(q){if(Ext.getClassName(o)=="data.model.Pendaftaran"){q.set("record",o)}else{if(f){f.queryParams=o;f.load(function(l,m,e){try{if(e&&l.length>0){q.set("record",l[0]);if(Ext.isFunction(g)){g(l[0])}}}catch(k){}})}}}}catch(g){}},getRecord:function(){return this.getViewModel().get("record")}},0,["pendaftaran-short-detil"],["component","box","container","pendaftaran-short-detil"],{component:true,box:true,container:true,"pendaftaran-short-detil":true},["widget.pendaftaran-short-detil"],0,[pendaftaran,"ShortDetil"],0));(Ext.cmd.derive("pendaftaran.TanggalDaftar",com.Form,{controller:"tanggal-daftar-form",viewModel:{data:{readOnly:false}},layout:{type:"hbox"},defaults:{margin:"0 2 2 0",allowBlank:false},items:[{xtype:"hiddenfield",name:"NOMOR"},{name:"TANGGAL",reference:"tanggal",flex:1,xtype:"datefield",emptyText:"[Pilih Tanggal Tindakan]",format:"d/m/Y",submitFormat:"Y-m-d",margin:"0 1 0 0"},{name:"WAKTU",reference:"waktu",xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",format:"H:i:s",hideTrigger:true}],buttons:[{text:"Simpan",iconCls:"x-fa fa-save",handler:"onSimpan"}],onLoadRecord:function(n,m){var o=n.down("datefield"),l=n.down("timefield");o.setMaxValue(n.getSysdate());l.setValue(m.get("TANGGAL"))},onBeforeGetRecord:function(o,m){var l=o.down("datefield").getValue(),n=o.down("timefield").getValue();dt=Ext.Date.clone(l);dt.setHours(n.getHours());dt.setMinutes(n.getMinutes());dt.setSeconds(n.getSeconds());m.TANGGAL=dt}},0,["tanggal-daftar-form"],["component","box","container","panel","form","com-form","tanggal-daftar-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"tanggal-daftar-form":true},["widget.tanggal-daftar-form"],0,[pendaftaran,"TanggalDaftar"],0));(Ext.cmd.derive("pendaftaran.TanggalDaftarController",Ext.app.ViewController,{onSimpan:function(m){var k=this,l=k.getView();l.showMessageBox({title:"Ubah Tanggal Pendaftaran",message:"Anda yakin ingin mengubah tanggal pendaftaran ini ? ",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:m,fn:function(e){if(e==="yes"){l.save(m,{success:"Ubah tanggal pendaftaran berhasil"})}}})}},0,0,0,0,["controller.tanggal-daftar-form"],0,[pendaftaran,"TanggalDaftarController"],0));(Ext.cmd.derive("pendaftaran.ViewModel",Ext.app.ViewModel,{data:{pasien:undefined,pendaftaran:undefined},formulas:{isEditing:function(k){var g=k("pendaftaran.NOMOR")||0;if(g>0){return true}return false}}},0,0,0,0,["viewmodel.pendaftaranmodel"],0,[pendaftaran,"ViewModel"],0));(Ext.cmd.derive("pendaftaran.bayi.Form",com.Form,{controller:"pendaftaran-bayi-form",title:"Bayi",header:{iconCls:"x-fa fa-child",padding:"5 10 5 10"},bodyPadding:5,layout:"hbox",defaults:{margin:"0 2 2 0 ",listeners:{specialkey:"onFocusEnter"}},items:[{name:"BERAT_BAYI",reference:"beratbayi",emptyText:"[Berat dlm Gram]",width:190,allowDecimals:false,maxValue:99999,xtype:"numberfield"},{name:"PANJANG_BAYI",reference:"panjangbayi",emptyText:"[Panjang dlm CM]",width:157,allowDecimals:false,maxValue:99999,xtype:"numberfield"}],dockedItems:[{xtype:"toolbar",dock:"bottom",items:["->",{xtype:"button",iconCls:"x-fa fa-save",ui:"soft-blue",text:"Simpan",handler:"onSimpan"}]}]},0,["pendaftaran-bayi-form"],["component","box","container","panel","form","com-form","pendaftaran-bayi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pendaftaran-bayi-form":true},["widget.pendaftaran-bayi-form"],0,[pendaftaran.bayi,"Form"],0));(Ext.cmd.derive("pendaftaran.bayi.FormController",Ext.app.ViewController,{onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSimpan:function(m){var k=this,l=k.getView();l.save(m,{success:"Ubah data bayi berhasil"})}},0,0,0,0,["controller.pendaftaran-bayi-form"],0,[pendaftaran.bayi,"FormController"],0));(Ext.cmd.derive("pendaftaran.kecelakaan.Form",com.Form,{model:"pendaftaran.kecelakaan.Model",controller:"pendaftaran-kecelakaan-form",title:"Kecelakaan",viewModel:{data:{formConfig:{simpan:false}}},header:{iconCls:"x-fa fa-ambulance",padding:"0 10 0 10",items:[{xtype:"checkbox",checked:false,name:"STATUS",reference:"lakalantas",publishes:"checked",listeners:{change:"onCheckLakalantas"}}]},layout:{type:"vbox",align:"stretch"},loadedCombo:false,bodyPadding:5,defaultType:"fieldcontainer",defaults:{margin:"0 0 2 0 ",layout:{type:"hbox"},defaults:{margin:"0 2 2 0 "}},items:[{items:[{xtype:"textfield",emptyText:"[Masukkan keterangan]",name:"LOKASI",margin:"0 2 0 0",enterFocus:true,bind:{disabled:"{!lakalantas.checked}"},flex:1,listeners:{specialkey:"onFocusEnter"}},{name:"TANGGAL_KEJADIAN",reference:"tanggalkejadian",width:120,xtype:"datefield",emptyText:"[Tanggal Kejadian]",format:"d/m/Y",bind:{disabled:"{!lakalantas.checked}"},value:new Date()},{xtype:"referensi-combo",name:"PENJAMIN",emptyText:"[Penjamin Kecelakaan]",width:200,params:{JENIS:80,STATUS:1},bind:{disabled:"{!lakalantas.checked}"}}]},{items:[{xtype:"checkboxfield",name:"SUPLESI",boxLabel:"Suplesi ?",reference:"suplesi",boxLabelAlign:"before",checked:false,publishes:"checked",bind:{disabled:"{!lakalantas.checked}"}},{xtype:"textfield",emptyText:"[Masukkan No. Sep Suplesi]",name:"NO_SEP_SUPLESI",enforceMaxLength:true,maxLength:25,enterFocus:true,bind:{disabled:"{!suplesi.checked}"},flex:1,listeners:{specialkey:"onFocusEnter"}}]},{items:[{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_PROPINSI",reference:"propinsicombo",emptyText:"[Propinsi]",bind:{disabled:"{!lakalantas.checked}"},flex:1,listeners:{select:"onSelectWilayah"}},{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_KABUPATEN",reference:"kabupatencombo",params:{tipe:2},emptyText:"[Kabupaten]",bind:{disabled:"{!lakalantas.checked}"},flex:1,listeners:{select:"onSelectWilayah"}},{xtype:"plugins-bpjs-referensi-wilayah-combo",name:"KODE_KECAMATAN",reference:"kecamatancombo",params:{tipe:3},flex:1,emptyText:"[Kecamatan]",bind:{disabled:"{!lakalantas.checked}"}}]}],dockedItems:[{xtype:"toolbar",dock:"bottom",hidden:true,bind:{hidden:"{!formConfig.simpan}"},items:["->",{xtype:"button",iconCls:"x-fa fa-save",ui:"soft-blue",text:"Simpan",handler:"onSimpan"}]}],onLoadRecord:function(u,x){var v=u.down("[name=PENJAMIN]"),f=u.down("[name=STATUS]"),t=u.down("[name=SUPLESI]"),e=u.down("[name=KODE_PROPINSI]"),w=u.down("[name=KODE_KABUPATEN]"),g=u.down("[name=KODE_KECAMATAN]");f.setValue(x.get("STATUS")==1);t.setValue(x.get("SUPLESI")==1);e.doAfterLoad=function(n,m,l){var k=l.findRecord("kode",x.get("KODE_PROPINSI"),0,true,false,true);if(k){e.select(k);e.fireEvent("select",e,k)}};w.doAfterLoad=function(n,m,l){var k=l.findRecord("kode",x.get("KODE_KABUPATEN"),0,true,false,true);if(k){w.select(k);w.fireEvent("select",w,k)}};g.doAfterLoad=function(n,m,l){var k=l.findRecord("kode",x.get("KODE_KECAMATAN"),0,true,false,true);if(k){g.select(k)}};v.load();e.load();u.loadedCombo=true},onBeforeGetRecord:function(e,o){var p=e.down("[name=STATUS]"),q=e.down("[name=SUPLESI]"),n=e.down("[name=TANGGAL_KEJADIAN]").getValue();o.TANGGAL_KEJADIAN=n;o.STATUS=p.getValue()?1:0;o.SUPLESI=q.getValue()?1:0},getFormData:function(){var l=this,k=l.getForm().getValues(),m=l.down("[name=TANGGAL_KEJADIAN]").getValue();k.TANGGAL_KEJADIAN=m;k.STATUS=k.STATUS?1:0;k.SUPLESI=k.SUPLESI?1:0;return k}},0,["pendaftaran-kecelakaan-form"],["component","box","container","panel","form","com-form","pendaftaran-kecelakaan-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pendaftaran-kecelakaan-form":true},["widget.pendaftaran-kecelakaan-form"],0,[pendaftaran.kecelakaan,"Form"],0));(Ext.cmd.derive("pendaftaran.kecelakaan.FormController",Ext.app.ViewController,{onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSimpan:function(m){var k=this,l=k.getView();l.save(m)},onCheckLakalantas:function(q,e,s){var p=this.getView(),t=p.down("[name=PENJAMIN]"),f=p.down("[name=KODE_PROPINSI]");if(!p.loadedCombo){if(e){t.load();f.load();p.loadedCombo=true}}},onSelectWilayah:function(m,k){var l=this.getReferences();if(m.params.tipe==1){l.kecamatancombo.getStore().removeAll();l.kabupatencombo.getStore().removeAll();l.kabupatencombo.params.kodePropinsi=k.get("kode");l.kabupatencombo.load()}if(m.params.tipe==2){l.kecamatancombo.getStore().removeAll();l.kecamatancombo.params.kodeKabupaten=k.get("kode");l.kecamatancombo.load()}}},0,0,0,0,["controller.pendaftaran-kecelakaan-form"],0,[pendaftaran.kecelakaan,"FormController"],0));(Ext.cmd.derive("pendaftaran.konsul.List",Ext.grid.Panel,{controller:"konsul-list",viewModel:{data:{listConfig:{paging:false,status:true}},stores:{store:{type:"konsul-store"}}},bind:{store:"{store}"},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Nomor",dataIndex:"NOMOR",sortable:false,flex:1},{xtype:"datecolumn",text:"Tanggal",dataIndex:"TANGGAL",format:"d/m/Y H:i:s",sortable:false},{xtype:"templatecolumn",text:"Asal",flex:1,sortable:false,hidden:true,tpl:'<div style="white-space:normal !important;">{REFERENSI.KUNJUNGAN.REFERENSI.RUANGAN.DESKRIPSI}</div>'},{xtype:"templatecolumn",text:"Dokter Asal",flex:1,sortable:false,hidden:true,tpl:'<div style="white-space:normal !important;">{REFERENSI.DOKTER_ASAL.NAMA}</div>'},{xtype:"templatecolumn",text:"Alasan",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{ALASAN}</div>'},{xtype:"templatecolumn",text:"Konsul Yg. Diminta",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{PERMINTAAN_TINDAKAN}</div>'},{xtype:"templatecolumn",text:"Tujuan",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.TUJUAN.DESKRIPSI}</div>'},{xtype:"widgetcolumn",align:"center",text:"Status",width:110,hideable:false,hidden:true,bind:{hidden:"{!listConfig.status}"},widget:{xtype:"fieldcontainer",flex:1,defaults:{padding:2},items:[{xtype:"button",text:"Batalkan",action:0,handler:"onBatal"},{xtype:"button",text:"Dibatalkan",action:1,ui:"soft-red"},{xtype:"button",text:"Lihat Jawaban",action:2,ui:"soft-blue",handler:"onLihat"}]},onWidgetAttach:"onWidgetAttach"}],dockedItems:[{xtype:"pagingtoolbar",hidden:true,bind:{store:"{store}",hidden:"{!listConfig.paging}"},dock:"bottom",displayInfo:true}],loadStore:function(g){var k=this.getViewModel().get("store");if(k){k.removeAll();k.queryParams=g;k.load()}},setListConfig:function(f){var m=this,e=m.getViewModel();_config=e.get("listConfig");f=Ext.apply(_config,f);e.set("listConfig",f);e.notify()},refresh:function(){var f=this.getViewModel().get("store");if(f){f.reload()}}},0,["konsul-list"],["component","box","container","panel","tablepanel","gridpanel","grid","konsul-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"konsul-list":true},["widget.konsul-list"],0,[pendaftaran.konsul,"List"],0));(Ext.cmd.derive("pendaftaran.konsul.ListController",Ext.app.ViewController,{init:function(){var g=this,k=g.getStore("store");if(k){k.on("load",function(f,e){if(e.length==0){k.removeAll()}})}},onWidgetAttach:function(k,o,q){var n=this,l=n.getViewModel(),p=q.get("STATUS"),y=o.down("[action=0]"),z=o.down("[action=1]"),m=o.down("[action=2]");y.setHidden(p!=1);z.setHidden(p==1||p==2);m.setHidden(p!=2)},onBatal:function(g){var f=this,e=f.getStore("store"),o=g.ownerCt.getWidgetRecord();o.showError=true;o.animateTarget=g;o.scope=f;Ext.Msg.show({title:"Pembatalan Konsul",message:"Anda yakin ingin membatalkan Konsul dengan Nomor Konsul "+o.get("NOMOR")+" ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:g,fn:function(k){if(k==="yes"){o.set("STATUS",0);o.save({callback:function(n,l,m){if(m){Ext.toast({html:"Pembatalan konsul dengan Nomor Konsul "+o.get("NOMOR")+" berhasil",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});e.load()}else{o.set("STATUS",1)}}})}else{o.set("STATUS",1)}}})},onLihat:function(k){var g=k.ownerCt.getWidgetRecord();data.model.JawabKonsul.load(g.get("NOMOR"),{callback:function(e,m,f){if(f){me.openDialog("Jawaban Konsul",true,"80%",300,{xtype:"jawab-konsul-form"},function(l,o){form=o.down("jawab-konsul-form");form.setFormConfig({readOnly:true,simpan:false});form.loadRecord(e)})}else{Ext.toast({html:"Jawaban Konsul tidak ditemukan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}})},privates:{openDialog:function(x,k,n,w,m,o){var p=(n==0&&w==0)?true:false,l=Ext.create("Ext.Window",{modal:k,closable:true,maximizable:true,maximized:p,constrain:this.getView(),header:{height:20,cls:"bgheaderTop"},layout:"fit",minWidth:900,minHeight:400,border:false,width:n,height:w,items:[m]});l.on("show",function(){if(Ext.isFunction(o)){o("onshow",l)}});l.show()}}},0,0,0,0,["controller.konsul-list"],0,[pendaftaran.konsul,"ListController"],0));(Ext.cmd.derive("pendaftaran.konsul.Workspace",com.Tab,{controller:"konsultasi-workspace",kunjungan:undefined,bodyPadding:5,items:[{title:"Konsul",xtype:"konsul-workspace",reference:"konsul"},{title:"Jawab Konsul",xtype:"jawaban-konsul-workspace",reference:"jawabankonsul"},{title:"Riwayat",xtype:"riwayat-konsul-workspace",reference:"riwayatkonsul"}],load:function(k){var m=this,l=this.getActiveTab();this.kunjungan=k;if(l){l.load(k)}else{if(m.items.getCount()>0){m.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["konsultasi-workspace"],["component","box","container","panel","tabpanel","com-tab","konsultasi-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"konsultasi-workspace":true},["widget.konsultasi-workspace"],0,[pendaftaran.konsul,"Workspace"],0));(Ext.cmd.derive("pendaftaran.konsul.WorkspaceController",Ext.app.ViewController,{init:function(){var g=this,k=g.getReferences()},onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.konsultasi-workspace"],0,[pendaftaran.konsul,"WorkspaceController"],0));(Ext.cmd.derive("pendaftaran.konsul.jawab.Form",Ext.form.Panel,{title:"Jawab Konsul",controller:"jawab-konsul-form",viewModel:{data:{record:undefined,formConfig:{readOnly:true,simpan:false}}},layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 2 2 0"},bodyPadding:5,config:{hideButtons:false},initComponent:function(){var g=this,k=new Date();g.items=[{xtype:"textareafield",name:"JAWABAN",flex:1,allowBlank:false,emptyText:"["+g.title+"]",bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"textareafield",name:"ANJURAN",flex:1,allowBlank:false,emptyText:"[Anjuran]",bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"dokter-combo",emptyText:"[Dokter Yg Menjawab]",name:"DOKTER",bind:{readOnly:"{formConfig.readOnly}"},allowBlank:false},{xtype:"fieldcontainer",layout:{type:"hbox"},defaults:{allowBlank:false,value:k},items:[{name:"TANGGAL",reference:"tanggal",flex:1,xtype:"datefield",emptyText:"[Pilih Tanggal Jawab]",format:"d/m/Y",submitFormat:"Y-m-d",maxValue:k,margin:"0 1 0 0",bind:{readOnly:"{formConfig.readOnly}"}},{name:"WAKTU",reference:"waktu",width:105,xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",format:"H:i:s",hideTrigger:true,bind:{readOnly:"{formConfig.readOnly}"}}]}];g.buttons=[{text:"Simpan",bind:{hidden:"{!formConfig.simpan}"},iconCls:"x-fa fa-save",handler:"onSimpan"}];g.callParent(arguments)},loadRecord:function(l){var w=this,m=w.down("[name=JAWABAN]"),o=w.getForm().loadRecord(l),n=w.down("dokter-combo"),x=w.down("[name=WAKTU]"),k=l.get("REFERENSI"),p=k?Ext.create("data.model.Dokter",k.DOKTER):null;x.setValue(l.get("TANGGAL"));n.params.RUANGAN=k?k.KONSUL.REFERENSI.TUJUAN.ID:0;n.loadStore();w.getViewModel().set("record",l);n.select(p);m.focus(false,100);return o},setFormConfig:function(f){var m=this,e=m.getViewModel();_config=e.get("formConfig");f=Ext.apply(_config,f);e.set("formConfig",f);e.notify()},getRecord:function(){var s=this.getViewModel().get("record"),q=this.getForm().getValues(),g=this.getForm().isValid(),k=this.down("[name=TANGGAL]").getValue(),l=this.down("[name=WAKTU]").getValue();if(g){var t=s.get("NOMOR");if(Ext.isNumeric(t)){s.setId(t)}k.setHours(l.getHours());k.setMinutes(l.getMinutes());k.setSeconds(l.getSeconds());q.TANGGAL=k;s.set(q)}return !g?false:s},reset:function(){this.getForm().reset();this.down("[name=JAWABAN]").focus(false,100)}},0,["jawab-konsul-form"],["component","box","container","panel","form","jawab-konsul-form"],{component:true,box:true,container:true,panel:true,form:true,"jawab-konsul-form":true},["widget.jawab-konsul-form"],0,[pendaftaran.konsul.jawab,"Form"],0));(Ext.cmd.derive("pendaftaran.konsul.jawab.FormController",Ext.app.ViewController,{onSimpan:function(g){var f=this,e=f.getView(),o=e.getRecord();if(o){o.showError=true;o.animateTarget=g;o.scope=f;o.save({callback:function(m,k,l){if(l){Ext.toast({html:"Jawaban anda telah tersimpan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}})}}},0,0,0,0,["controller.jawab-konsul-form"],0,[pendaftaran.konsul.jawab,"FormController"],0));(Ext.cmd.derive("pendaftaran.konsul.jawab.Workspace",Ext.panel.Panel,{controller:"jawaban-konsul-workspace",viewModel:{stores:{store:{type:"konsul-store"}}},layout:"border",items:[{region:"center",xtype:"konsul-form",reference:"konsulformjawab"},{region:"east",xtype:"jawab-konsul-form",reference:"konsuljawab",split:true,flex:1}],load:function(g){var p=this,q=p.down("konsul-form"),o=p.down("jawab-konsul-form"),f=p.getViewModel().get("store");q.setFormConfig({readOnly:true,baru:false,kirim:false});if(g){f.queryParams={NOMOR:g.get("REF")};f.load(function(k,l,e){if(e){if(k.length==0){return}q.loadRecord(k[0]);o.setFormConfig({readOnly:g.get("STATUS")!=1,simpan:g.get("STATUS")==1});if(data.model){data.model.JawabKonsul.load(k[0].get("NOMOR"),{callback:function(t,n,m){if(!m){t=Ext.create("data.model.JawabKonsul",{NOMOR:k[0].get("NOMOR"),TANGGAL:new Date(),REFERENSI:{KONSUL:k[0].data}})}o.loadRecord(t)}})}}})}}},0,["jawaban-konsul-workspace"],["component","box","container","panel","jawaban-konsul-workspace"],{component:true,box:true,container:true,panel:true,"jawaban-konsul-workspace":true},["widget.jawaban-konsul-workspace"],0,[pendaftaran.konsul.jawab,"Workspace"],0));(Ext.cmd.derive("pendaftaran.konsul.jawab.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.jawaban-konsul-workspace"],0,[pendaftaran.konsul.jawab,"WorkspaceController"],0));(Ext.cmd.derive("pendaftaran.konsul.konsul.Form",com.Form,{controller:"konsul-form",model:"data.model.Konsul",viewModel:{data:{formConfig:{readOnly:true,baru:false,kirim:false,tanggal:new Date()}}},layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 2 2 0"},bodyPadding:5,title:"Form Konsul",header:{items:[{xtype:"button",ui:"soft-cyan",iconCls:"x-fa fa-file",hidden:true,bind:{hidden:"{!formConfig.baru}"},tooltip:"Konsul Baru",listeners:{click:"onKonsulBaruClick"}}]},initComponent:function(){var g=this,k=new Date();g.items=[{xtype:"ruangan-konsul-combo",hideTrigger:false,allowBlank:false,reference:"ruanganselection",params:{STATUS:1},name:"TUJUAN",bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"textareafield",allowBlank:false,name:"ALASAN",flex:1,bind:{readOnly:"{formConfig.readOnly}"},emptyText:"[Alasan Konsul]"},{xtype:"textfield",allowBlank:false,name:"PERMINTAAN_TINDAKAN",flex:1,emptyText:"[Konsul Yang Diminta]",bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"fieldcontainer",layout:{type:"hbox"},defaults:{allowBlank:false,value:k},items:[{name:"TANGGAL",reference:"tanggal",flex:1,xtype:"datefield",emptyText:"[Pilih Tanggal Konsul]",format:"d/m/Y",submitFormat:"Y-m-d",maxValue:k,margin:"0 1 0 0",bind:{readOnly:"{formConfig.readOnly}",minValue:"{formConfig.tanggal}"}},{name:"WAKTU",reference:"waktu",width:105,xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",format:"H:i:s",hideTrigger:true,bind:{readOnly:"{formConfig.readOnly}"}}]},{xtype:"dokter-combo",emptyText:"[Dokter Perujuk]",name:"DOKTER_ASAL",params:{STATUS:1},bind:{readOnly:"{formConfig.readOnly}"},allowBlank:false}];g.buttons=[{text:"Kirim",iconCls:"x-fa fa-save",hidden:true,bind:{hidden:"{!formConfig.kirim}"},handler:"onKirim"}];g.callParent(arguments)},onLoadRecord:function(u,w){var u=this,t=u.down("ruangan-konsul-combo"),e=u.down("dokter-combo"),x=u.down("[name=WAKTU]"),g=w.get("REFERENSI"),v=g?(g.KUNJUNGAN?g.KUNJUNGAN.RUANGAN:0):0,f=g?(g.DOKTER_ASAL?Ext.create("data.model.Dokter",g.DOKTER_ASAL):null):null;x.setValue(w.get("TANGGAL"));t.params.RUANGAN=v;t.load();e.params.RUANGAN=v;if(f){e.select(f);e.params.ID=f.get("ID");e.load()}t.focus(false,100)},onBeforeGetRecord:function(o,m){var o=this,l=o.down("[name=TANGGAL]").getValue(),n=o.down("[name=WAKTU]").getValue();l.setHours(n.getHours());l.setMinutes(n.getMinutes());l.setSeconds(n.getSeconds());m.TANGGAL=l}},0,["konsul-form"],["component","box","container","panel","form","com-form","konsul-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"konsul-form":true},["widget.konsul-form"],0,[pendaftaran.konsul.konsul,"Form"],0));(Ext.cmd.derive("pendaftaran.konsul.konsul.FormController",Ext.app.ViewController,{onKirim:function(m){var k=this,l=k.getView();l.setLoading(true);l.save(m,{success:"Konsul anda telah terkirim"},function(g,e,f){if(f){l.fireEvent("kirim",g);k.onKonsulBaruClick()}})},onKonsulBaruClick:function(){var l=this,n=l.getView(),o=l.getReferences(),m=l.getViewModel().get("record");n.createRecord({KUNJUNGAN:m.get("KUNJUNGAN"),TANGGAL:n.getSysdate()});o.ruanganselection.focus(false,100)}},0,0,0,0,["controller.konsul-form"],0,[pendaftaran.konsul.konsul,"FormController"],0));(Ext.cmd.derive("pendaftaran.konsul.konsul.Workspace",com.Form,{controller:"konsul-workspace",layout:{type:"hbox",align:"stretch"},items:[{xtype:"konsul-form",reference:"konsulform",flex:1,listeners:{kirim:"onKirim"}},{xtype:"konsul-list",reference:"konsullist",title:"Daftar Konsul",split:true,flex:1}],load:function(g){var p=this,q=p.down("konsul-form"),o=p.down("konsul-list");if(g){var f=g.get("STATUS")!=1;console.log(g);o.setListConfig({paging:false,status:g.get("STATUS")==1});q.setHidden(f);if(!f){q.createRecord({KUNJUNGAN:g.get("NOMOR"),TANGGAL:p.getSysdate(),REFERENSI:{KUNJUNGAN:g.data}});q.setFormConfig({readOnly:f,baru:!f,kirim:!f,tanggal:g.get("MASUK")})}o.loadStore({NOPEN:g.get("NOPEN"),ASAL:g.get("RUANGAN"),HISTORY:1})}}},0,["konsul-workspace"],["component","box","container","panel","form","com-form","konsul-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"konsul-workspace":true},["widget.konsul-workspace"],0,[pendaftaran.konsul.konsul,"Workspace"],0));(Ext.cmd.derive("pendaftaran.konsul.konsul.WorkspaceController",Ext.app.ViewController,{onKirim:function(e){var m=this,f=m.getReferences();f.konsullist.refresh()}},0,0,0,0,["controller.konsul-workspace"],0,[pendaftaran.konsul.konsul,"WorkspaceController"],0));(Ext.cmd.derive("pendaftaran.konsul.riwayat.Workspace",Ext.panel.Panel,{controller:"riwayat-konsul-workspace",layout:"border",items:[{region:"center",xtype:"konsul-list",flex:1.5,reference:"konsullistriwayat",title:"Riwayat",listeners:{select:"onSelect"}},{region:"east",xtype:"jawab-konsul-form",reference:"konsuljawab",title:"Jawaban Konsul",split:true,flex:1}],load:function(e){var s=this,q=s.down("konsul-list"),g=s.down("jawab-konsul-form"),t=e.get("REFERENSI")?e.get("REFERENSI"):null,f=t?(t.PENDAFTARAN?t.PENDAFTARAN:0):0;g.setFormConfig({readOnly:true,simpan:false});q.setListConfig({paging:true,status:false});if(e){q.loadStore({NORM:f.NORM,HISTORY:1,STATUS:2})}g.reset()}},0,["riwayat-konsul-workspace"],["component","box","container","panel","riwayat-konsul-workspace"],{component:true,box:true,container:true,panel:true,"riwayat-konsul-workspace":true},["widget.riwayat-konsul-workspace"],0,[pendaftaran.konsul.riwayat,"Workspace"],0));(Ext.cmd.derive("pendaftaran.konsul.riwayat.WorkspaceController",Ext.app.ViewController,{onSelect:function(e,m){var f=this.getReferences();f.konsuljawab.setLoading(true);if(data.model){data.model.JawabKonsul.load(m.get("NOMOR"),{callback:function(g,l,k){if(k){f.konsuljawab.loadRecord(g)}else{f.konsuljawab.loadRecord(Ext.create("data.model.JawabKonsul"))}f.konsuljawab.setLoading(false)}})}}},0,0,0,0,["controller.riwayat-konsul-workspace"],0,[pendaftaran.konsul.riwayat,"WorkspaceController"],0));(Ext.cmd.derive("pendaftaran.konsul.terima.List",com.Grid,{controller:"terima-konsul",viewModel:{data:{inProses:false,confDering:{valDering:false,statusRing:"Off"},dering:""},stores:{store:{type:"konsul-store"}}},title:"Pengunjung Konsul",iconCls:"x-fa fa-wheelchair",header:{items:[{xtype:"search-field",emptyText:"[NORM]",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}},{xtype:"button",iconCls:"x-fa fa-cog",ui:"soft-black",tooltip:"Pilihan",arrowVisible:false,menu:[{text:"Notifikasi Dering",iconCls:"x-fa fa-volume-up",menu:[{xtype:"checkbox",margin:"2.2.2.2",reference:"statusdering",inputValue:true,uncheckedValue:false,bind:{boxLabel:"{confDering.statusRing}"},name:"SONG",listeners:{change:"onChangeRingtone"}},{xtype:"panel",bind:{html:"{dering}"}}]}]}]},hideHeaders:true,first:true,columns:[{xtype:"templatecolumn",flex:2,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[this.getFormatNorm(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NORM)]} - {[this.getNamaLengkap(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN)]}</div>',"<div>{[this.getFormatPendaftaran(values.REFERENSI.KUNJUNGAN.NOPEN)]} - {[this.tanggalFormat(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.TANGGAL)]}</div>",'<div style="font-size: 12px; white-space:normal !important;">{NOMOR} - {[this.tanggalFormat(values.TANGGAL)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Asal: {[this.getAsal(values.REFERENSI.KUNJUNGAN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Tujuan: {[this.getTujuan(values.REFERENSI.TUJUAN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.getDokterAsal(values.REFERENSI.DOKTER_ASAL)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Penjamin: {[this.getPenjamin(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.PENJAMIN)]}</div>',{getFormatNorm:function(m){var f=Ext.String.leftPad(m,8,"0"),e=Ext.String.insert(Ext.String.insert(Ext.String.insert(f,".",2),".",5),".",8);return e},getNamaLengkap:function(e){var g=e.GELAR_DEPAN||"",o=e.NAMA||"",f=e.GELAR_BELAKANG||"";g=g==""?"":g+". ";f=f==""?"":", "+f;return g+o+f},getDokterAsal:function(k){var g=k.NAMA||"";return g},getFormatPendaftaran:function(f){return f.substring(0,6)+"."+f.substring(6)},tanggalFormat:function(g){var k=Ext.isDate(g)?g:Ext.Date.parse(g,"Y-m-d H:i:s");return Ext.Date.format(k,"d-m-Y H:i:s")},getAsal:function(p){var m=p.REFERENSI,q=p.JENIS_KUNJUNGAN==3,B=m?(m.RUANGAN?m.RUANGAN.DESKRIPSI:""):"",t=m&&q?m.RUANG_KAMAR_TIDUR:null,s=t?t.REFERENSI.RUANG_KAMAR:null,k=t?t.TEMPAT_TIDUR:"",l=s?s.KAMAR:"",o=s?(s.REFERENSI.KELAS?s.REFERENSI.KELAS.DESKRIPSI:""):"",n=B+(q?"</br>"+l+" / "+k+" / "+o:"");return n},getTujuan:function(e){var f=e?e:null,m=f?f.DESKRIPSI:"";return m},getPenjamin:function(o){var m=o.REFERENSI,l=m.KAP,n=l.REFERENSI.PENJAMIN.DESKRIPSI+(l.NOMOR==""?"":"-"+l.NOMOR)+" [ Kls. "+(m.KELAS?m.KELAS.DESKRIPSI:"")+" - SEP. "+o.NOMOR+" ]";return n}})},{xtype:"widgetcolumn",text:"Status",flex:1,align:"right",widget:{xtype:"fieldcontainer",defaults:{padding:2},items:[{xtype:"button",text:"Terima",action:0,margin:"0 1 0 0",handler:"onTerima"},{xtype:"button",text:"Batal",action:1,ui:"soft-red",handler:"onBatal"}]}}],onBeforeLoad:function(m,l,n){var o=l.get("config");if(m.first){m.first=false}l.set("config",o);m.setParams({COLUMNS:'["NOMOR","KUNJUNGAN","TANGGAL","DOKTER_ASAL","TUJUAN","STATUS"]',REFERENSI:Ext.JSON.encode({Kunjungan:{COLUMNS:["NOMOR","NOPEN","JENIS_KUNJUNGAN","RUANGAN","RUANG_KAMAR_TIDUR","STATUS"],REFERENSI:{Ruangan:{},RuangKamarTidur:{REFERENSI:{RuangKamar:{REFERENSI:{Kelas:true}}}},Pendaftaran:{COLUMNS:["NOMOR","NORM","TANGGAL"],REFERENSI:{Pasien:{COLUMNS:["NORM","GELAR_DEPAN","NAMA","GELAR_BELAKANG","JENIS_KELAMIN","TANGGAL_LAHIR","TEMPAT_LAHIR"]},Penjamin:{REFERENSI:{Kelas:true,KAP:true}}}}}},Dokter:true,Ruangan:{COLUMNS:["DESKRIPSI"]}})})},doAfterLoad:function(o,l,m,n){o.setStatusRingTone()},setStatusRingTone:function(){var x=this,v=this.getViewModel(),f=v.get("confDering")||{},g=v.get("store"),u=(g)?g.count():0,w=location.origin+location.pathname,t=Ext.util.Cookies.get("PengunjungKonsulDering"),e=t?Ext.JSON.decode(Ext.util.Base64.decode(t)):false;if(e){f=Ext.apply(f,e);v.set("confDering",f);x.getReferences().statusdering.setValue(e.valDering)}if(f.valDering!=true){v.set("dering","")}else{if(u>0){v.set("dering",'<audio src="'+w+'resources/ringtone/dering.mp3" autoplay="autoplay" loop></audio>')}else{v.set("dering","")}}}},0,["terima-konsul"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","terima-konsul"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"terima-konsul":true},["widget.terima-konsul"],0,[pendaftaran.konsul.terima,"List"],0));(Ext.cmd.derive("pendaftaran.konsul.terima.ListController",Ext.app.ViewController,{filter:{norm:"",tanggal:{checked:false,value:new Date()}},orderSelected:{property:"TANGGAL",direction:"ASC"},onSearch:function(g,k){this.filter.norm=k;this.cari()},onClear:function(){this.filter.norm="";this.cari()},onChange:function(e,o){var n=this,p=n.getView(),q=p.down("search-field");if(o==""){q.onClearClick()}},onTerima:function(s){var e=this,q=e.getView(),t=e.getViewModel(),p=s.ownerCt.getWidgetRecord(),f=p.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NAMA;q.waitRefresh=true;q.showMessageBox({title:"Penerimaan Pasien Konsul",message:"Anda yakin ingin menerima Konsul Pasien An. "+f+" ?",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:s,fn:function(k){if(k==="yes"){t.set("inProses",true);var g=Ext.create("data.model.Kunjungan",{NOPEN:p.get("REFERENSI").KUNJUNGAN.NOPEN,RUANGAN:p.get("TUJUAN"),REF:p.get("NOMOR"),STATUS:1});g.showError=true;g.animateTarget=k;g.scope=e;g.save({callback:function(n,l,m){q.waitRefresh=false;if(m){q.remove(s.ownerCt);q.notifyMessage("Penerimaan Konsul Pasien An. "+f+" berhasil");q.fireEvent("terima",p);q.refresh()}t.set("inProses",false)}})}else{q.waitRefresh=false;t.set("inProses",false)}}})},onBatal:function(t){var e=this,s=e.getView(),q=t.ownerCt.getWidgetRecord(),p=q.get("STATUS"),f=q.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NAMA;s.waitRefresh=true;q.showError=true;q.animateTarget=t;q.scope=e;s.showMessageBox({title:"Pembatalan Penerimaan Pasien Konsul",message:"Anda yakin ingin membatalkan penerimaan Konsul Pasien An. "+f+" ?",ui:"window-warning",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:t,fn:function(g){if(g==="yes"){q.set("STATUS",0);q.save({callback:function(l,k,m){s.waitRefresh=false;if(m){s.remove(t.ownerCt);s.notifyMessage("Pembatalan penerimaan Konsul Pasien An. "+f+" berhasil");s.refresh()}else{q.set("STATUS",p)}}})}else{s.waitRefresh=false;q.set("STATUS",p)}}})},onChangeRingtone:function(e,q,p){var o=this,n=o.getViewModel();confDering=n.get("confDering")||{},obj={valDering:q,statusRing:(q)?"On":"Off"};valBase=Ext.util.Base64.encode(Ext.JSON.encode(obj));Ext.util.Cookies.set("PengunjungKonsulDering",valBase);o.getView().setStatusRingTone()},privates:{cari:function(){var l=this,n=l.getView(),o=n.down("pagingtoolbar"),m={sort:Ext.JSON.encode(l.orderSelected)};if(l.filter.norm==""){delete n.getStore().queryParams.NORM}else{m.NORM=l.filter.norm}if(!l.filter.tanggal.checked){delete n.getStore().queryParams.TANGGAL}else{m.TANGGAL=Ext.Date.format(l.filter.tanggal.value,"Y-m-d")}n.setParams(m);if(o){o.moveFirst()}else{n.load()}}}},0,0,0,0,["controller.terima-konsul"],0,[pendaftaran.konsul.terima,"ListController"],0));(Ext.cmd.derive("pendaftaran.mutasi.List",com.Grid,{controller:"mutasi-list",viewModel:{stores:{store:{type:"mutasi-store"}}},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Nomor",dataIndex:"NOMOR",sortable:false,flex:1},{xtype:"datecolumn",text:"Tanggal",dataIndex:"TANGGAL",format:"d/m/Y H:i:s",sortable:false},{xtype:"templatecolumn",text:"Asal",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.KUNJUNGAN.REFERENSI.RUANGAN.DESKRIPSI}</div>'},{xtype:"templatecolumn",text:"Tujuan",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.TUJUAN.DESKRIPSI}</div>'}]},0,["mutasi-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","mutasi-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"mutasi-list":true},["widget.mutasi-list"],0,[pendaftaran.mutasi,"List"],0));(Ext.cmd.derive("pendaftaran.mutasi.ListController",Ext.app.ViewController,{},0,0,0,0,["controller.mutasi-list"],0,[pendaftaran.mutasi,"ListController"],0));(Ext.cmd.derive("pendaftaran.mutasi.Workspace",com.Tab,{controller:"mutasi-workspace",bodyPadding:5,kunjungan:undefined,items:[{title:"Mutasi",xtype:"permintaan-mutasi-workspace",reference:"mutasi"},{title:"Riwayat Mutasi",xtype:"riwayat-mutasi-workspace",reference:"riwayatmutasi"}],load:function(k){var m=this,l=this.getActiveTab();this.kunjungan=k;if(l){l.load(k)}else{if(m.items.getCount()>0){m.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["mutasi-workspace"],["component","box","container","panel","tabpanel","com-tab","mutasi-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"mutasi-workspace":true},["widget.mutasi-workspace"],0,[pendaftaran.mutasi,"Workspace"],0));(Ext.cmd.derive("pendaftaran.mutasi.WorkspaceController",Ext.app.ViewController,{onTabChange:function(m,l){var k=this.getView().kunjungan;if(l.load){l.load(k)}}},0,0,0,0,["controller.mutasi-workspace"],0,[pendaftaran.mutasi,"WorkspaceController"],0));(Ext.cmd.derive("pendaftaran.mutasi.permintaan.Form",com.Form,{controller:"mutasi-form",model:"data.model.Mutasi",viewModel:{data:{nopenIbu:""}},layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 2 2 0"},bodyPadding:5,title:"Form Mutasi",initComponent:function(){var k=this,g=new Date();k.items=[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},margin:"0 0 3 0",items:[{xtype:"checkboxfield",name:"IKUT_IBU",boxLabel:"Ikut Ibu ?",boxLabelAlign:"before",reference:"ikutibu",checked:false,bind:{value:"{formConfig.ikutIbu}",hidden:"{!formConfig.isBayi}"},listeners:{change:"onChangeIkutIbu"}},{xtype:"combobox",name:"KUNJUNGAN_IBU",hideTrigger:true,reference:"kunjunganibu",displayField:"DESKRIPSI",valueField:"NOMOR",store:Ext.create("Ext.data.Store",{fields:["NOMOR","DESKRIPSI"]}),readOnly:true,flex:1,bind:{hidden:"{!formConfig.isBayi}"}},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-female",handler:"onPilihKunjunganIbu",bind:{disabled:"{!formConfig.ikutIbu}",hidden:"{!formConfig.isBayi}"}}]},{xtype:"ruangan-mutasi-combo",hideTrigger:false,allowBlank:false,reference:"ruanganselection",name:"TUJUAN",params:{STATUS:1},bind:{readOnly:"{formConfig.viewOnly || ikutibu.checked}"},listeners:{select:"onRuanganSelected"}},{xtype:"reservasi-selection",reference:"reservasiselection",bodyPadding:0,border:false,listeners:{ruanganreserved:"onRuanganReserved"},bind:{hidden:"{ikutibu.checked}"}},{xtype:"fieldcontainer",layout:{type:"hbox"},defaults:{allowBlank:false,value:g},items:[{name:"TANGGAL",reference:"tanggal",flex:1,xtype:"datefield",emptyText:"[Pilih Tanggal Mutasi]",format:"d/m/Y",maxValue:g,margin:"0 1 0 0",bind:{readOnly:"{formConfig.viewOnly}",minValue:"{formConfig.tanggal}"}},{name:"WAKTU",reference:"waktu",width:105,xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",format:"H:i:s",hideTrigger:true,bind:{readOnly:"{formConfig.viewOnly}"}}]}];k.buttons=[{text:"Kirim",iconCls:"x-fa fa-save",hidden:true,bind:{hidden:"{!formConfig.kirim}"},handler:"onKirim"},{text:"Batalkan",hidden:true,bind:{hidden:"{!formConfig.batal}"},handler:"onBatal"}];k.callParent(arguments)},onLoadRecord:function(v,x){var g=v.getViewModel(),f=v.down("ruangan-mutasi-combo"),e=v.down("[name=WAKTU]");if(x){var u=x.get("REFERENSI"),w=u?(u.KUNJUNGAN?u.KUNJUNGAN.RUANGAN:0):0,t=u?(u.TUJUAN?(Ext.create("data.model.Ruangan",u.TUJUAN)):null):null;e.setValue(x.get("TANGGAL"));f.params.RUANGAN=w;f.load();f.doAfterLoad=function(m,k,l){f.focus(false,100)}}},setFormConfig:function(o){var m=this,l=m.getViewModel(),n=m.down?m.down("reservasi-selection"):null;m.callParent(arguments);if(n){n.setSelectionConfig({readOnly:l.get("formConfig.viewOnly"),reservasi:!l.get("formConfig.viewOnly")})}},onBeforeGetRecord:function(e,o){var n=e.down("[name=TANGGAL]").getValue(),q=e.down("[name=WAKTU]").getValue(),p=e.down("[name=IKUT_IBU]").getValue();n.setHours(q.getHours());n.setMinutes(q.getMinutes());n.setSeconds(q.getSeconds());o.TANGGAL=n;o.IKUT_IBU=p?1:0},setNoPendaftaranIbu:function(f){this.getViewModel().set("nopenIbu",f)}},0,["mutasi-form"],["component","box","container","panel","form","com-form","mutasi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"mutasi-form":true},["widget.mutasi-form"],0,[pendaftaran.mutasi.permintaan,"Form"],0));(Ext.cmd.derive("pendaftaran.mutasi.permintaan.FormController",Ext.app.ViewController,{onKirim:function(m){var k=this,l=k.getView();l.setLoading(true);l.save(m,{success:"Permintaan mutasi anda telah terkirim"},function(g,e,f){if(f){l.setFormConfig({viewOnly:true,kirim:false,batal:true});l.fireEvent("kirim",g)}})},onBatal:function(o){var l=this,n=l.getView(),m=n.getRecord();if(m){Ext.Msg.show({title:"Pembatalan Mutasi",message:"Anda yakin ingin membatalkan mutasi ini ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:o,fn:function(e){if(e==="yes"){m.set("STATUS",0);n.save(o,{success:"Pembatalan mutasi berhasil"},function(f,g,k){if(k){n.setFormConfig({readOnly:false,kirim:true,batal:false})}else{f.set("STATUS",1)}})}}})}},onRuanganSelected:function(l,k){if(!this.getViewModel().get("formConfig.ikutIbu")){var m=Ext.create("data.model.Ruangan",k.get("REFERENSI").MUTASI);this.getReferences().reservasiselection.setRuangan(m)}},onRuanganReserved:function(m){var l=this.getReferences(),k=l.ruanganselection.findRecordByValue(m.get("ID"));l.ruanganselection.select(k)},onPilihKunjunganIbu:function(){var m=this,o=m.getViewModel(),n=m.getView(),l=m.getReferences();n.openDialog("",true,"90%","70%",{xtype:"kunjungan-list",ui:"panel-cyan",showCloseButton:true,title:"History Kunjungan Pasien"},function(g,e){var k=e.down("kunjungan-list");k.setListConfig({paging:true,hiddenLihatAction:true,pencarian:{norm:{enabled:true},nama:{enabled:true}}});k.hideColumnConfig({pasien:false,action:true});k.on({itemdblclick:function(q,F,p,H,I,J){var E=n.getReferensi(F.data,"RUANGAN"),L=n.getReferensi(F.data,"PENDAFTARAN"),G=n.getReferensi(L,"PASIEN"),K=Ext.create("Ext.data.Model",{NOMOR:F.get("NOMOR"),DESKRIPSI:G.NAMA}),s=E?Ext.create("data.model.RuanganMutasi",{RUANGAN:0,MUTASI:E.ID,STATUS:1,REFERENSI:{MUTASI:E}}):null;l.ruanganselection.select(s);l.kunjunganibu.select(K);e.close()}});var f={STATUS:1,JENIS_KUNJUNGAN:3,HISTORY:1,JENIS_KELAMIN:2,REFERENSI:Ext.JSON.encode({Ruangan:true,Referensi:true,RuangKamarTidur:true,Pendaftaran:{COLUMNS:["NOMOR","NORM"],REFERENSI:{Pasien:true,TujuanPasien:true}}})};if(o.get("nopenIbu")!=""){f.NOPEN=o.get("nopenIbu")}k.loadStore(f)})},onChangeIkutIbu:function(p,o,n){var e=this,q=e.getReferences();q.reservasiselection.setAllowBlankNomorReservasi(o)}},0,0,0,0,["controller.mutasi-form"],0,[pendaftaran.mutasi.permintaan,"FormController"],0));(Ext.cmd.derive("pendaftaran.mutasi.permintaan.Workspace",com.Form,{controller:"permintaan-mutasi-workspace",viewModel:{stores:{store:{type:"mutasi-store"},kunjungan:{type:"kunjungan-store"}}},layout:"border",items:[{region:"center",xtype:"mutasi-form",reference:"mutasiform",listeners:{kirim:"onKirim"}}],load:function(k){var I=this,e=I.down("mutasi-form");if(k&&e){var m=k.get("STATUS")!=1,l=I.getViewModel().get("store"),H=I.getViewModel().get("kunjungan"),g=k.get("REFERENSI")?k.get("REFERENSI"):null,L=g?(g.PEMBATALAN?g.PEMBATALAN:false):false,J=L?(L.JENIS==1):false,f=I.getReferensi(k.data,"PENDAFTARAN"),G=I.getReferensi(f,"PASIEN"),o=Ext.Date.diff(Ext.Date.parse(G.TANGGAL_LAHIR,"Y-m-d H:i:s"),I.getSysdate(),Ext.Date.DAY),n=I.getPropertyConfig(13),K=(o<=n);e.createRecord({KUNJUNGAN:k.get("NOMOR"),TANGGAL:I.getSysdate(),REFERENSI:{KUNJUNGAN:k.data}});e.setFormConfig({viewOnly:m,kirim:!m,tanggal:k.get("MASUK"),batal:J?false:m,isBayi:K});if(l){l.removeAll();l.queryParams={KUNJUNGAN:k.get("NOMOR")};l.load(function(s,p,t){if(t){var q=false;Ext.Array.each(s,function(x){var A=x.get("STATUS")!=0,v=x.get("REFERENSI")?x.get("REFERENSI"):null,w=v?(v.KUNJUNGAN?v.KUNJUNGAN:null):null,y=w?(w.REFERENSI?w.REFERENSI:null):null,u=y?(y.PEMBATALAN?y.PEMBATALAN:null):null,z=u?(u.JENIS==1):false;if(A&!q){e.loadRecord(x);e.setFormConfig({viewOnly:A,kirim:!A,batal:z?false:A,isBayi:K});q=true}});if(m){e.setFormConfig({viewOnly:true,kirim:false,batal:false,isBayi:K})}}})}if(H){var F=f.TUJUAN;if(F.IKUT_IBU==1){H.removeAll();H.queryParams={NOMOR:F.KUNJUNGAN_IBU};H.load(function(q,p,s){if(s){if(q.length>0){e.setNoPendaftaranIbu(q[0].get("NOPEN"))}}})}}}}},0,["permintaan-mutasi-workspace"],["component","box","container","panel","form","com-form","permintaan-mutasi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"permintaan-mutasi-workspace":true},["widget.permintaan-mutasi-workspace"],0,[pendaftaran.mutasi.permintaan,"Workspace"],0));(Ext.cmd.derive("pendaftaran.mutasi.permintaan.WorkspaceController",Ext.app.ViewController,{onKirim:function(f){}},0,0,0,0,["controller.permintaan-mutasi-workspace"],0,[pendaftaran.mutasi.permintaan,"WorkspaceController"],0));(Ext.cmd.derive("pendaftaran.mutasi.riwayat.Workspace",com.Form,{controller:"riwayat-mutasi-workspace",layout:"fit",items:[{xtype:"mutasi-list",reference:"mutasilistriwayat",title:"Riwayat"}],load:function(k){var m=this,l=m.down("mutasi-list");l.setListConfig({paging:true,status:false});if(k){l.loadStore({KUNJUNGAN:k.get("NOMOR"),HISTORY:1,STATUS:2})}}},0,["riwayat-mutasi-workspace"],["component","box","container","panel","form","com-form","riwayat-mutasi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"riwayat-mutasi-workspace":true},["widget.riwayat-mutasi-workspace"],0,[pendaftaran.mutasi.riwayat,"Workspace"],0));(Ext.cmd.derive("pendaftaran.mutasi.riwayat.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.riwayat-mutasi-workspace"],0,[pendaftaran.mutasi.riwayat,"WorkspaceController"],0));(Ext.cmd.derive("pendaftaran.mutasi.terima.List",com.Grid,{controller:"terima-mutasi",viewModel:{data:{inProses:false,confDering:{valDering:false,statusRing:"Off"},dering:""},stores:{store:{type:"mutasi-store"}}},ui:"panel-simpel-back",title:"Pengunjung Mutasi",iconCls:"x-fa fa-bed",header:{items:[{xtype:"search-field",emptyText:"[NORM]",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}},{xtype:"button",iconCls:"x-fa fa-cog",ui:"soft-black",tooltip:"Pilihan",arrowVisible:false,menu:[{text:"Notifikasi Dering",iconCls:"x-fa fa-volume-up",menu:[{xtype:"checkbox",margin:"2.2.2.2",reference:"statusdering",inputValue:true,uncheckedValue:false,bind:{boxLabel:"{confDering.statusRing}"},name:"SONG",listeners:{change:"onChangeRingtone"}},{xtype:"panel",bind:{html:"{dering}"}}]}]}]},hideHeaders:true,first:true,columns:[{xtype:"templatecolumn",flex:2,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[this.getFormatNorm(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NORM)]} - {[this.getNamaLengkap(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN)]}</div>',"<div>{[this.getFormatPendaftaran(values.REFERENSI.KUNJUNGAN.NOPEN)]} - {[this.tanggalFormat(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.TANGGAL)]}</div>",'<div style="font-size: 12px; white-space:normal !important;">{NOMOR} - {[this.tanggalFormat(values.TANGGAL)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Asal: <b>{[this.getAsal(values.REFERENSI.KUNJUNGAN)]}</b></div>','<div style="font-size: 12px; white-space:normal !important;">Tujuan: <b>{[this.getTujuan(values)]}</b></div>','<div style="font-size: 12px; white-space:normal !important;">Penjamin: {[this.getPenjamin(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.PENJAMIN)]}</div>',{getFormatNorm:function(m){var f=Ext.String.leftPad(m,8,"0"),e=Ext.String.insert(Ext.String.insert(Ext.String.insert(f,".",2),".",5),".",8);return e},getNamaLengkap:function(e){var g=e.GELAR_DEPAN||"",o=e.NAMA||"",f=e.GELAR_BELAKANG||"";g=g==""?"":g+". ";f=f==""?"":", "+f;return g+o+f},getFormatPendaftaran:function(f){return f.substring(0,6)+"."+f.substring(6)},tanggalFormat:function(g){var k=Ext.isDate(g)?g:Ext.Date.parse(g,"Y-m-d H:i:s");return Ext.Date.format(k,"d-m-Y H:i:s")},getAsal:function(n){var z=n.REFERENSI,q=z?(z.RUANGAN?z.RUANGAN.DESKRIPSI:""):"",p=z?z.RUANG_KAMAR_TIDUR:null,o=p?p.REFERENSI.RUANG_KAMAR:null,l=p?p.TEMPAT_TIDUR:"",y=o?o.KAMAR:"",m=o?(o.REFERENSI.KELAS?o.REFERENSI.KELAS.DESKRIPSI:""):"",k=q+"</br>"+y+" / "+l+" / "+m;return k},getTujuan:function(s){var p="";if(s.IKUT_IBU==0){var H=s.REFERENSI.RESERVASI.REFERENSI,u=H?H.RUANG_KAMAR_TIDUR:null,n=u?u.REFERENSI.RUANG_KAMAR:null,o=n?n.REFERENSI.RUANGAN.DESKRIPSI:"",J=u?u.TEMPAT_TIDUR:"",q=n?n.KAMAR:"",k=n?(n.REFERENSI.KELAS?n.REFERENSI.KELAS.DESKRIPSI:""):"";p=o+"</br>"+q+" / "+J+" / "+k+"</br>No. Resevasi : "+s.NOMOR}else{var v=s.REFERENSI.KUNJUNGAN_IBU,l=v.REFERENSI.RUANGAN.DESKRIPSI,t=v.REFERENSI.RUANG_KAMAR_TIDUR,m=t.REFERENSI.RUANG_KAMAR,I=m.REFERENSI.KELAS.DESKRIPSI;p=(l?l:"")+"</br>"+(m.KAMAR?m.KAMAR:"")+" / "+(t.TEMPAT_TIDUR?t.TEMPAT_TIDUR:"")+" / "+(I?I:"");p=p+"</br><span style='color: #31ade5'>Ikut Ibu</span>"}return p},getPenjamin:function(o){var m=o.REFERENSI,l=m.KAP,n=l.REFERENSI.PENJAMIN.DESKRIPSI+(l.NOMOR==""?"":"-"+l.NOMOR)+" [ Kls. "+(m.KELAS?m.KELAS.DESKRIPSI:"")+" - SEP. "+o.NOMOR+" ]";return n}})},{xtype:"widgetcolumn",text:"Status",flex:1,align:"right",widget:{xtype:"fieldcontainer",defaults:{padding:2},items:[{xtype:"button",text:"Terima",action:0,margin:"0 1 0 0",handler:"onTerima"},{xtype:"button",text:"Batal",action:1,ui:"soft-red",handler:"onBatal"}]}}],onBeforeLoad:function(m,l,n){var o=l.get("config");if(m.first){m.first=false}l.set("config",o);m.setParams({COLUMNS:'["NOMOR","KUNJUNGAN","TANGGAL","TUJUAN","IKUT_IBU","KUNJUNGAN_IBU","RESERVASI","STATUS"]',REFERENSI:Ext.JSON.encode({Kunjungan:{COLUMNS:["NOMOR","NOPEN","JENIS_KUNJUNGAN","RUANGAN","RUANG_KAMAR_TIDUR","STATUS"],REFERENSI:{Ruangan:{},RuangKamarTidur:{REFERENSI:{RuangKamar:{REFERENSI:{Kelas:true}}}},Pendaftaran:{COLUMNS:["NOMOR","NORM","TANGGAL"],REFERENSI:{Pasien:{COLUMNS:["NORM","GELAR_DEPAN","NAMA","GELAR_BELAKANG","JENIS_KELAMIN","TANGGAL_LAHIR","TEMPAT_LAHIR"]},Penjamin:{REFERENSI:{Kelas:true,KAP:true}}}}}},Ruangan:{COLUMNS:["DESKRIPSI"]},Reservasi:true})})},doAfterLoad:function(o,l,m,n){o.setStatusRingTone()},setStatusRingTone:function(){var x=this,v=this.getViewModel(),f=v.get("confDering")||{},g=v.get("store"),u=(g)?g.count():0,w=location.origin+location.pathname,t=Ext.util.Cookies.get("PengunjungMutasiDering"),e=t?Ext.JSON.decode(Ext.util.Base64.decode(t)):false;if(e){f=Ext.apply(f,e);v.set("confDering",f);x.getReferences().statusdering.setValue(e.valDering)}if(f.valDering!=true){v.set("dering","")}else{if(u>0){v.set("dering",'<audio src="'+w+'resources/ringtone/dering.mp3" autoplay="autoplay" loop></audio>')}else{v.set("dering","")}}}},0,["terima-mutasi"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","terima-mutasi"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"terima-mutasi":true},["widget.terima-mutasi"],0,[pendaftaran.mutasi.terima,"List"],0));(Ext.cmd.derive("pendaftaran.mutasi.terima.ListController",Ext.app.ViewController,{filter:{norm:"",tanggal:{checked:false,value:new Date()}},orderSelected:{property:"TANGGAL",direction:"ASC"},onSearch:function(g,k){this.filter.norm=k;this.cari()},onClear:function(){this.filter.norm="";this.cari()},onChange:function(e,o){var n=this,p=n.getView(),q=p.down("search-field");if(o==""){q.onClearClick()}},onTerima:function(q){var e=this,p=e.getView(),o=q.ownerCt.getWidgetRecord(),n=o.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NAMA;p.waitRefresh=true;p.showMessageBox({title:"Penerimaan Pasien Mutasi",message:"Anda yakin ingin menerima Mutasi Pasien An. "+n+" ?",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:q,fn:function(k){if(k==="yes"){var m=p.getReferensi(o.data,"KUNJUNGAN"),v=p.getReferensi(o.data,"RESERVASI"),l={NOPEN:m.NOPEN,RUANGAN:o.get("TUJUAN"),REF:o.get("NOMOR"),RUANG_KAMAR_TIDUR:v?v.RUANG_KAMAR_TIDUR:0,STATUS:1};if(o.get("IKUT_IBU")==1){var u=o.get("IKUT_IBU")==1?p.getReferensi(o.data,"KUNJUNGAN_IBU"):null,g=p.getReferensi(u,"RUANG_KAMAR_TIDUR","ID");l.RUANG_KAMAR_TIDUR=g}var f=Ext.create("data.model.Kunjungan",l);f.showError=true;f.animateTarget=q;f.scope=e;f.save({callback:function(t,x,s){p.waitRefresh=false;if(s){p.remove(q.ownerCt);p.notifyMessage("Penerimaan Mutasi Pasien An. "+n+" berhasil");p.fireEvent("terima",t);p.refresh()}}})}else{p.waitRefresh=false}}})},onBatal:function(s){var t=this,q=t.getView(),f=s.ownerCt.getWidgetRecord(),p=f.get("STATUS"),e=f.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NAMA;q.waitReresh=true;f.showError=true;f.animateTarget=s;f.scope=t;q.showMessageBox({title:"Pembatalan Penerimaan Pasien Mutasi",message:"Anda yakin ingin membatalkan penerimaan Mutasi Pasien An. "+e+" ?",ui:"window-warning",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:s,fn:function(g){if(g==="yes"){f.set("STATUS",0);f.save({callback:function(l,k,m){q.waitRefresh=false;if(m){q.remove(s.ownerCt);q.notifyMessage("Pembatalan penerimaan Mutasi Pasien An. "+e+" berhasil");q.refresh()}else{l.set("STATUS",p)}}})}else{q.waitRefresh=false;f.set("STATUS",p)}}})},onChangeRingtone:function(e,q,p){var o=this,n=o.getViewModel();confDering=n.get("confDering")||{},obj={valDering:q,statusRing:(q)?"On":"Off"};valBase=Ext.util.Base64.encode(Ext.JSON.encode(obj));Ext.util.Cookies.set("PengunjungMutasiDering",valBase);o.getView().setStatusRingTone()},privates:{cari:function(){var l=this,n=l.getView(),o=n.down("pagingtoolbar"),m={sort:Ext.JSON.encode(l.orderSelected)};if(l.filter.norm==""){delete n.getStore().queryParams.NORM}else{m.NORM=l.filter.norm}if(!l.filter.tanggal.checked){delete n.getStore().queryParams.TANGGAL}else{m.TANGGAL=Ext.Date.format(l.filter.tanggal.value,"Y-m-d")}n.setParams(m);if(o){o.moveFirst()}else{n.load()}}}},0,0,0,0,["controller.terima-mutasi"],0,[pendaftaran.mutasi.terima,"ListController"],0));(Ext.cmd.derive("pendaftaran.online.reservasi.List",com.Grid,{controller:"pendaftaran-online-reservasi-list",viewModel:{stores:{store:{type:"pendaftaran-online-reservasi-store"}},data:{tgltemp:undefined}},initComponent:function(){var f=this;f.createMenuContext();f.dockedItems=[{xtype:"toolbar",dock:"top",items:["->",{xtype:"datefield",name:"FTANGGAL",format:"d-m-Y",reference:"ftanggal",listeners:{change:"onChangeTgl"}},{xtype:"combobox",emptyText:"[Jenis Pendaftaran]",displayField:"deskripsi",reference:"fjenis",valueField:"jenis",store:Ext.create("Ext.data.Store",{fields:["jenis","deskripsi"],data:[{jenis:"1",deskripsi:"P. Lama"},{jenis:"2",deskripsi:"P. Baru"}]}),listeners:{select:"onChangeTgl"}},{xtype:"button",ui:"soft-red",iconCls:"x-fa fa-print",tooltip:"Print Kunjungan",listeners:{scope:f.getController(),click:"onCetak"}}]},{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",beforePageText:"Hal.",afterPageText:"dari {0}",displayMsg:"Menampilkan {0} - {1} dari {2}",displayInfo:true}];f.columns=[{text:"No Antrian",dataIndex:"NO",align:"left",flex:0.3,renderer:"onAntrian"},{text:"Poli Tujuan",dataIndex:"POLI",align:"left",flex:0.5,renderer:"onPoli"},{text:"Tgl. Kunjungan",align:"left",dataIndex:"TANGGALKUNJUGAN",flex:0.5,renderer:"onTglK"},{text:"Cara Bayar",align:"left",dataIndex:"CARABAYAR",flex:0.5,renderer:"onCaraBayar"},{text:"No RM",align:"left",dataIndex:"NORM",flex:0.5,renderer:"onNorm"},{text:"Nama",dataIndex:"NAMA",align:"left",renderer:"onRenderNama",flex:0.5},{text:"Contact",align:"left",dataIndex:"CONTACT",flex:0.5,renderer:"onCont"},{xtype:"datecolumn",format:"d-m-Y",text:"Tgl. Lahir",dataIndex:"TGL_LAHIR",align:"left",renderer:"onRenderTgl",flex:0.5},{text:"Jenis Pendaftar",align:"left",dataIndex:"JENIS",flex:0.5,renderer:"onRenderJenis"},{text:"Res",xtype:"actioncolumn",align:"center",width:50,items:[{xtype:"tool",iconCls:"x-fa fa-arrow-circle-right",tooltip:"Terima Kedatangan Pasien",handler:"onClickRespon"}]}];f.callParent(arguments)},listeners:{rowcontextmenu:"onKlikKananMenu"},createMenuContext:function(){var f=this;f.menucontext=new Ext.menu.Menu({items:[{text:"Terima Kedatangan Pasien",iconCls:"x-fa fa-arrow-circle-right",handler:function(){f.getController().onRespon()}},{text:"Refresh",glyph:"xf021@FontAwesome",handler:function(){f.getController().onRefresh()}}]});return f.menucontext},loadData:function(){var e=this,p=e.getViewModel(),o=e.down("[name = FTANGGAL]"),n=Ext.Date.format(p.get("tgltemp"),"d-m-Y"),q=Ext.Date.format(e.getSysdate(),"d-m-Y");if(n!=q){o.setValue(e.getSysdate());p.set("tgltemp",e.getSysdate())}else{e.reload()}}},0,["pendaftaran-online-reservasi-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","pendaftaran-online-reservasi-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"pendaftaran-online-reservasi-list":true},["widget.pendaftaran-online-reservasi-list"],0,[pendaftaran.online.reservasi,"List"],0));(Ext.cmd.derive("pendaftaran.online.reservasi.ListController",Ext.app.ViewController,{onChangeTgl:function(){var o=this,n=o.getReferences(),m=n.ftanggal,l=n.fjenis.getValue();config={};obj={TANGGALKUNJUGAN:Ext.Date.format(m.getValue(),"Y-m-d")};if(l){config={JENIS:l};obj=Ext.apply(obj,config)}o.getView().load(obj)},onRenderJenis:function(o,n,m){var l=m.get("JENIS")==1?"Pasien Lama":"Pasien Baru";this.setBackGround(n,m.get("STATUS"));return l},onRenderNama:function(m,l,k){this.setBackGround(l,k.get("STATUS"));return m},onAntrian:function(m,l,k){this.setBackGround(l,k.get("STATUS"));return m},onPoli:function(l,o,m){var n=m.get("REFERENSI")?m.get("REFERENSI").POLI.DESKRIPSI:"";this.setBackGround(o,m.get("STATUS"));return n},onTglK:function(m,l,k){this.setBackGround(l,k.get("STATUS"));return Ext.Date.format(k.get("TANGGALKUNJUGAN"),"d-m-Y")},onCaraBayar:function(l,o,m){var n=m.get("REFERENSI").CARABAYAR.DESKRIPSI;this.setBackGround(o,m.get("STATUS"));return n},onNorm:function(l,o,m){var n=(l==0)?"":l;this.setBackGround(o,m.get("STATUS"));return n},onCont:function(m,l,k){this.setBackGround(l,k.get("STATUS"));return m},onRenderTgl:function(l,o,m){var n=Ext.Date.format(l,"d-m-Y");this.setBackGround(o,m.get("STATUS"));return n},setBackGround:function(k,g){if(g==2){k.style="background-color:#0df775;color:#000000;font-weight: bold"}},onKlikKananMenu:function(k,n,m,u,v){var e=this,l=v.getXY();v.stopEvent();e.getView().menucontext.showAt(l)},onClickRespon:function(s,f,q){var t=this,p=t.getView(),e=s.getStore().getAt(f);t.onResponPasien(e)},onResponPasien:function(f){},onRespon:function(){var g=this,k=g.getView().getSelection()[0];g.onResponPasien(k)},onRefresh:function(){var f=this.getView();f.reload()},onCetak:function(k,g){}},0,0,0,0,["controller.pendaftaran-online-reservasi-list"],0,[pendaftaran.online.reservasi,"ListController"],0));(Ext.cmd.derive("pendaftaran.online.reservasi.Workspace",com.Form,{bodyPadding:2,layout:"border",border:true,initComponent:function(){var f=this;f.items=[{region:"center",xtype:"pendaftaran-online-reservasi-list",flex:1,layout:"fit"}];f.callParent(arguments)},load:function(){var g=this,k=g.down("pendaftaran-online-reservasi-list");k.loadData()}},0,["pendaftaran-online-reservasi-workspace"],["component","box","container","panel","form","com-form","pendaftaran-online-reservasi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pendaftaran-online-reservasi-workspace":true},["widget.pendaftaran-online-reservasi-workspace"],0,[pendaftaran.online.reservasi,"Workspace"],0));(Ext.cmd.derive("pendaftaran.paket.UbahPaket",com.Form,{controller:"ubah-paket-form",model:"data.model.Pendaftaran",viewModel:{data:{readOnly:false}},layout:{type:"hbox"},defaults:{margin:"0 2 2 0"},border:false,items:[{xtype:"hiddenfield",name:"NOMOR"},{name:"PAKET",reference:"paket",flex:1,firstLoad:true,xtype:"paket-combo",params:{STATUS:1}}],buttons:[{text:"Simpan",iconCls:"x-fa fa-save",handler:"onSimpan"}]},0,["ubah-paket-form"],["component","box","container","panel","form","com-form","ubah-paket-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"ubah-paket-form":true},["widget.ubah-paket-form"],0,[pendaftaran.paket,"UbahPaket"],0));(Ext.cmd.derive("pendaftaran.paket.UbahPaketController",Ext.app.ViewController,{onSimpan:function(m){var k=this,l=k.getView();l.showMessageBox({title:"Ubah Paket Pendaftaran",message:"Anda yakin ingin mengubah paket pendaftaran ini ?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:m,fn:function(e){if(e==="yes"){l.save(m,{success:"Ubah paket pendaftaran berhasil"})}}})}},0,0,0,0,["controller.ubah-paket-form"],0,[pendaftaran.paket,"UbahPaketController"],0));(Ext.cmd.derive("pendaftaran.pembatalan.final_hasil.Form",com.Form,{controller:"pendaftaran-pembatalan-final_hasil-form",model:"pendaftaran.pembatalan.final_hasil.Model",bodyPadding:5,layout:"fit",items:[{xtype:"textarea",name:"ALASAN",allowBlank:false,emptyText:"[Alasan Batal Final Hasil]"}],buttons:[{text:"Batalkan",ui:"soft-blue",iconCls:"x-fa fa-minus-circle",handler:"onBatalkan"}]},0,["pendaftaran-pembatalan-final_hasil-form"],["component","box","container","panel","form","com-form","pendaftaran-pembatalan-final_hasil-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pendaftaran-pembatalan-final_hasil-form":true},["widget.pendaftaran-pembatalan-final_hasil-form"],0,[pendaftaran.pembatalan.final_hasil,"Form"],0));(Ext.cmd.derive("pendaftaran.pembatalan.final_hasil.FormController",Ext.app.ViewController,{onBatalkan:function(k){var m=this,l=m.getView();l.save(k,{success:"Final Hasil telah dibatalkan"})}},0,0,0,0,["controller.pendaftaran-pembatalan-final_hasil-form"],0,[pendaftaran.pembatalan.final_hasil,"FormController"],0));(Ext.cmd.derive("pendaftaran.pembatalan.kunjungan.Form",com.Form,{controller:"pembatalan-kunjungan-form",model:"data.model.PembatalanKunjungan",bodyPadding:5,layout:"fit",items:[{xtype:"referensi-combo",name:"JENIS",params:{JENIS:57},firstLoad:true,allowBlank:false,editable:false,emptyText:"[Jenis Pembatalan Kunjungan]"}],buttons:[{text:"Batalkan",ui:"soft-blue",iconCls:"x-fa fa-minus-circle",handler:"onBatalkan"}]},0,["pembatalan-kunjungan-form"],["component","box","container","panel","form","com-form","pembatalan-kunjungan-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pembatalan-kunjungan-form":true},["widget.pembatalan-kunjungan-form"],0,[pendaftaran.pembatalan.kunjungan,"Form"],0));(Ext.cmd.derive("pendaftaran.pembatalan.kunjungan.FormController",Ext.app.ViewController,{onBatalkan:function(k){var m=this,l=m.getView();l.save(k,{success:"Final kunjungan telah dibatalkan"})}},0,0,0,0,["controller.pembatalan-kunjungan-form"],0,[pendaftaran.pembatalan.kunjungan,"FormController"],0));(Ext.cmd.derive("pendaftaran.penanggungjawab.Form",com.Form,{controller:"form-penanggung-jawab",model:"data.model.PenanggungJawab",viewModel:{data:{formConfig:{simpan:false}}},layout:{type:"vbox",align:"stretch"},title:"Penanggungjawab",header:{iconCls:"x-fa fa-user",padding:"5 10 5 10"},bodyPadding:5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",inputType:"hidden",name:"NOPEN",hidden:true},{xtype:"numberfield",inputType:"hidden",name:"REF",hidden:true},{xtype:"keluarga",border:false,hideDelete:true,hideKontak:true,listeners:{specialkey:"onFocusEnter"}},{xtype:"kontak",reference:"kontakpenanggung",hideDelete:true,margin:"0 1 0 1",refId:"ID"}],dockedItems:[{xtype:"toolbar",dock:"bottom",hidden:true,bind:{hidden:"{!formConfig.simpan}"},items:["->",{xtype:"button",iconCls:"x-fa fa-save",ui:"soft-blue",text:"Simpan",handler:"onSimpan"}]}],onLoadRecord:function(t,e){var g=t.getViewModel(),v=g.get("formConfig").viewOnly,s=e?(e.get("KONTAK")?e.get("KONTAK"):[]):[],f=t.down("keluarga"),u=t.down("[reference=kontakpenanggung]");u.setFormConfig({viewOnly:v});f.setFormConfig({viewOnly:v});Ext.Array.each(s,function(k){u.load(Ext.create("data.model.KontakPenanggungJawab",k))})},getFormData:function(){var f={},g=this.down("keluarga"),e=g.down("form").getForm().getValues(),o=this.down("[reference=kontakpenanggung]").getFormData();delete e.NORM;f=Ext.merge(f,e);if(o){f.KONTAK=[o]}f.NOPEN=this.down("[name=NOPEN]").getValue();f.REF=this.down("[name=REF]").getValue();if(f.NOPEN==""&&f.ID==""&&f.JENIS_KELAMIN==""&&f.NAMA==""&&f.SHDK==""){return{}}return f}},0,["form-penanggung-jawab"],["component","box","container","panel","form","com-form","form-penanggung-jawab"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-penanggung-jawab":true},["widget.form-penanggung-jawab"],0,[pendaftaran.penanggungjawab,"Form"],0));(Ext.cmd.derive("pendaftaran.penanggungjawab.FormController",Ext.app.ViewController,{onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSimpan:function(e){var n=this,q=n.getView(),o=q.getFormData(),p=Ext.create("data.model.PenanggungJawab",{});if(o.ID==""){delete o.ID}p.set(o);p.showError=true;p.animateTarget=e;p.save({callback:function(g,k,f){if(f){q.fireEvent("save",g);q.notifyMessage("Berhasil menyimpan data penanggungjawab")}else{q.notifyMessage("Gagal menyimpan data penanggungjawab","danger-red")}}})}},0,0,0,0,["controller.form-penanggung-jawab"],0,[pendaftaran.penanggungjawab,"FormController"],0));(Ext.cmd.derive("pendaftaran.penjamin.Detil",Ext.container.Container,{viewModel:{data:{record:undefined},stores:{store:{type:"penjamin-store"}},formulas:{info:function(o){var f=o("record.JENIS"),g=o("record.REFERENSI.KAP"),e=g?(f==1?"":g.NOMOR+" - ")+g.REFERENSI.PENJAMIN.DESKRIPSI:"";return e},infoDetil:function(q){var g=q("record.JENIS"),o=q("record.NOMOR"),p=q("record.REFERENSI"),f=p?(g==1?"":(p.KELAS?p.KELAS.DESKRIPSI+" / SEP. "+o:"")):"";return f}}},layout:{type:"vbox"},cls:"x-br-top",defaultType:"component",defaults:{style:"font-size: 13px;",margin:"0 0 1 0"},items:[{style:"font-size: 20px; font-weight: bold",bind:"{info}"},{cls:"x-color-green",bind:"{infoDetil}"}],load:function(o,g){try{var p=this,q=p.getViewModel(),f=q.get("store");if(q){if(Ext.getClassName(o)=="data.model.Penjamin"){q.set("record",o)}else{if(f){f.queryParams=o;f.load(function(l,m,e){try{if(e&&l.length>0){q.set("record",l[0]);if(Ext.isFunction(g)){g(l[0])}}}catch(k){}})}}}}catch(g){}},getRecord:function(){return this.getViewModel().get("record")}},0,["penjamin-detil"],["component","box","container","penjamin-detil"],{component:true,box:true,container:true,"penjamin-detil":true},["widget.penjamin-detil"],0,[pendaftaran.penjamin,"Detil"],0));(Ext.cmd.derive("pendaftaran.penjamin.Form",com.Form,{controller:"form-penjamin",model:"data.model.Penjamin",viewModel:{data:{formConfig:{showLoadRujukan:false},pendaftaran:undefined,ruangan:undefined,readOnlyInput:false,hideNama:true,loadRujukan:false,isBPJS:false,isMata:false}},layout:{type:"vbox",align:"stretch"},title:"Penjamin",header:{iconCls:"x-fa fa-user-secret",padding:"5 10 5 10"},bodyPadding:5,layout:{type:"vbox",align:"stretch"},defaultType:"fieldcontainer",defaults:{margin:"0 0 2 0 ",layout:{type:"hbox",align:"stretch"}},items:[{xtype:"textfield",inputType:"hidden",name:"NOPEN",reference:"nopen",hidden:true},{xtype:"textfield",inputType:"hidden",name:"NORM",hidden:true},{defaults:{padding:0,margin:"0 2 0 0",labelAlign:"top",enterFocus:true},items:[{name:"JENIS",xtype:"referensi-combo",params:{JENIS:10,STATUS:1},flex:1,reference:"penjamin",emptyText:"[Pilih Penjamin]",allowBlank:false,typeAhead:true,listeners:{specialkey:"onFocusEnter",select:"onJenisSelected"}},{xtype:"checkboxfield",name:"COB",boxLabel:"Cob ?",reference:"cob",boxLabelAlign:"before",checked:false,bind:{hidden:"{!isBPJS}"},margin:"0 5 0 0"},{xtype:"checkboxfield",name:"KATARAK",boxLabel:"Katarak ?",reference:"katarak",boxLabelAlign:"before",checked:false,bind:{hidden:"{!isBPJS || !isMata}"}}]},{defaults:{margin:"0 2 0 0",padding:0,labelAlign:"top",enterFocus:true,listeners:{specialkey:"onFocusEnter"}},items:[{name:"NOMOR",xtype:"textfield",enforceMaxLength:true,maxLength:25,flex:1,reference:"NOMOR",emptyText:"[Nomor Kartu / Penjamin]",listeners:{blur:"onNomorBlur"},bind:{readOnly:"{readOnlyInput}"}},{xtype:"button",iconCls:"x-fa fa-envelope-o",tooltip:"Ambil Surat Rujukan",ui:"soft-black",padding:"0 10 0 10",handler:"onLoadRujukan",hidden:true,bind:{hidden:"{!loadRujukan}"}},{xtype:"button",iconCls:"x-fa fa-list",tooltip:"Daftar Surat Rujukan",ui:"soft-black",padding:"0 10 0 10",handler:"onListRujukan",hidden:true,bind:{hidden:"{!loadRujukan}"}},{xtype:"button",iconCls:"x-fa fa-paper-plane",text:"Pengajuan SEP",tooltip:"Pengajuan SEP dilakukan jika peserta tersebut sudah melebihi 3 (tiga) hari dari batas pengurusan SEP",ui:"soft-black",padding:"0 10 0 10",handler:"onPengajuan",hidden:true,bind:{hidden:"{!isBPJS}"}},{name:"KELAS",xtype:"referensi-combo",reference:"kelashak",params:{JENIS:19,STATUS:1},firstLoad:true,emptyText:"[Pilih Kelas Hak]",typeAhead:true,bind:{readOnly:"{readOnlyInput}"}},{name:"JENIS_PESERTA",xtype:"master-jenispesertapenjamin-combo",reference:"jenispesertapenjamin",params:{JENIS:2,STATUS:1},firstLoad:true,emptyText:"[Pilih Jenis Peserta]",typeAhead:true,bind:{readOnly:"{readOnlyInput}"}}]},{xtype:"textfield",readOnly:true,empty:"Nama Pemilik Kartu",reference:"namapemilik",hidden:true,bind:{hidden:"{hideNama}"},margin:"0 2 0 0"},{items:[{name:"SEP",labelAlign:"top",enforceMaxLength:true,enterFocus:true,flex:1,reference:"sep",xtype:"textfield",bind:{readOnly:"{readOnlyInput}"},maxLength:25,margin:"0 2 0 0",padding:0,emptyText:"[Nomor Surat Elegibilitas Perserta (SEP)]",listeners:{specialkey:"onFocusEnter"}}]},{defaults:{margin:"0 2 0 0",padding:0,labelAlign:"top",enterFocus:true,listeners:{specialkey:"onFocusEnter"}},bind:{hidden:"{!isBPJS}"},items:[{xtype:"textfield",emptyText:"[Masukkan No. SKDP]",name:"NO_SURAT",reference:"suratskdp",enterFocus:true,flex:1,listeners:{specialkey:"onFocusEnter"}},{xtype:"plugins-bpjs-referensi-dpjp-combo",name:"DPJP",emptyText:"[DPJP]",reference:"dpjpskdp",forceSelection:false,flex:1}]},{xtype:"textfield",reference:"catatan",emptyText:"[Catatan/Keterangan]",name:"CATATAN",enforceMaxLength:true,maxLength:250,margin:"0 2 0 0",enterFocus:true}],onLoadRecord:function(J,l){var f=J.down("[name=NOMOR]"),K=J.down("[name=NORM]"),o=J.down("[name=SEP]"),L=J.down("[name=JENIS]"),I=J.down("[name=COB]"),g=J.down("[name=KATARAK]"),G=J.down("plugins-bpjs-referensi-dpjp-combo"),k=J.down("[name=CATATAN]"),F=J.getController(),e=l.get("REFERENSI"),H=e?(e.KAP?e.KAP:null):null,n=H?(H.REFERENSI?H.REFERENSI:null):null,m=n?(n.PENJAMIN?Ext.create("data.model.Referensi",n.PENJAMIN):null):null;if(l.get("JENIS")>1){K.setValue(H?H.NORM:"");f.setValue(H?H.NOMOR:"");o.setValue(l.get("NOMOR"));I.setValue(l.get("COB")==1);g.setValue(l.get("KATARAK")==1);k.setValue(l.get("CATATAN"));F.onNomorBlur(f)}L.load();L.doAfterLoad=function(s,q,p){if(l.get("JENIS")>1){L.select(m);F.onJenisSelected(L,m)}else{L.setValue(1)}};G.doAfterLoad=function(s,q,p){var t=p.findRecord("kode",l.get("DPJP"),0,true,false,true);if(t){G.select(t)}}},setPasien:function(f){this.getViewModel().set("pasien",f)},setPendaftaran:function(f){this.getViewModel().set("pendaftaran",f)},setRuangan:function(m){var o=this,n=o.getViewModel(),l=o.getController();n.set("ruangan",m);l.showDPJP()},onBeforeGetRecord:function(g,k){k.COB=g.down("[name=COB]").getValue()?1:0;k.KATARAK=g.down("[name=KATARAK]").getValue()?1:0},getFormData:function(){var g=this,k=g.getForm().getValues();k.COB=k.COB?1:0;k.KATARAK=k.KATARAK?1:0;return k}},0,["form-penjamin"],["component","box","container","panel","form","com-form","form-penjamin"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-penjamin":true},["widget.form-penjamin"],0,[pendaftaran.penjamin,"Form"],0));(Ext.cmd.derive("pendaftaran.penjamin.FormController",Ext.app.ViewController,{service:undefined,init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}},onJenisSelected:function(A,p){var e=this,m=e.getViewModel(),n=m.get("record"),k=m.get("pasien"),B=e.getReferences(),o=B.namapemilik,z=m.get("formConfig.showLoadRujukan");o.setValue("");B.sep.setValue("");B.kelashak.select(null);B.jenispesertapenjamin.select(null);B.NOMOR.setValue("");m.set("hideNama",true);if(p){if(e.integrasi){if(e.service){m.set("loadRujukan",z&&(e.integrasi.REF==p.get("ID")));m.set("isBPJS",(e.integrasi.REF==p.get("ID")));e.showDPJP()}}if(k){var l=k.get("KARTUASURANSI");if(Ext.isArray(l)){Ext.Array.each(l,function(f){if(p.get("ID")==f.JENIS){B.NOMOR.setValue(f.NOMOR);e.onNomorBlur(B.NOMOR)}})}}if(n){if(p.get("ID")>1){if(n.get("NOMOR")&&n.get("JENIS")>1){B.sep.setValue(n.get("NOMOR"))}}}}},onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},showDPJP:function(){var u=this,w=u.getView(),v=this.getReferences(),e=this.getViewModel(),x=e.get("pendaftaran"),g=e.get("ruangan"),z=v.penjamin.getSelection();if(z){if(u.integrasi){if(u.service){if(g){var f=w.getReferensi(g,"PENJAMIN_RUANGAN"),y=1;f=f?(f.length>0?f[0].RUANGAN_PENJAMIN:null):null;e.set("isMata",(f=="MAT"||g.JENIS_KUNJUNGAN==3||g.JENIS_KUNJUNGAN==2));f=1;if(u.integrasi.REF==z.get("ID")){v.dpjpskdp.params.jenisPelayanan=y;v.dpjpskdp.params.tglPelayanan=Ext.util.Format.date(x.get("TANGGAL"),"Y-m-d");v.dpjpskdp.params.kodeSpesialis=f;if(!(y==2&&f==null)){v.dpjpskdp.load()}}}}}}},onNomorBlur:function(z){var q=this,B=q.getView(),n=q.getViewModel(),m=n.get("pendaftaran"),k=q.getReferences(),o=k.namapemilik,l=k.penjamin.getSelection(),A=k.kelashak,p=z.getValue();if(p.trim()==""){return}if(l){if(q.service){if(q.integrasi.REF==l.get("ID")){q.service.scope=q;q.service.animateTarget=z;q.service.getPesertaByNoKartu({nomor:p,tglSEP:Ext.util.Format.date(m.get("TANGGAL"),"Y-m-d")},function(t,e,y){if(t){var E=e.data,F=E.kelasTanggungan?E.kelasTanggungan.kdKelas:(E.hakKelas?E.hakKelas.kode:0),w=F,w=w==2?2:(w==3?1:3),g=A.getStore(),v=g.findRecord("ID",w,0,false,true,false),f=E.jenisPeserta?E.jenisPeserta.kode:0,s=k.jenispesertapenjamin.getStore(),u=s.findRecord("ID",f,0,false,true,false);o.setValue(E.nama);q.getViewModel().set("hideNama",false);A.select(v);k.jenispesertapenjamin.select(u);if(E.statusPeserta){var x=E.statusPeserta;if(x.kode!=0){B.notifyMessage("Status Peserta: "+x.keterangan+"("+x.kode+")");return}}}})}}}},onLoadRujukan:function(e){var n=this,q=n.getView(),p=q.down("[name=JENIS]").getSelection(),o=q.down("[name=NOMOR]").getValue();if(o.trim()==""){q.notifyMessage("Anda belum memasukkan Nomor Kartu");return}if(n.integrasi){if(n.service){if(p){if(n.integrasi.REF==p.get("ID")){n.service.scope=n;n.service.animateTarget=e;q.setLoading(true);n.service.cariRujukanDgnNoKartuBPJS(o,function(f,g){q.setLoading(false);if(f){var k=Ext.Date.parse(g.data.rujukan.tglKunjungan,"Y-m-d");g.data.rujukan.tglKunjungan=k;q.fireEvent("rujukan",g)}})}}}}},onListRujukan:function(o){var l=this,n=l.getView(),m=n.down("[name=NOMOR]").getValue();n.openDialog("",true,"80%","70%",{xtype:"plugins-bpjs-rujukan-grid",ui:"panel-blue",title:"Daftar Surat Rujukan",iconCls:"x-fa fa-list",showCloseButton:true},function(g,f){var e=f.down("plugins-bpjs-rujukan-grid");e.on({itemdblclick:function(x,k,y,v,z,w){n.fireEvent("rujukan",{success:true,data:{rujukan:k.data}});f.close()}});e.setNomorKartu(m);e.load()})},onPengajuan:function(x){var g=this,y=g.getViewModel(),u=g.getView(),z=u.down("[name=JENIS]").getSelection(),f=u.down("[name=NOMOR]").getValue(),w=y.get("pendaftaran"),e=y.get("ruangan"),v=e?(e.JENIS_KUNJUNGAN==3?1:2):2;if(f.trim()==""){u.notifyMessage("Anda belum memasukkan Nomor Kartu");return}if(g.integrasi){if(g.service){if(z){if(g.integrasi.REF==z.get("ID")){u.openDialog("",true,"60%","70%",{xtype:"plugins-bpjs-sep-pengajuan-form",title:"Pengajuan SEP",ui:"panel-cyan",showCloseButton:true},function(k,m){var l=m.down("plugins-bpjs-sep-pengajuan-form");l.setFormConfig({readOnly:true});l.load();l.setData({noKartu:f,tglSep:Ext.util.Format.date(w.get("TANGGAL")?w.get("TANGGAL"):u.getSysdate(),"Y-m-d"),jenisPelayanan:v});l.on({save:function(n,o){u.notifyMessage("Pengajuan anda telah terkirim ke admin");m.close()}})},x)}}}}},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.form-penjamin"],0,[pendaftaran.penjamin,"FormController"],0));(Ext.cmd.derive("pendaftaran.penjamin.UbahPenjamin",com.Form,{controller:"ubah-penjamin-form",viewModel:{data:{pendaftaran:undefined,readOnly:false},stores:{mapInacbgSimrs:{type:"map-inacbg-simrs-store",queryParams:{STATUS:1}},tipeInacbgs:{type:"inacbg-tipe-store",queryParams:{STATUS:1}}}},layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 2 2 0"},items:[{reference:"penjamin",xtype:"form-penjamin",header:false}],buttons:[{text:"Simpan",iconCls:"x-fa fa-save",handler:"onSimpan"}],onLoadRecord:function(t,f){var p=Ext.create("data.model.Penjamin",Ext.clone(f.data)),s=t.getViewModel(),e=s.get("mapInacbgSimrs"),q=s.get("tipeInacbgs");t.down("form-penjamin").loadRecord(p);e.load();q.load()},setPendaftaran:function(q){var e=this,s=e.getViewModel(),f=e.down("form-penjamin"),t=q.get("TUJUAN"),p=e.getReferensi(t,"RUANGAN");s.set("pendaftaran",q);f.setPendaftaran(q);f.setRuangan(p)},setPasien:function(f){this.down("form-penjamin").setPasien(f)}},0,["ubah-penjamin-form"],["component","box","container","panel","form","com-form","ubah-penjamin-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"ubah-penjamin-form":true},["widget.ubah-penjamin-form"],0,[pendaftaran.penjamin,"UbahPenjamin"],0));(Ext.cmd.derive("pendaftaran.penjamin.UbahPenjaminController",Ext.app.ViewController,{init:function(){var k=this,g=k.getView();k.integrasi=g.app.xitr("ID",1);if(k.integrasi){k.service=Ext.create(k.integrasi.NAMA_KLAS,{})}k.integrasiInacbg=g.app.xitr("ID",2);if(k.integrasiInacbg){k.serviceInacbg=Ext.create(k.integrasiInacbg.NAMA_KLAS,{})}},onSimpan:function(x){var Z=this,w=Z.getView(),g=Z.getReferences().penjamin,f=g.getRecord(),p=Z.getViewModel().get("pendaftaran").data,Y=p.RUJUKAN?p.RUJUKAN:null,q=Y?(Y.REFERENSI?Y.REFERENSI:null):null,ad=q?(q.PPK?q.PPK:null):null,n=ad?ad.BPJS:"",ac=p.TUJUAN?p.TUJUAN:null,aa=ac?(ac.REFERENSI?ac.REFERENSI:null):null,l=aa?(aa.RUANGAN?aa.RUANGAN:null):null,y=p.DIAGNOSAMASUK?p.DIAGNOSAMASUK:null,X=l?(l.JENIS_KUNJUNGAN==3?1:2):2,m=Z.getViewModel().get("record"),e=f.get("NOMOR"),s=f.get("COB"),W=f.get("JENIS")>1&&f.get("JENIS")!=m.get("JENIS"),o=p.REFERENSI?p.REFERENSI:null,ab=o?(o.PASIEN?o.PASIEN:null):null,v=ab.KONTAK?ab.KONTAK:null,u=null,k=o?(o.KECELAKAAN?o.KECELAKAAN:null):null;k=k?(k.STATUS==0?null:k):null;if(e==null||e.trim()==""){if(f.get("JENIS")!=1){w.notifyMessage("Pengisian Nomor Penjamin tidak boleh kosong");g.focus("NOMOR");return}}if(Ext.isArray(v)){Ext.Array.each(v,function(t){u=t.NOMOR})}w.setLoading(true);Ext.Msg.show({title:"Perubahan Data Penjamin",message:"Anda yakin ingin mengubah data penjamin ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,fn:function(E){if(E==="yes"){var B=true,A=Ext.create("data.model.Penjamin",{NOPEN:p.NOMOR,JENIS:-1});f.set("NORM",p.NORM);A.set("JENIS",f.get("JENIS"));A.set("KELAS",f.get("KELAS"));A.set("JENIS_PESERTA",f.get("JENIS_PESERTA"));A.set("NORM",f.get("NORM"));A.set("NOMOR",f.get("NOMOR"));A.set("KATARAK",f.get("KATARAK"));A.set("NO_SURAT",f.get("NO_SURAT"));A.set("DPJP",f.get("DPJP"));A.set("CATATAN",f.get("CATATAN"));if(Z.integrasi){if(Z.service&&Z.integrasi.REF==f.get("JENIS")){console.log("proses grouping...");if(f.get("SEP")==null||f.get("SEP")==""){console.log("get data grouping...");var G=Ext.util.Format.date(p.TANGGAL,"Y-m-d H:i:s"),z=Ext.util.Format.date(p.TANGGAL,"ymdH")+p.NORM,H=Y?(Y.NOMOR==""?z:Y.NOMOR):z,I=Y?(Y.TANGGAL?Ext.util.Format.date(Y.TANGGAL,"Y-m-d H:i:s"):G):G,t=Y?(Y.NOMOR==""?w.app.ppk.REFERENSI.PPK.BPJS:(n==""?Y.NOMOR.substring(0,8):n)):w.app.ppk.REFERENSI.PPK.BPJS,C=ad?(Y&&X!=1?(Y.NOMOR==""?(w.app.ppk.REFERENSI.PPK.JENIS==1?2:1):(ad.JENIS==1?2:1)):(w.app.ppk.REFERENSI.PPK.JENIS==1?2:1)):(w.app.ppk.REFERENSI.PPK.JENIS==1?2:1);icd=y?y.ICD:null,idtjuan=ac?ac.ID:null,tjnRef=ac?(ac.REFERENSI?ac.REFERENSI:null):null,ruangan=tjnRef?(tjnRef.RUANGAN?tjnRef.RUANGAN:null):null,poliEks=ruangan?(ruangan.JENIS_KUNJUNGAN==1?ruangan.REF_ID:0):0,pjmnRuangan=Z.getPenjaminRuangan(ac,f.get("JENIS")),sepData={noKartu:e,tglSep:G,asalRujukan:C,tglRujukan:I,noRujukan:H,ppkRujukan:t,jnsPelayanan:X,catatan:f.get("CATATAN"),diagAwal:icd,poliTujuan:X==2?(pjmnRuangan?pjmnRuangan:""):"",eksekutif:poliEks,cob:s,katarak:f.get("KATARAK"),lakaLantas:k?1:2,lokasiLaka:k?k.LOKASI:"",penjamin:k?k.PENJAMIN:0,tglKejadian:k?k.TANGGAL_KEJADIAN:"",suplesi:k?k.SUPLESI:0,noSuplesi:k?k.NO_SEP_SUPLESI:"",propinsi:k?k.KODE_PROPINSI:"",kabupaten:k?k.KODE_KABUPATEN:"",kecamatan:k?k.KODE_KECAMATAN:"",noSuratSKDP:f.get("NO_SURAT"),dpjpSKDP:f.get("DPJP"),user:w.app.usrNm,norm:p.NORM,noTelp:u};B=true;Z.service.buatSEP(sepData,function(J,L,N){if(J){var M=L.data,K=Ext.clone(Z.service);M=M?M.kunjungan:null;M=M?M.noSEP:null;A.set("SEP",M);A.set("COB",s);if(K){if(K.enabledShowError){K.enabledShowError(false);K.storeNoTransaksiDiKunjungan(M,p.NOMOR)}}A.save({callback:function(O,Q,P){if(P){if(Z.service&&W){if(Z.integrasi.REF==m.get("JENIS")){Z.service.batalkanSEP(m.get("NOMOR"))}}w.notifyMessage("Perubahan data penjamin berhasil");w.fireEvent("simpan",O)}w.setLoading(false)}})}else{A.set("SEP",f.get("SEP"));A.set("COB",s);A.save({callback:function(O,Q,P){if(P){w.notifyMessage("Perubahan data penjamin berhasil");w.fireEvent("simpan",O)}w.setLoading(false)}})}})}else{B=false}}else{B=false}}else{B=false}if(!B){if(Z.integrasiInacbg){if(Z.serviceInacbg){var D=Z.getDataMapInacbgSimrs(3,"SIMRS",f.get("JENIS")),F=Z.getTipeInacbg(D?D.VERSION:"");if(F){if(f.get("SEP")==null||f.get("SEP")==""){B=true;Z.serviceInacbg.generateNomorKlaim({payor_id:D.INACBG,tipe:F.ID},function(J,K,M){var L="",N=K.data;if(J&&N.metadata.code==200){L=N.response.claim_number}A.set("SEP",L);A.set("COB",s);A.save({callback:function(O,Q,P){if(P){w.notifyMessage("Perubahan data penjamin berhasil");w.fireEvent("simpan",O)}w.setLoading(false)}})})}}}}}if(!B){A.set("SEP",f.get("SEP"));A.set("COB",s);A.save({callback:function(L,K,J){if(J){w.notifyMessage("Perubahan data penjamin berhasil");w.fireEvent("simpan",L)}w.setLoading(false)}})}}else{w.setLoading(false)}}})},privates:{getPenjaminRuangan:function(o,p){if(o){var q=o.REFERENSI,e=q?(q.RUANGAN.REFERENSI.PENJAMIN_RUANGAN?q.RUANGAN.REFERENSI.PENJAMIN_RUANGAN:[]):[],n=false;Ext.Array.each(e,function(f){if(f.PENJAMIN==p){n=f.RUANGAN_PENJAMIN}})}return n},getDataMapInacbgSimrs:function(o,n,q){var p=this.getStore("mapInacbgSimrs"),e=null;p.each(function(f){if(f.get("JENIS")==o&&f.get(n)==q){e=f.data;return e}});return e},getTipeInacbg:function(l){var m=this.getStore("tipeInacbgs"),k=null;m.each(function(e){if(e.get("VERSION")==l){k=e.data;return k}});return k}},onReset:function(){var f=this;f.init()},onBatal:function(f){this.getView().fireEvent("batal",f)}},0,0,0,0,["controller.ubah-penjamin-form"],0,[pendaftaran.penjamin,"UbahPenjaminController"],0));(Ext.cmd.derive("pendaftaran.reservasi.Form",com.Form,{controller:"reservasi-form",viewModel:{data:{RKT:undefined,formConfig:{readOnly:false,reservasi:false,batal:true}}},layout:{type:"vbox",align:"stretch"},title:"Reservasi",defaultType:"fieldcontainer",defaults:{layout:{type:"hbox"}},bodyPadding:5,initComponent:function(){var f=this;f.items=[{items:[{xtype:"component",style:"font-size: 17px; font-weight: bold;",height:25,bind:{html:"Ruangan: {RKT.RUANGAN} / {RKT.KAMAR} / {RKT.TEMPAT_TIDUR} - {RKT.KELAS}"}}]},{items:[{xtype:"textfield",name:"NOMOR",emptyText:"[Dibuat oleh Sistem]",readOnly:true,labelAlign:"top",fieldLabel:"NOMOR",flex:1,margin:"0 5 0 0"},{xtype:"datefield",name:"TANGGAL",readOnly:true,reference:"tanggal",labelAlign:"top",fieldLabel:"TANGGAL"}]},{items:[{xtype:"textfield",name:"ATAS_NAMA",emptyText:"[Atas Nama]",labelAlign:"top",fieldLabel:"Atas Nama",flex:1,margin:"0 5 0 0",bind:{readOnly:"{formConfig.readOnly}"}},{xtype:"textfield",name:"KONTAK_INFO",emptyText:"Kontak Info",flex:1,labelAlign:"top",fieldLabel:"Kontak Info",bind:{readOnly:"{formConfig.readOnly}"}}]}];f.buttons=[{text:"Reservasikan",handler:"onReservasikan",bind:{hidden:"{!formConfig.reservasi}"}},{text:"Batalkan",handler:"onBatalkan",bind:{hidden:"{!formConfig.batal}"}}];f.callParent()},loadRecord:function(f,e){var m=this.getForm().loadRecord(f);if(e){this.getViewModel().set("RKT",e)}this.down("[name=ATAS_NAMA]").focus(false,100);return m},setFormConfig:function(f){var m=this,e=m.getViewModel();_config=e.get("formConfig");f=Ext.apply(_config,f);e.set("formConfig",f);e.notify()}},0,["reservasi-form"],["component","box","container","panel","form","com-form","reservasi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"reservasi-form":true},["widget.reservasi-form"],0,[pendaftaran.reservasi,"Form"],0));(Ext.cmd.derive("pendaftaran.reservasi.FormController",Ext.app.ViewController,{onReservasikan:function(o){var g=this,q=g.getView(),f=q.getForm().getRecord(),p=q.getForm().getValues();if(q.getForm().isValid()){f.set(p);f.animateTarget=o;f.scope=g;f.showError=true;f.save({callback:function(e,l,k){if(k){q.loadRecord(e,g.getViewModel().get("RKT"));g.getViewModel().set("formConfig",{readOnly:true,reservasi:false,batal:true})}q.fireEvent("reserved",e,k)}})}},onBatalkan:function(g){var f=this,e=f.getView(),o=e.getForm().getRecord();o.showError=true;o.animateTarget=g;o.scope=f;Ext.Msg.show({title:"Pembatalan Reservasi",message:"Anda yakin ingin membatalkan reservasi dengan Nomor "+o.get("NOMOR")+" ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:g,fn:function(k){if(k==="yes"){o.set("STATUS",0);o.save({callback:function(n,l,m){if(m){Ext.toast({html:"Pembatalan reservasi dengan Nomor "+o.get("NOMOR")+" berhasil",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});e.fireEvent("batalreservasi")}else{o.set("STATUS",1)}}})}else{o.set("STATUS",1)}}})}},0,0,0,0,["controller.reservasi-form"],0,[pendaftaran.reservasi,"FormController"],0));(Ext.cmd.derive("pendaftaran.reservasi.Selection",com.Form,{controller:"reservasi-selection",viewModel:{data:{reservedBy:"",ruangan:undefined,pasien:undefined,selectionConfig:{readOnly:false,reservasi:true}}},layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 2 0 0",padding:0,labelAlign:"top",enterFocus:true},items:[{xtype:"textfield",flex:1,emptyText:"Masukkan Kode Reservasi",name:"RESERVASI",enforceMaxLength:true,maxLength:10,allowBlank:false,reference:"reservasitext",bind:{readOnly:"{selectionConfig.readOnly}"},listeners:{blur:"onReservasiBlur",change:"onReservasiChange",specialkey:"onFocusEnter"}},{xtype:"component",style:"font-weight: bold;",bind:"{reservedBy}"},{xtype:"button",text:"Reservasi",handler:"onReservasi",bind:{hidden:"{!selectionConfig.reservasi}"}}],setNomor:function(f){this.down("[reference=reservasitext]").setValue(f)},setRuangan:function(f){this.getViewModel().set("ruangan",f)},setPasien:function(f){this.getViewModel().set("pasien",f)},setAllowBlankNomorReservasi:function(f){this.down("[reference=reservasitext]").allowBlank=f},clear:function(){this.getViewModel().set("ruangan",undefined);this.getViewModel().set("reservedBy","");this.down("[reference=reservasitext]").setValue("")},setSelectionConfig:function(f){var m=this,e=m.getViewModel();_config=e.get("selectionConfig");f=Ext.apply(_config,f);e.set("selectionConfig",f);e.notify()}},0,["reservasi-selection"],["component","box","container","panel","form","com-form","reservasi-selection"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"reservasi-selection":true},["widget.reservasi-selection"],0,[pendaftaran.reservasi,"Selection"],0));(Ext.cmd.derive("pendaftaran.reservasi.SelectionController",Ext.app.ViewController,{onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onReservasiBlur:function(f){if(f.getValue().trim()==""){return}this.cekNomorReservasi(f)},onReservasiChange:function(){this.getViewModel().set("reservedBy","");this.getView().fireEvent("clear")},onReservasi:function(t){var e=this,v=e.getViewModel(),s=e.getView(),u=e.getReferences(),f=v.get("ruangan"),g=v.get("pasien");f=f?f.get("ID"):"";s.openDialog("",true,0,0,{xtype:"workspace-ruangkamartidur",ruangan:f,formReservasi:false,ui:"panel-cyan",showCloseButton:true},function(m,l){var k=l.down("workspace-ruangkamartidur");k.setViewConfig({kosong:true,terpesan:true,semua:false,terisi:false});k.setPasien(g);k.on({reserved:function(n){u.reservasitext.setValue(n.get("NOMOR"));l.close()}})})},cekNomorReservasi:function(p){var e=this,q=e.getView(),f=e.getViewModel(),g=f.get("ruangan"),p=Ext.isString(p)?p:p.getValue();data.model.Reservasi.load(p,{callback:function(x,k,w){var n=false;if(!w){n="Nomor Reservasi tidak valid!"}else{if(x.get("STATUS")==0){n="Nomor Reservasi telah di batalkan"}if(x.get("STATUS")==2){n="Nomor Reservasi sudah digunakan"}}if(n){q.notifyMessage(n);q.clear()}else{var m=x.get("ATAS_NAMA"),l=x.get("REFERENSI"),o=l?Ext.create("data.model.Ruangan",l.RUANG_KAMAR_TIDUR.REFERENSI.RUANG_KAMAR.REFERENSI.RUANGAN):null,y=l?Ext.create("data.model.Referensi",l.RUANG_KAMAR_TIDUR.REFERENSI.RUANG_KAMAR.REFERENSI.KELAS):null;if(o){if(o.get("ID")!==g.get("ID")){q.notifyMessage("Nomor Reservasi yang dimasukkan tidak sesuai dengan ruangan yang dipilih...");q.clear();return}q.fireEvent("ruanganreserved",o,y)}f.set("reservedBy",m?'<div style="margin: 0px; margin-right: 10px; margin-left: 5px; padding: 0; padding-top: 7px;">Di reservasi oleh: '+m+"</div>":"")}}})}},0,0,0,0,["controller.reservasi-selection"],0,[pendaftaran.reservasi,"SelectionController"],0));(Ext.cmd.derive("pendaftaran.rujukan.Form",com.Form,{controller:"form-rujukan",model:"data.model.SuratRujukan",viewModel:{data:{formConfig:{simpan:false,showPPK:false},nopen:""},stores:{store:{type:"suratrujukan-store"},ppkstore:{type:"ppk-store"},diagnosamasukstore:{type:"diagnosa-masuk-store"}}},layout:{type:"vbox",align:"stretch"},title:"Rujukan dari:",header:{iconCls:"x-fa fa-envelope-o",padding:"5 10 5 10"},bodyPadding:5,defaultType:"fieldcontainer",defaults:{margin:"0 0 2 0 ",layout:{type:"hbox",align:"stretch"}},items:[{xtype:"textfield",inputType:"hidden",name:"NORM",hidden:true},{defaults:{margin:"0 2 0 0",labelAlign:"top",enterFocus:true,listeners:{specialkey:"onFocusEnter"}},items:[{name:"PPK",xtype:"master-ppk-combo",flex:1,padding:0,bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"button",iconCls:"x-fa fa-arrow-left",text:"Ambil Sebelumnya",tooltip:"Ambil Surat Rujukan Sebelumnya",ui:"soft-cyan",handler:"onLoad",hidden:true,bind:{hidden:"{formConfig.viewOnly}"}},{xtype:"button",iconCls:"x-fa fa-file",tooltip:"Surat Rujukan Baru",ui:"soft-black",handler:"onBaru",hidden:true,bind:{hidden:"{formConfig.viewOnly}"}},{xtype:"button",iconCls:"x-fa fa-hospital-o",tooltip:"PPK",ui:"soft-green",handler:"onPPK",hidden:true,bind:{hidden:"{formConfig.viewOnly || !formConfig.showPPK}"}}]},{defaults:{margin:"0 2 0 0",padding:0,labelAlign:"top",enterFocus:true,listeners:{specialkey:"onFocusEnter"},bind:{readOnly:"{formConfig.viewOnly}"}},items:[{name:"NOMOR",xtype:"textfield",enforceMaxLength:true,maxLength:35,flex:1,emptyText:"[Nomor]"},{name:"TANGGAL",xtype:"datefield",format:"d/m/Y",emptyText:"[Format tgl/bln/thn]"}]},{defaults:{margin:"0 2 0 0",padding:0,labelAlign:"top",enforceMaxLength:true,enterFocus:true,flex:1,listeners:{specialkey:"onFocusEnter"},bind:{readOnly:"{formConfig.viewOnly}"}},items:[{name:"DOKTER",xtype:"textfield",maxLength:75,emptyText:"[Nama Dokter]"},{name:"BAGIAN_DOKTER",xtype:"textfield",maxLength:100,emptyText:"[Nama S M F]"}]},{defaultType:"combobox",defaults:{margin:"0 2 0 0",padding:0,labelAlign:"top",enforceMaxLength:true,enterFocus:true,flex:1,bind:{readOnly:"{formConfig.viewOnly}"}},items:[{name:"DIAGNOSA_MASUK",emptyText:"[Diagnosa Masuk]",maxLength:250,queryMode:"remote",bind:{store:"{diagnosamasukstore}"},hideTrigger:true,typeAhead:true,minChars:2,queryParam:"DIAGNOSA",displayField:"DIAGNOSA",valueField:"ID",tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item"><strong>{DIAGNOSA}</strong> - {ICD}</div>',"</tpl>"),displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{DIAGNOSA} - {ICD}","</tpl>"),listeners:{select:"onSelectDiagnosaMasuk",specialkey:"onFocusEnter"}},{xtype:"rekammedis-icd-combo",emptyText:"[Masukkan / Pilih Kode ICD]",name:"ICD",reference:"icd",listeners:{beforequery:"onBeforeQuery",specialkey:"onFocusEnter"}}]}],dockedItems:[{xtype:"toolbar",dock:"bottom",hidden:true,bind:{hidden:"{!formConfig.simpan}"},items:["->",{xtype:"button",iconCls:"x-fa fa-save",ui:"soft-blue",text:"Simpan",handler:"onSimpan"}]}],onLoadRecord:function(k,D){var C=k.getViewModel(),e=k.down("[name=PPK]"),g=k.down("[name=DIAGNOSA_MASUK]"),f=k.down("[name=ICD]"),B=D.get("REFERENSI")?D.get("REFERENSI"):null,x=B?(B.PPK?Ext.create("data.model.Ppk",B.PPK):null):null,y=B?(B.DIAGNOSA_MASUK?Ext.create("data.model.DiagnosaMasuk",B.DIAGNOSA_MASUK):null):null,A=y?(y.get("REFERENSI")?y.get("REFERENSI"):null):null,z=A?(A.DIAGNOSA?Ext.create("data.model.Diagnosa",A.DIAGNOSA):null):null;C.set("nopen",D.get("NOPEN"));delete D.data.NOPEN;k.setFormConfig({showPPK:k.app.xpriv("1901")});e.select(x);g.select(y);f.select(z)},onBeforeGetRecord:function(t,f){var p=t.getViewModel(),e=t.down("[name=TANGGAL]").getValue(),s=t.getSysdate(),q=Ext.Date.clone(e);f.NOPEN=p.get("nopen");if(f.DIAGNOSA_MASUK&&f.ICD){f.REFERENSI={DIAGNOSA_MASUK:{DIAGNOSA:f.DIAGNOSA_MASUK,ICD:f.ICD}};delete f.DIAGNOSA_MASUK;delete f.ICD}q.setHours(s.getHours());q.setMinutes(s.getMinutes());q.setSeconds(s.getSeconds());f.TANGGAL=q},getFormData:function(){var m=this.getForm().getValues(),l=this.down("[name=TANGGAL]").getValue(),k=this.down("[name=PPK]").getSelection();m.TANGGAL=l;if(k){m.PPKRujukan=k.get("BPJS");m.asalRujukan=k.get("JENIS")==1?2:1}return m}},0,["form-rujukan"],["component","box","container","panel","form","com-form","form-rujukan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-rujukan":true},["widget.form-rujukan"],0,[pendaftaran.rujukan,"Form"],0));(Ext.cmd.derive("pendaftaran.rujukan.FormController",Ext.app.ViewController,{onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onSelectDiagnosaMasuk:function(o,g){var e=this.getReferences().icd,f=g.data.REFERENSI;f=f?g.data.REFERENSI.DIAGNOSA:null;if(f){e.select(Ext.create("data.model.Diagnosa",f))}},onBeforeQuery:function(f){f.combo.getStore().removeAll()},onBaru:function(q){var n=this,e=n.getViewModel(),o=e.get("record"),p=n.getView();p.createRecord({NORM:o.get("NORM"),NOPEN:e.get("nopen"),TANGGAL:p.getSysdate(),STATUS:1});p.focus("PPK",false,100)},onLoad:function(s){var e=this,t=e.getViewModel(),f=t.get("record"),q=t.get("store"),p=e.getView();q.setQueryParams({NORM:f.get("NORM"),STATUS:1,limit:1});q.load(function(g,l,k){if(k){if(g.length>0){p.loadRecord(g[0])}}})},onPPK:function(q){var e=this,p=e.getView(),n=p.down("[name=PPK]"),o=n.getSelection();p.openDialog("",true,"80%","70%",{xtype:"master-ppk-grid",ui:"panel-blue",title:"Pemberi Pelayanan Kesehatan (PPK)",iconCls:"x-fa fa-hospital-o",showCloseButton:true},function(g,f){var k=f.down("master-ppk-grid");k.on({itemdblclick:function(y,m,z,w,l,x){n.select(m);f.close()}});k.setGridConfig({paging:true});if(o){k.cari(o.get("NAMA"))}k.load()})},onSimpan:function(m){var k=this,l=k.getView();l.save(m)}},0,0,0,0,["controller.form-rujukan"],0,[pendaftaran.rujukan,"FormController"],0));(Ext.cmd.derive("pendaftaran.rujukan.keluar.Form",com.Form,{controller:"pendaftaran-rujukan-keluar-form",model:"pendaftaran.rujukan.keluar.Model",viewModel:{data:{kjgn:undefined,formConfig:{showBatal:false}},stores:{anamnesistore:{type:"rekammedis-anamnesis-umum-store"},pemeriksaanfisikstore:{type:"rekammedis-pemeriksaan-fisik-store"},alergistore:{type:"rekammedis-anamnesis-riwayat-alergi-store"},tandavitalstore:{type:"rekammedis-pemeriksaan-umum-tandavital-store"}}},title:"Rujukan Keluar",ui:"panel-green",bodyPadding:15,layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 0 1 0"},items:[{xtype:"fieldcontainer",fieldLabel:"Tanggal Keluar",layout:{type:"hbox"},items:[{name:"TANGGAL",xtype:"datefield",emptyText:"[Pilih Tanggal Keluar]",format:"d/m/Y",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",minValue:"{formConfig.minDate}",maxValue:"{formConfig.maxDate}"}},{name:"WAKTU",xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",bind:{readOnly:"{formConfig.viewOnly}"},format:"H:i:s",allowBlank:false,hideTrigger:true,margin:"0 15 0 0"},{xtype:"referensi-combo",params:{JENIS:86},firstLoad:true,labelWidth:90,fieldLabel:"Jenis Rujukan",allowBlank:false,flex:1,name:"JENIS",bind:{readOnly:"{formConfig.viewOnly}"},listeners:{change:"onChangeJenis"}}]},{xtype:"fieldcontainer",fieldLabel:"Tujuan PPK",layout:{type:"hbox"},items:[{name:"TUJUAN",xtype:"master-ppk-combo",allowBlank:false,emptyText:"[Masukkan Tujuan PPK]",bind:{readOnly:"{formConfig.viewOnly}"},flex:1,margin:"0 15 0 0"},{name:"TUJUAN_RUANGAN",fieldLabel:"Tujuan Ruangan/Poli",xtype:"referensi-combo",labelWidth:160,allowBlank:false,params:{STATUS:1,JENIS:70},firstLoad:true,flex:1,emptyText:"[Masukkan Tujuan Ruangan / Poli]",bind:{readOnly:"{formConfig.viewOnly}"}}]},{xtype:"fieldcontainer",fieldLabel:"Diagnosa",layout:{type:"hbox"},items:[{xtype:"rekammedis-icd-combo",emptyText:"[Masukkan Kode ICD 10]",allowBlank:false,name:"DIAGNOSA",bind:{readOnly:"{formConfig.viewOnly}"},margin:"0 15 0 0",flex:1},{xtype:"dokter-combo",fieldLabel:"Dokter",name:"DOKTER",flex:1,params:{STATUS:1},bind:{readOnly:"{formConfig.viewOnly}"}}]},{xtype:"textarea",name:"KETERANGAN",fieldLabel:"Keterangan",bind:{readOnly:"{formConfig.viewOnly}"}}],buttons:[{iconCls:"x-fa fa-save",text:"Simpan",handler:"onSimpan",bind:{hidden:"{formConfig.viewOnly}"}},{iconCls:"x-fa fa-times",text:"Batal Rujukan",ui:"soft-red",handler:"onBatal",bind:{hidden:"{!formConfig.showBatal}"}},{iconCls:"x-fa fa-print",ui:"soft-green",text:"Cetak Surat",handler:"onCetak"}],onLoadRecord:function(R,o){var X=R.getViewModel(),e=R.down("[name=WAKTU]"),S=R.down("master-ppk-combo"),U=R.down("dokter-combo"),t=R.down("rekammedis-icd-combo"),s=R.getReferensi(o.data,"TUJUAN"),k=s?Ext.create("data.model.Ppk",s):null,W=R.getReferensi(o.data,"DOKTER"),f=W?Ext.create("data.model.Dokter",W):null,V=R.getReferensi(o.data,"DIAGNOSA"),g=V?Ext.create("data.model.Diagnosa",V):null,Q=X.get("anamnesistore"),u=X.get("pemeriksaanfisikstore"),q=X.get("alergistore"),p=X.get("tandavitalstore");if(e){e.setValue(o.get("TANGGAL"))}var n=R.getReferensi(o.data,"KUNJUNGAN"),l=R.getReferensi(n,"PENDAFTARAN"),m={NORM:l?l.NORM:0,HISTORY:1,start:0,limit:1,STATUS:1,sort:Ext.JSON.encode({property:"TANGGAL",direction:"DESC"})},T=n.FINAL_HASIL==1;X.set("kjgn",n);R.setFormConfig({viewOnly:T,showBatal:!T&&o.get("NOMOR").length<=10,minDate:n.MASUK,maxDate:R.getSysdate()});S.select(k);t.select(g);U.select(f);U.params.RUANGAN=n.RUANGAN;U.load();Q.setQueryParams(m);u.setQueryParams(m);q.setQueryParams(m);p.setQueryParams(m);Q.load();u.load();q.load();p.load()},onBeforeGetRecord:function(e,o){var n=e.down("[name=TANGGAL]").getValue(),q=e.down("[name=WAKTU]").getValue(),p=Ext.Date.clone(n);p.setHours(q.getHours());p.setMinutes(q.getMinutes());p.setSeconds(q.getSeconds());o.TANGGAL=p}},0,["pendaftaran-rujukan-keluar-form"],["component","box","container","panel","form","com-form","pendaftaran-rujukan-keluar-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pendaftaran-rujukan-keluar-form":true},["widget.pendaftaran-rujukan-keluar-form"],0,[pendaftaran.rujukan.keluar,"Form"],0));(Ext.cmd.derive("pendaftaran.rujukan.keluar.FormController",Ext.app.ViewController,{kemkes:{integrasi:undefined,service:undefined},bpjs:{integrasi:undefined,service:undefined},init:function(){var k=this,g=k.getView();k.kemkes.integrasi=g.app.xitr("ID",3);if(k.kemkes.integrasi){k.kemkes.service=Ext.create(k.kemkes.integrasi.NAMA_KLAS,{})}k.bpjs.integrasi=g.app.xitr("ID",1);if(k.bpjs.integrasi){k.bpjs.service=Ext.create(k.bpjs.integrasi.NAMA_KLAS,{})}},onSimpan:function(v){var x=this,ac=x.getViewModel(),s=x.getView(),y=s.down("[name=TUJUAN]"),p=s.down("[name=TUJUAN_RUANGAN]"),ag=y.getSelection(),aj=p.getSelection(),l=ac.get("kjgn"),g=s.getReferensi(l,"PENDAFTARAN"),A=s.getReferensi(g,"PASIEN"),e=s.getReferensi(A,"TEMPATLAHIR"),u=A.KONTAK?A.KONTAK:null,ad="",w=A.KARTUIDENTITAS?A.KARTUIDENTITAS:null,m="",ai=g?g.PENJAMIN:null,B=s.getReferensi(ai,"KAP"),q=ac.get("anamnesistore"),ah=ac.get("pemeriksaanfisikstore"),o=ac.get("alergistore"),af=ac.get("tandavitalstore"),z=q.getCount()>0?q.getAt(0):null,ae=ah.getCount()>0?ah.getAt(0):null,n=o.getCount()>0?o.getAt(0):null,f=af.getCount()>0?af.getAt(0):null;if(Ext.isArray(u)){Ext.Array.each(u,function(t){ad=t.NOMOR})}if(Ext.isArray(w)){Ext.Array.each(w,function(t){if(t.JENIS==1){m=t.NOMOR}})}if(ag){var k=false;if(x.bpjs.service&&ag.get("BPJS")==""){k=true}if(x.kemkes.service&&ag.get("KODE")==""){k=true}if(k){s.notifyMessage("Kode rumah sakit tidak lengkap<br/>Silahkan hub. admin untuk melengkapi data rumah sakit yg akan dirujuk");return}}if(x.bpjs.service){if(ai){if(x.bpjs.integrasi.REF==ai.JENIS){if(ai.NOMOR==null||ai.NOMOR==""){s.notifyMessage("Nomor SEP tdk boleh kosong<br/>Silahkan hub. bagian pendaftaran / admission");return}}}}s.save(v,{},function(t,C,I){if(I){var E=t.get("REFERENSI")||{},H=s.getReferensi(t.data,"TUJUAN_RUANGAN"),J=s.getReferensi(t.data,"DOKTER"),G=s.getReferensi(J,"KARTU_INDETITAS"),F="";if(Ext.isArray(G)){Ext.Array.each(G,function(L){if(L.JENIS==1){F=L.NOMOR}})}if(x.kemkes.service){var D=x.kemkes.service.getSisrute(),K={PASIEN:{NORM:A.NORM,NIK:m,NO_KARTU_JKN:B?(B.JENIS==2?B.NOMOR:""):"",NAMA:A.NAMA,JENIS_KELAMIN:A.JENIS_KELAMIN,TANGGAL_LAHIR:A.TANGGAL_LAHIR,TEMPAT_LAHIR:e?e.DESKRIPSI:A.TEMPAT_LAHIR,ALAMAT:A.ALAMAT,KONTAK:ad},RUJUKAN:{REF:t.get("NOMOR"),JENIS_RUJUKAN:H.REF_ID=="IGD"||H.REF_ID=="UGD"?2:(t.get("JENIS")==1?3:1),TANGGAL:Ext.util.Format.date(t.get("TANGGAL"),"Y-m-d H:i:s"),FASKES_TUJUAN:ag?ag.get("KODE"):"",ALASAN:"1",ALASAN_LAINNYA:t.get("KETERANGAN"),DIAGNOSA:t.get("DIAGNOSA"),DOKTER:{NIK:F,NAMA:J?J.NAMA:""},PETUGAS:{NIK:s.app.usrNik,NAMA:s.app.usrNm}},KONDISI_UMUM:{ANAMNESIS_DAN_PEMERIKSAAN_FISIK:(z?z.get("DESKRIPSI"):"-")+"#"+(ae?ae.get("DESKRIPSI"):"-"),KESADARAN:1,TEKANAN_DARAH:f?Number(f.get("SISTOLIK"))+"/"+Number(f.get("DISTOLIK")):"",FREKUENSI_NADI:f?Number(f.get("FREKUENSI_NADI")):"",SUHU:f?Number(f.get("SUHU")):"",PERNAPASAN:f?Number(f.get("FREKUENSI_NAFAS")):"",KEADAAN_UMUM:f?f.get("KEADAAN_UMUM"):"",NYERI:0,ALERGI:n?n.get("DESKRIPSI"):""},PENUNJANG:{LABORATORIUM:"",RADIOLOGI:"",TERAPI_ATAU_TINDAKAN:""}};if(K.RUJUKAN.JENIS_RUJUKAN==2){D.simpanRujukan(K,function(M,N,L){if(M){s.notifyMessage("Rujukan berhasil terkirim ke SISRUTE")}})}}if(x.bpjs.service){if(ai){if(x.bpjs.integrasi.REF==ai.JENIS){var K={noSep:ai.NOMOR,tglRujukan:Ext.util.Format.date(t.get("TANGGAL"),"Y-m-d H:i:s"),ppkDirujuk:ag?ag.get("BPJS"):"",jnsPelayanan:"2",catatan:t.get("KETERANGAN"),diagRujukan:t.get("DIAGNOSA"),tipeRujukan:t.get("JENIS"),poliRujukan:H.REF_ID,user:s.app.usrNm};x.bpjs.service.simpanRujukan(K,function(M,N,L){if(M){s.notifyMessage("Rujukan berhasil terkirim ke BPJS")}})}}}E.KUNJUNGAN=l;t.set("REFERENSI",E);s.loadRecord(t)}})},onBatal:function(t){var v=this,u=v.getViewModel(),f=v.getView(),x=f.getRecord(),e=u.get("kjgn"),g=f.getReferensi(e,"PENDAFTARAN"),w=g?g.PENJAMIN:null;if(x){f.showMessageBox({title:"Batal Rujukan",message:"Anda yakin ingin membatalkan rujukan ini ?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:t,fn:function(k){if(k==="yes"){x.set("STATUS",0);f.save(t,{success:"Berhasil membatalkan rujukan",failed:"Gagal membatalkan rujukan"},function(l,n,p){if(p){if(v.kemkes.service){var m=v.kemkes.service.getSisrute(),o={PETUGAS:{NIK:f.app.usrNik,NAMA:f.app.usrNm}};m.batalRujukan(l.get("NOMOR"),o,function(s,z,q){if(s){f.notifyMessage("Batal Rujukan SISRUTE berhasil")}})}if(v.bpjs.service){if(w){if(v.bpjs.integrasi.REF==w.JENIS){var o={noSep:w.NOMOR,status:0,user:f.app.usrNm};v.bpjs.service.simpanRujukan(o,function(s,z,q){if(s){f.notifyMessage("Hapus Rujukan BPJS berhasil")}})}}}f.createRecord({NOPEN:l.get("NOPEN"),KUNJUNGAN:l.get("KUNJUNGAN"),STATUS:1,TANGGAL:f.getSysdate(),REFERENSI:{KUNJUNGAN:e}});f.focus("TUJUAN",false,100)}})}}})}},onChangeJenis:function(y,e){var g=this,w=g.getView(),B=g.getViewModel();kjgn=B.get("kjgn");if(kjgn==null){return}var x=w.getReferensi(kjgn,"PENDAFTARAN"),A=w.getReferensi(kjgn,"RUANGAN"),z=x.PENJAMIN?x.PENJAMIN:null;jns=y.getSelection(),ppkCb=w.down("master-ppk-combo"),ppkSel=ppkCb.getSelection();if(g.bpjs.service){if(jns){ppkCb.setReadOnly(false);if(jns.get("ID")==2){var f=z?w.getReferensi(z,"KAP"):null,v=f?Ext.create("data.model.Ppk",w.getReferensi(f,"PPK")):null;if(z){if(g.bpjs.integrasi.REF==z.JENIS){if(A.JENIS_KUNJUNGAN==1){ppkCb.select(v);ppkCb.setReadOnly(true);g.ppkBefore=ppkSel}}}}else{ppkCb.select(g.ppkBefore)}}}},onCetak:function(u){var w=this,f=w.getView(),e=f.getRecord(),t="Cetak Surat Rujukan Keluar",g="Word",v="docx",x=true;if(e){f.showMessageBox({title:t,message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",ui:"window-green",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:u,fn:function(k){if(k!="yes"){g="Pdf";v="pdf";x=false}f.cetak({NAME:"pendaftaran.CetakRujukanKeluar",PARAMETER:{PNOPEN:e.get("NOPEN"),CETAK_HEADER:1},TYPE:g,EXT:v,REQUEST_FOR_PRINT:x},function(l){f.printPreview(t,l)})}})}}},0,0,0,0,["controller.pendaftaran-rujukan-keluar-form"],0,[pendaftaran.rujukan.keluar,"FormController"],0));(Ext.cmd.derive("pendaftaran.rujukan.keluar.Workspace",com.Form,{viewModel:{stores:{store:{type:"pendaftaran-rujukan-keluar-store"}}},layout:"border",items:[{region:"center",xtype:"pendaftaran-rujukan-keluar-form",reference:"rujukankeluar"}],load:function(m){var l=this,o=l.down("pendaftaran-rujukan-keluar-form"),n=l.getViewModel().get("store");if(m){n.queryParams={NOPEN:m.get("NOPEN"),STATUS:1};n.load({callback:function(g,k,e){if(e){var f=g[0],q=f.get("REFERENSI")||{};q.KUNJUNGAN=m.data;f.set("REFERENSI",q);o.loadRecord(f)}else{o.createRecord({NOPEN:m.get("NOPEN"),KUNJUNGAN:m.get("NOMOR"),STATUS:1,TANGGAL:l.getSysdate(),REFERENSI:{KUNJUNGAN:m.data}})}}})}}},0,["pendaftaran-rujukan-keluar-workspace"],["component","box","container","panel","form","com-form","pendaftaran-rujukan-keluar-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pendaftaran-rujukan-keluar-workspace":true},["widget.pendaftaran-rujukan-keluar-workspace"],0,[pendaftaran.rujukan.keluar,"Workspace"],0));(Ext.cmd.derive("pendaftaran.tujuan.Detil",Ext.container.Container,{viewModel:{data:{record:undefined},stores:{store:{type:"tujuanpasien-store"}},formulas:{getDokter:function(k){var g=k("record.REFERENSI.DOKTER"),g=g?g.NAMA:"";return g}}},layout:{type:"vbox",align:"stretch",pack:"top"},cls:"x-br-top",defaults:{style:"font-size: 13px; text-align: right",cls:"x-color-gray",margin:"0 0 1 0"},items:[{xtype:"component",bind:"<b>{record.REFERENSI.RUANGAN.DESKRIPSI}</b>, {getDokter}"},{xtype:"component",bind:"{record.REFERENSI.STATUS.DESKRIPSI}"}],load:function(o,g){var p=this,q=p.getViewModel(),f=q.get("store");if(Ext.getClassName(o)=="data.model.TujuanPasien"){q.set("record",o)}else{if(f){f.queryParams=o;f.load(function(l,m,e){try{if(e&&l.length>0){q.set("record",l[0]);if(Ext.isFunction(g)){g(l[0])}}}catch(k){}})}}},getRecord:function(){return this.getViewModel().get("record")}},0,["tujuan-detil"],["component","box","container","tujuan-detil"],{component:true,box:true,container:true,"tujuan-detil":true},["widget.tujuan-detil"],0,[pendaftaran.tujuan,"Detil"],0));(Ext.cmd.derive("pendaftaran.tujuan.Form",com.Form,{controller:"form-tujuan",model:"data.model.Tujuan",recordSelected:undefined,viewModel:{data:{record:undefined,pasien:undefined,isBayi:false,ikutIbu:false},stores:{smfstore:{type:"referensi-store",queryParams:{JENIS:26}},smfruanganstore:{type:"smf-ruangan-store",queryParams:{STATUS:1}},dokterstore:{type:"dokter-store",queryParams:{STATUS:1}}}},title:"Tujuan ke:",header:{iconCls:"x-fa fa-home",padding:"5 10 5 10"},bodyPadding:5,layout:{type:"vbox",align:"stretch"},defaultType:"fieldcontainer",defaults:{margin:"0 0 2 0",layout:{type:"hbox",align:"stretch"}},items:[{xtype:"textfield",inputType:"hidden",name:"NOPEN",hidden:true},{xtype:"textfield",inputType:"hidden",name:"RESERVASI",hidden:true},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},margin:"0 0 3 0",items:[{xtype:"checkboxfield",name:"IKUT_IBU",boxLabel:"Ikut Ibu ?",boxLabelAlign:"before",reference:"ikutibu",checked:false,bind:{value:"{ikutIbu}",hidden:"{!isBayi}"},listeners:{change:"onChangeIkutIbu"}},{xtype:"combobox",name:"KUNJUNGAN_IBU",hideTrigger:true,reference:"kunjunganibu",displayField:"DESKRIPSI",valueField:"NOMOR",store:Ext.create("Ext.data.Store",{fields:["NOMOR","DESKRIPSI"]}),readOnly:true,flex:1,bind:{hidden:"{!isBayi}"}},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-female",handler:"onPilihKunjunganIbu",bind:{disabled:"{!ikutIbu}",hidden:"{!isBayi}"}}]},{xtype:"ruangan-selection",bodyPadding:0,border:false,reference:"ruanganselection",notJenisKunjungan:[0,11],bodyStyle:"background: white",layout:{type:"vbox",align:"stretch"},margin:0,listeners:{load:"onLoadRuangan",nextfocus:"onNextFocus",specialkey:"onFocusEnter",selected:"onSelectedRuangan",blurselection:"onBlurSelection"}},{defaultType:"combobox",defaults:{margin:"0 2 0 0",padding:0,labelAlign:"top",enterFocus:true,flex:1,typeAhead:true,queryMode:"local",forceSelection:true,allowBlank:false},items:[{name:"SMF",bind:{store:"{smfstore}"},reference:"smf",displayField:"DESKRIPSI",valueField:"ID",emptyText:"[Pilih SMF]",listeners:{specialkey:"onFocusEnter",select:"onSmfSelected"}},{name:"DOKTER",reference:"dokter",bind:{store:"{dokterstore}"},emptyText:"[Pilih Dokter]",displayField:"NAMA",valueField:"ID",listeners:{specialkey:"onFocusEnter"}}]},{name:"PAKET",reference:"paket",margin:"0 2 0 0",width:300,firstLoad:true,xtype:"paket-combo",params:{UNTUK_KUNJUNGAN:0,STATUS:1},bind:{}}],onLoadRecord:function(e,o){var p=e.down("ruangan-selection"),q=o?o.get("REFERENSI"):null,n=q?(q.RUANGAN?Ext.create("data.model.Ruangan",q.RUANGAN):null):null;p.loadRecord(n);p.select(n)},setPasien:function(f){this.getViewModel().set("pasien",f)},setIsBayi:function(f){this.getViewModel().set("isBayi",f)},onBeforeGetRecord:function(g,k){k.IKUT_IBU=g.down("[name=IKUT_IBU]").getValue()?1:0},getFormData:function(){var g=this,k=g.getForm().getValues();delete k.INSTALASI;delete k.UNIT;delete k.SUBUNIT;k.RESERVASI=k.RESERVASI[1];k.IKUT_IBU=k.IKUT_IBU?1:0;return k}},0,["form-tujuan"],["component","box","container","panel","form","com-form","form-tujuan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-tujuan":true},["widget.form-tujuan"],0,[pendaftaran.tujuan,"Form"],0));(Ext.cmd.derive("pendaftaran.tujuan.FormController",Ext.app.ViewController,{ruangan:undefined,init:function(){var g=this,k=g.getViewModel(),q=g.getReferences(),t=k.get("smfstore"),l=k.get("smfruanganstore"),s=k.get("dokterstore");l.on("load",function(f,e){t.removeAll();t.load()});t.on("load",function(e,f){var m=[];t.each(function(o){if(o!=undefined){var n=l.findRecord("SMF",o.get("ID"),0,false,true,false);if(n&&(n.get("SMF").toString().length==o.get("ID").toString().length)){m.push(o.data)}}});t.removeAll();t.loadData(m);if(m.length==1){q.smf.select(t.getAt(0));q.smf.fireEvent("select",q.smf,t.getAt(0));q.dokter.focus(false,100)}});s.on("load",function(e,m){var f=k.get("record"),o=f.get("REFERENSI")?f.get("REFERENSI"):null,n=o?(o.DOKTER?Ext.create("data.model.Dokter",o.DOKTER):null):null;if(m.length==1){q.dokter.select(m[0])}else{if(Ext.isArray(m)){if(n){Ext.Array.each(m,function(p){if(p.get("ID")==n.get("ID")){q.dokter.select(n)}})}}}})},onChangeIkutIbu:function(n,m,l){var o=this.getReferences();o.ruanganselection.setIkutIbu(m)},onFocusEnter:function(g,k){this.getView().fireEvent("specialkey",g,k)},onLoadRuangan:function(u){var l=this,n=l.getViewModel(),k=l.getReferences(),v=n.get("smfstore"),m=n.get("smfruanganstore"),t=n.get("dokterstore");v.removeAll();k.smf.select(null);t.removeAll();k.dokter.select(null)},onNextFocus:function(){var g=this,k=g.getReferences();k.smf.focus(false,true)},onSelectedRuangan:function(t,l){var w=this,m=w.getViewModel(),v=m.get("record"),n=v?(v.get("REFERENSI")?v.get("REFERENSI"):null):null,u=w.getReferences(),p=t.get("JENIS_KUNJUNGAN");w.removeFormReservasi();w.removeStoreData(u.smf,"smfstore");w.removeStoreData(u.dokter,"dokterstore");if(l==3){var q=m.get("smfruanganstore");q.removeAll();if(t){var s=n?(n.SMF?Ext.create("data.model.Referensi",n.SMF):null):null,F=n?(n.DOKTER?Ext.create("data.model.Dokter",n.DOKTER):null):null;q.queryParams.RUANGAN=t.get("ID");delete q.queryParams.SMF;w.getView().recordSelected=t;q.load();u.smf.select(s);u.dokter.select(F);if(!m.get("ikutIbu")){if(p==3){w.addFormReservasi();var o=new Ext.util.DelayedTask(function(){u.reservasiselection.setRuangan(t);if(v){u.reservasiselection.setNomor(v.get("RESERVASI"))}});o.delay(100)}}}}u.paket.params.UNTUK_KUNJUNGAN=p;if(p!=3){delete u.paket.params.KELAS}u.paket.load();this.getView().fireEvent("tujuanselected",t)},onSmfSelected:function(p,f){var e=this.getViewModel(),q=e.get("dokterstore"),g=this.getReferences().ruanganselection.getFormData();q.removeAll();this.getReferences().dokter.select(null);if(f&&g){q.queryParams.SMF=f.get("ID");q.queryParams.RUANGAN=g.RUANGAN;q.load()}},onBlurSelection:function(k){var g=this.getViewModel();if(!g.get("ikutIbu")){this.removeStoreData(this.getReferences().smf,"smfstore");this.removeStoreData(this.getReferences().dokter,"dokterstore");this.getView().fireEvent("tujuanblur")}},removeStoreData:function(l,m){var e=this.getViewModel();if(!e.get("ikutIbu")){e.get(m).removeAll();l.select(null)}},onRuanganReserved:function(g,k){this.getReferences().ruanganselection.select(g);this.getView().fireEvent("ruanganreserved",g,k)},onClearReservasi:function(){this.getView().fireEvent("clearreservasi")},onPilihKunjunganIbu:function(){var k=this,l=k.getView(),m=k.getReferences();l.openDialog("",true,"90%","70%",{xtype:"kunjungan-list",ui:"panel-cyan",showCloseButton:true,title:"History Kunjungan Pasien"},function(e,g){var f=g.down("kunjungan-list");f.setListConfig({paging:true,hiddenLihatAction:true,pencarian:{norm:{enabled:true},nama:{enabled:true}}});f.hideColumnConfig({pasien:false,action:true});f.on({itemdblclick:function(P,n,N,q,s,t){var R=l.getReferensi(n.data,"RUANGAN"),O=l.getReferensi(n.data,"PENDAFTARAN"),p=l.getReferensi(O,"PASIEN"),o=O.TUJUAN,M=l.getReferensi(o,"SMF"),L=Ext.create("data.model.Referensi",M),K=l.getReferensi(o,"DOKTER"),Q=Ext.create("data.model.Dokter",K),u=Ext.create("Ext.data.Model",{NOMOR:n.get("NOMOR"),DESKRIPSI:p.NAMA});R=R?Ext.create("data.model.Ruangan",R):null;m.ruanganselection.loadRecord(R);m.ruanganselection.select(R);m.kunjunganibu.select(u);(new Ext.util.DelayedTask(function(){m.smf.select(L);m.dokter.select(Q)})).delay(700);g.close()}});f.loadStore({STATUS:1,JENIS_KUNJUNGAN:3,HISTORY:1,JENIS_KELAMIN:2,REFERENSI:Ext.JSON.encode({Ruangan:true,Referensi:true,RuangKamarTidur:true,Pendaftaran:{COLUMNS:["NOMOR","NORM"],REFERENSI:{Pasien:true,TujuanPasien:true}}})})})},privates:{addFormReservasi:function(){var l=this.getView(),k=this.getViewModel(),m=l.add({xtype:"reservasi-selection",reference:"reservasiselection",bodyPadding:0,bodyStyle:"background: white",margin:"2 0 0 0",border:false,listeners:{ruanganreserved:"onRuanganReserved",specialkey:"onFocusEnter",clear:"onClearReservasi"}});m.setPasien(k.get("pasien"))},removeFormReservasi:function(){this.getView().remove(this.getReferences().reservasiselection)}}},0,0,0,0,["controller.form-tujuan"],0,[pendaftaran.tujuan,"FormController"],0));(Ext.cmd.derive("pendaftaran.tujuan.List",com.Grid,{controller:"tujuan-list",viewModel:{data:{inProses:false,confDering:{valDering:false,statusRing:"Off"},dering:""},stores:{store:{type:"tujuanpasien-store"}}},ui:"panel-blue",iconCls:"x-fa fa-user",title:"Pengunjung",header:{items:[{xtype:"search-field",emptyText:"[NORM]",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}},{xtype:"button",iconCls:"x-fa fa-cog",ui:"soft-black",tooltip:"Pilihan",arrowVisible:false,menu:[{text:"Notifikasi Dering",iconCls:"x-fa fa-volume-up",menu:[{xtype:"checkbox",margin:"2.2.2.2",reference:"statusdering",inputValue:true,uncheckedValue:false,bind:{boxLabel:"{confDering.statusRing}"},name:"SONG",listeners:{change:"onChangeRingtone"}},{xtype:"panel",bind:{html:"{dering}"}}]}]}]},hideHeaders:true,first:true,columns:[{xtype:"templatecolumn",cls:"laporan-main laporan-dataview",flex:2,tpl:new Ext.XTemplate('<div class="thumb-wrap">','<div class="thumb">','<div style="font-weight: bold;">{[this.getFormatPendaftaran(values.NOPEN)]} - {[this.tanggalFormat(values.REFERENSI.PENDAFTARAN.TANGGAL)]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.getFormatNorm(values.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NORM)]} - {[this.getNamaLengkap(values.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Tujuan: <b>{[this.getTujuan(values)]}</b></div>','<div style="font-size: 12px; white-space:normal !important;">Penjamin: {[this.getPenjamin(values.REFERENSI.PENDAFTARAN.PENJAMIN)]}</div>',"</div>","</div>",{getFormatNorm:function(e){var m=Ext.String.leftPad(e,8,"0"),f=Ext.String.insert(Ext.String.insert(Ext.String.insert(m,".",2),".",5),".",8);return f},getNamaLengkap:function(o){var g=o.GELAR_DEPAN||"",n=o.NAMA||"",f=o.GELAR_BELAKANG||"";g=g==""?"":g+". ";f=f==""?"":", "+f;return g+n+f},getFormatPendaftaran:function(f){return f.substring(0,6)+"."+f.substring(6)},tanggalFormat:function(f){return Ext.Date.format(Ext.Date.parse(f,"Y-m-d H:i:s"),"d-m-Y H:i:s")},getTujuan:function(k){var g=k.REFERENSI.RUANGAN?k.REFERENSI.RUANGAN.DESKRIPSI:"";if(k.IKUT_IBU==1){g=g+"<br/>";g=g+"<span style='color: #31ade5'>Ikut Ibu</span>"}return g},getPenjamin:function(o){var m=o.REFERENSI,l=m.KAP,n=l.REFERENSI.PENJAMIN.DESKRIPSI+(l.NOMOR==""?"":"-"+l.NOMOR)+" [ Kls. "+(m.KELAS?m.KELAS.DESKRIPSI:"")+" - SEP. "+o.NOMOR+" ]";return n}})},{xtype:"widgetcolumn",text:"Status",flex:1,align:"right",widget:{xtype:"fieldcontainer",defaults:{padding:2,margin:"0 0 1 0"},layout:{type:"vbox",align:"stretch"},items:[{xtype:"button",text:"Panggil",action:1,ui:"soft-blue",bind:{disabled:"{inProses}"},handler:"onPanggil"},{xtype:"button",text:"Terima",action:0,bind:{disabled:"{inProses}"},handler:"onTerima"},{xtype:"button",text:"Batal",action:1,ui:"soft-red",bind:{disabled:"{inProses}"},handler:"onBatal"}]},onWidgetAttach:"onWidgetAttach"}],onBeforeLoad:function(n,e,p){var q=e.get("config");if(n.first){n.first=false}e.set("config",q);var o={COLUMNS:'["NOPEN","TANGGAL","RUANGAN","IKUT_IBU","KUNJUNGAN_IBU","STATUS"]',REFERENSI:Ext.JSON.encode({Pendaftaran:{COLUMNS:["NOMOR","NORM","TANGGAL"],REFERENSI:{Pasien:{COLUMNS:["NORM","GELAR_DEPAN","NAMA","GELAR_BELAKANG","JENIS_KELAMIN","TANGGAL_LAHIR","TEMPAT_LAHIR"]},Penjamin:{REFERENSI:{Kelas:true,KAP:true}}}},Ruangan:{COLUMNS:["DESKRIPSI","JENIS_KUNJUNGAN"]},AntrianRuangan:{COLUMNS:["ID"]}})};n.setParams(o)},doAfterLoad:function(o,l,m,n){o.setStatusRingTone()},setStatusRingTone:function(){var x=this,v=this.getViewModel(),f=v.get("confDering")||{},g=v.get("store"),u=(g)?g.count():0,w=location.origin+location.pathname,t=Ext.util.Cookies.get("PengunjungDering"),e=t?Ext.JSON.decode(Ext.util.Base64.decode(t)):false;if(e){f=Ext.apply(f,e);v.set("confDering",f);x.getReferences().statusdering.setValue(e.valDering)}if(f.valDering!=true){v.set("dering","")}else{if(u>0){v.set("dering",'<audio src="'+w+'resources/ringtone/dering.mp3" autoplay="autoplay" loop></audio>')}else{v.set("dering","")}}}},0,["tujuan-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","tujuan-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"tujuan-list":true},["widget.tujuan-list"],0,[pendaftaran.tujuan,"List"],0));(Ext.cmd.derive("pendaftaran.tujuan.ListController",Ext.app.ViewController,{tts:{integrasi:undefined,service:undefined},filter:{norm:"",tanggal:{checked:false,value:new Date()}},orderSelected:{property:"TANGGAL",direction:"ASC"},init:function(){var k=this,g=k.getView();k.tts.integrasi=g.app.xitr("ID",6);if(k.tts.integrasi){k.tts.service=Ext.create(k.tts.integrasi.NAMA_KLAS,{})}},onSearch:function(g,k){this.filter.norm=k;this.cari()},onClear:function(){this.filter.norm="";this.cari()},onChange:function(e,o){var n=this,p=n.getView(),q=p.down("search-field");if(o==""){q.onClearClick()}},onTerima:function(s){var e=this,q=e.getView(),t=e.getViewModel(),p=s.ownerCt.getWidgetRecord(),f=p.get("REFERENSI").PENDAFTARAN.REFERENSI.PASIEN.NAMA;q.waitRefresh=true;q.showMessageBox({title:"Penerimaan Pasien",message:"Anda yakin ingin menerima Pasien An. "+f+" ?",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:s,fn:function(k){if(k==="yes"){t.set("inProses",true);var g=Ext.create("data.model.Kunjungan",{NOPEN:p.get("NOPEN"),RUANGAN:p.get("RUANGAN"),STATUS:1});g.showError=true;g.animateTarget=k;g.scope=e;g.save({callback:function(n,l,m){q.waitRefresh=false;if(m){q.remove(s.ownerCt);q.notifyMessage("Penerimaan Pasien An. "+f+" berhasil");q.fireEvent("terima",p);q.refresh()}t.set("inProses",false)}})}else{q.waitRefresh=false;t.set("inProses",false)}}})},onBatal:function(t){var e=this,s=e.getView(),q=t.ownerCt.getWidgetRecord(),p=q.get("STATUS"),f=q.get("REFERENSI").PENDAFTARAN.REFERENSI.PASIEN.NAMA;s.waitRefresh=true;q.showError=true;q.animateTarget=t;q.scope=e;s.showMessageBox({title:"Pembatalan Penerimaan Pasien",message:"Anda yakin ingin membatalkan penerimaan Pasien An. "+f+" ?",ui:"window-warning",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:t,fn:function(g){if(g==="yes"){q.set("STATUS",0);q.save({callback:function(l,k,m){s.waitRefresh=false;if(m){s.remove(t.ownerCt);s.notifyMessage("Pembatalan penerimaan Pasien An. "+f+" berhasil");s.refresh()}else{q.set("STATUS",p)}}})}else{s.waitRefresh=false;q.set("STATUS",p)}}})},onPanggil:function(x){var g=this,u=g.getView(),z=g.getViewModel(),e=x.ownerCt.getWidgetRecord(),v=u.getReferensi(e.data,"ANTRIAN"),w=u.getReferensi(e.data,"PENDAFTARAN"),y=u.getReferensi(e.data,"RUANGAN"),f=v?Ext.create("data.model.PanggilanAntrianRuangan",{ANTRIAN_RUANGAN:v.ID}):null;u.waitRefresh=true;z.set("inProses",true);if(g.tts.service){g.tts.service.load(["Pasien Dengan Nomor Antrian","Silahkan Ke",y.DESKRIPSI])}if(f){f.showError=true;f.animateTarget=x;f.scope=g;f.save({callback:function(n,l,m){var k=u.getReferensi(n.data,"ANTRIAN");if(g.tts.service){g.tts.service.load(k.NOMOR)}u.waitRefresh=false;z.set("inProses",false)}})}},onChangeRingtone:function(e,q,p){var o=this,n=o.getViewModel();confDering=n.get("confDering")||{},obj={valDering:q,statusRing:(q)?"On":"Off"};valBase=Ext.util.Base64.encode(Ext.JSON.encode(obj));Ext.util.Cookies.set("PengunjungDering",valBase);o.getView().setStatusRingTone()},privates:{cari:function(){var l=this,n=l.getView(),o=n.down("pagingtoolbar"),m={sort:Ext.JSON.encode(l.orderSelected)};if(l.filter.norm==""){delete n.getStore().queryParams.NORM}else{m.NORM=l.filter.norm}if(!l.filter.tanggal.checked){delete n.getStore().queryParams.TANGGAL}else{m.TANGGAL=Ext.Date.format(l.filter.tanggal.value,"Y-m-d")}n.setParams(m);if(o){o.moveFirst()}else{n.load()}}},onWidgetAttach:function(g,v,e){var u=this,w=u.getView(),z=w.getPropertyConfig("4")=="TRUE",f=w.getReferensi(e.data,"RUANGAN"),y=v.down("[action=1]");y.setHidden(!z);if(f){var x=f.JENIS_KUNJUNGAN;if(x==0||x==2||x==3){y.setHidden(true)}}}},0,0,0,0,["controller.tujuan-list"],0,[pendaftaran.tujuan,"ListController"],0));(Ext.cmd.derive("pendaftaran.tujuan.SettingList",com.Form,{controller:"setting-tujuan-list",title:"Pengaturan",header:{iconCls:"x-fa fa-cog",margin:0,padding:"10 15 10 15"},bodyPadding:5,layout:{type:"hbox"},items:[{xtype:"checkbox",checked:false},{xtype:"datefield",fieldLabel:"Tanggal",name:"TANGGAL",format:"d-m-Y",value:new Date()}],buttons:[{text:"Simpan",iconCls:"x-fa fa-save",handler:"onSimpan"}],setConfig:function(n){var l=this,m=l.down("checkbox"),o=l.down("[name=TANGGAL]");if(n){m.setValue(n.isFilterTanggal);o.setValue(n.TANGGAL);l.focus("TANGGAL")}}},0,["setting-tujuan-list"],["component","box","container","panel","form","com-form","setting-tujuan-list"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"setting-tujuan-list":true},["widget.setting-tujuan-list"],0,[pendaftaran.tujuan,"SettingList"],0));(Ext.cmd.derive("pendaftaran.tujuan.SettingListController",Ext.app.ViewController,{onSimpan:function(){var l=this,n=l.getView(),m=n.down("checkbox"),o=n.down("[name=TANGGAL]");n.fireEvent("save",{isFilterTanggal:m.getValue(),TANGGAL:o.getValue()})}},0,0,0,0,["controller.setting-tujuan-list"],0,[pendaftaran.tujuan,"SettingListController"],0));(Ext.cmd.derive("pendaftaran.UbahTujuan",com.Form,{controller:"ubah-tujuan-form",viewModel:{data:{record:undefined,pasien:undefined,readOnly:false}},layout:"fit",defaults:{margin:"0 2 2 0"},items:[{reference:"ubahtujuan",xtype:"form-tujuan",header:false}],buttons:[{text:"Simpan",iconCls:"x-fa fa-save",handler:"onSimpan"}],onLoadRecord:function(n,o){var q=n.getViewModel(),p=Ext.create("data.model.TujuanPasien",Ext.clone(o.data)),e=n.down("form-tujuan");e.setPasien(q.get("pasien"));e.loadRecord(p)},setPasien:function(f){this.getViewModel().set("pasien",f)}},0,["ubah-tujuan-form"],["component","box","container","panel","form","com-form","ubah-tujuan-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"ubah-tujuan-form":true},["widget.ubah-tujuan-form"],0,[pendaftaran,"UbahTujuan"],0));(Ext.cmd.derive("pendaftaran.UbahTujuanController",Ext.app.ViewController,{onSimpan:function(t){var e=this,q=e.getView(),s=q.down("form-tujuan"),f=s.getFormData(),p=e.getViewModel().get("record");if(p.get("STATUS")==2){return}p.showError=true;p.animateTarget=t;p.scope=e;if(s.isValid()){p.set(f);q.showMessageBox({title:"Ubah Tujuan",message:"Anda yakin ingin mengubah tujuan pasien ?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:t,fn:function(g){p.save({callback:function(l,k,m){if(m){q.notifyMessage("Ubah Tujuan berhasil");q.fireEvent("simpan",l)}}})}})}},onReset:function(){var f=this;f.init()},onBatal:function(f){this.getView().fireEvent("batal",f)}},0,0,0,0,["controller.ubah-tujuan-form"],0,[pendaftaran,"UbahTujuanController"],0));(Ext.cmd.derive("pendaftaran.widget.Info",com.Form,{controller:"pendaftaran-widget-info",viewModel:{data:{pasien:undefined,buttons:{baru:false,icd:false,barcode:false,batal:false,tracert:false,gelang:false},dataFound:false},stores:{pendaftaranstore:{type:"pendaftaran-store"},kunjunganstore:{type:"kunjungan-store"}}},cls:"shadow-panel",border:true,inRefresh:false,layout:{type:"vbox",align:"stretch"},header:{iconCls:"x-fa fa-user-plus",title:"Pendaftaran Kunjungan",margin:0,padding:"5 10 1 10",cls:"x-color-w",layout:{type:"hbox",align:"middle"},items:[{xtype:"component",flex:1},{xtype:"button",iconCls:"x-fa fa-file",tooltip:"Pendaftaran Kunjungan Baru",ui:"soft-black",margin:"0 0 0 1",bind:{hidden:"{!buttons.baru}"},handler:"onBaru"},{xtype:"button",iconCls:"x-fa fa-list-alt",tooltip:"ICD",ui:"soft-cerulen",bind:{hidden:"{!buttons.icd}"},margin:"0 0 0 1",handler:"onICD"},{xtype:"button",iconCls:"x-fa fa-list",tooltip:"Tampilkan Detil",ui:"soft-blue",bind:{hidden:"{!dataFound}"},margin:"0 0 0 1",handler:"onDetil"},{xtype:"button",iconCls:"x-fa fa-history",tooltip:"History Pendaftaran Kunjungan",ui:"soft-cyan",bind:{hidden:"{!dataFound}"},margin:"0 0 0 1",handler:"onHistory"},{xtype:"button",iconCls:"x-fa fa-print",tooltip:"Cetak Bukti Pendaftaran",ui:"soft-asperages",margin:"0 0 0 1",handler:"onCetakBukti"},{xtype:"button",iconCls:"x-fa fa-barcode",tooltip:"Cetak Barcode Pendaftaran",ui:"soft-cyan",margin:"0 0 0 1",bind:{hidden:"{!buttons.barcode}"},handler:"onCetakBarcode"},{xtype:"button",iconCls:"x-fa fa-print",tooltip:"Cetak Tracert",ui:"soft-saphire",margin:"0 0 0 1",handler:"onCetakTracert",bind:{hidden:"{!buttons.tracert}"}},{xtype:"button",iconCls:"x-fa fa-circle-o",tooltip:"Cetak Gelang",ui:"soft-green",margin:"0 0 0 1",handler:"onCetakGelang",bind:{hidden:"{!buttons.gelang}"}},{xtype:"button",iconCls:"x-fa fa-minus-circle",tooltip:"Batalkan Pendaftaran Kunjungan",ui:"soft-red",bind:{hidden:"{!buttons.batal}"},margin:"0 0 0 1",handler:"onBatal"}]},bodyPadding:5,items:[{xtype:"container",layout:"hbox",items:[{xtype:"pendaftaran-short-detil",flex:1,reference:"pendaftaran"},{xtype:"tujuan-detil",flex:1,reference:"tujuan"}]},{xtype:"penjamin-detil",flex:1,reference:"penjamin"},{xtype:"kunjungan-detil",flex:1,reference:"kunjungan"}],refresh:function(){if(!this.inRefresh){this.getController().init()}}},0,["pendaftaran-widget-info"],["component","box","container","panel","form","com-form","pendaftaran-widget-info"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pendaftaran-widget-info":true},["widget.pendaftaran-widget-info"],0,[pendaftaran.widget,"Info"],0));(Ext.cmd.derive("pendaftaran.widget.InfoController",Ext.app.ViewController,{init:function(){var p=this,k=p.getView(),A=p.getViewModel(),B=p.getReferences(),l=A.get("pasien"),g=A.get("pendaftaranstore"),o=A.get("kunjunganstore"),n=k.app.xpriv,m=n("1010",false),z=n("1302",false);if(l.get("STATUS")!=1){A.set("buttons.baru",false)}if(!m){A.set("buttons.batal",false)}k.inRefresh=true;p.integrasi=k.app.xitr("ID",1);if(p.integrasi){p.service=Ext.create(p.integrasi.NAMA_KLAS,{})}if(l&&g&&A){g.queryParams={NORM:l.get("NORM"),start:0,limit:1};g.load(function(q,y,D){try{if(D){if(q.length>0){var x=q[0],w={},e={},u={NOPEN:x.get("NOMOR"),STATUS:1,HISTORY:1,start:0,limit:1},t=x.get("TUJUAN"),v=x.get("PENJAMIN");A.set("buttons.icd",z);if(t){w=Ext.create("data.model.TujuanPasien",t);if(t.STATUS==0){A.set("buttons.baru",true)}var s=t.REFERENSI?(t.REFERENSI.RUANGAN?t.REFERENSI.RUANGAN.JENIS_KUNJUNGAN:1):1;A.set("buttons.barcode",(s==2||s==3));A.set("buttons.tracert",(s==1));A.set("buttons.gelang",(s==2||s==3)&&k.getPropertyConfig(12)!=="FALSE")}else{w={NOPEN:x.get("NOMOR")}}if(v){e=Ext.create("data.model.Penjamin",v)}else{e={NOPEN:x.get("NOMOR"),NORM:x.get("NORM")}}if(B.pendaftaran.load){B.pendaftaran.load(x)}if(B.tujuan.load){B.tujuan.load(w)}if(B.penjamin.load){B.penjamin.load(e)}if(B.kunjungan.load){o.queryParams=u;o.load(function(J,C,H){try{A.set("buttons.baru",!H);if(H&&J.length>0){if(l.get("STATUS")!=1){A.set("buttons.baru",false)}}delete u.HISTORY;delete u.STATUS;B.kunjungan.load(u,function(){k.inRefresh=false})}catch(I){}})}if(x.get("STATUS")==0){A.set("buttons.baru",true);A.set("buttons.batal",false)}else{if(x.get("STATUS")==2){A.set("buttons.batal",false)}}}}else{A.set("buttons.baru",true);A.set("buttons.batal",false)}if(l.get("STATUS")!=1){A.set("buttons.baru",false)}k.inRefresh=false;A.set("dataFound",D);if(!m){A.set("buttons.batal",false)}}catch(f){}})}},onBaru:function(){this.getView().fireEvent("baru")},onICD:function(){var f=this.getReferences();this.getView().fireEvent("icd",f.pendaftaran.getRecord(),f.tujuan.getRecord(),f.penjamin.getRecord())},onDetil:function(){this.getView().fireEvent("detil",this.getReferences().pendaftaran.getRecord())},onHistory:function(){this.getView().fireEvent("history",this.getViewModel().get("pasien"))},onCetakBukti:function(){this.getView().fireEvent("cetakbukti",this.getReferences().pendaftaran.getRecord())},onCetakBarcode:function(){this.getView().fireEvent("cetakbarcode",this.getReferences().pendaftaran.getRecord())},onCetakTracert:function(){this.getView().fireEvent("cetaktracert",this.getReferences().pendaftaran.getRecord())},onCetakGelang:function(){this.getView().fireEvent("cetakgelang",this.getReferences().pendaftaran.getRecord())},onBatal:function(t){var e=this,p=e.getView(),q=e.getReferences();rec=q.pendaftaran.getRecord(),pjmn=rec.get("PENJAMIN");if(rec){var f=p.app.xpriv,s=f?false:true;if(f){s=!f("1010",false)}if(s){p.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Pembatalan pendaftaran kunjungan!","danger-blue");return}rec.showError=true;rec.animateTarget=t;rec.scope=e;Ext.Msg.show({title:"Pembatalan Pendaftaran Kunjungan",message:"Anda yakin ingin membatalkan pendaftaran kunjungan ini ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:t,fn:function(g){if(g==="yes"){rec.set("STATUS",0);rec.save({callback:function(l,k,m){if(m){if(e.service){if(e.integrasi.REF==pjmn.JENIS){e.service.batalkanSEP(pjmn.NOMOR)}}p.notifyMessage("Pembatalan pendaftaran kunjungan berhasil","danger-blue")}else{l.set("STATUS",1)}}})}else{rec.set("STATUS",1)}}})}e.getView().fireEvent("batal")},destroy:function(){if(this.service){delete this.service}Ext.app.ViewController.prototype.destroy.call(this)}},0,0,0,0,["controller.pendaftaran-widget-info"],0,[pendaftaran.widget,"InfoController"],0));(Ext.cmd.derive("pendaftaran.widget.Konsul",Ext.Container,{layout:"fit",items:[{xtype:"terima-konsul",reference:"terimakonsul",viewConfig:{loadMask:false},listeners:{terima:"onTerima"}}],loadStore:function(k){var g=this.down("terima-konsul");g.loadStore(k)},refresh:function(){this.down("terima-konsul").refresh()}},0,["pendaftaran-widget-konsul"],["component","box","container","pendaftaran-widget-konsul"],{component:true,box:true,container:true,"pendaftaran-widget-konsul":true},["widget.pendaftaran-widget-konsul"],0,[pendaftaran.widget,"Konsul"],0));(Ext.cmd.derive("pendaftaran.widget.Mutasi",Ext.Container,{layout:"fit",items:[{xtype:"terima-mutasi",reference:"terimamutasi",viewConfig:{loadMask:false},listeners:{terima:"onTerima"}}],loadStore:function(k){var g=this.down("terima-mutasi");g.loadStore(k)},refresh:function(){this.down("terima-mutasi").refresh()}},0,["pendaftaran-widget-mutasi"],["component","box","container","pendaftaran-widget-mutasi"],{component:true,box:true,container:true,"pendaftaran-widget-mutasi":true},["widget.pendaftaran-widget-mutasi"],0,[pendaftaran.widget,"Mutasi"],0));(Ext.cmd.derive("pendaftaran.widget.Pengunjung",Ext.Container,{layout:"fit",items:[{xtype:"tujuan-list",reference:"tujuanlist",viewConfig:{loadMask:false},listeners:{terima:"onTerima"}}],loadStore:function(k){var g=this.down("tujuan-list");g.loadStore(k)},refresh:function(){try{this.down("tujuan-list").refresh()}catch(f){}}},0,["pendaftaran-widget-pengunjung"],["component","box","container","pendaftaran-widget-pengunjung"],{component:true,box:true,container:true,"pendaftaran-widget-pengunjung":true},["widget.pendaftaran-widget-pengunjung"],0,[pendaftaran.widget,"Pengunjung"],0));(Ext.cmd.derive("layanan.JasaTuslahFarmasi.Model",data.model.Model,{serviceName:"layanan/jasatuslahfarmasi",fields:[{name:"NOMOR",type:"string"},{name:"KUNJUNGAN",type:"string"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"FARMASI",type:"int"},{name:"JUMLAH",type:"float"},{name:"HARGA",type:"int"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"NOMOR"},0,0,0,0,0,0,[layanan.JasaTuslahFarmasi,"Model"],0));(Ext.cmd.derive("layanan.JasaTuslahFarmasi.Store",data.store.Store,{model:"layanan.JasaTuslahFarmasi.Model"},0,0,0,0,["store.layanan-jasa-tuslah-farmasi-store"],0,[layanan.JasaTuslahFarmasi,"Store"],0));(Ext.cmd.derive("layanan.kelahiran.Model",data.model.Model,{serviceName:"layanan/kelahiran",fields:[{name:"ID",type:"int"},{name:"NOPEN",type:"string"},{name:"KUNJUNGAN",type:"string"},{name:"NAMA",type:"string"},{name:"JENIS_KELAMIN",type:"int"},{name:"TANGGAL",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"BERAT",type:"int"},{name:"PANJANG",type:"int"},{name:"OLEH",type:"int"},{name:"STATUS",type:"int",defaultValue:1}],idProperty:"ID"},0,0,0,0,0,0,[layanan.kelahiran,"Model"],0));(Ext.cmd.derive("layanan.kelahiran.Store",data.store.Store,{model:"layanan.kelahiran.Model"},0,0,0,0,["store.layanan-kelahiran-store"],0,[layanan.kelahiran,"Store"],0));(Ext.cmd.derive("layanan.Links",com.Tab,{border:true,cls:"x-br-top",ui:"header-tab",createLinks:false,items:[],activeTab:0,load:function(g){var f=this;f.kunjungan=g;if(!f.createLinks){f.createComponentLinks(g);f.createLinks=true}var e=f.getActiveTab();if(e){e.load(g)}},listeners:{tabchange:"onTabChange"},privates:{createComponentLinks:function(m){var t=this,s=t.app.xpriv("110107"),u=t.app.xpriv("110108"),p=t.app.xpriv("110109"),g=t.app.xpriv("110303")||t.app.xpriv("110604"),q=t.app.xpriv("110304")||t.app.xpriv("110605"),o=t.app.xpriv("110305")||t.app.xpriv("110606"),L=t.app.xpriv("1110"),K=s||u||p;if(m){var n=m.get("JENIS_KUNJUNGAN"),f=t.getReferensi(m.data,"MUTASI"),l=f?true:false;t.suspendLayouts();if(n==1||n==2||n==3||n==12){t.add({title:"Rekam Medis",iconCls:"x-fa fa-file-text-o",xtype:"rekammedis-workspace"})}if(n==11){t.add({title:"Layanan Farmasi",xtype:"layanan-farmasi-workspace"});t.add({title:"Retur Pelayanan Farmasi",xtype:"retur-layanan-farmasi-workspace"})}else{if(((n!=4||n!=5||n!=11||n)&&!K)||(n==4||n==5)){t.add({iconCls:"x-fa fa-user-md",title:"Layanan",xtype:"tindakan-medis-workspace"})}if(n==4){var e=t.app.xpriv("110604");t.add({iconCls:"x-fa fa-flask",title:"Hasil Laboratorium",xtype:"workspace-input-hasil-lab"});if(e){t.add({title:"Riwayat Hasil Laboratorium",iconCls:"x-fa fa-history",xtype:"riwayat-lab-workspace"})}t.add({iconCls:"x-fa fa-eyedropper",title:"Hasil Patologi Anatomi",xtype:"workspace-hasil-pa"})}if(n==5){var k=t.app.xpriv("110605");t.add({iconCls:"x-fa fa-odnoklassniki-square",title:"Hasil Radiologi",xtype:"workspace-hasil-rad"});if(k){t.add({title:"Riwayat Hasil Radiologi",iconCls:"x-fa fa-history",xtype:"riwayat-rad-workspace"})}}}if(!(n==4||n==5||n==11)){if(!u&&!p&&g){t.add({iconCls:"x-fa fa-flask",title:"Laboratorium",xtype:"laboratorium-workspace",listeners:{reopen:"onReopen"}})}if(!s&&!p&&q){t.add({iconCls:"x-fa fa-odnoklassniki-square",title:"Radiologi",xtype:"radiologi-workspace",listeners:{reopen:"onReopen"}})}if(!s&&!u&&o){t.add({iconCls:"x-fa fa-eraser",title:"E-Resep",xtype:"resep-workspace",listeners:{reopen:"onReopen"}})}if(!K){t.add({iconCls:"x-fa fa-wheelchair",title:"Konsul",xtype:"konsultasi-workspace"});t.add({iconCls:"x-fa fa-newspaper-o",title:"Laporan Operasi",xtype:"workspace-list-lap-operasi"})}}if(n==2||n==3||n==6||n==12){if(!K){t.add({iconCls:"x-fa fa-heart-o",title:"Pemakaian O2",xtype:"pemakaian-o2-workspace"});if(n==3){t.add({iconCls:"x-fa fa-bed",xtype:"mutasi-workspace",title:"Mutasi"})}}}if((n==2||n==3)&&!K&&!l){t.add({iconCls:"x-fa fa-arrow-circle-o-right",xtype:"pasien-pulang-workspace",title:"Pasien Pulang",listeners:{pasienpulang:"onPasienPulang"}})}if((n==1||n==2||n==3)&&!K&&!l){t.add({iconCls:"x-fa fa-envelope-o",xtype:"pendaftaran-rujukan-keluar-workspace",title:"Rujukan Keluar"})}t.resumeLayouts()}t.setActiveTab(0)}}},0,["layanan-links"],["component","box","container","panel","tabpanel","com-tab","layanan-links"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"layanan-links":true},["widget.layanan-links"],0,[layanan,"Links"],0));(Ext.cmd.derive("layanan.Workspace",com.Form,{controller:"layanan-workspace",viewModel:{data:{pasien:undefined,pendaftaran:undefined,kunjungan:undefined,allowAuto:false,allowBatalFinal:false},formulas:{getFormatPendaftaran:function(f){var g=f("pendaftaran.NOMOR"),e=g?g.substring(0,6)+"."+g.substring(6):"";return e},isFinal:function(e){var f=e("kunjungan.STATUS");f=f!=undefined?f:1;return f==2||f==0},isFinalAllow:function(e){return e("isFinal")||e("allowAuto")},isInap:function(k){var f=k("kunjungan.JENIS_KUNJUNGAN"),q=k("kunjungan.REFERENSI")?k("kunjungan.REFERENSI"):null,g=q?(q.PEMBATALAN?q.PEMBATALAN:null):null,e=g?g.JENIS==1:false;f=f!=undefined?f:1;return(e?false:f==3)||k("isFinal")},isInapAllow:function(e){return e("isInap")||e("allowAuto")},isAllowBatalFinal:function(e){var g=e("isFinalAllow"),f=e("allowBatalFinal");if(!g){return false}return f},isBukanPenunjang:function(e){var f=e("kunjungan.JENIS_KUNJUNGAN");return f==1||f==2||f==3}}},layout:{type:"vbox",align:"stretch"},title:"Detil Kunjungan",header:{itemPosition:1,defaults:{margin:"0 1 0 0"},items:[{xtype:"displayfield",bind:{value:"<strong>No. Pendaftaran: {getFormatPendaftaran}</strong>"},margin:"0 5 0 0",fieldStyle:"margin-top: 12px"},{xtype:"button",ui:"soft-cerulen",text:"Final",tooltip:"Final Kunjungan",hidden:true,bind:{hidden:"{isInapAllow}"},handler:"onFinal"},{xtype:"button",iconCls:"x-fa fa-minus-circle",tooltip:"Batalkan Kunjungan",bind:{hidden:"{isFinalAllow}"},ui:"soft-red",handler:"onBatalKunjungan"},{xtype:"button",iconCls:"x-fa fa-chain-broken",tooltip:"Batalkan Final",bind:{hidden:"{!isAllowBatalFinal}"},ui:"soft-red",handler:"onBatalFinal"},{xtype:"button",ui:"soft-asperages",iconCls:"x-fa fa-refresh",tooltip:"Perbarui Data",handler:"onReload"}]},items:[{xtype:"container",layout:{type:"hbox"},padding:5,items:[{xtype:"pasien-short-detil",reference:"pasien",flex:1,border:false},{xtype:"container",flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"kunjungan-detil",cls:"",margin:"0 0 5 0",reference:"kunjungan"},{xtype:"penjamin-detil",cls:"",layout:{type:"vbox",align:"right"},reference:"penjamin"}]}]},{xtype:"layanan-links",flex:1,reference:"layananlinks"}],load:function(t,n,w){var p=this,q=p.getViewModel(),u=p.getReferences(),o=n?n.get("PENJAMIN"):undefined;q.set("pasien",t);q.set("pendaftaran",n);q.set("kunjungan",w);u.pasien.setFormConfig({edit:p.app.xpriv("100701",false)});if(t){u.pasien.load(t)}if(w){u.kunjungan.load(w)}if(o){u.penjamin.load(Ext.create("data.model.Penjamin",o))}if(w){u.layananlinks.load(w)}if(q){var L=p.app.xpriv("110107"),k=p.app.xpriv("110108"),K=p.app.xpriv("110109"),l=L||k||K,s=p.app.xpriv("110804"),v=w.get("JENIS_KUNJUNGAN")?w.get("JENIS_KUNJUNGAN"):1,m=w.get("REFERENSI"),x=m?m.PENDAFTARAN:n;if(v==4||v==5||v==11){l=false}q.set("allowAuto",l);if(x.STATUS==2){s=false}q.set("allowBatalFinal",s)}}},0,["layanan-workspace"],["component","box","container","panel","form","com-form","layanan-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"layanan-workspace":true},["widget.layanan-workspace"],0,[layanan,"Workspace"],0));(Ext.cmd.derive("layanan.WorkspaceController",Ext.app.ViewController,{onReload:function(){var g=this,f=g.getView(),e=g.getViewModel();f.setLoading(true);(new Ext.util.DelayedTask(function(){if(data.model){data.model.Kunjungan.load(e.get("kunjungan").get("NOMOR"),{callback:function(m,k,l){if(l){f.load(e.get("pasien"),e.get("pendaftaran"),m)}f.setLoading(false)}})}})).delay(1500)},onFinal:function(f){var t=this,l=t.getView(),k=t.getViewModel(),m=k.get("kunjungan"),g=m?m.get("STATUS"):0;if(g==0){return}l.showMessageBox({title:"Final Kunjungan",message:"Anda yakin ingin menyelesaikan / memfinalkan kunjungan ini ?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:f,fn:function(e){if(e==="yes"){m.showError=true;m.animateTarget=f;m.scope=t;m.set("STATUS",2);m.save({callback:function(o,p,n){if(n){l.notifyMessage("Kunjungan telah difinalkan");t.onReload()}else{m.set("STATUS",g)}}})}else{m.set("STATUS",g)}}})},onBatalKunjungan:function(k){var l=this,e=l.getView(),f=l.getReferences(),v=f.kunjungan.getRecord();if(v){var m=l.getView().app.xpriv,g=m?false:true;if(m){g=!m("110802",false)}if(g){e.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Pembatalan kunjungan!");return}v.showError=true;v.animateTarget=k;v.scope=l;e.showMessageBox({title:"Pembatalan Kunjungan",message:"Anda yakin ingin membatalkan kunjungan ini ?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:k,fn:function(n){if(n==="yes"){v.set("STATUS",0);v.save({callback:function(q,o,p){if(p){e.notifyMessage("Pembatalan kunjungan berhasil","danger-blue");l.onReload()}else{q.set("STATUS",1)}}})}else{v.set("STATUS",1)}}})}},onBatalFinal:function(k){var t=this,f=t.getView(),l=t.getViewModel(),e=l.get("kunjungan"),g=true;if(f.app){g=!f.app.xpriv("110804")}if(g){f.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Pembatalan final kunjungan!");return}f.showMessageBox({title:"Pembatalan Final",message:"Anda yakin ingin membatalkan final kunjungan?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:k,fn:function(m){if(m==="yes"){f.openDialog("",true,100,50,{xtype:"pembatalan-kunjungan-form",title:"Pembatalan Final Kunjungan",ui:"panel-red",showCloseButton:true},function(n,p){var o=p.down("pembatalan-kunjungan-form");o.on({close:function(){p.close()},save:function(q,s,v){t.onReload();p.close()}});o.createRecord({KUNJUNGAN:e.get("NOMOR"),JENIS:1,TANGGAL:f.getSysdate()})})}}})},onPasienPulang:function(f){var e=this;e.onReload()},onReopen:function(e){this.getView().fireEvent("reopen",e)},onTabChange:function(f,k){var l=this.getViewModel();try{var g=l.get("kunjungan");if(k.load){k.load(g)}}catch(q){console.log("Error: "+q.message)}}},0,0,0,0,["controller.layanan-workspace"],0,[layanan,"WorkspaceController"],0));(Ext.cmd.derive("layanan.farmasi.Detil",com.Grid,{controller:"layanan-farmasi-detil",viewModel:{stores:{store:{type:"layananfarmasi-store",autoSync:true},kunjungan:{type:"kunjungan-store"},tariffarmasi:{type:"tariffarmasiperkelas-store"},returlayananfarm:{type:"returlayananfarmasi-store"},marginpenjamin:{type:"master-marginpenjaminfarmasi-store"}},data:{notFinalKunjungan:true,ruangan:0,isEdit:0,listConfig:{columns:{racikan:{hidden:true}}}}},bind:{store:"{store}"},title:"Detail",header:{items:[{xtype:"button",text:"Jasa Tuslah",tooltip:"Tambah Jasa Tuslah",bind:{disabled:"{!notFinalKunjungan}"},listeners:{click:"onAddTuslah"}}]},ui:"panel-cyan",margin:"2px 2px 2px 2px",viewConfig:{stripeRows:true},initComponent:function(){var e=this;e.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1,listeners:{beforeedit:"BeforeEdit"}});e.comboBarang=Ext.create("master.barang.Combo",{listeners:{select:"onSelectBarang",focus:"onFocuBarang"}});e.plugins=[e.cellEditing];e.columns=[{xtype:"rownumberer",text:"No",align:"left",width:40},{text:"",dataIndex:"STATUS",renderer:"RenderStatus",width:1},{text:"Racikan",bind:{hidden:"{listConfig.columns.racikan.hidden}"},sortable:false,columns:[{text:"Group",dataIndex:"GROUP_RACIKAN",sortable:false,renderer:"onRenderRacikan",width:95},{text:"Jml",dataIndex:"JUMLAH_RACIKAN",sortable:false,align:"right",width:65},{text:"Petunjuk",dataIndex:"PETUNJUK_RACIKAN",sortable:false,renderer:"onRenderPetunjukRacikan",width:85}]},{text:"Nama Obat",sortable:false,dataIndex:"FARMASI",renderer:"onRenderObat",reference:"ObatPengganti",flex:1,editor:e.comboBarang},{xtype:"numbercolumn",text:"Jumlah",dataIndex:"JUMLAH",hideTrigger:true,width:95,align:"right",editor:{xtype:"numberfield",hideTrigger:true,reference:"jumlah",name:"JUMLAH",allowBlank:false,minValue:0}},{text:"Aturan Pakai",dataIndex:"ATURAN_PAKAI",sortable:false,renderer:"onRenderAturanPakai",flex:1,editor:{xtype:"referensi-combo",params:{JENIS:41},minChars:2,name:"ATURAN_PAKAI",queryMode:"remote",queryParam:"QUERY",reference:"aturanpakai",emptyText:"[ Aturan Pakai ]",hideTrigger:true,typeAhead:true,flex:1,listeners:{select:"onSelectAturanPakai",focus:"onFocuAturanPakai"}}},{text:"Keterangan",dataIndex:"KETERANGAN",sortable:false,flex:1,editor:{xtype:"textfield",name:"KETERANGAN"}},{text:"Hari",width:75,dataIndex:"HARI",reference:"hari",editor:{xtype:"numberfield",hideTrigger:true}},{text:"Alasan Jika Tidak Terlayani",dataIndex:"ALASAN_TIDAK_TERLAYANI",sortable:false,flex:1,editor:{xtype:"textfield"}},{text:"Harga (Rp)",format:"0,00",renderer:"Renderhargasatuan",align:"right",width:100,summaryRenderer:"onSummaryInfoRenderer"},{xtype:"numbercolumn",text:"Total (Rp)",align:"right",format:"0,00",width:120,renderer:"onTotalRenderer",summaryRenderer:"onSummaryRenderer"}];e.features=[{ftype:"summary",dock:"bottom"}];e.buttons=[{xtype:"component",flex:1},{text:"Cetak Kwitansi Pelayanan",iconCls:"x-fa fa-print",reference:"printkwitansipelayananfarmasi",handler:"oncetakkwitansi",bind:{hidden:"{notFinalKunjungan}"}},{text:"Cetak Etiket",iconCls:"x-fa fa-print",handler:"onceetaketiket",reference:"printetiketpelayananfarmasi",bind:{hidden:"{notFinalKunjungan}"}}];e.callParent(arguments)},load:function(s){var E=this,m=s.get("NOMOR"),p=s.get("RUANGAN"),g=s.get("REFERENSI"),e=g.PENDAFTARAN,f=e.PENJAMIN,q=E.getViewModel(),F=q.get("store"),n=q.get("kunjungan"),o=q.get("tariffarmasi"),l=q.get("marginpenjamin");q.set("ruangan",p);if(s){q.set("notFinalKunjungan",s.get("STATUS")!=2);q.set("isEdit",s.get("STATUS"))}if(n){n.queryParams=n.queryParams||{};if(m){n.queryParams.NOMOR=m;n.load()}}if(o){o.queryParams=o.queryParams||{};if(s){o.queryParams={KELAS:f.KELAS,STATUS:1}}o.load()}if(l){l.setQueryParams({PENJAMIN:f.JENIS,JENIS:1,TANGGAL_SK:e.TANGGAL,start:0,limit:1});l.load()}(new Ext.util.DelayedTask(function(){if(F){F.queryParams=F.queryParams||{};if(s){F.queryParams.KUNJUNGAN=s.get("NOMOR")}F.load()}})).delay(1000)},getData:function(){var f=this,e=f.getViewModel().get("store"),g=[];e.each(function(k){g.push(k.data)});return g}},0,["layanan-farmasi-detil"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","layanan-farmasi-detil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"layanan-farmasi-detil":true},["widget.layanan-farmasi-detil"],0,[layanan.farmasi,"Detil"],0));(Ext.cmd.derive("layanan.farmasi.DetilController",Ext.app.ViewController,{currentRecord:undefined,presentase:0,margin:0,totalretur:0,total:0,initViewModel:function(){var e=this,g=e.getView(),k=e.getStore("store"),q=e.getStore("tariffarmasi"),f=e.getStore("marginpenjamin");q.doAfterLoad=function(l){l.each(function(m){e.presentase=Number(m.get("FARMASI"))})};f.doAfterLoad=function(l){l.each(function(m){e.margin=Number(m.get("MARGIN"))})};k.doAfterLoad=function(m){var l=0;m.each(function(t){var u=e.getHargaJual(t),o=e.isKategoryPenjualan(t),C=u*(e.margin/100),p=u+(o?C:0),s=p*(e.presentase/100),B=p+(o?s:0),n=Number(t.get("JUMLAH"))*B;l=l+n});e.total=l}},onAddTuslah:function(e){var t=this,g=t.getView(),l=t.getViewModel(),k=l.get("store"),f=k.getData().items[0].get("KUNJUNGAN");dialog=g.openDialog("",true,"70%","200px",{xtype:"layanan-farmasi-form-tuslah",title:"Form Jasa Tuslah",ui:"panel-cyan",showCloseButton:true,hideColumns:true,listeners:{close:function(){dialog.close();k.reload()}}},function(o,n){var m=n.down("layanan-farmasi-form-tuslah");m.setRuangan(l.get("ruangan"));m.createRecord({KUNJUNGAN:f});m.on("save",function(p){g.refresh();n.close()})})},getHargaJual:function(f){var q=f.get("REFERENSI")?f.get("REFERENSI"):null,e=q?(q.FARMASI?q.FARMASI:null):null,k=e?(e.REFERENSI?e.REFERENSI:null):null,g=k?(k.HARGA?k.HARGA:null):null;return g?Number(g.HARGA_JUAL):0},isKategoryPenjualan:function(f){var o=f.get("REFERENSI"),e=o?(o.FARMASI?o.FARMASI:null):null,g=e?(e.KATEGORI?e.KATEGORI.substring(0,3):""):"";return g=="101"||g=="102"},getTotal:function(){var g=this,e=g.getStore("store"),f=0;e.each(function(l){var m=g.getHargaJual(l),p=g.isKategoryPenjualan(l),o=m*(g.margin/100),v=m+(p?o:0),k=v*(g.presentase/100),n=v+(p?k:0);f+=Number(l.get("JUMLAH"))*n});return f},onTotalRenderer:function(e,E,f){var m=this,p=m.getView(),l=m.getHargaJual(f),F=m.isKategoryPenjualan(f),o=l*(m.margin/100),q=l+(F?o:0),g=q*(m.presentase/100),k=q+(F?g:0),n=Number(f.get("JUMLAH"))*k;return Ext.util.Format.number(n,"0,00")},onReturRenderer:function(f,q,k){var n=this,p=n.getView();if(k.get("REFERENSI")){var g=k.get("REFERENSI"),m=0,D=g.RETUR.length;for(var l=0;l<D;l++){var e=Number(g.RETUR[l].JUMLAH);m=m+e}var o=m}else{var o=0}return m},onSummaryRenderer:function(g,e,f){var o='<span style="font-size: 12px; font-weight: bold">'+Ext.util.Format.number(this.getTotal(),"0,00")+"</span>";return o},BeforeEdit:function(q,k,l){var f=this,g=f.getViewModel().get("isEdit");if(g==1){f.currentRecord=k.record}else{return false}},onSelectBarang:function(k,g){var e=this;var q=g.get("REFERENSI"),f=e.currentRecord.get("REFERENSI")||{};if(f){f.FARMASI=q.BARANG}e.currentRecord.set("REFERENSI",f)},onRenderObat:function(f,q,e){var g=e.get("REFERENSI"),k=g?(g.FARMASI?g.FARMASI.NAMA:""):"";return k},onRenderPetunjukRacikan:function(f,q,e){var k=e.get("REFERENSI"),g=k?(k.PETUNJUK_RACIKAN?k.PETUNJUK_RACIKAN.DESKRIPSI:""):"";return g},Renderhargasatuan:function(l,z,m){var g=this.getHargaJual(m),f=this.isKategoryPenjualan(m),n=this.presentase,o=g*(this.margin/100),e=g+(f?o:0),k=e*(n/100);hrg_jual=e+(f?k:0);return'<span style="color:black;">'+Ext.util.Format.number(hrg_jual,"0,000")+"</span>"},isNullManualEntry:function(g){var f=this,e=f.getViewModel().get("storeCekNull");e.load(function(l,k,m){if(Ext.isArray(l)){g(l.length>0)}})},onSummaryInfoRenderer:function(){return'<span style="font-size: 12px; font-weight: bold">Total (Rp.): </span>'},onFocuBarang:function(g){var f=this.getView,v=g.getViewModel(),l=this.getViewModel().get("ruangan"),m=v.get("store");m.queryParams.RUANGAN=l;m.load();var k=this.currentRecord.get("REFERENSI"),e=k?k.FARMASI:null;rec=e?Ext.create("data.model.Barang",e):null;g.select(rec)},onRenderAturanPakai:function(k,f,e){var t=e.get("ATURAN_PAKAI");if(Ext.isNumeric(t)){var l=e.get("REFERENSI"),g=l?(l.ATURAN_PAKAI?l.ATURAN_PAKAI.DESKRIPSI:""):"";return g}else{var l=e.get("ATURAN_PAKAI");return'<span style="color:black;">'+l+"</span>"}},onSelectAturanPakai:function(f,e){var g=this;d=g.currentRecord.get("REFERENSI")||{};if(d){d.ATURAN_PAKAI=e.data}g.currentRecord.set("REFERENSI",d)},onFocuAturanPakai:function(e){var g=this.currentRecord.get("REFERENSI"),f=g?g.ATURAN_PAKAI:null;rec=f?Ext.create("data.model.Referensi",f):null;e.select(rec)},RenderStatus:function(e,l,t){var g=this.getView(),k=this.getReferences(),f=e!=1;k.printkwitansipelayananfarmasi.setDisabled(!f);k.printetiketpelayananfarmasi.setDisabled(!f);if(t.get("RACIKAN")>0){g.setListConfig({columns:{racikan:{hidden:false}}})}return e},onRenderRacikan:function(e){if(e>0){return'<span style="color:green;"> Racikan['+e+"]</span>"}else{return'<span style="color:black;"> - </span>'}return e},onKirimLayanan:function(e){var g=this,o=g.getView(),f=g.getViewModel();datafm=o.getData(),record=Ext.create("data.model.LayananFarmasi",{}),i=0,baris=0,j=false,jumlah=datafm.length;while(i<datafm.length){record.set("ID",datafm[i].ID);record.set("KUNJUNGAN",datafm[i].KUNJUNGAN);record.set("FARMASI",datafm[i].FARMASI);record.set("JUMLAH",datafm[i].JUMLAH);record.set("ATURAN_PAKAI",datafm[i].ATURAN_PAKAI);record.set("KETERANGAN",datafm[i].KETERANGAN);record.set("ALASAN_TIDAK_TERLAYANI",datafm[i].ALASAN_TIDAK_TERLAYANI);record.set("HARI",datafm[i].HARI);if(datafm[i].ALASAN_TIDAK_TERLAYANI!=""){record.set("STATUS",3)}else{record.set("STATUS",2)}record.showError=true;record.animateTarget=e;record.scope=g;record.save({callback:function(k,l,m){if(l.hasException()||!i){}if(m){baris++;if(jumlah==baris){Ext.toast({html:"Resep Telah Terlayani",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});f.get("store").load()}}}});i++}},oncetakkwitansi:function(k){var q=this,g=q.getView(),e=q.getStore("store").getAt(0),f=e.get("KUNJUNGAN");new Ext.util.DelayedTask(function(){g.fireEvent("printkwitansipelayanan",k,f,2)}).delay(1000)},onceetaketiket:function(){var f=this,e=f.getView(),g=f.getStore("store").getAt(0);kjgn=g.get("KUNJUNGAN");new Ext.util.DelayedTask(function(){e.fireEvent("printetiket",kjgn)}).delay(1000)}},0,0,0,0,["controller.layanan-farmasi-detil"],0,[layanan.farmasi,"DetilController"],0));(Ext.cmd.derive("layanan.farmasi.Form",com.Form,{controller:"layanan-farmasi-form",viewModel:{stores:{store:{type:"order-resep-store",pageSize:25},storeDeksripsiStatus:Ext.create("data.store.Store",{field:["ID","DESK"],data:[{ID:0,DESK:"Tidak"},{ID:1,DESK:"Ya"}]})}},layout:{type:"vbox",align:"stretch"},header:{iconCls:"x-fa fa-print",padding:"7px 7px 7px 7px",title:"Copy Resep"},ui:"panel-cyan",margin:"2px 2px 2px 2px",defaults:{margin:"0 2 2 0",readOnly:true},fieldDefaults:{labelAlign:"top",msgTarget:"side"},bodyPadding:5,initComponent:function(){var f=this,e=new Date();f.items=[{xtype:"textfield",name:"NOMOR",reference:"nomorresep"},{xtype:"textfield",name:"PEMBERI_RESEP",fieldLabel:"Pemberi Resep"},{xtype:"datefield",fieldLabel:"Waktu Peresepan",format:"d-m-Y H:m:s",margin:"0 1 0 0",name:"TANGGAL"},{xtype:"combo",bind:{store:"{storeDeksripsiStatus}"},displayField:"DESK",valueField:"ID",fieldLabel:"Gangguan Ginjal",name:"GANGGUAN_FUNGSI_GINJAL"},{xtype:"combo",bind:{store:"{storeDeksripsiStatus}"},displayField:"DESK",valueField:"ID",fieldLabel:"Hamil",name:"HAMIL"},{xtype:"combo",bind:{store:"{storeDeksripsiStatus}"},displayField:"DESK",valueField:"ID",fieldLabel:"Menyusui",name:"MENYUSUI"},{xtype:"textarea",fieldLabel:"Diagnosa",name:"DIAGNOSA"}];f.callParent(arguments)},dockedItems:[{xtype:"toolbar",dock:"bottom",items:[{xtype:"button",ui:"soft-blue",width:"100%",iconCls:"x-fa fa-print",text:"Cetak Copy Resep",handler:"OnCetakCopyResep"}]}],load:function(k){try{var f=this,o=f.getViewModel().get("store");o.queryParams.NOMOR=k;o.load({callback:function(l,e,n){if(n){if(l.length>0){var m=l[0];f.loadRecord(m)}}}})}catch(g){}}},0,["layanan-farmasi-form"],["component","box","container","panel","form","com-form","layanan-farmasi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"layanan-farmasi-form":true},["widget.layanan-farmasi-form"],0,[layanan.farmasi,"Form"],0));(Ext.cmd.derive("layanan.farmasi.FormController",Ext.app.ViewController,{kode:"",init:function(){var e=Ext.getStore("instansi");e=e?e.getAt(0):null;if(e){this.kode=e.get("REFERENSI").PPK.KODE}this.kode=this.kode+(this.kode==""?this.kode:"-")},OnCetakCopyResep:function(f){var n=this,z=n.getView(),o=n.getReferences(),m=o.nomorresep.getValue(),l="Word",k="docx",g=true,e="Cetak Copy Resep";Ext.Msg.show({title:e,message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:f,fn:function(p){if(p!="yes"){l="Pdf";k="pdf";g=false}z.cetak({NAME:"layanan.farmasi."+n.kode+"CetakCopyResep",TYPE:l,EXT:k,PARAMETER:{PNOMOR:m,CETAK_HEADER:1},REQUEST_FOR_PRINT:g,PRINT_NAME:"CetakResep"},function(q){z.printPreview(e,q)})}})}},0,0,0,0,["controller.layanan-farmasi-form"],0,[layanan.farmasi,"FormController"],0));(Ext.cmd.derive("layanan.farmasi.FormTuslah",com.Form,{controller:"layanan-farmasi-form-tuslah",layout:{type:"hbox"},ui:"panel-cyan",margin:"2px 2px 2px 2px",defaults:{margin:"0 2 2 0"},fieldDefaults:{labelAlign:"top",msgTarget:"side"},bodyPadding:15,model:"layanan.JasaTuslahFarmasi.Model",config:{ruangan:undefined},initComponent:function(){var e=this;e.items=[{xtype:"barang-combo",flex:2,hideTrigger:true,reference:"barangcombo",allowBlank:false,emptyText:"[ Nama Tuslah ]",name:"FARMASI",params:{STATUS:1,KATEGORI:10701}},{xtype:"numberfield",margin:"0 1 0 0",reference:"jumlah",name:"JUMLAH",emptyText:"[ Jumlah ]",flex:1},{xtype:"button",iconCls:"x-fa fa-save",text:"Tambahkan",handler:"OnSimpanJasaTuslah"}];e.callParent(arguments)},onLoadRecord:function(e,f){var o=e.getRuangan(),g=e.down("barang-combo");if(o){g.getStore().setQueryParams({RUANGAN:o})}},onBeforeGetRecord:function(f,g){var o=f.down("barang-combo").getSelection(),e=f.down("[reference=jumlah]").getValue();g.REFERENSI={RACIKAN:{ID:0,DESKRIPSI:"Jasa Tuslah"}};g.JUMLAH=e;if(o){g.REFERENSI.BARANG=o.data;g.HARGA=o.data.REFERENSI.BARANG.REFERENSI.HARGA.ID}}},0,["layanan-farmasi-form-tuslah"],["component","box","container","panel","form","com-form","layanan-farmasi-form-tuslah"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"layanan-farmasi-form-tuslah":true},["widget.layanan-farmasi-form-tuslah"],0,[layanan.farmasi,"FormTuslah"],0));(Ext.cmd.derive("layanan.farmasi.FormTuslahController",Ext.app.ViewController,{OnSimpanJasaTuslah:function(f){var g=this,e=g.getView();e.save(f)}},0,0,0,0,["controller.layanan-farmasi-form-tuslah"],0,[layanan.farmasi,"FormTuslahController"],0));(Ext.cmd.derive("layanan.farmasi.TransaksiLangsung.Detil",Ext.grid.Panel,{viewModel:{stores:{store:{type:"order-detil-resep-store"}}},bind:{store:"{store}"},title:"Detil",border:false,columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{xtype:"templatecolumn",text:"Nama Obat",flex:3,sortable:false,tpl:"<div>{REFERENSI.BARANG.NAMA}</div>"},{text:"Aturan Pakai",dataIndex:"ATURAN_PAKAI",sortable:false,flex:2},{text:"Jumlah",dataIndex:"JUMLAH",sortable:false,flex:1},{text:"Harga (Rp)",format:"0,00",renderer:"Renderhargasatuan",align:"right",width:100,summaryRenderer:"onSummaryInfoRenderer"},{xtype:"numbercolumn",text:"Jumlah Harga(Rp)",align:"right",format:"0,00",width:120,renderer:"onTotalRenderer",summaryRenderer:"onSummaryRenderer"},{xtype:"widgetcolumn",align:"center",text:"#",width:70,widget:{xtype:"fieldcontainer",flex:1,defaults:{padding:2},items:[{xtype:"button",action:0,iconCls:"x-fa fa-minus-circle",ui:"soft-red",handler:"onBatalOrder",bind:{hidden:"{columnCommandConfig.hideBatalOrder}"}}]}}],features:[{ftype:"summary",dock:"bottom"}],dockedItems:[{xtype:"pagingtoolbar",bind:{store:"{store}"},dock:"bottom",displayInfo:true}],getData:function(){var e=this,f=e.getViewModel().get("store"),g=[];f.each(function(k){g.push(k.data)});return g},addRow:function(g){var e=this,f=e.getViewModel().get("store");f.add(g)},removeDataStore:function(){this.getViewModel().get("store").removeAll()},removeAnotherModels:function(){var g=this.getViewModel().get("store"),f=[];g.each(function(k){if(Ext.getClassName(k)!="data.model.OrderDetilResep"){f.push(k)}});var e=new Ext.util.DelayedTask(function(){g.remove(f)});e.delay(100)}},0,["transaksi-farmasi-langsung-detil"],["component","box","container","panel","tablepanel","gridpanel","grid","transaksi-farmasi-langsung-detil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"transaksi-farmasi-langsung-detil":true},["widget.transaksi-farmasi-langsung-detil"],0,[layanan.farmasi.TransaksiLangsung,"Detil"],0));(Ext.cmd.derive("layanan.farmasi.TransaksiLangsung.DetilController",Ext.app.ViewController,{onBatalOrder:function(g){var f=this,e=f.getStore("store"),o=g.ownerCt.getWidgetRecord();e.remove(o)},onRenderAturanPakai:function(k,f,e){var t=e.get("ATURAN_PAKAI");if(Ext.isNumeric(t)){var l=e.get("REFERENSI"),g=l?(l.ATURANPAKAI?l.ATURANPAKAI.DESKRIPSI:""):"";console.log(l);return g}else{var l=e.get("ATURAN_PAKAI");return'<span style="color:black;">'+l+"</span>"}},onRenderRacikan:function(e){console.log(e);if(e>0){return'<span style="color:green;"> Racikan['+e+"]</span>"}else{return'<span style="color:black;"> Non Racik </span>'}return e}},0,0,0,0,["controller.transaksi-farmasi-langsung-detil"],0,[layanan.farmasi.TransaksiLangsung,"DetilController"],0));(Ext.cmd.derive("layanan.farmasi.TransaksiLangsung.Form",Ext.form.Panel,{controller:"transaksi-farmasi-langsung-form",layout:{type:"vbox",align:"stretch"},bodyPadding:15,initComponent:function(){var e=this;e.items=[{xtype:"fieldcontainer",layout:"hbox",combineErrors:true,defaultType:"textfield",defaults:{hideLabel:"true",margin:"0 0 0 5"},items:[{xtype:"barang-combo",flex:3,hideTrigger:true,reference:"barangcombo",allowBlank:false,name:"FARMASI",allowBlank:false},{xtype:"referensi-combo",params:{JENIS:41},minChars:2,name:"ATURAN_PAKAI",queryMode:"remote",queryParam:"QUERY",reference:"aturanpakai",emptyText:"[ Aturan Pakai ]",hideTrigger:true,typeAhead:true,flex:2,listeners:{beforequery:"onBeforeQuery"}},{name:"JUMLAH",flex:1,emptyText:"Jumlah",allowBlank:false},{xtype:"button",iconCls:"x-fa fa-save",ui:"soft-green",handler:"onSimpan"}]}];e.callParent(arguments)},focus:function(){this.down("[reference=barangcombo]").focus(false,100)}},0,["transaksi-farmasi-langsung-form"],["component","box","container","panel","form","transaksi-farmasi-langsung-form"],{component:true,box:true,container:true,panel:true,form:true,"transaksi-farmasi-langsung-form":true},["widget.transaksi-farmasi-langsung-form"],0,[layanan.farmasi.TransaksiLangsung,"Form"],0));(Ext.cmd.derive("layanan.farmasi.TransaksiLangsung.FormController",Ext.app.ViewController,{onBeforeQuery:function(e){e.combo.getStore().removeAll()}},0,0,0,0,["controller.transaksi-farmasi-langsung-form"],0,[layanan.farmasi.TransaksiLangsung,"FormController"],0));(Ext.cmd.derive("layanan.farmasi.TransaksiLangsung.Tagihan",Ext.form.Panel,{layout:{type:"vbox",align:"stretch"},bodyPadding:5,defaults:{margin:5},fieldDefaults:{labelAlign:"top"},initComponent:function(){var f=this,e=new Date();f.items=[{name:"KODE_TRANSAKSI",reference:"kodetransaks",xtype:"textfield",emptyText:"[ Kode Transaksi ]"},{name:"NAMA_PENGUNJUNG",reference:"pengunjung",xtype:"textfield",emptyText:"[ Nama Pengunjung ]"},{name:"KETERANGAN",reference:"keterangan",xtype:"textarea",emptyText:"[ Keterangan ]",flex:1},{xtype:"container",layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 2 1 0"},items:[{name:"TANGGAL",reference:"tanggal",flex:1,xtype:"datefield",emptyText:"[Pilih Tanggal Order]",format:"d/m/Y",maxValue:e},{name:"WAKTU",reference:"waktu",flex:1,xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",format:"H:i:s",hideTrigger:true}]}],f.buttons=[{text:"Cetak",reference:"btncetakpenjualan",tooltip:"Selesai",flex:1,iconCls:"x-fa fa-print",handler:"onCetakBuktiPenjualan"},{text:"Selesaikan",reference:"btnselesaipenjualan",tooltip:"Selesai",flex:1,iconCls:"x-fa fa-save",handler:"onSelesaiPenjualan"}];f.callParent(arguments)},loadRecord:function(l){var g=this,q=g.getForm().loadRecord(l),k=g.getReferences(),m=k.waktu;if(l){m.setValue(l.get("TANGGAL"));g.getViewModel().set("record",l)}b.load();return q},getRecord:function(){return this.getViewModel().get("record")},getFormData:function(){var g=this,k=g.getReferences(),f=g.getForm().getValues(),e=k.tanggal.getValue(),q=k.waktu.getValue();e.setHours(q.getHours());e.setMinutes(q.getMinutes());e.setSeconds(q.getSeconds());f.TANGGAL=e;return f}},0,["transaksi-farmasi-langsung-tagihan"],["component","box","container","panel","form","transaksi-farmasi-langsung-tagihan"],{component:true,box:true,container:true,panel:true,form:true,"transaksi-farmasi-langsung-tagihan":true},["widget.transaksi-farmasi-langsung-tagihan"],0,[layanan.farmasi.TransaksiLangsung,"Tagihan"],0));(Ext.cmd.derive("layanan.farmasi.TransaksiLangsung.Workspace",Ext.form.Panel,{viewModel:{},layout:"border",reference:"transaksilangsung",initComponent:function(){var e=this;dt=new Date();e.items=[{region:"center",xtype:"form",flex:1,title:"Form Transaksi",layout:"border",bodyPadding:2,items:[{region:"north",xtype:"transaksi-farmasi-langsung-form",bodyPadding:10,height:60,reference:"transaksilangsungfarmasiform"},{region:"center",xtype:"transaksi-farmasi-langsung-detil",flex:1,reference:"transaksilangsungfarmasilist"}]},{region:"east",xtype:"transaksi-farmasi-langsung-tagihan",reference:"tagihantransaksifarmasi",collapsible:true,split:true,title:"Pengunjung",width:300,border:true}];e.callParent(arguments)},load:function(f){var e=this.down("[reference=tagihantransaksifarmasi]");e.load({TANGGAL:b.getView().getSysdate()})},getFormData:function(){var o=this.down("[reference=tagihantransaksifarmasi]"),f=this.down("[reference=transaksilangsungfarmasilist]"),g=o.getFormData(),e=f.getData();g.PENJUALAN_DETIL=e;return{PENJUALAN_LANGSUNG:g}}},0,["transaksi-langsung-farmasi-workspace"],["component","box","container","panel","form","transaksi-langsung-farmasi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"transaksi-langsung-farmasi-workspace":true},["widget.transaksi-langsung-farmasi-workspace"],0,[layanan.farmasi.TransaksiLangsung,"Workspace"],0));(Ext.cmd.derive("layanan.farmasi.TransaksiLangsung.WorkspaceController",Ext.app.ViewController,{onSelesaiPenjualan:function(t){var l=this,k=l.getReferences(),e=k.tagihantransaksifarmasi.getFormData(),m=k.transaksilangsungfarmasilist.getData();if(k.tagihantransaksifarmasi.isValid()&&m.length>0){var g=k.tagihantransaksifarmasi.getRecord();if(g){e.PENJUALAN_DETIL=m;g.set(e);g.animateTarget=t;g.scope=l;g.showError=true;g.save({callback:function(f,n,o){if(o){Ext.toast({html:"Sukses..",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});l.getView().fireEvent("kirim",f);l.onReset()}}});this.onReset()}}},onReset:function(){var e=this,f=e.getReferences();f.transaksilangsungfarmasiform.reset();f.tagihantransaksifarmasi.getRecord();f.tagihantransaksifarmasi.reset();f.tagihantransaksifarmasi.loadRecord(Ext.create("data.model.OrderResep",{TANGGAL:e.getView().getSysdate()}));f.transaksilangsungfarmasiform.focus(false,100);f.transaksilangsungfarmasilist.removeDataStore()}},0,0,0,0,["controller.transaksi-langsung-farmasi-workspace"],0,[layanan.farmasi.TransaksiLangsung,"WorkspaceController"],0));(Ext.cmd.derive("layanan.farmasi.Workspace",com.Form,{controller:"layanan-farmasi-workspace",viewModel:{},layout:"border",reference:"layananfarmasi",initComponent:function(){var e=this;dt=new Date();e.items=[{region:"west",xtype:"layanan-farmasi-form",reference:"formlayananfarmasi",collapsible:true,width:300,scrollable:true,border:true},{region:"center",xtype:"layanan-farmasi-detil",flex:1,reference:"detillayananfarmasi",listeners:{printkwitansipelayanan:"onPrintKwitansiPelayanan",printetiket:"onPrintEtiket"}},{region:"east",xtype:"riwayat-layanan-farmasi-workspace",flex:1,margin:"0 2 0 0",reference:"riwayatlayananfarmasi",collapsed:true,title:"Riwayat",collapsible:true}];e.callParent(arguments)},load:function(l){var m=this,k=m.down("[reference=formlayananfarmasi]"),g=m.down("[reference=detillayananfarmasi]"),f=m.down("[reference=riwayatlayananfarmasi]");try{k.load(l.get("REF"));g.load(l);f.load(l)}catch(t){}},getFormData:function(){var e=me.down("[reference=detillayananfarmasi]");a=e.getData();return a}},0,["layanan-farmasi-workspace"],["component","box","container","panel","form","com-form","layanan-farmasi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"layanan-farmasi-workspace":true},["widget.layanan-farmasi-workspace"],0,[layanan.farmasi,"Workspace"],0));(Ext.cmd.derive("layanan.farmasi.WorkspaceController",Ext.app.ViewController,{onItemDoubleClick:function(k,e,q,l,g){this.onLayananResep(e)},onPrintKwitansiPelayanan:function(l,x){var n=this,f=n.getView(),g="Word",m="docx",e=true,k="Cetak Kwitansi Pelayanan";Ext.Msg.show({title:k,message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:l,fn:function(o){if(o!="yes"){g="Pdf";m="pdf";e=false}f.cetak({NAME:"layanan.farmasi."+f.kode+"CetakResep",TYPE:g,EXT:m,PARAMETER:{PKUNJUNGAN:x,CETAK_HEADER:1},REQUEST_FOR_PRINT:e,PRINT_NAME:"CetakResep"},function(p){f.printPreview(k,p)})}})},onPrintEtiket:function(m){var l=this,e=l.getView(),f="Word",k="docx",v=true,g="Cetak Etiket Obat";Ext.Msg.show({title:g,message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:l,fn:function(n){if(n!="yes"){f="Pdf";k="pdf";v=false}e.cetak({NAME:"layanan.farmasi."+e.kode+"CetakEtiket",TYPE:f,EXT:k,PARAMETER:{PKUNJUNGAN:m,CETAK_HEADER:1},REQUEST_FOR_PRINT:v,PRINT_NAME:"CetakEtiket"},function(o){e.printPreview(g,o)})}})}},0,0,0,0,["controller.layanan-farmasi-workspace"],0,[layanan.farmasi,"WorkspaceController"],0));(Ext.cmd.derive("layanan.farmasi.retur.Workspace",Ext.tab.Panel,{activeTab:0,cls:"x-br-top",ui:"header-tab",items:[{title:"Pelayanan",xtype:"retur-layanan-farmasi-workspace"}],load:function(e){this.items.each(function(f){f.load(e)})}},0,["retur-farmasi-workspace"],["component","box","container","panel","tabpanel","retur-farmasi-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"retur-farmasi-workspace":true},["widget.retur-farmasi-workspace"],0,[layanan.farmasi.retur,"Workspace"],0));(Ext.cmd.derive("layanan.farmasi.retur.pelayanan.DaftarObat",Ext.grid.Panel,{viewModel:{stores:{store:{type:"layananfarmasi-store"}}},bind:{store:"{store}"},initComponent:function(){var e=this;e.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1});e.plugins=[e.cellEditing];e.columns=[{xtype:"rownumberer",text:"No",align:"left",width:50},{xtype:"templatecolumn",text:"Nama Obat",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.FARMASI.NAMA}</div>'},{text:"Jumlah",dataIndex:"JUMLAH",hideTrigger:true,width:75}];e.callParent(arguments)},loadStore:function(f){var e=this,g=e.getViewModel(),o=g.get("store");if(o){o.removeAll();o.queryParams=o.queryParams||{};if(f){o.queryParams=f}o.load()}},getData:function(){var f=this,e=f.getViewModel().get("store"),g=[];e.each(function(k){g.push(k.data)});return g}},0,["retur-layanan-farmasi-daftar-obat"],["component","box","container","panel","tablepanel","gridpanel","grid","retur-layanan-farmasi-daftar-obat"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"retur-layanan-farmasi-daftar-obat":true},["widget.retur-layanan-farmasi-daftar-obat"],0,[layanan.farmasi.retur.pelayanan,"DaftarObat"],0));(Ext.cmd.derive("layanan.farmasi.retur.pelayanan.Detil",com.Grid,{controller:"retur-layanan-farmasi-detil",viewModel:{stores:{store:{type:"returlayananfarmasi-store"}}},flex:1,initComponent:function(){var e=this;e.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1});e.plugins=[e.cellEditing];e.columns=[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Jumlah",dataIndex:"JUMLAH",width:75},{xtype:"datecolumn",text:"Tanggal Retur",dataIndex:"TANGGAL",format:"d/m/Y H:i:s",flex:1}];e.callParent(arguments)}},0,["retur-layanan-farmasi-detil"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","retur-layanan-farmasi-detil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"retur-layanan-farmasi-detil":true},["widget.retur-layanan-farmasi-detil"],0,[layanan.farmasi.retur.pelayanan,"Detil"],0));(Ext.cmd.derive("layanan.farmasi.retur.pelayanan.DetilController",Ext.app.ViewController,{},0,0,0,0,["controller.retur-layanan-farmasi-detil"],0,[layanan.farmasi.retur.pelayanan,"DetilController"],0));(Ext.cmd.derive("layanan.farmasi.retur.pelayanan.Form",com.Form,{viewModel:{stores:{returlayanan:{type:"returlayananfarmasi-store"}},data:{totalR:0},formulas:{getTotalRetur:function(f){var e=f("totalR");return e}}},layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 2 2 0"},fieldDefaults:{labelAlign:"top",msgTarget:"side"},bodyPadding:5,initComponent:function(){var f=this,e=new Date();f.items=[{xtype:"hiddenfield",name:"ID_FARMASI",reference:"idfarmasi"},{xtype:"numberfield",name:"JUMLAH_RETUR",bind:{value:"{getTotalRetur}"},hidden:true},{xtype:"numberfield",reference:"jumlahlayanan",name:"JUMLAH_LAYANAN",hidden:true},{xtype:"datefield",format:"Y-m-d H:m:s",margin:"0 0 3 0",hideTrigger:true,name:"TANGGAL",reference:"tanggalretur",readOnly:true},{xtype:"numberfield",hideTrigger:true,reference:"jumlahretur",margin:"0 0 3 0",name:"JUMLAH"},{xtype:"button",text:"Retur",reference:"buttonlayanifarmasi",ui:"soft-green",iconCls:"x-fa fa-share",handler:"onReturLayanan"}];f.callParent(arguments)},load:function(g){try{var x=this,n=x.getViewModel(),l=n.get("returlayanan"),k=g.ID_FARMASI,m=g.JUMLAH,o=x.getSysdate();this.down("[reference=jumlahretur]").focus(false,100);this.down("[reference=idfarmasi]").setValue(k);this.down("[reference=jumlahlayanan]").setValue(m);this.down("[reference=tanggalretur]").setValue(o);if(l){l.removeAll();l.queryParams=l.queryParams||{};if(g){l.queryParams.ID_FARMASI=k;l.load({callback:function(t){if(t){var e=t.length,q=0;for(var p=0;p<e;p++){var s=t[p].get("JUMLAH");q=q+s}n.set("totalR",q)}else{n.set("totalR",0)}}})}}}catch(f){}}},0,["retur-layanan-farmasi-form"],["component","box","container","panel","form","com-form","retur-layanan-farmasi-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"retur-layanan-farmasi-form":true},["widget.retur-layanan-farmasi-form"],0,[layanan.farmasi.retur.pelayanan,"Form"],0));(Ext.cmd.derive("layanan.farmasi.retur.pelayanan.FormController",Ext.app.ViewController,{onReturLayanan:function(e){var f=this;view=f.getView();view.fireIvent("onreturpelayanan",e)}},0,0,0,0,["controller.retur-layanan-farmasi-form"],0,[layanan.farmasi.retur.pelayanan,"FormController"],0));(Ext.cmd.derive("layanan.farmasi.retur.pelayanan.List",com.Grid,{controller:"retur-layanan-farmasi-list",viewModel:{stores:{store:{type:"kunjungan-store"}}},header:{items:[{xtype:"search-field",cls:"x-text-border",iconCls:"iconSearch",autoFocus:true,emptyText:"Cari berdasarkan No.Resep",enableKeyEvents:true,flex:1,listeners:{search:"onSearch",clear:"onClear"}}]},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"No.Registrasi",dataIndex:"NOPEN",width:1,sortable:false},{xtype:"templatecolumn",text:"No.Resep",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.ASAL.NOMOR}</div>'},{xtype:"templatecolumn",text:"Asal Resep / Unit",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.RUANGAN.DESKRIPSI}</div>'},{xtype:"datecolumn",text:"Tanggal",dataIndex:"MASUK",format:"d/m/Y H:i:s",sortable:false,flex:1}]},0,["retur-layanan-farmasi-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","retur-layanan-farmasi-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"retur-layanan-farmasi-list":true},["widget.retur-layanan-farmasi-list"],0,[layanan.farmasi.retur.pelayanan,"List"],0));(Ext.cmd.derive("layanan.farmasi.retur.pelayanan.ListController",Ext.app.ViewController,{onFocusEnter:function(f,e){this.getView().fireEvent("specialkey",f,e)},onSearch:function(k,g){var e=this,o=e.getView();o.setParams({REF:g});o.load()},onClear:function(){var f=this,g=f.getViewModel(),e=f.getViewModel().get("store");delete e.queryParams.REF;e.load()}},0,0,0,0,["controller.retur-layanan-farmasi-list"],0,[layanan.farmasi.retur.pelayanan,"ListController"],0));(Ext.cmd.derive("layanan.farmasi.retur.pelayanan.Workspace",Ext.form.Panel,{controller:"retur-layanan-farmasi-workspace",layout:"border",initComponent:function(){var e=this;e.items=[{region:"west",title:"List",xtype:"retur-layanan-farmasi-list",reference:"returlayananfarmasilist",flex:1,collapsible:true,split:true,listeners:{select:"onListSelected"}},{region:"center",title:"Daftar Obat",xtype:"retur-layanan-farmasi-daftar-obat",reference:"returlayananfarmasidaftarobat",flex:1,listeners:{select:"onListSelectedObat"}},{region:"east",layout:{type:"vbox",align:"stretch"},flex:1,items:[{xtype:"retur-layanan-farmasi-form",title:"Form",reference:"returlayananfarmasiform",listeners:{onreturpelayanan:"OnReturLayanan"}},{xtype:"retur-layanan-farmasi-detil",title:"Riwayat Retur",reference:"returlayananfarmasidetil"}],collapsible:true,split:true}];e.callParent(arguments)},load:function(f){var q=this,e=q.down("[reference=returlayananfarmasilist]"),k=q.down("[reference=returlayananfarmasidaftarobat]"),g=q.down("retur-layanan-farmasi-detil");e.loadStore({JENIS_KUNJUNGAN:11,NOPEN:f.get("NOPEN"),STATUS:2});k.getStore().removeAll();g.removeDataStore()}},0,["retur-layanan-farmasi-workspace"],["component","box","container","panel","form","retur-layanan-farmasi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"retur-layanan-farmasi-workspace":true},["widget.retur-layanan-farmasi-workspace"],0,[layanan.farmasi.retur.pelayanan,"Workspace"],0));(Ext.cmd.derive("layanan.farmasi.retur.pelayanan.WorkspaceController",Ext.app.ViewController,{onListSelected:function(k,l){var q=this,g=q.getReferences(),f=l.get("NOMOR");g.returlayananfarmasidaftarobat.loadStore({KUNJUNGAN:f,STATUS:2})},onListSelectedObat:function(k,q){var f=this,g=f.getReferences(),l=q.get("ID");jml_lyn=q.get("JUMLAH");g.returlayananfarmasidetil.loadStore({ID_FARMASI:l});g.returlayananfarmasiform.load({ID_FARMASI:l,JUMLAH:jml_lyn})},onReturLayanan:function(p){var e=this,g=e.getView(),z=g.getForm().getValues(),m=z.JUMLAH_LAYANAN,k=z.JUMLAH_RETUR,l=z.JUMLAH,o=m-k,n=Ext.create("data.model.ReturLayananFarmasi",{});g.waitRefresh=true;Ext.Msg.show({title:"Retur Obat",message:"Anda yakin ingin Meretur Obat Ini.. ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:p,fn:function(f){if(f==="yes"){if(g.getForm().isValid()){if(l>o){Ext.MessageBox.alert("Warning","Jumlah Retur Tidak Boleh Melebihi Jumlah Layanan..!",this.showResult,this);g.waitRefresh=false}else{n.set(z);n.showError=true;n.animateTarget=p;n.scope=e;n.save({callback:function(s,t,q){g.waitRefresh=false;if(t.hasException()||!q){}if(q){Ext.toast({html:"Data Berhasil Diretur",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});g.waitRefresh=false;g.getForm().reset();e.refresh(z)}}})}}}else{g.waitRefresh=false}}})},refresh:function(g){var f=this,e=g.ID_FARMASI;jml_lyn=g.JUMLAH_LAYANAN;ref=f.getReferences();ref.returlayananfarmasidetil.loadStore({ID_FARMASI:e});ref.returlayananfarmasiform.load({ID_FARMASI:e,JUMLAH:jml_lyn})}},0,0,0,0,["controller.retur-layanan-farmasi-workspace"],0,[layanan.farmasi.retur.pelayanan,"WorkspaceController"],0));(Ext.cmd.derive("layanan.farmasi.widget.Form",Ext.window.Window,{layout:{type:"vbox",align:"stretch"},bodyPadding:5,"default":{margin:10},initComponent:function(){var f=this,e=new Date();f.items=[{xtype:"button",reference:"cetakfakturpelayanan",iconCls:"x-fa fa-print",text:"Cetak Faktur Pelayanan",margin:10,handler:"OnCetak"},{xtype:"button",reference:"cetaketiket",iconCls:"x-fa fa-print",text:"Cetak Etiket",margin:10,handler:"OnCetak"}];f.callParent(arguments)}},0,["layanan-farmasi-form-widget"],["component","box","container","panel","window","layanan-farmasi-form-widget"],{component:true,box:true,container:true,panel:true,window:true,"layanan-farmasi-form-widget":true},["widget.layanan-farmasi-form-widget"],0,[layanan.farmasi.widget,"Form"],0));(Ext.cmd.derive("layanan.farmasi.widget.Workspace",Ext.form.Panel,{viewModel:{},layout:"fit",initComponent:function(){var e=this;dt=new Date();e.items=[{region:"north",xtype:"container",layout:{type:"hbox"},padding:5,items:[{xtype:"layanan-farmasi-form-widget",flex:1}]}];e.callParent(arguments)}},0,["layanan-farmasi-widget-workspace"],["component","box","container","panel","form","layanan-farmasi-widget-workspace"],{component:true,box:true,container:true,panel:true,form:true,"layanan-farmasi-widget-workspace":true},["widget.layanan-farmasi-widget-workspace"],0,[layanan.farmasi.widget,"Workspace"],0));(Ext.cmd.derive("layanan.farmasi.widget.riwayat.Detil",com.Grid,{viewModel:{stores:{store:{type:"layananfarmasi-store"}}},flex:1,columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Tanggal",xtype:"datecolumn",dataIndex:"TANGGAL",format:"d/m/Y H:i:s",sortable:false,width:120},{xtype:"templatecolumn",text:"Nama Obat",flex:2,sortable:false,tpl:"<div>{REFERENSI.FARMASI.NAMA}</div>"},{text:"Jumlah",dataIndex:"JUMLAH",width:75}]},0,["riwayat-layanan-farmasi-detil"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","riwayat-layanan-farmasi-detil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"riwayat-layanan-farmasi-detil":true},["widget.riwayat-layanan-farmasi-detil"],0,[layanan.farmasi.widget.riwayat,"Detil"],0));(Ext.cmd.derive("layanan.farmasi.widget.riwayat.Workspace",com.Form,{flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"riwayat-layanan-farmasi-detil",reference:"riwayatlayananfarmasidetil",flex:1}],load:function(f){var g=this,k=g.down("[reference=riwayatlayananfarmasidetil]"),e=f.get("REFERENSI")?f.get("REFERENSI"):null,q=e?(e.PENDAFTARAN?e.PENDAFTARAN.NORM:0):0;k.setGridConfig({paging:true});k.loadStore({NORM:q,JENIS_KUNJUNGAN:11,STATUS:2})}},0,["riwayat-layanan-farmasi-workspace"],["component","box","container","panel","form","com-form","riwayat-layanan-farmasi-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"riwayat-layanan-farmasi-workspace":true},["widget.riwayat-layanan-farmasi-workspace"],0,[layanan.farmasi.widget.riwayat,"Workspace"],0));(Ext.cmd.derive("layanan.kelahiran.Form",com.Form,{model:"layanan.kelahiran.Model",controller:"layanan-kelahiran-form",defaults:{allowBlank:false,margin:"0 0 1 0",labelAlign:"top"},defaultFocus:"DESKRIPSI",layout:"fit",items:[{xtype:"textarea",emptyText:"[Masukkan Deskripsi Anamnesis]",name:"DESKRIPSI",border:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{DESKRIPSI}"}}],dockedItems:[{xtype:"toolbar",bind:{hidden:"{!formConfig.simpan}"},dock:"bottom",items:["->",{text:"Simpan",iconCls:"x-fa fa-save",formBind:true,handler:"onSimpan",ui:"soft-red",bind:{hidden:"{!formConfig.simpan}"}}]}]},0,["layanan-kelahiran-form"],["component","box","container","panel","form","com-form","layanan-kelahiran-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"layanan-kelahiran-form":true},["widget.layanan-kelahiran-form"],0,[layanan.kelahiran,"Form"],0));(Ext.cmd.derive("layanan.kelahiran.FormController",Ext.app.ViewController,{onSimpan:function(f){var g=this,e=g.getView();e.save(f)}},0,0,0,0,["controller.layanan-kelahiran-form"],0,[layanan.kelahiran,"FormController"],0));(Ext.cmd.derive("layanan.kelahiran.Workspace",com.Form,{controller:"layanan-kelahiran-workspace",layout:"fit",items:[{region:"center",xtype:"layanan-kelahiran-form"}],load:function(f){var q=this,k=q.down("layanan-kelahiran-form");if(f){if(Ext.getClassName(f)=="data.model.Kunjungan"){var g=f.get("STATUS")!=1,e={KUNJUNGAN:f.get("NOMOR"),NOPEN:f.get("NOPEN"),REFERENSI:{KUNJUNGAN:f.data},TANGGAL:q.getSysdate()}}}}},0,["layanan-kelahiran-workspace"],["component","box","container","panel","form","com-form","layanan-kelahiran-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"layanan-kelahiran-workspace":true},["widget.layanan-kelahiran-workspace"],0,[layanan.kelahiran,"Workspace"],0));(Ext.cmd.derive("layanan.kelahiran.WorkspaceController",Ext.app.ViewController,{},0,0,0,0,["controller.layanan-kelahiran-workspace"],0,[layanan.kelahiran,"WorkspaceController"],0));(Ext.cmd.derive("layanan.laboratorium.Workspace",com.Tab,{controller:"laboratorium-workspace",activeTab:0,cls:"x-br-top",ui:"header-tab",kunjungan:undefined,initComponent:function(){var e=this;e.callParent(arguments);var g=e.app.xpriv("110303"),f=e.app.xpriv("110604");if(g){e.add({title:"Order",xtype:"order-lab-workspace",listeners:{kirim:"onKirim",reopen:"onReopen"}});e.add({title:"Daftar Order",xtype:"orderlist-lab-workspace",reference:"orderlistworkspace"})}if(f){e.add({title:"Riwayat",xtype:"riwayat-lab-workspace"})}},load:function(g){var f=this,e=this.getActiveTab();this.kunjungan=g;if(e){e.load(g)}else{if(f.items.getCount()>0){f.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["laboratorium-workspace"],["component","box","container","panel","tabpanel","com-tab","laboratorium-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"laboratorium-workspace":true},["widget.laboratorium-workspace"],0,[layanan.laboratorium,"Workspace"],0));(Ext.cmd.derive("layanan.laboratorium.WorkspaceController",Ext.app.ViewController,{onKirim:function(e){var f=this;refs=f.getReferences();refs.orderlistworkspace.refresh()},onReopen:function(e){this.getView().fireEvent("reopen",e)},onTabChange:function(f,e){var g=this.getView().kunjungan;if(e.load){e.load(g)}}},0,0,0,0,["controller.laboratorium-workspace"],0,[layanan.laboratorium,"WorkspaceController"],0));(Ext.cmd.derive("layanan.laboratorium.hasil.Form",com.Form,{controller:"form-hasil-lab-catatan",model:"data.model.CatatanHasilLab",border:true,layout:{type:"vbox",align:"stretch"},defaults:{bind:{readOnly:"{formConfig.viewOnly}"},allowBlank:false},items:[{xtype:"textareafield",name:"CATATAN",flex:1,emptyText:"[ CATATAN / SARAN ]",enforceMaxLength:true,maxLength:10000},{xtype:"dokter-combo",name:"DOKTER",reference:"doktercombo",emptyText:"[ DOKTER ]"}],buttons:[{text:"Simpan",ui:"soft-green",iconCls:"x-fa fa-save",hidden:true,bind:{hidden:"{!formConfig.simpan}"},handler:"onSimpan"}],onLoadRecord:function(f,g){var e=g.get("REFERENSI");doktercombo=f.down("dokter-combo"),dokter=e?e.DOKTER:null;dok=dokter?Ext.create("data.model.Dokter",dokter):null;doktercombo.select(dok);doktercombo.load()},setDokterRuangan:function(g){var f=this,e=f.down("[reference=doktercombo]");e.params.RUANGAN=g}},0,["form-hasil-lab-catatan"],["component","box","container","panel","form","com-form","form-hasil-lab-catatan"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-hasil-lab-catatan":true},["widget.form-hasil-lab-catatan"],0,[layanan.laboratorium.hasil,"Form"],0));(Ext.cmd.derive("layanan.laboratorium.hasil.FormController",Ext.app.ViewController,{onSimpan:function(f){var g=this,e=g.getView();e.save(f)},onCetak:function(e){this.cetak(false)},onPreview:function(e){this.cetak(true)},privates:{cetak:function(f){var e=this,o=e.getView(),g=e.getViewModel().get("record");o.cetak({NAME:"layanan.CetakHasilLab",TYPE:f?"Pdf":"Word",EXT:f?"pdf":"docx",PARAMETER:{PNOMOR:g.get("KUNJUNGAN")},REQUEST_FOR_PRINT:!f,PRINT_NAME:"CetakHasil"},function(k){if(f){o.openDialog("Print Preview",true,0,0,{xtype:"panel",title:"Preview Hasil Lab"},function(l,m){m.down("panel").update("<iframe style='width: 100%; height: 100%' src='"+k+"'></iframe>")})}})}}},0,0,0,0,["controller.form-hasil-lab-catatan"],0,[layanan.laboratorium.hasil,"FormController"],0));(Ext.cmd.derive("layanan.laboratorium.hasil.List",com.Grid,{controller:"list-hasil-lab-controller",doAfterLoadParameters:Ext.emptyFn,viewModel:{data:{tindakan:undefined,listConfig:{simpan:true,"final":false,batal:false}},stores:{store:{type:"hasillab-store"},parameterstore:{type:"parametertindakanlab-store"}}},bind:{title:"Input Hasil Laboratorium - {tindakan.TINDAKAN_DESKRIPSI}"},border:false,initComponent:function(){var e=this;e.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit"}});e.plugins=[e.cellEditing];e.selModel={selType:"cellmodel"};e.callParent()},columns:[{xtype:"rownumberer",text:"No",align:"left",width:"5%"},{text:"Parameter",flex:2,dataIndex:"PARAMETER_TINDAKAN",renderer:"onRendererParameter"},{text:"Nilai Normal",flex:2,dataIndex:"NILAI_NORMAL",editor:{xtype:"textfield",allowBlank:false,hideTrigger:true}},{text:"Satuan",dataIndex:"SATUAN",flex:2,editor:{xtype:"textfield",allowBlank:false,hideTrigger:true}},{text:"Hasil",dataIndex:"HASIL",flex:2,editor:{xtype:"textfield",allowBlank:false,hideTrigger:true}},{text:"Keterangan",dataIndex:"KETERANGAN",flex:2,editor:{xtype:"textfield",hideTrigger:true}}],buttons:[{text:"Simpan",reference:"btnsimpan",tooltip:"Simpan Hasil",bind:{hidden:"{!listConfig.simpan}"},iconCls:"x-fa fa-save",listeners:{click:"onSimpan"}}],loadParameters:function(g){var e=this,q=e.getViewModel(),k=e.getStore(),f=q.get("parameterstore");if(g){q.set("tindakan",g);e.removeDataStore();f.queryParams={TINDAKAN:g.get("TINDAKAN"),STATUS:1};f.load({callback:function(o,n,m){if(m){e.setParams({TINDAKAN_MEDIS:g.get("ID")});try{e.load()}catch(l){}}if(Ext.isFunction(e.doAfterLoadParameters)){e.doAfterLoadParameters(e,f,o,k,n,m)}}})}e.doAfterLoad=function(n,l,m,o){datatindakan=q.get("tindakan"),f=q.get("parameterstore"),dataarray=[];f.each(function(w){var v=k.findRecord("PARAMETER_TINDAKAN",w.get("ID"),0,true,false,true),p=e.getReferensi(w.data,"SATUAN");if(!v){dataarray.push(Ext.create("data.model.HasilLab",{TINDAKAN_MEDIS:datatindakan.get("ID"),PARAMETER_TINDAKAN:w.get("ID"),TANGGAL:Ext.Date.format(e.getSysdate(),"Y-m-d H:i:s"),NILAI_NORMAL:w.get("NILAI_RUJUKAN"),SATUAN:p?p.DESKRIPSI:null,STATUS:1}))}else{if(v.get("NILAI_NORMAL")==null||v.get("NILAI_NORMAL")==""){v.set("NILAI_NORMAL",w.get("NILAI_RUJUKAN"))}if(v.get("SATUAN")==null||v.get("SATUAN")==""){v.set("SATUAN",p?p.DESKRIPSI:null)}dataarray.push(v)}});k.removeAll();k.add(dataarray)}}},0,["list-input-hasil-lab"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","list-input-hasil-lab"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"list-input-hasil-lab":true},["widget.list-input-hasil-lab"],0,[layanan.laboratorium.hasil,"List"],0));(Ext.cmd.derive("layanan.laboratorium.hasil.ListController",Ext.app.ViewController,{onSimpan:function(g){var f=this,o=f.getView(),e=f.getViewModel().get("store");e.sync({callback:function(m,l,k){o.setLoading(false);o.notifyMessage("Data  telah disimpan")}})},onRendererParameter:function(p,n,l,B,o,m){var q=this,e=q.getViewModel(),f=e.get("parameterstore"),g=q.getParameter(f,l.get("PARAMETER_TINDAKAN"));return Ext.isString(g)?g:g.get("PARAMETER")},onRendererNilai:function(B,p,s,l,q,o){var g=this,m=g.getViewModel(),e=m.get("parameterstore"),n=g.getParameter(e,rec.get("PARAMETER_TINDAKAN"));return Ext.isString(n)?n:n.get("NILAI_RUJUKAN")},onRendererSatuan:function(m,q,D,e,t,p){var n=this,l=n.getViewModel(),g=l.get("parameterstore"),o=n.getParameter(g,rec.get("PARAMETER_TINDAKAN")),s=o.get("REFERENSI")?(o.get("REFERENSI").SATUAN?o.get("REFERENSI").SATUAN.DESKRIPSI:""):"";return s},getParameter:function(e,g){var f=e.findRecord("ID",g,0,false,true);if(f==null){return g}return f},onBeforeEdit:function(m,f){var g=this.getViewModel().get("listConfig");if(!g.simpan){f.cancel=true;return false}}},0,0,0,0,["controller.list-hasil-lab-controller"],0,[layanan.laboratorium.hasil,"ListController"],0));(Ext.cmd.derive("layanan.laboratorium.hasil.Workspace",com.Form,{controller:"workspace-input-hasil-lab-controller",viewModel:{data:{kunjungan:undefined}},layout:"fit",bodyPadding:0,initComponent:function(){var e=this;e.items=[{xtype:"com-form",reference:"hasillabpanel",ui:"panel-purple",viewModel:{data:{formConfig:{"final":false,batalFinal:false}}},title:"Hasil Laboratorium",fullscreenEnabled:true,header:{items:[{xtype:"button",text:"Final",iconCls:"x-fa fa-check",ui:"soft-cerulen",bind:{hidden:"{!formConfig.final}"},tooltip:"Final",handler:"onFinal"},{xtype:"button",iconCls:"x-fa fa-chain-broken",tooltip:"Batalkan Final",bind:{hidden:"{!formConfig.batalFinal}"},ui:"soft-red",handler:"onBatalFinal"}]},layout:"border",items:[{region:"west",title:"Tindakan",hideAction:true,flex:0.3,checkboxModel:true,selModel:{selType:"checkboxmodel",checkOnly:false,mode:"Multi"},xtype:"tindakan-medis-list",reference:"listindakanmedist",split:true,collapsed:true,collapsible:true,header:{items:[{xtype:"button",ui:"soft-cyan",iconCls:"x-fa fa-print",tooltip:"Cetak Job List",menu:{plain:true,width:200,items:[{text:"Format I",action:1,listeners:{scope:e.getController(),click:"onCetakJobList"}},{text:"Format II",action:2,listeners:{scope:e.getController(),click:"onCetakJobList"}}]}}]},listeners:{tindakanselected:"onSelectTindakanMedis"},dockedItems:[{xtype:"toolbar",dock:"bottom",items:["->",{xtype:"button",text:"Preview",iconCls:"x-fa fa-print",ui:"soft-green",menu:{plain:true,width:200,items:[{text:"Format I",action:1,listeners:{scope:e.getController(),click:"onPreview"}},{text:"Format II",action:2,listeners:{scope:e.getController(),click:"onPreview"}}]}},{text:"Cetak",ui:"soft-green",iconCls:"x-fa fa-print",listeners:{scope:e.getController(),click:"onPreview"}}]}]},{region:"center",xtype:"list-input-hasil-lab",border:false,reference:"listlab"},{region:"east",title:"Catatan",flex:0.5,split:true,collapsed:false,collapsible:true,xtype:"form-hasil-lab-catatan",border:false,reference:"formsaran"}]}];e.callParent(arguments)},load:function(e){var n=this,k=n.down("[reference=hasillabpanel]"),m=n.down("tindakan-medis-list"),g=n.down("form-hasil-lab-catatan"),x=n.down("list-input-hasil-lab"),l=n.getViewModel(),f=l.get("formConfig");if(e){l.set("kunjungan",e);if(!f.viewOnly){k.setFormConfig({"final":n.app.xpriv("110901",false)&&e.get("FINAL_HASIL")==0,batalFinal:n.app.xpriv("110902",false)&&e.get("FINAL_HASIL")==1})}if(!f.simpan){k.setTitle("");k.getHeader().setHidden(true)}if(e.get("FINAL_HASIL")==1){f.viewOnly=true;f.simpan=false}m.setParams({STATUS:1});m.loadStore(e,1);g.setFormConfig({viewOnly:f.viewOnly,simpan:f.simpan});g.setDokterRuangan(e.get("RUANGAN"));if(data.model){data.model.CatatanHasilLab.load(e.get("NOMOR"),{callback:function(q,o,p){if(p){g.loadRecord(q)}else{g.createRecord({KUNJUNGAN:e.get("NOMOR"),STATUS:1})}}})}x.getStore().removeAll();x.setListConfig({simpan:f.simpan});x.doAfterLoadParameters=function(){m.setDisabled(false)}}}},0,["workspace-input-hasil-lab"],["component","box","container","panel","form","com-form","workspace-input-hasil-lab"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-input-hasil-lab":true},["widget.workspace-input-hasil-lab"],0,[layanan.laboratorium.hasil,"Workspace"],0));(Ext.cmd.derive("layanan.laboratorium.hasil.WorkspaceController",Ext.app.ViewController,{onSelectTindakanMedis:function(e,f){var o=this.getReferences(),g=this.getViewModel().get("kunjungan");if(f){o.listindakanmedist.setDisabled(true);o.listlab.loadParameters(f)}},onCetak:function(e){this.cetak(false)},onPreview:function(e){this.cetak(true,e.action)},onFinal:function(k){var t=this,f=t.getView(),l=t.getViewModel(),e=l.get("kunjungan"),g=e.get("FINAL_HASIL");f.showMessageBox({title:"Final Hasil Laboratorium",ui:"window-blue",message:"Anda yakin untuk memfinalkan hasil laboratorium ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:k,fn:function(m){if(m==="yes"){e.showError=true;e.animateTarget=k;e.scope=t;e.set("FINAL_HASIL",1);e.save({callback:function(n,o,p){if(p){f.notifyMessage("Hasil Laboratorium telah telah difinalkan");f.load(n)}else{e.set("FINAL_HASIL",g)}}})}else{e.set("FINAL_HASIL",g)}}})},onBatalFinal:function(k){var t=this,f=t.getView(),l=t.getViewModel(),e=l.get("kunjungan"),g=true;if(f.app){g=!f.app.xpriv("110902")}if(g){f.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Pembatalan final hasil!");return}f.showMessageBox({title:"Pembatalan Final Hasil",message:"Anda yakin ingin membatalkan final hasil?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:k,fn:function(m){if(m==="yes"){f.openDialog("",true,150,100,{xtype:"pendaftaran-pembatalan-final_hasil-form",title:"Pembatalan Final Hasil",ui:"panel-red",showCloseButton:true},function(n,p){var o=p.down("pendaftaran-pembatalan-final_hasil-form");o.on({close:function(){p.close()},save:function(q,s,v){f.setFormConfig({viewOnly:false,simpan:true});e.load({success:function(u,x){f.load(u)}});p.close()}});o.createRecord({KUNJUNGAN:e.get("NOMOR"),TANGGAL:f.getSysdate()})})}}})},privates:{cetak:function(n,F){var o=this,q=o.getView(),p=o.getReferences(),k=p.listindakanmedist,g=p.formsaran,E=k.getSelection(),l=g.getViewModel().get("record"),m="",f=Ext.getStore("instansi"),e="";f=f?f.getAt(0):null;if(f){e=f.get("REFERENSI").PPK.KODE}e=e+(e==""?e:"-");E.forEach(function(s){if(m==""){m=s.data.ID}else{m=s.data.ID+","+m}});q.cetak({NAME:"layanan."+e+"CetakHasilLab",TYPE:n?"Pdf":"Word",EXT:n?"pdf":"docx",PARAMETER:{PNOMOR:l.get("KUNJUNGAN"),PTINDAKAN:m,PFORMAT:F},REQUEST_FOR_PRINT:!n,PRINT_NAME:"CetakHasil"},function(s){if(n){q.printPreview("Preview Hasil Lab",s)}})}},onCetakJobList:function(f){var o=this,k=o.getViewModel(),n=k.get("kunjungan"),z=o.getView(),m="Word",l="docx",g=true,e="Cetak Job List Laboratorium";z.showMessageBox({title:e,ui:"window-blue",message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:f,fn:function(p){if(p!="yes"){m="Pdf";l="pdf";g=false}z.cetak({NAME:"layanan.CetakJobListLab",TYPE:m,EXT:l,PARAMETER:{PKUNJUNGAN:n.get("NOMOR"),PJENIS:f.action},REQUEST_FOR_PRINT:g,PRINT_NAME:"CetakJobList"},function(q){z.printPreview(e,q)})}})}},0,0,0,0,["controller.workspace-input-hasil-lab-controller"],0,[layanan.laboratorium.hasil,"WorkspaceController"],0));(Ext.cmd.derive("layanan.laboratorium.order.Detil",Ext.grid.Panel,{controller:"order-lab-detil",viewModel:{data:{columnCommandConfig:{hideBatalOrder:false,hideLihatHasil:true,hideAction:false}},formulas:{showLihatHasil:function(f){var e=!f("columnCommandConfig.hideLihatHasil"),g=f("order")?f("order.STATUS"):0;return e&&g==2}},stores:{store:{type:"order-detil-lab-store"}}},title:"Order Detil",bind:{store:"{store}"},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{xtype:"templatecolumn",text:"Tindakan",sortable:false,flex:1,tpl:'<div style="white-space:normal !important;">{REFERENSI.TINDAKAN.NAMA}</div>'},{xtype:"widgetcolumn",align:"center",text:"Aksi",sortable:false,bind:{hidden:"{columnCommandConfig.hideAction}"},width:130,align:"center",widget:{xtype:"fieldcontainer",layout:{type:"vbox"},defaults:{padding:2,xtype:"button"},items:[{action:0,iconCls:"x-fa fa-minus-circle",ui:"soft-red",align:"center",handler:"onBatalOrder",bind:{hidden:"{columnCommandConfig.hideBatalOrder}"}},{text:"Lihat Hasil",action:0,ui:"soft-blue",align:"center",hidden:true,handler:"onLihatHasil",bind:{hidden:"{!showLihatHasil}"}}]}}],loadStore:function(q,l){var f=this,k=f.getViewModel(),g=k.get("store");if(g){g.removeAll();g.queryParams=g.queryParams||{};if(q){g.queryParams.ORDER_ID=l.get("NOMOR");if(!k.get("kunjungan")){k.set("kunjungan",q)}if(!k.get("order")){k.set("order",l)}}g.load()}},getData:function(){var e=this,f=e.getViewModel().get("store"),g=[];f.each(function(k){g.push(k.data)});return g},addRow:function(g){var e=this,f=e.getViewModel().get("store");f.add(g)},removeDataStore:function(){this.getViewModel().get("store").removeAll()},removeAnotherModels:function(){var e=this.getViewModel().get("store"),f=[];e.each(function(g){if(Ext.getClassName(g)!="data.model.OrderDetilLab"){f.push(g)}});e.remove(f)},hideCommandButtons:function(e){var g=this,o=g.getViewModel(),f=o.get("columnCommandConfig");e=Ext.apply(f,e);o.set("columnCommandConfig",e);o.notify()}},0,["order-lab-detil"],["component","box","container","panel","tablepanel","gridpanel","grid","order-lab-detil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"order-lab-detil":true},["widget.order-lab-detil"],0,[layanan.laboratorium.order,"Detil"],0));(Ext.cmd.derive("layanan.laboratorium.order.DetilController",Ext.app.ViewController,{onBatalOrder:function(g){var f=this,e=f.getStore("store"),o=g.ownerCt.getWidgetRecord();e.remove(o)}},0,0,0,0,["controller.order-lab-detil"],0,[layanan.laboratorium.order,"DetilController"],0));(Ext.cmd.derive("layanan.laboratorium.order.Form",com.Form,{controller:"order-lab-form",viewModel:{data:{record:undefined,formConfig:{readOnly:true,tanggal:new Date()}}},layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 1 0 0"},bodyPadding:5,initComponent:function(){var e=this,f=e.getSysdate();e.items=[{xtype:"ruangan-lab-combo",params:{STATUS:1},flex:1,hideTrigger:false,bind:{readOnly:"{formConfig.readOnly}"},reference:"ruanganlabcombo",allowBlank:false,name:"TUJUAN",listeners:{select:"onTujuanSelect"}},{xtype:"dokter-combo",emptyText:"[Dokter Perujuk]",flex:1,bind:{readOnly:"{formConfig.readOnly}"},reference:"doktercombo",allowBlank:false,name:"DOKTER_ASAL",listeners:{focus:"onBeforeQuery"}},{name:"ALASAN",reference:"alasan",flex:1,xtype:"textfield",emptyText:"[ Diagnosa ]",bind:{readOnly:"{formConfig.readOnly}"}},{name:"TANGGAL",reference:"tanggal",width:200,xtype:"datefield",emptyText:"[Pilih Tanggal Order]",format:"d/m/Y H:i:s",maxValue:f,minimalAddMinuteToMaxValue:15,containFormatTime:true,allowBlank:false,bind:{readOnly:"{formConfig.readOnly}",minValue:"{formConfig.tanggal}"}}];e.callParent(arguments)},loadRecord:function(p){var k=this,v=k.getForm().loadRecord(p);if(p){var n=k.down("[reference=ruanganlabcombo]"),m=k.down("[reference=doktercombo]"),l=p.get("REFERENSI");k.getViewModel().set("record",p);if(l){var o=l.KUNJUNGAN;n.params.RUANGAN=o.RUANGAN;m.params.RUANGAN=o.RUANGAN}n.load()}return v},setFormConfig:function(f){var g=this,e=g.getViewModel();_config=e.get("formConfig");f=Ext.apply(_config,f);e.set("formConfig",f);e.notify()},getRecord:function(){return this.getViewModel().get("record")},getFormData:function(){var o=this,e=o.getReferences(),g=o.getForm().getValues(),f=e.tanggal.getValue();g.TANGGAL=f;return g},focus:function(f,e){this.getReferences().ruanganlabcombo.focus(f,e)}},0,["order-lab-form"],["component","box","container","panel","form","com-form","order-lab-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"order-lab-form":true},["widget.order-lab-form"],0,[layanan.laboratorium.order,"Form"],0));(Ext.cmd.derive("layanan.laboratorium.order.FormController",Ext.app.ViewController,{onTujuanSelect:function(f,e){if(e){this.getView().fireEvent("tujuanselected",e)}},onBeforeQuery:function(e){if(e.combo){e.combo.getStore().removeAll()}}},0,0,0,0,["controller.order-lab-form"],0,[layanan.laboratorium.order,"FormController"],0));(Ext.cmd.derive("layanan.laboratorium.order.Workspace",com.Form,{controller:"order-lab-workspace",viewModel:{data:{kunjungan:undefined}},layout:"border",initComponent:function(){var e=this;e.items=[{region:"north",xtype:"order-lab-form",border:false,bodyPadding:2,reference:"orderlabform",bind:{hidden:"{isFinal}"},listeners:{tujuanselected:"onTujuanSelected"}},{region:"center",xtype:"order-lab-detil",flex:1,reference:"orderlabdetil",viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrag:false},listeners:{scope:e.getController(),drop:"onDropTindakan"}}},{region:"east",title:"Daftar Tindakan",xtype:"tindakan-list",collapsible:true,showSearch:true,flex:1,reference:"tindakanlist",hideHeaders:true,split:true,multiSelect:true,viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrop:false},copy:true},listeners:{itemdblclick:"onItemDblClickTindakan"}}];e.buttons=[{text:"Kirim Order",ui:"soft-green",reference:"btnkirimlab",bind:{hidden:"{isFinal}"},tooltip:{text:"Kirim Order Laboratorium",mouseOffset:[50,-65]},iconCls:"x-fa fa-share",handler:"onKirim"},{text:"Reset",ui:"soft-blue",reference:"btnresetlab",bind:{hidden:"{isFinal}"},tooltip:{text:"Reset",mouseOffset:[50,-65]},iconCls:"x-fa fa-refresh",handler:"onReset"}];e.callParent()},load:function(t){var e=this,l=e.getViewModel(),k=e.getReferences(),f={};if(t){l.set("kunjungan",t);if(t.get("STATUS")==1){if(Ext.getClassName(t)=="data.model.Kunjungan"){var g=t.get("STATUS")!=1;f={KUNJUNGAN:t.get("NOMOR"),REFERENSI:{KUNJUNGAN:t.data},TANGGAL:e.getSysdate()};k.orderlabform.setFormConfig({readOnly:g,tanggal:t.get("MASUK")})}k.orderlabform.loadRecord(Ext.create("data.model.OrderLab",f));k.orderlabform.focus(false,100)}k.tindakanlist.removeDataStore()}},getFormData:function(){var f=this.down("[reference=orderlabform]"),o=this.down("[reference=orderlabdetil]"),g=f.getFormData(),e=o.getData();g.ORDER_DETIL=e;return{ORDER_LAB:g}}},0,["order-lab-workspace"],["component","box","container","panel","form","com-form","order-lab-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"order-lab-workspace":true},["widget.order-lab-workspace"],0,[layanan.laboratorium.order,"Workspace"],0));(Ext.cmd.derive("layanan.laboratorium.order.WorkspaceController",Ext.app.ViewController,{onTujuanSelected:function(o){var q=this,G=q.getReferences(),e=q.getViewModel(),p=q.getView(),l=e.get("kunjungan"),n=p.getReferensi(l.data,"RUANG_KAMAR_TIDUR"),g=p.getReferensi(n,"RUANG_KAMAR"),m=p.getPropertyConfig(7),k=p.getReferensi(o.data,"LABORATORIUM"),s=p.getReferensi(k,"RUANGAN_KELAS"),H=s?s.KELAS:0,f={RUANGAN:o.get("LABORATORIUM"),start:0,limit:10000,KELAS:H,STATUS:1};if(m=="TRUE"){if(g){H=g.KELAS}if(l.get("TITIPAN")==1){H=l.get("TITIPAN_KELAS")}f.KELAS=H}G.tindakanlist.clearSearch();G.tindakanlist.loadStore(f);G.orderlabdetil.removeDataStore()},onItemDblClickTindakan:function(o,f){var g=this,e=g.getReferences();f=Ext.create("data.model.OrderDetilLab",{TINDAKAN:f.get("ID"),REFERENSI:{TINDAKAN:f.data}});e.orderlabdetil.addRow(f)},onDropTindakan:function(n,t,l,k){var g=this,m=g.getReferences();Ext.Array.each(t.records,function(e,f){e=Ext.create("data.model.OrderDetilLab",{TINDAKAN:e.get("ID"),REFERENSI:{TINDAKAN:e.data}});m.orderlabdetil.addRow(e)});m.orderlabdetil.removeAnotherModels()},onKirim:function(g){var v=this,o=v.getView(),k=v.getReferences(),l=k.orderlabform.getFormData(),n=k.orderlabdetil.getData();if(k.orderlabform.isValid()&&n.length>0){var m=k.orderlabform.getRecord();if(m){l.ORDER_DETIL=n;m.set(l);m.animateTarget=g;m.scope=v;m.showError=true;m.save({callback:function(f,q,s){if(s){var e=o.app.xpriv("110107");if(e){o.setLoading(true);var p=Ext.create("data.model.Kunjungan",{NOPEN:f.get("REFERENSI").KUNJUNGAN.NOPEN,RUANGAN:f.get("TUJUAN"),REF:f.get("NOMOR"),STATUS:1});p.showError=true;p.animateTarget=g;p.scope=v;p.save({callback:function(x,t,u){if(u){o.fireEvent("reopen",x)}o.setLoading(false)}})}else{Ext.toast({html:"Order anda telah terkirim ke tujuan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});v.getView().fireEvent("kirim",f);v.onReset()}}}})}}},onReset:function(){var e=this,f=e.getReferences(),g=f.orderlabform.getRecord();f.orderlabform.reset();f.orderlabform.loadRecord(Ext.create("data.model.OrderLab",{KUNJUNGAN:g.get("NOMOR"),REFERENSI:{KUNJUNGAN:g.get("REFERENSI").KUNJUNGAN},TANGGAL:e.getView().getSysdate()}));f.orderlabform.focus(false,100);f.orderlabdetil.removeDataStore();f.tindakanlist.removeDataStore()}},0,0,0,0,["controller.order-lab-workspace"],0,[layanan.laboratorium.order,"WorkspaceController"],0));(Ext.cmd.derive("layanan.laboratorium.orderlist.List",Ext.grid.Panel,{controller:"order-lab-list",viewModel:{stores:{store:{type:"order-lab-store"}}},bind:{store:"{store}"},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Nomor",dataIndex:"NOMOR",sortable:false,flex:1},{xtype:"datecolumn",text:"Tgl. Order",dataIndex:"TANGGAL",format:"d/m/Y H:i:s",sortable:false},{xtype:"templatecolumn",text:"Asal",flex:1,sortable:false,hidden:true,tpl:'<div style="white-space:normal !important;">{REFERENSI.KUNJUNGAN.REFERENSI.RUANGAN.DESKRIPSI}</div>'},{xtype:"templatecolumn",text:"Dokter Asal",flex:1,sortable:false,hidden:true,tpl:'<div style="white-space:normal !important;">{REFERENSI.DOKTER_ASAL.NAMA}</div>'},{xtype:"templatecolumn",text:"Tujuan",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.TUJUAN.DESKRIPSI}</div>'},{xtype:"widgetcolumn",align:"center",text:"Aksi",widget:{xtype:"fieldcontainer",defaults:{padding:2,margin:"0 2 1 0"},items:[{xtype:"button",action:0,text:"Batalkan",iconCls:"x-fa fa-minus-circle",ui:"soft-red",tooltip:"Batalkan Order",handler:"onBatalOrder"},{xtype:"button",text:"Dibatalkan",action:1,ui:"soft-red",hidden:true}]},onWidgetAttach:function(l,g,k){var n=k.get("STATUS"),t=g.down("[action=0]"),m=g.down("[action=1]");t.setHidden(n!=1);m.setHidden(!(n==0))}}],loadStore:function(f){var g=this,o=g.getViewModel(),e=o.get("store");if(e){e.removeAll();e.queryParams=e.queryParams||{};if(f){if(Ext.getClassName(f)=="data.model.Kunjungan"){e.queryParams.KUNJUNGAN=f.get("NOMOR");e.queryParams.HISTORY=1;if(!o.get("kunjungan")){o.set("kunjungan",f)}}}e.load()}},refresh:function(){var e=this.getViewModel().get("store");if(e){e.reload()}}},0,["order-lab-list"],["component","box","container","panel","tablepanel","gridpanel","grid","order-lab-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"order-lab-list":true},["widget.order-lab-list"],0,[layanan.laboratorium.orderlist,"List"],0));(Ext.cmd.derive("layanan.laboratorium.orderlist.ListController",Ext.app.ViewController,{init:function(){var e=this.getStore("store");if(e){e.on("load",function(f,g){if(g.length==0){e.removeAll()}})}},onBatalOrder:function(g){var f=this,e=f.getStore("store"),o=g.ownerCt.getWidgetRecord();o.showError=true;o.animateTarget=g;o.scope=f;Ext.Msg.show({title:"Pembatalan Order",message:"Anda yakin ingin membatalkan Order dengan Nomor Order "+o.get("NOMOR")+" ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:g,fn:function(k){if(k==="yes"){o.set("STATUS",0);o.save({callback:function(m,n,l){if(l){Ext.toast({html:"Pembatalan order dengan Nomor Order "+o.get("NOMOR")+" berhasil",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});e.load()}else{o.set("STATUS",1)}}})}else{o.set("STATUS",status==1?0:1)}}})}},0,0,0,0,["controller.order-lab-list"],0,[layanan.laboratorium.orderlist,"ListController"],0));(Ext.cmd.derive("layanan.laboratorium.orderlist.Workspace",com.Form,{controller:"orderlist-lab-workspace",viewModel:{stores:{kunjungan:{type:"kunjungan-store"}}},layout:"border",initComponent:function(){var e=this;e.items=[{region:"center",title:"Orders",xtype:"order-lab-list",reference:"orderlablist",listeners:{select:"onOrderSelected"}},{region:"east",xtype:"order-lab-detil",flex:1,reference:"orderlabdetil",header:{items:[{xtype:"button",text:"Lihat Hasil",listeners:{scope:e.getController(),click:"onLihatHasil"}}]},flex:1,collapsible:true,split:true}];e.callParent(arguments)},load:function(f){var o=this,e=o.down("[reference=orderlablist]"),g=o.down("[reference=orderlabdetil]");e.loadStore(f);g.removeDataStore()},refresh:function(){var e=this,f=e.down("[reference=orderlablist]"),g=e.down("[reference=orderlabdetil]");f.refresh();g.removeDataStore()}},0,["orderlist-lab-workspace"],["component","box","container","panel","form","com-form","orderlist-lab-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"orderlist-lab-workspace":true},["widget.orderlist-lab-workspace"],0,[layanan.laboratorium.orderlist,"Workspace"],0));(Ext.cmd.derive("layanan.laboratorium.orderlist.WorkspaceController",Ext.app.ViewController,{onOrderSelected:function(g,l){var n=this,k=n.getReferences(),t=n.getViewModel().get("kunjungan"),m=l.get("STATUS");k.orderlabdetil.hideCommandButtons({hideBatalOrder:true,hideLihatHasil:m!=2,hideAction:true});k.orderlabdetil.loadStore(t,l)},onLihatHasil:function(){var f=this,q=f.getReferences(),e=f.getViewModel(),g=q.orderlablist.getSelection();if(g.length>0){g=g[0];if(g.get("STATUS")!=2){return}var k=e.get("kunjungan");k.queryParams={REF:g.get("NOMOR"),STATUS:2,HISTORY:1};k.load(function(n,m,l){if(l){if(n.length>0){f.getView().openDialog("",true,0,0,{title:"Hasil Laboratorium",xtype:"workspace-input-hasil-lab",ui:"panel-cyan",showCloseButton:true},function(u,o){var p=o.down("workspace-input-hasil-lab");p.setFormConfig({viewOnly:true,simpan:false});p.load(n[0])})}}})}}},0,0,0,0,["controller.orderlist-lab-workspace"],0,[layanan.laboratorium.orderlist,"WorkspaceController"],0));(Ext.cmd.derive("layanan.laboratorium.riwayat.Workspace",com.Form,{controller:"riwayat-lab-workspace",viewModel:{},layout:"border",initComponent:function(){var e=this;e.items=[{region:"center",xtype:"kunjungan-list",flex:2,margin:"0 2 0 0",reference:"riwayatlist",listeners:{select:"onSelect"}},{xtype:"tindakan-medis-list",region:"east",header:{items:[{xtype:"button",text:"Lihat Hasil",listeners:{scope:e.getController(),click:"onLihatHasil"}}]},split:true,collapsible:true,width:600,reference:"tindakanlist",riwayat:true}];e.callParent(arguments)},load:function(t){var f=this,g=f.down("[reference=riwayatlist]"),e=f.down("[reference=tindakanlist]"),l=t.get("REFERENSI")?t.get("REFERENSI"):null,k=l?(l.PENDAFTARAN?l.PENDAFTARAN.NORM:0):0;g.hideColumnConfig({action:true});g.loadStore({NORM:k,JENIS_KUNJUNGAN:4,HISTORY:1,STATUS:2});e.removeDataStore()}},0,["riwayat-lab-workspace"],["component","box","container","panel","form","com-form","riwayat-lab-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"riwayat-lab-workspace":true},["widget.riwayat-lab-workspace"],0,[layanan.laboratorium.riwayat,"Workspace"],0));(Ext.cmd.derive("layanan.laboratorium.riwayat.WorkspaceController",Ext.app.ViewController,{onSelect:function(o,f){var g=this,e=g.getReferences();e.tindakanlist.loadStore(f,1)},onLihatHasil:function(){var g=this,e=g.getReferences(),f=e.riwayatlist.getSelection();if(f.length>0){g.getView().openDialog("",true,0,0,{title:"Hasil Laboratorium",xtype:"workspace-input-hasil-lab",ui:"panel-cyan",showCloseButton:true},function(l,m){var k=m.down("workspace-input-hasil-lab");k.setFormConfig({viewOnly:true,simpan:false});k.load(f[0])})}}},0,0,0,0,["controller.riwayat-lab-workspace"],0,[layanan.laboratorium.riwayat,"WorkspaceController"],0));(Ext.cmd.derive("layanan.laboratorium.terimaorder.List",com.Grid,{controller:"terima-lab-list",viewModel:{data:{inProses:false,confDering:{valDering:false,statusRing:"Off"},dering:""},stores:{store:{type:"order-lab-store"}}},ui:"panel-warning",title:"Pengunjung Laboratorium",iconCls:"x-fa fa-flask",header:{items:[{xtype:"search-field",emptyText:"[NORM]",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}},{xtype:"button",iconCls:"x-fa fa-cog",ui:"soft-black",tooltip:"Pilihan",arrowVisible:false,menu:[{text:"Notifikasi Dering",iconCls:"x-fa fa-volume-up",menu:[{xtype:"checkbox",margin:"2.2.2.2",reference:"statusdering",inputValue:true,uncheckedValue:false,bind:{boxLabel:"{confDering.statusRing}"},name:"SONG",listeners:{change:"onChangeRingtone"}},{xtype:"panel",bind:{html:"{dering}"}}]}]}]},hideHeaders:true,first:true,cls:"x-css-shadow x-color-w",columns:[{xtype:"templatecolumn",flex:2,border:false,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[this.getFormatNorm(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NORM)]} - {[this.getNamaLengkap(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN)]}</div>',"<div>{[this.getFormatPendaftaran(values.REFERENSI.KUNJUNGAN.NOPEN)]} - {[this.tanggalFormat(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.TANGGAL)]}</div>",'<div style="font-size: 12px; white-space:normal !important;">{NOMOR} - {[this.tanggalFormat(values.TANGGAL)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Asal: {[this.getAsal(values.REFERENSI.KUNJUNGAN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Tujuan: {[this.getTujuan(values.REFERENSI.TUJUAN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.getDokterAsal(values.REFERENSI.DOKTER_ASAL)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Penjamin: {[this.getPenjamin(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.PENJAMIN)]}</div>',{getFormatNorm:function(f){var e=Ext.String.leftPad(f,8,"0"),g=Ext.String.insert(Ext.String.insert(Ext.String.insert(e,".",2),".",5),".",8);return g},getNamaLengkap:function(o){var g=o.GELAR_DEPAN||"",k=o.NAMA||"",f=o.GELAR_BELAKANG||"";g=g==""?"":g+". ";f=f==""?"":", "+f;return g+k+f},getDokterAsal:function(e){var f=e?(e.NAMA||""):"";return f},getFormatPendaftaran:function(e){return e.substring(0,6)+"."+e.substring(6)},tanggalFormat:function(f){var e=Ext.isDate(f)?f:Ext.Date.parse(f,"Y-m-d H:i:s");return Ext.Date.format(e,"d-m-Y H:i:s")},getAsal:function(t){var p=t.REFERENSI,u=t.JENIS_KUNJUNGAN==3,n=p?(p.RUANGAN?p.RUANGAN.DESKRIPSI:""):"",m=p&&u?p.RUANG_KAMAR_TIDUR:null,B=m?m.REFERENSI.RUANG_KAMAR:null,q=m?m.TEMPAT_TIDUR:"",o=B?B.KAMAR:"",s=B?(B.REFERENSI.KELAS?B.REFERENSI.KELAS.DESKRIPSI:""):"",l=n+(u?"</br>"+o+" / "+q+" / "+s:"");return l},getTujuan:function(g){var e=g?g:null,f=e?e.DESKRIPSI:"";return f},getPenjamin:function(e){var g=e.REFERENSI,f=g.KAP,o=f.REFERENSI.PENJAMIN.DESKRIPSI+(f.NOMOR==""?"":"-"+f.NOMOR)+" [ Kls. "+(g.KELAS?g.KELAS.DESKRIPSI:"")+" - SEP. "+e.NOMOR+" ]";return o}})},{xtype:"widgetcolumn",text:"Status",flex:1,align:"right",widget:{xtype:"fieldcontainer",defaults:{padding:2},items:[{xtype:"button",text:"Terima",action:0,margin:"0 1 0 0",handler:"onTerima"},{xtype:"button",text:"Batal",action:1,ui:"soft-red",handler:"onBatal"}]}}],onBeforeLoad:function(g,f,o){var e=f.get("config");if(g.first){g.first=false}f.set("config",e);g.setParams({COLUMNS:'["NOMOR","KUNJUNGAN","TANGGAL","DOKTER_ASAL","TUJUAN","STATUS"]',REFERENSI:Ext.JSON.encode({Kunjungan:{COLUMNS:["NOMOR","NOPEN","JENIS_KUNJUNGAN","RUANGAN","RUANG_KAMAR_TIDUR","STATUS"],REFERENSI:{Ruangan:{},RuangKamarTidur:{REFERENSI:{RuangKamar:{REFERENSI:{Kelas:true}}}},Pendaftaran:{COLUMNS:["NOMOR","NORM","TANGGAL"],REFERENSI:{Pasien:{COLUMNS:["NORM","GELAR_DEPAN","NAMA","GELAR_BELAKANG","JENIS_KELAMIN","TANGGAL_LAHIR","TEMPAT_LAHIR"]},Penjamin:{REFERENSI:{Kelas:true,KAP:true}}}}}},Dokter:true,Ruangan:{COLUMNS:["DESKRIPSI"]}})})},doAfterLoad:function(e,f,g,o){e.setStatusRingTone()},setStatusRingTone:function(){var x=this,m=this.getViewModel(),f=m.get("confDering")||{},g=m.get("store"),l=(g)?g.count():0,n=location.origin+location.pathname,k=Ext.util.Cookies.get("PengunjungLabDering"),e=k?Ext.JSON.decode(Ext.util.Base64.decode(k)):false;if(e){f=Ext.apply(f,e);m.set("confDering",f);x.getReferences().statusdering.setValue(e.valDering)}if(f.valDering!=true){m.set("dering","")}else{if(l>0){m.set("dering",'<audio src="'+n+'resources/ringtone/dering.mp3" autoplay="autoplay" loop></audio>')}else{m.set("dering","")}}}},0,["terima-lab-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","terima-lab-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"terima-lab-list":true},["widget.terima-lab-list"],0,[layanan.laboratorium.terimaorder,"List"],0));(Ext.cmd.derive("layanan.laboratorium.terimaorder.ListController",Ext.app.ViewController,{filter:{norm:"",tanggal:{checked:false,value:new Date()}},orderSelected:{property:"TANGGAL",direction:"ASC"},onSearch:function(e,f){this.filter.norm=f;this.cari()},onClear:function(){this.filter.norm="";this.cari()},onChange:function(q,f){var e=this,g=e.getView(),k=g.down("search-field");if(f==""){k.onClearClick()}},onTerima:function(k){var t=this,g=t.getView(),l=t.getViewModel(),f=k.ownerCt.getWidgetRecord(),e=f.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NAMA;g.waitRefresh=true;g.showMessageBox({title:"Penerimaan Order Laboratorium",message:"Anda yakin ingin menerima Order Laboratorium Pasien An. "+e+" ?",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:k,fn:function(m){if(m==="yes"){l.set("inProses",true);var n=Ext.create("data.model.Kunjungan",{NOPEN:f.get("REFERENSI").KUNJUNGAN.NOPEN,RUANGAN:f.get("TUJUAN"),REF:f.get("NOMOR"),STATUS:1});n.showError=true;n.animateTarget=m;n.scope=t;n.save({callback:function(q,o,p){g.waitRefresh=false;if(p){g.remove(k.ownerCt);g.notifyMessage("Penerimaan Order Laboratorium Pasien An. "+e+" berhasil");g.fireEvent("terima",f);g.refresh()}l.set("inProses",false)}})}else{g.waitRefresh=false;l.set("inProses",false)}}})},onBatal:function(l){var t=this,k=t.getView(),g=l.ownerCt.getWidgetRecord(),f=g.get("STATUS"),e=g.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NAMA;k.waitRefresh=true;g.showError=true;g.animateTarget=l;g.scope=t;k.showMessageBox({title:"Pembatalan Penerimaan Order Laboratorium",message:"Anda yakin ingin membatalkan penerimaan Order Laboratorium Pasien An. "+e+" ?",ui:"window-warning",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:l,fn:function(m){if(m==="yes"){g.set("STATUS",0);g.save({callback:function(p,n,o){k.waitRefresh=false;if(o){k.remove(l.ownerCt);k.notifyMessage("Pembatalan penerimaan Order Laboratorium Pasien An. "+e+" berhasil");k.refresh()}else{g.set("STATUS",f)}}})}else{k.waitRefresh=false;g.set("STATUS",f)}}})},onChangeRingtone:function(q,k,g){var f=this,e=f.getViewModel();confDering=e.get("confDering")||{},obj={valDering:k,statusRing:(k)?"On":"Off"};valBase=Ext.util.Base64.encode(Ext.JSON.encode(obj));Ext.util.Cookies.set("PengunjungLabDering",valBase);f.getView().setStatusRingTone()},privates:{cari:function(){var f=this,o=f.getView(),e=o.down("pagingtoolbar"),g={sort:Ext.JSON.encode(f.orderSelected)};if(f.filter.norm==""){delete o.getStore().queryParams.NORM}else{g.NORM=f.filter.norm}if(!f.filter.tanggal.checked){delete o.getStore().queryParams.TANGGAL}else{g.TANGGAL=Ext.Date.format(f.filter.tanggal.value,"Y-m-d")}o.setParams(g);if(e){e.moveFirst()}else{o.load()}}}},0,0,0,0,["controller.terima-lab-list"],0,[layanan.laboratorium.terimaorder,"ListController"],0));(Ext.cmd.derive("layanan.laboratorium.viewhasil.Form",Ext.grid.Panel,{viewModel:{data:{listModel:true},stores:{store:{type:"tindakan-order",autoLoad:true}}},bind:{store:"{store}"},layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 0 10 0"},border:false,flex:1,initComponent:function(){var e=this,f=new Date();e.columns=[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Parameter",dataIndex:"PARAMETER",flex:1},{text:"Hasil",dataIndex:"HASIL",flex:1},{text:"Nilai",dataIndex:"NILAI",width:100},{text:"Satuan",dataIndex:"SATUAN",width:100}],e.buttons=[{text:"Close",iconCls:"x-fa fa-save",handler:"onClose"}];e.callParent(arguments)}},0,["form-hasil-lab"],["component","box","container","panel","tablepanel","gridpanel","grid","form-hasil-lab"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"form-hasil-lab":true},["widget.form-hasil-lab"],0,[layanan.laboratorium.viewhasil,"Form"],0));(Ext.cmd.derive("layanan.laboratorium.viewhasil.Workspace",Ext.panel.Panel,{layout:{type:"hbox",align:"stretch"},bodyPadding:5,dockedItems:[{xtype:"toolbar",dock:"top",layout:{type:"hbox",align:"left"},defaults:{xtype:"displayfield",labelWidth:100,style:"text-align: left; font-weight: bold; font-size: 14px"},items:[{value:"08-08-2015"},{value:"  |  "},{value:"Dislokasi dari tengkorak dari tulang belakang leher"}]}],items:[{xtype:"form-hasil-lab",border:false,flex:1}]},0,["workspace-hasil-lab"],["component","box","container","panel","workspace-hasil-lab"],{component:true,box:true,container:true,panel:true,"workspace-hasil-lab":true},["widget.workspace-hasil-lab"],0,[layanan.laboratorium.viewhasil,"Workspace"],0));(Ext.cmd.derive("layanan.laboratorium.widget.Orders",Ext.Container,{layout:"fit",items:[{xtype:"terima-lab-list",reference:"terimalablist",viewConfig:{loadMask:false},listeners:{terima:"onTerima"}}],loadStore:function(e){var f=this.down("terima-lab-list");f.loadStore(e)},refresh:function(){this.down("terima-lab-list").refresh()}},0,["laboratorium-widget-orders"],["component","box","container","laboratorium-widget-orders"],{component:true,box:true,container:true,"laboratorium-widget-orders":true},["widget.laboratorium-widget-orders"],0,[layanan.laboratorium.widget,"Orders"],0));(Ext.cmd.derive("layanan.pa.hasil.Form",com.Form,{controller:"form-hasil-pa",model:"data.model.HasilPa",layout:{type:"hbox",align:"stretch"},viewModel:{stores:{store:{type:"hasilpa-store"}}},bodyPadding:5,border:true,defaultType:"container",defaults:{margin:"0 2 2 0",layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 2 2 0"}},jenisPemeriksaan:1,initComponent:function(){var f=this,e=new Date();f.items=[{flex:1,defaults:{bind:{readOnly:"{formConfig.viewOnly}"},allowBlank:true},items:[{xtype:"textfield",emptyText:"[ Lokasi ]",name:"LOKASI"},{xtype:"textfield",name:"DIDAPAT_DENGAN",emptyText:"[ Didapat Dengan ]"},{xtype:"textfield",hidden:true,name:"KUNJUNGAN"},{xtype:"textfield",hidden:true,name:"JENIS_PEMERIKSAAN"},{xtype:"textareafield",name:"CAIRAN_FIKSASI",flex:1,emptyText:"[ Cairan Fiksasi ]"},{xtype:"textareafield",name:"DIAGNOSA_KLINIK",flex:1,emptyText:"[ Diagnosa Klinik ]"},{xtype:"textareafield",emptyText:"[ Keterangan Klinik ]",flex:1,name:"KETERANGAN_KLINIK"},{xtype:"textareafield",name:"MAKROSKOPIK",flex:1,emptyText:"[ Makroskopik ]"}]},{xtype:"splitter"},{flex:1,defaults:{bind:{readOnly:"{formConfig.viewOnly}"}},items:[{xtype:"textareafield",name:"MIKROSKOPIK",flex:1,emptyText:"[ Mikroskopik ]"},{xtype:"textareafield",name:"KESIMPULAN",flex:1,emptyText:"[ Kesimpulan ]"},{xtype:"textareafield",name:"REEVALUASI",flex:1,emptyText:"[ Re-Evaluasi ]"}]},{xtype:"splitter"},{flex:1,defaults:{bind:{readOnly:"{formConfig.viewOnly}"}},items:[{xtype:"datefield",name:"TANGGAL_IMUNO",emptyText:"[ Tanggal Imuno ]"},{xtype:"textareafield",name:"IMUNO_HISTOKIMIA",flex:1,emptyText:"[ Imuno Histokimia ]"},{xtype:"dokter-combo",name:"DOKTER"}]}];f.callParent(arguments)},buttons:[{name:"TANGGAL",reference:"tanggal",width:150,xtype:"datefield",format:"d/m/Y",submitFormat:"Y-m-d",value:new Date(),maxValue:new Date(),margin:"0 1 0 0",readOnly:true},{name:"WAKTU",reference:"waktu",width:125,xtype:"timefield",format:"H:i:s",hideTrigger:true,value:new Date(),readOnly:true},{xtype:"component",flex:1},{text:"Simpan",ui:"soft-green",iconCls:"x-fa fa-save",hidden:true,bind:{hidden:"{!formConfig.simpan}"},handler:"onSimpan"},{text:"Cetak",iconCls:"x-fa fa-print",hidden:true,bind:{hidden:"{!formConfig.simpan}"},handler:"onPreview"}],onBeforeGetRecord:function(e,g){var f=e.down("[name=TANGGAL_IMUNO]").getValue(),o=Ext.Date.clone(f);g.TANGGAL_IMUNO=o},onLoadRecord:function(t,e){var l=e.get("REFERENSI"),f=l?(l.DOKTER?Ext.create("data.model.Dokter",l.DOKTER):null):null,g=t.down("dokter-combo"),k=t.down("[name=WAKTU]");if(f){g.select(f)}},load:function(e){var t=this,l=t.getViewModel(),k=l.get("store");if(e){if(Ext.getClassName(e)=="data.model.Kunjungan"){var g=e;k.queryParams={KUNJUNGAN:e.get("NOMOR"),JENIS_PEMERIKSAAN:t.jenisPemeriksaan},k.load({callback:function(o,p,n){if(n){t.loadRecord(o[0])}else{var m={KUNJUNGAN:g.get("NOMOR"),TANGGAL:t.getSysdate(),TANGGAL_IMUNO:t.getSysdate(),JENIS_PEMERIKSAAN:t.jenisPemeriksaan,REFERENSI:{KUNJUNGAN:g.data}};t.createRecord(m)}}})}else{var f=e.get("STATUS")==1;t.setFormConfig({viewOnly:!f,simpan:f});t.loadRecord(e[0])}}}},0,["form-hasil-pa"],["component","box","container","panel","form","com-form","form-hasil-pa"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-hasil-pa":true},["widget.form-hasil-pa"],0,[layanan.pa.hasil,"Form"],0));(Ext.cmd.derive("layanan.pa.hasil.FormController",Ext.app.ViewController,{onSimpan:function(f){var g=this,e=g.getView();e.save(f)},onPreview:function(e){this.cetak(true)},privates:{cetak:function(f){var e=this,o=e.getView(),g=e.getViewModel().get("record");o.cetak({NAME:"layanan.CetakHasilPa",TYPE:f?"Pdf":"Word",EXT:f?"pdf":"docx",PARAMETER:{PID:g.get("ID")},REQUEST_FOR_PRINT:!f,PRINT_NAME:"CetakHasil"},function(k){if(f){o.openDialog("Print Preview",true,0,0,{xtype:"panel",title:"Preview Hasil Patologi"},function(l,m){m.down("panel").update("<iframe style='width: 100%; height: 100%' src='"+k+"'></iframe>")})}})}}},0,0,0,0,["controller.form-hasil-pa"],0,[layanan.pa.hasil,"FormController"],0));(Ext.cmd.derive("layanan.pa.hasil.Workspace",com.Tab,{controller:"workspace-hasil-pa",viewModel:{data:{kunjungan:undefined}},defaults:{border:false,listeners:{save:"onSimpan"}},items:[{title:"Hasil Patologi",xtype:"form-hasil-pa",reference:"hasilpatologi"},{title:"Hasil Sitologi",xtype:"form-hasil-pa",jenisPemeriksaan:2,reference:"hasilsitoogi"}],load:function(e){var g=this,f=g.getViewModel(),o=g.getActiveTab();if(o){f.set("kunjungan",e);if(o.load){o.load(e)}}},listeners:{tabchange:"onTabChange"}},0,["workspace-hasil-pa"],["component","box","container","panel","tabpanel","com-tab","workspace-hasil-pa"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"workspace-hasil-pa":true},["widget.workspace-hasil-pa"],0,[layanan.pa.hasil,"Workspace"],0));(Ext.cmd.derive("layanan.pa.hasil.WorkspaceController",Ext.app.ViewController,{onTabChange:function(f,g){var e=this.getViewModel(),o=e.get("kunjungan");if(g.load){g.load(o)}},onSimpan:function(e){this.getView().fireEvent("load")}},0,0,0,0,["controller.workspace-hasil-pa"],0,[layanan.pa.hasil,"WorkspaceController"],0));(Ext.cmd.derive("layanan.pemakaiano2.Form",com.Form,{controller:"pemakaian-o2-form",viewModel:{data:{record:undefined,formConfig:{readOnly:true,tanggal:new Date(),simpan:false,reset:false}}},layout:{type:"hbox"},model:"data.model.O2",initComponent:function(){this.items=[{name:"PASANG",reference:"pasang",flex:1,xtype:"datetimefield",emptyText:"[Tanggal Pasang O2]",format:"Y-m-d H:i:s",maxValue:Ext.Date.subtract(this.getSysdate(),Ext.Date.DAY,-1),bind:{readOnly:"{formConfig.readOnly}",minValue:"{formConfig.tanggal}"},allowBlank:false,margin:"0 1 0 0"},{xtype:"referensi-combo",params:{JENIS:51,STATUS:1},valueField:"DESKRIPSI",firstLoad:true,name:"FLOW",emptyText:"[Flow]",enterFocus:true,enforceMaxLength:true,forceSelection:true,validateOnBlur:true,reference:"flow",flex:1,bind:{readOnly:"{formConfig.readOnly}"},listeners:{specialkey:"onFocusEnter"}},{xtype:"button",text:"Simpan",ui:"soft-blue",hidden:true,bind:{hidden:"{!formConfig.simpan}"},handler:"onSimpan"},{xtype:"button",text:"Reset",hidden:true,bind:{hidden:"{!formConfig.reset}"},ui:"soft-blue",handler:"onReset"}];com.Form.prototype.initComponent.apply(this,arguments)},setFormConfig:function(f){var g=this,e=g.getViewModel();_config=e.get("formConfig");f=Ext.apply(_config,f);e.set("formConfig",f);e.notify()}},0,["pemakaian-o2-form"],["component","box","container","panel","form","com-form","pemakaian-o2-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pemakaian-o2-form":true},["widget.pemakaian-o2-form"],0,[layanan.pemakaiano2,"Form"],0));(Ext.cmd.derive("layanan.pemakaiano2.FormController",Ext.app.ViewController,{onFocusEnter:function(f,e){},onSimpan:function(x){var q=this,o=q.getView(),p=o.getForm(),l=q.getReferences(),m=o.getForm().getValues(),k=o.getRecord(),n=o.ownerCt.getStatusLepas();if(n){if(o.getForm().isValid()){k.set(m);k.showError=true;k.animateTarget=x;k.scope=q;k.save({callback:function(f,g,e){if(e){Ext.toast({html:"Data telah disimpan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});o.fireEvent("success",f);q.onReset()}}})}}else{Ext.Msg.show({title:"Perhatian",width:"40%",message:'Anda belum mengisi <b><font color="red">TANGGAL LEPAS</font></b> pada inputan sebelumnya<br> Silahkan mengisi atau menghapus data yang belum memiliki tanggal lepas sebelum menyimpan',buttons:Ext.Msg.OK,animateTarget:x})}},onReset:function(f){var g=this,e=g.getView();e.getForm().reset()}},0,0,0,0,["controller.pemakaian-o2-form"],0,[layanan.pemakaiano2,"FormController"],0));(Ext.cmd.derive("layanan.pemakaiano2.List",com.Grid,{controller:"pemakaian-o2-list",viewModel:{data:{listConfig:{columns:{action:{hidden:false}}}},stores:{store:{type:"o2-store"}}},bind:{store:"{store}"},border:false,reference:"pemakaiano2List",cls:"x-br-top",initComponent:function(){var e=this;e.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:2,listeners:{afteredit:"onAfterEdit",beforeedit:"onBeforeEdit"}});e.tanggal={xtype:"datetimefield",format:"Y-m-d H:i:s",value:e.getSysdate(),allowBlank:false,containFormatTime:true,minimalAddMinuteToMaxValue:5};e.plugins=[e.cellEditing];e.columns=[{xtype:"rownumberer",text:"No",align:"left",width:60},{text:"Tanggal Pasang O2",dataIndex:"PASANG",name:"PASANG",xtype:"datecolumn",format:"Y-m-d H:i:s",value:new Date(),width:"20%"},{text:"Tanggal Lepas O2",dataIndex:"LEPAS",name:"LEPAS",xtype:"datecolumn",format:"Y-m-d H:i:s",editor:e.tanggal,width:"20%"},{xtype:"numbercolumn",format:"0,000.00",text:"Flow",name:"FLOW",flex:1,dataIndex:"FLOW"},{xtype:"numbercolumn",name:"PEMAKAIAN",format:"0,000.00",text:"Jumlah Pemakaian O2",flex:1,dataIndex:"PEMAKAIAN"},{text:"#",width:100,xtype:"widgetcolumn",bind:{hidden:"{listConfig.columns.action.hidden}"},widget:{xtype:"fieldcontainer",defaultType:"button",layout:{type:"vbox",align:"stretch"},defaults:{padding:1,margin:"0 2 1 0"},items:[{xtype:"button",text:"Update",ui:"soft-blue",padding:1,action:0,margin:"0 2 1 0",listeners:{click:"onUpdate"}},{xtype:"button",text:"hapus",padding:1,action:1,ui:"soft-red",margin:"0 2 1 0",listeners:{click:"onHapus"}},{text:"Dibatalkan",action:2,ui:"soft-red"}]},onWidgetAttach:"onWidgetAttach"}];e.callParent(arguments)}},0,["pemakaian-o2-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","pemakaian-o2-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"pemakaian-o2-list":true},["widget.pemakaian-o2-list"],0,[layanan.pemakaiano2,"List"],0));(Ext.cmd.derive("layanan.pemakaiano2.ListController",Ext.app.ViewController,{onBeforeEdit:function(f,o,g){var e=this.getViewModel();if(e.get("listConfig.columns.action.hidden")){return false}},onAfterEdit:function(g,f,l){var k=this,v=f.record,e=k.getView(),m=v.get("PASANG");if(m>f.value){v.set("LEPAS","");e.notifyMessage("Tanggal lepas tidak boleh lebih besar dari tanggal pasang","danger-red")}else{if(f.value>e.getSysdate()){e.notifyMessage("Tanggal lepas tidak boleh lebih besar dari tanggal sekarang","danger-red");v.set("LEPAS","")}}},onUpdate:function(q){var f=this,k=f.getView(),e=f.getViewModel(),g=q.ownerCt.getWidgetRecord();g.showError=true;g.animateTarget=q;g.scope=f;g.save({callback:function(n,l,m){if(m){Ext.toast({html:"Data telah diupdate",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});k.fireEvent("success",n)}}})},onHapus:function(q){var f=this,k=f.getView(),e=f.getViewModel(),g=q.ownerCt.getWidgetRecord();if((g.get("LEPAS")=="")||(g.get("LEPAS")==null)){g.set("STATUS",0);g.showError=true;g.animateTarget=q;g.scope=f;g.save({callback:function(n,l,m){if(m){k.notifyMessage("Data telah dihapus","danger-red");k.fireEvent("success",n)}}})}else{k.notifyMessage("anda tidak dapat menghapus data yang memiliki tanggal lepas","danger-red")}},onWidgetAttach:function(m,n,f){var o=this,g=n.down("[action=0]"),l=n.down("[action=1]"),e=n.down("[action=2]"),k=f.get("STATUS")==1;g.setHidden(!k);l.setHidden(!(f.get("LEPAS")==""||f.get("LEPAS")==null)||!k);e.setHidden(k)}},0,0,0,0,["controller.pemakaian-o2-list"],0,[layanan.pemakaiano2,"ListController"],0));(Ext.cmd.derive("master.pemakaiano2.Workspace",com.Form,{controller:"pemakaian-o2-workspace",layout:"border",viewModel:{data:{kjgn:undefined}},initComponent:function(){var e=this;e.items=[{region:"north",xtype:"pemakaian-o2-form",reference:"pemakaiano2form",listeners:{success:"onSuccess"}},{region:"center",xtype:"pemakaian-o2-list",reference:"pemakaiano2list",listeners:{success:"onSuccess"}}];e.callParent(arguments)},load:function(e){var t=this,l=t.getViewModel(),g=t.getReferences();if(e){l.set("kjgn",e);var f=e.get("STATUS")!=1,k=Ext.create("data.model.O2",{TANGGAL:g.pemakaiano2form.getSysdate()});k.set("KUNJUNGAN",e.get("NOMOR"));g.pemakaiano2form.setHidden(f);if(!f){g.pemakaiano2form.setFormConfig({readOnly:f,tanggal:e.get("MASUK"),simpan:!f,reset:!f});g.pemakaiano2form.createRecord({TANGGAL:g.pemakaiano2form.getSysdate(),KUNJUNGAN:e.get("NOMOR")})}g.pemakaiano2list.setListConfig({paging:true,columns:{action:{hidden:f}}});g.pemakaiano2list.loadStore({KUNJUNGAN:e.get("NOMOR"),STATUS:1})}},getStatusLepas:function(){var e=this,f=e.down("pemakaian-o2-list"),g=f.getStore(),o=true;g.each(function(l,k){if(!l.get("LEPAS")&&l.get("STATUS")==1){o=false}});return o}},0,["pemakaian-o2-workspace"],["component","box","container","panel","form","com-form","pemakaian-o2-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"pemakaian-o2-workspace":true},["widget.pemakaian-o2-workspace"],0,[master.pemakaiano2,"Workspace"],0));(Ext.cmd.derive("layanan.pemakaiano2.WorkspaceController",Ext.app.ViewController,{onSuccess:function(q){var f=this,g=f.getView(),e=f.getViewModel(),k=f.getReferences();g.load(e.get("kjgn"));f.getReferences().pemakaiano2list.refresh()}},0,0,0,0,["controller.pemakaian-o2-workspace"],0,[layanan.pemakaiano2,"WorkspaceController"],0));(Ext.cmd.derive("layanan.radiologi.Workspace",com.Tab,{controller:"radiologi-workspace",activeTab:0,cls:"x-br-top",ui:"header-tab",kunjungan:undefined,initComponent:function(){var f=this;f.callParent(arguments);var e=f.app.xpriv("110304"),g=f.app.xpriv("110605");if(e){f.add({title:"Order",xtype:"order-rad-workspace",listeners:{kirim:"onKirim",reopen:"onReopen"}});f.add({title:"Daftar Order",xtype:"orderlist-rad-workspace",reference:"orderlistworkspace"})}if(g){f.add({title:"Riwayat",xtype:"riwayat-rad-workspace"})}},load:function(g){var f=this,e=this.getActiveTab();this.kunjungan=g;if(e){e.load(g)}else{if(f.items.getCount()>0){f.setActiveTab(0)}}},listeners:{tabchange:"onTabChange"}},0,["radiologi-workspace"],["component","box","container","panel","tabpanel","com-tab","radiologi-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"radiologi-workspace":true},["widget.radiologi-workspace"],0,[layanan.radiologi,"Workspace"],0));(Ext.cmd.derive("layanan.radiologi.WorkspaceController",Ext.app.ViewController,{onKirim:function(e){var f=this;refs=f.getReferences();refs.orderlistworkspace.refresh()},onReopen:function(e){this.getView().fireEvent("reopen",e)},onTabChange:function(f,e){var g=this.getView().kunjungan;if(e.load){e.load(g)}}},0,0,0,0,["controller.radiologi-workspace"],0,[layanan.radiologi,"WorkspaceController"],0));(Ext.cmd.derive("layanan.radiologi.hasil.Form",com.Form,{controller:"form-hasil-rad",model:"data.model.HasilRad",layout:{type:"hbox",align:"stretch"},bodyPadding:5,border:true,defaultType:"container",defaults:{margin:"0 2 2 0",layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 2 2 0"}},initComponent:function(){var f=this,e=new Date();f.items=[{flex:1,defaults:{bind:{readOnly:"{formConfig.viewOnly}"},allowBlank:false},items:[{xtype:"textfield",emptyText:"[ Klinis ]",name:"KLINIS"},{xtype:"textareafield",name:"KESAN",flex:1,emptyText:"[ Kesan ]"},{xtype:"textareafield",name:"USUL",flex:1,emptyText:"[ Usul ]"}]},{xtype:"splitter"},{flex:1,defaults:{bind:{readOnly:"{formConfig.viewOnly}"}},items:[{xtype:"textareafield",name:"HASIL",flex:1,emptyText:"[ Hasil Pemeriksaan ]"},{xtype:"textfield",emptyText:"[ BTK ]",name:"BTK"},{xtype:"dokter-combo",name:"DOKTER"}]}];f.callParent(arguments)},buttons:[{name:"TANGGAL",reference:"tanggal",width:150,xtype:"datefield",format:"d/m/Y",submitFormat:"Y-m-d",value:new Date(),maxValue:new Date(),margin:"0 1 0 0",readOnly:true},{name:"WAKTU",reference:"waktu",width:125,xtype:"timefield",format:"H:i:s",hideTrigger:true,value:new Date(),readOnly:true},{xtype:"component",flex:1},{text:"Simpan",ui:"soft-green",iconCls:"x-fa fa-save",hidden:true,bind:{hidden:"{!formConfig.simpan}"},handler:"onSimpan"},{text:"Cetak",iconCls:"x-fa fa-print",hidden:true,bind:{hidden:"{!formConfig.cetak}"},handler:"onPreview"}],loadRecord:function(n,f){var e=this,g=e.getForm().loadRecord(n),l=e.getViewModel(),f=f||false,k=n.get("REFERENSI"),o=k?(k.DOKTER?Ext.create("data.model.Dokter",k.DOKTER):null):null,m=e.down("dokter-combo"),z=e.down("[name=WAKTU]");if(n){l.set("record",n);z.setValue(n.get("TANGGAL"));m.select(o)}return g},setDokterRuangan:function(f){var e=this.down("dokter-combo");e.params.RUANGAN=f}},0,["form-hasil-rad"],["component","box","container","panel","form","com-form","form-hasil-rad"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"form-hasil-rad":true},["widget.form-hasil-rad"],0,[layanan.radiologi.hasil,"Form"],0));(Ext.cmd.derive("layanan.radiologi.hasil.FormController",Ext.app.ViewController,{onSimpan:function(f){var g=this,e=g.getView();e.save(f)},onPreview:function(e){this.cetak(true)},privates:{cetak:function(f){var e=this,o=e.getView(),g=e.getViewModel().get("record");o.cetak({NAME:"layanan.CetakHasilRad",TYPE:f?"Pdf":"Word",EXT:f?"pdf":"docx",PARAMETER:{PTINDAKAN:g.get("TINDAKAN_MEDIS")},REQUEST_FOR_PRINT:!f,PRINT_NAME:"CetakHasil"},function(k){if(f){o.printPreview("Preview Hasil Radiologi",k)}})}}},0,0,0,0,["controller.form-hasil-rad"],0,[layanan.radiologi.hasil,"FormController"],0));(Ext.cmd.derive("layanan.radiologi.hasil.Workspace",com.Form,{controller:"workspace-hasil-rad-controller",viewModel:{data:{kunjungan:undefined}},layout:"border",initComponent:function(){var e=this;e.items=[{region:"west",title:"Tindakan",hideAction:true,flex:0.3,xtype:"tindakan-medis-list",reference:"listindakanmedist",split:true,collapsed:false,collapsible:true,header:{items:[{xtype:"button",ui:"soft-cyan",iconCls:"x-fa fa-print",tooltip:"Cetak Job List",menu:{plain:true,width:200,items:[{text:"Format I",action:1,listeners:{scope:e.getController(),click:"onCetakJobList"}},{text:"Format II",action:2,listeners:{scope:e.getController(),click:"onCetakJobList"}}]}}]},listeners:{tindakanselected:"onSelectTindakanMedis"}},{region:"center",xtype:"com-form",reference:"hasilrad",viewModel:{data:{formConfig:{viewer:true,"final":false,btnViewer:true,batalFinal:false}}},title:"Hasil Radiologi",fullscreenEnabled:true,header:{items:[{xtype:"button",text:"Final",iconCls:"x-fa fa-check",ui:"soft-cerulen",bind:{hidden:"{!formConfig.final}"},tooltip:"Final",handler:"onFinal"},{xtype:"button",text:"Viewer",reference:"btnviewer",iconCls:"x-fa fa-picture-o",ui:"soft-cyan",bind:{hidden:"{!formConfig.btnViewer}"},tooltip:"Viewer",handler:"onViewer"},{xtype:"button",iconCls:"x-fa fa-chain-broken",tooltip:"Batalkan Final",bind:{hidden:"{!formConfig.batalFinal}"},ui:"soft-red",handler:"onBatalFinal"}]},layout:"border",items:[{xtype:"form-hasil-rad",reference:"formhasilrad",border:false,region:"center"},{xtype:"panel",title:"Viewer",region:"east",reference:"pnlviewer",layout:"fit",hidden:true,items:[{xtype:"uxiframe",reference:"viewer"}],split:true,flex:1,bind:{hidden:"{!formConfig.viewer}"},collapsed:true,collapsible:true,iconCls:"x-fa fa-picture-o"}]}];e.callParent(arguments)},load:function(v){var l=this,g=l.getViewModel(),k=l.down("tindakan-medis-list"),m=l.down("[reference=hasilrad]"),e=l.down("form-hasil-rad");if(v){var f=g.get("formConfig");g.set("kunjungan",v);if(!f.viewOnly){m.setFormConfig({"final":l.app.xpriv("110901",false)&&v.get("FINAL_HASIL")==0,batalFinal:l.app.xpriv("110902",false)&&v.get("FINAL_HASIL")==1})}if(v.get("FINAL_HASIL")==1){f.viewOnly=true;f.simpan=false}e.setFormConfig({viewOnly:f.viewOnly,simpan:f.simpan,cetak:f.cetak});k.setParams({STATUS:1});k.loadStore(v,1);e.setDokterRuangan(v.get("RUANGAN"))}}},0,["workspace-hasil-rad"],["component","box","container","panel","form","com-form","workspace-hasil-rad"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"workspace-hasil-rad":true},["widget.workspace-hasil-rad"],0,[layanan.radiologi.hasil,"Workspace"],0));(Ext.cmd.derive("layanan.radiologi.hasil.WorkspaceController",Ext.app.ViewController,{ris:{integrasi:undefined,service:undefined,supportViewerIframe:true},tindakanMedis:undefined,init:function(){var f=this,e=f.getView(),o=e.down("[reference=hasilrad]"),g=e.getPropertyConfig("10")=="TRUE";o.setFormConfig({viewer:g,btnViewer:g});f.ris.integrasi=e.app.xitr("ID",7);if(f.ris.integrasi){if(e.app.xpriv("990402")){f.ris.service=Ext.create(f.ris.integrasi.NAMA_KLAS,{});if(f.ris.service){e.setLoading(true);f.ris.service.supportViewerWithIframe(function(l,m,k){f.ris.supportViewerIframe=true;if(l){f.ris.supportViewerIframe=m.support;o.setFormConfig({viewer:m.support})}e.setLoading(false)})}}}},onSelectTindakanMedis:function(n,f){var x=this,k=x.getView(),l=x.getReferences(),g=x.getViewModel().get("kunjungan");if(f){var m=webservice.location+"layanan/viewerad?TINDAKAN_MEDIS="+f.get("ID");l.listindakanmedist.setDisabled(true);x.tindakanMedis=f;if(data.model){data.model.HasilRad.load(f.get("ID"),{callback:function(q,e,p){if(p){l.formhasilrad.loadRecord(q)}else{l.formhasilrad.createRecord({TINDAKAN_MEDIS:f.get("ID")})}l.listindakanmedist.setDisabled(false)}})}try{if(k.getPropertyConfig("10")=="TRUE"){if(x.ris.service){if(x.ris.supportViewerIframe){m=x.ris.service.getViewerUrl(f.get("ID"))}}l.viewer.load(m)}}catch(o){console.log("Error load pacs viewer: "+o.message)}}},onViewer:function(){var g=this,f=g.getView();try{if(f.getPropertyConfig("10")=="TRUE"){if(g.ris.service){g.ris.service.openViewer(g.tindakanMedis.get("ID"))}}}catch(m){console.log("Error load pacs viewer: "+m.message)}},onCetakJobList:function(f){var o=this,k=o.getViewModel(),n=k.get("kunjungan"),z=o.getView(),m="Word",l="docx",g=true,e="Cetak Job List Radiologi";z.showMessageBox({title:e,ui:"window-blue",message:"Tekan tombol Yes/Ya utk cetak langsung<br/>Tekan tombol No/Tidak untuk Preview",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:f,fn:function(p){if(p!="yes"){m="Pdf";l="pdf";g=false}z.cetak({NAME:"layanan.CetakJobListRad",TYPE:m,EXT:l,PARAMETER:{PKUNJUNGAN:n.get("NOMOR"),PJENIS:f.action},REQUEST_FOR_PRINT:g,PRINT_NAME:"CetakJobList"},function(q){z.printPreview(e,q)})}})},onFinal:function(k){var t=this,f=t.getView(),l=t.getViewModel(),e=l.get("kunjungan"),g=e.get("FINAL_HASIL");f.showMessageBox({title:"Final Hasil Radiologi",ui:"window-blue",message:"Anda yakin untuk memfinalkan hasil radiologi ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"yes",animateTarget:k,fn:function(m){if(m==="yes"){e.showError=true;e.animateTarget=k;e.scope=t;e.set("FINAL_HASIL",1);e.save({callback:function(n,o,p){if(p){f.notifyMessage("Hasil Radiologi telah telah difinalkan");f.load(n)}else{e.set("FINAL_HASIL",g)}}})}else{e.set("FINAL_HASIL",g)}}})},onBatalFinal:function(k){var t=this,f=t.getView(),l=t.getViewModel(),e=l.get("kunjungan"),g=true;if(f.app){g=!f.app.xpriv("110902")}if(g){f.notifyMessage("Anda tidak memiliki Hak Akses untuk melakukan Pembatalan final hasil!");return}f.showMessageBox({title:"Pembatalan Final Hasil",message:"Anda yakin ingin membatalkan final hasil?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:k,fn:function(m){if(m==="yes"){f.openDialog("",true,150,100,{xtype:"pendaftaran-pembatalan-final_hasil-form",title:"Pembatalan Final Hasil",ui:"panel-red",showCloseButton:true},function(n,p){var o=p.down("pendaftaran-pembatalan-final_hasil-form");o.on({close:function(){p.close()},save:function(q,s,v){f.setFormConfig({viewOnly:false,simpan:true});e.load({success:function(u,x){f.load(u)}});p.close()}});o.createRecord({KUNJUNGAN:e.get("NOMOR"),TANGGAL:f.getSysdate()})})}}})}},0,0,0,0,["controller.workspace-hasil-rad-controller"],0,[layanan.radiologi.hasil,"WorkspaceController"],0));(Ext.cmd.derive("layanan.radiologi.order.Detil",com.Grid,{controller:"order-rad-detil",viewModel:{data:{columnCommandConfig:{hideBatalOrder:false,hideLihatHasil:true}},stores:{store:{type:"order-detil-rad-store"}}},title:"Order Detil",bind:{store:"{store}"},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{xtype:"templatecolumn",text:"Tindakan",sortable:false,flex:1,tpl:'<div style="white-space:normal !important;">{REFERENSI.TINDAKAN.NAMA}</div>'},{xtype:"widgetcolumn",align:"center",text:"Aksi",sortable:false,width:100,align:"right",widget:{xtype:"fieldcontainer",layout:{type:"vbox"},defaults:{padding:2,xtype:"button"},items:[{action:0,text:"Batalkan",iconCls:"x-fa fa-minus-circle",ui:"soft-red",handler:"onBatalOrder",bind:{hidden:"{columnCommandConfig.hideBatalOrder}"}},{text:"Lihat Hasil",action:0,ui:"soft-blue",handler:"onLihatHasil",bind:{hidden:"{columnCommandConfig.hideLihatHasil}"}}]}}],loadStore:function(q,l){var f=this,k=f.getViewModel(),g=k.get("store");if(g){g.removeAll();g.queryParams=g.queryParams||{};if(q){g.queryParams.ORDER_ID=l.get("NOMOR");if(!k.get("kunjungan")){k.set("kunjungan",q)}if(!k.get("order")){k.set("order",l)}}g.load()}},getData:function(){var e=this,f=e.getViewModel().get("store"),g=[];f.each(function(k){g.push(k.data)});return g},addRow:function(g){var e=this,f=e.getViewModel().get("store");f.add(g)},removeDataStore:function(){this.getViewModel().get("store").removeAll()},removeAnotherModels:function(){var g=this.getViewModel().get("store"),f=[];g.each(function(k){if(Ext.getClassName(k)!="data.model.OrderDetilRad"){f.push(k)}});var e=new Ext.util.DelayedTask(function(){g.remove(f)});e.delay(100)},hideCommandButtons:function(f){var g=this,e=g.getViewModel();_config=e.get("columnCommandConfig");f=Ext.apply(_config,f);e.set("columnCommandConfig",f);e.notify()}},0,["order-rad-detil"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","order-rad-detil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"order-rad-detil":true},["widget.order-rad-detil"],0,[layanan.radiologi.order,"Detil"],0));(Ext.cmd.derive("layanan.radiologi.order.DetilController",Ext.app.ViewController,{onBatalOrder:function(g){var f=this,e=f.getStore("store"),o=g.ownerCt.getWidgetRecord();e.remove(o)},onLihatHasil:function(k){var q=this,e=true,g=q.getView(),f=k.ownerCt.getWidgetRecord();g.cetak({NAME:"layanan.CetakHasilRad",TYPE:e?"Pdf":"Word",EXT:e?"pdf":"docx",PARAMETER:{PTINDAKAN:f.get("REF")},REQUEST_FOR_PRINT:!e,PRINT_NAME:"CetakHasil"},function(l){if(e){g.openDialog("Print Preview",true,0,0,{xtype:"panel",title:"Preview Hasil Radiologi"},function(n,m){m.down("panel").update("<iframe style='width: 100%; height: 100%' src='"+l+"'></iframe>")})}})}},0,0,0,0,["controller.order-rad-detil"],0,[layanan.radiologi.order,"DetilController"],0));(Ext.cmd.derive("layanan.radiologi.order.Form",com.Form,{controller:"order-rad-form",viewModel:{data:{record:undefined,formConfig:{readOnly:true,tanggal:new Date()}}},layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 1 0 0"},bodyPadding:5,initComponent:function(){var e=this,f=e.getSysdate();e.items=[{xtype:"ruangan-rad-combo",params:{STATUS:1},flex:1,hideTrigger:false,bind:{readOnly:"{formConfig.readOnly}"},reference:"ruanganradcombo",forceSelection:true,allowBlank:false,name:"TUJUAN",listeners:{select:"onTujuanSelect"}},{xtype:"dokter-combo",emptyText:"[Dokter Perujuk]",flex:1,bind:{readOnly:"{formConfig.readOnly}"},reference:"doktercombo",allowBlank:false,name:"DOKTER_ASAL",listeners:{focus:"onBeforeQuery"}},{name:"ALASAN",reference:"alasan",flex:1,xtype:"textfield",emptyText:"[ Diagnosa ]",bind:{readOnly:"{formConfig.readOnly}"}},{name:"TANGGAL",reference:"tanggal",width:200,xtype:"datefield",emptyText:"[Pilih Tanggal Order]",format:"d/m/Y H:i:s",maxValue:f,minimalAddMinuteToMaxValue:15,containFormatTime:true,allowBlank:false,bind:{readOnly:"{formConfig.readOnly}",minValue:"{formConfig.tanggal}"}}];e.callParent(arguments)},loadRecord:function(n){var l=this,v=l.getForm().loadRecord(n);if(n){var k=l.down("[reference=ruanganradcombo]"),p=l.down("[reference=doktercombo]"),m=n.get("REFERENSI");l.getViewModel().set("record",n);if(m){var o=m.KUNJUNGAN;k.params.RUANGAN=o.RUANGAN;p.params.RUANGAN=o.RUANGAN}k.load()}return v},setFormConfig:function(f){var g=this,e=g.getViewModel();_config=e.get("formConfig");f=Ext.apply(_config,f);e.set("formConfig",f);e.notify()},getRecord:function(){return this.getViewModel().get("record")},getFormData:function(){var o=this,e=o.getReferences(),g=o.getForm().getValues(),f=e.tanggal.getValue();g.TANGGAL=f;return g},focus:function(f,e){this.getReferences().ruanganradcombo.focus(f,e)}},0,["order-rad-form"],["component","box","container","panel","form","com-form","order-rad-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"order-rad-form":true},["widget.order-rad-form"],0,[layanan.radiologi.order,"Form"],0));(Ext.cmd.derive("layanan.radiologi.order.FormController",Ext.app.ViewController,{onTujuanSelect:function(f,e){if(e){this.getView().fireEvent("tujuanselected",e)}},onBeforeQuery:function(e){if(e.combo){e.combo.getStore().removeAll()}}},0,0,0,0,["controller.order-rad-form"],0,[layanan.radiologi.order,"FormController"],0));(Ext.cmd.derive("layanan.radiologi.order.Workspace",com.Form,{controller:"order-rad-workspace",viewModel:{data:{kunjungan:undefined}},layout:"border",initComponent:function(){var e=this;e.items=[{region:"north",xtype:"order-rad-form",border:false,bodyPadding:2,reference:"orderradform",bind:{hidden:"{isFinal}"},listeners:{tujuanselected:"onTujuanSelected"}},{region:"center",xtype:"order-rad-detil",flex:1,reference:"orderraddetil",viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrag:false},listeners:{scope:e.getController(),drop:"onDropTindakan"}}},{region:"east",title:"Daftar Tindakan",xtype:"tindakan-list",collapsible:true,showSearch:true,flex:1,reference:"tindakanlist",hideHeaders:true,split:true,multiSelect:true,viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrop:false},copy:true},listeners:{itemdblclick:"onItemDblClickTindakan"}}];e.buttons=[{text:"Kirim Order",ui:"soft-green",reference:"btnkirim",bind:{hidden:"{isFinal}"},tooltip:{text:"Kirim Order Radiologi",mouseOffset:[50,-65]},iconCls:"x-fa fa-share",handler:"onKirim"},{text:"Reset",ui:"soft-blue",reference:"btnreset",bind:{hidden:"{isFinal}"},tooltip:{text:"Reset",mouseOffset:[50,-65]},iconCls:"x-fa fa-refresh",handler:"onReset"}];e.callParent()},load:function(t){var e=this,l=e.getViewModel(),k=e.getReferences(),f={};if(t){l.set("kunjungan",t);if(t.get("STATUS")==1){if(Ext.getClassName(t)=="data.model.Kunjungan"){var g=t.get("STATUS")!=1;f={KUNJUNGAN:t.get("NOMOR"),REFERENSI:{KUNJUNGAN:t.data},TANGGAL:e.getSysdate()};k.orderradform.setFormConfig({readOnly:g,tanggal:t.get("MASUK")})}k.orderradform.loadRecord(Ext.create("data.model.OrderRad",f));k.orderradform.focus(false,100)}k.tindakanlist.removeDataStore()}},getFormData:function(){var o=this.down("[reference=orderradform]"),f=this.down("[reference=orderraddetil]"),g=o.getFormData(),e=f.getData();g.ORDER_DETIL=e;return{ORDER_RAD:g}}},0,["order-rad-workspace"],["component","box","container","panel","form","com-form","order-rad-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"order-rad-workspace":true},["widget.order-rad-workspace"],0,[layanan.radiologi.order,"Workspace"],0));(Ext.cmd.derive("layanan.radiologi.order.WorkspaceController",Ext.app.ViewController,{onTujuanSelected:function(o){var q=this,G=q.getReferences(),e=q.getViewModel(),p=q.getView(),k=e.get("kunjungan"),m=p.getReferensi(k.data,"RUANG_KAMAR_TIDUR"),g=p.getReferensi(m,"RUANG_KAMAR"),l=p.getPropertyConfig(7),n=p.getReferensi(o.data,"RADIOLOGI"),s=p.getReferensi(n,"RUANGAN_KELAS"),H=s?s.KELAS:0,f={RUANGAN:o.get("RADIOLOGI"),start:0,limit:10000,KELAS:H,STATUS:1};if(l=="TRUE"){if(g){H=g.KELAS}if(k.get("TITIPAN")==1){H=k.get("TITIPAN_KELAS")}f.KELAS=H}G.tindakanlist.clearSearch();G.tindakanlist.loadStore(f);G.orderraddetil.removeDataStore()},onItemDblClickTindakan:function(o,f){var g=this,e=g.getReferences();f=Ext.create("data.model.OrderDetilRad",{TINDAKAN:f.get("ID"),REFERENSI:{TINDAKAN:f.data}});e.orderraddetil.addRow(f)},onDropTindakan:function(n,t,l,k){var g=this,m=g.getReferences();Ext.Array.each(t.records,function(e,f){e=Ext.create("data.model.OrderDetilRad",{TINDAKAN:e.get("ID"),REFERENSI:{TINDAKAN:e.data}});m.orderraddetil.addRow(e)});m.orderraddetil.removeAnotherModels()},onKirim:function(g){var v=this,o=v.getView(),k=v.getReferences(),l=k.orderradform.getFormData(),n=k.orderraddetil.getData();if(k.orderradform.isValid()&&n.length>0){var m=k.orderradform.getRecord();if(m){l.ORDER_DETIL=n;m.set(l);m.animateTarget=g;m.scope=v;m.showError=true;m.save({callback:function(f,q,s){if(s){var e=o.app.xpriv("110108");if(e){o.setLoading(true);var p=Ext.create("data.model.Kunjungan",{NOPEN:f.get("REFERENSI").KUNJUNGAN.NOPEN,RUANGAN:f.get("TUJUAN"),REF:f.get("NOMOR"),STATUS:1});p.showError=true;p.animateTarget=g;p.scope=v;p.save({callback:function(x,t,u){if(u){o.fireEvent("reopen",x)}o.setLoading(false)}})}else{Ext.toast({html:"Order anda telah terkirim ke tujuan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});v.getView().fireEvent("kirim",f);v.onReset()}}}})}}},onReset:function(){var e=this,f=e.getReferences(),g=f.orderradform.getRecord();f.orderradform.reset();f.orderradform.loadRecord(Ext.create("data.model.OrderRad",{KUNJUNGAN:g.get("NOMOR"),REFERENSI:{KUNJUNGAN:g.get("REFERENSI").KUNJUNGAN},TANGGAL:e.getView().getSysdate()}));f.orderradform.focus(false,100);f.orderraddetil.removeDataStore();f.tindakanlist.removeDataStore()}},0,0,0,0,["controller.order-rad-workspace"],0,[layanan.radiologi.order,"WorkspaceController"],0));(Ext.cmd.derive("layanan.radiologi.orderlist.List",Ext.grid.Panel,{controller:"order-rad-list",viewModel:{stores:{store:{type:"order-rad-store"}}},bind:{store:"{store}"},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Nomor",dataIndex:"NOMOR",sortable:false,flex:1},{xtype:"datecolumn",text:"Tgl. Order",dataIndex:"TANGGAL",format:"d/m/Y H:i:s",sortable:false},{xtype:"templatecolumn",text:"Asal",flex:1,sortable:false,hidden:true,tpl:'<div style="white-space:normal !important;">{REFERENSI.KUNJUNGAN.REFERENSI.RUANGAN.DESKRIPSI}</div>'},{xtype:"templatecolumn",text:"Dokter Asal",flex:1,sortable:false,hidden:true,tpl:'<div style="white-space:normal !important;">{REFERENSI.DOKTER_ASAL.NAMA}</div>'},{xtype:"templatecolumn",text:"Tujuan",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.TUJUAN.DESKRIPSI}</div>'},{xtype:"widgetcolumn",align:"center",text:"Aksi",widget:{xtype:"fieldcontainer",defaults:{padding:2,margin:"0 2 1 0"},items:[{xtype:"button",action:0,text:"Batalkan",iconCls:"x-fa fa-minus-circle",ui:"soft-red",tooltip:"Batalkan Order",handler:"onBatalOrder"},{xtype:"button",text:"Dibatalkan",action:1,ui:"soft-red",hidden:true}]},onWidgetAttach:function(l,g,k){var n=k.get("STATUS"),t=g.down("[action=0]"),m=g.down("[action=1]");t.setHidden(n!=1);m.setHidden(!(n==0))}}],loadStore:function(f){var g=this,o=g.getViewModel(),e=o.get("store");if(e){e.removeAll();e.queryParams=e.queryParams||{};if(f){if(Ext.getClassName(f)=="data.model.Kunjungan"){e.queryParams.KUNJUNGAN=f.get("NOMOR");e.queryParams.HISTORY=1;if(!o.get("kunjungan")){o.set("kunjungan",f)}}}e.load()}},refresh:function(){var e=this.getViewModel().get("store");if(e){e.reload()}}},0,["order-rad-list"],["component","box","container","panel","tablepanel","gridpanel","grid","order-rad-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"order-rad-list":true},["widget.order-rad-list"],0,[layanan.radiologi.orderlist,"List"],0));(Ext.cmd.derive("layanan.radiologi.orderlist.ListController",Ext.app.ViewController,{init:function(){var e=this.getStore("store");if(e){e.on("load",function(f,g){if(g.length==0){e.removeAll()}})}},onBatalOrder:function(g){var f=this,e=f.getStore("store"),o=g.ownerCt.getWidgetRecord();o.showError=true;o.animateTarget=g;o.scope=f;Ext.Msg.show({title:"Pembatalan Order",message:"Anda yakin ingin membatalkan Order dengan Nomor Order "+o.get("NOMOR")+" ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:g,fn:function(k){if(k==="yes"){o.set("STATUS",0);o.save({callback:function(m,n,l){if(l){Ext.toast({html:"Pembatalan order dengan Nomor Order "+o.get("NOMOR")+" berhasil",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});e.load()}else{o.set("STATUS",1)}}})}else{o.set("STATUS",1)}}})}},0,0,0,0,["controller.order-rad-list"],0,[layanan.radiologi.orderlist,"ListController"],0));(Ext.cmd.derive("layanan.radiologi.orderlist.Workspace",Ext.panel.Panel,{controller:"orderlist-rad-workspace",layout:"border",initComponent:function(){var e=this;e.items=[{region:"center",title:"Orders",xtype:"order-rad-list",reference:"orderradlist",listeners:{select:"onOrderSelected"}},{region:"east",xtype:"order-rad-detil",flex:1,reference:"orderraddetil",riwayat:e.riwayat,flex:1,collapsible:true,split:true}];e.callParent(arguments)},load:function(f){var o=this,e=o.down("[reference=orderradlist]"),g=o.down("[reference=orderraddetil]");e.loadStore(f);g.removeDataStore()},refresh:function(){var e=this,f=e.down("[reference=orderradlist]"),g=e.down("[reference=orderraddetil]");f.refresh();g.removeDataStore()}},0,["orderlist-rad-workspace"],["component","box","container","panel","orderlist-rad-workspace"],{component:true,box:true,container:true,panel:true,"orderlist-rad-workspace":true},["widget.orderlist-rad-workspace"],0,[layanan.radiologi.orderlist,"Workspace"],0));(Ext.cmd.derive("layanan.radiologi.orderlist.WorkspaceController",Ext.app.ViewController,{onOrderSelected:function(g,l){var n=this,k=n.getReferences(),t=n.getViewModel().get("kunjungan"),m=l.get("STATUS");k.orderraddetil.hideCommandButtons({hideBatalOrder:true,hideLihatHasil:m!=2});k.orderraddetil.loadStore(t,l)}},0,0,0,0,["controller.orderlist-rad-workspace"],0,[layanan.radiologi.orderlist,"WorkspaceController"],0));(Ext.cmd.derive("layanan.radiologi.riwayat.Workspace",Ext.panel.Panel,{controller:"riwayat-rad-workspace",viewModel:{},layout:"border",initComponent:function(){var e=this;e.items=[{region:"west",title:"Daftar Kunjungan Radiologi",xtype:"kunjungan-list",flex:0.5,margin:"0 2 0 0",split:true,collapsible:true,reference:"riwayatlist",listeners:{select:"onSelect"}},{xtype:"workspace-hasil-rad",region:"center",reference:"hasilrad",width:2}];e.callParent(arguments)},load:function(e){var t=this,l=t.down("[reference=riwayatlist]"),f=t.down("[reference=hasilrad]"),k=e.get("REFERENSI")?e.get("REFERENSI"):null,g=k?(k.PENDAFTARAN?k.PENDAFTARAN.NORM:0):0;f.setFormConfig({viewOnly:true,simpan:false,cetak:false});f.load(null);l.hideColumnConfig({action:true});l.loadStore({NORM:g,JENIS_KUNJUNGAN:5,HISTORY:1,STATUS:2})}},0,["riwayat-rad-workspace"],["component","box","container","panel","riwayat-rad-workspace"],{component:true,box:true,container:true,panel:true,"riwayat-rad-workspace":true},["widget.riwayat-rad-workspace"],0,[layanan.radiologi.riwayat,"Workspace"],0));(Ext.cmd.derive("layanan.radiologi.riwayat.WorkspaceController",Ext.app.ViewController,{onSelect:function(e,g){var f=this,o=f.getReferences();o.hasilrad.load(g)}},0,0,0,0,["controller.riwayat-rad-workspace"],0,[layanan.radiologi.riwayat,"WorkspaceController"],0));(Ext.cmd.derive("layanan.radiologi.terimaorder.List",com.Grid,{controller:"terima-rad-list",viewModel:{data:{inProses:false,confDering:{valDering:false,statusRing:"Off"},dering:""},stores:{store:{type:"order-rad-store"}}},ui:"panel-black",title:"Pengunjung Radiologi",iconCls:"x-fa fa-odnoklassniki-square",header:{items:[{xtype:"search-field",emptyText:"[NORM]",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}},{xtype:"button",iconCls:"x-fa fa-cog",ui:"soft-black",tooltip:"Pilihan",arrowVisible:false,menu:[{text:"Notifikasi Dering",iconCls:"x-fa fa-volume-up",menu:[{xtype:"checkbox",margin:"2.2.2.2",reference:"statusdering",inputValue:true,uncheckedValue:false,bind:{boxLabel:"{confDering.statusRing}"},name:"SONG",listeners:{change:"onChangeRingtone"}},{xtype:"panel",bind:{html:"{dering}"}}]}]}]},hideHeaders:true,first:true,columns:[{xtype:"templatecolumn",flex:2,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[this.getFormatNorm(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NORM)]} - {[this.getNamaLengkap(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN)]}</div>',"<div>{[this.getFormatPendaftaran(values.REFERENSI.KUNJUNGAN.NOPEN)]} - {[this.tanggalFormat(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.TANGGAL)]}</div>",'<div style="font-size: 12px; white-space:normal !important;">{NOMOR} - {[this.tanggalFormat(values.TANGGAL)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Asal: {[this.getAsal(values.REFERENSI.KUNJUNGAN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Tujuan: {[this.getTujuan(values.REFERENSI.TUJUAN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.getDokterAsal(values.REFERENSI.DOKTER_ASAL)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Penjamin: {[this.getPenjamin(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.PENJAMIN)]}</div>',{getFormatNorm:function(f){var e=Ext.String.leftPad(f,8,"0"),g=Ext.String.insert(Ext.String.insert(Ext.String.insert(e,".",2),".",5),".",8);return g},getNamaLengkap:function(o){var g=o.GELAR_DEPAN||"",k=o.NAMA||"",f=o.GELAR_BELAKANG||"";g=g==""?"":g+". ";f=f==""?"":", "+f;return g+k+f},getDokterAsal:function(e){var f=e?(e.NAMA||""):"";return f},getFormatPendaftaran:function(e){return e.substring(0,6)+"."+e.substring(6)},tanggalFormat:function(f){var e=Ext.isDate(f)?f:Ext.Date.parse(f,"Y-m-d H:i:s");return Ext.Date.format(e,"d-m-Y H:i:s")},getAsal:function(t){var p=t.REFERENSI,u=t.JENIS_KUNJUNGAN==3,n=p?(p.RUANGAN?p.RUANGAN.DESKRIPSI:""):"",m=p&&u?p.RUANG_KAMAR_TIDUR:null,B=m?m.REFERENSI.RUANG_KAMAR:null,q=m?m.TEMPAT_TIDUR:"",o=B?B.KAMAR:"",s=B?(B.REFERENSI.KELAS?B.REFERENSI.KELAS.DESKRIPSI:""):"",l=n+(u?"</br>"+o+" / "+q+" / "+s:"");return l},getTujuan:function(g){var e=g?g:null,f=e?e.DESKRIPSI:"";return f},getPenjamin:function(e){var g=e.REFERENSI,f=g.KAP,o=f.REFERENSI.PENJAMIN.DESKRIPSI+(f.NOMOR==""?"":"-"+f.NOMOR)+" [ Kls. "+(g.KELAS?g.KELAS.DESKRIPSI:"")+" - SEP. "+e.NOMOR+" ]";return o}})},{xtype:"widgetcolumn",text:"Status",flex:1,align:"right",widget:{xtype:"fieldcontainer",defaults:{padding:2},items:[{xtype:"button",text:"Terima",action:0,margin:"0 1 0 0",handler:"onTerima"},{xtype:"button",text:"Batal",action:1,ui:"soft-red",handler:"onBatal"}]}}],onBeforeLoad:function(g,f,o){var e=f.get("config");if(g.first){g.first=false}f.set("config",e);g.setParams({COLUMNS:'["NOMOR","KUNJUNGAN","TANGGAL","DOKTER_ASAL","TUJUAN","STATUS"]',REFERENSI:Ext.JSON.encode({Kunjungan:{COLUMNS:["NOMOR","NOPEN","JENIS_KUNJUNGAN","RUANGAN","RUANG_KAMAR_TIDUR","STATUS"],REFERENSI:{Ruangan:{},RuangKamarTidur:{REFERENSI:{RuangKamar:{REFERENSI:{Kelas:true}}}},Pendaftaran:{COLUMNS:["NOMOR","NORM","TANGGAL"],REFERENSI:{Pasien:{COLUMNS:["NORM","GELAR_DEPAN","NAMA","GELAR_BELAKANG","JENIS_KELAMIN","TANGGAL_LAHIR","TEMPAT_LAHIR"]},Penjamin:{REFERENSI:{Kelas:true,KAP:true}}}}}},Dokter:true,Ruangan:{COLUMNS:["DESKRIPSI"]}})})},doAfterLoad:function(e,f,g,o){e.setStatusRingTone()},setStatusRingTone:function(){var x=this,m=this.getViewModel(),f=m.get("confDering")||{},g=m.get("store"),l=(g)?g.count():0,n=location.origin+location.pathname,k=Ext.util.Cookies.get("PengunjungRadDering"),e=k?Ext.JSON.decode(Ext.util.Base64.decode(k)):false;if(e){f=Ext.apply(f,e);m.set("confDering",f);x.getReferences().statusdering.setValue(e.valDering)}if(f.valDering!=true){m.set("dering","")}else{if(l>0){m.set("dering",'<audio src="'+n+'resources/ringtone/dering.mp3" autoplay="autoplay" loop></audio>')}else{m.set("dering","")}}}},0,["terima-rad-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","terima-rad-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"terima-rad-list":true},["widget.terima-rad-list"],0,[layanan.radiologi.terimaorder,"List"],0));(Ext.cmd.derive("layanan.radiologi.terimaorder.ListController",Ext.app.ViewController,{filter:{norm:"",tanggal:{checked:false,value:new Date()}},orderSelected:{property:"TANGGAL",direction:"ASC"},onSearch:function(e,f){this.filter.norm=f;this.cari()},onClear:function(){this.filter.norm="";this.cari()},onChange:function(q,f){var e=this,g=e.getView(),k=g.down("search-field");if(f==""){k.onClearClick()}},onTerima:function(k){var t=this,g=t.getView(),l=t.getViewModel(),f=k.ownerCt.getWidgetRecord(),e=f.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NAMA;g.waitRefresh=true;g.showMessageBox({title:"Penerimaan Order Radiologi",message:"Anda yakin ingin menerima Order Radiologi Pasien An. "+e+" ?",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:k,fn:function(m){if(m==="yes"){l.set("inProses",true);var n=Ext.create("data.model.Kunjungan",{NOPEN:f.get("REFERENSI").KUNJUNGAN.NOPEN,RUANGAN:f.get("TUJUAN"),REF:f.get("NOMOR"),STATUS:1});n.showError=true;n.animateTarget=m;n.scope=t;n.save({callback:function(q,o,p){g.waitRefresh=false;if(p){g.remove(k.ownerCt);g.notifyMessage("Penerimaan Pasien Order Radiologi An. "+e+" berhasil");g.fireEvent("terima",f);g.refresh()}l.set("inProses",false)}})}else{g.waitRefresh=false;l.set("inProses",false)}}})},onBatal:function(l){var t=this,k=t.getView(),g=l.ownerCt.getWidgetRecord(),f=g.get("STATUS"),e=g.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NAMA;k.waitRefresh=true;g.showError=true;g.animateTarget=l;g.scope=t;k.showMessageBox({title:"Pembatalan Penerimaan Order Radiologi",message:"Anda yakin ingin membatalkan penerimaan Order Radiologi Pasien An. "+e+" ?",ui:"window-warning",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:l,fn:function(m){if(m==="yes"){g.set("STATUS",0);g.save({callback:function(p,n,o){k.waitRefresh=false;if(o){k.remove(l.ownerCt);k.notifyMessage("Pembatalan penerimaan Order Radiologi Pasien An. "+e+" berhasil");k.refresh()}else{g.set("STATUS",f)}}})}else{k.waitRefresh=false;g.set("STATUS",f)}}})},onChangeRingtone:function(q,k,g){var f=this,e=f.getViewModel();confDering=e.get("confDering")||{},obj={valDering:k,statusRing:(k)?"On":"Off"};valBase=Ext.util.Base64.encode(Ext.JSON.encode(obj));Ext.util.Cookies.set("PengunjungRadDering",valBase);f.getView().setStatusRingTone()},privates:{cari:function(){var f=this,o=f.getView(),e=o.down("pagingtoolbar"),g={sort:Ext.JSON.encode(f.orderSelected)};if(f.filter.norm==""){delete o.getStore().queryParams.NORM}else{g.NORM=f.filter.norm}if(!f.filter.tanggal.checked){delete o.getStore().queryParams.TANGGAL}else{g.TANGGAL=Ext.Date.format(f.filter.tanggal.value,"Y-m-d")}o.setParams(g);if(e){e.moveFirst()}else{o.load()}}}},0,0,0,0,["controller.terima-rad-list"],0,[layanan.radiologi.terimaorder,"ListController"],0));(Ext.cmd.derive("layanan.radiologi.widget.Orders",Ext.Container,{layout:"fit",items:[{xtype:"terima-rad-list",reference:"terimaradlist",viewConfig:{loadMask:false},listeners:{terima:"onTerima"}}],loadStore:function(e){var f=this.down("terima-rad-list");f.loadStore(e)},refresh:function(){this.down("terima-rad-list").refresh()}},0,["radiologi-widget-orders"],["component","box","container","radiologi-widget-orders"],{component:true,box:true,container:true,"radiologi-widget-orders":true},["widget.radiologi-widget-orders"],0,[layanan.radiologi.widget,"Orders"],0));(Ext.cmd.derive("layanan.resep.Workspace",com.Tab,{controller:"resep-workspace",activeTab:0,cls:"x-br-top",ui:"header-tab",kunjungan:undefined,order:undefined,initComponent:function(){var f=this;f.callParent(arguments);var e=f.app.xpriv("110305"),g=f.app.xpriv("110606");if(e){f.order=f.add({title:"Order",xtype:"order-resep-workspace",listeners:{kirim:"onKirim",reopen:"onReopen"}});f.add({title:"Daftar Order",xtype:"orderlist-resep-workspace",reference:"orderlistresepworkspace"})}if(g){f.add({title:"Riwayat",xtype:"riwayat-resep-workspace"})}},load:function(g){var f=this,o=this.getActiveTab(),e=0;this.kunjungan=g;if(g.get("STATUS")!=1){e=1}f.order.setHidden(e>0);f.order.setDisabled(e>0);if(o){o.load(g)}else{if(f.items.getCount()>0){f.setActiveTab(e)}}},listeners:{tabchange:"onTabChange"}},0,["resep-workspace"],["component","box","container","panel","tabpanel","com-tab","resep-workspace"],{component:true,box:true,container:true,panel:true,tabpanel:true,"com-tab":true,"resep-workspace":true},["widget.resep-workspace"],0,[layanan.resep,"Workspace"],0));(Ext.cmd.derive("layanan.resep.WorkspaceController",Ext.app.ViewController,{onKirim:function(e){var f=this;refs=f.getReferences();refs.orderlistresepworkspace.refresh()},onReopen:function(e){this.getView().fireEvent("reopen",e)},onTabChange:function(f,e){var g=this.getView().kunjungan;if(e.load){e.load(g)}}},0,0,0,0,["controller.resep-workspace"],0,[layanan.resep,"WorkspaceController"],0));(Ext.cmd.derive("layanan.resep.order.Detil",com.Grid,{controller:"order-resep-detil",viewModel:{data:{columnCommandConfig:{hideBatalOrder:false}},stores:{store:{type:"order-detil-resep-store",pageSize:1000}}},title:"Order Detil",bind:{store:"{store}"},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Jenis Obat",dataIndex:"GROUP_RACIKAN",sortable:false,renderer:"onRenderRacikan",width:100},{xtype:"templatecolumn",text:"Nama Obat",flex:2,sortable:false,tpl:"<div>{REFERENSI.BARANG.REFERENSI.BARANG.NAMA}</div>"},{text:"Jumlah",dataIndex:"JUMLAH",sortable:false,width:75},{text:"Aturan Pakai",dataIndex:"ATURAN_PAKAI",sortable:false,renderer:"onRenderAturanPakai",flex:1},{text:"Keterangan",dataIndex:"KETERANGAN",sortable:false,flex:1},{xtype:"widgetcolumn",align:"center",text:"Status",width:110,widget:{xtype:"fieldcontainer",flex:1,defaults:{padding:2},items:[{xtype:"button",action:0,iconCls:"x-fa fa-minus-circle",ui:"soft-red",handler:"onBatalOrder",bind:{hidden:"{columnCommandConfig.hideBatalOrder}"}}]}}],loadStore:function(q,l){var f=this,k=f.getViewModel(),g=k.get("store");if(g){g.queryParams=g.queryParams||{};if(q){g.queryParams.ORDER_ID=l.get("NOMOR");if(!k.get("kunjungan")){k.set("kunjungan",q)}if(!k.get("order")){k.set("order",l)}}g.load()}},getData:function(){var e=this,f=e.getViewModel().get("store"),g=[];f.each(function(k){g.push(k.data)});return g},addRow:function(g){var e=this,f=e.getViewModel().get("store");f.add(g)},removeDataStore:function(){this.getViewModel().get("store").removeAll()},removeAnotherModels:function(){var g=this.getViewModel().get("store"),f=[];g.each(function(k){if(Ext.getClassName(k)!="data.model.OrderDetilResep"){f.push(k)}});var e=new Ext.util.DelayedTask(function(){g.remove(f)});e.delay(100)}},0,["order-resep-detil"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","order-resep-detil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"order-resep-detil":true},["widget.order-resep-detil"],0,[layanan.resep.order,"Detil"],0));(Ext.cmd.derive("layanan.resep.order.DetilController",Ext.app.ViewController,{onBatalOrder:function(g){var f=this,e=f.getStore("store"),o=g.ownerCt.getWidgetRecord();e.remove(o)},onRenderAturanPakai:function(k,f,e){var t=e.get("ATURAN_PAKAI");if(Ext.isNumeric(t)){var l=e.get("REFERENSI"),g=l?(l.ATURANPAKAI?l.ATURANPAKAI.DESKRIPSI:""):"";return g}else{var l=e.get("ATURAN_PAKAI");return'<span style="color:black;">'+l+"</span>"}},onRenderRacikan:function(k,f,e){var t=e.get("RACIKAN"),l=e.get("GROUP_RACIKAN"),g=e.get("JUMLAH_RACIKAN");if(t>0){return'<span style="color:green;"> Racikan['+l+"]| ["+g+"]</span>"}else{return'<span style="color:black;"> Non Racik </span>'}}},0,0,0,0,["controller.order-resep-detil"],0,[layanan.resep.order,"DetilController"],0));(Ext.cmd.derive("layanan.resep.order.Form",com.Form,{viewModel:{data:{record:undefined,formConfig:{readOnly:true}}},layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 1 2 0"},bodyPadding:5,initComponent:function(){var e=this,f=new Date();e.items=[{xtype:"container",layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 2 1 0"},items:[{name:"TANGGAL",reference:"tanggal",width:200,xtype:"datefield",emptyText:"[Pilih Tanggal Order]",format:"d/m/Y"},{name:"WAKTU",reference:"waktu",width:105,xtype:"timefield",emptyText:"[Jam:Mnt:Dtk]",bind:{readOnly:"{formConfig.readOnly}"},format:"H:i:s",hideTrigger:true},{xtype:"hiddenfield",flex:1,emptyText:"[ Depo Asal ]",name:"KUNJUNGAN"},{xtype:"ruangan-farmasi-combo",params:{STATUS:1},flex:1,hideTrigger:false,bind:{readOnly:"{formConfig.readOnly}"},reference:"ruanganfarmasicombo",forceSelection:true,selectOnTab:true,allowBlank:false,name:"TUJUAN",listeners:{select:"onSelectTujuanResep",blur:"onBlurTujuanResep"}},{xtype:"textfield",flex:1,emptyText:"[ Pemberi Resep ]",reference:"pemberiresep",name:"PEMBERI_RESEP"},{xtype:"dokter-combo",emptyText:"[Dokter DPJP]",flex:1,reference:"doktercombo",name:"DOKTER_DPJP"},{xtype:"numberfield",emptyText:"[ BB (kg) ]",width:125,reference:"beratbadan",hideTrigger:true,name:"BERAT_BADAN"},{xtype:"numberfield",emptyText:"[ TB (cm) ]",width:125,reference:"tinggibadan",hideTrigger:true,name:"TINGGI_BADAN"},{xtype:"textfield",emptyText:"[Alergi Obat]",flex:1,reference:"alergiobat",name:"ALERGI_OBAT"}]},{xtype:"container",layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 35 0 0"},items:[{flex:1,name:"DIAGNOSA",reference:"diagnosa",xtype:"textfield",margin:"0 15 0 0",emptyText:"[ Diagnosa ]"},{xtype:"fieldcontainer",fieldLabel:"Gangguan Fungsi GInjal",labelWidth:175,defaultType:"radiofield",layout:"hbox",items:[{boxLabel:"Ya ",name:"GANGGUAN_FUNGSI_GINJAL",inputValue:"1",width:50},{boxLabel:"Tidak",name:"GANGGUAN_FUNGSI_GINJAL",inputValue:"0"}]},{xtype:"fieldcontainer",fieldLabel:"Menyusui",defaultType:"radiofield",layout:"hbox",labelWidth:70,items:[{boxLabel:"Ya  ",name:"MENYUSUI",inputValue:"1",width:50},{boxLabel:"Tidak",name:"MENYUSUI",inputValue:"0"}]},{xtype:"fieldcontainer",fieldLabel:"Hamil",defaultType:"radiofield",layout:"hbox",labelWidth:50,items:[{boxLabel:"Ya ",name:"HAMIL",inputValue:"1",width:50},{boxLabel:"Tidak",name:"HAMIL",inputValue:"0"}]},{xtype:"checkbox",fieldLabel:"Resep Pasien Pulang",boxLabel:"Ya",labelWidth:130,name:"RESEP_PASIEN_PULANG",inputValue:"1"}]}];e.callParent(arguments)},loadRecord:function(m){try{var o=this,D=o.getForm().loadRecord(m);if(m){var s=o.down("[reference=waktu]"),n=o.down("[reference=ruanganfarmasicombo]"),k=o.down("[reference=doktercombo]"),p=m.get("REFERENSI");s.setValue(m.get("TANGGAL"));o.getViewModel().set("record",m);if(p){var u=p.KUNJUNGAN,q=u.REFERENSI,t=Ext.create("data.model.Dokter",q.PENDAFTARAN.TUJUAN.REFERENSI.DOKTER||{});n.params.RUANGAN=u.RUANGAN;k.params.RUANGAN=u.RUANGAN;k.select(t)}n.load()}return D}catch(l){}},getRecord:function(){return this.getViewModel().get("record")},setFormConfig:function(f){var g=this,e=g.getViewModel();_config=e.get("formConfig");f=Ext.apply(_config,f);e.set("formConfig",f);e.notify()},getFormData:function(){var f=this,e=f.getForm().getValues();tgl=f.down("[reference=tanggal]").getValue(),wkt=f.down("[reference=waktu]").getValue(),bb=f.down("[reference=beratbadan]").getValue(),tb=f.down("[reference=tinggibadan]").getValue();tgl.setHours(wkt.getHours());tgl.setMinutes(wkt.getMinutes());tgl.setSeconds(wkt.getSeconds());e.TANGGAL=tgl;e.BERAT_BADAN=bb;e.TINGGI_BADAN=tb;console.log(e);return e},focus:function(f,e){this.down("[reference=ruanganfarmasicombo]").focus(f,e)}},0,["order-resep-form"],["component","box","container","panel","form","com-form","order-resep-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"order-resep-form":true},["widget.order-resep-form"],0,[layanan.resep.order,"Form"],0));(Ext.cmd.derive("layanan.resep.order.Paket",com.Form,{model:"data.model.PermintaanDetil",viewModel:{stores:{paketstore:{type:"tindakan-paket-farmasi-store"}}},layout:"fit",items:[{xtype:"list-master-tindakan-paket",flex:1,reference:"reseppaketlist",listeners:{orderpaket:"onOrderPaket"}}],onLoadRecord:function(){var f=this,e=f.down("list-master-tindakan-paket");e.onLoadRecord(1)},getData:function(){var f=this,e=f.down("list-master-tindakan-paket");a=f.getViewModel().get("paketstore"),rec=Ext.create("data.model.OrderDetilResep"),c=[];a.each(function(k){var g={FARMASI:k.data.BARANG,JUMLAH:k.data.JUMLAH,REFERENSI:{BARANG:{REFERENSI:k.data.REFERENSI},JUMLAH:k.data.JUMLAH}};c.push(g);rec.set(c)});return c}},0,["order-resep-paket"],["component","box","container","panel","form","com-form","order-resep-paket"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"order-resep-paket":true},["widget.order-resep-paket"],0,[layanan.resep.order,"Paket"],0));(Ext.cmd.derive("layanan.resep.order.Resep",Ext.tab.Panel,{activeTab:0,border:true,cls:"x-br-top",ui:"header-tab",items:[{title:"Non Racik",xtype:"order-resep-non-racik-form",flex:1,reference:"orderresepnonracik",listeners:{buatresep:"onBuatResep"}},{title:"Racikan",xtype:"order-resep-racikan-workspace",reference:"orderresepracikan",flex:1},{title:"Paket",xtype:"order-resep-paket",reference:"orderreseppaket",flex:1}],setTujuan:function(g){var f=this.down("order-resep-non-racik-form"),o=this.down("order-resep-racikan-workspace"),e=this.down("order-resep-paket");f.setTujuan(g);o.setTujuan(g);e.onLoadRecord({})}},0,["order-resep"],["component","box","container","panel","tabpanel","order-resep"],{component:true,box:true,container:true,panel:true,tabpanel:true,"order-resep":true},["widget.order-resep"],0,[layanan.resep.order,"Resep"],0));(Ext.cmd.derive("layanan.resep.order.Tujuan",Ext.form.Panel,{layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 1 2 0"},bodyPadding:5,initComponent:function(){var e=this,f=new Date();e.items=[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"ruangan-farmasi-combo",flex:1,reference:"orderreseptujuan",allowBlank:false,name:"TUJUAN"},{name:"TANGGAL",reference:"tanggal",width:200,xtype:"datefield",format:"d/m/Y",maxValue:f,value:f}]}];e.callParent(arguments)}},0,["order-resep-tujuan"],["component","box","container","panel","form","order-resep-tujuan"],{component:true,box:true,container:true,panel:true,form:true,"order-resep-tujuan":true},["widget.order-resep-tujuan"],0,[layanan.resep.order,"Tujuan"],0));(Ext.cmd.derive("layanan.resep.order.Workspace",com.Form,{controller:"order-resep-workspace",viewModel:{},layout:"border",items:[{region:"north",title:"Form Order",xtype:"order-resep-form",border:false,bodyPadding:2,reference:"orderresepform"},{region:"center",xtype:"order-resep",flex:1,reference:"orderresep"},{region:"east",xtype:"order-resep-detil",flex:2,reference:"orderresepdetil",collapsible:true,split:true}],buttons:[{text:"Kirim Order",ui:"soft-green",reference:"btnkirimorderresep",bind:{hidden:"{isFinal}"},tooltip:{text:"Kirim Order",mouseOffset:[50,-65]},iconCls:"x-fa fa-share",handler:"onKirimOrderResep"},{text:"Reset",ui:"soft-blue",reference:"btnresetorderresep",bind:{hidden:"{isFinal}"},tooltip:{text:"Reset",mouseOffset:[50,-65]},iconCls:"x-fa fa-refresh",handler:"onReset"}],load:function(t){var e=this,l=e.down("order-resep-form"),k=e.getReferences(),f={};if(t){if(Ext.getClassName(t)=="data.model.Kunjungan"){var g=t.get("STATUS")!=1;f={KUNJUNGAN:t.get("NOMOR"),REFERENSI:{KUNJUNGAN:t.data},TANGGAL:e.getSysdate()};k.orderresepform.setFormConfig({readOnly:g,tanggal:t.get("MASUK")})}k.orderresepform.loadRecord(Ext.create("data.model.OrderResep",f));k.orderresepform.focus(false,100)}},getFormData:function(){var o=this.down("[reference=orderresepform]"),f=this.down("[reference=orderresepdetil]"),g=o.getFormData(),e=f.getData();g.ORDER_DETIL=e;return{ORDER_RESEP:g}}},0,["order-resep-workspace"],["component","box","container","panel","form","com-form","order-resep-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"order-resep-workspace":true},["widget.order-resep-workspace"],0,[layanan.resep.order,"Workspace"],0));(Ext.cmd.derive("layanan.resep.order.WorkspaceController",Ext.app.ViewController,{groupracikan:1,onSelectTujuanResep:function(f,o){var g=this,e=g.getReferences();e.orderresep.setTujuan(o)},onBlurTujuanResep:function(e){if(e.getSelection()==null){this.onSelectTujuanResep(e,null)}},onBuatResep:function(e){var g=this,f=g.getReferences();rec=g.getReferences().orderresepnonracik.getRecord();f.orderresepdetil.addRow(rec);f.orderresepnonracik.reset();f.orderresepnonracik.focus()},onOrderPaket:function(e){var g=this,f=g.getReferences();rec=g.getReferences().orderreseppaket.getData();console.log(rec);f.orderresepdetil.addRow(rec)},onBuatResepRacikan:function(g){var f=this,e=f.getReferences().orderresepracikan;if(e.getForm().isValid()){this.simpanracikan(g,function(k,m,l){if(k){e.getView().fireEvent("simpansuccess",g,m,true,l,false)}})}},onDropTindakan:function(n,t,l,k){var g=this,m=g.getReferences();Ext.Array.each(t.records,function(e,f){e=Ext.create("data.model.OrderDetilRad",{TINDAKAN:e.get("ID"),REFERENSI:{TINDAKAN:e.data}});m.orderraddetil.addRow(e)});m.orderraddetil.removeAnotherModels()},simpanracikan:function(D,q){var m=this,k=0,n=m.getReferences(),p=m.getReferences().orderresepracikan,o=n.resepracikandetil.getFormData(),e=n.resepracikanform.getFormData();var g=[];for(k=0;k<e.length;k++){var l=Ext.create("data.model.OrderDetilResep",e[k]),f=l.get("REFERENSI");f.ATURANPAKAI=o.REFERENSI.ATURANPAKAI;l.set("GROUP_RACIKAN",m.groupracikan);l.set("ATURAN_PAKAI",o.ATURAN_PAKAI);l.set("KETERANGAN",o.KETERANGAN);l.set("PETUNJUK_RACIKAN",o.PETUNJUK_RACIKAN);l.set("JUMLAH_RACIKAN",o.JUMLAH_RACIKAN);n.orderresepdetil.addRow(l)}m.groupracikan++;p.reset()},onKirimOrderResep:function(g){var v=this,o=v.getView(),k=v.getReferences(),l=k.orderresepform.getFormData(),n=k.orderresepdetil.getData();o.setLoading(true);if(k.orderresepform.isValid()&&n.length>0){var m=k.orderresepform.getRecord();if(m){l.ORDER_DETIL=n;m.set(l);m.animateTarget=g;m.scope=v;m.showError=true;m.save({callback:function(f,q,s){if(s){var e=o.app.xpriv("110109");if(e){var p=Ext.create("data.model.Kunjungan",{NOPEN:f.get("REFERENSI").KUNJUNGAN.NOPEN,RUANGAN:f.get("TUJUAN"),REF:f.get("NOMOR"),STATUS:1});p.showError=true;p.animateTarget=g;p.scope=v;p.save({callback:function(x,t,u){if(u){o.fireEvent("reopen",x)}o.setLoading(false)}})}else{Ext.toast({html:"Order anda telah terkirim ke tujuan",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});v.getView().fireEvent("kirim",f);o.setLoading(false)}v.onReset()}else{o.setLoading(false)}}})}else{o.setLoading(false)}}else{o.setLoading(false)}},onReset:function(){var e=this,f=e.getReferences(),g=f.orderresepnonracik.getRecord();f.orderresepnonracik.reset();f.orderresepform.reset();f.orderresepform.loadRecord(Ext.create("data.model.OrderResep",{KUNJUNGAN:g.get("NOMOR"),REFERENSI:{KUNJUNGAN:g.get("REFERENSI").KUNJUNGAN},TANGGAL:e.getView().getSysdate()}));f.orderresepform.focus(false,100);f.orderresepdetil.removeDataStore()}},0,0,0,0,["controller.order-resep-workspace"],0,[layanan.resep.order,"WorkspaceController"],0));(Ext.cmd.derive("layanan.resep.order.nonracikan.Form",Ext.form.Panel,{controller:"order-resep-non-racik-form",layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 1 5 0"},bodyPadding:5,initComponent:function(){var e=this,f=new Date();e.items=[{xtype:"hiddenfield",name:"ORDER_ID"},{xtype:"hiddenfield",name:"RACIKAN",value:0},{xtype:"container",layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 2 1 0"},items:[{xtype:"barang-combo",flex:1,hideTrigger:true,reference:"barangcombo",allowBlank:false,name:"FARMASI",params:{STATUS:1,RUANGAN:""}},{name:"JUMLAH",reference:"jumlah",xtype:"numberfield",minValue:0,allowBlank:false,hideTrigger:true,emptyText:"[ Jumlah ]",width:100}]},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"referensi-combo",params:{JENIS:41,STATUS:1},minChars:2,name:"ATURAN_PAKAI",queryMode:"remote",queryParam:"QUERY",reference:"aturanpakai",emptyText:"[ Aturan Pakai ]",hideTrigger:true,typeAhead:true,forceSelection:false,flex:1,listeners:{beforequery:"onBeforeQuery"}}]},{name:"KETERANGAN",reference:"keterangan",xtype:"textarea",emptyText:"[ Keterangan ]",flex:1}],e.buttons=[{text:"Buat Resep",ui:"soft-green",reference:"btnkirim",tooltip:"Simpan Resep",iconCls:"x-fa fa-share",handler:"onBuatResep"}];e.callParent(arguments)},loadRecord:function(f){try{var o=this,k=o.getForm().loadRecord(f);if(f){this.down("barang-combo").focus()}return k}catch(g){}},getRecord:function(){var l=this.down("barang-combo").getSelection(),k=this.down("[reference=jumlah]").getValue(),g=this.down("[reference=keterangan]").getValue(),f=this.down("[reference=aturanpakai]").getValue(),q=this.down("referensi-combo").getSelection();rec=Ext.create("data.model.OrderDetilResep",{REFERENSI:{RACIKAN:{ID:0,DESKRIPSI:"Non Racikan"}}}),ref=rec.get("REFERENSI");if(l){br=l.get("BARANG"),rec.set("FARMASI",br);ref.BARANG=l.data;rec.set("REFERENSI",ref)}if(q){br=q.get("ID"),rec.set("ATURAN_PAKAI",br);ref.ATURANPAKAI=q.data;rec.set("REFERENSI",ref)}if(f){ref.ATURAN_PAKAI=f;rec.set("ATURAN_PAKAI",f)}if(k){ref.JUMLAH=k;rec.set("JUMLAH",k)}if(g){ref.KETERANGAN=g;rec.set("KETERANGAN",g)}return rec},setTujuan:function(f){var e=this.down("barang-combo");e.getStore().removeAll();e.params.RUANGAN="";if(f){e.params.RUANGAN=f.get("FARMASI")}}},0,["order-resep-non-racik-form"],["component","box","container","panel","form","order-resep-non-racik-form"],{component:true,box:true,container:true,panel:true,form:true,"order-resep-non-racik-form":true},["widget.order-resep-non-racik-form"],0,[layanan.resep.order.nonracikan,"Form"],0));(Ext.cmd.derive("layanan.resep.order.nonracikan.FormController",Ext.app.ViewController,{onBuatResep:function(){var f=this,e=f.getView();if(e.getForm().isValid()){this.getView().fireEvent("buatresep")}},onBeforeQuery:function(e){e.combo.getStore().removeAll()}},0,0,0,0,["controller.order-resep-non-racik-form"],0,[layanan.resep.order.nonracikan,"FormController"],0));(Ext.cmd.derive("layanan.resep.order.racikan.Detil",Ext.form.Panel,{controller:"order-resep-racik-detil",layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 1 5 0"},bodyPadding:5,initComponent:function(){var e=this;e.items=[{xtype:"referensi-combo",params:{JENIS:41,STATUS:1},minChars:1,name:"ATURAN_PAKAI",queryMode:"remote",queryParam:"QUERY",reference:"aturanpakai",emptyText:"[ Aturan Pakai ]",hideTrigger:true,typeAhead:true,forceSelection:false,flex:1,listeners:{beforequery:"onBeforeQuery"}},{layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 2 1 0"},items:[{xtype:"referensi-combo",params:{JENIS:84,STATUS:1},name:"PETUNJUK_RACIKAN",reference:"petunjukracikan",emptyText:"[ Petunjuk Peracikan ]",firstLoad:true,flex:2},{name:"JUMLAH_RACIKAN",reference:"jumlah_racikan",xtype:"numberfield",minValue:0,allowBlank:false,hideTrigger:true,emptyText:"[ Jumlah Racikan ]",flex:1}]},{flex:1,name:"KETERANGAN",reference:"keterangan",xtype:"textarea",emptyText:"[ Keterangan ]"}];e.callParent(arguments)},getFormData:function(){var f=this.down("[name=ATURAN_PAKAI]").getSelection(),e=this.getForm().getValues();if(f){e.REFERENSI={ATURANPAKAI:f.data}}return e}},0,["order-resep-racik-detil"],["component","box","container","panel","form","order-resep-racik-detil"],{component:true,box:true,container:true,panel:true,form:true,"order-resep-racik-detil":true},["widget.order-resep-racik-detil"],0,[layanan.resep.order.racikan,"Detil"],0));(Ext.cmd.derive("layanan.resep.order.racikan.DetilController",Ext.app.ViewController,{onBeforeQuery:function(e){e.combo.getStore().removeAll()}},0,0,0,0,["controller.order-resep-racik-detil"],0,[layanan.resep.order.racikan,"DetilController"],0));(Ext.cmd.derive("layanan.resep.order.racikan.Form",Ext.form.Panel,{controller:"order-resep-racik-form",viewModel:{data:{ruangan:undefined}},layout:{type:"vbox",align:"stretch"},scrollable:true,items:[{xtype:"order-resep-racik",hideDelete:true}],loadRecord:function(f){try{var o=this,k=o.getForm().loadRecord(f);if(f){this.down("barang-combo").focus()}return k}catch(g){}},getFormData:function(){var e=[];this.items.each(function(g){var f=g.getFormData();if(f){e.push(f)}});return e.length>0?e:null},setTujuan:function(f){var e=this.down("order-resep-racik");this.getViewModel().set("ruangan",f);e.setTujuan(f)}},0,["order-resep-racik-form"],["component","box","container","panel","form","order-resep-racik-form"],{component:true,box:true,container:true,panel:true,form:true,"order-resep-racik-form":true},["widget.order-resep-racik-form"],0,[layanan.resep.order.racikan,"Form"],0));(Ext.cmd.derive("layanan.resep.order.racikan.FormController",Ext.app.ViewController,{onFocusEnter:function(e,f){if(f.getKey()===f.ENTER){var g=this.getView(),q=this.getViewModel().get("ruangan"),k=Ext.create("layanan.resep.order.racikan.Racikan",{});g.add(k);if(q){k.setTujuan(q)}k.down("combobox").focus()}},onDelete:function(e){this.getView().remove(e.ownerCt)},onBeforeQuery:function(e){e.combo.getStore().removeAll()}},0,0,0,0,["controller.order-resep-racik-form"],0,[layanan.resep.order.racikan,"FormController"],0));(Ext.cmd.derive("layanan.resep.order.racikan.Racikan",Ext.form.Panel,{layout:{type:"hbox",align:"stretch"},defaults:{margin:"0 2 1 0"},bodyPadding:5,hideDelete:false,initComponent:function(){var e=this,f=new Date();e.items=[{xtype:"barang-combo",params:{STATUS:1,RUANGAN:""},hideTrigger:true,reference:"barangcombo",allowBlank:false,name:"FARMASI",width:300},{name:"JUMLAH",reference:"jumlah",xtype:"numberfield",allowBlank:false,minValue:0,value:0,emptyText:"[ Jumlah ]",flex:1,listeners:{specialkey:"onFocusEnter"}},{xtype:"button",ui:"soft-red",hidden:e.hideDelete,iconCls:"x-fa fa-times",handler:"onDelete"}];e.callParent(arguments)},getFormData:function(){var g=this.getForm().getValues(),f=this.down("barang-combo").getSelection(),e=this.down("[reference=jumlah]").getValue(),q=e,k=g.FARMASI!=""&&e>=0;this.down("[reference=jumlah]").setValue(0);if(k){g.RACIKAN=1;g.JUMLAH=e;g.REFERENSI={BARANG:f.data,RACIKAN:{ID:1,DESKRIPSI:"Racikan"}}}return k?g:{}},loadRecord:function(f){var e=this,g=f||null,g=Ext.getClassName(g)==""?new data.model.OrderDetilResep(g):g;return e.getForm().loadRecord(g)},setTujuan:function(f){var e=this.down("barang-combo");e.getStore().removeAll();e.params.RUANGAN="";if(f){e.params.RUANGAN=f.get("FARMASI")}}},0,["order-resep-racik"],["component","box","container","panel","form","order-resep-racik"],{component:true,box:true,container:true,panel:true,form:true,"order-resep-racik":true},["widget.order-resep-racik"],0,[layanan.resep.order.racikan,"Racikan"],0));(Ext.cmd.derive("layanan.resep.order.racikan.Workspace",Ext.form.Panel,{layout:{type:"vbox",align:"stretch"},scrollable:true,defaults:{margin:"0 2 1 0"},initComponent:function(){var e=this;dt=new Date();e.items=[{xtype:"order-resep-racik-form",reference:"resepracikanform"},{xtype:"order-resep-racik-detil",reference:"resepracikandetil"}],e.buttons=[{text:"Buat Resep",ui:"soft-green",reference:"btnkirim",tooltip:"Kirim ",iconCls:"x-fa fa-share",handler:"onBuatResepRacikan"},{text:"Reset",ui:"soft-blue",reference:"btnreset",tooltip:"Reset",iconCls:"x-fa fa-refresh",handler:"onReset"}];e.callParent(arguments)},loadRecord:function(e){this.getController().loadRecord(e)},setTujuan:function(f){var e=this.down("order-resep-racik-form");e.setTujuan(f)}},0,["order-resep-racikan-workspace"],["component","box","container","panel","form","order-resep-racikan-workspace"],{component:true,box:true,container:true,panel:true,form:true,"order-resep-racikan-workspace":true},["widget.order-resep-racikan-workspace"],0,[layanan.resep.order.racikan,"Workspace"],0));(Ext.cmd.derive("layanan.resep.orderlist.Detil",com.Grid,{viewModel:{stores:{store:{type:"order-detil-resep-store",pageSize:1000}}},initComponent:function(){var e=this;e.columns=[{xtype:"rownumberer",text:"No",align:"left",width:50},{xtype:"templatecolumn",text:"Nama Obat",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.FARMASI.NAMA}</div>'},{text:"Jumlah",dataIndex:"JUMLAH",hideTrigger:true,width:75},{xtype:"templatecolumn",text:"Aturan Pakai",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.ATURAN_PAKAI.DESKRIPSI}</div>'},{text:"Keterangan",dataIndex:"KETERANGAN",flex:1}];e.callParent(arguments)},loadStore:function(f){var e=this,g=e.getViewModel(),o=g.get("store");if(o){o.removeAll();if(f){o.queryParams=f}o.load()}},getData:function(){var f=this,e=f.getViewModel().get("store"),g=[];e.each(function(k){g.push(k.data)});return g},refresh:function(){var e=this.getViewModel().get("store");if(e){e.reload()}}},0,["order-resep-listdetil"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","order-resep-listdetil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"order-resep-listdetil":true},["widget.order-resep-listdetil"],0,[layanan.resep.orderlist,"Detil"],0));(Ext.cmd.derive("layanan.resep.orderlist.DetilController",Ext.app.ViewController,{onRenderAturanPakai:function(k,f,e){var t=e.get("ATURAN_PAKAI");if(Ext.isNumeric(t)){var l=e.get("REFERENSI"),g=l?(l.ATURAN_PAKAI?l.ATURAN_PAKAI.DESKRIPSI:""):"";return g}else{var l=e.get("ATURAN_PAKAI");return'<span style="color:black;">'+l+"</span>"}},onRenderRacikan:function(e){if(e>0){return'<span style="color:green;"> R ['+e+"]</span>"}else{return'<span style="color:black;"> Non R </span>'}return e}},0,0,0,0,["controller.order-resep-listdetil"],0,[layanan.resep.orderlist,"DetilController"],0));(Ext.cmd.derive("layanan.resep.orderlist.List",com.Grid,{controller:"order-resep-list",viewModel:{stores:{store:{type:"order-resep-store"}}},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"No.Resep",dataIndex:"NOMOR",sortable:false,flex:1},{xtype:"templatecolumn",text:"Asal / Unit",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.KUNJUNGAN.REFERENSI.RUANGAN.DESKRIPSI}</div>'},{xtype:"templatecolumn",text:"Tujuan",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.TUJUAN.DESKRIPSI}</div>'},{xtype:"datecolumn",text:"Tgl. Resep",dataIndex:"TANGGAL",format:"d/m/Y H:i:s",sortable:false,flex:1},{xtype:"widgetcolumn",align:"center",text:"Aksi",widget:{xtype:"fieldcontainer",defaults:{padding:2,margin:"0 2 1 0"},items:[{xtype:"button",action:0,text:"Batalkan",iconCls:"x-fa fa-minus-circle",ui:"soft-red",tooltip:"Batalkan Order",handler:"onBatalkanOrderResep",hidden:true},{xtype:"button",text:"Dibatalkan",action:1,ui:"soft-blue",hidden:true},{xtype:"button",text:"Diterima",action:2,ui:"soft-green",hidden:true}]},onWidgetAttach:function(p,m,k){var n=k.get("STATUS"),v=m.down("[action=0]"),l=m.down("[action=1]"),o=m.down("[action=2]");v.setHidden(n!=1);l.setHidden(n!=0);o.setHidden(n!=2)}}],loadStore:function(f){var g=this,o=g.getViewModel(),e=o.get("store");if(e){e.removeAll();e.queryParams=e.queryParams||{};if(f){if(Ext.getClassName(f)=="data.model.Kunjungan"){e.queryParams.KUNJUNGAN=f.get("NOMOR");e.queryParams.HISTORY=1;if(!o.get("kunjungan")){o.set("kunjungan",f)}}}e.load()}},refresh:function(){var e=this.getViewModel().get("store");if(e){e.reload()}}},0,["order-resep-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","order-resep-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"order-resep-list":true},["widget.order-resep-list"],0,[layanan.resep.orderlist,"List"],0));(Ext.cmd.derive("layanan.resep.orderlist.ListController",Ext.app.ViewController,{onBatalkanOrderResep:function(f){var e=this,k=e.getStore("store"),g=f.ownerCt.getWidgetRecord(),q=g.get("NOMOR");g.showError=true;g.animateTarget=f;g.scope=e;Ext.Msg.show({title:"Pembatalan Order",message:"Anda yakin ingin membatalkan Order dengan Nomor Order "+g.get("NOMOR")+" ?",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:f,fn:function(l){if(l==="yes"){g.set("STATUS",0);g.save({callback:function(m,n,o){if(o){Ext.toast({html:"Pembatalan order dengan Nomor Order "+g.get("NOMOR")+" berhasil",headerPosition:"left",style:"padding: 7px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"});k.load()}else{g.set("STATUS",1)}}})}else{g.set("STATUS",status==1?0:1)}}})}},0,0,0,0,["controller.order-resep-list"],0,[layanan.resep.orderlist,"ListController"],0));(Ext.cmd.derive("layanan.resep.orderlist.Workspace",Ext.panel.Panel,{controller:"orderlist-resep-workspace",layout:"border",initComponent:function(){var e=this;e.items=[{region:"center",title:"Orders",xtype:"order-resep-list",reference:"orderreseplist",listeners:{select:"onOrderSelected"}},{region:"east",xtype:"order-resep-listdetil",flex:1,title:"Detil",reference:"orderresepdetil",collapsible:true,split:true}];e.callParent(arguments)},load:function(f){var o=this,e=o.down("[reference=orderreseplist]"),g=o.down("[reference=orderresepdetil]");e.setGridConfig({paging:true});e.loadStore(f)},refresh:function(){var e=this,f=e.down("[reference=orderreseplist]"),g=e.down("[reference=orderresepdetil]");f.refresh()}},0,["orderlist-resep-workspace"],["component","box","container","panel","orderlist-resep-workspace"],{component:true,box:true,container:true,panel:true,"orderlist-resep-workspace":true},["widget.orderlist-resep-workspace"],0,[layanan.resep.orderlist,"Workspace"],0));(Ext.cmd.derive("layanan.resep.orderlist.WorkspaceController",Ext.app.ViewController,{onOrderSelected:function(k,l){var f=this,g=f.getReferences(),q=l.get("NOMOR");g.orderresepdetil.loadStore({ORDER_ID:q})}},0,0,0,0,["controller.orderlist-resep-workspace"],0,[layanan.resep.orderlist,"WorkspaceController"],0));(Ext.cmd.derive("layanan.resep.riwayat.Detil",com.Grid,{controller:"riwayat-resep-listdetil",viewModel:{stores:{store:{type:"layananfarmasi-store",pageSize:1000}}},initComponent:function(){var e=this;e.columns=[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"Klp.Racik",dataIndex:"GROUP_RACIKAN",sortable:false,renderer:"onRenderRacikan",width:65},{xtype:"templatecolumn",text:"Nama Obat",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.FARMASI.NAMA}</div>'},{text:"Jumlah",dataIndex:"JUMLAH",hideTrigger:true,width:75},{text:"Aturan Pakai",flex:1,renderer:"onRenderAturanPakai",dataIndex:"ATURAN_PAKAI"},{text:"Keterangan",dataIndex:"KETERANGAN",sortable:false,flex:1}];e.callParent(arguments)},loadStore:function(f){var e=this,g=e.getViewModel(),o=g.get("store");if(o){o.removeAll();o.queryParams=o.queryParams||{};if(f){o.queryParams=f}o.load()}}},0,["riwayat-resep-listdetil"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","riwayat-resep-listdetil"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"riwayat-resep-listdetil":true},["widget.riwayat-resep-listdetil"],0,[layanan.resep.riwayat,"Detil"],0));(Ext.cmd.derive("layanan.resep.riwayat.DetilController",Ext.app.ViewController,{onRenderAturanPakai:function(k,f,e){var t=e.get("ATURAN_PAKAI");if(Ext.isNumeric(t)){var l=e.get("REFERENSI"),g=l?(l.ATURAN_PAKAI?l.ATURAN_PAKAI.DESKRIPSI:""):"";return g}else{var l=e.get("ATURAN_PAKAI");return'<span style="color:black;">'+l+"</span>"}},onRenderRacikan:function(e){if(e>0){return'<span style="color:green;"> R ['+e+"]</span>"}else{return'<span style="color:black;"> Non R </span>'}return e}},0,0,0,0,["controller.riwayat-resep-listdetil"],0,[layanan.resep.riwayat,"DetilController"],0));(Ext.cmd.derive("layanan.resep.riwayat.List",com.Grid,{viewModel:{stores:{store:{type:"kunjungan-store"}}},columns:[{xtype:"rownumberer",text:"No",align:"left",width:50},{text:"No.Resep",dataIndex:"REF",sortable:false,flex:1},{xtype:"templatecolumn",text:"Tujuan / Unit",flex:1,sortable:false,tpl:'<div style="white-space:normal !important;">{REFERENSI.RUANGAN.DESKRIPSI}</div>'},{xtype:"datecolumn",text:"Tanggal",dataIndex:"MASUK",format:"d/m/Y H:i:s",sortable:false,flex:1}],loadStore:function(e){var f=this.getViewModel().get("store");if(f){f.removeAll();f.queryParams=e;f.load()}},refresh:function(){var e=this.getViewModel().get("store");if(e){e.reload()}}},0,["riwayat-resep-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","riwayat-resep-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"riwayat-resep-list":true},["widget.riwayat-resep-list"],0,[layanan.resep.riwayat,"List"],0));(Ext.cmd.derive("layanan.resep.riwayat.Workspace",Ext.panel.Panel,{controller:"riwayat-resep-workspace",layout:"border",initComponent:function(){var e=this;e.items=[{region:"center",title:"Daftar Order",xtype:"riwayat-resep-list",reference:"riwayatorderreseplist",listeners:{select:"onOrderSelected"}},{region:"east",xtype:"riwayat-resep-listdetil",title:"Detil Order",reference:"riwayatorderresepdetil",flex:1,collapsible:true,split:true}];e.callParent(arguments)},load:function(f){var e=this,g=e.down("[reference=riwayatorderreseplist]"),q=f.get("REFERENSI")?f.get("REFERENSI"):null,k=q?(q.PENDAFTARAN?q.PENDAFTARAN.NORM:0):0;g.setGridConfig({paging:true});if(f){g.loadStore({NORM:k,JENIS_KUNJUNGAN:11,HISTORY:1,STATUS:2})}}},0,["riwayat-resep-workspace"],["component","box","container","panel","riwayat-resep-workspace"],{component:true,box:true,container:true,panel:true,"riwayat-resep-workspace":true},["widget.riwayat-resep-workspace"],0,[layanan.resep.riwayat,"Workspace"],0));(Ext.cmd.derive("layanan.resep.riwayat.WorkspaceController",Ext.app.ViewController,{onOrderSelected:function(k,l){var f=this,g=f.getReferences(),q=l.get("NOMOR");g.riwayatorderresepdetil.loadStore({KUNJUNGAN:q})}},0,0,0,0,["controller.riwayat-resep-workspace"],0,[layanan.resep.riwayat,"WorkspaceController"],0));(Ext.cmd.derive("layanan.resep.terima.List",com.Grid,{controller:"terima-resep-list",viewModel:{data:{inProses:false,confDering:{valDering:false,statusRing:"Off"},dering:""},stores:{store:{type:"order-resep-store"}}},ui:"panel-purple",title:"Daftar Resep",cls:"x-css-shadow x-color-w",iconCls:"x-fa fa-eraser",header:{items:[{xtype:"search-field",emptyText:"[NORM]",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}},{xtype:"button",iconCls:"x-fa fa-cog",ui:"soft-black",tooltip:"Pilihan",arrowVisible:false,menu:[{text:"Notifikasi Dering",iconCls:"x-fa fa-volume-up",menu:[{xtype:"checkbox",margin:"2.2.2.2",reference:"statusdering",inputValue:true,uncheckedValue:false,bind:{boxLabel:"{confDering.statusRing}"},name:"SONG",listeners:{change:"onChangeRingtone"}},{xtype:"panel",bind:{html:"{dering}"}}]}]}]},hideHeaders:true,first:true,columns:[{xtype:"templatecolumn",flex:2,border:false,tpl:new Ext.XTemplate('<div style="font-weight: bold; font-size: 12px; white-space:normal !important;">{[this.getFormatNorm(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NORM)]} - {[this.getNamaLengkap(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN)]}</div>',"<div>{[this.getFormatPendaftaran(values.REFERENSI.KUNJUNGAN.NOPEN)]} - {[this.tanggalFormat(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.TANGGAL)]}</div>",'<div style="font-size: 12px; white-space:normal !important;">{NOMOR} - {[this.tanggalFormat(values.TANGGAL)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Asal: {[this.getAsal(values.REFERENSI.KUNJUNGAN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Tujuan: {[this.getTujuan(values.REFERENSI.TUJUAN)]}</div>','<div style="font-size: 12px; white-space:normal !important;">{[this.getDokter(values.REFERENSI.DOKTER_DPJP)]}</div>','<div style="font-size: 12px; white-space:normal !important;">Penjamin: {[this.getPenjamin(values.REFERENSI.KUNJUNGAN.REFERENSI.PENDAFTARAN.PENJAMIN)]}</div>',{getFormatNorm:function(f){var e=Ext.String.leftPad(f,8,"0"),g=Ext.String.insert(Ext.String.insert(Ext.String.insert(e,".",2),".",5),".",8);return g},getNamaLengkap:function(o){var g=o.GELAR_DEPAN||"",k=o.NAMA||"",f=o.GELAR_BELAKANG||"";g=g==""?"":g+". ";f=f==""?"":", "+f;return g+k+f},getDokter:function(e){var f=e?(e.NAMA||""):"";return f},getFormatPendaftaran:function(e){return e.substring(0,6)+"."+e.substring(6)},tanggalFormat:function(f){var e=Ext.isDate(f)?f:Ext.Date.parse(f,"Y-m-d H:i:s");return Ext.Date.format(e,"d-m-Y H:i:s")},getAsal:function(t){var p=t.REFERENSI,u=t.JENIS_KUNJUNGAN==3,n=p?(p.RUANGAN?p.RUANGAN.DESKRIPSI:""):"",m=p&&u?p.RUANG_KAMAR_TIDUR:null,B=m?m.REFERENSI.RUANG_KAMAR:null,q=m?m.TEMPAT_TIDUR:"",o=B?B.KAMAR:"",s=B?(B.REFERENSI.KELAS?B.REFERENSI.KELAS.DESKRIPSI:""):"",l=n+(u?"</br>"+o+" / "+q+" / "+s:"");return l},getTujuan:function(g){var e=g?g:null,f=e?e.DESKRIPSI:"";return f},getPenjamin:function(e){var g=e.REFERENSI,f=g.KAP,o=f.REFERENSI.PENJAMIN.DESKRIPSI+(f.NOMOR==""?"":"-"+f.NOMOR)+" [ Kls. "+(g.KELAS?g.KELAS.DESKRIPSI:"")+" - SEP. "+e.NOMOR+" ]";return o}})},{xtype:"widgetcolumn",text:"Status",flex:1,align:"right",widget:{xtype:"fieldcontainer",defaults:{padding:2},items:[{xtype:"button",text:"Terima",action:0,margin:"0 1 0 0",bind:{disabled:"{inProses}"},handler:"onTerima"},{xtype:"button",text:"Batal",action:1,ui:"soft-red",bind:{disabled:"{inProses}"},handler:"onBatal"}]}}],onBeforeLoad:function(g,f,o){var e=f.get("config");if(g.first){g.first=false}f.set("config",e);g.setParams({COLUMNS:'["NOMOR","KUNJUNGAN","TANGGAL","DOKTER_DPJP","TUJUAN","STATUS"]',REFERENSI:Ext.JSON.encode({Kunjungan:{COLUMNS:["NOMOR","NOPEN","JENIS_KUNJUNGAN","RUANGAN","RUANG_KAMAR_TIDUR","STATUS"],REFERENSI:{Ruangan:{},RuangKamarTidur:{REFERENSI:{RuangKamar:{REFERENSI:{Kelas:true}}}},Pendaftaran:{COLUMNS:["NOMOR","NORM","TANGGAL"],REFERENSI:{Pasien:{COLUMNS:["NORM","GELAR_DEPAN","NAMA","GELAR_BELAKANG","JENIS_KELAMIN","TANGGAL_LAHIR","TEMPAT_LAHIR"]},Penjamin:{REFERENSI:{Kelas:true,KAP:true}}}}}},Dokter:true,Ruangan:{COLUMNS:["DESKRIPSI"]}})})},doAfterLoad:function(e,f,g,o){e.setStatusRingTone()},setStatusRingTone:function(){var x=this,m=this.getViewModel(),f=m.get("confDering")||{},g=m.get("store"),l=(g)?g.count():0,n=location.origin+location.pathname,k=Ext.util.Cookies.get("OrderResepDering"),e=k?Ext.JSON.decode(Ext.util.Base64.decode(k)):false;if(e){f=Ext.apply(f,e);m.set("confDering",f);x.getReferences().statusdering.setValue(e.valDering)}if(f.valDering!=true){m.set("dering","")}else{if(l>0){m.set("dering",'<audio src="'+n+'resources/ringtone/dering.mp3" autoplay="autoplay" loop></audio>')}else{m.set("dering","")}}}},0,["terima-resep-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","terima-resep-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"terima-resep-list":true},["widget.terima-resep-list"],0,[layanan.resep.terima,"List"],0));(Ext.cmd.derive("layanan.resep.terima.ListController",Ext.app.ViewController,{filter:{norm:"",tanggal:{checked:false,value:new Date()}},orderSelected:{property:"TANGGAL",direction:"ASC"},onSearch:function(e,f){this.filter.norm=f;this.cari()},onClear:function(){this.filter.norm="";this.cari()},onChange:function(q,f){var e=this,g=e.getView(),k=g.down("search-field");if(f==""){k.onClearClick()}},onTerima:function(k){var t=this,g=t.getView(),l=t.getViewModel(),f=k.ownerCt.getWidgetRecord(),e=f.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NAMA;g.waitRefresh=true;g.showMessageBox({title:"Penerimaan Order Resep",message:"Anda yakin ingin menerima Order Resep Pasien An. "+e+" ?",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:k,fn:function(m){if(m==="yes"){l.set("inProses",true);var n=Ext.create("data.model.Kunjungan",{NOPEN:f.get("REFERENSI").KUNJUNGAN.NOPEN,RUANGAN:f.get("TUJUAN"),REF:f.get("NOMOR"),STATUS:1});n.showError=true;n.animateTarget=m;n.scope=t;n.save({callback:function(q,o,p){g.waitRefresh=false;if(p){g.remove(k.ownerCt);g.notifyMessage("Penerimaan Order Resep Pasien An. "+e+" berhasil");g.fireEvent("terima",f);g.refresh()}l.set("inProses",false)}})}else{g.waitRefresh=false;l.set("inProses",false)}}})},onBatal:function(l){var t=this,k=t.getView(),g=l.ownerCt.getWidgetRecord(),f=g.get("STATUS"),e=g.get("REFERENSI").KUNJUNGAN.REFERENSI.PENDAFTARAN.REFERENSI.PASIEN.NAMA;k.waitRefresh=true;g.showError=true;g.animateTarget=l;g.scope=t;k.showMessageBox({title:"Pembatalan Penerimaan Order Resep Pasien Konsul",message:"Anda yakin ingin membatalkan penerimaan Order Resep Pasien An. "+e+" ?",ui:"window-warning",header:{padding:5},buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:l,fn:function(m){if(m==="yes"){g.set("STATUS",0);g.save({callback:function(p,n,o){k.waitRefresh=false;if(o){k.remove(l.ownerCt);k.notifyMessage("Pembatalan penerimaan Order Resep Pasien An. "+e+" berhasil");k.refresh()}else{g.set("STATUS",f)}}})}else{k.waitRefresh=false;g.set("STATUS",f)}}})},onChangeRingtone:function(q,k,g){var f=this,e=f.getViewModel();confDering=e.get("confDering")||{},obj={valDering:k,statusRing:(k)?"On":"Off"};valBase=Ext.util.Base64.encode(Ext.JSON.encode(obj));Ext.util.Cookies.set("OrderResepDering",valBase);f.getView().setStatusRingTone()},privates:{cari:function(){var f=this,o=f.getView(),e=o.down("pagingtoolbar"),g={sort:Ext.JSON.encode(f.orderSelected)};if(f.filter.norm==""){delete o.getStore().queryParams.NORM}else{g.NORM=f.filter.norm}if(!f.filter.tanggal.checked){delete o.getStore().queryParams.TANGGAL}else{g.TANGGAL=Ext.Date.format(f.filter.tanggal.value,"Y-m-d")}o.setParams(g);if(e){e.moveFirst()}else{o.load()}}}},0,0,0,0,["controller.terima-resep-list"],0,[layanan.resep.terima,"ListController"],0));(Ext.cmd.derive("layanan.resep.widget.Orders",Ext.Container,{layout:"fit",items:[{xtype:"terima-resep-list",reference:"terimareseplist",viewConfig:{loadMask:false},listeners:{terima:"onTerima"}}],loadStore:function(e){var f=this.down("terima-resep-list");f.loadStore(e)},refresh:function(){this.down("terima-resep-list").refresh()}},0,["resep-widget-orders"],["component","box","container","resep-widget-orders"],{component:true,box:true,container:true,"resep-widget-orders":true},["widget.resep-widget-orders"],0,[layanan.resep.widget,"Orders"],0));(Ext.cmd.derive("layanan.tindakanmedis.Form",com.Form,{controller:"tindakan-medis-form",model:"data.model.TindakanMedis",viewModel:{data:{record:undefined,formConfig:{tanggal:new Date()}},formulas:{isFinalKunjungan:function(e){var f=e("kunjungan.STATUS");f=f!=undefined?f:1;return f==2||f==0},isRecorded:function(e){var f=e("isFinalKunjungan"),g=e("record.SIMPAN")?e("record.SIMPAN"):false,o=e("record.STATUS")==0;return g||f||o}}},layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 0 3 0"},bodyPadding:5,initComponent:function(){var e=this,f=e.getSysdate();e.items=[{name:"TANGGAL",reference:"tanggal",xtype:"datefield",emptyText:"[Pilih Tanggal Tindakan]",format:"d/m/Y H:i:s",maxValue:f,minimalAddMinuteToMaxValue:15,containFormatTime:true,allowBlank:false,bind:{readOnly:"{isRecorded}",minValue:"{formConfig.tanggal}"}},{xtype:"tindakan-combo",cls:"shadow-panel",name:"TINDAKAN",allowBlank:false,reference:"tindakancombo",bind:{readOnly:"{isRecorded}"},hideTrigger:false,listeners:{change:"onTindakanChange",focus:"onBeforeQuery"}}];e.callParent(arguments)},setKunjungan:function(f){var g=this,o=g.getViewModel(),e=g.down("[reference=tindakancombo]");if(f){if(!o.get("kunjungan")){o.set("kunjungan",f)}if(e.params){e.params.RUANGAN=f.get("RUANGAN");e.params.STATUS=1;e.load()}}},onLoadRecord:function(e,g){if(!g.get("SIMPAN")){e.focus("TINDAKAN",false,1000)}else{var f=e.down("[reference=tindakancombo]");if(f.lastQuery){delete f.lastQuery;f.select(Ext.create("data.model.Tindakan",{ID:g.get("TINDAKAN"),NAMA:g.get("TINDAKAN_DESKRIPSI")}));f.load()}}},getFormData:function(){var e=this,f=e.getReferences(),g=e.getForm().getValues();tgl=f.tanggal.getValue(),g.TANGGAL=tgl;return g}},0,["tindakan-medis-form"],["component","box","container","panel","form","com-form","tindakan-medis-form"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"tindakan-medis-form":true},["widget.tindakan-medis-form"],0,[layanan.tindakanmedis,"Form"],0));(Ext.cmd.derive("layanan.tindakanmedis.FormController",Ext.app.ViewController,{onTindakanChange:function(e){var f=e.getStore();f.queryParams.STATUS=1},onBeforeQuery:function(e){if(e.combo){e.combo.getStore().removeAll()}}},0,0,0,0,["controller.tindakan-medis-form"],0,[layanan.tindakanmedis,"FormController"],0));(Ext.cmd.derive("layanan.tindakanmedis.List",com.Grid,{controller:"tindakan-medis-list",viewModel:{formulas:{isFinalKunjungan:function(e){var f=e("kunjungan.STATUS");f=f!=undefined?f:1;return f==2||f==0}},stores:{store:{type:"tindakan-medis-store",pageSize:10000}}},riwayat:false,title:"Tindakan",hideHeaders:true,hideAction:false,doAfterLoad:Ext.emptyFn,initComponent:function(){var e=this,f=e.getViewModel().get("store");e.columns=[{xtype:"rownumberer",text:"No",width:60,hidden:e.hideHeaders},{text:"Tanggal",width:160,dataIndex:"TANGGAL",xtype:"datecolumn",format:"d-m-Y H:i:s",hidden:e.hideHeaders},{xtype:"templatecolumn",flex:1,hidden:!e.hideHeaders,tpl:new Ext.XTemplate('<div style="font-weight: bold; white-space:normal !important;">{[this.tanggalFormat(values.TANGGAL)]} - {TINDAKAN_DESKRIPSI}</div>'+(e.hideAction?"":'<div style="font-size: 12px"><span class="x-fa fa-user"></span>&nbsp;{NAMA_PENGGUNA}</div>'),{tanggalFormat:function(g){return Ext.Date.format(g,"d-m-Y H:i:s")}})},{text:"Ruangan",flex:1,dataIndex:"RUANGAN",hidden:e.hideHeaders},{text:"Tindakan",flex:2,dataIndex:"TINDAKAN_DESKRIPSI",hidden:e.hideHeaders},{text:"Petugas",flex:1,dataIndex:"NAMA_PENGGUNA",hidden:e.hideHeaders},{xtype:"widgetcolumn",text:"Status",hidden:e.hideAction,widget:{xtype:"fieldcontainer",defaultType:"button",layout:{type:"vbox",align:"stretch"},defaults:{padding:2,margin:"0 2 1 0"},items:[{text:"Batalkan",action:0,handler:"onBatal"},{text:"Dibatalkan",action:1,ui:"soft-red"}]},onWidgetAttach:"onWidgetAttach"}];f.doAfterLoad=function(o,k,g,l){e.doAfterLoad(k,g,l)};e.callParent(arguments)},listeners:{select:"onTindakanSelected"},loadStore:function(g,o){var f=this,e=f.getViewModel();if(g){e.set("kunjungan",g)}f.callParent()},setRiwayat:function(e){this.riwayat=e},onBeforeLoad:function(f,e,o){var g=e.get("kunjungan");f.setParams({KUNJUNGAN:g.get("NOMOR"),REFERENSI:Ext.JSON.encode({Kunjungan:false})})}},0,["tindakan-medis-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","tindakan-medis-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"tindakan-medis-list":true},["widget.tindakan-medis-list"],0,[layanan.tindakanmedis,"List"],0));(Ext.cmd.derive("layanan.tindakanmedis.ListController",Ext.app.ViewController,{init:function(){var e=this.getStore("store");if(e){e.on("load",function(f,g){if(g.length==0){e.removeAll()}})}},onBatal:function(k){var v=this,o=v.getView(),g=v.getViewModel(),n=g.get("kunjungan"),m=v.getStore("store"),l=k.ownerCt.getWidgetRecord();if(n.get("STATUS")!=1){return}l.showError=true;l.animateTarget=k;l.scope=v;o.showMessageBox({title:"Pembatalan Tindakan",message:"Anda yakin ingin membatalkan tindakan <b>"+l.get("TINDAKAN_DESKRIPSI")+"</b> ini ?",ui:"window-red",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:k,fn:function(e){if(e==="yes"){l.set("STATUS",0);l.save({callback:function(f,p,q){if(q){o.notifyMessage("Pembatalan tindakan <b>"+l.get("TINDAKAN_DESKRIPSI")+"</b> berhasil");m.load();v.onTindakanSelected(e,l)}else{l.set("STATUS",1)}}})}else{l.set("STATUS",status==1?0:1)}}})},onTindakanSelected:function(f,e){this.getView().fireEvent("tindakanselected",f,e)},onWidgetAttach:function(u,o,q){var y=this,v=y.getViewModel(),z=v.get("kunjungan"),w=y.getView().riwayat,p=q.get("STATUS"),x=z.get("JENIS_KUNJUNGAN"),s=o.down("[action=0]"),t=o.down("[action=1]"),F=!(x==4||x==5||x==6)&&p!=0;s.setHidden(p==0||z.get("STATUS")==2||w);t.setHidden(p==1||w)}},0,0,0,0,["controller.tindakan-medis-list"],0,[layanan.tindakanmedis,"ListController"],0));(Ext.cmd.derive("layanan.tindakanmedis.Workspace",com.Form,{controller:"tindakan-medis-workspace",viewModel:{data:{data:undefined},stores:{konStore:{type:"konsul-store"},labStore:{type:"order-lab-store"},radStore:{type:"order-rad-store"}}},layout:"border",selectionRec:undefined,initComponent:function(){var e=this;e.items=[{region:"west",title:"Daftar Tindakan",xtype:"tindakan-list",showSearch:true,collapsed:true,collapsible:true,width:300,reference:"tindakanlist",hideHeaders:true,split:true,multiSelect:true,viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrop:false},copy:true},bind:{hidden:"{isFinal}"},listeners:{itemdblclick:"onItemDblClickTindakan"}},{region:"center",xtype:"tindakan-medis-list",flex:2,margin:"0 2 0 0",reference:"tindakanmedislist",viewConfig:{plugins:{ptype:"gridviewdragdrop",enableDrag:false},listeners:{scope:e.getController(),beforedrop:"onBeforeDropTindakan",drop:"onDropTindakan"}},listeners:{tindakanselected:"onTindakanSelected"}},{region:"east",split:true,collapsible:true,xtype:"form",width:600,border:true,title:"Form Tindakan",layout:{type:"vbox",align:"stretch"},bind:{hidden:"{isFinal}"},header:{items:[{xtype:"button",ui:"soft-cyan",iconCls:"x-fa fa-file",hidden:true,bind:{hidden:"{isFinal}"},tooltip:"Tindakan Medis Baru",handler:"addTindakan"}]},bodyPadding:"2 0 0 0",items:[{xtype:"tindakan-medis-form",border:false,bodyPadding:0,reference:"tindakanmedis"},{xtype:"petugas-medis-form-list",flex:1,reference:"tenagamedis"}],buttons:[{text:"Simpan",ui:"soft-blue",reference:"btnsimpan",hidden:true,bind:{hidden:"{isFinal}"},iconCls:"x-fa fa-save",handler:"onSimpan"}]}];e.callParent(arguments)},load:function(l){var n=this,o=n.getReferences(),t=o.tindakanmedislist,m=o.tenagamedis;vm=n.getViewModel(),tarifKelasKonsulMengikutiKelasRIYgMengkonsul=n.getPropertyConfig(7);n.selectionRec=undefined;if(l){if(l.get("STATUS")==1){var q=l.get("JENIS_KUNJUNGAN"),g=n.getReferensi(l.data,"RUANGAN"),v=n.getReferensi(g,"RUANGAN_KELAS"),w=v?v.KELAS:0,x=l.get("REF"),P={RUANGAN:l.get("RUANGAN"),start:0,limit:10000,KELAS:w,STATUS:1};m.setKunjungan(l);o.tindakanmedis.setFormConfig({tanggal:l.get("MASUK")});var s={KUNJUNGAN:l.get("NOMOR"),TANGGAL:n.getSysdate(),SIMPAN:false},k=Ext.create("data.model.TindakanMedis",s);o.tindakanmedis.createRecord(s);o.tenagamedis.loadStore(k);if(q!=3){if(tarifKelasKonsulMengikutiKelasRIYgMengkonsul=="TRUE"&&x!=null){var O=x.substring(0,2),u=null;if(O=="10"){u=vm.get("konStore");u.setQueryParams({NOMOR:x,STATUS:2,REFERENSI:Ext.JSON.encode({Kunjungan:true})})}else{if(O=="12"){u=vm.get("labStore");u.setQueryParams({NOMOR:x,STATUS:2,REFERENSI:Ext.JSON.encode({Kunjungan:true})})}}if(O=="13"){u=vm.get("radStore");u.setQueryParams({NOMOR:x,STATUS:2,REFERENSI:Ext.JSON.encode({Kunjungan:true})})}if(u){u.load(function(C,A,e){if(e){if(Ext.isArray(C)){if(C.length>0){var y=n.getReferensi(C[0].data,"KUNJUNGAN"),z=n.getReferensi(y,"RUANG_KAMAR_TIDUR"),B=n.getReferensi(z,"RUANG_KAMAR");if(B){w=B.KELAS}if(l.get("TITIPAN")==1){w=l.get("TITIPAN_KELAS")}P.KELAS=w}}}o.tindakanlist.loadStore(P)})}else{o.tindakanlist.loadStore(P)}}else{o.tindakanlist.loadStore(P)}}else{var p=n.getReferensi(l.data,"RUANG_KAMAR_TIDUR"),f=n.getReferensi(p,"RUANG_KAMAR");if(f){w=f.KELAS}if(l.get("TITIPAN")==1){w=l.get("TITIPAN_KELAS")}P.KELAS=w;o.tindakanlist.loadStore(P)}o.tindakanmedis.setKunjungan(l)}}vm.set("data",l);t.loadStore(l)}},0,["tindakan-medis-workspace"],["component","box","container","panel","form","com-form","tindakan-medis-workspace"],{component:true,box:true,container:true,panel:true,form:true,"com-form":true,"tindakan-medis-workspace":true},["widget.tindakan-medis-workspace"],0,[layanan.tindakanmedis,"Workspace"],0));(Ext.cmd.derive("layanan.tindakanmedis.WorkspaceController",Ext.app.ViewController,{init:function(){var g=this,e=this.getView(),f=g.getReferences();f.tindakanmedislist.doAfterLoad=function(l,k,m,o){if(e.selectionRec){f.tindakanmedislist.getSelectionModel().select([e.selectionRec])}}},onTindakanSelected:function(k,f){var g=this,l=g.getReferences(),q=g.getViewModel().get("isFinal");f.set("SIMPAN",true);if(f){l.tindakanmedis.loadRecord(f);l.tenagamedis.loadStore(f);l.btnsimpan.setHidden(q||f.get("STATUS")==0)}},addTindakan:function(){var f=this,k=f.getReferences(),g=f.getView(),t=f.getViewModel().get("kunjungan"),l={KUNJUNGAN:t.get("NOMOR"),TANGGAL:g.getSysdate(),SIMPAN:false},e=Ext.create("data.model.TindakanMedis",l);k.tindakanmedis.createRecord(l);k.tenagamedis.loadStore(e);k.btnsimpan.setHidden(false)},onSimpan:function(n){var v=this,k=v.getReferences(),o=k.tindakanmedis.getRecord(),l=k.tindakanmedis.getFormData(),m=k.tenagamedis.getData(),g=v.getViewModel().get("kunjungan");if(k.tindakanmedis.isValid()){if(m.length>0){l.PETUGAS_MEDIS=m}if(!Ext.isNumeric(o.get("ID"))){o=Ext.create("data.model.TindakanMedis",{});l.SIMPAN=true;l.KUNJUNGAN=g.get("NOMOR")}o.set(l);o.animateTarget=n;o.scope=v;v.simpanTindakanMedis(o)}},onBeforeDropTindakan:function(m,k,l,p,o){var n=this,x=n.getViewModel().get("kunjungan"),q=x.get("STATUS");if(q==2||q==0){n.showInfoStatus(q);o.cancelDrop()}},onItemDblClickTindakan:function(f,t){var l=this,k=l.getView(),m=l.getViewModel().get("kunjungan"),g=m.get("STATUS");if(g==2||g==0){l.showInfoStatus(g);return}t=Ext.create("data.model.TindakanMedis",{KUNJUNGAN:m.get("NOMOR"),TINDAKAN:t.get("ID"),TANGGAL:k.getSysdate(),SIMPAN:true});l.simpanTindakanMedis(t)},onDropTindakan:function(q,o,p,m){var s=this,l=s.getView(),z=Ext.Array.clone(o.records),n=s.getViewModel().get("kunjungan")||p,k=0;o.records=[];Ext.Array.each(z,function(e){e=Ext.create("data.model.TindakanMedis",{KUNJUNGAN:n.get("NOMOR"),TINDAKAN:e.get("ID"),TANGGAL:l.getSysdate(),SIMPAN:true});k++;s.simpanTindakanMedis(e,false,function(g,f){o.records.push(e);if(k==z.length){s.loadTindakanMedis()}})})},privates:{showInfoStatus:function(f){var e=this.getView();e.notifyMessage("Tindakan tidak dapat di masukkan, karena kujungan ini "+(f==2?"sudah final":"telah dibatalkan"),"danger-blue")},simpanTindakanMedis:function(k,m,x){var g=this,l=g.getView(),f=g.getViewModel().get("kunjungan"),n=g.getReferences(),m=m!=undefined?m:true,o=k.get("ID");k.showError=true;k.save({callback:function(e,q,p){if(p){l.notifyMessage((!Ext.isNumeric(o)?"Tindakan <b>"+e.get("TINDAKAN_DESKRIPSI")+"</b>":"Data")+" telah tersimpan");l.selectionRec=e;if(m){g.loadTindakanMedis()}}if(Ext.isFunction(x)){x(e,p)}}})},loadTindakanMedis:function(){var e=this,f=e.getReferences();f.tindakanmedislist.refresh()}}},0,0,0,0,["controller.tindakan-medis-workspace"],0,[layanan.tindakanmedis,"WorkspaceController"],0));(Ext.cmd.derive("layanan.tindakanmedis.tenagamedis.FormList",com.Grid,{controller:"tenaga-medis-form-list",viewModel:{data:{tindakan:undefined},formulas:{isFinalKunjungan:function(e){var f=e("kunjungan.STATUS");f=f!=undefined?f:1;return f==2||f==0},isBatalTindakan:function(f){var g=f("isFinalKunjungan"),e=f("tindakan.STATUS")==0;return g||e}},stores:{store:{type:"petugas-tindakan-medis-store"}}},title:"Tenaga Medis",header:{items:[{xtype:"button",iconCls:"x-fa fa-plus",hidden:true,bind:{hidden:"{isBatalTindakan}"},tooltip:"Tambah Tenaga Medis",listeners:{click:"onAddClick"}}]},currentEditingRecord:undefined,initComponent:function(){var e=this;e.cellEditing=new Ext.grid.plugin.CellEditing({clicksToEdit:1,listeners:{beforeedit:"onBeforeEditCell"}});e.comboJenis=Ext.create("master.referensi.Combo",{params:{JENIS:32,STATUS:1},monitorTab:true,selectOnTab:true,editable:true,listeners:{select:"onSelectJenis"}});e.comboJenis.getViewModel().get("store").load();e.comboMedis=Ext.create("master.tenagamedis.Combo",{triggerAction:"query",monitorTab:true,selectOnFocus:true,forceSelection:true,emptyText:"[Pilih Tenaga Medis]",listeners:{select:"onSelectMedis",focus:"onFocusMedis",change:"onChangeMedis"}});e.columns=[{text:"Jenis",dataIndex:"JENIS",width:100,menuDisabled:true,sortable:false,editor:e.comboJenis,renderer:"onRendereJenis"},{text:"Nama",dataIndex:"MEDIS",flex:1,menuDisabled:true,sortable:false,editor:e.comboMedis,renderer:"onRendererNama"},{xtype:"checkcolumn",text:"Status",dataIndex:"STATUS",menuDisabled:true,sortable:false,listeners:{checkchange:"onCheckChange"}}];e.plugins=[e.cellEditing];e.callParent(arguments)},setKunjungan:function(f){var g=this,o=g.getViewModel(),e=o.get("store");e.removeAll();if(f){if(!o.get("kunjungan")){o.set("kunjungan",f)}g.comboMedis.params.RUANGAN=f.get("RUANGAN")}},loadStore:function(f){var g=this,o=g.getViewModel(),e=o.get("store");o.set("tindakan",f);if(e){e.removeAll();e.queryParams.TINDAKAN_MEDIS=f.get("ID");e.load()}},getData:function(){var f=this,e=f.getViewModel().get("store"),g=[];e.each(function(l){var k=f.getReferensi(l.data,"MEDIS");if(l.data.MEDIS==""){if(k){l.data.MEDIS=k.ID}}g.push(l.data)});return g}},0,["petugas-medis-form-list"],["component","box","container","panel","tablepanel","gridpanel","grid","com-grid","petugas-medis-form-list"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,"com-grid":true,"petugas-medis-form-list":true},["widget.petugas-medis-form-list"],0,[layanan.tindakanmedis.tenagamedis,"FormList"],0));(Ext.cmd.derive("layanan.tindakanmedis.tenagamedis.FormListController",Ext.app.ViewController,{init:function(){var e=this.getStore("store");if(e){e.on("load",function(f,g){if(g.length==0){e.removeAll()}})}},onAddClick:function(p){var B=this,n=Ext.create("data.model.TenagaMedis",{TINDAKAN_MEDIS:"",JENIS:1,MEDIS:"",SIMPAN:false,STATUS:1}),t=B.getView(),q=t.comboJenis,m=t.comboMedis,k=B.getViewModel(),l=k.get("kunjungan"),s=k.get("store"),o=q.getViewModel().get("store").getAt(0).data;m.params.JENIS=1;if(l){m.params.RUANGAN=l.get("RUANGAN")}n.set("REFERENSI",{JENIS:o});s.insert(s.getCount(),n)},onBeforeEditCell:function(){var f=arguments[1].record,e=this,k=e.getViewModel(),g=e.getView(),q=k.get("isBatalTindakan");if(q){return false}if(f.get("SIMPAN")==undefined||f.get("SIMPAN")){if(arguments[1].colIdx!==1){return false}}g.currentEditingRecord=f},onSelectJenis:function(k,q){var f=this,l=f.getView(),g=l.currentEditingRecord.get("REFERENSI")||{};if(g){g.JENIS=q.data}l.currentEditingRecord.set("REFERENSI",g);l.comboMedis.params.JENIS=q.get("ID");l.comboMedis.params.STATUS=1;delete l.currentEditingRecord.data.REFERENSI.MEDIS;l.comboMedis.select(null)},onSelectMedis:function(e,f){var g=this,o=g.getView().currentEditingRecord.get("REFERENSI")||{};if(o){o.MEDIS=f.data}g.getView().currentEditingRecord.set("REFERENSI",o)},onFocusMedis:function(l){var n=this,g=n.getView().currentEditingRecord.get("REFERENSI"),m=g?g.MEDIS:null,t=n.getView().currentEditingRecord.get("JENIS"),k=m?Ext.create("data.model.TenagaMedis",m):null;l.getStore().removeAll();l.params.JENIS=t;l.select(k)},onChangeMedis:function(f,g){var e=this;if(g==null){delete e.getView().currentEditingRecord.data.REFERENSI.MEDIS}},onRendererNama:function(k,B,m,s,p,q,t){var n=m.get("REFERENSI"),l=n?n.MEDIS:null,o=l?l.NIP+" - "+l.NAMA:k;return o},onRendereJenis:function(k,l,m,t,p,q,B){var n=m.get("REFERENSI"),s=n?n.JENIS:null,o=s?s.DESKRIPSI:k;return o},onCheckChange:function(s,p,o){var q=this,H=q.getView(),k=q.getViewModel(),u=k.get("store"),t=k.get("isBatalTindakan"),w=u.getAt(p),v=o?1:0,l=w.get("REFERENSI"),n=l.MEDIS?l.MEDIS:null,m=n?n.NAMA:"-";if(t){w.set("STATUS",v==1?0:1)}else{if(w.get("SIMPAN")!=undefined){w.set("STATUS",v==1?0:1);return}deskStatus=["Menonaktifkan","Mengaktifkan"];uis=["window-red","window-blue"];dgrs=["danger-red","danger-blue"];H.showMessageBox({title:deskStatus[v]+" Tenaga Medis",message:"Anda yakin ingin "+deskStatus[v]+" "+l.JENIS.DESKRIPSI+" <b>An. "+m+"</b>",ui:uis[v],buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,animateTarget:s,fn:function(e){if(e==="yes"){w.showError=true;w.animateTarget=s;w.scope=q;w.set("STATUS",v);w.save({callback:function(x,f,g){if(g){H.notifyMessage(deskStatus[v]+" "+l.JENIS.DESKRIPSI+" <b>An. "+m+"</b>",dgrs[v])}}})}else{w.set("STATUS",v==1?0:1)}}})}}},0,0,0,0,["controller.tenaga-medis-form-list"],0,[layanan.tindakanmedis.tenagamedis,"FormListController"],0));