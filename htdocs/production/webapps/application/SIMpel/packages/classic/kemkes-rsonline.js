Ext.define("kemkes.rsonline.data.kebutuhan.apd.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/data-kebutuhan-apd",fields:[{name:"id_kebutuhan",type:"int"},{name:"jumlah_eksisting",type:"int"},{name:"jumlah",type:"int"},{name:"jumlah_diterima",type:"int"},{name:"baru",type:"int"},{name:"tgl_kirim",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"kirim",type:"int"},{name:"response",type:"string"}],idProperty:"id_kebutuhan"});Ext.define("kemkes.rsonline.data.kebutuhan.apd.Store",{extend:"data.store.Store",model:"kemkes.rsonline.data.kebutuhan.apd.Model",alias:"store.kemkes-rsonline-data-kebutuhan-apd-store"});Ext.define("kemkes.rsonline.data.kebutuhan.sdm.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/data-kebutuhan-sdm",fields:[{name:"id_kebutuhan",type:"int"},{name:"jumlah_eksisting",type:"int"},{name:"jumlah",type:"int"},{name:"jumlah_diterima",type:"int"},{name:"baru",type:"int"},{name:"tgl_kirim",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"kirim",type:"int"},{name:"response",type:"string"}],idProperty:"id_kebutuhan"});Ext.define("kemkes.rsonline.data.kebutuhan.sdm.Store",{extend:"data.store.Store",model:"kemkes.rsonline.data.kebutuhan.sdm.Model",alias:"store.kemkes-rsonline-data-kebutuhan-sdm-store"});Ext.define("kemkes.rsonline.data.rekappasien.keluar.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/rekap-pasien/keluar",fields:[{name:"id",type:"int"},{name:"tanggal",type:"date",dateFormat:"Y-m-d"},{name:"sembuh",type:"int",defaultValue:0},{name:"discarded",type:"int",defaultValue:0},{name:"meninggal_komorbid",type:"int",defaultValue:0},{name:"meninggal_tanpa_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_pre_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_neo_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_bayi_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_balita_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_anak_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_remaja_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_dws_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_lansia_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_pre_tanpa_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_neo_tanpa_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_bayi_tanpa_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_balita_tanpa_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_anak_tanpa_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_remaja_tanpa_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_dws_tanpa_komorbid",type:"int",defaultValue:0},{name:"meninggal_prob_lansia_tanpa_komorbid",type:"int",defaultValue:0},{name:"meninggal_discarded_komorbid",type:"int",defaultValue:0},{name:"meninggal_discarded_tanpa_komorbid",type:"int",defaultValue:0},{name:"dirujuk",type:"int",defaultValue:0},{name:"isman",type:"int",defaultValue:0},{name:"aps",type:"int",defaultValue:0},{name:"baru",type:"int"},{name:"tgl_kirim",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"kirim",type:"int"},{name:"response",type:"string"}],idProperty:"id"});Ext.define("kemkes.rsonline.data.rekappasien.keluar.Store",{extend:"data.store.Store",model:"kemkes.rsonline.data.rekappasien.keluar.Model",alias:"store.kemkes-rsonline-data-rekappasien-keluar-store"});Ext.define("kemkes.rsonline.data.rekappasien.komorbid.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/rekap-pasien/komorbid",fields:[{name:"id",type:"int"},{name:"tanggal",type:"date",dateFormat:"Y-m-d"},{name:"icu_dengan_ventilator_suspect_l",type:"int",defaultValue:0},{name:"icu_dengan_ventilator_suspect_p",type:"int",defaultValue:0},{name:"icu_dengan_ventilator_confirm_l",type:"int",defaultValue:0},{name:"icu_dengan_ventilator_confirm_p",type:"int",defaultValue:0},{name:"icu_tanpa_ventilator_suspect_l",type:"int",defaultValue:0},{name:"icu_tanpa_ventilator_suspect_p",type:"int",defaultValue:0},{name:"icu_tanpa_ventilator_confirm_l",type:"int",defaultValue:0},{name:"icu_tanpa_ventilator_confirm_p",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_dengan_ventilator_suspect_l",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_dengan_ventilator_suspect_p",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_dengan_ventilator_confirm_l",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_dengan_ventilator_confirm_p",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_tanpa_ventilator_suspect_l",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_tanpa_ventilator_suspect_p",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_tanpa_ventilator_confirm_l",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_tanpa_ventilator_confirm_p",type:"int",defaultValue:0},{name:"isolasi_tekanan_negatif_suspect_l",type:"int",defaultValue:0},{name:"isolasi_tekanan_negatif_suspect_p",type:"int",defaultValue:0},{name:"isolasi_tekanan_negatif_confirm_l",type:"int",defaultValue:0},{name:"isolasi_tekanan_negatif_confirm_p",type:"int",defaultValue:0},{name:"isolasi_tanpa_tekanan_negatif_suspect_l",type:"int",defaultValue:0},{name:"isolasi_tanpa_tekanan_negatif_suspect_p",type:"int",defaultValue:0},{name:"isolasi_tanpa_tekanan_negatif_confirm_l",type:"int",defaultValue:0},{name:"isolasi_tanpa_tekanan_negatif_confirm_p",type:"int",defaultValue:0},{name:"nicu_khusus_covid_suspect_l",type:"int",defaultValue:0},{name:"nicu_khusus_covid_suspect_p",type:"int",defaultValue:0},{name:"nicu_khusus_covid_confirm_l",type:"int",defaultValue:0},{name:"nicu_khusus_covid_confirm_p",type:"int",defaultValue:0},{name:"picu_khusus_covid_suspect_l",type:"int",defaultValue:0},{name:"picu_khusus_covid_suspect_p",type:"int",defaultValue:0},{name:"picu_khusus_covid_confirm_l",type:"int",defaultValue:0},{name:"picu_khusus_covid_confirm_p",type:"int",defaultValue:0},{name:"baru",type:"int"},{name:"tgl_kirim",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"kirim",type:"int"},{name:"response",type:"string"}],idProperty:"id"});Ext.define("kemkes.rsonline.data.rekappasien.komorbid.Store",{extend:"data.store.Store",model:"kemkes.rsonline.data.rekappasien.komorbid.Model",alias:"store.kemkes-rsonline-data-rekappasien-komorbid-store"});Ext.define("kemkes.rsonline.data.rekappasien.masuk.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/rekap-pasien/masuk",fields:[{name:"id",type:"int"},{name:"tanggal",type:"date",dateFormat:"Y-m-d"},{name:"igd_suspect_l",type:"int",defaultValue:0},{name:"igd_suspect_p",type:"int",defaultValue:0},{name:"igd_confirm_l",type:"int",defaultValue:0},{name:"igd_confirm_p",type:"int",defaultValue:0},{name:"rj_suspect_l",type:"int",defaultValue:0},{name:"rj_suspect_p",type:"int",defaultValue:0},{name:"rj_confirm_l",type:"int",defaultValue:0},{name:"rj_confirm_p",type:"int",defaultValue:0},{name:"ri_suspect_l",type:"int",defaultValue:0},{name:"ri_suspect_p",type:"int",defaultValue:0},{name:"ri_confirm_l",type:"int",defaultValue:0},{name:"ri_confirm_p",type:"int",defaultValue:0},{name:"baru",type:"int"},{name:"tgl_kirim",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"kirim",type:"int"},{name:"response",type:"string"}],idProperty:"id"});Ext.define("kemkes.rsonline.data.rekappasien.masuk.Store",{extend:"data.store.Store",model:"kemkes.rsonline.data.rekappasien.masuk.Model",alias:"store.kemkes-rsonline-data-rekappasien-masuk-store"});Ext.define("kemkes.rsonline.data.rekappasien.nonkomorbid.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/rekap-pasien/non-komorbid",fields:[{name:"id",type:"int"},{name:"tanggal",type:"date",dateFormat:"Y-m-d"},{name:"icu_dengan_ventilator_suspect_l",type:"int",defaultValue:0},{name:"icu_dengan_ventilator_suspect_p",type:"int",defaultValue:0},{name:"icu_dengan_ventilator_confirm_l",type:"int",defaultValue:0},{name:"icu_dengan_ventilator_confirm_p",type:"int",defaultValue:0},{name:"icu_tanpa_ventilator_suspect_l",type:"int",defaultValue:0},{name:"icu_tanpa_ventilator_suspect_p",type:"int",defaultValue:0},{name:"icu_tanpa_ventilator_confirm_l",type:"int",defaultValue:0},{name:"icu_tanpa_ventilator_confirm_p",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_dengan_ventilator_suspect_l",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_dengan_ventilator_suspect_p",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_dengan_ventilator_confirm_l",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_dengan_ventilator_confirm_p",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_tanpa_ventilator_suspect_l",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_tanpa_ventilator_suspect_p",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_tanpa_ventilator_confirm_l",type:"int",defaultValue:0},{name:"icu_tekanan_negatif_tanpa_ventilator_confirm_p",type:"int",defaultValue:0},{name:"isolasi_tekanan_negatif_suspect_l",type:"int",defaultValue:0},{name:"isolasi_tekanan_negatif_suspect_p",type:"int",defaultValue:0},{name:"isolasi_tekanan_negatif_confirm_l",type:"int",defaultValue:0},{name:"isolasi_tekanan_negatif_confirm_p",type:"int",defaultValue:0},{name:"isolasi_tanpa_tekanan_negatif_suspect_l",type:"int",defaultValue:0},{name:"isolasi_tanpa_tekanan_negatif_suspect_p",type:"int",defaultValue:0},{name:"isolasi_tanpa_tekanan_negatif_confirm_l",type:"int",defaultValue:0},{name:"isolasi_tanpa_tekanan_negatif_confirm_p",type:"int",defaultValue:0},{name:"nicu_khusus_covid_suspect_l",type:"int",defaultValue:0},{name:"nicu_khusus_covid_suspect_p",type:"int",defaultValue:0},{name:"nicu_khusus_covid_confirm_l",type:"int",defaultValue:0},{name:"nicu_khusus_covid_confirm_p",type:"int",defaultValue:0},{name:"picu_khusus_covid_suspect_l",type:"int",defaultValue:0},{name:"picu_khusus_covid_suspect_p",type:"int",defaultValue:0},{name:"picu_khusus_covid_confirm_l",type:"int",defaultValue:0},{name:"picu_khusus_covid_confirm_p",type:"int",defaultValue:0},{name:"baru",type:"int"},{name:"tgl_kirim",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"kirim",type:"int"},{name:"response",type:"string"}],idProperty:"id"});Ext.define("kemkes.rsonline.data.rekappasien.nonkomorbid.Store",{extend:"data.store.Store",model:"kemkes.rsonline.data.rekappasien.nonkomorbid.Model",alias:"store.kemkes-rsonline-data-rekappasien-nonkomorbid-store"});Ext.define("kemkes.rsonline.data.tempattidur.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/data-tempat-tidur",fields:[{name:"id",type:"int"},{name:"id_tt",type:"int"},{name:"jumlah_ruang",type:"int",defaultValue:0},{name:"ruang",type:"string"},{name:"jumlah",type:"int",defaultValue:0},{name:"terpakai",type:"int",defaultValue:0},{name:"terpakai_suspek",type:"int",defaultValue:0},{name:"terpakai_konfirmasi",type:"int",defaultValue:0},{name:"prepare",type:"int",defaultValue:0},{name:"prepare_plan",type:"int",defaultValue:0},{name:"covid",type:"int",defaultValue:0},{name:"baru",type:"int",defaultValue:1},{name:"antrian",type:"int",defaultValue:0},{name:"tgl_kirim",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"kirim",type:"int",defaultValue:0},{name:"response",type:"string"}],idProperty:"id"});Ext.define("kemkes.rsonline.data.tempattidur.Store",{extend:"data.store.Store",model:"kemkes.rsonline.data.tempattidur.Model",alias:"store.kemkes-rsonline-data-tempattidur-store"});Ext.define("kemkes.rsonline.diagnosapasien.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/diagnosa-pasien",fields:[{name:"id",type:"int"},{name:"nomr",type:"int"},{name:"icd",type:"string"},{name:"level",type:"int"}],idProperty:"id"});Ext.define("kemkes.rsonline.diagnosapasien.Store",{extend:"data.store.Store",model:"kemkes.rsonline.diagnosapasien.Model",alias:"store.kemkes-rsonline-diagnosapasien-store"});Ext.define("kemkes.rsonline.kamarsimrsonline.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/kamar-simrs-rs-online",fields:[{name:"id",type:"int"},{name:"ruang_kamar",type:"int"},{name:"tempat_tidur",type:"int"},{name:"covid",type:"int",defaultValue:0},{name:"status",type:"int",defaultValue:1}],idProperty:"id"});Ext.define("kemkes.rsonline.kamarsimrsonline.Store",{extend:"data.store.Store",model:"kemkes.rsonline.kamarsimrsonline.Model",alias:"store.kemkes-rsonline-kamarsimrsonline-store"});Ext.define("kemkes.rsonline.pasien.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/pasien",fields:[{name:"noc",type:"string"},{name:"nomr",type:"int"},{name:"initial",type:"string"},{name:"nama_lengkap",type:"string"},{name:"tglmasuk",type:"date",dateFormat:"Y-m-d"},{name:"gender",type:"int",defaultValue:1},{name:"birthdate",type:"date",dateFormat:"Y-m-d"},{name:"kewarganegaraan",type:"int",defaultValue:1},{name:"jenis_pasien",type:"int",defaultValue:1},{name:"sumber_penularan",type:"int",defaultValue:3},{name:"kecamatan",type:"string"},{name:"tglkeluar",type:"date",dateFormat:"Y-m-d"},{name:"status_keluar",type:"int",defaultValue:0},{name:"tgl_lapor",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"status_rawat",type:"int"},{name:"status_isolasi",type:"int"},{name:"email",type:"string"},{name:"notelp",type:"string"},{name:"sebab_kematian",type:"string"}],idProperty:"nomr"});Ext.define("kemkes.rsonline.pasien.Store",{extend:"data.store.Store",model:"kemkes.rsonline.pasien.Model",alias:"store.kemkes-rsonline-pasien-store"});Ext.define("kemkes.rsonline.referensi.jeniskelamin.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/referensi/jenisKelamin",fields:[{name:"id_gender",type:"int"},{name:"gender",type:"string"}],idProperty:"id_gender"});Ext.define("kemkes.rsonline.referensi.jeniskelamin.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.jeniskelamin.Model",alias:"store.kemkes-rsonline-referensi-jeniskelamin-store"});Ext.define("kemkes.rsonline.referensi.jenispasien.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/referensi/jenisPasien",fields:[{name:"id_jenis_pasien",type:"int"},{name:"deskripsi",type:"string"}],idProperty:"id_jenis_pasien"});Ext.define("kemkes.rsonline.referensi.jenispasien.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.jenispasien.Model",alias:"store.kemkes-rsonline-referensi-jenispasien-store"});Ext.define("kemkes.rsonline.referensi.kebutuhan.apd.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/referensi/kebutuhanApd",fields:[{name:"id_kebutuhan",type:"int"},{name:"kebutuhan",type:"string"}],idProperty:"id_kebutuhan"});Ext.define("kemkes.rsonline.referensi.kebutuhan.apd.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.kebutuhan.apd.Model",alias:"store.kemkes-rsonline-referensi-kebutuhan-apd-store"});Ext.define("kemkes.rsonline.referensi.kebutuhan.sdm.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/referensi/kebutuhanSdm",fields:[{name:"id_kebutuhan",type:"int"},{name:"kebutuhan",type:"string"}],idProperty:"id_kebutuhan"});Ext.define("kemkes.rsonline.referensi.kebutuhan.sdm.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.kebutuhan.sdm.Model",alias:"store.kemkes-rsonline-referensi-kebutuhan-sdm-store"});Ext.define("kemkes.rsonline.referensi.status.isolasi.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/referensi/statusIsolasi",fields:[{name:"id_isolasi",type:"int"},{name:"id_status_rawat",type:"int"},{name:"status_isolasi",type:"string"}],idProperty:"id_isolasi"});Ext.define("kemkes.rsonline.referensi.status.isolasi.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.status.isolasi.Model",alias:"store.kemkes-rsonline-referensi-status-isolasi-store"});Ext.define("kemkes.rsonline.referensi.status.keluar.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/referensi/statusKeluar",fields:[{name:"id_status_rawat",type:"int"},{name:"status",type:"string"}],idProperty:"id_status_rawat"});Ext.define("kemkes.rsonline.referensi.status.keluar.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.status.keluar.Model",alias:"store.kemkes-rsonline-referensi-status-keluar-store"});Ext.define("kemkes.rsonline.referensi.status.rawat.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/referensi/statusRawat",fields:[{name:"id_status",type:"int"},{name:"status",type:"string"}],idProperty:"id_status"});Ext.define("kemkes.rsonline.referensi.status.rawat.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.status.rawat.Model",alias:"store.kemkes-rsonline-referensi-status-rawat-store"});Ext.define("kemkes.rsonline.referensi.sumberpenularan.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/referensi/sumberPenularan",fields:[{name:"id_source",type:"int"},{name:"sources",type:"string"}],idProperty:"id_source"});Ext.define("kemkes.rsonline.referensi.sumberpenularan.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.sumberpenularan.Model",alias:"store.kemkes-rsonline-referensi-sumberpenularan-store"});Ext.define("kemkes.rsonline.referensi.tempattidur.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/referensi/tempatTidur",fields:[{name:"kode_tt",type:"int"},{name:"nama_tt",type:"string"}],idProperty:"kode_tt"});Ext.define("kemkes.rsonline.referensi.tempattidur.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.tempattidur.Model",alias:"store.kemkes-rsonline-referensi-tempattidur-store"});Ext.define("kemkes.rsonline.referensi.wilayah.kabupaten.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/rsonline/referensi/kabupaten",fields:[{name:"kode",type:"string"},{name:"propinsi",type:"string"},{name:"nama",type:"string"}],idProperty:"kode"});Ext.define("kemkes.rsonline.referensi.wilayah.kabupaten.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.wilayah.kabupaten.Model",alias:"store.kemkes-rsonline-referensi-wilayah-kabupaten-store"});Ext.define("kemkes.rsonline.referensi.wilayah.kecamatan.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/rsonline/referensi/kecamatan",fields:[{name:"kode",type:"string"},{name:"kabkota",type:"string"},{name:"nama",type:"string"}],idProperty:"kode"});Ext.define("kemkes.rsonline.referensi.wilayah.kecamatan.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.wilayah.kecamatan.Model",alias:"store.kemkes-rsonline-referensi-wilayah-kecamatan-store"});Ext.define("kemkes.rsonline.referensi.wilayah.negara.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/referensi/kewarganegaraan",fields:[{name:"id_nation",type:"int"},{name:"nationality",type:"string"}],idProperty:"id_nation"});Ext.define("kemkes.rsonline.referensi.wilayah.negara.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.wilayah.negara.Model",alias:"store.kemkes-rsonline-referensi-wilayah-negara-store"});Ext.define("kemkes.rsonline.referensi.wilayah.propinsi.Model",{extend:"data.model.Model",serviceName:"kemkes/rsonline/referensi/propinsi",fields:[{name:"prop_kode",type:"string"},{name:"propinsi_nama",type:"string"}],idProperty:"prop_kode"});Ext.define("kemkes.rsonline.referensi.wilayah.propinsi.Store",{extend:"data.store.Store",model:"kemkes.rsonline.referensi.wilayah.propinsi.Model",alias:"store.kemkes-rsonline-referensi-wilayah-propinsi-store"});Ext.define("kemkes.rsonline.Workspace",{extend:"com.Form",xtype:"kemkes-rsonline-workspace",layout:"fit",bodyPadding:0,items:[{xtype:"com-form",ui:"panel-black",title:"&nbsp;Kemkes RSOnline",titleFieldConfig:{iconCls:"x-fa fa-shield"},fullscreenEnabled:true,menuConfig:{enabled:true,width:400,buttonConfig:{}},fullscreenConfig:{},header:{items:[{}]}}],load:function(a){var d=this,c=this.down("com-form"),e=[],b=Ext.JSON.decode(Ext.util.Base64.decode(d.app.xuam));b.forEach(function(g,f){g=Ext.JSON.decode(Ext.util.Base64.decode(g));if(g.ID.substring(0,8)=="19190101"&&g.LEVEL==5){e.push({text:g.DESKRIPSI,leaf:true,iconCls:g.ICON_CLS,className:g.CLASS,idClassName:d.replaceAll(g.CLASS.toLowerCase(),".","_")})}});c.setMenus(e)}});Ext.define("kemkes.rsonline.dashboard.Grid",{extend:"com.Grid",xtype:"kemkes-rsonline-dashboard-grid",controller:"kemkes-rsonline-dashboard-grid",viewModel:{data:{autoRefreshConfig:{enable:true,interval:15}},stores:{store:{type:"kemkes-rsonline-pasien-store",queryParams:{statistik:1}}}},viewConfig:{loadMask:false},hideHeaders:true,columns:[{flex:1,renderer:"onRendererDeskripsi"},{width:140,renderer:"onRenderer"},{width:140,renderer:"onRenderer"},{width:140,renderer:"onRenderer"},{width:140,renderer:"onRenderer"},{width:140,renderer:"onRenderer"},{width:140,renderer:"onRenderer"}],keyMapEnabled:true,keyMap:{"CTRL+SHIFT+Q":"onShowConfig"},doAfterLoad:function(d,b,f,a){var c=this.getViewModel(),e=c.get("autoRefreshConfig");if(d.task==undefined){d.task={run:function(){var g=c.get("autoRefreshConfig");d.task.interval=(g.interval*60)*1000;if(g.enable){d.reload()}},interval:(e.interval*60)*1000};(new Ext.util.DelayedTask(function(){Ext.TaskManager.start(d.task)})).delay((e.interval*60)*1000)}},destroy:function(){var a=this;if(a.task){Ext.TaskManager.stop(a.task)}a.callParent()}});Ext.define("kemkes.rsonline.dashboard.GridController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-dashboard-grid",onRendererDeskripsi:function(e,c,d){var a=["#dc3545","#ffc107","#28a745","#3279a2"],b=a[d.get("ID")-1];return'<div class="thumb-wrap" style="padding: 15px"><div class="thumb"><div style="font-weight: bold; font-size: 45px; color: '+b+';">'+d.get("JUDUL")+'</div><div style="font-size: 20px; white-space:normal !important; padding-top: 25px; color: #888">('+d.get("DESKRIPSI")+")</div></div></div>"},propertyItems:[{color:"#4c4c4c",judul:"Total",field:"TOTAL"},{color:"#595e90",judul:"Dirawat",field:"DIRAWAT"},{color:"#3c938b",judul:"Sembuh",field:"SEMBUH"},{color:"#d43619",judul:"Meninggal",field:"MENINGGAL"},{color:"#3279a2",judul:"Isolasi Mandiri",field:"ISOLASI"},{color:"#d05a44",judul:"Dirujuk",field:"DIRUJUK"}],onRenderer:function(g,e,f,d,a){var c=this.propertyItems[a-1],b=Ext.util.Format.number(f.get(c.field),"0,000");e.tdStyle="background: "+c.color;return'<div class="thumb-wrap"><div class="thumb" style="text-align: center; color: white;"><div style="font-size: 15px; padding-bottom: 25px;">'+c.judul+'</div><div style="font-weight: bold; font-size: 45px; padding-bottom: 30px;">'+b+"</div></div></div>"},onShowConfig:function(){var d=this,a=d.getView(),c=d.getViewModel(),b=c.get("autoRefreshConfig");var e=a.openWindow({maximized:false,header:false,width:400,height:220,border:false,items:[{xtype:"com-form",showCloseButton:true,iconCls:"x-fa fa-setting",bodyPadding:15,title:"Pengaturan Otomatis Perbaharui",layout:{type:"vbox",align:"stretch"},defaults:{margin:"0 0 1 0"},items:[{xtype:"checkbox",fieldLabel:"Hidupkan?",value:b.enable,inputValue:1,name:"hidupkan"},{xtype:"numberfield",labelAlign:"top",fieldLabel:"Interval dalam Menit",hideTrigger:true,minValue:1,value:b.interval,name:"interval"}],buttons:[{text:"Ok",handler:function(){var f=e.down("com-form").getForm().getValues();b.enable=f.hidupkan?true:false;b.interval=f.interval;e.close()}}]}]})}});Ext.define("kemkes.rsonline.data.kebutuhan.apd.Grid",{extend:"com.Grid",xtype:"kemkes-rsonline-data-kebutuhan-apd-grid",controller:"kemkes-rsonline-data-kebutuhan-apd-grid",viewModel:{stores:{store:{type:"kemkes-rsonline-data-kebutuhan-apd-store"},ttStore:{type:"kemkes-rsonline-referensi-kebutuhan-apd-store",queryParams:{loadFromWs:1}},storeKirim:{type:"kemkes-rsonline-data-kebutuhan-apd-store"}}},plugins:{ptype:"cellediting",clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit"}},initComponent:function(){var a=this;a.columns=[{xtype:"templatecolumn",text:"Item",sortable:false,tpl:"{REFERENSI.KebutuhanAPD.kebutuhan}",flex:1},{xtype:"numbercolumn",text:"Ketersediaan",dataIndex:"jumlah_eksisting",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Kebutuhan",dataIndex:"jumlah",format:"###",sortable:false,align:"right",width:176,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Diterima",dataIndex:"jumlah_diterima",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Sisa",format:"###",sortable:false,align:"right",width:132,renderer:"onRendererSisa"},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"}];a.callParent(arguments)},dockedItems:[{xtype:"toolbar",items:[{ui:"soft-blue",iconCls:"x-fa fa-refresh",text:"1. Ambil Data Referensi",handler:"loadDataReferensi",bind:{hidden:"{!listConfig.referensi}"}},{ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"2. Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},"->",{ui:"soft-blue",iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan",bind:{hidden:"{!listConfig.simpan}"}},{ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]}],doAfterLoad:function(j,b,g,d){var a=j.getParams().loadFromWs;j.setParams({loadFromWs:0});try{if(!g){if(a!=1){j.removeDataStore()}if(d.error){var f=d.error.response,c=Ext.JSON.decode(f.responseText),h=c.detail?(Ext.isObject(c.detail)?Ext.JSON.encode(c.detail):c.detail):"Koneksi Gagal";j.notifyMessage(j.replaceAll(h,"#","<br/>"),"danger-red")}}}catch(i){j.notifyMessage("Koneksi Gagal","danger-red")}},onBeforeLoad:function(g,e,b){var f=g.app.xpriv("191901010401",false),d=g.app.xpriv("191901010402",false),a=g.app.xpriv("191901010403",false),c=g.app.xpriv("191901010404",false);g.setListConfig({referensi:f,dataOnline:d,simpan:a,kirim:c})}});Ext.define("kemkes.rsonline.data.kebutuhan.apd.GridController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-data-kebutuhan-apd-grid",onRendererSisa:function(i,f,g,a,e,c){var d=g.get("jumlah")-g.get("jumlah_diterima");return d<0?0:d},loadDataReferensi:function(c){var e=this,a=e.getView(),d=e.getViewModel(),b=d.get("ttStore");if(b){b.load({callback:function(h,g,k){if(k){a.notifyMessage("Data Referensi berhasil di ambil dari RS Online");e.onRefresh()}else{if(g.error){var f=g.error.response,j=Ext.JSON.decode(f.responseText),i=j.detail?(Ext.isObject(j.detail)?Ext.JSON.encode(j.detail):j.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(i,"#","<br/>"),"danger-red")}}}})}},loadFromRsOnline:function(b){var a=this.getView();a.setParams({loadFromWs:1});this.onRefresh()},onSimpan:function(c){var d=this,b=d.getStore("store"),e=b.getModifiedRecords(),a=0;Ext.Array.each(e,function(g){var f=g.crudState=="U"?g.clone():Ext.clone(g);delete f.data.REFERENSI;f.save({callback:function(h,i,j){if(j){if(a===(e.length-1)){d.getView().notifyMessage("Data telah disimpan")}}a++}})});d.onRefresh()},kirimKeRsOnline:function(){var d=this,a=d.getView(),c=d.getViewModel(),b=c.get("storeKirim");if(b){b.setQueryParams({kirim:1});b.load({callback:function(g,f,k){if(k){var e=f.getResponse(),j=Ext.JSON.decode(e.responseText);a.notifyMessage(a.replaceAll(j.detail,"#","<br/>"))}else{if(f.error){var e=f.error.response,i=Ext.JSON.decode(e.responseText),h=i.detail?(Ext.isObject(i.detail)?Ext.JSON.encode(i.detail):i.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(h,"#","<br/>"),"danger-red")}}}})}},onBeforeEdit:function(d,b){var e=this,c=e.getViewModel(),a=c.get("listConfig");if(!a.simpan){b.cancel=true}},onRefresh:function(){this.getView().reload()},onRenderer:function(g,e,f,d,c,b,a){e.tdStyle=f.get("kirim")==1?"color: green; font-weight: bold":"";return f.get("kirim")==1?"Proses":"Selesai"}});Ext.define("kemkes.rsonline.data.kebutuhan.sdm.Grid",{extend:"com.Grid",xtype:"kemkes-rsonline-data-kebutuhan-sdm-grid",controller:"kemkes-rsonline-data-kebutuhan-sdm-grid",viewModel:{stores:{store:{type:"kemkes-rsonline-data-kebutuhan-sdm-store"},ttStore:{type:"kemkes-rsonline-referensi-kebutuhan-sdm-store",queryParams:{loadFromWs:1}},storeKirim:{type:"kemkes-rsonline-data-kebutuhan-sdm-store"}}},plugins:{ptype:"cellediting",clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit"}},initComponent:function(){var a=this;a.columns=[{xtype:"templatecolumn",text:"Deskripsi",sortable:false,tpl:"{REFERENSI.KebutuhanSDM.kebutuhan}",flex:1},{xtype:"numbercolumn",text:"Eksisting",dataIndex:"jumlah_eksisting",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Kebutuhan",dataIndex:"jumlah",format:"###",sortable:false,align:"right",width:176,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Diterima",dataIndex:"jumlah_diterima",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Sisa",format:"###",sortable:false,align:"right",width:132,renderer:"onRendererSisa"},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"}];a.callParent(arguments)},dockedItems:[{xtype:"toolbar",items:[{ui:"soft-blue",iconCls:"x-fa fa-refresh",text:"1. Ambil Data Referensi",handler:"loadDataReferensi",bind:{hidden:"{!listConfig.referensi}"}},{ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"2. Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},"->",{ui:"soft-blue",iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan",bind:{hidden:"{!listConfig.simpan}"}},{ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]}],doAfterLoad:function(j,b,g,d){var a=j.getParams().loadFromWs;j.setParams({loadFromWs:0});try{if(!g){if(a!=1){j.removeDataStore()}if(d.error){var f=d.error.response,c=Ext.JSON.decode(f.responseText),h=c.detail?(Ext.isObject(c.detail)?Ext.JSON.encode(c.detail):c.detail):"Koneksi Gagal";j.notifyMessage(j.replaceAll(h,"#","<br/>"),"danger-red")}}}catch(i){j.notifyMessage("Koneksi Gagal","danger-red")}},onBeforeLoad:function(g,e,b){var f=g.app.xpriv("191901010301",false),d=g.app.xpriv("191901010302",false),a=g.app.xpriv("191901010303",false),c=g.app.xpriv("191901010304",false);g.setListConfig({referensi:f,dataOnline:d,simpan:a,kirim:c})}});Ext.define("kemkes.rsonline.data.kebutuhan.sdm.GridController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-data-kebutuhan-sdm-grid",onRendererSisa:function(i,f,g,a,e,c){var d=g.get("jumlah")-g.get("jumlah_diterima");return d<0?0:d},loadDataReferensi:function(c){var e=this,a=e.getView(),d=e.getViewModel(),b=d.get("ttStore");if(b){b.load({callback:function(h,g,k){if(k){a.notifyMessage("Data Referensi berhasil di ambil dari RS Online");e.onRefresh()}else{if(g.error){var f=g.error.response,j=Ext.JSON.decode(f.responseText),i=j.detail?(Ext.isObject(j.detail)?Ext.JSON.encode(j.detail):j.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(i,"#","<br/>"),"danger-red")}}}})}},loadFromRsOnline:function(b){var a=this.getView();a.setParams({loadFromWs:1});this.onRefresh()},onSimpan:function(c){var d=this,b=d.getStore("store"),e=b.getModifiedRecords(),a=0;Ext.Array.each(e,function(g){var f=g.crudState=="U"?g.clone():Ext.clone(g);delete f.data.REFERENSI;f.save({callback:function(h,i,j){if(j){if(a===(e.length-1)){d.getView().notifyMessage("Data telah disimpan")}}a++}})});d.onRefresh()},kirimKeRsOnline:function(){var d=this,a=d.getView(),c=d.getViewModel(),b=c.get("storeKirim");if(b){b.setQueryParams({kirim:1});b.load({callback:function(g,f,k){if(k){var e=f.getResponse(),j=Ext.JSON.decode(e.responseText);a.notifyMessage(a.replaceAll(j.detail,"#","<br/>"))}else{if(f.error){var e=f.error.response,i=Ext.JSON.decode(e.responseText),h=i.detail?(Ext.isObject(i.detail)?Ext.JSON.encode(i.detail):i.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(h,"#","<br/>"),"danger-red")}}}})}},onBeforeEdit:function(d,b){var e=this,c=e.getViewModel(),a=c.get("listConfig");if(!a.simpan){b.cancel=true}},onRefresh:function(){this.getView().reload()},onRenderer:function(g,e,f,d,c,b,a){e.tdStyle=f.get("kirim")==1?"color: green; font-weight: bold":"";return f.get("kirim")==1?"Proses":"Selesai"}});Ext.define("kemkes.rsonline.data.rekappasien.keluar.Form",{extend:"com.Form",xtype:"kemkes-rsonline-data-rekappasien-keluar-form",controller:"kemkes-rsonline-data-rekappasien-keluar-form",model:"kemkes.rsonline.data.rekappasien.keluar.Model",layout:{type:"vbox",align:"stretch"},isCreate:false,bodyPadding:15,scrollable:"y",defaults:{labelAlign:"top",labelStyle:"font-weight: bold; font-size: 17px",margin:"0 0 15 0"},items:[{xtype:"datefield",fieldLabel:"Tanggal Keluar",format:"d-m-Y",name:"tanggal",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.tanggal}"}},{xtype:"numberfield",fieldLabel:"Sembuh / APD (Atas Persetujuan Dokter)",name:"sembuh",labelAlign:"top",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.sembuh}"}},{xtype:"numberfield",fieldLabel:"Discarded",name:"discarded",labelAlign:"top",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.discarded}"}},{xtype:"fieldcontainer",fieldLabel:"Meninggal",layout:{type:"vbox",align:"stretch"},defaults:{xtype:"numberfield",labelAlign:"top",labelStyle:"font-weight: bold;",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,margin:"0 0 0 15px"},items:[{fieldLabel:"Confirm dengan Komorbid",name:"meninggal_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_komorbid}"}},{fieldLabel:"Confirm tanpa Komorbid",name:"meninggal_tanpa_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_tanpa_komorbid}"}},{xtype:"fieldcontainer",fieldLabel:"Probable dengan Komorbid",layout:{type:"vbox",align:"stretch"},margin:"15px 0 0 15px",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,margin:"0 0 0 15px"},items:[{fieldLabel:"Usia 0 - 6 hari",name:"meninggal_prob_pre_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_pre_komorbid}"}},{fieldLabel:"Usia 7 - 28 hari",name:"meninggal_prob_neo_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_neo_komorbid}"}},{fieldLabel:"Usia 29 hari - < 1 tahun",name:"meninggal_prob_bayi_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_bayi_komorbid}"}},{fieldLabel:"Usia 1 - 4 tahun",name:"meninggal_prob_balita_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_balita_komorbid}"}},{fieldLabel:"Usia 5 - 18 tahun",name:"meninggal_prob_anak_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_anak_komorbid}"}},{fieldLabel:"Usia 19 - 40 tahun",name:"meninggal_prob_remaja_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_remaja_komorbid}"}},{fieldLabel:"Usia 41 - 60 tahun",name:"meninggal_prob_dws_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_dws_komorbid}"}},{fieldLabel:"Usia > 60 tahun",name:"meninggal_prob_lansia_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_lansia_komorbid}"}}]},{xtype:"fieldcontainer",fieldLabel:"Probable tanpa Komorbid",layout:{type:"vbox",align:"stretch"},margin:"15px 0 15px 15px",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,margin:"0 0 0 15px"},items:[{fieldLabel:"Usia 0 - 6 hari",name:"meninggal_prob_pre_tanpa_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_pre_tanpa_komorbid}"}},{fieldLabel:"Usia 7 - 28 hari",name:"meninggal_prob_neo_tanpa_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_neo_tanpa_komorbid}"}},{fieldLabel:"Usia 29 hari - < 1 tahun",name:"meninggal_prob_bayi_tanpa_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_bayi_tanpa_komorbid}"}},{fieldLabel:"Usia 1 - 4 tahun",name:"meninggal_prob_balita_tanpa_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_balita_tanpa_komorbid}"}},{fieldLabel:"Usia 5 - 18 tahun",name:"meninggal_prob_anak_tanpa_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_anak_tanpa_komorbid}"}},{fieldLabel:"Usia 19 - 40 tahun",name:"meninggal_prob_remaja_tanpa_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_remaja_tanpa_komorbid}"}},{fieldLabel:"Usia 41 - 60 tahun",name:"meninggal_prob_dws_tanpa_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_dws_tanpa_komorbid}"}},{fieldLabel:"Usia > 60 tahun",name:"meninggal_prob_lansia_tanpa_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_prob_lansia_tanpa_komorbid}"}}]},{fieldLabel:"Discarded dengan Komorbid",name:"meninggal_discarded_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_discarded_komorbid}"}},{fieldLabel:"Discarded tanpa Komorbid",name:"meninggal_discarded_tanpa_komorbid",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.meninggal_discarded_tanpa_komorbid}"}}]},{xtype:"numberfield",fieldLabel:"Dirujuk",name:"dirujuk",labelAlign:"top",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.dirujuk}"}},{xtype:"numberfield",fieldLabel:"Isolasi Mandiri",name:"isman",labelAlign:"top",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isman}"}},{xtype:"numberfield",fieldLabel:"APS / Atas Permintaan Sendiri / Kabur",name:"aps",labelAlign:"top",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.aps}"}}],onLoadRecord:function(b,c){var a=b.down("[name=tanggal]");a.setReadOnly(!b.isCreate)},buttons:["->",{iconCls:"x-fa fa-save",text:"Simpan",kirim:0,handler:"onSimpan"},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",kirim:1,text:"Simpan & Kirim Data ke RS Online",handler:"onSimpan"}],onBeforeGetRecord:function(b,c){var a=b.down("[name=tanggal]").getValue();if(c.tanggal){c.tanggal=Ext.Date.format(a,"Y-m-d")}}});Ext.define("kemkes.rsonline.data.rekappasien.keluar.FormController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-data-rekappasien-keluar-form",onSimpan:function(c){var d=this,b=d.getView(),a=b.getRecord();if(a){if(c.kirim){a.set("kirim",c.kirim)}b.save(c)}}});Ext.define("kemkes.rsonline.data.rekappasien.keluar.Grid",{extend:"com.Grid",xtype:"kemkes-rsonline-data-rekappasien-keluar-grid",controller:"kemkes-rsonline-data-rekappasien-keluar-grid",viewModel:{stores:{store:{type:"kemkes-rsonline-data-rekappasien-keluar-store"},storeKirim:{type:"kemkes-rsonline-data-rekappasien-keluar-store"}}},ui:"panel-gray",title:"Rekap Pasien Keluar",header:{items:[{xtype:"button",ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-cerulen",handler:"onTambah",tooltip:"Pasien Baru",bind:{hidden:"{!listConfig.tambah}"}},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{xtype:"button",ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]},actions:{edit:{iconCls:"x-fa fa-edit",tooltip:"Ubah",handler:"onUbah"}},columns:[{xtype:"datecolumn",text:"Tanggal",dataIndex:"tanggal",format:"d M Y",sortable:false,width:100},{xtype:"numbercolumn",text:"Sembuh<br/>APD",dataIndex:"sembuh",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"Discarded",dataIndex:"discarded",format:"###",sortable:false,align:"right",width:100},{text:"meninggal",sortable:false,columns:[{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"Dengan<br/>Komorbid",dataIndex:"meninggal_komorbid",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"Tanpa<br/>Komorbid",dataIndex:"meninggal_tanpa_komorbid",format:"###",sortable:false,align:"right",width:100}]},{text:"Probable",sortable:false,columns:[{text:"Dengan Komorbid",sortable:false,columns:[{xtype:"numbercolumn",text:"Usia:<br/>0 - 6 hari",dataIndex:"meninggal_prob_pre_komorbid",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"Usia:<br/>7 - 28 hari",dataIndex:"meninggal_prob_neo_komorbid",format:"###",sortable:false,align:"right",width:105},{xtype:"numbercolumn",text:"Usia:<br/>29 hari - < 1 Tahun",dataIndex:"meninggal_prob_bayi_komorbid",format:"###",sortable:false,align:"right",width:150},{xtype:"numbercolumn",text:"Usia:<br/>1 - 4 Tahun",dataIndex:"meninggal_prob_balita_komorbid",format:"###",sortable:false,align:"right",width:105},{xtype:"numbercolumn",text:"Usia:<br/>5 - 18 Tahun",dataIndex:"meninggal_prob_anak_komorbid",format:"###",sortable:false,align:"right",width:115},{xtype:"numbercolumn",text:"Usia:<br/>19 - 40 Tahun",dataIndex:"meninggal_prob_remaja_komorbid",format:"###",sortable:false,align:"right",width:120},{xtype:"numbercolumn",text:"Usia:<br/>41 - 60 Tahun",dataIndex:"meninggal_prob_dws_komorbid",format:"###",sortable:false,align:"right",width:120},{xtype:"numbercolumn",text:"Usia:<br/>> 61 Tahun",dataIndex:"meninggal_prob_lansia_komorbid",format:"###",sortable:false,align:"right",width:110}]},{text:"Tanpa Komorbid",sortable:false,columns:[{xtype:"numbercolumn",text:"Usia:<br/>0 - 6 hari",dataIndex:"meninggal_prob_pre_tanpa_komorbid",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"Usia:<br/>7 - 28 hari",dataIndex:"meninggal_prob_neo_tanpa_komorbid",format:"###",sortable:false,align:"right",width:105},{xtype:"numbercolumn",text:"Usia:<br/>29 hari - < 1 Tahun",dataIndex:"meninggal_prob_bayi_tanpa_komorbid",format:"###",sortable:false,align:"right",width:150},{xtype:"numbercolumn",text:"Usia:<br/>1 - 4 Tahun",dataIndex:"meninggal_prob_balita_tanpa_komorbid",format:"###",sortable:false,align:"right",width:105},{xtype:"numbercolumn",text:"Usia:<br/>5 - 18 Tahun",dataIndex:"meninggal_prob_anak_tanpa_komorbid",format:"###",sortable:false,align:"right",width:115},{xtype:"numbercolumn",text:"Usia:<br/>19 - 40 Tahun",dataIndex:"meninggal_prob_remaja_tanpa_komorbid",format:"###",sortable:false,align:"right",width:120},{xtype:"numbercolumn",text:"Usia:<br/>41 - 60 Tahun",dataIndex:"meninggal_prob_dws_tanpa_komorbid",format:"###",sortable:false,align:"right",width:120},{xtype:"numbercolumn",text:"Usia:<br/>> 61 Tahun",dataIndex:"meninggal_prob_lansia_tanpa_komorbid",format:"###",sortable:false,align:"right",width:110}]}]},{text:"Discarded",sortable:false,columns:[{xtype:"numbercolumn",text:"Dengan<br/>Komorbid",dataIndex:"meninggal_discarded_komorbid",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"Tanpa<br/>Komorbid",dataIndex:"meninggal_discarded_tanpa_komorbid",format:"###",sortable:false,align:"right",width:100}]}]},{xtype:"numbercolumn",text:"Dirujuk",dataIndex:"dirujuk",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"Isolasi<br/>Mandiri<br/>di Rumah",dataIndex:"isman",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"Atas<br/>Permintaan<br/>Sendiri (APS)",dataIndex:"aps",format:"###",sortable:false,align:"right",width:115},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"},{menuDisabled:true,sortable:false,align:"center",xtype:"actioncolumn",text:"#",width:50,items:["@edit"],bind:{hidden:"{!listConfig.edit}"}}],doAfterLoad:function(j,b,g,d){var a=j.getParams().loadFromWs;j.setParams({loadFromWs:0});try{if(!g){if(a!=1){j.removeDataStore()}if(d.error){var f=d.error.response,c=Ext.JSON.decode(f.responseText),h=c.detail?(Ext.isObject(c.detail)?Ext.JSON.encode(c.detail):c.detail):"Koneksi Gagal";j.notifyMessage(j.replaceAll(h,"#","<br/>"),"danger-red")}}}catch(i){j.notifyMessage("Koneksi Gagal","danger-red")}},listeners:{itemdblclick:"onItemDblclick"},initContext:false,onBeforeLoad:function(g,e,a){var d=g.app.xpriv("191901010601",false),b=g.app.xpriv("191901010602",false),f=g.app.xpriv("191901010603",false),c=g.app.xpriv("191901010604",false);g.setListConfig({paging:true,dataOnline:d,tambah:b,edit:f,kirim:c});if(!g.initContext){if(g.setMenuContext){g.setMenuContext([{text:"Edit",iconCls:"x-fa fa-edit",scope:g.getController(),handler:"onMenuEdit"}]);g.initContext=true}}}});Ext.define("kemkes.rsonline.data.rekappasien.keluar.GridController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-data-rekappasien-keluar-grid",onTambah:function(b){var c=this,a=c.getView();this.openWindow(b,true,{tanggal:a.getSysdate()})},onUbah:function(b,e,a,f,c,d){this.openWindow(b,false,d)},onMenuEdit:function(b){var a=this.getView(),c=a.getSelection();if(c.length==0){return}this.openWindow(b,false,c[0])},onItemDblclick:function(d,a,f,b,g,c){this.openWindow(d,false,a)},onRenderer:function(g,e,f,d,c,b,a){e.tdStyle=f.get("kirim")==1?"color: green; font-weight: bold":"";return f.get("kirim")==1?"Proses":"Selesai"},privates:{openWindow:function(c,b,e){var d=this,a=d.getView();a.openDialog("",true,"40%","100%",{xtype:"kemkes-rsonline-data-rekappasien-keluar-form",ui:"panel-cyan",showCloseButton:true,title:(b?"Tambah":"Ubah")+" Rekap Pasien Keluar",isCreate:b},function(f,g){form=g.down("kemkes-rsonline-data-rekappasien-keluar-form");if(b){form.createRecord(e)}else{form.loadRecord(e)}form.on("save",function(){if(b){g.close()}a.load()});if(b){form.focus("tanggal")}else{form.focus("sembuh")}})}},loadFromRsOnline:function(b){var a=this.getView();a.setParams({loadFromWs:1});this.onRefresh()},kirimKeRsOnline:function(){var d=this,a=d.getView(),c=d.getViewModel(),b=c.get("storeKirim");if(b){b.setQueryParams({kirim:1});b.load({callback:function(g,f,k){if(k){var e=f.getResponse(),j=Ext.JSON.decode(e.responseText);a.notifyMessage(a.replaceAll(j.detail,"#","<br/>"));a.load()}else{if(f.error){var e=f.error.response,i=Ext.JSON.decode(e.responseText),h=i.detail?(Ext.isObject(i.detail)?Ext.JSON.encode(i.detail):i.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(h,"#","<br/>"),"danger-red")}}}})}},onRefresh:function(){this.getView().reload()}});Ext.define("kemkes.rsonline.data.rekappasien.komorbid.Form",{extend:"com.Form",xtype:"kemkes-rsonline-data-rekappasien-komorbid-form",controller:"kemkes-rsonline-data-rekappasien-komorbid-form",model:"kemkes.rsonline.data.rekappasien.komorbid.Model",layout:{type:"vbox",align:"stretch"},isCreate:false,bodyPadding:15,scrollable:"y",defaults:{labelAlign:"top",labelStyle:"font-weight: bold; font-size: 17px",margin:"0 0 15 0"},items:[{xtype:"datefield",fieldLabel:"Tanggal Dirawat",format:"d-m-Y",name:"tanggal",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.tanggal}"}},{xtype:"fieldcontainer",fieldLabel:"ICU Tekanan Negatif dengan Ventilator",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"icu_tekanan_negatif_dengan_ventilator_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_dengan_ventilator_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"icu_tekanan_negatif_dengan_ventilator_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_dengan_ventilator_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"icu_tekanan_negatif_dengan_ventilator_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_dengan_ventilator_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"icu_tekanan_negatif_dengan_ventilator_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_dengan_ventilator_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"ICU Tekanan Negatif tanpa Ventilator",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"icu_tekanan_negatif_tanpa_ventilator_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_tanpa_ventilator_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"icu_tekanan_negatif_tanpa_ventilator_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_tanpa_ventilator_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"icu_tekanan_negatif_tanpa_ventilator_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_tanpa_ventilator_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"icu_tekanan_negatif_tanpa_ventilator_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_tanpa_ventilator_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"ICU Tanpa Tekanan Negatif Dengan Ventilator",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"icu_dengan_ventilator_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_dengan_ventilator_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"icu_dengan_ventilator_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_dengan_ventilator_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"icu_dengan_ventilator_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_dengan_ventilator_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"icu_dengan_ventilator_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_dengan_ventilator_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"ICU Tanpa Tekanan Negatif Tanpa Ventilator",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"icu_tanpa_ventilator_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tanpa_ventilator_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"icu_tanpa_ventilator_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tanpa_ventilator_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"icu_tanpa_ventilator_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tanpa_ventilator_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"icu_tanpa_ventilator_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tanpa_ventilator_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"Isolasi Tekanan Negatif",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"isolasi_tekanan_negatif_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tekanan_negatif_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"isolasi_tekanan_negatif_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tekanan_negatif_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"isolasi_tekanan_negatif_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tekanan_negatif_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"isolasi_tekanan_negatif_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tekanan_negatif_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"Isolasi Tanpa Tekanan Negatif",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"isolasi_tanpa_tekanan_negatif_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tanpa_tekanan_negatif_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"isolasi_tanpa_tekanan_negatif_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tanpa_tekanan_negatif_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"isolasi_tanpa_tekanan_negatif_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tanpa_tekanan_negatif_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"isolasi_tanpa_tekanan_negatif_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tanpa_tekanan_negatif_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"NICU Khusus Covid",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"nicu_khusus_covid_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nicu_khusus_covid_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"nicu_khusus_covid_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nicu_khusus_covid_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"nicu_khusus_covid_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nicu_khusus_covid_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"nicu_khusus_covid_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nicu_khusus_covid_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"PICU Khusus Covid",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"picu_khusus_covid_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.picu_khusus_covid_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"picu_khusus_covid_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.picu_khusus_covid_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"picu_khusus_covid_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.picu_khusus_covid_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"picu_khusus_covid_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.picu_khusus_covid_confirm_p}"}}]}],onLoadRecord:function(b,c){var a=b.down("[name=tanggal]");a.setReadOnly(!b.isCreate)},buttons:["->",{iconCls:"x-fa fa-save",text:"Simpan",kirim:0,handler:"onSimpan"},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",kirim:1,text:"Simpan & Kirim Data ke RS Online",handler:"onSimpan"}],onBeforeGetRecord:function(b,c){var a=b.down("[name=tanggal]").getValue();if(c.tanggal){c.tanggal=Ext.Date.format(a,"Y-m-d")}}});Ext.define("kemkes.rsonline.data.rekappasien.komorbid.FormController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-data-rekappasien-komorbid-form",onSimpan:function(c){var d=this,b=d.getView(),a=b.getRecord();if(a){if(c.kirim){a.set("kirim",c.kirim)}b.save(c)}}});Ext.define("kemkes.rsonline.data.rekappasien.komorbid.Grid",{extend:"com.Grid",xtype:"kemkes-rsonline-data-rekappasien-komorbid-grid",controller:"kemkes-rsonline-data-rekappasien-komorbid-grid",viewModel:{stores:{store:{type:"kemkes-rsonline-data-rekappasien-komorbid-store"},storeKirim:{type:"kemkes-rsonline-data-rekappasien-komorbid-store"}}},ui:"panel-gray",title:"Rekap Data Harian Pasien Dirawat dengan Komorbid",header:{items:[{xtype:"button",ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-cerulen",handler:"onTambah",tooltip:"Pasien Baru",bind:{hidden:"{!listConfig.tambah}"}},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{xtype:"button",ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]},actions:{edit:{iconCls:"x-fa fa-edit",tooltip:"Ubah",handler:"onUbah"}},columns:[{xtype:"datecolumn",text:"Tanggal",dataIndex:"tanggal",format:"d M Y",sortable:false,width:100},{text:"NICU Khusus Covid",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"nicu_khusus_covid_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"nicu_khusus_covid_suspect_l",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"nicu_khusus_covid_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"nicu_khusus_covid_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:1,renderer:"onRenderer"}]},{text:"PICU Khusus Covid",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"picu_khusus_covid_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"picu_khusus_covid_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"picu_khusus_covid_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"picu_khusus_covid_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:2,renderer:"onRenderer"}]},{text:"ICU Tekanan Negatif dengan Ventilator",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tekanan_negatif_dengan_ventilator_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tekanan_negatif_dengan_ventilator_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tekanan_negatif_dengan_ventilator_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tekanan_negatif_dengan_ventilator_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:3,renderer:"onRenderer"}]},{text:"ICU Tekanan Negatif tanpa Ventilator",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tekanan_negatif_tanpa_ventilator_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tekanan_negatif_tanpa_ventilator_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tekanan_negatif_tanpa_ventilator_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tekanan_negatif_tanpa_ventilator_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:4,renderer:"onRenderer"}]},{text:"ICU Tanpa Tekanan Negatif Dengan Ventilator",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_dengan_ventilator_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_dengan_ventilator_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_dengan_ventilator_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_dengan_ventilator_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:5,renderer:"onRenderer"}]},{text:"ICU Tanpa Tekanan Negatif Tanpa Ventilator",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tanpa_ventilator_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tanpa_ventilator_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tanpa_ventilator_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tanpa_ventilator_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:6,renderer:"onRenderer"}]},{text:"Isolasi Tekanan Negatif",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"isolasi_tekanan_negatif_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"isolasi_tekanan_negatif_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"isolasi_tekanan_negatif_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"isolasi_tekanan_negatif_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:7,renderer:"onRenderer"}]},{text:"Isolasi Tanpa Tekanan Negatif",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"isolasi_tanpa_tekanan_negatif_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"isolasi_tanpa_tekanan_negatif_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"isolasi_tanpa_tekanan_negatif_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"isolasi_tanpa_tekanan_negatif_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:8,renderer:"onRenderer"}]},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"},{menuDisabled:true,sortable:false,align:"center",xtype:"actioncolumn",text:"#",width:50,items:["@edit"],bind:{hidden:"{!listConfig.edit}"}}],doAfterLoad:function(j,b,g,d){var a=j.getParams().loadFromWs;j.setParams({loadFromWs:0});try{if(!g){if(a!=1){j.removeDataStore()}if(d.error){var f=d.error.response,c=Ext.JSON.decode(f.responseText),h=c.detail?(Ext.isObject(c.detail)?Ext.JSON.encode(c.detail):c.detail):"Koneksi Gagal";j.notifyMessage(j.replaceAll(h,"#","<br/>"),"danger-red")}}}catch(i){j.notifyMessage("Koneksi Gagal","danger-red")}},listeners:{itemdblclick:"onItemDblclick"},initContext:false,onBeforeLoad:function(g,e,a){var d=g.app.xpriv("191901010601",false),b=g.app.xpriv("191901010602",false),f=g.app.xpriv("191901010603",false),c=g.app.xpriv("191901010604",false);g.setListConfig({paging:true,dataOnline:d,tambah:b,edit:f,kirim:c});if(!g.initContext){if(g.setMenuContext){g.setMenuContext([{text:"Edit",iconCls:"x-fa fa-edit",scope:g.getController(),handler:"onMenuEdit"}]);g.initContext=true}}}});Ext.define("kemkes.rsonline.data.rekappasien.komorbid.GridController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-data-rekappasien-komorbid-grid",onTambah:function(b){var c=this,a=c.getView();this.openWindow(b,true,{tanggal:a.getSysdate()})},onUbah:function(b,e,a,f,c,d){this.openWindow(b,false,d)},onMenuEdit:function(b){var a=this.getView(),c=a.getSelection();if(c.length==0){return}this.openWindow(b,false,c[0])},onItemDblclick:function(d,a,f,b,g,c){this.openWindow(d,false,a)},onRenderer:function(h,f,g,e,d,c,b){if(b.grid.columns[d].itemIndex){var a=b.grid.columns[d].itemIndex;f.tdStyle="background-color: darkgray; color: white; font-weight: bold; font-size: 14px;";if(a==1){return Ext.util.Format.number(g.get("nicu_khusus_covid_suspect_l")+g.get("nicu_khusus_covid_suspect_p")+g.get("nicu_khusus_covid_confirm_l")+g.get("nicu_khusus_covid_confirm_p"),"0")}if(a==2){return Ext.util.Format.number(g.get("picu_khusus_covid_suspect_l")+g.get("picu_khusus_covid_suspect_p")+g.get("picu_khusus_covid_confirm_l")+g.get("picu_khusus_covid_confirm_p"),"0")}if(a==3){return Ext.util.Format.number(g.get("icu_tekanan_negatif_dengan_ventilator_suspect_l")+g.get("icu_tekanan_negatif_dengan_ventilator_suspect_p")+g.get("icu_tekanan_negatif_dengan_ventilator_confirm_l")+g.get("icu_tekanan_negatif_dengan_ventilator_confirm_p"),"0")}if(a==4){return Ext.util.Format.number(g.get("icu_tekanan_negatif_tanpa_ventilator_suspect_l")+g.get("icu_tekanan_negatif_tanpa_ventilator_suspect_p")+g.get("icu_tekanan_negatif_tanpa_ventilator_confirm_l")+g.get("icu_tekanan_negatif_tanpa_ventilator_confirm_p"),"0")}if(a==5){return Ext.util.Format.number(g.get("icu_dengan_ventilator_suspect_l")+g.get("icu_dengan_ventilator_suspect_p")+g.get("icu_dengan_ventilator_confirm_l")+g.get("icu_dengan_ventilator_confirm_p"),"0")}if(a==6){return Ext.util.Format.number(g.get("icu_tanpa_ventilator_suspect_l")+g.get("icu_tanpa_ventilator_suspect_p")+g.get("icu_tanpa_ventilator_confirm_l")+g.get("icu_tanpa_ventilator_confirm_p"),"0")}if(a==7){return Ext.util.Format.number(g.get("isolasi_tekanan_negatif_suspect_l")+g.get("isolasi_tekanan_negatif_suspect_p")+g.get("isolasi_tekanan_negatif_confirm_l")+g.get("isolasi_tekanan_negatif_confirm_p"),"0")}if(a==8){return Ext.util.Format.number(g.get("isolasi_tanpa_tekanan_negatif_suspect_l")+g.get("isolasi_tanpa_tekanan_negatif_suspect_p")+g.get("isolasi_tanpa_tekanan_negatif_confirm_l")+g.get("isolasi_tanpa_tekanan_negatif_confirm_p"),"0")}}else{f.tdStyle=g.get("kirim")==1?"color: green; font-weight: bold":"";return g.get("kirim")==1?"Proses":"Selesai"}},privates:{openWindow:function(c,b,e){var d=this,a=d.getView();a.openDialog("",true,"75%","90%",{xtype:"kemkes-rsonline-data-rekappasien-komorbid-form",ui:"panel-cyan",showCloseButton:true,title:(b?"Tambah":"Ubah")+" Rekap Pasien Dirawat dengan Komorbid",isCreate:b},function(f,g){form=g.down("kemkes-rsonline-data-rekappasien-komorbid-form");if(b){form.createRecord(e)}else{form.loadRecord(e)}form.on("save",function(){if(b){g.close()}a.load()});if(b){form.focus("tanggal")}else{form.focus("icu_tekanan_negatif_dengan_ventilator_suspect_l")}})}},loadFromRsOnline:function(b){var a=this.getView();a.setParams({loadFromWs:1});this.onRefresh()},kirimKeRsOnline:function(){var d=this,a=d.getView(),c=d.getViewModel(),b=c.get("storeKirim");if(b){b.setQueryParams({kirim:1});b.load({callback:function(g,f,k){if(k){var e=f.getResponse(),j=Ext.JSON.decode(e.responseText);a.notifyMessage(a.replaceAll(j.detail,"#","<br/>"));a.load()}else{if(f.error){var e=f.error.response,i=Ext.JSON.decode(e.responseText),h=i.detail?(Ext.isObject(i.detail)?Ext.JSON.encode(i.detail):i.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(h,"#","<br/>"),"danger-red")}}}})}},onRefresh:function(){this.getView().reload()}});Ext.define("kemkes.rsonline.data.rekappasien.masuk.Form",{extend:"com.Form",xtype:"kemkes-rsonline-data-rekappasien-masuk-form",controller:"kemkes-rsonline-data-rekappasien-masuk-form",model:"kemkes.rsonline.data.rekappasien.masuk.Model",layout:{type:"vbox",align:"stretch"},isCreate:false,bodyPadding:15,scrollable:"y",defaults:{margin:"0 0 0 0"},items:[{xtype:"datefield",fieldLabel:"Tanggal Masuk",labelAlign:"top",margin:"0 1 0 0",format:"d-m-Y",name:"tanggal",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.tanggal}"}},{xtype:"fieldcontainer",fieldLabel:"IGD Suspect",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Laki-laki",name:"igd_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.igd_suspect_l}"}},{fieldLabel:"Perempuan",name:"igd_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.igd_suspect_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"IGD Confirm",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Laki-laki",name:"igd_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.igd_confirm_l}"}},{fieldLabel:"Perempuan",name:"igd_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.igd_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"Rawat Jalan Suspect",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Laki-laki",name:"rj_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.rj_suspect_l}"}},{fieldLabel:"Perempuan",name:"rj_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.rj_suspect_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"Rawat Jalan Confirm",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Laki-laki",name:"rj_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.rj_confirm_l}"}},{fieldLabel:"Perempuan",name:"rj_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.rj_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"Rawat Inap Suspect",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Laki-laki",name:"ri_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.ri_suspect_l}"}},{fieldLabel:"Perempuan",name:"ri_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.ri_suspect_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"Rawat Inap Confirm",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Laki-laki",name:"ri_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.ri_confirm_l}"}},{fieldLabel:"Perempuan",name:"ri_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.ri_confirm_p}"}}]}],onLoadRecord:function(b,c){var a=b.down("[name=tanggal]");a.setReadOnly(!b.isCreate)},buttons:["->",{iconCls:"x-fa fa-save",text:"Simpan",kirim:0,handler:"onSimpan"},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",kirim:1,text:"Simpan & Kirim Data ke RS Online",handler:"onSimpan"}],onBeforeGetRecord:function(b,c){var a=b.down("[name=tanggal]").getValue();if(c.tanggal){c.tanggal=Ext.Date.format(a,"Y-m-d")}}});Ext.define("kemkes.rsonline.data.rekappasien.masuk.FormController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-data-rekappasien-masuk-form",onSimpan:function(c){var d=this,b=d.getView(),a=b.getRecord();if(a){if(c.kirim){a.set("kirim",c.kirim)}b.save(c)}}});Ext.define("kemkes.rsonline.data.rekappasien.masuk.Grid",{extend:"com.Grid",xtype:"kemkes-rsonline-data-rekappasien-masuk-grid",controller:"kemkes-rsonline-data-rekappasien-masuk-grid",viewModel:{stores:{store:{type:"kemkes-rsonline-data-rekappasien-masuk-store"},storeKirim:{type:"kemkes-rsonline-data-rekappasien-masuk-store"}}},ui:"panel-gray",title:"Rekap Data Harian Pasien Masuk",header:{items:[{xtype:"button",ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-cerulen",handler:"onTambah",tooltip:"Pasien Baru",bind:{hidden:"{!listConfig.tambah}"}},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{xtype:"button",ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]},actions:{edit:{iconCls:"x-fa fa-edit",tooltip:"Ubah",handler:"onUbah"}},columns:[{xtype:"datecolumn",text:"Tanggal",dataIndex:"tanggal",format:"d M Y",sortable:false,width:100},{text:"IGD",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"igd_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"igd_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"igd_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"igd_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:1,renderer:"onRenderer"}]},{text:"Rawat Jalan",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"rj_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"rj_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"rj_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"rj_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:2,renderer:"onRenderer"}]},{text:"Rawat Inap",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"ri_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"ri_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"ri_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"ri_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:3,renderer:"onRenderer"}]},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"},{menuDisabled:true,sortable:false,align:"center",xtype:"actioncolumn",text:"#",width:50,items:["@edit"],bind:{hidden:"{!listConfig.edit}"}}],doAfterLoad:function(j,b,g,d){var a=j.getParams().loadFromWs;j.setParams({loadFromWs:0});try{if(!g){if(a!=1){j.removeDataStore()}if(d.error){var f=d.error.response,c=Ext.JSON.decode(f.responseText),h=c.detail?(Ext.isObject(c.detail)?Ext.JSON.encode(c.detail):c.detail):"Koneksi Gagal";j.notifyMessage(j.replaceAll(h,"#","<br/>"),"danger-red")}}}catch(i){j.notifyMessage("Koneksi Gagal","danger-red")}},listeners:{itemdblclick:"onItemDblclick"},initContext:false,onBeforeLoad:function(g,e,a){var d=g.app.xpriv("191901010501",false),b=g.app.xpriv("191901010502",false),f=g.app.xpriv("191901010503",false),c=g.app.xpriv("191901010504",false);g.setListConfig({paging:true,dataOnline:d,tambah:b,edit:f,kirim:c});if(!g.initContext){if(g.setMenuContext){g.setMenuContext([{text:"Edit",iconCls:"x-fa fa-edit",scope:g.getController(),handler:"onMenuEdit"}]);g.initContext=true}}}});Ext.define("kemkes.rsonline.data.rekappasien.masuk.GridController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-data-rekappasien-masuk-grid",onTambah:function(b){var c=this,a=c.getView();this.openWindow(b,true,{tanggal:a.getSysdate()})},onUbah:function(b,e,a,f,c,d){this.openWindow(b,false,d)},onMenuEdit:function(b){var a=this.getView(),c=a.getSelection();if(c.length==0){return}this.openWindow(b,false,c[0])},onItemDblclick:function(d,a,f,b,g,c){this.openWindow(d,false,a)},onRenderer:function(h,f,g,e,d,c,b){if(b.grid.columns[d].itemIndex){var a=b.grid.columns[d].itemIndex;f.tdStyle="background-color: darkgray; color: white; font-weight: bold; font-size: 14px;";if(a==1){return Ext.util.Format.number(g.get("igd_suspect_l")+g.get("igd_suspect_p")+g.get("igd_confirm_l")+g.get("igd_confirm_p"),"0")}if(a==2){return Ext.util.Format.number(g.get("rj_suspect_l")+g.get("rj_suspect_p")+g.get("rj_confirm_l")+g.get("rj_confirm_p"),"0")}if(a==3){return Ext.util.Format.number(g.get("ri_suspect_l")+g.get("ri_suspect_p")+g.get("ri_confirm_l")+g.get("ri_confirm_p"),"0")}}else{f.tdStyle=g.get("kirim")==1?"color: green; font-weight: bold":"";return g.get("kirim")==1?"Proses":"Selesai"}},privates:{openWindow:function(c,b,e){var d=this,a=d.getView();a.openDialog("",true,"75%","75%",{xtype:"kemkes-rsonline-data-rekappasien-masuk-form",ui:"panel-cyan",showCloseButton:true,title:(b?"Tambah":"Ubah")+" Rekap Pasien Masuk",isCreate:b},function(f,g){form=g.down("kemkes-rsonline-data-rekappasien-masuk-form");if(b){form.createRecord(e)}else{form.loadRecord(e)}form.on("save",function(){if(b){g.close()}a.load()});if(b){form.focus("tanggal")}else{form.focus("igd_suspect_l")}})}},loadFromRsOnline:function(b){var a=this.getView();a.setParams({loadFromWs:1});this.onRefresh()},kirimKeRsOnline:function(){var d=this,a=d.getView(),c=d.getViewModel(),b=c.get("storeKirim");if(b){b.setQueryParams({kirim:1});b.load({callback:function(g,f,k){if(k){var e=f.getResponse(),j=Ext.JSON.decode(e.responseText);a.notifyMessage(a.replaceAll(j.detail,"#","<br/>"));a.load()}else{if(f.error){var e=f.error.response,i=Ext.JSON.decode(e.responseText),h=i.detail?(Ext.isObject(i.detail)?Ext.JSON.encode(i.detail):i.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(h,"#","<br/>"),"danger-red")}}}})}},onRefresh:function(){this.getView().reload()}});Ext.define("kemkes.rsonline.data.rekappasien.nonkomorbid.Form",{extend:"com.Form",xtype:"kemkes-rsonline-data-rekappasien-nonkomorbid-form",controller:"kemkes-rsonline-data-rekappasien-nonkomorbid-form",model:"kemkes.rsonline.data.rekappasien.nonkomorbid.Model",layout:{type:"vbox",align:"stretch"},isCreate:false,bodyPadding:15,scrollable:"y",defaults:{labelAlign:"top",labelStyle:"font-weight: bold; font-size: 17px",margin:"0 0 15 0"},items:[{xtype:"datefield",fieldLabel:"Tanggal Dirawat",format:"d-m-Y",name:"tanggal",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.tanggal}"}},{xtype:"fieldcontainer",fieldLabel:"ICU Tekanan Negatif dengan Ventilator",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"icu_tekanan_negatif_dengan_ventilator_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_dengan_ventilator_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"icu_tekanan_negatif_dengan_ventilator_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_dengan_ventilator_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"icu_tekanan_negatif_dengan_ventilator_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_dengan_ventilator_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"icu_tekanan_negatif_dengan_ventilator_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_dengan_ventilator_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"ICU Tekanan Negatif tanpa Ventilator",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"icu_tekanan_negatif_tanpa_ventilator_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_tanpa_ventilator_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"icu_tekanan_negatif_tanpa_ventilator_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_tanpa_ventilator_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"icu_tekanan_negatif_tanpa_ventilator_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_tanpa_ventilator_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"icu_tekanan_negatif_tanpa_ventilator_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tekanan_negatif_tanpa_ventilator_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"ICU Tanpa Tekanan Negatif Dengan Ventilator",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"icu_dengan_ventilator_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_dengan_ventilator_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"icu_dengan_ventilator_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_dengan_ventilator_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"icu_dengan_ventilator_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_dengan_ventilator_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"icu_dengan_ventilator_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_dengan_ventilator_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"ICU Tanpa Tekanan Negatif Tanpa Ventilator",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"icu_tanpa_ventilator_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tanpa_ventilator_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"icu_tanpa_ventilator_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tanpa_ventilator_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"icu_tanpa_ventilator_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tanpa_ventilator_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"icu_tanpa_ventilator_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.icu_tanpa_ventilator_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"Isolasi Tekanan Negatif",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"isolasi_tekanan_negatif_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tekanan_negatif_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"isolasi_tekanan_negatif_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tekanan_negatif_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"isolasi_tekanan_negatif_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tekanan_negatif_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"isolasi_tekanan_negatif_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tekanan_negatif_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"Isolasi Tanpa Tekanan Negatif",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"isolasi_tanpa_tekanan_negatif_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tanpa_tekanan_negatif_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"isolasi_tanpa_tekanan_negatif_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tanpa_tekanan_negatif_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"isolasi_tanpa_tekanan_negatif_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tanpa_tekanan_negatif_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"isolasi_tanpa_tekanan_negatif_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.isolasi_tanpa_tekanan_negatif_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"NICU Khusus Covid",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"nicu_khusus_covid_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nicu_khusus_covid_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"nicu_khusus_covid_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nicu_khusus_covid_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"nicu_khusus_covid_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nicu_khusus_covid_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"nicu_khusus_covid_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nicu_khusus_covid_confirm_p}"}}]},{xtype:"fieldcontainer",fieldLabel:"PICU Khusus Covid",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,minValue:0,maxValue:32768,hideTrigger:true,flex:1},items:[{fieldLabel:"Suspect Laki-laki",name:"picu_khusus_covid_suspect_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.picu_khusus_covid_suspect_l}"}},{fieldLabel:"Suspect Perempuan",name:"picu_khusus_covid_suspect_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.picu_khusus_covid_suspect_p}"}},{fieldLabel:"Confirm Laki-laki",name:"picu_khusus_covid_confirm_l",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.picu_khusus_covid_confirm_l}"}},{fieldLabel:"Confirm Perempuan",name:"picu_khusus_covid_confirm_p",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.picu_khusus_covid_confirm_p}"}}]}],onLoadRecord:function(b,c){var a=b.down("[name=tanggal]");a.setReadOnly(!b.isCreate)},buttons:["->",{iconCls:"x-fa fa-save",text:"Simpan",kirim:0,handler:"onSimpan"},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",kirim:1,text:"Simpan & Kirim Data ke RS Online",handler:"onSimpan"}],onBeforeGetRecord:function(b,c){var a=b.down("[name=tanggal]").getValue();if(c.tanggal){c.tanggal=Ext.Date.format(a,"Y-m-d")}}});Ext.define("kemkes.rsonline.data.rekappasien.nonkomorbid.FormController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-data-rekappasien-nonkomorbid-form",onSimpan:function(c){var d=this,b=d.getView(),a=b.getRecord();if(a){if(c.kirim){a.set("kirim",c.kirim)}b.save(c)}}});Ext.define("kemkes.rsonline.data.rekappasien.nonkomorbid.Grid",{extend:"com.Grid",xtype:"kemkes-rsonline-data-rekappasien-nonkomorbid-grid",controller:"kemkes-rsonline-data-rekappasien-nonkomorbid-grid",viewModel:{stores:{store:{type:"kemkes-rsonline-data-rekappasien-nonkomorbid-store"},storeKirim:{type:"kemkes-rsonline-data-rekappasien-nonkomorbid-store"}}},ui:"panel-gray",title:"Rekap Data Harian Pasien Dirawat Tanpa Komorbid",header:{items:[{xtype:"button",ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-cerulen",handler:"onTambah",tooltip:"Pasien Baru",bind:{hidden:"{!listConfig.tambah}"}},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{xtype:"button",ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]},actions:{edit:{iconCls:"x-fa fa-edit",tooltip:"Ubah",handler:"onUbah"}},columns:[{xtype:"datecolumn",text:"Tanggal",dataIndex:"tanggal",format:"d M Y",sortable:false,width:100},{text:"NICU Khusus Covid",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"nicu_khusus_covid_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"nicu_khusus_covid_suspect_l",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"nicu_khusus_covid_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"nicu_khusus_covid_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:1,renderer:"onRenderer"}]},{text:"PICU Khusus Covid",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"picu_khusus_covid_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"picu_khusus_covid_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"picu_khusus_covid_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"picu_khusus_covid_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:2,renderer:"onRenderer"}]},{text:"ICU Tekanan Negatif dengan Ventilator",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tekanan_negatif_dengan_ventilator_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tekanan_negatif_dengan_ventilator_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tekanan_negatif_dengan_ventilator_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tekanan_negatif_dengan_ventilator_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:3,renderer:"onRenderer"}]},{text:"ICU Tekanan Negatif tanpa Ventilator",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tekanan_negatif_tanpa_ventilator_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tekanan_negatif_tanpa_ventilator_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tekanan_negatif_tanpa_ventilator_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tekanan_negatif_tanpa_ventilator_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:4,renderer:"onRenderer"}]},{text:"ICU Tanpa Tekanan Negatif Dengan Ventilator",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_dengan_ventilator_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_dengan_ventilator_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_dengan_ventilator_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_dengan_ventilator_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:5,renderer:"onRenderer"}]},{text:"ICU Tanpa Tekanan Negatif Tanpa Ventilator",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tanpa_ventilator_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tanpa_ventilator_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"icu_tanpa_ventilator_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"icu_tanpa_ventilator_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:6,renderer:"onRenderer"}]},{text:"Isolasi Tekanan Negatif",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"isolasi_tekanan_negatif_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"isolasi_tekanan_negatif_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"isolasi_tekanan_negatif_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"isolasi_tekanan_negatif_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:7,renderer:"onRenderer"}]},{text:"Isolasi Tanpa Tekanan Negatif",sortable:false,columns:[{text:"Suspect",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"isolasi_tanpa_tekanan_negatif_suspect_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"isolasi_tanpa_tekanan_negatif_suspect_p",format:"###",sortable:false,align:"right",width:100}]},{text:"Confirm",sortable:false,columns:[{xtype:"numbercolumn",text:"L",dataIndex:"isolasi_tanpa_tekanan_negatif_confirm_l",format:"###",sortable:false,align:"right",width:100},{xtype:"numbercolumn",text:"P",dataIndex:"isolasi_tanpa_tekanan_negatif_confirm_p",format:"###",sortable:false,align:"right",width:100}]},{xtype:"numbercolumn",text:"Total",format:"###",sortable:false,align:"right",width:100,itemIndex:8,renderer:"onRenderer"}]},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"},{menuDisabled:true,sortable:false,align:"center",xtype:"actioncolumn",text:"#",width:50,items:["@edit"],bind:{hidden:"{!listConfig.edit}"}}],doAfterLoad:function(j,b,g,d){var a=j.getParams().loadFromWs;j.setParams({loadFromWs:0});try{if(!g){if(a!=1){j.removeDataStore()}if(d.error){var f=d.error.response,c=Ext.JSON.decode(f.responseText),h=c.detail?(Ext.isObject(c.detail)?Ext.JSON.encode(c.detail):c.detail):"Koneksi Gagal";j.notifyMessage(j.replaceAll(h,"#","<br/>"),"danger-red")}}}catch(i){j.notifyMessage("Koneksi Gagal","danger-red")}},listeners:{itemdblclick:"onItemDblclick"},initContext:false,onBeforeLoad:function(g,e,a){var d=g.app.xpriv("191901010601",false),b=g.app.xpriv("191901010602",false),f=g.app.xpriv("191901010603",false),c=g.app.xpriv("191901010604",false);g.setListConfig({paging:true,dataOnline:d,tambah:b,edit:f,kirim:c});if(!g.initContext){if(g.setMenuContext){g.setMenuContext([{text:"Edit",iconCls:"x-fa fa-edit",scope:g.getController(),handler:"onMenuEdit"}]);g.initContext=true}}}});Ext.define("kemkes.rsonline.data.rekappasien.nonkomorbid.GridController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-data-rekappasien-nonkomorbid-grid",onTambah:function(b){var c=this,a=c.getView();this.openWindow(b,true,{tanggal:a.getSysdate()})},onUbah:function(b,e,a,f,c,d){this.openWindow(b,false,d)},onMenuEdit:function(b){var a=this.getView(),c=a.getSelection();if(c.length==0){return}this.openWindow(b,false,c[0])},onItemDblclick:function(d,a,f,b,g,c){this.openWindow(d,false,a)},onRenderer:function(h,f,g,e,d,c,b){if(b.grid.columns[d].itemIndex){var a=b.grid.columns[d].itemIndex;f.tdStyle="background-color: darkgray; color: white; font-weight: bold; font-size: 14px;";if(a==1){return Ext.util.Format.number(g.get("nicu_khusus_covid_suspect_l")+g.get("nicu_khusus_covid_suspect_p")+g.get("nicu_khusus_covid_confirm_l")+g.get("nicu_khusus_covid_confirm_p"),"0")}if(a==2){return Ext.util.Format.number(g.get("picu_khusus_covid_suspect_l")+g.get("picu_khusus_covid_suspect_p")+g.get("picu_khusus_covid_confirm_l")+g.get("picu_khusus_covid_confirm_p"),"0")}if(a==3){return Ext.util.Format.number(g.get("icu_tekanan_negatif_dengan_ventilator_suspect_l")+g.get("icu_tekanan_negatif_dengan_ventilator_suspect_p")+g.get("icu_tekanan_negatif_dengan_ventilator_confirm_l")+g.get("icu_tekanan_negatif_dengan_ventilator_confirm_p"),"0")}if(a==4){return Ext.util.Format.number(g.get("icu_tekanan_negatif_tanpa_ventilator_suspect_l")+g.get("icu_tekanan_negatif_tanpa_ventilator_suspect_p")+g.get("icu_tekanan_negatif_tanpa_ventilator_confirm_l")+g.get("icu_tekanan_negatif_tanpa_ventilator_confirm_p"),"0")}if(a==5){return Ext.util.Format.number(g.get("icu_dengan_ventilator_suspect_l")+g.get("icu_dengan_ventilator_suspect_p")+g.get("icu_dengan_ventilator_confirm_l")+g.get("icu_dengan_ventilator_confirm_p"),"0")}if(a==6){return Ext.util.Format.number(g.get("icu_tanpa_ventilator_suspect_l")+g.get("icu_tanpa_ventilator_suspect_p")+g.get("icu_tanpa_ventilator_confirm_l")+g.get("icu_tanpa_ventilator_confirm_p"),"0")}if(a==7){return Ext.util.Format.number(g.get("isolasi_tekanan_negatif_suspect_l")+g.get("isolasi_tekanan_negatif_suspect_p")+g.get("isolasi_tekanan_negatif_confirm_l")+g.get("isolasi_tekanan_negatif_confirm_p"),"0")}if(a==8){return Ext.util.Format.number(g.get("isolasi_tanpa_tekanan_negatif_suspect_l")+g.get("isolasi_tanpa_tekanan_negatif_suspect_p")+g.get("isolasi_tanpa_tekanan_negatif_confirm_l")+g.get("isolasi_tanpa_tekanan_negatif_confirm_p"),"0")}}else{f.tdStyle=g.get("kirim")==1?"color: green; font-weight: bold":"";return g.get("kirim")==1?"Proses":"Selesai"}},privates:{openWindow:function(c,b,e){var d=this,a=d.getView();a.openDialog("",true,"75%","90%",{xtype:"kemkes-rsonline-data-rekappasien-nonkomorbid-form",ui:"panel-cyan",showCloseButton:true,title:(b?"Tambah":"Ubah")+" Rekap Pasien Dirawat tanpa Komorbid",isCreate:b},function(f,g){form=g.down("kemkes-rsonline-data-rekappasien-nonkomorbid-form");if(b){form.createRecord(e)}else{form.loadRecord(e)}form.on("save",function(){if(b){g.close()}a.load()});if(b){form.focus("tanggal")}else{form.focus("icu_tekanan_negatif_dengan_ventilator_suspect_l")}})}},loadFromRsOnline:function(b){var a=this.getView();a.setParams({loadFromWs:1});this.onRefresh()},kirimKeRsOnline:function(){var d=this,a=d.getView(),c=d.getViewModel(),b=c.get("storeKirim");if(b){b.setQueryParams({kirim:1});b.load({callback:function(g,f,k){if(k){var e=f.getResponse(),j=Ext.JSON.decode(e.responseText);a.notifyMessage(a.replaceAll(j.detail,"#","<br/>"));a.load()}else{if(f.error){var e=f.error.response,i=Ext.JSON.decode(e.responseText),h=i.detail?(Ext.isObject(i.detail)?Ext.JSON.encode(i.detail):i.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(h,"#","<br/>"),"danger-red")}}}})}},onRefresh:function(){this.getView().reload()}});Ext.define("kemkes.rsonline.data.tempattidur.Grid",{extend:"com.Grid",xtype:"kemkes-rsonline-data-tempattidur-grid",controller:"kemkes-rsonline-data-tempattidur-grid",viewModel:{stores:{store:{type:"kemkes-rsonline-data-tempattidur-store",queryParams:{covid:1}},ttStore:{type:"kemkes-rsonline-referensi-tempattidur-store",queryParams:{loadFromWs:1}},storeKirim:{type:"kemkes-rsonline-data-tempattidur-store"}}},plugins:{ptype:"cellediting",clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit"}},actions:{hapus:{iconCls:"x-fa fa-trash",tooltip:"Hapus",handler:"onHapus"}},initComponent:function(){var a=this;a.columns=[{xtype:"templatecolumn",text:"Ruangan / Tempat Tidur (Kelas)",sortable:false,width:330,tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">{[this.getDeskripsi(values)]}</div>',{getDeskripsi:function(b){var c=b.REFERENSI.TempatTidur.nama_tt;return(b.ruang==""?"":b.ruang+" / ")+c}})},{xtype:"numbercolumn",text:"Jumlah Ruangan",dataIndex:"jumlah_ruang",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Kapasitas TT",dataIndex:"jumlah",format:"###",sortable:false,align:"right",width:176,editor:{xtype:"numberfield",minValue:0}},{text:"Terpakai",columns:[{xtype:"numbercolumn",text:"Jumlah",dataIndex:"terpakai",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Suspek",dataIndex:"terpakai_suspek",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Konfirmasi",dataIndex:"terpakai_konfirmasi",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}}]},{text:"Cadangan Persiapan",sortable:false,columns:[{xtype:"numbercolumn",text:"Rencana",dataIndex:"prepare_plan",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}},{xtype:"numbercolumn",text:"Realisasi",dataIndex:"prepare",format:"###",sortable:false,align:"right",width:132,editor:{xtype:"numberfield",minValue:0}}]},{xtype:"numbercolumn",text:"Kosong",format:"###",sortable:false,align:"right",width:132,renderer:"onRendererKosong"},{xtype:"numbercolumn",text:"Antrian",dataIndex:"antrian",format:"###",sortable:false,align:"right",width:176,editor:{xtype:"numberfield",minValue:0}},{xtype:"checkcolumn",text:"Covid",dataIndex:"covid",sortable:false,listeners:{checkchange:"onCheckChange"}},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"},{menuDisabled:true,sortable:false,align:"center",xtype:"actioncolumn",text:"#",width:50,items:["@hapus"],bind:{hidden:"{!listConfig.hapus}"}}];a.callParent(arguments)},dockedItems:[{xtype:"toolbar",items:[{ui:"soft-blue",iconCls:"x-fa fa-refresh",text:"1. Ambil Data Referensi",handler:"loadDataReferensi",bind:{hidden:"{!listConfig.referensi}"}},{ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"2. Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},"->",{xtype:"combo",store:{data:[{ID:-1,DESKRIPSI:"Semua"},{ID:0,DESKRIPSI:"Non Covid"},{ID:1,DESKRIPSI:"Covid"}]},value:"Covid",displayField:"DESKRIPSI",reference:"jenispencarian",valueField:"DESKRIPSI",width:120,editable:false,listeners:{change:"onChange"}},{ui:"soft-blue",iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan",bind:{hidden:"{!listConfig.simpan}"}},{ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{ui:"soft-black",iconCls:"x-fa fa-gear",tooltip:"Pengaturan",handler:"onPengaturan",bind:{hidden:"{!listConfig.pengaturan}"}},{ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]}],doAfterLoad:function(j,b,g,d){var a=j.getParams().loadFromWs;j.setParams({loadFromWs:0});try{if(!g){if(a!=1){j.removeDataStore()}if(d.error){var f=d.error.response,c=Ext.JSON.decode(f.responseText),h=c.detail?(Ext.isObject(c.detail)?Ext.JSON.encode(c.detail):c.detail):"Koneksi Gagal";j.notifyMessage(j.replaceAll(h,"#","<br/>"),"danger-red")}}}catch(i){j.notifyMessage("Koneksi Gagal","danger-red")}},onBeforeLoad:function(g,c,i){var b=g.app.xpriv("191901010201",false),e=g.app.xpriv("191901010202",false),f=g.app.xpriv("191901010203",false),h=g.app.xpriv("191901010204",false),d=g.app.xpriv("191901010205",false),a=g.app.xpriv("191901010206",false);g.setListConfig({referensi:b,dataOnline:e,simpan:f,kirim:h,hapus:d,pengaturan:a})}});Ext.define("kemkes.rsonline.data.tempattidur.GridController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-data-tempattidur-grid",onRendererKosong:function(i,f,g,a,e,c){var d=g.get("jumlah")-g.get("terpakai");return d<0?0:d},loadDataReferensi:function(c){var e=this,a=e.getView(),d=e.getViewModel(),b=d.get("ttStore");if(b){b.load({callback:function(h,g,k){if(k){a.notifyMessage("Data Referensi berhasil di ambil dari RS Online");e.onRefresh()}else{if(g.error){var f=g.error.response,j=Ext.JSON.decode(f.responseText),i=j.detail?(Ext.isObject(j.detail)?Ext.JSON.encode(j.detail):j.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(i,"#","<br/>"),"danger-red")}}}})}},loadFromRsOnline:function(b){var a=this.getView();a.setParams({loadFromWs:1});this.onRefresh()},onChange:function(b,e,c){var a=this.getView(),d=b.getSelection();if(d){if(d.get("ID")==-1){delete a.getStore().queryParams.covid}else{a.setParams({covid:d.get("ID")})}a.load()}},onCheckChange:function(c,g,d,a,f,b){a.set("covid",d?1:0)},onHapus:function(i,j,a,f,c,b){var e=this,h=e.getView(),d=h.getReferensi(b.data,"TempatTidur");desk=(b.get("ruang")==""?"":values.get("ruang")+" / ")+d.nama_tt;h.showMessageBox({title:"Hapus Tempat Tidur",message:"Anda yakin ingin hapus ruangan tempat tidur "+desk+" ?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:i,fn:function(k){if(k==="yes"){var g=h.getStore();g.remove(b);g.sync({callback:function(n,m,l){h.setLoading(false)}})}}})},onSimpan:function(c){var d=this,b=d.getStore("store"),e=b.getModifiedRecords(),a=0;Ext.Array.each(e,function(g){var f=g.clone();delete f.data.REFERENSI;f.save({callback:function(h,i,j){if(j){if(a===(e.length-1)){d.getView().notifyMessage("Data telah disimpan")}}a++}})});d.onRefresh()},kirimKeRsOnline:function(){var d=this,a=d.getView(),c=d.getViewModel(),b=c.get("storeKirim");if(b){b.setQueryParams({kirim:1});b.load({callback:function(g,f,k){if(k){var e=f.getResponse(),j=Ext.JSON.decode(e.responseText);a.notifyMessage(a.replaceAll(j.detail,"#","<br/>"));d.onRefresh()}else{if(f.error){var e=f.error.response,i=Ext.JSON.decode(e.responseText),h=i.detail?(Ext.isObject(i.detail)?Ext.JSON.encode(i.detail):i.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(h,"#","<br/>"),"danger-red")}}}})}},onBeforeEdit:function(d,b){var e=this,c=e.getViewModel(),a=c.get("listConfig");if(!a.simpan){b.cancel=true}},onRefresh:function(){this.getView().reload()},onPengaturan:function(){var b=this,a=b.getView();a.openDialog("",true,"60%","90%",{xtype:"kemkes-rsonline-kamarsimrsonline-grid",ui:"panel-cyan",showCloseButton:true,title:"Mapping Kamar SIMRS & RSOnline"},function(c,e){var d=e.down("kemkes-rsonline-kamarsimrsonline-grid");d.load()})},onRenderer:function(g,e,f,d,c,b,a){e.tdStyle=f.get("kirim")==1?"color: green; font-weight: bold":"";return f.get("kirim")==1?"Proses":"Selesai"}});Ext.define("kemkes.rsonline.diagnosapasien.Grid",{extend:"com.Grid",xtype:"kemkes-rsonline-diagnosapasien-grid",controller:"kemkes-rsonline-diagnosapasien-grid",viewModel:{stores:{store:{type:"kemkes-rsonline-diagnosapasien-store",queryParams:{hapus:0}},storeKirim:{type:"kemkes-rsonline-diagnosapasien-store"}}},header:{items:[{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-cerulen",handler:"onTambahDiagnosa",tooltip:"Diagnosa Baru"}]},initComponent:function(){var a=this;a.icdCombo=Ext.create("rekammedis.icd.Combo",{allowBlank:false,hideTrigger:true,listeners:{select:"onSelectICD"}});a.levelCombo=Ext.create("Ext.form.field.ComboBox",{name:"jenis",store:Ext.create("Ext.data.Store",{fields:["id","name"],data:[{id:1,name:"Utama"},{id:2,name:"Sekunder"}]}),displayField:"name",valueField:"id",editable:false,listeners:{select:"onSelectLevel"}});a.columns=[{text:"Diagnosa ICD 10",dataIndex:"icd",sortable:false,editor:a.icdCombo,renderer:"onRendererICD",flex:1},{xtype:"numbercolumn",text:"Level",dataIndex:"level",format:"###",align:"right",editor:a.levelCombo,renderer:"onRendererLevel"},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Action",width:60,xtype:"widgetcolumn",widget:{xtype:"button",ui:"soft-red",margin:1,iconCls:"x-fa fa-trash",listeners:{click:"onHapus"}},onWidgetAttach:"onWidgetAttach"}];a.callParent(arguments)},plugins:{ptype:"cellediting",clicksToEdit:1,listeners:{beforeedit:"onBeforeEdit"}},doAfterLoad:function(j,b,g,d){var a=j.getParams().loadFromWs;j.setParams({loadFromWs:0});try{if(!g){if(a!=1){j.removeDataStore()}if(d.error){var f=d.error.response,c=Ext.JSON.decode(f.responseText),h=c.detail?(Ext.isObject(c.detail)?Ext.JSON.encode(c.detail):c.detail):"Koneksi Gagal"}}}catch(i){}}});Ext.define("kemkes.rsonline.diagnosapasien.GridController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-diagnosapasien-grid",recordSelected:undefined,loadFromRsOnline:function(b){var a=this.getView();a.setParams({loadFromWs:1});this.onRefresh()},onSimpan:function(d,g){var e=this,c=e.getStore("store"),b=this.getView(),f=c.getModifiedRecords(),a=0;Ext.Array.each(f,function(i){var h=i.crudState=="U"?i.clone():Ext.clone(i);delete h.data.REFERENSI;h.save({callback:function(j,k,m){if(m){if(a===(f.length-1)){var l="Data Diagnosa telah disimpan";e.getView().notifyMessage(l)}}a++}})});e.onRefresh();if(Ext.isFunction(g)){g()}},kirimKeRsOnline:function(){var d=this,a=d.getView(),c=d.getViewModel(),b=c.get("storeKirim");if(b){b.setQueryParams({kirim:1});b.load({callback:function(g,f,k){if(k){var e=f.getResponse(),j=Ext.JSON.decode(e.responseText);a.notifyMessage(a.replaceAll(j.detail,"#","<br/>"))}else{if(f.error){var e=f.error.response,i=Ext.JSON.decode(e.responseText),h=i.detail?(Ext.isObject(i.detail)?Ext.JSON.encode(i.detail):i.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(h,"#","<br/>"),"danger-red")}}}})}},onBeforeEdit:function(d,b){var e=this,c=e.getViewModel(),a=c.get("listConfig");e.recordSelected=b.record},onRendererICD:function(c,i,e,b,f,h,g){var g=this.getView(),d=e.get("REFERENSI"),a=d?d.ICD:null;if(a){return c+" - "+a.STR}return c},onTambahDiagnosa:function(b){var c=this,a=c.getStore("store");a.insert(a.getCount(),Ext.create("kemkes.rsonline.diagnosapasien.Model",{level:a.getCount()>0?2:1}))},onRefresh:function(){this.getView().reload()},onWidgetAttach:function(a,b,c){b.setHidden(Ext.isNumeric(c.get("id")))},onHapus:function(b){var c=this,a=c.getStore("store"),d=b.getWidgetRecord();a.remove(d)},onSelectICD:function(a,b){if(b){if(this.recordSelected){this.recordSelected.set("REFERENSI",{ICD:b.data})}}},onRendererLevel:function(a){return a==1?"Utama":"Sekunder"},onSelectLevel:function(a,b){if(this.isUtamaExists()){a.setValue(2)}},isUtamaExists:function(){var a=this.getStore("store"),b=false;if(a){a.each(function(c){if(c.get("level")==1){b=true}})}return b}});Ext.define("kemkes.rsonline.kamarsimrsonline.Grid",{extend:"com.Grid",xtype:"kemkes-rsonline-kamarsimrsonline-grid",controller:"kemkes-rsonline-kamarsimrsonline-grid",viewModel:{stores:{store:{type:"kemkes-rsonline-kamarsimrsonline-store"}}},plugins:{ptype:"cellediting",clicksToEdit:1},initComponent:function(){var a=this;a.comboTT=Ext.create("kemkes.rsonline.referensi.tempattidur.Combo",{editable:true,firstLoad:true,listeners:{select:"onSelectTT"}});a.columns=[{xtype:"templatecolumn",text:"Ruang Perawatan / Kamar / Kelas",sortable:false,flex:1,tpl:new Ext.XTemplate('<div style="font-size: 12px; white-space:normal !important;">{[this.getDeskripsi(values)]}</div>',{getDeskripsi:function(e){var f=e.REFERENSI.RuangKamar,d=f.REFERENSI.RUANGAN,c=f.REFERENSI.KELAS,b=d.DESKRIPSI+" / "+f.KAMAR+" / "+c.DESKRIPSI;return b}})},{text:"Tempat Tidur",dataIndex:"tempat_tidur",sortable:false,editor:this.comboTT,renderer:"onRendererTT",flex:1},{xtype:"checkcolumn",text:"Ruang Covid?",dataIndex:"covid",sortable:false,listeners:{checkchange:"onCheckChange"}}];a.callParent(arguments)},dockedItems:[{xtype:"toolbar",items:["->",{ui:"soft-blue",iconCls:"x-fa fa-save",tooltip:"Simpan",handler:"onSimpan"},{ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]}],doAfterLoad:function(f,c,i,b){try{if(!i){f.removeDataStore();if(b.error){var a=b.error.response,g=Ext.JSON.decode(a.responseText),d=g.detail?(Ext.isObject(g.detail)?Ext.JSON.encode(g.detail):g.detail):"Koneksi Gagal";f.notifyMessage(f.replaceAll(d,"#","<br/>"),"danger-red")}}}catch(h){f.notifyMessage("Koneksi Gagal","danger-red")}}});Ext.define("kemkes.rsonline.kamarsimrsonline.GridController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-kamarsimrsonline-grid",onRendererTT:function(f,d,e){var a=this.getView(),b=e.get("REFERENSI"),c=b?b.TempatTidur:null;if(c){return c.nama_tt}return f},onSelectTT:function(a,d){var c=this.getView().getSelection();if(d){if(Ext.isArray(c)){if(c.length>0){var b=c[0].get("REFERENSI")||{};b.TempatTidur=d.data;c[0].set("REFERENSI",b)}}}},onCheckChange:function(c,g,d,a,f,b){a.set("covid",d?1:0)},onSimpan:function(c){var d=this,b=d.getStore("store"),e=b.getModifiedRecords(),a=0;Ext.Array.each(e,function(g){var f=g.clone();delete f.data.REFERENSI;f.save({callback:function(h,i,j){if(j){if(a===(e.length-1)){d.getView().notifyMessage("Data telah disimpan")}}a++}})});d.onRefresh()},onRefresh:function(){this.getView().reload()}});Ext.define("kemkes.rsonline.pasien.Form",{extend:"com.Form",xtype:"kemkes-rsonline-pasien-form",controller:"kemkes-rsonline-pasien-form",model:"kemkes.rsonline.pasien.Model",layout:{type:"vbox",align:"stretch"},isCreate:false,bodyPadding:15,scrollable:"y",defaults:{margin:"0 0 0 0"},items:[{xtype:"fieldcontainer",layout:"hbox",defaults:{xtype:"numberfield",labelAlign:"top",margin:"0 1 0 0",allowBlank:false,enforceMaxLength:true,hideTrigger:true},items:[{fieldLabel:"No. RM",name:"nomr",maxLength:10,emptyText:"Nomor Rekam Medis",tooltip:"Tekan Enter untuk mengambil data pasien di SIMRS",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nomr}"},listeners:{specialkey:"onSpesialkeyNorm"}},{fieldLabel:"NIK (Nomor Induk Kependudukan)",name:"noc",width:300,maxLength:16,emptyText:"Nomor Induk Kependudukan",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.noc}"}}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{labelAlign:"top",margin:"0 1 0 0",allowBlank:false},items:[{xtype:"textfield",fieldLabel:"Inisial",name:"initial",emptyText:"Inisial Pasien",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.initial}"}},{xtype:"textfield",fieldLabel:"Nama Lengkap",flex:1,name:"nama_lengkap",emptyText:"Nama Lengkap Pasien",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.nama_lengkap}"}},{xtype:"datefield",fieldLabel:"Tgl. Lahir",format:"d-m-Y",name:"birthdate",emptyText:"Tanggal Lahir",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.birthdate}"}},{xtype:"kemkes-rsonline-referensi-jeniskelamin-combo",fieldLabel:"Jenis Kelamin",name:"gender",emptyText:"Pilih Jenis Kelamin",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.gender}"}}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{labelAlign:"top",margin:"0 1 0 0"},items:[{xtype:"textfield",fieldLabel:"E-mail",name:"email",vtype:"email",maxLength:50,enforceMaxLength:true,flex:1,emptyText:"E-mail",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.email}"}},{xtype:"textfield",fieldLabel:"No. Telp",name:"notelp",maxLength:19,enforceMaxLength:true,emptyText:"No. Telepon/HP",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.notelp}"}},{xtype:"kemkes-rsonline-referensi-wilayah-negara-combo",fieldLabel:"Pilih Kewarganegaraan",name:"kewarganegaraan",width:200,firstLoad:true,emptyText:"Pilih Kewarganegaraan",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.kewarganegaraan}"}}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{labelAlign:"top",margin:"0 1 0 0",flex:1},items:[{xtype:"kemkes-rsonline-referensi-wilayah-propinsi-combo",fieldLabel:"Pilih Propinsi",name:"propinsi",emptyText:"Pilih Propinsi",listeners:{select:"onSelectPropinsi"},bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"kemkes-rsonline-referensi-wilayah-kabupaten-combo",fieldLabel:"Pilih Kabupaten / Kota",name:"kabupaten",emptyText:"Pilih Kabupaten / Kota",listeners:{select:"onSelectKabupaten"},bind:{readOnly:"{formConfig.viewOnly}"}},{xtype:"kemkes-rsonline-referensi-wilayah-kecamatan-combo",fieldLabel:"Pilih kecamatan",name:"kecamatan",emptyText:"Pilih Kecamatan",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.kecamatan}"}}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{labelAlign:"top",margin:"0 1 0 0",flex:1},items:[{xtype:"kemkes-rsonline-referensi-jenispasien-combo",fieldLabel:"Jenis Pasien",name:"jenis_pasien",emptyText:"Pilih Jenis Pasien",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.jenis_pasien}"}},{xtype:"datefield",fieldLabel:"Tgl. Masuk",format:"d-m-Y",name:"tglmasuk",allowBlank:false,emptyText:"Tanggal Masuk",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.tglmasuk}"},listeners:{change:"onChangeTglMasuk"}},{xtype:"datefield",fieldLabel:"Tgl. Lapor",format:"d/m/Y H:i:s",name:"tgl_lapor",allowBlank:false,minimalAddMinuteToMaxValue:15,containFormatTime:true,emptyText:"Tanggal Lapor",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.tgl_lapor}"}},{xtype:"datefield",fieldLabel:"Tgl. Keluar",format:"d-m-Y",name:"tglkeluar",emptyText:"Tanggal Keluar",bind:{readOnly:"{formConfig.viewOnly}"}}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{labelAlign:"top",margin:"0 1 0 0",flex:1},items:[{xtype:"kemkes-rsonline-referensi-sumberpenularan-combo",fieldLabel:"Pilih Sumber Penularan",name:"sumber_penularan",emptyText:"Pilih Sumber Penularan",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.sumber_penularan}"}},{xtype:"kemkes-rsonline-referensi-status-rawat-combo",fieldLabel:"Pilih Status Rawat",name:"status_rawat",emptyText:"Pilih Status Rawat",allowBlank:false,listeners:{select:"onSelectStatusRawat"},bind:{readOnly:"{formConfig.viewOnly}",value:"{record.status_rawat}"}},{xtype:"kemkes-rsonline-referensi-status-isolasi-combo",fieldLabel:"Pilih Status Isolasi",name:"status_isolasi",emptyText:"Pilih Status Isolasi",allowBlank:false,bind:{readOnly:"{formConfig.viewOnly}",value:"{record.status_isolasi}"}},{xtype:"kemkes-rsonline-referensi-status-keluar-combo",fieldLabel:"Pilih Status Keluar",name:"status_keluar",allowBlank:false,emptyText:"Pilih Status Keluar",bind:{readOnly:"{formConfig.viewOnly}",value:"{record.status_keluar}"}}]},{xtype:"textfield",labelAlign:"top",fieldLabel:"Sebab Kematian",name:"sebab_kematian",emptyText:"Sebab Kematian",enforceMaxLength:true,maxLength:500},{xtype:"kemkes-rsonline-diagnosapasien-grid",title:"Diagnosa Pasien",ui:"panel-cyan",margin:{top:10},flex:1}],onLoadRecord:function(l,g){var b=l.down("[name=nomr]"),n=l.down("[name=propinsi]"),d=l.down("[name=kabupaten]"),k=l.down("[name=kecamatan]"),h=l.down("[name=status_isolasi]"),c=l.down("kemkes-rsonline-diagnosapasien-grid"),a=l.down("[name=tgl_lapor]"),f=l.down("[name=hapus]"),j=l.kode.substring(0,2),m=l.kode.substring(0,4),i="";b.setReadOnly(!l.isCreate);f.setHidden(l.isCreate);if(!l.isCreate){if(g){var e=g.get("REFERENSI");i=g.get("kecamatan");if(e.Kabupaten){m=e.Kabupaten.kode}if(e.Propinsi){j=e.Propinsi.prop_kode}}h.getStore().queryParams.id_status_rawat=g.get("status_rawat");h.load();c.setParams({nomr:b.getValue()});c.load()}n.select(j);d.getStore().setQueryParams({propinsi:j});d.select(m);k.getStore().setQueryParams({kabkota:m});k.select(i);n.load();d.load();k.load()},buttons:[{xtype:"checkbox",fieldLabel:"Hapus Data Pasien ini ? ",labelWidth:150,labelStyle:"font-weight: bold; color: red",name:"hapus"},"->",{iconCls:"x-fa fa-save",text:"Simpan",kirim:0,handler:"onSimpan"},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",kirim:1,text:"Simpan & Kirim Data ke RS Online",handler:"onSimpan"}],onBeforeGetRecord:function(d,e){var c=d.down("[name=birthdate]").getValue(),b=d.down("[name=tglmasuk]").getValue(),g=d.down("[name=tgl_lapor]").getValue(),f=d.down("[name=tglkeluar]").getValue(),a=d.down("[name=hapus]");if(e.birthdate){e.birthdate=Ext.Date.format(c,"Y-m-d")}if(e.tglmasuk){e.tglmasuk=Ext.Date.format(b,"Y-m-d")}if(e.tgl_lapor){e.tgl_lapor=Ext.Date.format(g,"Y-m-d H:i:s")}if(e.tglkeluar){e.tglkeluar=Ext.Date.format(f,"Y-m-d")}e.hapus=a.getValue()?1:0}});Ext.define("kemkes.rsonline.pasien.FormController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-pasien-form",findFirst:true,onSelectPropinsi:function(c,e){var a=this.getView();if(e){var d=a.down("[name=kabupaten]"),b=a.down("[name=kecamatan]");d.select("");b.select("");d.getStore().removeAll();d.getStore().setQueryParams({propinsi:e.get("prop_kode")});if(a.kode.substring(0,2)==e.get("prop_kode")){d.select(a.kode.substring(0,4))}d.load()}},onSelectKabupaten:function(c,d){var a=this.getView();if(d){var b=a.down("[name=kecamatan]");b.select("");b.getStore().removeAll();b.getStore().setQueryParams({kabkota:d.get("kode")});b.load()}},onSelectStatusRawat:function(c,d){var b=this.getView();if(d){var a=b.down("[name=status_isolasi]");a.getStore().queryParams.id_status_rawat=d.get("id_status_rawat");a.load()}},onChangeTglMasuk:function(b,c){var a=this.getView().down("[name=jenis_pasien]").getSelection();if(a){if(a.get("jenis_pasien")!=3){this.getView().down("[name=tglkeluar]").setValue(c)}}},onSpesialkeyNorm:function(a,b){if(a.getValue()==""||a.getValue()==null){return}if(b.getKey()==b.ENTER){this.cari(a.getValue())}},onSimpan:function(c){var d=this,b=d.getView(),a=b.getRecord();if(a){if(c.kirim){a.set("kirim",c.kirim)}if(a.get("hapus")==1){b.showMessageBox({title:"Hapus Data Pasien",message:"Anda yakin ingin hapus data pasien ini ?",ui:"window-warning",buttons:Ext.Msg.YESNO,icon:Ext.Msg.QUESTION,defaultButton:"no",animateTarget:c,fn:function(e){if(e=="yes"){d.simpan(c,true)}}})}else{d.simpan(c,false)}}},privates:{simpan:function(d,b){var e=this,a=e.getView(),c=a.down("kemkes-rsonline-diagnosapasien-grid"),f=c.getController();a.save(d,{},function(i,g,h){if(h){c.getStore().each(function(j){j.set("nomr",i.get("nomr"));j.set("hapus",b?1:0);j.set("kirim",d.kirim)});f.onSimpan(d,function(){a.fireEvent("simpan",b)})}})},cari:function(c){var e=this,a=e.getView(),d=e.getViewModel(),b=Ext.create("data.model.Pasien",{NORM:c});a.setLoading(true);b.load({callback:function(m,k,r){if(r){var s=m.get("GELAR_DEPAN")||"",f=m.get("GELAR_BELAKANG")||"",g=m.get("NAMA"),h=g.split(" "),q="",l=m.get("JENIS_KELAMIN"),o=m.get("TANGGAL_LAHIR"),p="",j="",n="";s=s==""?"":s+". ";f=f==""?"":", "+f;g=s+g+f;Ext.Array.forEach(h,function(u,t){q+=u.substring(0,1)});if(m.get("KARTUIDENTITAS")){Ext.Array.forEach(m.get("KARTUIDENTITAS"),function(t){if(t.JENIS==1){p=t.NOMOR}})}if(m.get("KONTAK")){Ext.Array.forEach(m.get("KONTAK"),function(t){if(t.JENIS==3){j=t.NOMOR}if(t.JENIS==6){n=t.NOMOR}})}if(!e.findFirst){a.createRecord({nomr:c,noc:p,initial:q,nama_lengkap:g,gender:l,birthdate:o,notelp:j,email:n})}else{var i=d.get("record");i.set("initial",q);i.set("nama_lengkap",g);i.set("birthdate",o);i.set("gender",l);i.set("noc",p);i.set("notelp",j);i.set("email",n)}e.findFirst=false;a.focus("jenis_pasien")}else{a.notifyMessage("Pasien dengan No. RM: "+c+" tidak ditemukan")}a.setLoading(false)}})}}});Ext.define("kemkes.rsonline.pasien.Grid",{extend:"com.Grid",xtype:"kemkes-rsonline-pasien-grid",controller:"kemkes-rsonline-pasien-grid",viewModel:{stores:{store:{type:"kemkes-rsonline-pasien-store",queryParams:{hapus:0}},storeKirim:{type:"kemkes-rsonline-pasien-store"}}},header:{items:[{xtype:"button",ui:"soft-cyan",iconCls:"x-fa fa-refresh",text:"Ambil Data dari RS Online",handler:"loadFromRsOnline",bind:{hidden:"{!listConfig.dataOnline}"}},{xtype:"search-field",emptyText:"Cari No. RM / NIK / Nama Pasien",flex:1,listeners:{search:"onSearch",clear:"onClear",change:"onChange"}},{xtype:"button",iconCls:"x-fa fa-plus",ui:"soft-cerulen",handler:"onTambah",tooltip:"Pasien Baru",bind:{hidden:"{!listConfig.tambah}"}},{xtype:"button",ui:"soft-green",iconCls:"x-fa fa-send",text:"Kirim Data ke RS Online",tooltip:"Kirm data ke RS Online jika sudah melakukan perubahan dan penyimpanan data",handler:"kirimKeRsOnline",bind:{hidden:"{!listConfig.kirim}"}},{xtype:"button",ui:"soft-black",iconCls:"x-fa fa-refresh",tooltip:"Refresh",handler:"onRefresh"}]},actions:{edit:{iconCls:"x-fa fa-edit",tooltip:"Ubah Pasien",handler:"onUbah"}},columns:[{xtype:"rownumberer",text:"No",menuDisabled:true,sortable:false,align:"left",width:70},{text:"No. RM",menuDisabled:true,sortable:false,dataIndex:"nomr",align:"center",width:80},{text:"NIK",menuDisabled:true,sortable:false,dataIndex:"noc",align:"center",width:140},{text:"Inisial",menuDisabled:true,sortable:false,dataIndex:"initial",align:"center",width:60},{text:"Jenis Kelamin",xtype:"templatecolumn",menuDisabled:true,sortable:false,tpl:"{REFERENSI.Gender.gender}"},{text:"Tanggal",menuDisabled:true,columns:[{xtype:"datecolumn",text:"Lahir",menuDisabled:true,format:"d-m-Y",sortable:false,align:"center",dataIndex:"birthdate",width:100},{xtype:"datecolumn",text:"Masuk",menuDisabled:true,format:"d-m-Y",sortable:false,align:"center",dataIndex:"tglmasuk",width:100},{xtype:"datecolumn",text:"Keluar",menuDisabled:true,format:"d-m-Y",sortable:false,align:"center",dataIndex:"tglkeluar",width:100},{xtype:"datecolumn",text:"Lapor",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_lapor",width:137}]},{text:"Status",menuDisabled:true,sortable:false,flex:1,columns:[{text:"Status Rawat",xtype:"templatecolumn",menuDisabled:true,sortable:false,tpl:"{REFERENSI.StatusRawat.status}",flex:1},{text:"Status Keluar",xtype:"templatecolumn",menuDisabled:true,sortable:false,tpl:"{REFERENSI.StatusKeluar.status}",flex:1}]},{xtype:"datecolumn",text:"Tgl. Kirim",menuDisabled:true,format:"d-m-Y H:i:s",sortable:false,align:"center",dataIndex:"tgl_kirim",width:137},{text:"Kirim",sortable:false,align:"center",width:72,renderer:"onRenderer"},{menuDisabled:true,sortable:false,align:"center",xtype:"actioncolumn",width:50,items:["@edit"],bind:{hidden:"{!listConfig.edit}"}}],doAfterLoad:function(j,b,g,d){var a=j.getParams().loadFromWs;j.setParams({loadFromWs:0});try{if(!g){if(a!=1){j.removeDataStore()}if(d.error){var f=d.error.response,c=Ext.JSON.decode(f.responseText),h=c.detail?(Ext.isObject(c.detail)?Ext.JSON.encode(c.detail):c.detail):"Koneksi Gagal";j.notifyMessage(j.replaceAll(h,"#","<br/>"),"danger-red")}}}catch(i){j.notifyMessage("Koneksi Gagal","danger-red")}},cari:function(b){var a=this.down("search-field");a.setValue(b);a.fireEvent("search",a,b)},onBeforeLoad:function(g,e,a){var d=g.app.xpriv("191901010101",false),b=g.app.xpriv("191901010102",false),f=g.app.xpriv("191901010103",false),c=g.app.xpriv("191901010104",false);g.setListConfig({dataOnline:d,tambah:b,edit:f,kirim:c})}});Ext.define("kemkes.rsonline.pasien.GridController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-pasien-grid",query:"",onSearch:function(a,b){this.query=b;this.cari()},onClear:function(){this.query="";this.cari()},onChange:function(c,e){var d=this,a=d.getView(),b=a.down("search-field");if(e==""){b.onClearClick()}},onTambah:function(b){var c=this,a=c.getView();this.openWindow(b,true,{tgl_lapor:a.getSysdate()})},onUbah:function(b,e,a,f,c,d){this.openWindow(b,false,d)},onRenderer:function(g,e,f,d,c,b,a){e.tdStyle=f.get("kirim")==1?"color: green; font-weight: bold":"";return f.get("kirim")==1?"Proses":"Selesai"},privates:{cari:function(){var c=this,a=c.getView(),b=a.down("pagingtoolbar");if(c.query==""){delete a.getStore().queryParams.query}else{a.setParams({query:c.query})}if(b){b.moveFirst()}else{a.load()}},openWindow:function(c,b,e){var d=this,a=d.getView();a.openDialog("",true,0,0,{xtype:"kemkes-rsonline-pasien-form",ui:"panel-cyan",showCloseButton:true,title:(b?"Tambah":"Ubah")+" Pasien",isCreate:b},function(f,g){form=g.down("kemkes-rsonline-pasien-form");if(b){form.createRecord(e)}else{form.loadRecord(e)}form.on("simpan",function(h){if(b||h){g.close();d.cari()}});form.focus("nomr")})}},loadFromRsOnline:function(b){var a=this.getView();a.setParams({loadFromWs:1});this.onRefresh()},kirimKeRsOnline:function(){var d=this,a=d.getView(),c=d.getViewModel(),b=c.get("storeKirim");if(b){b.setQueryParams({kirim:1});b.load({callback:function(g,f,k){if(k){var e=f.getResponse(),j=Ext.JSON.decode(e.responseText);a.notifyMessage(a.replaceAll(j.detail,"#","<br/>"))}else{if(f.error){var e=f.error.response,i=Ext.JSON.decode(e.responseText),h=i.detail?(Ext.isObject(i.detail)?Ext.JSON.encode(i.detail):i.detail):"Koneksi Gagal";a.notifyMessage(a.replaceAll(h,"#","<br/>"),"danger-red")}}}})}},onRefresh:function(){this.getView().reload()}});Ext.define("kemkes.rsonline.pasien.Workspace",{extend:"com.Form",xtype:"kemkes-rsonline-pasien-workspace",controller:"kemkes-rsonline-pasien-workspace",bodyPadding:0,border:false,layout:"border",items:[{region:"center",xtype:"kemkes-rsonline-pasien-grid",ui:"panel-blue",title:"Pasien RS Online"}],load:function(){var b=this,a=b.down("kemkes-rsonline-pasien-grid");a.setGridConfig({paging:true});a.load()}});Ext.define("kemkes.rsonline.pasien.WorkspaceController",{extend:"Ext.app.ViewController",alias:"controller.kemkes-rsonline-pasien-workspace"});Ext.define("kemkes.rsonline.referensi.jeniskelamin.Combo",{extend:"com.Combo",alias:"widget.kemkes-rsonline-referensi-jeniskelamin-combo",viewModel:{stores:{store:{type:"kemkes-rsonline-referensi-jeniskelamin-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Jenis Kelamin dari RSOnline",reference:"search",cls:Ext.baseCSSPrefix+"x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"gender",valueField:"id_gender",firstLoad:true,emptyText:"[Pilih Jenis Kelamin]",onSearchClick:function(){var b=this,a=b.getStore();if(a){a.queryParams.loadFromWs=1;b.load()}},doAfterLoad:function(c,b,a,e){var d=a.getQueryParams();if(e){if(d.loadFromWs){Ext.toast({html:"Data Referensi Jenis Kelamin berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}a.queryParams.loadFromWs=0}});Ext.define("kemkes.rsonline.referensi.jenispasien.Combo",{extend:"com.Combo",alias:"widget.kemkes-rsonline-referensi-jenispasien-combo",viewModel:{stores:{store:{type:"kemkes-rsonline-referensi-jenispasien-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Jenis Pasien dari RSOnline",reference:"search",cls:Ext.baseCSSPrefix+"x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"deskripsi",valueField:"id_jenis_pasien",firstLoad:true,emptyText:"[Pilih Jenis Pasien]",onSearchClick:function(){var b=this,a=b.getStore();if(a){a.queryParams.loadFromWs=1;b.load()}},doAfterLoad:function(c,b,a,e){var d=a.getQueryParams();if(e){if(d.loadFromWs){Ext.toast({html:"Data Referensi Jenis Pasien berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}a.queryParams.loadFromWs=0}});Ext.define("kemkes.rsonline.referensi.status.isolasi.Combo",{extend:"com.Combo",alias:"widget.kemkes-rsonline-referensi-status-isolasi-combo",viewModel:{stores:{store:{type:"kemkes-rsonline-referensi-status-isolasi-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Status Isolasi dari RSOnline",reference:"search",cls:Ext.baseCSSPrefix+"x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"status_isolasi",valueField:"id_isolasi",emptyText:"[Pilih Status Isolasi]",onSearchClick:function(){var b=this,a=b.getStore();if(a){a.queryParams.loadFromWs=1;b.load()}},doAfterLoad:function(c,b,a,e){var d=a.getQueryParams();if(e){if(d.loadFromWs){Ext.toast({html:"Data Referensi Status Isolasi berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}a.queryParams.loadFromWs=0}});Ext.define("kemkes.rsonline.referensi.status.keluar.Combo",{extend:"com.Combo",alias:"widget.kemkes-rsonline-referensi-status-keluar-combo",viewModel:{stores:{store:{type:"kemkes-rsonline-referensi-status-keluar-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Status Keluar dari RSOnline",reference:"search",cls:Ext.baseCSSPrefix+"x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"status",valueField:"id_status",firstLoad:true,emptyText:"[Pilih Status Keluar]",onSearchClick:function(){var b=this,a=b.getStore();if(a){a.queryParams.loadFromWs=1;b.load()}},doAfterLoad:function(c,b,a,e){var d=a.getQueryParams();if(e){if(d.loadFromWs){Ext.toast({html:"Data Referensi Status Keluar berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}a.queryParams.loadFromWs=0}});Ext.define("kemkes.rsonline.referensi.status.rawat.Combo",{extend:"com.Combo",alias:"widget.kemkes-rsonline-referensi-status-rawat-combo",viewModel:{stores:{store:{type:"kemkes-rsonline-referensi-status-rawat-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Status Rawat dari RSOnline",reference:"search",cls:Ext.baseCSSPrefix+"x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"status",valueField:"id_status_rawat",firstLoad:true,emptyText:"[Pilih Status Rawat]",onSearchClick:function(){var b=this,a=b.getStore();if(a){a.queryParams.loadFromWs=1;b.load()}},doAfterLoad:function(c,b,a,e){var d=a.getQueryParams();if(e){if(d.loadFromWs){Ext.toast({html:"Data Referensi Status Rawat berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}a.queryParams.loadFromWs=0}});Ext.define("kemkes.rsonline.referensi.sumberpenularan.Combo",{extend:"com.Combo",alias:"widget.kemkes-rsonline-referensi-sumberpenularan-combo",viewModel:{stores:{store:{type:"kemkes-rsonline-referensi-sumberpenularan-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Sumber Penularan dari RSOnline",reference:"search",cls:Ext.baseCSSPrefix+"x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"sources",valueField:"id_source",firstLoad:true,emptyText:"[Pilih Sumber Penularan]",onSearchClick:function(){var b=this,a=b.getStore();if(a){a.queryParams.loadFromWs=1;b.load()}},doAfterLoad:function(c,b,a,e){var d=a.getQueryParams();if(e){if(d.loadFromWs){Ext.toast({html:"Data Referensi Sumber Penularan berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}a.queryParams.loadFromWs=0}});Ext.define("kemkes.rsonline.referensi.tempattidur.Combo",{extend:"com.Combo",alias:"widget.kemkes-rsonline-referensi-tempattidur-combo",viewModel:{stores:{store:{type:"kemkes-rsonline-referensi-tempattidur-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Tempat Tidur dari RSOnline",reference:"search",cls:Ext.baseCSSPrefix+"x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"nama_tt",valueField:"kode_tt",firstLoad:true,emptyText:"[Pilih Tempat Tidur]",onSearchClick:function(){var b=this,a=b.getStore();if(a){a.queryParams.loadFromWs=1;b.load()}},doAfterLoad:function(c,b,a,e){var d=a.getQueryParams();if(e){if(d.loadFromWs){Ext.toast({html:"Data Referensi Tempat Tidur berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}a.queryParams.loadFromWs=0}});Ext.define("kemkes.rsonline.referensi.wilayah.kabupaten.Combo",{extend:"com.Combo",alias:"widget.kemkes-rsonline-referensi-wilayah-kabupaten-combo",viewModel:{stores:{store:{type:"kemkes-rsonline-referensi-wilayah-kabupaten-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Kabupaten / Kota dari RSOnline",reference:"search",cls:Ext.baseCSSPrefix+"x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"nama",valueField:"kode",emptyText:"[Pilih Kabupaten]",onSearchClick:function(){var b=this,a=b.getStore();if(a){a.queryParams.loadFromWs=1;b.load()}},doAfterLoad:function(c,b,a,e){var d=a.getQueryParams();if(e){if(d.loadFromWs){Ext.toast({html:"Data Referensi Kabupaten / Kota berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}a.queryParams.loadFromWs=0}});Ext.define("kemkes.rsonline.referensi.wilayah.kecamatan.Combo",{extend:"com.Combo",alias:"widget.kemkes-rsonline-referensi-wilayah-kecamatan-combo",viewModel:{stores:{store:{type:"kemkes-rsonline-referensi-wilayah-kecamatan-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Kecamatan dari RSOnline",reference:"search",cls:Ext.baseCSSPrefix+"x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"nama",valueField:"kode",emptyText:"[Pilih Kecamatan]",onSearchClick:function(){var b=this,a=b.getStore();if(a){a.queryParams.loadFromWs=1;b.load()}},doAfterLoad:function(c,b,a,e){var d=a.getQueryParams();if(e){if(d.loadFromWs){Ext.toast({html:"Data Referensi Kecamatan berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}a.queryParams.loadFromWs=0}});Ext.define("kemkes.rsonline.referensi.wilayah.negara.Combo",{extend:"com.Combo",alias:"widget.kemkes-rsonline-referensi-wilayah-negara-combo",viewModel:{stores:{store:{type:"kemkes-rsonline-referensi-wilayah-negara-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Negara dari RSOnline",reference:"search",cls:Ext.baseCSSPrefix+"x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"nationality",valueField:"id_nation",emptyText:"[Pilih Negara]",onSearchClick:function(){var b=this,a=b.getStore();if(a){a.queryParams.loadFromWs=1;b.load()}},doAfterLoad:function(c,b,a,e){var d=a.getQueryParams();if(e){if(d.loadFromWs){Ext.toast({html:"Data Referensi Negara berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}a.queryParams.loadFromWs=0}});Ext.define("kemkes.rsonline.referensi.wilayah.propinsi.Combo",{extend:"com.Combo",alias:"widget.kemkes-rsonline-referensi-wilayah-propinsi-combo",viewModel:{stores:{store:{type:"kemkes-rsonline-referensi-wilayah-propinsi-store"}}},triggers:{search:{weight:1,tooltip:"Ambil Data Referensi Propinsi dari RSOnline",reference:"search",cls:Ext.baseCSSPrefix+"x-fa fa-download",handler:"onSearchClick",scope:"this"}},displayField:"propinsi_name",valueField:"prop_kode",emptyText:"[Pilih Propinsi]",onSearchClick:function(){var b=this,a=b.getStore();if(a){a.queryParams.loadFromWs=1;b.load()}},doAfterLoad:function(c,b,a,e){var d=a.getQueryParams();if(e){if(d.loadFromWs){Ext.toast({html:"Data Referensi Propinsi berhasil diambil dari RSOnline",headerPosition:"left",style:"padding: 0px 0px 0px 4px",border:false,header:{width:13},ui:"danger-blue",align:"t"})}}a.queryParams.loadFromWs=0}});